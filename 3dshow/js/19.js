(window.webpackJsonp = window.webpackJsonp || []).push([[19], {
    190: function(t, n, e) {
        "use strict";
        var o, r = e(19), i = (o = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, n) {
            t.__proto__ = n
        }
        || function(t, n) {
            for (var e in n)
                n.hasOwnProperty(e) && (t[e] = n[e])
        }
        ,
        function(t, n) {
            function e() {
                this.constructor = t
            }
            o(t, n),
            t.prototype = null === n ? Object.create(n) : (e.prototype = n.prototype,
            new e)
        }
        ), a = function(t) {
            function n(n, e) {
                var o = t.call(this) || this;
                return o.fromSweep = e,
                o.toSweep = n,
                o.timestamp = Date.now(),
                o
            }
            return i(n, t),
            n
        }(r.a);
        n.a = a
    },
    193: function(t, n, e) {
        "use strict";
        var o, r = e(190), i = (o = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, n) {
            t.__proto__ = n
        }
        || function(t, n) {
            for (var e in n)
                n.hasOwnProperty(e) && (t[e] = n[e])
        }
        ,
        function(t, n) {
            function e() {
                this.constructor = t
            }
            o(t, n),
            t.prototype = null === n ? Object.create(n) : (e.prototype = n.prototype,
            new e)
        }
        ), a = function(t) {
            function n() {
                return null !== t && t.apply(this, arguments) || this
            }
            return i(n, t),
            n
        }(r.a);
        n.a = a
    },
    198: function(t, n, e) {
        "use strict";
        e.d(n, "a", function() {
            return a
        });
        var o, r = e(19), i = (o = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, n) {
            t.__proto__ = n
        }
        || function(t, n) {
            for (var e in n)
                n.hasOwnProperty(e) && (t[e] = n[e])
        }
        ,
        function(t, n) {
            function e() {
                this.constructor = t
            }
            o(t, n),
            t.prototype = null === n ? Object.create(n) : (e.prototype = n.prototype,
            new e)
        }
        ), a = function(t) {
            function n(n, e) {
                var o = t.call(this) || this;
                return o.key = n,
                o.state = e,
                o
            }
            return i(n, t),
            n
        }(r.a)
    },
    199: function(t, n, e) {
        "use strict";
        var o;
        e.d(n, "a", function() {
            return o
        }),
        function(t) {
            t[t.ZERO = 48] = "ZERO",
            t[t.ONE = 49] = "ONE",
            t[t.TWO = 50] = "TWO",
            t[t.THREE = 51] = "THREE",
            t[t.FOUR = 52] = "FOUR",
            t[t.FIVE = 53] = "FIVE",
            t[t.SIX = 54] = "SIX",
            t[t.SEVEN = 55] = "SEVEN",
            t[t.EIGHT = 56] = "EIGHT",
            t[t.NINE = 57] = "NINE",
            t[t.LEFTARROW = 37] = "LEFTARROW",
            t[t.UPARROW = 38] = "UPARROW",
            t[t.RIGHTARROW = 39] = "RIGHTARROW",
            t[t.DOWNARROW = 40] = "DOWNARROW",
            t[t.A = 65] = "A",
            t[t.B = 66] = "B",
            t[t.C = 67] = "C",
            t[t.D = 68] = "D",
            t[t.E = 69] = "E",
            t[t.F = 70] = "F",
            t[t.G = 71] = "G",
            t[t.H = 72] = "H",
            t[t.I = 73] = "I",
            t[t.J = 74] = "J",
            t[t.K = 75] = "K",
            t[t.L = 76] = "L",
            t[t.M = 77] = "M",
            t[t.N = 78] = "N",
            t[t.O = 79] = "O",
            t[t.P = 80] = "P",
            t[t.Q = 81] = "Q",
            t[t.R = 82] = "R",
            t[t.S = 83] = "S",
            t[t.T = 84] = "T",
            t[t.U = 85] = "U",
            t[t.V = 86] = "V",
            t[t.W = 87] = "W",
            t[t.X = 88] = "X",
            t[t.Y = 89] = "Y",
            t[t.Z = 90] = "Z",
            t[t.SPACE = 32] = "SPACE",
            t[t.RETURN = 13] = "RETURN",
            t[t.SEMICOLON = 186] = "SEMICOLON",
            t[t.PLUSEQUALS = 187] = "PLUSEQUALS",
            t[t.DASHUNDERSCORE = 189] = "DASHUNDERSCORE",
            t[t.OPENBRACKET = 219] = "OPENBRACKET"
        }(o = o || (o = {}))
    },
    201: function(t, n, e) {
        "use strict";
        var o;
        e.d(n, "a", function() {
            return o
        }),
        function(t) {
            t[t.Down = 0] = "Down",
            t[t.Pressed = 1] = "Pressed",
            t[t.Up = 2] = "Up"
        }(o = o || (o = {}))
    },
    208: function(t, n, e) {
        "use strict";
        e.d(n, "a", function() {
            return a
        });
        var o, r = e(19), i = (o = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, n) {
            t.__proto__ = n
        }
        || function(t, n) {
            for (var e in n)
                n.hasOwnProperty(e) && (t[e] = n[e])
        }
        ,
        function(t, n) {
            function e() {
                this.constructor = t
            }
            o(t, n),
            t.prototype = null === n ? Object.create(n) : (e.prototype = n.prototype,
            new e)
        }
        ), a = function(t) {
            function n() {
                return null !== t && t.apply(this, arguments) || this
            }
            return i(n, t),
            n
        }(r.a)
    },
    212: function(t, n, e) {
        "use strict";
        e.d(n, "a", function() {
            return a
        });
        var o, r = e(19), i = (o = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, n) {
            t.__proto__ = n
        }
        || function(t, n) {
            for (var e in n)
                n.hasOwnProperty(e) && (t[e] = n[e])
        }
        ,
        function(t, n) {
            function e() {
                this.constructor = t
            }
            o(t, n),
            t.prototype = null === n ? Object.create(n) : (e.prototype = n.prototype,
            new e)
        }
        ), a = function(t) {
            function n(n, e) {
                var o = t.call(this) || this;
                return o.position = n,
                o.delta = e,
                o
            }
            return i(n, t),
            n
        }(r.a)
    },
    224: function(t, n, e) {
        "use strict";
        e.d(n, "a", function() {
            return r
        }),
        e.d(n, "d", function() {
            return i
        }),
        e.d(n, "c", function() {
            return a
        }),
        e.d(n, "b", function() {
            return c
        });
        var o = e(7)
          , r = {
            fov: 75,
            near: .1,
            far: 1e3
        }
          , i = function(t) {
            return (new o.a).makePerspective(r.fov, t, r.near, r.far)
        }
          , a = function(t, n, e) {
            void 0 === e && (e = 1);
            var i = t / 2
              , a = n / 2
              , c = (new o.a).makeOrthographic(-i, i, a, -a, r.near, r.far);
            return c.elements[0] *= e,
            c.elements[5] *= e,
            c
        }
          , c = function(t) {
            return 1 === t.elements[15]
        }
    },
    232: function(t, n, e) {
        "use strict";
        e.d(n, "b", function() {
            return a
        }),
        e.d(n, "a", function() {
            return c
        });
        var o, r = e(208), i = (o = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, n) {
            t.__proto__ = n
        }
        || function(t, n) {
            for (var e in n)
                n.hasOwnProperty(e) && (t[e] = n[e])
        }
        ,
        function(t, n) {
            function e() {
                this.constructor = t
            }
            o(t, n),
            t.prototype = null === n ? Object.create(n) : (e.prototype = n.prototype,
            new e)
        }
        ), a = function(t) {
            function n(n) {
                var e = t.call(this) || this;
                return e.pinchDelta = n,
                e
            }
            return i(n, t),
            n
        }(r.a), c = function(t) {
            function n(n, e) {
                var o = t.call(this, n) || this;
                return o.timeSinceLastMove = e,
                o
            }
            return i(n, t),
            n
        }(a)
    },
    292: function(t, n, e) {
        "use strict";
        var o, r = e(19), i = (o = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, n) {
            t.__proto__ = n
        }
        || function(t, n) {
            for (var e in n)
                n.hasOwnProperty(e) && (t[e] = n[e])
        }
        ,
        function(t, n) {
            function e() {
                this.constructor = t
            }
            o(t, n),
            t.prototype = null === n ? Object.create(n) : (e.prototype = n.prototype,
            new e)
        }
        ), a = function(t) {
            function n(n) {
                var e = t.call(this) || this;
                return e.zoomLevel = n,
                e
            }
            return i(n, t),
            n
        }(r.a);
        n.a = a
    },
    679: function(t, n, e) {
        "use strict";
        e.r(n);
        var o, r = e(0), i = e(212), a = e(232), c = e(198), u = e(199), s = e(201), f = e(224), p = e(69), l = e(6), h = e(65), y = e(193), d = e(7), b = e(5), w = e(9), O = .05, _ = .9, v = 2, m = 3, E = 1.1, R = e(4), P = e(292), g = (o = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, n) {
            t.__proto__ = n
        }
        || function(t, n) {
            for (var e in n)
                n.hasOwnProperty(e) && (t[e] = n[e])
        }
        ,
        function(t, n) {
            function e() {
                this.constructor = t
            }
            o(t, n),
            t.prototype = null === n ? Object.create(n) : (e.prototype = n.prototype,
            new e)
        }
        ), S = function(t, n, e, o) {
            return new (e || (e = Promise))(function(r, i) {
                function a(t) {
                    try {
                        u(o.next(t))
                    } catch (t) {
                        i(t)
                    }
                }
                function c(t) {
                    try {
                        u(o.throw(t))
                    } catch (t) {
                        i(t)
                    }
                }
                function u(t) {
                    t.done ? r(t.value) : new e(function(n) {
                        n(t.value)
                    }
                    ).then(a, c)
                }
                u((o = o.apply(t, n || [])).next())
            }
            )
        }, T = function(t, n) {
            var e, o, r, i, a = {
                label: 0,
                sent: function() {
                    if (1 & r[0])
                        throw r[1];
                    return r[1]
                },
                trys: [],
                ops: []
            };
            return i = {
                next: c(0),
                throw: c(1),
                return: c(2)
            },
            "function" == typeof Symbol && (i[Symbol.iterator] = function() {
                return this
            }
            ),
            i;
            function c(i) {
                return function(c) {
                    return function(i) {
                        if (e)
                            throw new TypeError("Generator is already executing.");
                        for (; a; )
                            try {
                                if (e = 1,
                                o && (r = o[2 & i[0] ? "return" : i[0] ? "throw" : "next"]) && !(r = r.call(o, i[1])).done)
                                    return r;
                                switch (o = 0,
                                r && (i = [0, r.value]),
                                i[0]) {
                                case 0:
                                case 1:
                                    r = i;
                                    break;
                                case 4:
                                    return a.label++,
                                    {
                                        value: i[1],
                                        done: !1
                                    };
                                case 5:
                                    a.label++,
                                    o = i[1],
                                    i = [0];
                                    continue;
                                case 7:
                                    i = a.ops.pop(),
                                    a.trys.pop();
                                    continue;
                                default:
                                    if (!(r = (r = a.trys).length > 0 && r[r.length - 1]) && (6 === i[0] || 2 === i[0])) {
                                        a = 0;
                                        continue
                                    }
                                    if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {
                                        a.label = i[1];
                                        break
                                    }
                                    if (6 === i[0] && a.label < r[1]) {
                                        a.label = r[1],
                                        r = i;
                                        break
                                    }
                                    if (r && a.label < r[2]) {
                                        a.label = r[2],
                                        a.ops.push(i);
                                        break
                                    }
                                    r[2] && a.ops.pop(),
                                    a.trys.pop();
                                    continue
                                }
                                i = n.call(t, a)
                            } catch (t) {
                                i = [6, t],
                                o = 0
                            } finally {
                                e = r = 0
                            }
                        if (5 & i[0])
                            throw i[1];
                        return {
                            value: i[0] ? i[1] : void 0,
                            done: !0
                        }
                    }([i, c])
                }
            }
        }, D = new R.a("Showcase Zoom Controls"), A = function(t) {
            function n() {
                var n = null !== t && t.apply(this, arguments) || this;
                return n.name = "zoom-controls",
                n.uhQuality = {},
                n.config = {
                    enabled: !0
                },
                n
            }
            return g(n, t),
            n.prototype.init = function(t, n) {
                return S(this, void 0, void 0, function() {
                    var e;
                    return T(this, function(o) {
                        switch (o.label) {
                        case 0:
                            return t.hasOwnProperty("enabled") && (this.config.enabled = t.enabled),
                            this.config.enabled ? (e = this,
                            [4, n.getModule(r.Ca)]) : [3, 2];
                        case 1:
                            return e.sweepTilingModule = o.sent(),
                            this.enableZooming(n),
                            [3, 3];
                        case 2:
                            D.debug("Disabling zoom controls"),
                            o.label = 3;
                        case 3:
                            return [2]
                        }
                    })
                })
            }
            ,
            n.prototype.enableZooming = function(t) {
                return S(this, void 0, void 0, function() {
                    var n, e, o, u = this;
                    return T(this, function(s) {
                        switch (s.label) {
                        case 0:
                            return this.config.enabled ? (this.engine = t,
                            n = this,
                            [4, t.getModule(r.b)]) : [2];
                        case 1:
                            return n.cameraModule = s.sent(),
                            e = this,
                            [4, t.market.waitForData(p.a)];
                        case 2:
                            return e.viewmodeData = s.sent(),
                            o = this,
                            [4, t.market.waitForData(h.a)];
                        case 3:
                            return o.sweepData = s.sent(),
                            t.subscribe(i.a, function(t) {
                                return u.zoomBy(u.scrollToZoomDelta(t))
                            }),
                            t.subscribe(a.b, function(t) {
                                return u.zoomBy(u.pinchToZoomDelta(t))
                            }),
                            t.subscribe(c.a, function(t) {
                                return u.keyHandler(t)
                            }),
                            t.subscribe(y.a, function() {
                                return u.sweepTilingModule.enableZooming(!1)
                            }),
                            [2]
                        }
                    })
                })
            }
            ,
            n.prototype.zoomTo = function(t) {
                var n = this;
                if (this.validateViewmode() && this.config.enabled) {
                    this.engine.broadcast(new P.a(t));
                    var e = this.cameraModule.getData()
                      , o = e.zoom()
                      , r = this.sweepData.currentSweep
                      , i = function(t, n) {
                        this.sweepTilingModule.resetPano(t, n),
                        this.zoomedSweep = n ? t : void 0
                    }
                    .bind(this);
                    t >= E && this.zoomedSweep !== r ? (this.sweepTilingModule.enableZooming(!0, r),
                    i(r, !0),
                    this.uhQuality[r] = !1
                    //检测是否4k图存在 如果存在开始加载4k图，但是我没有生成4k图
                    /*this.sweepTilingModule.enableUltraHigh(function() {
                        a = m,
                        n.uhQuality[r] = !0,
                        i(r, !0)
                    })*/) : t < E && this.zoomedSweep === r && (this.sweepTilingModule.enableZooming(!1, r),
                    i(r, !1));
                    var a = this.uhQuality[r] ? m : v;
                    if ((t = Object(w.d)(t, _, a)) !== o) {
                        var c = b.a.radToDeg(e.baseFovY / t)
                          , u = f.a.near
                          , s = f.a.far;
                        this.cameraModule.updateCameraProjection((new d.a).makePerspective(c, e.aspect(), u, s))
                    }
                }
            }
            ,
            n.prototype.zoomBy = function(t) {
                if (this.validateViewmode() && this.config.enabled) {
                    var n = this.cameraModule.getData().zoom();
                    this.zoomTo(n + t)
                }
            }
            ,
            n.prototype.validateViewmode = function() {
                return this.viewmodeData.currentMode === l.a.Panorama && this.cameraModule.canMove()
            }
            ,
            n.prototype.scrollToZoomDelta = function(t) {
                return -Math.sign(t.delta.y) * O
            }
            ,
            n.prototype.pinchToZoomDelta = function(t) {
                return t.pinchDelta * (v - _)
            }
            ,
            n.prototype.keyHandler = function(t) {
                if (t.state === s.a.Down)
                    switch (t.key) {
                    case u.a.PLUSEQUALS:
                        this.zoomBy(O);
                        break;
                    case u.a.DASHUNDERSCORE:
                        this.zoomBy(-O);
                        break;
                    case u.a.OPENBRACKET:
                        this.zoomTo(1)
                    }
            }
            ,
            n
        }(r.Ra);
        n.default = A
    }
}]);

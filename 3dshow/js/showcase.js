var functions = [
    function(t, e, n) {
    "use strict";
    n.d(e, "K", function() {
        return a
    }),
    n.d(e, "d", function() {
        return u
    }),
    n.d(e, "a", function() {
        return c
    }),
    n.d(e, "z", function() {
        return h
    }),
    n.d(e, "n", function() {
        return l
    }),
    n.d(e, "o", function() {
        return i
    }),
    n.d(e, "H", function() {
        return p
    }),
    n.d(e, "c", function() {
        return d
    }),
    n.d(e, "A", function() {
        return y
    }),
    n.d(e, "T", function() {
        return m
    }),
    n.d(e, "b", function() {
        return v
    }),
    n.d(e, "Ja", function() {
        return f
    }),
    n.d(e, "Sa", function() {
        return g
    }),
    n.d(e, "Z", function() {
        return b
    }),
    n.d(e, "Oa", function() {
        return _
    }),
    n.d(e, "Aa", function() {
        return w
    }),
    n.d(e, "Ca", function() {
        return E
    }),
    n.d(e, "Ba", function() {
        return x
    }),
    n.d(e, "X", function() {
        return O
    }),
    n.d(e, "G", function() {
        return P
    }),
    n.d(e, "R", function() {
        return S
    }),
    n.d(e, "I", function() {
        return R
    }),
    n.d(e, "u", function() {
        return M
    }),
    n.d(e, "w", function() {
        return L
    }),
    n.d(e, "v", function() {
        return I
    }),
    n.d(e, "Na", function() {
        return A
    }),
    n.d(e, "l", function() {
        return T
    }),
    n.d(e, "Ka", function() {
        return k
    }),
    n.d(e, "q", function() {
        return C
    }),
    n.d(e, "t", function() {
        return N
    }),
    n.d(e, "r", function() {
        return D
    }),
    n.d(e, "e", function() {
        return z
    }),
    n.d(e, "M", function() {
        return j
    }),
    n.d(e, "Ta", function() {
        return H
    }),
    n.d(e, "x", function() {
        return B
    }),
    n.d(e, "Fa", function() {
        return U
    }),
    n.d(e, "m", function() {
        return F
    }),
    n.d(e, "p", function() {
        return V
    }),
    n.d(e, "Ra", function() {
        return q
    }),
    n.d(e, "i", function() {
        return G
    }),
    n.d(e, "j", function() {
        return K
    }),
    n.d(e, "h", function() {
        return W
    }),
    n.d(e, "y", function() {
        return X
    }),
    n.d(e, "D", function() {
        return Y
    }),
    n.d(e, "Ha", function() {
        return Z
    }),
    n.d(e, "E", function() {
        return Q
    }),
    n.d(e, "C", function() {
        return $
    }),
    n.d(e, "W", function() {
        return J
    }),
    n.d(e, "V", function() {
        return tt
    }),
    n.d(e, "L", function() {
        return et
    }),
    n.d(e, "Da", function() {
        return nt
    }),
    n.d(e, "Ia", function() {
        return rt
    }),
    n.d(e, "P", function() {
        return it
    }),
    n.d(e, "Qa", function() {
        return ot
    }),
    n.d(e, "Q", function() {
        return st
    }),
    n.d(e, "O", function() {
        return at
    }),
    n.d(e, "N", function() {
        return ut
    }),
    n.d(e, "Ea", function() {
        return ct
    }),
    n.d(e, "S", function() {
        return ht
    }),
    n.d(e, "Pa", function() {
        return lt
    }),
    n.d(e, "Ga", function() {
        return ft
    }),
    n.d(e, "B", function() {
        return pt
    }),
    n.d(e, "k", function() {
        return dt
    }),
    n.d(e, "La", function() {
        return yt
    }),
    n.d(e, "f", function() {
        return mt
    }),
    n.d(e, "F", function() {
        return vt
    }),
    n.d(e, "U", function() {
        return gt
    }),
    n.d(e, "J", function() {
        return bt
    }),
    n.d(e, "Ma", function() {
        return _t
    }),
    n.d(e, "g", function() {
        return wt
    }),
    n.d(e, "Y", function() {
        return Et
    }),
    n.d(e, "s", function() {
        return xt
    });
    var r, i, o = n(2), s = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a), u = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a), c = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a), h = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a), l = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a);
    !function(t) {
        t[t.UNSUPPORTED = 1] = "UNSUPPORTED",
        t[t.WEBGL = 2] = "WEBGL",
        t[t.GENERIC = 3] = "GENERIC"
    }(i = i || (i = {}));
    var f, p = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a), d = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a), y = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a), m = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a), v = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a);
    !function(t) {
        t[t.Instant = 0] = "Instant",
        t[t.FadeToBlack = 1] = "FadeToBlack",
        t[t.Interpolate = 2] = "Interpolate"
    }(f = f || (f = {}));
    var g = "Transition time"
      , b = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , _ = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , w = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , E = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(w)
      , x = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(w)
      , O = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , P = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , S = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , R = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , M = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , L = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , I = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , A = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , T = 1e3
      , k = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , C = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , N = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , D = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , z = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , j = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , H = "Rotation speed"
      , B = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , U = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , F = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , V = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , q = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , G = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , K = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , W = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , X = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , Y = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , Z = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , Q = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , $ = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , J = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , tt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , et = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , nt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , rt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , it = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , ot = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , st = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , at = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , ut = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , ct = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , ht = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , lt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , ft = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , pt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , dt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , yt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , mt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , vt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , gt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , bt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , _t = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , wt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , Et = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
      , xt = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return s(e, t),
        e
    }(o.a)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return l
    });
    var r, i, o, s, a, u = n(5), c = n(7), h = n(3);
    function l(t, e, n) {
        this.x = t || 0,
        this.y = e || 0,
        this.z = n || 0
    }
    l.prototype = {
        constructor: l,
        isVector3: !0,
        set: function(t, e, n) {
            return this.x = t,
            this.y = e,
            this.z = n,
            this
        },
        setScalar: function(t) {
            return this.x = t,
            this.y = t,
            this.z = t,
            this
        },
        setX: function(t) {
            return this.x = t,
            this
        },
        setY: function(t) {
            return this.y = t,
            this
        },
        setZ: function(t) {
            return this.z = t,
            this
        },
        setComponent: function(t, e) {
            switch (t) {
            case 0:
                this.x = e;
                break;
            case 1:
                this.y = e;
                break;
            case 2:
                this.z = e;
                break;
            default:
                throw new Error("index is out of range: " + t)
            }
        },
        getComponent: function(t) {
            switch (t) {
            case 0:
                return this.x;
            case 1:
                return this.y;
            case 2:
                return this.z;
            default:
                throw new Error("index is out of range: " + t)
            }
        },
        clone: function() {
            return new this.constructor(this.x,this.y,this.z)
        },
        copy: function(t) {
            return this.x = t.x,
            this.y = t.y,
            this.z = t.z,
            this
        },
        add: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
            this.addVectors(t, e)) : (this.x += t.x,
            this.y += t.y,
            this.z += t.z,
            this)
        },
        addScalar: function(t) {
            return this.x += t,
            this.y += t,
            this.z += t,
            this
        },
        addVectors: function(t, e) {
            return this.x = t.x + e.x,
            this.y = t.y + e.y,
            this.z = t.z + e.z,
            this
        },
        addScaledVector: function(t, e) {
            return this.x += t.x * e,
            this.y += t.y * e,
            this.z += t.z * e,
            this
        },
        sub: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
            this.subVectors(t, e)) : (this.x -= t.x,
            this.y -= t.y,
            this.z -= t.z,
            this)
        },
        subScalar: function(t) {
            return this.x -= t,
            this.y -= t,
            this.z -= t,
            this
        },
        subVectors: function(t, e) {
            return this.x = t.x - e.x,
            this.y = t.y - e.y,
            this.z = t.z - e.z,
            this
        },
        multiply: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),
            this.multiplyVectors(t, e)) : (this.x *= t.x,
            this.y *= t.y,
            this.z *= t.z,
            this)
        },
        multiplyScalar: function(t) {
            return isFinite(t) ? (this.x *= t,
            this.y *= t,
            this.z *= t) : (this.x = 0,
            this.y = 0,
            this.z = 0),
            this
        },
        multiplyVectors: function(t, e) {
            return this.x = t.x * e.x,
            this.y = t.y * e.y,
            this.z = t.z * e.z,
            this
        },
        applyEuler: function(t) {
            return !1 === (t && t.isEuler) && console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),
            void 0 === a && (a = new h.a),
            this.applyQuaternion(a.setFromEuler(t))
        },
        applyAxisAngle: function() {
            var t;
            return function(e, n) {
                return void 0 === t && (t = new h.a),
                this.applyQuaternion(t.setFromAxisAngle(e, n))
            }
        }(),
        applyMatrix3: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = t.elements;
            return this.x = i[0] * e + i[3] * n + i[6] * r,
            this.y = i[1] * e + i[4] * n + i[7] * r,
            this.z = i[2] * e + i[5] * n + i[8] * r,
            this
        },
        applyMatrix4: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = t.elements;
            return this.x = i[0] * e + i[4] * n + i[8] * r + i[12],
            this.y = i[1] * e + i[5] * n + i[9] * r + i[13],
            this.z = i[2] * e + i[6] * n + i[10] * r + i[14],
            this
        },
        applyProjection: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = t.elements
              , o = 1 / (i[3] * e + i[7] * n + i[11] * r + i[15]);
            return this.x = (i[0] * e + i[4] * n + i[8] * r + i[12]) * o,
            this.y = (i[1] * e + i[5] * n + i[9] * r + i[13]) * o,
            this.z = (i[2] * e + i[6] * n + i[10] * r + i[14]) * o,
            this
        },
        applyQuaternion: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = t.x
              , o = t.y
              , s = t.z
              , a = t.w
              , u = a * e + o * r - s * n
              , c = a * n + s * e - i * r
              , h = a * r + i * n - o * e
              , l = -i * e - o * n - s * r;
            return this.x = u * a + l * -i + c * -s - h * -o,
            this.y = c * a + l * -o + h * -i - u * -s,
            this.z = h * a + l * -s + u * -o - c * -i,
            this
        },
        project: function(t) {
            return void 0 === s && (s = new c.a),
            s.multiplyMatrices(t.projectionMatrix, s.getInverse(t.matrixWorld)),
            this.applyProjection(s)
        },
        unproject: function() {
            var t;
            return function(e) {
                return void 0 === t && (t = new c.a),
                t.multiplyMatrices(e.matrixWorld, t.getInverse(e.projectionMatrix)),
                this.applyProjection(t)
            }
        }(),
        transformDirection: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = t.elements;
            return this.x = i[0] * e + i[4] * n + i[8] * r,
            this.y = i[1] * e + i[5] * n + i[9] * r,
            this.z = i[2] * e + i[6] * n + i[10] * r,
            this.normalize()
        },
        divide: function(t) {
            return this.x /= t.x,
            this.y /= t.y,
            this.z /= t.z,
            this
        },
        divideScalar: function(t) {
            return this.multiplyScalar(1 / t)
        },
        min: function(t) {
            return this.x = Math.min(this.x, t.x),
            this.y = Math.min(this.y, t.y),
            this.z = Math.min(this.z, t.z),
            this
        },
        max: function(t) {
            return this.x = Math.max(this.x, t.x),
            this.y = Math.max(this.y, t.y),
            this.z = Math.max(this.z, t.z),
            this
        },
        clamp: function(t, e) {
            return this.x = Math.max(t.x, Math.min(e.x, this.x)),
            this.y = Math.max(t.y, Math.min(e.y, this.y)),
            this.z = Math.max(t.z, Math.min(e.z, this.z)),
            this
        },
        clampScalar: function(t, e) {
            return void 0 === i && (i = new l,
            o = new l),
            i.set(t, t, t),
            o.set(e, e, e),
            this.clamp(i, o)
        },
        clampLength: function(t, e) {
            var n = this.length();
            return this.multiplyScalar(Math.max(t, Math.min(e, n)) / n)
        },
        floor: function() {
            return this.x = Math.floor(this.x),
            this.y = Math.floor(this.y),
            this.z = Math.floor(this.z),
            this
        },
        ceil: function() {
            return this.x = Math.ceil(this.x),
            this.y = Math.ceil(this.y),
            this.z = Math.ceil(this.z),
            this
        },
        round: function() {
            return this.x = Math.round(this.x),
            this.y = Math.round(this.y),
            this.z = Math.round(this.z),
            this
        },
        roundToZero: function() {
            return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x),
            this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y),
            this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z),
            this
        },
        negate: function() {
            return this.x = -this.x,
            this.y = -this.y,
            this.z = -this.z,
            this
        },
        dot: function(t) {
            return this.x * t.x + this.y * t.y + this.z * t.z
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y + this.z * this.z
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
        },
        lengthManhattan: function() {
            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
        },
        normalize: function() {
            return this.divideScalar(this.length())
        },
        setLength: function(t) {
            return this.multiplyScalar(t / this.length())
        },
        lerp: function(t, e) {
            return this.x += (t.x - this.x) * e,
            this.y += (t.y - this.y) * e,
            this.z += (t.z - this.z) * e,
            this
        },
        lerpVectors: function(t, e, n) {
            return this.subVectors(e, t).multiplyScalar(n).add(t)
        },
        cross: function(t, e) {
            if (void 0 !== e)
                return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),
                this.crossVectors(t, e);
            var n = this.x
              , r = this.y
              , i = this.z;
            return this.x = r * t.z - i * t.y,
            this.y = i * t.x - n * t.z,
            this.z = n * t.y - r * t.x,
            this
        },
        crossVectors: function(t, e) {
            var n = t.x
              , r = t.y
              , i = t.z
              , o = e.x
              , s = e.y
              , a = e.z;
            return this.x = r * a - i * s,
            this.y = i * o - n * a,
            this.z = n * s - r * o,
            this
        },
        projectOnVector: function(t) {
            var e = t.dot(this) / t.lengthSq();
            return this.copy(t).multiplyScalar(e)
        },
        projectOnPlane: function(t) {
            return void 0 === r && (r = new l),
            r.copy(this).projectOnVector(t),
            this.sub(r)
        },
        reflect: function() {
            var t;
            return function(e) {
                return void 0 === t && (t = new l),
                this.sub(t.copy(e).multiplyScalar(2 * this.dot(e)))
            }
        }(),
        angleTo: function(t) {
            var e = this.dot(t) / Math.sqrt(this.lengthSq() * t.lengthSq());
            return Math.acos(u.a.clamp(e, -1, 1))
        },
        distanceTo: function(t) {
            return Math.sqrt(this.distanceToSquared(t))
        },
        distanceToSquared: function(t) {
            var e = this.x - t.x
              , n = this.y - t.y
              , r = this.z - t.z;
            return e * e + n * n + r * r
        },
        distanceToManhattan: function(t) {
            return Math.abs(this.x - t.x) + Math.abs(this.y - t.y) + Math.abs(this.z - t.z)
        },
        setFromSpherical: function(t) {
            var e = Math.sin(t.phi) * t.radius;
            return this.x = e * Math.sin(t.theta),
            this.y = Math.cos(t.phi) * t.radius,
            this.z = e * Math.cos(t.theta),
            this
        },
        setFromMatrixPosition: function(t) {
            return this.setFromMatrixColumn(t, 3)
        },
        setFromMatrixScale: function(t) {
            var e = this.setFromMatrixColumn(t, 0).length()
              , n = this.setFromMatrixColumn(t, 1).length()
              , r = this.setFromMatrixColumn(t, 2).length();
            return this.x = e,
            this.y = n,
            this.z = r,
            this
        },
        setFromMatrixColumn: function(t, e) {
            if ("number" == typeof t) {
                console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");
                var n = t;
                t = e,
                e = n
            }
            return this.fromArray(t.elements, 4 * e)
        },
        equals: function(t) {
            return t.x === this.x && t.y === this.y && t.z === this.z
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0),
            this.x = t[e],
            this.y = t[e + 1],
            this.z = t[e + 2],
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this.x,
            t[e + 1] = this.y,
            t[e + 2] = this.z,
            t
        },
        fromAttribute: function(t, e, n) {
            return void 0 === n && (n = 0),
            e = e * t.itemSize + n,
            this.x = t.array[e],
            this.y = t.array[e + 1],
            this.z = t.array[e + 2],
            this
        }
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    });
    var r = n(4)
      , i = function() {
        function t() {
            this.log = new r.a("module")
        }
        return t.prototype.init = function(t, e) {}
        ,
        t.prototype.onUpdate = function(t) {}
        ,
        t.prototype.dispose = function(t) {}
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return s
    });
    var r, i, o = n(1);
    function s(t, e, n, r) {
        this._x = t || 0,
        this._y = e || 0,
        this._z = n || 0,
        this._w = void 0 !== r ? r : 1
    }
    s.prototype = {
        constructor: s,
        get x() {
            return this._x
        },
        set x(t) {
            this._x = t,
            this.onChangeCallback()
        },
        get y() {
            return this._y
        },
        set y(t) {
            this._y = t,
            this.onChangeCallback()
        },
        get z() {
            return this._z
        },
        set z(t) {
            this._z = t,
            this.onChangeCallback()
        },
        get w() {
            return this._w
        },
        set w(t) {
            this._w = t,
            this.onChangeCallback()
        },
        set: function(t, e, n, r) {
            return this._x = t,
            this._y = e,
            this._z = n,
            this._w = r,
            this.onChangeCallback(),
            this
        },
        clone: function() {
            return new this.constructor(this._x,this._y,this._z,this._w)
        },
        copy: function(t) {
            return this._x = t.x,
            this._y = t.y,
            this._z = t.z,
            this._w = t.w,
            this.onChangeCallback(),
            this
        },
        setFromEuler: function(t, e) {
            if (!1 === (t && t.isEuler))
                throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
            var n = Math.cos(t._x / 2)
              , r = Math.cos(t._y / 2)
              , i = Math.cos(t._z / 2)
              , o = Math.sin(t._x / 2)
              , s = Math.sin(t._y / 2)
              , a = Math.sin(t._z / 2)
              , u = t.order;
            return "XYZ" === u ? (this._x = o * r * i + n * s * a,
            this._y = n * s * i - o * r * a,
            this._z = n * r * a + o * s * i,
            this._w = n * r * i - o * s * a) : "YXZ" === u ? (this._x = o * r * i + n * s * a,
            this._y = n * s * i - o * r * a,
            this._z = n * r * a - o * s * i,
            this._w = n * r * i + o * s * a) : "ZXY" === u ? (this._x = o * r * i - n * s * a,
            this._y = n * s * i + o * r * a,
            this._z = n * r * a + o * s * i,
            this._w = n * r * i - o * s * a) : "ZYX" === u ? (this._x = o * r * i - n * s * a,
            this._y = n * s * i + o * r * a,
            this._z = n * r * a - o * s * i,
            this._w = n * r * i + o * s * a) : "YZX" === u ? (this._x = o * r * i + n * s * a,
            this._y = n * s * i + o * r * a,
            this._z = n * r * a - o * s * i,
            this._w = n * r * i - o * s * a) : "XZY" === u && (this._x = o * r * i - n * s * a,
            this._y = n * s * i - o * r * a,
            this._z = n * r * a + o * s * i,
            this._w = n * r * i + o * s * a),
            !1 !== e && this.onChangeCallback(),
            this
        },
        setFromAxisAngle: function(t, e) {
            var n = e / 2
              , r = Math.sin(n);
            return this._x = t.x * r,
            this._y = t.y * r,
            this._z = t.z * r,
            this._w = Math.cos(n),
            this.onChangeCallback(),
            this
        },
        setFromRotationMatrix: function(t) {
            var e, n = t.elements, r = n[0], i = n[4], o = n[8], s = n[1], a = n[5], u = n[9], c = n[2], h = n[6], l = n[10], f = r + a + l;
            return f > 0 ? (e = .5 / Math.sqrt(f + 1),
            this._w = .25 / e,
            this._x = (h - u) * e,
            this._y = (o - c) * e,
            this._z = (s - i) * e) : r > a && r > l ? (e = 2 * Math.sqrt(1 + r - a - l),
            this._w = (h - u) / e,
            this._x = .25 * e,
            this._y = (i + s) / e,
            this._z = (o + c) / e) : a > l ? (e = 2 * Math.sqrt(1 + a - r - l),
            this._w = (o - c) / e,
            this._x = (i + s) / e,
            this._y = .25 * e,
            this._z = (u + h) / e) : (e = 2 * Math.sqrt(1 + l - r - a),
            this._w = (s - i) / e,
            this._x = (o + c) / e,
            this._y = (u + h) / e,
            this._z = .25 * e),
            this.onChangeCallback(),
            this
        },
        setFromUnitVectors: function(t, e) {
            return void 0 === r && (r = new o.a),
            (i = t.dot(e) + 1) < 1e-6 ? (i = 0,
            Math.abs(t.x) > Math.abs(t.z) ? r.set(-t.y, t.x, 0) : r.set(0, -t.z, t.y)) : r.crossVectors(t, e),
            this._x = r.x,
            this._y = r.y,
            this._z = r.z,
            this._w = i,
            this.normalize()
        },
        inverse: function() {
            return this.conjugate().normalize()
        },
        conjugate: function() {
            return this._x *= -1,
            this._y *= -1,
            this._z *= -1,
            this.onChangeCallback(),
            this
        },
        dot: function(t) {
            return this._x * t._x + this._y * t._y + this._z * t._z + this._w * t._w
        },
        lengthSq: function() {
            return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
        },
        length: function() {
            return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
        },
        normalize: function() {
            var t = this.length();
            return 0 === t ? (this._x = 0,
            this._y = 0,
            this._z = 0,
            this._w = 1) : (t = 1 / t,
            this._x = this._x * t,
            this._y = this._y * t,
            this._z = this._z * t,
            this._w = this._w * t),
            this.onChangeCallback(),
            this
        },
        multiply: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),
            this.multiplyQuaternions(t, e)) : this.multiplyQuaternions(this, t)
        },
        premultiply: function(t) {
            return this.multiplyQuaternions(t, this)
        },
        multiplyQuaternions: function(t, e) {
            var n = t._x
              , r = t._y
              , i = t._z
              , o = t._w
              , s = e._x
              , a = e._y
              , u = e._z
              , c = e._w;
            return this._x = n * c + o * s + r * u - i * a,
            this._y = r * c + o * a + i * s - n * u,
            this._z = i * c + o * u + n * a - r * s,
            this._w = o * c - n * s - r * a - i * u,
            this.onChangeCallback(),
            this
        },
        slerp: function(t, e) {
            if (0 === e)
                return this;
            if (1 === e)
                return this.copy(t);
            var n = this._x
              , r = this._y
              , i = this._z
              , o = this._w
              , s = o * t._w + n * t._x + r * t._y + i * t._z;
            if (s < 0 ? (this._w = -t._w,
            this._x = -t._x,
            this._y = -t._y,
            this._z = -t._z,
            s = -s) : this.copy(t),
            s >= 1)
                return this._w = o,
                this._x = n,
                this._y = r,
                this._z = i,
                this;
            var a = Math.sqrt(1 - s * s);
            if (Math.abs(a) < .001)
                return this._w = .5 * (o + this._w),
                this._x = .5 * (n + this._x),
                this._y = .5 * (r + this._y),
                this._z = .5 * (i + this._z),
                this;
            var u = Math.atan2(a, s)
              , c = Math.sin((1 - e) * u) / a
              , h = Math.sin(e * u) / a;
            return this._w = o * c + this._w * h,
            this._x = n * c + this._x * h,
            this._y = r * c + this._y * h,
            this._z = i * c + this._z * h,
            this.onChangeCallback(),
            this
        },
        equals: function(t) {
            return t._x === this._x && t._y === this._y && t._z === this._z && t._w === this._w
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0),
            this._x = t[e],
            this._y = t[e + 1],
            this._z = t[e + 2],
            this._w = t[e + 3],
            this.onChangeCallback(),
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this._x,
            t[e + 1] = this._y,
            t[e + 2] = this._z,
            t[e + 3] = this._w,
            t
        },
        onChange: function(t) {
            return this.onChangeCallback = t,
            this
        },
        onChangeCallback: function() {}
    },
    Object.assign(s, {
        slerp: function(t, e, n, r) {
            return n.copy(t).slerp(e, r)
        },
        slerpFlat: function(t, e, n, r, i, o, s) {
            var a = n[r + 0]
              , u = n[r + 1]
              , c = n[r + 2]
              , h = n[r + 3]
              , l = i[o + 0]
              , f = i[o + 1]
              , p = i[o + 2]
              , d = i[o + 3];
            if (h !== d || a !== l || u !== f || c !== p) {
                var y = 1 - s
                  , m = a * l + u * f + c * p + h * d
                  , v = m >= 0 ? 1 : -1
                  , g = 1 - m * m;
                if (g > Number.EPSILON) {
                    var b = Math.sqrt(g)
                      , _ = Math.atan2(b, m * v);
                    y = Math.sin(y * _) / b,
                    s = Math.sin(s * _) / b
                }
                var w = s * v;
                if (a = a * y + l * w,
                u = u * y + f * w,
                c = c * y + p * w,
                h = h * y + d * w,
                y === 1 - s) {
                    var E = 1 / Math.sqrt(a * a + u * u + c * c + h * h);
                    a *= E,
                    u *= E,
                    c *= E,
                    h *= E
                }
            }
            t[e] = a,
            t[e + 1] = u,
            t[e + 2] = c,
            t[e + 3] = h
        }
    })
}
, function(t, e, n) {
    "use strict";
    var r, i = window.navigationStart || Date.now();
    !function(t) {
        t[t.ERROR = 0] = "ERROR",
        t[t.WARN = 1] = "WARN",
        t[t.INFO = 2] = "INFO",
        t[t.DEBUG = 3] = "DEBUG"
    }(r || (r = {}));
    var o = function() {
        function t(t) {
            this.timers = {},
            this.handlers = ((e = {})[r.DEBUG] = console.log,
            e[r.INFO] = console.info,
            e[r.WARN] = console.warn,
            e[r.ERROR] = console.error,
            e),
            this.addPrefix = function(t) {
                var e = (Date.now() - i) / 1e3 + "s";
                return [this.prefix, e].concat(Array.prototype.slice.call(t))
            }
            ;
            var e, n = t.split(new RegExp("/|\\\\"));
            this.prefix = "[" + n[n.length - 1].replace(".js", "") + "]"
        }
        return t.prototype.message = function(e, n) {
            t.level >= e && console && (this.handlers[e] ? this.handlers[e] : console.log).apply(console, this.addPrefix(n))
        }
        ,
        t.prototype.debug = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            this.message(r.DEBUG, t)
        }
        ,
        t.prototype.info = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            this.message(r.INFO, t)
        }
        ,
        t.prototype.warn = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            this.message(r.WARN, t)
        }
        ,
        t.prototype.error = function() {
            for (var t = [], e = 0; e < arguments.length; e++)
                t[e] = arguments[e];
            this.message(r.ERROR, t)
        }
        ,
        t.prototype.time = function(e) {
            t.level >= r.DEBUG && (this.timers[e] = Date.now())
        }
        ,
        t.prototype.timeEnd = function(e) {
            if (t.level >= r.DEBUG) {
                var n = this.timers[e];
                if (!n)
                    return;
                var i = (Date.now() - n) / 1e3;
                this.debug(e, i + "s")
            }
        }
        ,
        t.level = r.INFO,
        t
    }();
    e.a = o
}
, function(t, e, n) {
    "use strict";
    var r, i, o, s, a;
    n.d(e, "a", function() {
        return r
    }),
    r = {
        DEG2RAD: Math.PI / 180,
        RAD2DEG: 180 / Math.PI,
        generateUUID: (o = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),
        s = new Array(36),
        a = 0,
        function() {
            for (var t = 0; t < 36; t++)
                8 === t || 13 === t || 18 === t || 23 === t ? s[t] = "-" : 14 === t ? s[t] = "4" : (a <= 2 && (a = 33554432 + 16777216 * Math.random() | 0),
                i = 15 & a,
                a >>= 4,
                s[t] = o[19 === t ? 3 & i | 8 : i]);
            return s.join("")
        }
        ),
        clamp: function(t, e, n) {
            return Math.max(e, Math.min(n, t))
        },
        euclideanModulo: function(t, e) {
            return (t % e + e) % e
        },
        mapLinear: function(t, e, n, r, i) {
            return r + (t - e) * (i - r) / (n - e)
        },
        smoothstep: function(t, e, n) {
            return t <= e ? 0 : t >= n ? 1 : (t = (t - e) / (n - e)) * t * (3 - 2 * t)
        },
        smootherstep: function(t, e, n) {
            return t <= e ? 0 : t >= n ? 1 : (t = (t - e) / (n - e)) * t * t * (t * (6 * t - 15) + 10)
        },
        random16: function() {
            return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),
            Math.random()
        },
        randInt: function(t, e) {
            return t + Math.floor(Math.random() * (e - t + 1))
        },
        randFloat: function(t, e) {
            return t + Math.random() * (e - t)
        },
        randFloatSpread: function(t) {
            return t * (.5 - Math.random())
        },
        degToRad: function(t) {
            return t * r.DEG2RAD
        },
        radToDeg: function(t) {
            return t * r.RAD2DEG
        },
        isPowerOfTwo: function(t) {
            return 0 == (t & t - 1) && 0 !== t
        },
        nearestPowerOfTwo: function(t) {
            return Math.pow(2, Math.round(Math.log(t) / Math.LN2))
        },
        nextPowerOfTwo: function(t) {
            return t--,
            t |= t >> 1,
            t |= t >> 2,
            t |= t >> 4,
            t |= t >> 8,
            t |= t >> 16,
            ++t
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r, i, o = n(47), s = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e(e, n) {
            var r = t.call(this, e) || this;
            return r.mode = n,
            r
        }
        return s(e, t),
        e
    }(o.a);
    n.d(e, "a", function() {
        return i
    }),
    n.d(e, "c", function() {
        return u
    }),
    n.d(e, "b", function() {
        return c
    }),
    function(t) {
        t[t.Panorama = 1] = "Panorama",
        t[t.Dollhouse = 2] = "Dollhouse",
        t[t.Floorplan = 3] = "Floorplan",
        t[t.Outdoor = 4] = "Outdoor",
        t[t.Transition = -1] = "Transition"
    }(i = i || (i = {}));
    var u = function(t) {
        switch (t) {
        case "0":
        case 0:
            return i.Panorama;
        case "1":
        case 1:
            return i.Floorplan;
        case "2":
        case 2:
            return i.Dollhouse;
        case "3":
        case 3:
            return i.Transition
        }
        throw new a("No known conversion for Workshop int to viewmode for int: " + t,t)
    };
    function c(t) {
        switch (t) {
        case i.Panorama:
            return 0;
        case i.Floorplan:
            return 1;
        case i.Dollhouse:
            return 2;
        case i.Transition:
            return 3
        }
        throw new a("No known conversion for Viewmode to Workshop int",t)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return l
    });
    var r, i, o, s, a, u, c = n(5), h = n(1);
    function l() {
        this.elements = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),
        arguments.length > 0 && console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")
    }
    l.prototype = {
        constructor: l,
        isMatrix4: !0,
        set: function(t, e, n, r, i, o, s, a, u, c, h, l, f, p, d, y) {
            var m = this.elements;
            return m[0] = t,
            m[4] = e,
            m[8] = n,
            m[12] = r,
            m[1] = i,
            m[5] = o,
            m[9] = s,
            m[13] = a,
            m[2] = u,
            m[6] = c,
            m[10] = h,
            m[14] = l,
            m[3] = f,
            m[7] = p,
            m[11] = d,
            m[15] = y,
            this
        },
        identity: function() {
            return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
            this
        },
        clone: function() {
            return (new l).fromArray(this.elements)
        },
        copy: function(t) {
            return this.elements.set(t.elements),
            this
        },
        copyPosition: function(t) {
            var e = this.elements
              , n = t.elements;
            return e[12] = n[12],
            e[13] = n[13],
            e[14] = n[14],
            this
        },
        extractBasis: function(t, e, n) {
            return t.setFromMatrixColumn(this, 0),
            e.setFromMatrixColumn(this, 1),
            n.setFromMatrixColumn(this, 2),
            this
        },
        makeBasis: function(t, e, n) {
            return this.set(t.x, e.x, n.x, 0, t.y, e.y, n.y, 0, t.z, e.z, n.z, 0, 0, 0, 0, 1),
            this
        },
        extractRotation: function(t) {
            void 0 === u && (u = new h.a);
            var e = this.elements
              , n = t.elements
              , r = 1 / u.setFromMatrixColumn(t, 0).length()
              , i = 1 / u.setFromMatrixColumn(t, 1).length()
              , o = 1 / u.setFromMatrixColumn(t, 2).length();
            return e[0] = n[0] * r,
            e[1] = n[1] * r,
            e[2] = n[2] * r,
            e[4] = n[4] * i,
            e[5] = n[5] * i,
            e[6] = n[6] * i,
            e[8] = n[8] * o,
            e[9] = n[9] * o,
            e[10] = n[10] * o,
            this
        },
        makeRotationFromEuler: function(t) {
            !1 === (t && t.isEuler) && console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
            var e = this.elements
              , n = t.x
              , r = t.y
              , i = t.z
              , o = Math.cos(n)
              , s = Math.sin(n)
              , a = Math.cos(r)
              , u = Math.sin(r)
              , c = Math.cos(i)
              , h = Math.sin(i);
            if ("XYZ" === t.order) {
                var l = o * c
                  , f = o * h
                  , p = s * c
                  , d = s * h;
                e[0] = a * c,
                e[4] = -a * h,
                e[8] = u,
                e[1] = f + p * u,
                e[5] = l - d * u,
                e[9] = -s * a,
                e[2] = d - l * u,
                e[6] = p + f * u,
                e[10] = o * a
            } else if ("YXZ" === t.order) {
                var y = a * c
                  , m = a * h
                  , v = u * c
                  , g = u * h;
                e[0] = y + g * s,
                e[4] = v * s - m,
                e[8] = o * u,
                e[1] = o * h,
                e[5] = o * c,
                e[9] = -s,
                e[2] = m * s - v,
                e[6] = g + y * s,
                e[10] = o * a
            } else if ("ZXY" === t.order) {
                y = a * c,
                m = a * h,
                v = u * c,
                g = u * h;
                e[0] = y - g * s,
                e[4] = -o * h,
                e[8] = v + m * s,
                e[1] = m + v * s,
                e[5] = o * c,
                e[9] = g - y * s,
                e[2] = -o * u,
                e[6] = s,
                e[10] = o * a
            } else if ("ZYX" === t.order) {
                l = o * c,
                f = o * h,
                p = s * c,
                d = s * h;
                e[0] = a * c,
                e[4] = p * u - f,
                e[8] = l * u + d,
                e[1] = a * h,
                e[5] = d * u + l,
                e[9] = f * u - p,
                e[2] = -u,
                e[6] = s * a,
                e[10] = o * a
            } else if ("YZX" === t.order) {
                var b = o * a
                  , _ = o * u
                  , w = s * a
                  , E = s * u;
                e[0] = a * c,
                e[4] = E - b * h,
                e[8] = w * h + _,
                e[1] = h,
                e[5] = o * c,
                e[9] = -s * c,
                e[2] = -u * c,
                e[6] = _ * h + w,
                e[10] = b - E * h
            } else if ("XZY" === t.order) {
                b = o * a,
                _ = o * u,
                w = s * a,
                E = s * u;
                e[0] = a * c,
                e[4] = -h,
                e[8] = u * c,
                e[1] = b * h + E,
                e[5] = o * c,
                e[9] = _ * h - w,
                e[2] = w * h - _,
                e[6] = s * c,
                e[10] = E * h + b
            }
            return e[3] = 0,
            e[7] = 0,
            e[11] = 0,
            e[12] = 0,
            e[13] = 0,
            e[14] = 0,
            e[15] = 1,
            this
        },
        makeRotationFromQuaternion: function(t) {
            var e = this.elements
              , n = t.x
              , r = t.y
              , i = t.z
              , o = t.w
              , s = n + n
              , a = r + r
              , u = i + i
              , c = n * s
              , h = n * a
              , l = n * u
              , f = r * a
              , p = r * u
              , d = i * u
              , y = o * s
              , m = o * a
              , v = o * u;
            return e[0] = 1 - (f + d),
            e[4] = h - v,
            e[8] = l + m,
            e[1] = h + v,
            e[5] = 1 - (c + d),
            e[9] = p - y,
            e[2] = l - m,
            e[6] = p + y,
            e[10] = 1 - (c + f),
            e[3] = 0,
            e[7] = 0,
            e[11] = 0,
            e[12] = 0,
            e[13] = 0,
            e[14] = 0,
            e[15] = 1,
            this
        },
        lookAt: function(t, e, n) {
            void 0 === o && (o = new h.a,
            s = new h.a,
            a = new h.a);
            var r = this.elements;
            return a.subVectors(t, e).normalize(),
            0 === a.lengthSq() && (a.z = 1),
            o.crossVectors(n, a).normalize(),
            0 === o.lengthSq() && (a.z += 1e-4,
            o.crossVectors(n, a).normalize()),
            s.crossVectors(a, o),
            r[0] = o.x,
            r[4] = s.x,
            r[8] = a.x,
            r[1] = o.y,
            r[5] = s.y,
            r[9] = a.y,
            r[2] = o.z,
            r[6] = s.z,
            r[10] = a.z,
            this
        },
        multiply: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),
            this.multiplyMatrices(t, e)) : this.multiplyMatrices(this, t)
        },
        premultiply: function(t) {
            return this.multiplyMatrices(t, this)
        },
        multiplyMatrices: function(t, e) {
            var n = t.elements
              , r = e.elements
              , i = this.elements
              , o = n[0]
              , s = n[4]
              , a = n[8]
              , u = n[12]
              , c = n[1]
              , h = n[5]
              , l = n[9]
              , f = n[13]
              , p = n[2]
              , d = n[6]
              , y = n[10]
              , m = n[14]
              , v = n[3]
              , g = n[7]
              , b = n[11]
              , _ = n[15]
              , w = r[0]
              , E = r[4]
              , x = r[8]
              , O = r[12]
              , P = r[1]
              , S = r[5]
              , R = r[9]
              , M = r[13]
              , L = r[2]
              , I = r[6]
              , A = r[10]
              , T = r[14]
              , k = r[3]
              , C = r[7]
              , N = r[11]
              , D = r[15];
            return i[0] = o * w + s * P + a * L + u * k,
            i[4] = o * E + s * S + a * I + u * C,
            i[8] = o * x + s * R + a * A + u * N,
            i[12] = o * O + s * M + a * T + u * D,
            i[1] = c * w + h * P + l * L + f * k,
            i[5] = c * E + h * S + l * I + f * C,
            i[9] = c * x + h * R + l * A + f * N,
            i[13] = c * O + h * M + l * T + f * D,
            i[2] = p * w + d * P + y * L + m * k,
            i[6] = p * E + d * S + y * I + m * C,
            i[10] = p * x + d * R + y * A + m * N,
            i[14] = p * O + d * M + y * T + m * D,
            i[3] = v * w + g * P + b * L + _ * k,
            i[7] = v * E + g * S + b * I + _ * C,
            i[11] = v * x + g * R + b * A + _ * N,
            i[15] = v * O + g * M + b * T + _ * D,
            this
        },
        multiplyToArray: function(t, e, n) {
            var r = this.elements;
            return this.multiplyMatrices(t, e),
            n[0] = r[0],
            n[1] = r[1],
            n[2] = r[2],
            n[3] = r[3],
            n[4] = r[4],
            n[5] = r[5],
            n[6] = r[6],
            n[7] = r[7],
            n[8] = r[8],
            n[9] = r[9],
            n[10] = r[10],
            n[11] = r[11],
            n[12] = r[12],
            n[13] = r[13],
            n[14] = r[14],
            n[15] = r[15],
            this
        },
        multiplyScalar: function(t) {
            var e = this.elements;
            return e[0] *= t,
            e[4] *= t,
            e[8] *= t,
            e[12] *= t,
            e[1] *= t,
            e[5] *= t,
            e[9] *= t,
            e[13] *= t,
            e[2] *= t,
            e[6] *= t,
            e[10] *= t,
            e[14] *= t,
            e[3] *= t,
            e[7] *= t,
            e[11] *= t,
            e[15] *= t,
            this
        },
        applyToVector3Array: function() {
            var t;
            return function(e, n, r) {
                void 0 === t && (t = new h.a),
                void 0 === n && (n = 0),
                void 0 === r && (r = e.length);
                for (var i = 0, o = n; i < r; i += 3,
                o += 3)
                    t.fromArray(e, o),
                    t.applyMatrix4(this),
                    t.toArray(e, o);
                return e
            }
        }(),
        applyToBuffer: function() {
            var t;
            return function(e, n, r) {
                void 0 === t && (t = new h.a),
                void 0 === n && (n = 0),
                void 0 === r && (r = e.length / e.itemSize);
                for (var i = 0, o = n; i < r; i++,
                o++)
                    t.x = e.getX(o),
                    t.y = e.getY(o),
                    t.z = e.getZ(o),
                    t.applyMatrix4(this),
                    e.setXYZ(t.x, t.y, t.z);
                return e
            }
        }(),
        determinant: function() {
            var t = this.elements
              , e = t[0]
              , n = t[4]
              , r = t[8]
              , i = t[12]
              , o = t[1]
              , s = t[5]
              , a = t[9]
              , u = t[13]
              , c = t[2]
              , h = t[6]
              , l = t[10]
              , f = t[14];
            return t[3] * (+i * a * h - r * u * h - i * s * l + n * u * l + r * s * f - n * a * f) + t[7] * (+e * a * f - e * u * l + i * o * l - r * o * f + r * u * c - i * a * c) + t[11] * (+e * u * h - e * s * f - i * o * h + n * o * f + i * s * c - n * u * c) + t[15] * (-r * s * c - e * a * h + e * s * l + r * o * h - n * o * l + n * a * c)
        },
        transpose: function() {
            var t, e = this.elements;
            return t = e[1],
            e[1] = e[4],
            e[4] = t,
            t = e[2],
            e[2] = e[8],
            e[8] = t,
            t = e[6],
            e[6] = e[9],
            e[9] = t,
            t = e[3],
            e[3] = e[12],
            e[12] = t,
            t = e[7],
            e[7] = e[13],
            e[13] = t,
            t = e[11],
            e[11] = e[14],
            e[14] = t,
            this
        },
        flattenToArrayOffset: function(t, e) {
            return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),
            this.toArray(t, e)
        },
        getPosition: function() {
            var t;
            return function() {
                return void 0 === t && (t = new h.a),
                console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),
                t.setFromMatrixColumn(this, 3)
            }
        }(),
        setPosition: function(t) {
            var e = this.elements;
            return e[12] = t.x,
            e[13] = t.y,
            e[14] = t.z,
            this
        },
        getInverse: function(t, e) {
            var n = this.elements
              , r = t.elements
              , i = r[0]
              , o = r[1]
              , s = r[2]
              , a = r[3]
              , u = r[4]
              , c = r[5]
              , h = r[6]
              , l = r[7]
              , f = r[8]
              , p = r[9]
              , d = r[10]
              , y = r[11]
              , m = r[12]
              , v = r[13]
              , g = r[14]
              , b = r[15]
              , _ = p * g * l - v * d * l + v * h * y - c * g * y - p * h * b + c * d * b
              , w = m * d * l - f * g * l - m * h * y + u * g * y + f * h * b - u * d * b
              , E = f * v * l - m * p * l + m * c * y - u * v * y - f * c * b + u * p * b
              , x = m * p * h - f * v * h - m * c * d + u * v * d + f * c * g - u * p * g
              , O = i * _ + o * w + s * E + a * x;
            if (0 === O) {
                var P = "THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";
                if (!0 === e)
                    throw new Error(P);
                return console.warn(P),
                this.identity()
            }
            var S = 1 / O;
            return n[0] = _ * S,
            n[1] = (v * d * a - p * g * a - v * s * y + o * g * y + p * s * b - o * d * b) * S,
            n[2] = (c * g * a - v * h * a + v * s * l - o * g * l - c * s * b + o * h * b) * S,
            n[3] = (p * h * a - c * d * a - p * s * l + o * d * l + c * s * y - o * h * y) * S,
            n[4] = w * S,
            n[5] = (f * g * a - m * d * a + m * s * y - i * g * y - f * s * b + i * d * b) * S,
            n[6] = (m * h * a - u * g * a - m * s * l + i * g * l + u * s * b - i * h * b) * S,
            n[7] = (u * d * a - f * h * a + f * s * l - i * d * l - u * s * y + i * h * y) * S,
            n[8] = E * S,
            n[9] = (m * p * a - f * v * a - m * o * y + i * v * y + f * o * b - i * p * b) * S,
            n[10] = (u * v * a - m * c * a + m * o * l - i * v * l - u * o * b + i * c * b) * S,
            n[11] = (f * c * a - u * p * a - f * o * l + i * p * l + u * o * y - i * c * y) * S,
            n[12] = x * S,
            n[13] = (f * v * s - m * p * s + m * o * d - i * v * d - f * o * g + i * p * g) * S,
            n[14] = (m * c * s - u * v * s - m * o * h + i * v * h + u * o * g - i * c * g) * S,
            n[15] = (u * p * s - f * c * s + f * o * h - i * p * h - u * o * d + i * c * d) * S,
            this
        },
        scale: function(t) {
            var e = this.elements
              , n = t.x
              , r = t.y
              , i = t.z;
            return e[0] *= n,
            e[4] *= r,
            e[8] *= i,
            e[1] *= n,
            e[5] *= r,
            e[9] *= i,
            e[2] *= n,
            e[6] *= r,
            e[10] *= i,
            e[3] *= n,
            e[7] *= r,
            e[11] *= i,
            this
        },
        getMaxScaleOnAxis: function() {
            var t = this.elements
              , e = t[0] * t[0] + t[1] * t[1] + t[2] * t[2]
              , n = t[4] * t[4] + t[5] * t[5] + t[6] * t[6]
              , r = t[8] * t[8] + t[9] * t[9] + t[10] * t[10];
            return Math.sqrt(Math.max(e, n, r))
        },
        makeTranslation: function(t, e, n) {
            return this.set(1, 0, 0, t, 0, 1, 0, e, 0, 0, 1, n, 0, 0, 0, 1),
            this
        },
        makeRotationX: function(t) {
            var e = Math.cos(t)
              , n = Math.sin(t);
            return this.set(1, 0, 0, 0, 0, e, -n, 0, 0, n, e, 0, 0, 0, 0, 1),
            this
        },
        makeRotationY: function(t) {
            var e = Math.cos(t)
              , n = Math.sin(t);
            return this.set(e, 0, n, 0, 0, 1, 0, 0, -n, 0, e, 0, 0, 0, 0, 1),
            this
        },
        makeRotationZ: function(t) {
            var e = Math.cos(t)
              , n = Math.sin(t);
            return this.set(e, -n, 0, 0, n, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
            this
        },
        makeRotationAxis: function(t, e) {
            var n = Math.cos(e)
              , r = Math.sin(e)
              , i = 1 - n
              , o = t.x
              , s = t.y
              , a = t.z
              , u = i * o
              , c = i * s;
            return this.set(u * o + n, u * s - r * a, u * a + r * s, 0, u * s + r * a, c * s + n, c * a - r * o, 0, u * a - r * s, c * a + r * o, i * a * a + n, 0, 0, 0, 0, 1),
            this
        },
        makeScale: function(t, e, n) {
            return this.set(t, 0, 0, 0, 0, e, 0, 0, 0, 0, n, 0, 0, 0, 0, 1),
            this
        },
        compose: function(t, e, n) {
            return this.makeRotationFromQuaternion(e),
            this.scale(n),
            this.setPosition(t),
            this
        },
        decompose: function(t, e, n) {
            void 0 === r && (r = new h.a,
            i = new l);
            var o = this.elements
              , s = r.set(o[0], o[1], o[2]).length()
              , a = r.set(o[4], o[5], o[6]).length()
              , u = r.set(o[8], o[9], o[10]).length();
            this.determinant() < 0 && (s = -s),
            t.x = o[12],
            t.y = o[13],
            t.z = o[14],
            i.elements.set(this.elements);
            var c = 1 / s
              , f = 1 / a
              , p = 1 / u;
            return i.elements[0] *= c,
            i.elements[1] *= c,
            i.elements[2] *= c,
            i.elements[4] *= f,
            i.elements[5] *= f,
            i.elements[6] *= f,
            i.elements[8] *= p,
            i.elements[9] *= p,
            i.elements[10] *= p,
            e.setFromRotationMatrix(i),
            n.x = s,
            n.y = a,
            n.z = u,
            this
        },
        makeFrustum: function(t, e, n, r, i, o) {
            var s = this.elements
              , a = 2 * i / (e - t)
              , u = 2 * i / (r - n)
              , c = (e + t) / (e - t)
              , h = (r + n) / (r - n)
              , l = -(o + i) / (o - i)
              , f = -2 * o * i / (o - i);
            return s[0] = a,
            s[4] = 0,
            s[8] = c,
            s[12] = 0,
            s[1] = 0,
            s[5] = u,
            s[9] = h,
            s[13] = 0,
            s[2] = 0,
            s[6] = 0,
            s[10] = l,
            s[14] = f,
            s[3] = 0,
            s[7] = 0,
            s[11] = -1,
            s[15] = 0,
            this
        },
        makePerspective: function(t, e, n, r) {
            var i = n * Math.tan(c.a.DEG2RAD * t * .5)
              , o = -i
              , s = o * e
              , a = i * e;
            return this.makeFrustum(s, a, o, i, n, r)
        },
        makeOrthographic: function(t, e, n, r, i, o) {
            var s = this.elements
              , a = 1 / (e - t)
              , u = 1 / (n - r)
              , c = 1 / (o - i)
              , h = (e + t) * a
              , l = (n + r) * u
              , f = (o + i) * c;
            return s[0] = 2 * a,
            s[4] = 0,
            s[8] = 0,
            s[12] = -h,
            s[1] = 0,
            s[5] = 2 * u,
            s[9] = 0,
            s[13] = -l,
            s[2] = 0,
            s[6] = 0,
            s[10] = -2 * c,
            s[14] = -f,
            s[3] = 0,
            s[7] = 0,
            s[11] = 0,
            s[15] = 1,
            this
        },
        equals: function(t) {
            for (var e = this.elements, n = t.elements, r = 0; r < 16; r++)
                if (e[r] !== n[r])
                    return !1;
            return !0
        },
        fromArray: function(t, e) {
            void 0 === e && (e = 0);
            for (var n = 0; n < 16; n++)
                this.elements[n] = t[n + e];
            return this
        },
        toArray: function(t, e) {
            void 0 === t && (t = []),
            void 0 === e && (e = 0);
            var n = this.elements;
            return t[e] = n[0],
            t[e + 1] = n[1],
            t[e + 2] = n[2],
            t[e + 3] = n[3],
            t[e + 4] = n[4],
            t[e + 5] = n[5],
            t[e + 6] = n[6],
            t[e + 7] = n[7],
            t[e + 8] = n[8],
            t[e + 9] = n[9],
            t[e + 10] = n[10],
            t[e + 11] = n[11],
            t[e + 12] = n[12],
            t[e + 13] = n[13],
            t[e + 14] = n[14],
            t[e + 15] = n[15],
            t
        }
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    }),
    n.d(e, "b", function() {
        return o
    }),
    n.d(e, "c", function() {
        return u
    });
    var r, i, o, s = n(11), a = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    );
    !function(t) {
        t[t.UNINITIALIZED = 0] = "UNINITIALIZED",
        t[t.WAITING = 1] = "WAITING",
        t[t.LOADING = 2] = "LOADING",
        t[t.STARTING = 3] = "STARTING",
        t[t.PLAYING = 4] = "PLAYING",
        t[t.ERROR = 5] = "ERROR"
    }(i = i || (i = {})),
    function(t) {
        t[t.UNKNOWN = 0] = "UNKNOWN",
        t[t.WEBVR = 1] = "WEBVR",
        t[t.SHOWCASE = 2] = "SHOWCASE",
        t[t.WORKSHOP = 3] = "WORKSHOP"
    }(o = o || (o = {}));
    var u = function(t) {
        function e(e, n) {
            void 0 === n && (n = o.SHOWCASE);
            var r = t.call(this) || this;
            return r.phase = e,
            r.application = n,
            r
        }
        return a(e, t),
        e.prototype.update = function(t) {
            this.phase = t.phase,
            this.application = t.application,
            this.error = t.error
        }
        ,
        e
    }(s.a)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return l
    }),
    n.d(e, "b", function() {
        return f
    }),
    n.d(e, "g", function() {
        return p
    }),
    n.d(e, "f", function() {
        return d
    }),
    n.d(e, "j", function() {
        return y
    }),
    n.d(e, "i", function() {
        return m
    }),
    n.d(e, "h", function() {
        return v
    }),
    n.d(e, "e", function() {
        return g
    }),
    n.d(e, "l", function() {
        return b
    }),
    n.d(e, "d", function() {
        return _
    }),
    n.d(e, "c", function() {
        return w
    }),
    n.d(e, "k", function() {
        return E
    });
    var r = n(1)
      , i = n(3)
      , o = n(17)
      , s = n(7)
      , a = n(97)
      , u = n(5)
      , c = (new r.a,
    new i.a,
    new a.a)
      , h = new s.a
      , l = Math.PI / 180
      , f = 180 / Math.PI
      , p = function(t) {
        return new r.a(t.x,t.z,-t.y)
    }
      , d = function(t) {
        return new i.a(t.x,t.z,-t.y,t.w).multiply((new i.a).setFromAxisAngle(new r.a(0,1,0), u.a.degToRad(90)))
    }
      , y = function(t) {
        return new r.a(-t.x,t.y,t.z)
    }
      , m = function(t) {
        return new i.a(-t.z,-t.w,-t.x,-t.y)
    }
      , v = function(t) {
        return new i.a(t.x,-t.y,-t.z,t.w).normalize().multiply((new i.a).setFromAxisAngle(new r.a(0,1,0), u.a.degToRad(270)))
    }
      , g = function(t, e, n, r) {
        return (r = r || new o.a).x = t / n.width * 2 - 1,
        r.y = -e / n.height * 2 + 1,
        r
    }
      , b = function(t) {
        return Math.cos(u.a.degToRad(t / 2))
    }
      , _ = function(t, e, n) {
        return Math.max(e, Math.min(t, n))
    }
      , w = function(t, e) {
        var n = new r.a(0,0,-1);
        return n.clone().applyQuaternion(t).angleTo(n.clone().applyQuaternion(e))
    }
      , E = function(t, e, n, r) {
        return h.identity().makeRotationFromQuaternion(e).setPosition(t),
        h.getInverse(h),
        h.premultiply(n),
        c.setFromMatrix(h),
        c.intersectsBox(r)
    }
}
, function(t, e, n) {
    "use strict";
    var r;
    n.d(e, "a", function() {
        return r
    }),
    function(t) {
        t[t.Begin = 0] = "Begin",
        t[t.Logic = 1] = "Logic",
        t[t.Render = 2] = "Render",
        t[t.End = 3] = "End"
    }(r = r || (r = {}))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = function() {
        return function() {}
    }()
}
, function(t, e, n) {
    "use strict";
    var r = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }
      , i = function() {
        function t() {
            var t = this;
            this.base = new Promise(function(e, n) {
                t.resolver = e,
                t.rejecter = n
            }
            ),
            this._promise = new o(this.base,this),
            this.progressCallbacks = []
        }
        return t.prototype.then = function(t, e) {
            return this.base.then(t, e)
        }
        ,
        t.prototype.catch = function(t) {
            return this.base.catch(t)
        }
        ,
        t.prototype.resolve = function(t) {
            return this.resolver(t),
            this
        }
        ,
        t.prototype.reject = function(t) {
            return this.rejecter(t),
            this
        }
        ,
        t.prototype.notify = function(t) {
            try {
                for (var e = r(this.progressCallbacks), n = e.next(); !n.done; n = e.next()) {
                    (0,
                    n.value)(t)
                }
            } catch (t) {
                i = {
                    error: t
                }
            } finally {
                try {
                    n && !n.done && (o = e.return) && o.call(e)
                } finally {
                    if (i)
                        throw i.error
                }
            }
            var i, o
        }
        ,
        t.prototype.progress = function(t) {
            this.progressCallbacks.push(t)
        }
        ,
        t.prototype.promise = function() {
            return this._promise
        }
        ,
        t.prototype.nativePromise = function() {
            return this.base
        }
        ,
        t.resolve = function() {
            var e = new t;
            return e.resolve(),
            e.promise()
        }
        ,
        t.reject = function(e) {
            var n = new t;
            return n.reject(e),
            n.promise()
        }
        ,
        t.all = function(e) {
            var n = [];
            try {
                for (var i = r(e), o = i.next(); !o.done; o = i.next()) {
                    var s = o.value;
                    s.nativePromise ? n.push(s.nativePromise()) : n.push(s)
                }
            } catch (t) {
                a = {
                    error: t
                }
            } finally {
                try {
                    o && !o.done && (u = i.return) && u.call(i)
                } finally {
                    if (a)
                        throw a.error
                }
            }
            var a, u, c = new t;
            return Promise.all(n).then(function(t) {
                return c.resolve(t)
            }, function(t) {
                return c.reject(t)
            }),
            c.promise()
        }
        ,
        t
    }();
    e.a = i;
    var o = function() {
        function t(t, e) {
            this.basePromise = t,
            this.baseDeferred = e
        }
        return t.prototype.then = function(t, e) {
            return this.baseDeferred.then(t, e),
            this
        }
        ,
        t.prototype.catch = function(t) {
            return this.baseDeferred.catch(t),
            this
        }
        ,
        t.prototype.progress = function(t) {
            return this.baseDeferred.progress(t),
            this
        }
        ,
        t.prototype.nativePromise = function() {
            return this.basePromise
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    });
    var r = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }
      , i = function() {
        function t() {
            this.isObservable = !0,
            this.diffRoot = {},
            this.changeObservers = [],
            this.childChangeFunctions = {}
        }
        return t.prototype.onChanged = function(t) {
            this.changeObservers.push(t)
        }
        ,
        t.prototype.removeOnChanged = function(e) {
            t.removeOnChangedFromObservable(this, e)
        }
        ,
        t.removeOnChangedFromObservable = function(t, e) {
            for (var n = 0; n < t.changeObservers.length; n++) {
                t.changeObservers[n] === e && (n < t.changeObservers.length - 1 && (t.changeObservers[n] = t.changeObservers[t.changeObservers.length - 1]),
                t.changeObservers.length--)
            }
        }
        ,
        t.changedFunc = function(t, e, n) {
            if (t.changeObservers)
                try {
                    for (var i = r(t.changeObservers), o = i.next(); !o.done; o = i.next()) {
                        (0,
                        o.value)(e, n, t.diffRoot)
                    }
                } catch (t) {
                    s = {
                        error: t
                    }
                } finally {
                    try {
                        o && !o.done && (a = i.return) && a.call(i)
                    } finally {
                        if (s)
                            throw s.error
                    }
                }
            var s, a
        }
        ,
        t.isObservable = function(t) {
            return t && t.isObservable ? t : void 0
        }
        ,
        t.buildEmptyObjectWithProp = function(t, e, n) {
            var r;
            if (n)
                for (var i in r = n,
                n)
                    i !== t && delete n[i];
            else
                r = {};
            return r[t] = e,
            r
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    }),
    n.d(e, "b", function() {
        return o
    });
    var r, i, o, s = n(1), a = n(3);
    !function(t) {
        t.position = "position",
        t.floorPosition = "floorPosition",
        t.rotation = "rotation",
        t.enabled = "enabled",
        t.vrenabled = "vrenabled",
        t.alignmentType = "alignmentType",
        t.placementType = "placementType"
    }(r || (r = {})),
    function(t) {
        t.ALIGNED = "aligned",
        t.UNALIGNED = "unaligned"
    }(i = i || (i = {})),
    function(t) {
        t.UNPLACED = "unplaced",
        t.AUTO = "auto",
        t.MANUAL = "manual"
    }(o = o || (o = {}));
    var u = function() {
        return function(t, e, n) {
            this.id = t,
            this.index = e,
            this.name = n.name || "",
            this.position = n.position || new s.a,
            this.floorPosition = n.floorPosition || new s.a;
            var r = Number.parseInt(n.floor, 10);
            this.floor = isNaN(r) ? -1 : r;
            var u = Number.parseInt(n.room, 10);
            this.room = isNaN(u) ? -1 : u,
            this.rotation = n.rotation || new a.a,
            this.enabled = n.enabled || !1,
            this.vrenabled = n.vrenabled || !1,
            this.neighbours = n.neighbours || [],
            this.alignmentType = n.alignmentType || i.ALIGNED,
            this.placementType = n.placement || o.UNPLACED,
            this.pavilionMapId = n.pavilionMapId,
            this.isInside = n.isInside,
            this.obj = n.obj

        }
    }();
    e.c = u
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return i
    }),
    n.d(e, "a", function() {
        return u
    });
    var r, i, o = n(50), s = n(0), a = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    );
    !function(t) {
        t.INSIDE = "mode.inside",
        t.OUTSIDE = "mode.outside",
        t.DOLLHOUSE = "mode.dollhouse",
        t.FLOORPLAN = "mode.floorplan",
        t.TRANSITIONING = "mode.transitioning"
    }(i = i || (i = {}));
    var u = function(t) {
        function e(e, n, r) {
            void 0 === n && (n = s.Ja.Interpolate),
            void 0 === r && (r = {});
            var i = t.call(this) || this;
            return i.payload = {
                mode: e,
                transitionType: n,
                pose: r
            },
            i
        }
        return a(e, t),
        e.id = "CHANGE_VIEWMODE",
        e
    }(o.a)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    }),
    n.d(e, "b", function() {
        return l
    }),
    n.d(e, "c", function() {
        return f
    });
    var r, i, o = n(61), s = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = Object.assign || function(t) {
        for (var e, n = 1, r = arguments.length; n < r; n++)
            for (var i in e = arguments[n])
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
        return t
    }
    , u = function(t, e, n, r) {
        return new (n || (n = Promise))(function(i, o) {
            function s(t) {
                try {
                    u(r.next(t))
                } catch (t) {
                    o(t)
                }
            }
            function a(t) {
                try {
                    u(r.throw(t))
                } catch (t) {
                    o(t)
                }
            }
            function u(t) {
                t.done ? i(t.value) : new n(function(e) {
                    e(t.value)
                }
                ).then(s, a)
            }
            u((r = r.apply(t, e || [])).next())
        }
        )
    }, c = function(t, e) {
        var n, r, i, o, s = {
            label: 0,
            sent: function() {
                if (1 & i[0])
                    throw i[1];
                return i[1]
            },
            trys: [],
            ops: []
        };
        return o = {
            next: a(0),
            throw: a(1),
            return: a(2)
        },
        "function" == typeof Symbol && (o[Symbol.iterator] = function() {
            return this
        }
        ),
        o;
        function a(o) {
            return function(a) {
                return function(o) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; s; )
                        try {
                            if (n = 1,
                            r && (i = r[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(i = i.call(r, o[1])).done)
                                return i;
                            switch (r = 0,
                            i && (o = [0, i.value]),
                            o[0]) {
                            case 0:
                            case 1:
                                i = o;
                                break;
                            case 4:
                                return s.label++,
                                {
                                    value: o[1],
                                    done: !1
                                };
                            case 5:
                                s.label++,
                                r = o[1],
                                o = [0];
                                continue;
                            case 7:
                                o = s.ops.pop(),
                                s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                    s.label = o[1];
                                    break
                                }
                                if (6 === o[0] && s.label < i[1]) {
                                    s.label = i[1],
                                    i = o;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2],
                                    s.ops.push(o);
                                    break
                                }
                                i[2] && s.ops.pop(),
                                s.trys.pop();
                                continue
                            }
                            o = e.call(t, s)
                        } catch (t) {
                            o = [6, t],
                            r = 0
                        } finally {
                            n = i = 0
                        }
                    if (5 & o[0])
                        throw o[1];
                    return {
                        value: o[0] ? o[1] : void 0,
                        done: !0
                    }
                }([o, a])
            }
        }
    }, h = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    };
    !function(t) {
        t.POST = "POST",
        t.PATCH = "PATCH",
        t.PUT = "PUT"
    }(i = i || (i = {}));
    var l = function(t) {
        function e(e, n, r, i) {
            void 0 === i && (i = null);
            var o = t.call(this) || this;
            return o.queue = e,
            o.path = n,
            o.deserialize = r,
            o.cachedData = i,
            o
        }
        return s(e, t),
        e.prototype.read = function() {
            return u(this, void 0, void 0, function() {
                var t;
                return c(this, function(e) {
                    switch (e.label) {
                    case 0:
                        return t = null,
                        this.cachedData && this.cachedData.data ? (t = this.cachedData.data,
                        [3, 3]) : [3, 1];
                    case 1:
                        return [4, this.queue.get(this.path, this.options)];
                    case 2:
                        t = e.sent(),
                        this.cachedData && (this.cachedData.data = t),
                        e.label = 3;
                    case 3:
                        return [2, this.deserialize(t)]
                    }
                })
            })
        }
        ,
        e.prototype.clearCache = function() {
            this.cachedData && (this.cachedData.data = null)
        }
        ,
        e
    }(function() {
        return function() {
            this.options = {
                responseType: "json"
            };
            var t = Object(o.a)();
            t && (this.options = a({}, this.options, {
                auth: t
            }))
        }
    }())
      , f = function(t) {
        function e(e, n, r, o, s, a, u) {
            void 0 === o && (o = null),
            void 0 === s && (s = null),
            void 0 === a && (a = i.POST),
            void 0 === u && (u = null);
            var c = t.call(this, e, n, r, s) || this;
            return c.queue = e,
            c.path = n,
            c.deserialize = r,
            c.serialize = o,
            c.cachedData = s,
            c.httpMethod = a,
            c.requiredDataKey = u,
            c
        }
        return s(e, t),
        e.prototype.create = function(t) {
            return u(this, void 0, void 0, function() {
                var e, n;
                return c(this, function(r) {
                    switch (r.label) {
                    case 0:
                        return this.clearCache(),
                        e = this.serialize ? this.serialize(t) : t,
                        n = a({}, this.options, {
                            body: e
                        }),
                        [4, this.queue.put(this.path, n)];
                    case 1:
                        return [2, r.sent()]
                    }
                })
            })
        }
        ,
        e.prototype.update = function(t) {
            return u(this, void 0, void 0, function() {
                var e, n;
                return c(this, function(r) {
                    switch (r.label) {
                    case 0:
                        return this.clearCache(),
                        e = this.serialize ? this.serialize(t) : t,
                        n = a({}, this.options, {
                            body: e
                        }),
                        [4, this.queue.request(this.httpMethod, this.path, n)];
                    case 1:
                        return [2, r.sent()]
                    }
                })
            })
        }
        ,
        e.prototype.delete = function(t) {
            return u(this, void 0, void 0, function() {
                var e, n, r, i, o, s;
                return c(this, function(a) {
                    switch (a.label) {
                    case 0:
                        if (this.clearCache(),
                        !(t instanceof Array))
                            return [3, 9];
                        a.label = 1;
                    case 1:
                        a.trys.push([1, 6, 7, 8]),
                        e = h(t),
                        n = e.next(),
                        a.label = 2;
                    case 2:
                        return n.done ? [3, 5] : (r = n.value,
                        [4, this.queue.delete(this.path + "/" + r.sid, this.options)]);
                    case 3:
                        a.sent(),
                        a.label = 4;
                    case 4:
                        return n = e.next(),
                        [3, 2];
                    case 5:
                        return [3, 8];
                    case 6:
                        return i = a.sent(),
                        o = {
                            error: i
                        },
                        [3, 8];
                    case 7:
                        try {
                            n && !n.done && (s = e.return) && s.call(e)
                        } finally {
                            if (o)
                                throw o.error
                        }
                        return [7];
                    case 8:
                        return [2];
                    case 9:
                        return [4, this.queue.delete(this.path, this.options)];
                    case 10:
                        return [2, a.sent()];
                    case 11:
                        return [2]
                    }
                })
            })
        }
        ,
        Object.defineProperty(e.prototype, "acceptsPartial", {
            get: function() {
                return this.httpMethod === i.PATCH
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(e.prototype, "requiredKey", {
            get: function() {
                return this.requiredDataKey
            },
            enumerable: !0,
            configurable: !0
        }),
        e
    }(l)
}
, function(t, e, n) {
    "use strict";
    function r(t, e) {
        this.x = t || 0,
        this.y = e || 0
    }
    var i, o;
    n.d(e, "a", function() {
        return r
    }),
    r.prototype = {
        constructor: r,
        isVector2: !0,
        get width() {
            return this.x
        },
        set width(t) {
            this.x = t
        },
        get height() {
            return this.y
        },
        set height(t) {
            this.y = t
        },
        set: function(t, e) {
            return this.x = t,
            this.y = e,
            this
        },
        setScalar: function(t) {
            return this.x = t,
            this.y = t,
            this
        },
        setX: function(t) {
            return this.x = t,
            this
        },
        setY: function(t) {
            return this.y = t,
            this
        },
        setComponent: function(t, e) {
            switch (t) {
            case 0:
                this.x = e;
                break;
            case 1:
                this.y = e;
                break;
            default:
                throw new Error("index is out of range: " + t)
            }
        },
        getComponent: function(t) {
            switch (t) {
            case 0:
                return this.x;
            case 1:
                return this.y;
            default:
                throw new Error("index is out of range: " + t)
            }
        },
        clone: function() {
            return new this.constructor(this.x,this.y)
        },
        copy: function(t) {
            return this.x = t.x,
            this.y = t.y,
            this
        },
        add: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
            this.addVectors(t, e)) : (this.x += t.x,
            this.y += t.y,
            this)
        },
        addScalar: function(t) {
            return this.x += t,
            this.y += t,
            this
        },
        addVectors: function(t, e) {
            return this.x = t.x + e.x,
            this.y = t.y + e.y,
            this
        },
        addScaledVector: function(t, e) {
            return this.x += t.x * e,
            this.y += t.y * e,
            this
        },
        sub: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
            this.subVectors(t, e)) : (this.x -= t.x,
            this.y -= t.y,
            this)
        },
        subScalar: function(t) {
            return this.x -= t,
            this.y -= t,
            this
        },
        subVectors: function(t, e) {
            return this.x = t.x - e.x,
            this.y = t.y - e.y,
            this
        },
        multiply: function(t) {
            return this.x *= t.x,
            this.y *= t.y,
            this
        },
        multiplyScalar: function(t) {
            return isFinite(t) ? (this.x *= t,
            this.y *= t) : (this.x = 0,
            this.y = 0),
            this
        },
        divide: function(t) {
            return this.x /= t.x,
            this.y /= t.y,
            this
        },
        divideScalar: function(t) {
            return this.multiplyScalar(1 / t)
        },
        min: function(t) {
            return this.x = Math.min(this.x, t.x),
            this.y = Math.min(this.y, t.y),
            this
        },
        max: function(t) {
            return this.x = Math.max(this.x, t.x),
            this.y = Math.max(this.y, t.y),
            this
        },
        clamp: function(t, e) {
            return this.x = Math.max(t.x, Math.min(e.x, this.x)),
            this.y = Math.max(t.y, Math.min(e.y, this.y)),
            this
        },
        clampScalar: function(t, e) {
            return void 0 === i && (i = new r,
            o = new r),
            i.set(t, t),
            o.set(e, e),
            this.clamp(i, o)
        },
        clampLength: function(t, e) {
            var n = this.length();
            return this.multiplyScalar(Math.max(t, Math.min(e, n)) / n)
        },
        floor: function() {
            return this.x = Math.floor(this.x),
            this.y = Math.floor(this.y),
            this
        },
        ceil: function() {
            return this.x = Math.ceil(this.x),
            this.y = Math.ceil(this.y),
            this
        },
        round: function() {
            return this.x = Math.round(this.x),
            this.y = Math.round(this.y),
            this
        },
        roundToZero: function() {
            return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x),
            this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y),
            this
        },
        negate: function() {
            return this.x = -this.x,
            this.y = -this.y,
            this
        },
        dot: function(t) {
            return this.x * t.x + this.y * t.y
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y)
        },
        lengthManhattan: function() {
            return Math.abs(this.x) + Math.abs(this.y)
        },
        normalize: function() {
            return this.divideScalar(this.length())
        },
        angle: function() {
            var t = Math.atan2(this.y, this.x);
            return t < 0 && (t += 2 * Math.PI),
            t
        },
        distanceTo: function(t) {
            return Math.sqrt(this.distanceToSquared(t))
        },
        distanceToSquared: function(t) {
            var e = this.x - t.x
              , n = this.y - t.y;
            return e * e + n * n
        },
        distanceToManhattan: function(t) {
            return Math.abs(this.x - t.x) + Math.abs(this.y - t.y)
        },
        setLength: function(t) {
            return this.multiplyScalar(t / this.length())
        },
        lerp: function(t, e) {
            return this.x += (t.x - this.x) * e,
            this.y += (t.y - this.y) * e,
            this
        },
        lerpVectors: function(t, e, n) {
            return this.subVectors(e, t).multiplyScalar(n).add(t)
        },
        equals: function(t) {
            return t.x === this.x && t.y === this.y
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0),
            this.x = t[e],
            this.y = t[e + 1],
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this.x,
            t[e + 1] = this.y,
            t
        },
        fromAttribute: function(t, e, n) {
            return void 0 === n && (n = 0),
            e = e * t.itemSize + n,
            this.x = t.array[e],
            this.y = t.array[e + 1],
            this
        },
        rotateAround: function(t, e) {
            var n = Math.cos(e)
              , r = Math.sin(e)
              , i = this.x - t.x
              , o = this.y - t.y;
            return this.x = i * n - o * r + t.x,
            this.y = i * r + o * n + t.y,
            this
        }
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "n", function() {
        return o
    }),
    n.d(e, "j", function() {
        return s
    }),
    n.d(e, "h", function() {
        return u
    }),
    n.d(e, "f", function() {
        return c
    }),
    n.d(e, "e", function() {
        return h
    }),
    n.d(e, "a", function() {
        return l
    }),
    n.d(e, "d", function() {
        return f
    }),
    n.d(e, "m", function() {
        return p
    }),
    n.d(e, "k", function() {
        return d
    }),
    n.d(e, "b", function() {
        return y
    }),
    n.d(e, "i", function() {
        return m
    }),
    n.d(e, "g", function() {
        return v
    }),
    n.d(e, "l", function() {
        return g
    }),
    n.d(e, "c", function() {
        return _
    });
    var r, i, o = function() {
        var t = window.innerWidth / window.innerHeight;
        return isFinite(t) ? t : 1
    }, s = function() {
        var t = navigator.userAgent || navigator.vendor || window.opera
          , e = new RegExp("(android|bbd+|meego).+mobile|android|avantgo|bada/|blackberry|blazer|compal|elaine|fennec|\n    hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|\n    palm( os)?|phone|p(ixi|re)/|plucker|pocket|psp|series(4|6)0|symbian|treo|up.(browser|link)|vodafone|\n    wap|windows ce|xda|xiino","i")
          , n = new RegExp("1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|\n    amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|\n    br(e|v)w|bumb|bw-(n|u)|c55/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|\n    devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|\n    g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|\n    a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|\n    jemu|jigs|kddi|keji|kgt( |/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|/(k|l|u)|50|54|-[a-w])|libw|lynx|\n    m1-w|m3ga|m50/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|\n    zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|\n    nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|\n    po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55/|\n    sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|\n    sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|\n    tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|\n    vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|\n    zeto|zte-","i");
        return e.test(t) || n.test(t.substr(0, 4))
    }, a = function(t, e) {
        var n = window.navigator.userAgent.match(t);
        return n = n ? n[1].split(e) : [],
        {
            major: parseInt(n[0], 10) || 0,
            minor: parseInt(n[1], 10) || 0,
            patch: parseInt(n[2], 10) || 0
        }
    }, u = function() {
        var t = window.navigator.userAgent;
        return /iPod|iPhone|iPad/.test(t)
    }, c = function() {
        return -1 !== window.navigator.userAgent.indexOf("Android")
    }, h = function() {
        if (!u())
            throw new Error("Not an iOS device");
        return a(/((?:\d+\_?){1,3}) like Mac OS/, "_")
    }, l = function() {
        if (!c())
            throw new Error("Not an Android device");
        return a(/Android ((?:\d+\.?){1,3})/, ".")
    }, f = function() {
        return window.parent !== window
    }, p = function(t, e) {
        var n = new RegExp("[#&?]" + t + "=([^#&?]*)").exec(window.location.href);
        if (!n)
            return e;
        var r = n[1];
        return "boolean" == typeof e ? "true" === r || "1" === r : "number" == typeof e ? parseFloat(r) : window.decodeURIComponent(r)
    }, d = function() {
        for (var t, e = /[#&?]([^=]+)=([^#&?]+)/g, n = window.location.href, r = {}; null !== (t = e.exec(n)); )
            r[t[1]] = t[2];
        return r
    }, y = function() {
        return window.location.search.substr(1).split("&")
    }, m = (r = window.URL || window.webkitURL,
    i = document.createElement("a"),
    document.body.appendChild(i),
    i.style.display = "none",
    function() {
        return o() > 1
    }
    ), v = function() {
        var t = document;
        return t.fullscreenElement || t.mozFullScreenElement || t.webkitFullscreenElement || t.msFullscreenElement
    }, g = function(t, e) {
        t.requestFullscreen ? t.requestFullscreen() : t.mozRequestFullScreen ? t.mozRequestFullScreen() : t.webkitRequestFullscreen ? t.webkitRequestFullscreen() : t.msRequestFullscreen && t.msRequestFullscreen(),
        e && (t.addEventListener("fullscreenchange", b),
        t.addEventListener("webkitfullscreenchange", b),
        t.addEventListener("mozfullscreenchange", b),
        t.addEventListener("MSFullscreenChange", b))
    }, b = function() {
        var t, e = document;
        if (document.fullscreenElement)
            t = document.fullscreenElement;
        else if (e.mozFullscreenElement)
            t = e.mozFullscreenElement();
        else if (e.mozFullScreenElement)
            t = e.mozFullScreenElement();
        else {
            if (!e.webkitFullscreenElement)
                return;
            t = e.webkitFullscreenElement()
        }
        t.requestPointerLock = t.requestPointerLock || t.mozRequestPointerLock || t.webkitRequestPointerLock,
        t.requestPointerLock(),
        t.removeEventListener("fullscreenchange", this),
        t.removeEventListener("webkitfullscreenchange", this),
        t.removeEventListener("mozfullscreenchange", this),
        t.removeEventListener("MSFullscreenChange", this)
    }, _ = function() {
        var t = document;
        document.exitFullscreen ? document.exitFullscreen() : t.msExitFullscreen ? t.msExitFullscreen() : t.mozCancelFullScreen ? t.mozCancelFullScreen() : document.webkitExitFullscreen && document.webkitExitFullscreen()
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = function() {
        function t() {
            this.msgId = -1
        }
        return t.prototype.setID = function(t) {
            if (-1 !== this.msgId)
                throw Error("Message.msgId can only be set once.");
            this.msgId = t
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.r(e);
    var r, i = n(2), o = n(8), s = n(28), a = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), u = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.name = "app-phase",
            e.appState = new o.c(o.a.UNINITIALIZED),
            e
        }
        return a(e, t),
        e.prototype.init = function(t, e) {
            this.market = e.market,
            this.broadcast = e.broadcast.bind(e),
            this.market.register(this, o.c),
            this.market.update(this, this.appState)
        }
        ,
        e.prototype.updateAppPhase = function(t, e) {
            this.appState.phase = t,
            this.appState.error = e,
            this.market.update(this, this.appState),
            this.broadcast(new s.a(t))
        }
        ,
        e.prototype.updateActiveApp = function(t) {
            this.appState.application = t,
            this.market.update(this, this.appState),
            this.broadcast(new s.b(t))
        }
        ,
        e.prototype.getData = function() {
            return this.appState
        }
        ,
        e
    }(i.a);
    e.default = u
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = function(t) {
        if ("string" == typeof t) {
            var e = Date.parse(t);
            if (!isNaN(e))
                return new Date(e)
        }
        return new Date(0)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", function() {
        return m
    }),
    n.d(e, "b", function() {
        return v
    }),
    n.d(e, "a", function() {
        return g
    });
    var r, i, o = n(19), s = n(35), a = n(34), u = n(4), c = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), h = function(t, e, n, r) {
        return new (n || (n = Promise))(function(i, o) {
            function s(t) {
                try {
                    u(r.next(t))
                } catch (t) {
                    o(t)
                }
            }
            function a(t) {
                try {
                    u(r.throw(t))
                } catch (t) {
                    o(t)
                }
            }
            function u(t) {
                t.done ? i(t.value) : new n(function(e) {
                    e(t.value)
                }
                ).then(s, a)
            }
            u((r = r.apply(t, e || [])).next())
        }
        )
    }, l = function(t, e) {
        var n, r, i, o, s = {
            label: 0,
            sent: function() {
                if (1 & i[0])
                    throw i[1];
                return i[1]
            },
            trys: [],
            ops: []
        };
        return o = {
            next: a(0),
            throw: a(1),
            return: a(2)
        },
        "function" == typeof Symbol && (o[Symbol.iterator] = function() {
            return this
        }
        ),
        o;
        function a(o) {
            return function(a) {
                return function(o) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; s; )
                        try {
                            if (n = 1,
                            r && (i = r[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(i = i.call(r, o[1])).done)
                                return i;
                            switch (r = 0,
                            i && (o = [0, i.value]),
                            o[0]) {
                            case 0:
                            case 1:
                                i = o;
                                break;
                            case 4:
                                return s.label++,
                                {
                                    value: o[1],
                                    done: !1
                                };
                            case 5:
                                s.label++,
                                r = o[1],
                                o = [0];
                                continue;
                            case 7:
                                o = s.ops.pop(),
                                s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                    s.label = o[1];
                                    break
                                }
                                if (6 === o[0] && s.label < i[1]) {
                                    s.label = i[1],
                                    i = o;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2],
                                    s.ops.push(o);
                                    break
                                }
                                i[2] && s.ops.pop(),
                                s.trys.pop();
                                continue
                            }
                            o = e.call(t, s)
                        } catch (t) {
                            o = [6, t],
                            r = 0
                        } finally {
                            n = i = 0
                        }
                    if (5 & o[0])
                        throw o[1];
                    return {
                        value: o[0] ? o[1] : void 0,
                        done: !0
                    }
                }([o, a])
            }
        }
    }, f = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }, p = new u.a("datasync"), d = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return c(e, t),
        e
    }(o.a);
    !function(t) {
        t[t.IDLE = 0] = "IDLE",
        t[t.LOADING = 1] = "LOADING",
        t[t.CLEAN = 2] = "CLEAN",
        t[t.DIRTY = 3] = "DIRTY"
    }(i || (i = {}));
    var y = function() {
        function t(t, e, n, r) {
            void 0 === r && (r = !1),
            this.state = i.IDLE,
            this.config = t,
            this.collectionData = e,
            r || n.subscribe(d, this.publish.bind(this))
        }
        return t.prototype.load = function() {
            return h(this, void 0, void 0, function() {
                var t, e, n, r, o, s, a, u, c;
                return l(this, function(h) {
                    switch (h.label) {
                    case 0:
                        if (this.state !== i.IDLE)
                            throw Error("Data already loaded");
                        return this.state = i.LOADING,
                        t = [this.config.publishStore.read()],
                        this.config.editStore && t.push(this.config.editStore.read()),
                        this.config.legacyEditStore && t.push(this.config.legacyEditStore.read()),
                        [4, Promise.all(t)];
                    case 1:
                        if (e = h.sent(),
                        this.data = {},
                        n = function(t, e) {
                            return t && t.modified && e.modified && t.modified > e.modified ? t : e
                        }
                        ,
                        r = function(t, e, n, r) {
                            if (!t)
                                return e;
                            if (n && r && r < n)
                                return t;
                            for (var i in e)
                                e.hasOwnProperty(i) && (t[i] = e[i]);
                            return t
                        }
                        ,
                        this.data = e[0],
                        this.collectionData) {
                            for (a = 1; a < e.length; a++)
                                if ((o = e[a]) && 0 !== Object.keys(o).length) {
                                    for (s in o)
                                        o.hasOwnProperty(s) && this.data[s] && (this.config.partialData ? o[s] = r(this.data[s], o[s]) : o[s] = n(this.data[s], o[s]));
                                    this.state = i.DIRTY,
                                    this.data = o
                                }
                        } else
                            for (a = 1; a < e.length; a++)
                                (u = e[a]) && (c = u,
                                this.config.partialData ? this.data = r(this.data, c, this.data.modified, c.modified) : this.data = n(this.data, c),
                                this.state = i.DIRTY);
                        return this.state !== i.DIRTY && (this.state = i.CLEAN),
                        [2, this.data]
                    }
                })
            })
        }
        ,
        Object.defineProperty(t.prototype, "monitorNeeded", {
            get: function() {
                return void 0 !== this.config.editStore || void 0 !== this.config.legacyEditStore
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.addMonitor = function(t) {
            var e = this;
            if (!this.monitorNeeded)
                throw Error("Adding a monitor unnecessarily!");
            this._monitor = t,
            this.diff = {};
            this._monitor.onChanged(function() {
                return h(e, void 0, void 0, function() {
                    return l(this, function(t) {
                        switch (t.label) {
                        case 0:
                            return this.state = i.DIRTY,
                            this.onDataChanged(),
                            [4, this.saveSession()];
                        case 1:
                            return t.sent(),
                            [2]
                        }
                    })
                })
            })
        }
        ,
        Object.defineProperty(t.prototype, "monitor", {
            get: function() {
                return this._monitor
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.saveSession = function() {
            return h(this, void 0, void 0, function() {
                return l(this, function(t) {
                    switch (t.label) {
                    case 0:
                        return p.info("Saving session..."),
                        this.config.editStore ? [4, this.config.editStore.update(this.generateStorePayload(this.config.editStore))] : [3, 2];
                    case 1:
                        t.sent(),
                        t.label = 2;
                    case 2:
                        return this.config.legacyEditStore ? [4, this.config.legacyEditStore.update(this.generateStorePayload(this.config.legacyEditStore))] : [3, 4];
                    case 3:
                        t.sent(),
                        t.label = 4;
                    case 4:
                        return [2]
                    }
                })
            })
        }
        ,
        t.prototype.publish = function() {
            return h(this, void 0, void 0, function() {
                var t, e;
                return l(this, function(n) {
                    switch (n.label) {
                    case 0:
                        if (this.state !== i.DIRTY)
                            return [2];
                        if ("function" != typeof (t = this.config.publishStore).update)
                            return [3, 9];
                        n.label = 1;
                    case 1:
                        return n.trys.push([1, 3, , 4]),
                        [4, t.update(this.generateStorePayload(t))];
                    case 2:
                        return n.sent(),
                        [3, 4];
                    case 3:
                        throw e = n.sent(),
                        Error("Failed to publish data: " + e);
                    case 4:
                        return this.config.editStore ? [4, this.config.editStore.delete()] : [3, 6];
                    case 5:
                        n.sent(),
                        n.label = 6;
                    case 6:
                        return this.config.legacyEditStore ? [4, this.config.legacyEditStore.delete()] : [3, 8];
                    case 7:
                        n.sent(),
                        n.label = 8;
                    case 8:
                        return this.state = i.CLEAN,
                        [3, 10];
                    case 9:
                        throw Error("Trying to publish with readonly store");
                    case 10:
                        return [2]
                    }
                })
            })
        }
        ,
        t.prototype.generateStorePayload = function(t) {
            if (!t.acceptsPartial)
                return this.data;
            if (!t.requiredKey)
                return this.diff;
            var e = {};
            for (var n in this.diff) {
                var r = this.diff[n] || {};
                r[t.requiredKey] = this.data[n][t.requiredKey],
                e[n] = r
            }
            return e
        }
        ,
        t
    }()
      , m = function(t) {
        function e(e, n, r) {
            return void 0 === r && (r = !1),
            t.call(this, e, !1, n, r) || this
        }
        return c(e, t),
        e.prototype.onDataChanged = function() {
            throw Error("Not implemented.")
        }
        ,
        e
    }(y)
      , v = function(t) {
        function e(e, n, r) {
            return void 0 === r && (r = !1),
            t.call(this, e, !0, n, r) || this
        }
        return c(e, t),
        e.prototype.onDataChanged = function() {
            var t, e, n = this.monitor.getDiffRecord();
            try {
                for (var r = f(n), i = r.next(); !i.done; i = r.next()) {
                    var o = i.value;
                    switch (o.action) {
                    case a.a.added:
                        this.diff[o.index] = o.diff;
                        break;
                    case a.a.updated:
                        this.diff[o.index] || (this.diff[o.index] = {}),
                        Object(s.b)(this.diff[o.index], o.diff);
                        break;
                    case a.a.removed:
                        delete this.diff[o.index]
                    }
                }
            } catch (e) {
                t = {
                    error: e
                }
            } finally {
                try {
                    i && !i.done && (e = r.return) && e.call(r)
                } finally {
                    if (t)
                        throw t.error
                }
            }
            this.monitor.clearDiffRecord()
        }
        ,
        e
    }(y)
      , g = function(t) {
        function e(e, n, r) {
            return void 0 === r && (r = !1),
            t.call(this, e, !0, n, r) || this
        }
        return c(e, t),
        e.prototype.load = function() {
            return h(this, void 0, void 0, function() {
                var e;
                return l(this, function(n) {
                    switch (n.label) {
                    case 0:
                        return [4, t.prototype.load.call(this)];
                    case 1:
                        return e = n.sent(),
                        0 === Object.keys(e).length ? [2, []] : [2, e]
                    }
                })
            })
        }
        ,
        e.prototype.addMonitor = function(t) {
            throw Error("ArraySync is deprecated. Convert to CollectionSync to add save support")
        }
        ,
        e.prototype.onDataChanged = function() {}
        ,
        e
    }(y)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r, i = n(5);
    function o(t, e, n) {
        return void 0 === e && void 0 === n ? this.set(t) : this.setRGB(t, e, n)
    }
    o.prototype = {
        constructor: o,
        isColor: !0,
        r: 1,
        g: 1,
        b: 1,
        set: function(t) {
            return t && t.isColor ? this.copy(t) : "number" == typeof t ? this.setHex(t) : "string" == typeof t && this.setStyle(t),
            this
        },
        setScalar: function(t) {
            this.r = t,
            this.g = t,
            this.b = t
        },
        setHex: function(t) {
            return t = Math.floor(t),
            this.r = (t >> 16 & 255) / 255,
            this.g = (t >> 8 & 255) / 255,
            this.b = (255 & t) / 255,
            this
        },
        setRGB: function(t, e, n) {
            return this.r = t,
            this.g = e,
            this.b = n,
            this
        },
        setHSL: function() {
            function t(t, e, n) {
                return n < 0 && (n += 1),
                n > 1 && (n -= 1),
                n < 1 / 6 ? t + 6 * (e - t) * n : n < .5 ? e : n < 2 / 3 ? t + 6 * (e - t) * (2 / 3 - n) : t
            }
            return function(e, n, r) {
                if (e = i.a.euclideanModulo(e, 1),
                n = i.a.clamp(n, 0, 1),
                r = i.a.clamp(r, 0, 1),
                0 === n)
                    this.r = this.g = this.b = r;
                else {
                    var o = r <= .5 ? r * (1 + n) : r + n - r * n
                      , s = 2 * r - o;
                    this.r = t(s, o, e + 1 / 3),
                    this.g = t(s, o, e),
                    this.b = t(s, o, e - 1 / 3)
                }
                return this
            }
        }(),
        setStyle: function(t) {
            function e(e) {
                void 0 !== e && parseFloat(e) < 1 && console.warn("THREE.Color: Alpha component of " + t + " will be ignored.")
            }
            var n;
            if (n = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)) {
                var i, o = n[1], s = n[2];
                switch (o) {
                case "rgb":
                case "rgba":
                    if (i = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))
                        return this.r = Math.min(255, parseInt(i[1], 10)) / 255,
                        this.g = Math.min(255, parseInt(i[2], 10)) / 255,
                        this.b = Math.min(255, parseInt(i[3], 10)) / 255,
                        e(i[5]),
                        this;
                    if (i = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))
                        return this.r = Math.min(100, parseInt(i[1], 10)) / 100,
                        this.g = Math.min(100, parseInt(i[2], 10)) / 100,
                        this.b = Math.min(100, parseInt(i[3], 10)) / 100,
                        e(i[5]),
                        this;
                    break;
                case "hsl":
                case "hsla":
                    if (i = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s)) {
                        var a = parseFloat(i[1]) / 360
                          , u = parseInt(i[2], 10) / 100
                          , c = parseInt(i[3], 10) / 100;
                        return e(i[5]),
                        this.setHSL(a, u, c)
                    }
                }
            } else if (n = /^\#([A-Fa-f0-9]+)$/.exec(t)) {
                var h, l = (h = n[1]).length;
                if (3 === l)
                    return this.r = parseInt(h.charAt(0) + h.charAt(0), 16) / 255,
                    this.g = parseInt(h.charAt(1) + h.charAt(1), 16) / 255,
                    this.b = parseInt(h.charAt(2) + h.charAt(2), 16) / 255,
                    this;
                if (6 === l)
                    return this.r = parseInt(h.charAt(0) + h.charAt(1), 16) / 255,
                    this.g = parseInt(h.charAt(2) + h.charAt(3), 16) / 255,
                    this.b = parseInt(h.charAt(4) + h.charAt(5), 16) / 255,
                    this
            }
            t && t.length > 0 && (void 0 !== (h = r[t]) ? this.setHex(h) : console.warn("THREE.Color: Unknown color " + t));
            return this
        },
        clone: function() {
            return new this.constructor(this.r,this.g,this.b)
        },
        copy: function(t) {
            return this.r = t.r,
            this.g = t.g,
            this.b = t.b,
            this
        },
        copyGammaToLinear: function(t, e) {
            return void 0 === e && (e = 2),
            this.r = Math.pow(t.r, e),
            this.g = Math.pow(t.g, e),
            this.b = Math.pow(t.b, e),
            this
        },
        copyLinearToGamma: function(t, e) {
            void 0 === e && (e = 2);
            var n = e > 0 ? 1 / e : 1;
            return this.r = Math.pow(t.r, n),
            this.g = Math.pow(t.g, n),
            this.b = Math.pow(t.b, n),
            this
        },
        convertGammaToLinear: function() {
            var t = this.r
              , e = this.g
              , n = this.b;
            return this.r = t * t,
            this.g = e * e,
            this.b = n * n,
            this
        },
        convertLinearToGamma: function() {
            return this.r = Math.sqrt(this.r),
            this.g = Math.sqrt(this.g),
            this.b = Math.sqrt(this.b),
            this
        },
        getHex: function() {
            return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
        },
        getHexString: function() {
            return ("000000" + this.getHex().toString(16)).slice(-6)
        },
        getHSL: function(t) {
            var e, n, r = t || {
                h: 0,
                s: 0,
                l: 0
            }, i = this.r, o = this.g, s = this.b, a = Math.max(i, o, s), u = Math.min(i, o, s), c = (u + a) / 2;
            if (u === a)
                e = 0,
                n = 0;
            else {
                var h = a - u;
                switch (n = c <= .5 ? h / (a + u) : h / (2 - a - u),
                a) {
                case i:
                    e = (o - s) / h + (o < s ? 6 : 0);
                    break;
                case o:
                    e = (s - i) / h + 2;
                    break;
                case s:
                    e = (i - o) / h + 4
                }
                e /= 6
            }
            return r.h = e,
            r.s = n,
            r.l = c,
            r
        },
        getStyle: function() {
            return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
        },
        offsetHSL: function(t, e, n) {
            var r = this.getHSL();
            return r.h += t,
            r.s += e,
            r.l += n,
            this.setHSL(r.h, r.s, r.l),
            this
        },
        add: function(t) {
            return this.r += t.r,
            this.g += t.g,
            this.b += t.b,
            this
        },
        addColors: function(t, e) {
            return this.r = t.r + e.r,
            this.g = t.g + e.g,
            this.b = t.b + e.b,
            this
        },
        addScalar: function(t) {
            return this.r += t,
            this.g += t,
            this.b += t,
            this
        },
        sub: function(t) {
            return this.r = Math.max(0, this.r - t.r),
            this.g = Math.max(0, this.g - t.g),
            this.b = Math.max(0, this.b - t.b),
            this
        },
        multiply: function(t) {
            return this.r *= t.r,
            this.g *= t.g,
            this.b *= t.b,
            this
        },
        multiplyScalar: function(t) {
            return this.r *= t,
            this.g *= t,
            this.b *= t,
            this
        },
        lerp: function(t, e) {
            return this.r += (t.r - this.r) * e,
            this.g += (t.g - this.g) * e,
            this.b += (t.b - this.b) * e,
            this
        },
        equals: function(t) {
            return t.r === this.r && t.g === this.g && t.b === this.b
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0),
            this.r = t[e],
            this.g = t[e + 1],
            this.b = t[e + 2],
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this.r,
            t[e + 1] = this.g,
            t[e + 2] = this.b,
            t
        },
        toJSON: function() {
            return this.getHex()
        }
    },
    r = {
        aliceblue: 15792383,
        antiquewhite: 16444375,
        aqua: 65535,
        aquamarine: 8388564,
        azure: 15794175,
        beige: 16119260,
        bisque: 16770244,
        black: 0,
        blanchedalmond: 16772045,
        blue: 255,
        blueviolet: 9055202,
        brown: 10824234,
        burlywood: 14596231,
        cadetblue: 6266528,
        chartreuse: 8388352,
        chocolate: 13789470,
        coral: 16744272,
        cornflowerblue: 6591981,
        cornsilk: 16775388,
        crimson: 14423100,
        cyan: 65535,
        darkblue: 139,
        darkcyan: 35723,
        darkgoldenrod: 12092939,
        darkgray: 11119017,
        darkgreen: 25600,
        darkgrey: 11119017,
        darkkhaki: 12433259,
        darkmagenta: 9109643,
        darkolivegreen: 5597999,
        darkorange: 16747520,
        darkorchid: 10040012,
        darkred: 9109504,
        darksalmon: 15308410,
        darkseagreen: 9419919,
        darkslateblue: 4734347,
        darkslategray: 3100495,
        darkslategrey: 3100495,
        darkturquoise: 52945,
        darkviolet: 9699539,
        deeppink: 16716947,
        deepskyblue: 49151,
        dimgray: 6908265,
        dimgrey: 6908265,
        dodgerblue: 2003199,
        firebrick: 11674146,
        floralwhite: 16775920,
        forestgreen: 2263842,
        fuchsia: 16711935,
        gainsboro: 14474460,
        ghostwhite: 16316671,
        gold: 16766720,
        goldenrod: 14329120,
        gray: 8421504,
        green: 32768,
        greenyellow: 11403055,
        grey: 8421504,
        honeydew: 15794160,
        hotpink: 16738740,
        indianred: 13458524,
        indigo: 4915330,
        ivory: 16777200,
        khaki: 15787660,
        lavender: 15132410,
        lavenderblush: 16773365,
        lawngreen: 8190976,
        lemonchiffon: 16775885,
        lightblue: 11393254,
        lightcoral: 15761536,
        lightcyan: 14745599,
        lightgoldenrodyellow: 16448210,
        lightgray: 13882323,
        lightgreen: 9498256,
        lightgrey: 13882323,
        lightpink: 16758465,
        lightsalmon: 16752762,
        lightseagreen: 2142890,
        lightskyblue: 8900346,
        lightslategray: 7833753,
        lightslategrey: 7833753,
        lightsteelblue: 11584734,
        lightyellow: 16777184,
        lime: 65280,
        limegreen: 3329330,
        linen: 16445670,
        magenta: 16711935,
        maroon: 8388608,
        mediumaquamarine: 6737322,
        mediumblue: 205,
        mediumorchid: 12211667,
        mediumpurple: 9662683,
        mediumseagreen: 3978097,
        mediumslateblue: 8087790,
        mediumspringgreen: 64154,
        mediumturquoise: 4772300,
        mediumvioletred: 13047173,
        midnightblue: 1644912,
        mintcream: 16121850,
        mistyrose: 16770273,
        moccasin: 16770229,
        navajowhite: 16768685,
        navy: 128,
        oldlace: 16643558,
        olive: 8421376,
        olivedrab: 7048739,
        orange: 16753920,
        orangered: 16729344,
        orchid: 14315734,
        palegoldenrod: 15657130,
        palegreen: 10025880,
        paleturquoise: 11529966,
        palevioletred: 14381203,
        papayawhip: 16773077,
        peachpuff: 16767673,
        peru: 13468991,
        pink: 16761035,
        plum: 14524637,
        powderblue: 11591910,
        purple: 8388736,
        red: 16711680,
        rosybrown: 12357519,
        royalblue: 4286945,
        saddlebrown: 9127187,
        salmon: 16416882,
        sandybrown: 16032864,
        seagreen: 3050327,
        seashell: 16774638,
        sienna: 10506797,
        silver: 12632256,
        skyblue: 8900331,
        slateblue: 6970061,
        slategray: 7372944,
        slategrey: 7372944,
        snow: 16775930,
        springgreen: 65407,
        steelblue: 4620980,
        tan: 13808780,
        teal: 32896,
        thistle: 14204888,
        tomato: 16737095,
        turquoise: 4251856,
        violet: 15631086,
        wheat: 16113331,
        white: 16777215,
        whitesmoke: 16119285,
        yellow: 16776960,
        yellowgreen: 10145074
    }
}
, function(t, e, n) {
    "use strict";
    var r, i;
    n.d(e, "b", function() {
        return r
    }),
    n.d(e, "a", function() {
        return i
    }),
    function(t) {
        t[t.Desktop = 0] = "Desktop",
        t[t.Mobile = 1] = "Mobile",
        t[t.VrOrientOnly = 2] = "VrOrientOnly",
        t[t.VrWithController = 3] = "VrWithController",
        t[t.VrWithTrackedController = 4] = "VrWithTrackedController"
    }(r = r || (r = {})),
    function(t) {
        t.None = "interaction.none",
        t.Direct = "interaction.direct",
        t.Key = "interaction.key",
        t.Gui = "interaction.gui"
    }(i = i || (i = {}))
}
, , , function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return a
    });
    var r, i, o = n(45), s = n(1);
    function a(t, e) {
        this.normal = void 0 !== t ? t : new s.a(1,0,0),
        this.constant = void 0 !== e ? e : 0
    }
    a.prototype = {
        constructor: a,
        set: function(t, e) {
            return this.normal.copy(t),
            this.constant = e,
            this
        },
        setComponents: function(t, e, n, r) {
            return this.normal.set(t, e, n),
            this.constant = r,
            this
        },
        setFromNormalAndCoplanarPoint: function(t, e) {
            return this.normal.copy(t),
            this.constant = -e.dot(this.normal),
            this
        },
        setFromCoplanarPoints: (r = new s.a,
        i = new s.a,
        function(t, e, n) {
            var o = r.subVectors(n, e).cross(i.subVectors(t, e)).normalize();
            return this.setFromNormalAndCoplanarPoint(o, t),
            this
        }
        ),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.normal.copy(t.normal),
            this.constant = t.constant,
            this
        },
        normalize: function() {
            var t = 1 / this.normal.length();
            return this.normal.multiplyScalar(t),
            this.constant *= t,
            this
        },
        negate: function() {
            return this.constant *= -1,
            this.normal.negate(),
            this
        },
        distanceToPoint: function(t) {
            return this.normal.dot(t) + this.constant
        },
        distanceToSphere: function(t) {
            return this.distanceToPoint(t.center) - t.radius
        },
        projectPoint: function(t, e) {
            return this.orthoPoint(t, e).sub(t).negate()
        },
        orthoPoint: function(t, e) {
            var n = this.distanceToPoint(t);
            return (e || new s.a).copy(this.normal).multiplyScalar(n)
        },
        intersectLine: function() {
            var t = new s.a;
            return function(e, n) {
                var r = n || new s.a
                  , i = e.delta(t)
                  , o = this.normal.dot(i);
                if (0 === o)
                    return 0 === this.distanceToPoint(e.start) ? r.copy(e.start) : void 0;
                var a = -(e.start.dot(this.normal) + this.constant) / o;
                return a < 0 || a > 1 ? void 0 : r.copy(i).multiplyScalar(a).add(e.start)
            }
        }(),
        intersectsLine: function(t) {
            var e = this.distanceToPoint(t.start)
              , n = this.distanceToPoint(t.end);
            return e < 0 && n > 0 || n < 0 && e > 0
        },
        intersectsBox: function(t) {
            return t.intersectsPlane(this)
        },
        intersectsSphere: function(t) {
            return t.intersectsPlane(this)
        },
        coplanarPoint: function(t) {
            return (t || new s.a).copy(this.normal).multiplyScalar(-this.constant)
        },
        applyMatrix4: function() {
            var t = new s.a
              , e = new o.a;
            return function(n, r) {
                var i = this.coplanarPoint(t).applyMatrix4(n)
                  , o = r || e.getNormalMatrix(n)
                  , s = this.normal.applyMatrix3(o).normalize();
                return this.constant = -i.dot(s),
                this
            }
        }(),
        translate: function(t) {
            return this.constant = this.constant - t.dot(this.normal),
            this
        },
        equals: function(t) {
            return t.normal.equals(this.normal) && t.constant === this.constant
        }
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return s
    }),
    n.d(e, "b", function() {
        return a
    });
    var r, i = n(19), o = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), s = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.phase = e,
            n
        }
        return o(e, t),
        e
    }(i.a), a = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.application = e,
            n
        }
        return o(e, t),
        e
    }(i.a)
}
, function(t, e, n) {
    "use strict";
    function r(t) {
        return {
            x: t.x,
            y: t.y,
            z: t.z
        }
    }
    function i(t) {
        return {
            x: t.x,
            y: t.y,
            z: t.z,
            w: t.w
        }
    }
    function o(t) {
        return "#" + t.getHexString()
    }
    n.d(e, "c", function() {
        return r
    }),
    n.d(e, "b", function() {
        return i
    }),
    n.d(e, "a", function() {
        return o
    })
}
, function(t, e, n) {
    "use strict";
    n.r(e);
    var r, i = n(4), o = n(23), s = n(1), a = n(3), u = n(46), c = n(12), h = function(t, e, n, r) {
        return new (n || (n = Promise))(function(i, o) {
            function s(t) {
                try {
                    u(r.next(t))
                } catch (t) {
                    o(t)
                }
            }
            function a(t) {
                try {
                    u(r.throw(t))
                } catch (t) {
                    o(t)
                }
            }
            function u(t) {
                t.done ? i(t.value) : new n(function(e) {
                    e(t.value)
                }
                ).then(s, a)
            }
            u((r = r.apply(t, e || [])).next())
        }
        )
    }, l = function(t, e) {
        var n, r, i, o, s = {
            label: 0,
            sent: function() {
                if (1 & i[0])
                    throw i[1];
                return i[1]
            },
            trys: [],
            ops: []
        };
        return o = {
            next: a(0),
            throw: a(1),
            return: a(2)
        },
        "function" == typeof Symbol && (o[Symbol.iterator] = function() {
            return this
        }
        ),
        o;
        function a(o) {
            return function(a) {
                return function(o) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; s; )
                        try {
                            if (n = 1,
                            r && (i = r[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(i = i.call(r, o[1])).done)
                                return i;
                            switch (r = 0,
                            i && (o = [0, i.value]),
                            o[0]) {
                            case 0:
                            case 1:
                                i = o;
                                break;
                            case 4:
                                return s.label++,
                                {
                                    value: o[1],
                                    done: !1
                                };
                            case 5:
                                s.label++,
                                r = o[1],
                                o = [0];
                                continue;
                            case 7:
                                o = s.ops.pop(),
                                s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                    s.label = o[1];
                                    break
                                }
                                if (6 === o[0] && s.label < i[1]) {
                                    s.label = i[1],
                                    i = o;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2],
                                    s.ops.push(o);
                                    break
                                }
                                i[2] && s.ops.pop(),
                                s.trys.pop();
                                continue
                            }
                            o = e.call(t, s)
                        } catch (t) {
                            o = [6, t],
                            r = 0
                        } finally {
                            n = i = 0
                        }
                    if (5 & o[0])
                        throw o[1];
                    return {
                        value: o[0] ? o[1] : void 0,
                        done: !0
                    }
                }([o, a])
            }
        }
    }, f = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }, p = function() {
        function t(t) {
            var e = this;
            this.onChange = t,
            this.settings = {},
            this.helperObject = {
                colors: {},
                vectors: {},
                quaternions: {}
            },
            this.initPromise = new c.a,
            this.uninitError = "ControlKit not yet initialized",
            this.lastKeys = [],
            this.lastKeysBufferLength = 0,
            this.controlKit = void 0,
            this.updateRequired = !1,
            this.panels = [],
            this.onToggleCallbacks = {},
            this.onKeyDown = function(t) {
                e.lastKeys.unshift(t.keyCode),
                e.lastKeys.length > e.lastKeysBufferLength && e.lastKeys.pop();
                for (var n = 0; n < e.panels.length; n++) {
                    var r = e.panels[n].activationSequence;
                    Object(u.d)(e.lastKeys, r) && e.toggle(n)
                }
            }
            ,
            this.getSubGroup = function(t, e) {
                var n = this.panels[t];
                if (!n.allowSubGroups)
                    return n.guiPanel;
                var r = n.subGroups[e];
                return r || (r = n.guiPanel.addSubGroup({
                    label: e,
                    enable: !1
                }),
                n.subGroups[e] = r),
                r
            }
            ,
            this.addColor = function(t, n, r, i) {
                e.updateHelperObject(r, i),
                t.addColor(e.helperObject.colors, n + r, {
                    label: r,
                    colorMode: "hex",
                    onChange: function(t) {
                        e.settings[n + r].setHex(parseInt(t.substring(1), 16));
                        var i = {};
                        i[r] = e.settings[n + r],
                        e.onChange(i)
                    }
                })
            }
            ,
            this.addVector3 = function(t, n, r, i) {
                e.updateHelperObject(r, i);
                var o = t.addSubGroup({
                    label: r
                })
                  , a = ["x", "y", "z"];
                for (var u in a)
                    o.addNumberInput(e.helperObject.vectors[n + r], a[u], {
                        label: a[u],
                        onChange: function() {
                            e.settings[n + r] = new s.a(e.helperObject.vectors[r].x,e.helperObject.vectors[r].y,e.helperObject.vectors[r].z);
                            var t = {};
                            t[r] = e.settings[n + r],
                            e.onChange(t)
                        }
                    })
            }
            ,
            this.addQuaternion = function(t, n, r, i) {
                e.updateHelperObject(r, i);
                var o = t.addSubGroup({
                    label: r
                })
                  , s = ["x", "y", "z", "w"];
                for (var u in s) {
                    var c = r + s[u];
                    o.addNumberInput(e.helperObject.quaternions[n + r], c, {
                        label: s[u],
                        onChange: function() {
                            e.settings[n + r] = new a.a(e.helperObject.quaternions[n + r].x,e.helperObject.quaternions[n + r].y,e.helperObject.quaternions[n + r].z,e.helperObject.quaternions[n + r].w);
                            var t = {};
                            t[r] = e.settings[n + r],
                            e.onChange(t)
                        }
                    })
                }
            }
            ,
            this.boundOnKey = this.onKeyDown.bind(this)
        }
        return t.prototype.init = function() {}
        ,
        t.prototype.loadGuiPackage = function() {
            return h(this, void 0, void 0, function() {
                var t = this;
                return l(this, function(e) {
                    return this.controlKit || n.e(8).then(function() {
                        var t = n(737);
                        return "object" == typeof t && t && t.__esModule ? t : Object.assign({}, "object" == typeof t && t, {
                            default: t
                        })
                    }).then(function(e) {
                        t.controlKit = new e.default({
                            opacity: .9,
                            enable: !1
                        }),
                        t.controlKit.setShortcutEnable(""),
                        t.controlKit.enable(),
                        t.initPromise.resolve()
                    }),
                    [2, this.loadPromise]
                })
            })
        }
        ,
        Object.defineProperty(t.prototype, "loadPromise", {
            get: function() {
                return this.initPromise.nativePromise()
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "isLoaded", {
            get: function() {
                return void 0 !== this.controlKit
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.addPanel = function(t, e, n) {
            if (void 0 === n && (n = {}),
            !this.controlKit)
                throw new Error(this.uninitError);
            for (void 0 === n.width && (n.width = 250),
            void 0 === n.allowSubGroups && (n.allowSubGroups = !0),
            void 0 === n.ratio && (n.ratio = 60),
            this.lastKeysBufferLength = Math.max(this.lastKeysBufferLength, e.length); this.lastKeysBufferLength > this.lastKeys.length; )
                this.lastKeys.unshift(-1);
            var r = this.controlKit.addPanel({
                label: t,
                align: "right",
                ratio: n.ratio,
                width: n.width
            });
            return this.panels.push({
                guiPanel: r,
                subGroups: [],
                allowSubGroups: n.allowSubGroups,
                activationSequence: e.reverse()
            }),
            this.panels.length - 1
        }
        ,
        t.prototype.isVisible = function(t) {
            if (!this.controlKit)
                throw new Error(this.uninitError);
            return this.panels[t].guiPanel._enabled
        }
        ,
        t.prototype.toggle = function(t) {
            var e = this;
            this.controlKit ? this.toggleVisibility(t) : this.loadGuiPackage().then(function() {
                e.toggleVisibility(t)
            })
        }
        ,
        t.prototype.onToggle = function(t, e) {
            this.onToggleCallbacks[t] || (this.onToggleCallbacks[t] = []),
            this.onToggleCallbacks[t].push(e)
        }
        ,
        t.prototype.toggleVisibility = function(t) {
            var e, n, r = this.panels[t].guiPanel._enabled;
            if (r ? this.panels[t].guiPanel.disable() : this.panels[t].guiPanel.enable(),
            this.onToggleCallbacks[t])
                try {
                    for (var i = f(this.onToggleCallbacks[t]), o = i.next(); !o.done; o = i.next()) {
                        (0,
                        o.value)(!r)
                    }
                } catch (t) {
                    e = {
                        error: t
                    }
                } finally {
                    try {
                        o && !o.done && (n = i.return) && n.call(i)
                    } finally {
                        if (e)
                            throw e.error
                    }
                }
        }
        ,
        t.prototype.dispose = function() {
            this.deactivate();
            var t = document.getElementById("controlKit");
            t && t.remove(),
            this.controlKit = void 0
        }
        ,
        t.prototype.activate = function() {
            window.addEventListener("keydown", this.boundOnKey)
        }
        ,
        t.prototype.deactivate = function() {
            this.controlKit && this.controlKit.disable(),
            window.removeEventListener("keydown", this.boundOnKey)
        }
        ,
        t.prototype.render = function() {
            this.controlKit && this.updateRequired && this.controlKit.update()
        }
        ,
        t.prototype.updateSetting = function(t, e, n) {
            if (!this.controlKit)
                throw new Error(this.uninitError);
            "function" == typeof n.equals ? n.equals(this.settings[t + e]) || (this.settings[t + e].copy(n),
            this.updateHelperObject(name, n),
            this.updateRequired = !0) : n !== this.settings[t + e] && (this.settings[t + e] = n,
            this.updateRequired = !0)
        }
        ,
        t.prototype.isRegistered = function(t, e) {
            return void 0 !== this.settings[t + e]
        }
        ,
        t.prototype.addControl = function(t, e, n, r) {
            var i = this;
            if (!this.controlKit)
                throw new Error(this.uninitError);
            var u = this.getSubGroup(t, e);
            if (this.settings[t + n] = r,
            r instanceof o.a)
                this.addColor(u, t, n, r);
            else if (r instanceof s.a)
                this.addVector3(u, t, n, r);
            else if (r instanceof a.a)
                this.addQuaternion(u, t, n, r);
            else
                switch (typeof r) {
                case "string":
                    u.addStringInput(this.settings, t + n, {
                        label: n,
                        onChange: function() {
                            var e = {};
                            e[n] = i.settings[t + n],
                            i.onChange(e)
                        }
                    });
                    break;
                case "number":
                    u.addNumberInput(this.settings, t + n, {
                        label: n,
                        onChange: function() {
                            var e = {};
                            e[n] = i.settings[t + n],
                            i.onChange(e)
                        }
                    });
                    break;
                case "boolean":
                    u.addCheckbox(this.settings, t + n, {
                        label: n,
                        ratio: 10,
                        onChange: function() {
                            var e = {};
                            e[n] = i.settings[t + n],
                            i.onChange(e)
                        }
                    });
                    break;
                default:
                    u.addStringOutput(this.settings, t + n, {
                        label: n
                    })
                }
        }
        ,
        t.prototype.addButton = function(t, e, n, r) {
            if (!this.controlKit)
                throw new Error(this.uninitError);
            this.getSubGroup(t, e).addButton(n, r, {
                label: "none",
                ratio: 100
            })
        }
        ,
        t.prototype.addSlider = function(t, e, n, r, i, o, s) {
            var a = this;
            if (!this.controlKit)
                throw new Error(this.uninitError);
            var u = this.getSubGroup(t, e);
            this.settings[t + n] = r,
            this.settings[t + n + "_range"] = [i, o],
            u.addSlider(this.settings, t + n, t + n + "_range", {
                label: n,
                dp: s,
                onChange: function() {
                    var e = {};
                    e[n] = a.settings[t + n],
                    a.onChange(e)
                }
            })
        }
        ,
        t.prototype.updateHelperObject = function(t, e) {
            e instanceof o.a ? this.helperObject.colors[t] = "#" + e.getHexString() : e instanceof s.a ? (this.helperObject.vectors[t] = {},
            this.helperObject.vectors[t].x = e.x,
            this.helperObject.vectors[t].y = e.y,
            this.helperObject.vectors[t].z = e.z) : e instanceof a.a && (this.helperObject.quaternions[t] = {},
            this.helperObject.quaternions[t].x = e.x,
            this.helperObject.quaternions[t].y = e.y,
            this.helperObject.quaternions[t].z = e.z,
            this.helperObject.quaternions[t].w = e.w)
        }
        ,
        t
    }(), d = n(2), y = n(70), m = n(28), v = n(8), g = n(18), b = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), _ = function(t, e, n, r) {
        return new (n || (n = Promise))(function(i, o) {
            function s(t) {
                try {
                    u(r.next(t))
                } catch (t) {
                    o(t)
                }
            }
            function a(t) {
                try {
                    u(r.throw(t))
                } catch (t) {
                    o(t)
                }
            }
            function u(t) {
                t.done ? i(t.value) : new n(function(e) {
                    e(t.value)
                }
                ).then(s, a)
            }
            u((r = r.apply(t, e || [])).next())
        }
        )
    }, w = function(t, e) {
        var n, r, i, o, s = {
            label: 0,
            sent: function() {
                if (1 & i[0])
                    throw i[1];
                return i[1]
            },
            trys: [],
            ops: []
        };
        return o = {
            next: a(0),
            throw: a(1),
            return: a(2)
        },
        "function" == typeof Symbol && (o[Symbol.iterator] = function() {
            return this
        }
        ),
        o;
        function a(o) {
            return function(a) {
                return function(o) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; s; )
                        try {
                            if (n = 1,
                            r && (i = r[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(i = i.call(r, o[1])).done)
                                return i;
                            switch (r = 0,
                            i && (o = [0, i.value]),
                            o[0]) {
                            case 0:
                            case 1:
                                i = o;
                                break;
                            case 4:
                                return s.label++,
                                {
                                    value: o[1],
                                    done: !1
                                };
                            case 5:
                                s.label++,
                                r = o[1],
                                o = [0];
                                continue;
                            case 7:
                                o = s.ops.pop(),
                                s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                    s.label = o[1];
                                    break
                                }
                                if (6 === o[0] && s.label < i[1]) {
                                    s.label = i[1],
                                    i = o;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2],
                                    s.ops.push(o);
                                    break
                                }
                                i[2] && s.ops.pop(),
                                s.trys.pop();
                                continue
                            }
                            o = e.call(t, s)
                        } catch (t) {
                            o = [6, t],
                            r = 0
                        } finally {
                            n = i = 0
                        }
                    if (5 & o[0])
                        throw o[1];
                    return {
                        value: o[0] ? o[1] : void 0,
                        done: !0
                    }
                }([o, a])
            }
        }
    }, E = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }, x = new i.a("settings"), O = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.name = "settings",
            e.queuedControls = [],
            e.queuedButtons = [],
            e.secretWord = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65, 72],
            e.panelID = -1,
            e
        }
        return b(e, t),
        e.prototype.init = function(t, e) {
            return _(this, void 0, void 0, function() {
                var n, r, i, o, s = this;
                return w(this, function(a) {
                    for (r in this.settings = new y.a,
                    this.engine = e,
                    t.useGUI && (this.settingsGUI = new p(function(t) {
                        s.updateSettings(t)
                    }
                    ),
                    e.addComponent(this, this.settingsGUI)),
                    n = Object(g.k)())
                        "string" == typeof (i = n[r]) && (o = Number.parseFloat(i),
                        isNaN(o) || (i = o)),
                        this.settings.setProperty(r, i),
                        t.useGUI && this.queuedControls.push({
                            group: "Engine Config",
                            settingName: r,
                            value: i
                        });
                    return this.engine.market.register(this, y.a, this.settings),
                    t.useGUI && (this.onPhaseChange = this.onPhaseChange.bind(this),
                    e.subscribe(m.a, this.onPhaseChange),
                    this.settingsGUI.loadPromise.then(function() {
                        s.panelID = s.settingsGUI.addPanel("3.0.3.82-0-ge8c0dfde1", s.secretWord);
                        try {
                            for (var t = E(s.queuedControls), e = t.next(); !e.done; e = t.next()) {
                                var n = e.value;
                                s.settingsGUI.addControl(s.panelID, n.group, n.settingName, n.value)
                            }
                        } catch (t) {
                            a = {
                                error: t
                            }
                        } finally {
                            try {
                                e && !e.done && (u = t.return) && u.call(t)
                            } finally {
                                if (a)
                                    throw a.error
                            }
                        }
                        try {
                            for (var r = E(s.queuedButtons), i = r.next(); !i.done; i = r.next()) {
                                var o = i.value;
                                s.settingsGUI.addButton(s.panelID, o.group, o.buttonName, o.callback)
                            }
                        } catch (t) {
                            c = {
                                error: t
                            }
                        } finally {
                            try {
                                i && !i.done && (h = r.return) && h.call(r)
                            } finally {
                                if (c)
                                    throw c.error
                            }
                        }
                        var a, u, c, h;
                        s.settingsGUI.toggle(s.panelID)
                    })),
                    [2]
                })
            })
        }
        ,
        e.prototype.onPhaseChange = function(t) {
            t.phase !== v.a.STARTING && t.phase !== v.a.PLAYING || (this.settingsGUI.loadGuiPackage(),
            this.engine.unsubscribe(m.a, this.onPhaseChange))
        }
        ,
        e.prototype.getSettingsGui = function() {
            return this.settingsGUI
        }
        ,
        e.prototype.updateSetting = function(t, e) {
            e && e.clone && "function" == typeof e.clone ? this.settings.setProperty(t, e.clone()) : this.settings.setProperty(t, e),
            this.engine.market.update(this, this.settings),
            this.settingsGUI && this.settingsGUI.isLoaded && this.settingsGUI.updateSetting(this.panelID, t, e)
        }
        ,
        e.prototype.updateSettings = function(t) {
            for (var e in t)
                this.updateSetting(e, t[e])
        }
        ,
        e.prototype.registerSetting = function(t, e, n, r) {
            var i;
            (void 0 === r && (r = !0),
            this.settingsGUI && this.settingsGUI.isRegistered(this.panelID, e)) ? x.warn("Duplicate setting " + e + " registered. Is a module being used twice?") : (i = "function" == typeof n.clone ? n.clone() : n,
            this.settingsGUI && r && (this.settingsGUI.isLoaded ? this.settingsGUI.addControl(this.panelID, t, e, i) : this.queuedControls.push({
                group: t,
                settingName: e,
                value: n
            })),
            this.updateSetting(e, n))
        }
        ,
        e.prototype.registerButton = function(t, e, n) {
            this.settingsGUI && (this.settingsGUI.isLoaded ? this.settingsGUI.addButton(this.panelID, t, e, n) : this.queuedButtons.push({
                group: t,
                buttonName: e,
                callback: n
            }))
        }
        ,
        e.prototype.hasProperty = function(t) {
            return this.settings.hasProperty(t)
        }
        ,
        e.prototype.getProperty = function(t) {
            return this.settings.getProperty(t)
        }
        ,
        e.prototype.tryGetProperty = function(t, e) {
            return this.settings.tryGetProperty(t, e)
        }
        ,
        e.prototype.toggleMenu = function() {
            this.settingsGUI && this.settingsGUI.toggle(0)
        }
        ,
        e.prototype.disposeGui = function() {
            this.settingsGUI.dispose()
        }
        ,
        e
    }(d.a);
    e.default = O
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return s
    });
    var r, i = n(42), o = n(1);
    function s(t, e) {
        this.center = void 0 !== t ? t : new o.a,
        this.radius = void 0 !== e ? e : 0
    }
    s.prototype = {
        constructor: s,
        set: function(t, e) {
            return this.center.copy(t),
            this.radius = e,
            this
        },
        setFromPoints: (r = new i.a,
        function(t, e) {
            var n = this.center;
            void 0 !== e ? n.copy(e) : r.setFromPoints(t).getCenter(n);
            for (var i = 0, o = 0, s = t.length; o < s; o++)
                i = Math.max(i, n.distanceToSquared(t[o]));
            return this.radius = Math.sqrt(i),
            this
        }
        ),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.center.copy(t.center),
            this.radius = t.radius,
            this
        },
        empty: function() {
            return this.radius <= 0
        },
        containsPoint: function(t) {
            return t.distanceToSquared(this.center) <= this.radius * this.radius
        },
        distanceToPoint: function(t) {
            return t.distanceTo(this.center) - this.radius
        },
        intersectsSphere: function(t) {
            var e = this.radius + t.radius;
            return t.center.distanceToSquared(this.center) <= e * e
        },
        intersectsBox: function(t) {
            return t.intersectsSphere(this)
        },
        intersectsPlane: function(t) {
            return Math.abs(this.center.dot(t.normal) - t.constant) <= this.radius
        },
        clampPoint: function(t, e) {
            var n = this.center.distanceToSquared(t)
              , r = e || new o.a;
            return r.copy(t),
            n > this.radius * this.radius && (r.sub(this.center).normalize(),
            r.multiplyScalar(this.radius).add(this.center)),
            r
        },
        getBoundingBox: function(t) {
            var e = t || new i.a;
            return e.set(this.center, this.center),
            e.expandByScalar(this.radius),
            e
        },
        applyMatrix4: function(t) {
            return this.center.applyMatrix4(t),
            this.radius = this.radius * t.getMaxScaleOnAxis(),
            this
        },
        translate: function(t) {
            return this.center.add(t),
            this
        },
        equals: function(t) {
            return t.center.equals(this.center) && t.radius === this.radius
        }
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = function() {
        function t(t) {
            void 0 === t && (t = !1),
            this.typeLookup = [],
            this.funcProto = Function.__proto__,
            this.allowInheritence = t
        }
        return t.prototype.addIndexByType = function(t) {
            if (!t)
                throw Error("Cannot index undefined type");
            if (-1 !== this.typeLookup.indexOf(t))
                throw Error("Type already registered");
            return this.typeLookup.push(t) - 1
        }
        ,
        t.prototype.getIndexByType = function(t, e) {
            if (!t)
                throw Error("Cannot index undefined type");
            var n = -1;
            if (this.allowInheritence)
                for (var r = 0; r < this.typeLookup.length; r++) {
                    for (var i = this.typeLookup[r]; i !== t && i !== this.funcProto; )
                        i = i.__proto__;
                    if (i === t)
                        return r
                }
            else
                n = this.typeLookup.indexOf(t);
            return -1 === n && e && (n = this.typeLookup.push(t) - 1),
            n
        }
        ,
        t.prototype.getIndicesByType = function(t) {
            if (!t)
                throw Error("Cannot index undefined type");
            if (!this.allowInheritence)
                return [this.getIndexByType(t)];
            for (var e = [], n = 0; n < this.typeLookup.length; n++) {
                for (var r = this.typeLookup[n]; r !== t && r !== this.funcProto; )
                    r = r.__proto__;
                r === t && e.push(n)
            }
            return e
        }
        ,
        t.prototype.getIndexByInstance = function(t) {
            if (!t)
                throw Error("Cannot index undefined data");
            return this.typeLookup.indexOf(t.constructor)
        }
        ,
        t.prototype.getTypeByIndex = function(t) {
            if (!(t in this.typeLookup))
                throw Error("Index not found");
            return this.typeLookup[t]
        }
        ,
        t.prototype.getKnownTypes = function() {
            return this.typeLookup.concat()
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    var r;
    n.d(e, "a", function() {
        return r
    }),
    function(t) {
        t[t.Immediate = 0] = "Immediate",
        t[t.NextFrame = 1] = "NextFrame",
        t[t.Duration = 2] = "Duration"
    }(r = r || (r = {}))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    }),
    n.d(e, "b", function() {
        return u
    }),
    n.d(e, "c", function() {
        return c
    });
    var r, i = n(39), o = n(33), s = n(10), a = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    };
    !function(t) {
        t.added = "added",
        t.removed = "removed",
        t.updated = "updated"
    }(r = r || (r = {}));
    var u = function() {
        return function(t, e, n) {
            this.index = t,
            this.action = e,
            this.diff = n
        }
    }()
      , c = function() {
        function t(t, e) {
            if (this.changedHandlers = [],
            this.awaitingInvoke = !1,
            this.diffRecord = [],
            this.targetMonitors = {},
            this.triggerChangeHandlers = this.invokeChangeHandlers.bind(this),
            this.config = t,
            this.updatePhaseSync = e,
            this.config.aggregationType === o.a.NextFrame) {
                if (!e)
                    throw Error("UpdatePhaseSync required for NextFrame aggregation")
            } else if (this.config.aggregationType === o.a.Duration)
                throw Error("Aggregation Type not implemented")
        }
        return t.prototype.hasDiffRecord = function() {
            return this.diffRecord.length > 0
        }
        ,
        t.prototype.clearDiffRecord = function() {
            for (var t in this.diffRecord = [],
            this.targetMonitors) {
                var e = this.targetMonitors[t];
                e.hasDiffRecord() && e.clearDiffRecord()
            }
        }
        ,
        t.prototype.onChanged = function(t) {
            this.changedHandlers.push(t)
        }
        ,
        t.prototype.removeOnChanged = function(t) {
            Object(i.a)(this.changedHandlers, t)
        }
        ,
        t.prototype.invokeChangeHandlers = function(t) {
            var e = this;
            function n(e) {
                if (e.length > 0)
                    try {
                        for (var n = a(e), r = n.next(); !r.done; r = n.next()) {
                            (0,
                            r.value)(t)
                        }
                    } catch (t) {
                        i = {
                            error: t
                        }
                    } finally {
                        try {
                            r && !r.done && (o = n.return) && o.call(n)
                        } finally {
                            if (i)
                                throw i.error
                        }
                    }
                var i, o
            }
            switch (this.config.aggregationType) {
            case o.a.Immediate:
                n(this.changedHandlers);
                break;
            case o.a.NextFrame:
                this.awaitingInvoke || (this.awaitingInvoke = !0,
                this.updatePhaseSync.after(s.a.End).then(function() {
                    e.awaitingInvoke = !1,
                    n(e.changedHandlers)
                }))
            }
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    }),
    n.d(e, "b", function() {
        return o
    });
    var r = n(48)
      , i = function(t) {
        if ("object" == typeof t) {
            var e = Array.isArray(t) ? [] : {};
            for (var n in t)
                if (!Object(r.a)(n)) {
                    var o = t[n];
                    "function" != typeof o && (e[n] = "object" == typeof o ? i(o) : o)
                }
            return e
        }
        return t
    }
      , o = function(t, e) {
        for (var n in e)
            if ("function" != typeof e[n] && (!Object(r.a)(n) || t.hasOwnProperty(n))) {
                var s = e[n];
                if (t.hasOwnProperty(n)) {
                    var a = t[n];
                    typeof a != typeof s ? t[n] = i(s) : "object" == typeof a ? o(a, s) : t[n] = s
                } else
                    t[n] = i(s)
            }
    }
}
, function(t, e, n) {
    "use strict";
    var r;
    n.d(e, "a", function() {
        return r
    }),
    function(t) {
        t.hotspot = "hotspot",
        t.flying = "flying",
        t.text = "text",
        t.link = "link",
        t.photo = "photo",
        t.video = "video",
        t.rich = "rich",
        t.none = "none"
    }(r = r || (r = {})),
    function(t) {
        t.parse = function(e) {
            return null !== e && e in t ? t[e] : t.none
        }
    }(r = r || (r = {}))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return a
    });
    var r = n(35)
      , i = n(48)
      , o = n(13)
      , s = n(39)
      , a = function(t) {
        if (t && t.hasOwnProperty("isObservableProxy"))
            return t;
        var e = new Proxy(t,{
            get: function(t, n) {
                return u(e, t, n)
            },
            set: function(t, n, r) {
                return c(e, t, n, r)
            },
            defineProperty: function(t, n, r) {
                return c(e, t, n, r)
            }
        });
        for (var n in e.propertyObservers = {},
        e.isObservableProxy = !0,
        e.isObservable = !0,
        e.changeObservers = [],
        e.childChangeFunctions = {},
        t)
            f(t, e, n);
        return e.onPropertyChanged = function(t, n) {
            h(e, t, n)
        }
        ,
        e.removeOnPropertyChanged = function(t, n) {
            l(e, t, n)
        }
        ,
        e.onChanged = function(t) {
            e.changeObservers.push(t)
        }
        ,
        e.removeOnChanged = function(t) {
            o.a.removeOnChangedFromObservable(e, t)
        }
        ,
        e.getValueForKey = function(e) {
            return t[e]
        }
        ,
        e.target = function() {
            return Object(r.a)(e)
        }
        ,
        e.diffRoot = {},
        e
    }
      , u = function(t, e, n) {
        return e[n]
    }
      , c = function(t, e, n, r) {
        if (Object(i.a)(n))
            return e[n] = r,
            !0;
        var s = e[n];
        p(e, t, n),
        e[n] = r,
        f(e, t, n);
        var a = t.propertyObservers[n];
        if (a)
            for (var u in a) {
                (0,
                a[u])(s, r)
            }
        return o.a.changedFunc(t, n, r),
        !0
    }
      , h = function(t, e, n) {
        t.propertyObservers[e] || (t.propertyObservers[e] = []),
        t.propertyObservers[e].push(n)
    }
      , l = function(t, e, n) {
        var r = t.propertyObservers[e];
        r && Object(s.a)(r, n)
    }
      , f = function(t, e, n) {
        var r = t[n]
          , i = o.a.isObservable(r);
        if (i) {
            var s = function(t, r) {
                var s = o.a.buildEmptyObjectWithProp(t, r, i.diffRoot);
                o.a.changedFunc(e, n, s)
            };
            i.onChanged(s),
            e.childChangeFunctions[n] = s
        }
    }
      , p = function(t, e, n) {
        var r = t[n]
          , i = o.a.isObservable(r)
          , s = e.childChangeFunctions[n];
        i && s && i.removeOnChanged(s)
    }
}
, function(t, e, n) {
    "use strict";
    n.r(e);
    var r, i, o = n(2), s = n(44), a = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), u = Object.assign || function(t) {
        for (var e, n = 1, r = arguments.length; n < r; n++)
            for (var i in e = arguments[n])
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
        return t
    }
    ;
    !function(t) {
        t.CONNECT = "postmessage.connect",
        t.HANDSHAKE = "postmessage.handshake",
        t.ACCEPT = "postmessage.accept",
        t.REJECT = "postmessage.reject",
        t.ACTION = "postmessage.action",
        t.RESPONSE = "postmessage.response",
        t.EVENT = "postmessage.event",
        t.SUBSCRIBE = "postmessage.subscribe",
        t.UNSUBSCRIBE = "postmessage.unsubscribe"
    }(i = i || (i = {}));
    var c, h = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.clientWindow = null,
            n.clientOrigin = null,
            n.id = 0,
            n.hostWindow = e,
            n.id = Math.floor(1e5 * Math.random()),
            n.bindEvents(),
            n
        }
        return a(e, t),
        e.prototype.send = function(t) {
            this.clientWindow && this.clientOrigin && this.clientWindow.postMessage(u({}, t, {
                fromId: this.id
            }), this.clientOrigin)
        }
        ,
        e.prototype.setTarget = function(t, e) {
            this.clientWindow = t,
            this.clientOrigin = e
        }
        ,
        e.prototype.clearTarget = function() {
            this.clientWindow = null,
            this.clientOrigin = null
        }
        ,
        e.prototype.bindEvents = function() {
            var t = this;
            this.hostWindow.addEventListener("message", function(e) {
                t.onPostmessageReceived(e)
            })
        }
        ,
        e.prototype.onPostmessageReceived = function(t) {
            var e = t.origin
              , n = t.source;
            switch (t.data.type) {
            case i.CONNECT:
                break;
            case i.ACTION:
            case i.SUBSCRIBE:
            case i.UNSUBSCRIBE:
                if (!this.validateMessageOrigin(e, n))
                    return;
                break;
            default:
                return
            }
            var r = u({}, t.data, {
                source: n,
                origin: e,
                timestamp: Date.now()
            });
            this.emit(t.data.type, r)
        }
        ,
        e.prototype.validateMessageOrigin = function(t, e) {
            return "*" === this.clientOrigin || this.clientWindow === e && this.clientOrigin === t
        }
        ,
        e
    }(s.EventEmitter);
    !function(t) {
        t.CONNECTION = "sdk.connection",
        t.MESSAGED = "sdk.messaged",
        t.SUBSCRIBED = "sdk.subscribed",
        t.UNSUBSCRIBED = "sdk.unsubscribed"
    }(c = c || (c = {}));
    var l = n(59)
      , f = function() {
        var t = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        ;
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype,
            new r)
        }
    }()
      , p = Object.assign || function(t) {
        for (var e, n = 1, r = arguments.length; n < r; n++)
            for (var i in e = arguments[n])
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
        return t
    }
      , d = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }
      , y = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.requestQueue = new l.RequestQueue({
                retries: 0
            }),
            n.clients = {},
            n.connectionHandler = new h(e),
            n.bindEvents(e),
            n
        }
        return f(e, t),
        e.prototype.broadcastEventToClient = function(t, e, n) {
            var r = this.clients[t];
            r && r.messenger.send({
                type: i.EVENT,
                eventType: e,
                eventData: n,
                toId: parseInt(t, 10)
            })
        }
        ,
        e.prototype.broadcastEvent = function(t, e, n) {
            void 0 === n && (n = !0);
            try {
                for (var r = d(Object.keys(this.clients)), i = r.next(); !i.done; i = r.next()) {
                    var o = i.value;
                    (n || this.clients[o].subscriptions[t]) && this.broadcastEventToClient(o, t, e)
                }
            } catch (t) {
                s = {
                    error: t
                }
            } finally {
                try {
                    i && !i.done && (a = r.return) && a.call(r)
                } finally {
                    if (s)
                        throw s.error
                }
            }
            var s, a
        }
        ,
        e.prototype.bindEvents = function(t) {
            var e = this;
            this.connectionHandler.on(i.CONNECT, function(n) {
                var r = new h(t);
                e.onConnectionReceived(r, n)
            })
        }
        ,
        e.prototype.onConnectionReceived = function(t, e) {
            var n = this
              , r = function(e) {
                var n = {
                    type: i.REJECT,
                    toId: o.fromId,
                    reason: e
                };
                t.send(n),
                t.clearTarget()
            }
              , o = p({}, e, {
                handshake: function() {
                    n.clients[o.fromId] = {
                        key: e.applicationKey,
                        messenger: t,
                        subscriptions: {}
                    };
                    var r = {
                        type: i.HANDSHAKE,
                        toId: o.fromId
                    };
                    t.send(r)
                },
                accept: function(e, r) {
                    var s = {
                        type: i.ACCEPT,
                        toId: o.fromId,
                        warning: r,
                        interface: e
                    };
                    t.send(s);
                    var a = n.clients[o.fromId];
                    t.on(i.ACTION, function(t) {
                        return n.onMessageReceived(a, t)
                    }),
                    t.on(i.SUBSCRIBE, function(t) {
                        return n.onSubscription(a, t)
                    }),
                    t.on(i.UNSUBSCRIBE, function(t) {
                        return n.onUnsubscribe(a, t)
                    })
                },
                reject: r,
                requestedVersion: e.sdkVersion || e.requestedVersion
            });
            t.setTarget(o.source, o.origin),
            this.verifyConnection(o).then(function() {
                return n.emit(c.CONNECTION, o)
            }).catch(r)
        }
        ,
        e.prototype.verifyConnection = function(t) {
            var n = this;
            return  Promise.resolve();// 
            return t.source === window ? Promise.resolve() : new Promise(function(r, i) {
                var o = {
                    cache: !1,
                    headers: {
                        "X-Matterport-Application-Key": t.applicationKey,
                        "X-Matterport-Referrer": t.origin
                    }
                };
                n.requestQueue.get(e.apiValidationUrl, o).then(r, function() {
                    return i("key/referrer mismatch")
                })
            }
            )
        }
        ,
        e.prototype.onMessageReceived = function(t, e) {
            if (this.validateClientApplicationKey(e.fromId, e.applicationKey)) {
                var n = {
                    toId: e.fromId,
                    uid: e.uid,
                    message: null,
                    success: !0,
                    type: i.RESPONSE,
                    timestamp: Date.now()
                }
                  , r = p({}, e, {
                    onSuccess: function(t) {
                        o(t)
                    },
                    onFail: function(t) {
                        n.success = !1,
                        n.error = t,
                        o(t)
                    }
                });
                this.emit(c.MESSAGED, r)
            }
            function o(e) {
                n.message = e,
                t.messenger.send(n)
            }
        }
        ,
        e.prototype.onSubscription = function(t, e) {
            t.subscriptions[e.subscription] = !0,
            this.emit(c.SUBSCRIBED, e.subscription)
        }
        ,
        e.prototype.onUnsubscribe = function(t, e) {
            t.subscriptions[e.subscription] = !1,
            this.emit(c.UNSUBSCRIBED, e.subscription)
        }
        ,
        e.prototype.validateClientApplicationKey = function(t, e) {
            var n = this.clients[t];
            return !!n && n.key === e
        }
        ,
        e.apiValidationUrl = window.location.origin + "/api/v1/user/",
        e
    }(s.EventEmitter)
      , m = n(86)
      , v = n(12)
      , g = n(40)
      , b = n(4)
      , _ = n(0)
      , w = n(65)
      , E = n(74)
      , x = n(81)
      , O = n(62)
      , P = n(98)
      , S = function() {
        var t = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var n in e)
                e.hasOwnProperty(n) && (t[n] = e[n])
        }
        ;
        return function(e, n) {
            function r() {
                this.constructor = e
            }
            t(e, n),
            e.prototype = null === n ? Object.create(n) : (r.prototype = n.prototype,
            new r)
        }
    }()
      , R = Object.assign || function(t) {
        for (var e, n = 1, r = arguments.length; n < r; n++)
            for (var i in e = arguments[n])
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
        return t
    }
      , M = function(t, e, n, r) {
        return new (n || (n = Promise))(function(i, o) {
            function s(t) {
                try {
                    u(r.next(t))
                } catch (t) {
                    o(t)
                }
            }
            function a(t) {
                try {
                    u(r.throw(t))
                } catch (t) {
                    o(t)
                }
            }
            function u(t) {
                t.done ? i(t.value) : new n(function(e) {
                    e(t.value)
                }
                ).then(s, a)
            }
            u((r = r.apply(t, e || [])).next())
        }
        )
    }
      , L = function(t, e) {
        var n, r, i, o, s = {
            label: 0,
            sent: function() {
                if (1 & i[0])
                    throw i[1];
                return i[1]
            },
            trys: [],
            ops: []
        };
        return o = {
            next: a(0),
            throw: a(1),
            return: a(2)
        },
        "function" == typeof Symbol && (o[Symbol.iterator] = function() {
            return this
        }
        ),
        o;
        function a(o) {
            return function(a) {
                return function(o) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; s; )
                        try {
                            if (n = 1,
                            r && (i = r[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(i = i.call(r, o[1])).done)
                                return i;
                            switch (r = 0,
                            i && (o = [0, i.value]),
                            o[0]) {
                            case 0:
                            case 1:
                                i = o;
                                break;
                            case 4:
                                return s.label++,
                                {
                                    value: o[1],
                                    done: !1
                                };
                            case 5:
                                s.label++,
                                r = o[1],
                                o = [0];
                                continue;
                            case 7:
                                o = s.ops.pop(),
                                s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                    s.label = o[1];
                                    break
                                }
                                if (6 === o[0] && s.label < i[1]) {
                                    s.label = i[1],
                                    i = o;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2],
                                    s.ops.push(o);
                                    break
                                }
                                i[2] && s.ops.pop(),
                                s.trys.pop();
                                continue
                            }
                            o = e.call(t, s)
                        } catch (t) {
                            o = [6, t],
                            r = 0
                        } finally {
                            n = i = 0
                        }
                    if (5 & o[0])
                        throw o[1];
                    return {
                        value: o[0] ? o[1] : void 0,
                        done: !0
                    }
                }([o, a])
            }
        }
    }
      , I = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }
      , A = new b.a("sdk")
      , T = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.name = "sdk",
            e.clientInterface = {
                functions: {},
                enums: {}
            },
            e.commandCreators = {},
            e.registeredEventUsers = {},
            e.sdkHost = new y(window),
            e
        }
        return S(e, t),
        e.prototype.init = function(t, e) {
            return M(this, void 0, void 0, function() {
                var n;
                return L(this, function(r) {
                    switch (r.label) {
                    case 0:
                        return this.engine = e,
                        n = this,
                        [4, e.getModule(g.default)];
                    case 1:
                        return n.analytics = r.sent(),
                        this.clientFilter = t.clientFilter || function() {
                            return !0
                        }
                        ,
                        this.issueCommand = e.commandBinder.issueCommand.bind(e.commandBinder),
                        this.interfacePromise = new v.a,
                        this.addDeprecatedInterface(),
                        [2]
                    }
                })
            })
        }
        ,
        e.prototype.addDeprecatedInterface = function() {
            try {
                for (var t = I(Object.keys(E)), e = t.next(); !e.done; e = t.next()) {
                    var n = e.value
                      , r = E[n];
                    this.clientInterface.functions[r.name] = r
                }
            } catch (t) {
                a = {
                    error: t
                }
            } finally {
                try {
                    e && !e.done && (u = t.return) && u.call(t)
                } finally {
                    if (a)
                        throw a.error
                }
            }
            try {
                for (var i = I(Object.keys(x)), o = i.next(); !o.done; o = i.next()) {
                    var s = o.value;
                    this.addEnumToInterface(x[s])
                }
            } catch (t) {
                c = {
                    error: t
                }
            } finally {
                try {
                    o && !o.done && (h = i.return) && h.call(i)
                } finally {
                    if (c)
                        throw c.error
                }
            }
            var a, u, c, h
        }
        ,
        e.prototype.enableHandshaking = function() {
            var t = this;
            this.sdkHost.on(c.CONNECTION, function(e) {
                return t.onConnectionReceived(e)
            })
        }
        ,
        e.prototype.acceptConnections = function() {
            var t = this;
            this.sdkHost.on(c.MESSAGED, function(e) {
                return t.onMessageReceived(e)
            }),
            this.sdkHost.on(c.SUBSCRIBED, function(e) {
                return t.onSubscribeReceived(e)
            }),
            this.sdkHost.on(c.UNSUBSCRIBED, function(e) {
                return t.onUnsubscribeReceived(e)
            }),
            this.interfacePromise.resolve()
        }
        ,
        e.prototype.clearInterface = function() {
            this.clientInterface.functions = {},
            this.clientInterface.enums = {},
            this.commandCreators = {}
        }
        ,
        e.prototype.addCommandToInterface = function(t, e) {
            var n = t.name + "." + t.version;
            t.namespace && (n = t.namespace + "." + n),
            this.clientInterface.functions.hasOwnProperty(n) && A.debug("Overwriting " + n + " function in sdk interface"),
            this.clientInterface.functions[n] = t,
            this.commandCreators[n] = e,
            t.namespace || (this.clientInterface.functions[t.name] = t,
            this.commandCreators[t.name] = e)
        }
        ,
        e.prototype.addEnumToInterface = function(t) {
            var e = t.namespace + "." + t.name + "." + t.version;
            this.clientInterface.functions.hasOwnProperty(e) && A.debug("Overwriting " + e + " enum in sdk interface"),
            this.clientInterface.enums[e] = R({}, t, {
                values: R({}, t.values)
            })
        }
        ,
        e.prototype.broadcast = function(t, e, n, r) {
            void 0 === r && (r = !0);
            var i = this.registeredEventUsers[t] > 0;
            if (r || i) {
                var o = n && void 0 !== e ? n(e) : void 0;
                n && !o || this.sdkHost.broadcastEvent(t, o, r)
            }
        }
        ,
        e.prototype.isVersionDeprecated = function(t) {
            return -1 !== e.deprecatedSdks.indexOf(t)
        }
        ,
        e.prototype.makeVersionedInterface = function(t) {
            m.valid(t) || (t += ".0");
            var e = function(e) {
                var n, r, i = {};
                try {
                    for (var o = I(Object.keys(e)), s = o.next(); !s.done; s = o.next()) {
                        var a = s.value
                          , u = e[a];
                        m.satisfies(t, u.version) && (i[a] = u)
                    }
                } catch (t) {
                    n = {
                        error: t
                    }
                } finally {
                    try {
                        s && !s.done && (r = o.return) && r.call(o)
                    } finally {
                        if (n)
                            throw n.error
                    }
                }
                return i
            };
            return {
                enums: e(this.clientInterface.enums),
                functions: e(this.clientInterface.functions)
            }
        }
        ,
        e.prototype.onConnectionReceived = function(t) {
            return M(this, void 0, void 0, function() {
                var e, n, r, i, o, s, a, u = this;
                return L(this, function(c) {
                    switch (c.label) {
                    case 0:
                        return this.clientFilter(t) ? (e = t.requestedVersion,
                        n = function(n) {
                            var r = u.makeVersionedInterface(e);
                            if (0 === Object.keys(r.enums).length && 0 === Object.keys(r.functions).length)
                                return t.reject("unsupported version: " + e);
                            t.accept(r, n)
                        }
                        ,
                        t.handshake(),
                        this.isVersionDeprecated(e) ? ("This version of the SDK is being deprecated. Please see [PLACEHOLDER] for more info",
                        n("This version of the SDK is being deprecated. Please see [PLACEHOLDER] for more info"),
                        [4, this.engine.getModule(_.H)]) : [3, 4]) : [2, t.reject("Connection refused")];
                    case 1:
                        return r = c.sent(),
                        i = r.getModel(),
                        o = r.getSignedUrls(),
                        [4, this.engine.market.waitForData(w.a)];
                    case 2:
                        return s = c.sent().getSweepList(),
                        [4, Object(P.a)(o, i.sid, i.vrSupported, s)];
                    case 3:
                        return a = c.sent(),
                        this.sdkHost.broadcastEventToClient(String(t.fromId), O.a.MODEL_LOADED, {
                            metadata: a
                        }),
                        [3, 5];
                    case 4:
                        this.interfacePromise.then(function() {
                            return n()
                        }),
                        c.label = 5;
                    case 5:
                        return this.trackSdkConnect(t),
                        [2]
                    }
                })
            })
        }
        ,
        e.prototype.onMessageReceived = function(t) {
            var e = this.commandCreators[t.targetFunction];
            if (!e)
                return t.onFail(t.targetFunction + " is not a valid command");
            this.trackSdkCall(t);
            try {
                return this.issueCommand(e(t.params)).then(t.onSuccess, function(e) {
                    return t.onFail(e.message)
                })
            } catch (e) {
                return t.onFail(e.message)
            }
        }
        ,
        e.prototype.onSubscribeReceived = function(t) {
            this.registeredEventUsers.hasOwnProperty(t) || (this.registeredEventUsers[t] = 0),
            this.registeredEventUsers[t]++
        }
        ,
        e.prototype.onUnsubscribeReceived = function(t) {
            this.registeredEventUsers.hasOwnProperty(t) && this.registeredEventUsers[t]--
        }
        ,
        e.prototype.trackSdkConnect = function(t) {
            this.analytics && this.analytics.track("sdk_connect", {
                origin: t.origin,
                applicationKey: t.applicationKey,
                version: t.requestedVersion
            })
        }
        ,
        e.prototype.trackSdkCall = function(t) {
            if (this.analytics) {
                var e = this.clientInterface.functions[t.targetFunction]
                  , n = Object.keys(t.params).map(function(e) {
                    return t.params[e]
                });
                this.analytics.track("sdk_call", R({
                    origin: t.origin,
                    applicationKey: t.applicationKey
                }, e, {
                    args: n
                }))
            }
        }
        ,
        e.deprecatedSdks = ["1.0", "1.1"],
        e
    }(o.a);
    e.default = T
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = function(t, e) {
        if (0 !== t.length)
            for (var n = 0; n < t.length; n++) {
                t[n] === e && t.splice(n, 1)
            }
    }
}
, function(t, e, n) {
    "use strict";
    n.r(e);
    var r, i = n(82), o = n(2), s = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }, u = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.name = "analytics",
            e.loaded = !1,
            e.bufferedData = [],
            e.track = function(t, n) {
                e.loaded ? e.activeEndpoint && e.activeEndpoint.track(t, n) : e.bufferedData.push({
                    event: t,
                    data: n
                })
            }
            ,
            e.trackAsync = function(t, n) {
                e.loaded ? e.activeEndpoint && e.activeEndpoint.trackAsync(t, n) : e.bufferedData.push({
                    event: t,
                    data: n
                })
            }
            ,
            e
        }
        return s(e, t),
        e.prototype.load = function(t, e, n, r) {
            return !!i.b.hasOwnProperty(t) && (this.activeEndpoint = new i.b[t].class(e),
            this.activeEndpoint.init(n, r),
            this.loaded = !0,
            this.flushBufferedData(),
            !0)
        }
        ,
        e.prototype.flushBufferedData = function() {
            try {
                for (var t = a(this.bufferedData), e = t.next(); !e.done; e = t.next()) {
                    var n = e.value;
                    this.activeEndpoint.track(n.event, n.data)
                }
            } catch (t) {
                r = {
                    error: t
                }
            } finally {
                try {
                    e && !e.done && (i = t.return) && i.call(t)
                } finally {
                    if (r)
                        throw r.error
                }
            }
            var r, i;
            this.bufferedData.length = 0
        }
        ,
        e
    }(o.a);
    e.default = u
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    }),
    n.d(e, "b", function() {
        return h
    }),
    n.d(e, "c", function() {
        return f
    });
    var r, i, o = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), s = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    };
    !function(t) {
        t[t.None = 0] = "None",
        t[t.Duration = 1] = "Duration",
        t[t.Phase = 2] = "Phase",
        t[t.Promise = 3] = "Promise"
    }(i = i || (i = {}));
    var a, u = function() {
        return function(t) {
            this.type = t
        }
    }(), c = function(t) {
        function e() {
            return t.call(this, i.None) || this
        }
        return o(e, t),
        e
    }(u), h = function(t) {
        function e(e) {
            var n = t.call(this, i.Duration) || this;
            return n.duration = e,
            n.startTime = Date.now(),
            n
        }
        return o(e, t),
        e
    }(u), l = function(t) {
        function e(e) {
            var n = t.call(this, i.Phase) || this;
            return n.phase = e,
            n
        }
        return o(e, t),
        e
    }(u);
    !function(t) {
        t[t.Pending = 0] = "Pending",
        t[t.Fulfilled = 1] = "Fulfilled",
        t[t.Rejected = 2] = "Rejected"
    }(a = a || (a = {}));
    var f = function(t) {
        function e(e) {
            var n = t.call(this, i.Promise) || this;
            return n.promise = e,
            n.promiseState = a.Pending,
            e.then(function() {
                n.promiseState = a.Fulfilled
            }).catch(function() {
                n.promiseState = a.Rejected
            }),
            n
        }
        return o(e, t),
        e
    }(u)
      , p = function() {
        function t(t, e) {
            void 0 === e && (e = !0),
            this.generator = t,
            e && this.start()
        }
        return t.prototype.start = function() {
            this.started || (this.iterator = this.generator()),
            this.started = !0
        }
        ,
        t.prototype.iterate = function() {
            var t = this.iterator.next();
            this.currentResult = t.value,
            t.done && (this.started = !1)
        }
        ,
        t
    }()
      , d = function() {
        function t() {
            this.generators = []
        }
        return t.prototype.startGenerator = function(t) {
            for (var e = this.generators.length, n = 0; n < this.generators.length; n++) {
                this.generators[n].generator === t && (e = n)
            }
            this.generators[e] = new p(t)
        }
        ,
        t.prototype.stopGenerator = function(t) {
            try {
                for (var e = s(this.generators), n = e.next(); !n.done; n = e.next()) {
                    var r = n.value;
                    r.generator === t && (r.started = !1)
                }
            } catch (t) {
                i = {
                    error: t
                }
            } finally {
                try {
                    n && !n.done && (o = e.return) && o.call(e)
                } finally {
                    if (i)
                        throw i.error
                }
            }
            var i, o
        }
        ,
        t.prototype.processGenerators = function(t, e) {
            try {
                for (var n = s(this.generators), r = n.next(); !r.done; r = n.next()) {
                    var o = r.value;
                    if (o.started)
                        switch (t) {
                        case i.None:
                            (!o.currentResult || o.currentResult instanceof c) && o.iterate();
                            break;
                        case i.Phase:
                            if (o.currentResult instanceof l) {
                                var u = o.currentResult;
                                void 0 !== e && u.phase === e && o.iterate()
                            }
                            break;
                        case i.Promise:
                            if (o.currentResult instanceof f)
                                o.currentResult.promiseState === a.Fulfilled && o.iterate();
                            break;
                        case i.Duration:
                            if (o.currentResult instanceof h) {
                                var p = o.currentResult;
                                Date.now() - p.startTime >= p.duration && o.iterate()
                            }
                        }
                }
            } catch (t) {
                d = {
                    error: t
                }
            } finally {
                try {
                    r && !r.done && (y = n.return) && y.call(n)
                } finally {
                    if (d)
                        throw d.error
                }
            }
            var d, y
        }
        ,
        t
    }();
    e.d = d
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return u
    });
    var r, i, o, s = n(1), a = n(31);
    function u(t, e) {
        this.min = void 0 !== t ? t : new s.a(1 / 0,1 / 0,1 / 0),
        this.max = void 0 !== e ? e : new s.a(-1 / 0,-1 / 0,-1 / 0)
    }
    u.prototype = {
        constructor: u,
        isBox3: !0,
        set: function(t, e) {
            return this.min.copy(t),
            this.max.copy(e),
            this
        },
        setFromArray: function(t) {
            for (var e = 1 / 0, n = 1 / 0, r = 1 / 0, i = -1 / 0, o = -1 / 0, s = -1 / 0, a = 0, u = t.length; a < u; a += 3) {
                var c = t[a]
                  , h = t[a + 1]
                  , l = t[a + 2];
                c < e && (e = c),
                h < n && (n = h),
                l < r && (r = l),
                c > i && (i = c),
                h > o && (o = h),
                l > s && (s = l)
            }
            this.min.set(e, n, r),
            this.max.set(i, o, s)
        },
        setFromPoints: function(t) {
            this.makeEmpty();
            for (var e = 0, n = t.length; e < n; e++)
                this.expandByPoint(t[e]);
            return this
        },
        setFromCenterAndSize: (o = new s.a,
        function(t, e) {
            var n = o.copy(e).multiplyScalar(.5);
            return this.min.copy(t).sub(n),
            this.max.copy(t).add(n),
            this
        }
        ),
        setFromObject: function() {
            var t = new s.a;
            return function(e) {
                var n = this;
                return e.updateMatrixWorld(!0),
                this.makeEmpty(),
                e.traverse(function(e) {
                    var r = e.geometry;
                    if (void 0 !== r)
                        if (r && r.isGeometry)
                            for (var i = r.vertices, o = 0, s = i.length; o < s; o++)
                                t.copy(i[o]),
                                t.applyMatrix4(e.matrixWorld),
                                n.expandByPoint(t);
                        else if (r && r.isBufferGeometry) {
                            var a = r.attributes.position;
                            if (void 0 !== a) {
                                var u, c, h;
                                a && a.isInterleavedBufferAttribute ? (u = a.data.array,
                                c = a.offset,
                                h = a.data.stride) : (u = a.array,
                                c = 0,
                                h = 3);
                                for (o = c,
                                s = u.length; o < s; o += h)
                                    t.fromArray(u, o),
                                    t.applyMatrix4(e.matrixWorld),
                                    n.expandByPoint(t)
                            }
                        }
                }),
                this
            }
        }(),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            return this.min.copy(t.min),
            this.max.copy(t.max),
            this
        },
        makeEmpty: function() {
            return this.min.x = this.min.y = this.min.z = 1 / 0,
            this.max.x = this.max.y = this.max.z = -1 / 0,
            this
        },
        isEmpty: function() {
            return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
        },
        getCenter: function(t) {
            var e = t || new s.a;
            return this.isEmpty() ? e.set(0, 0, 0) : e.addVectors(this.min, this.max).multiplyScalar(.5)
        },
        getSize: function(t) {
            var e = t || new s.a;
            return this.isEmpty() ? e.set(0, 0, 0) : e.subVectors(this.max, this.min)
        },
        expandByPoint: function(t) {
            return this.min.min(t),
            this.max.max(t),
            this
        },
        expandByVector: function(t) {
            return this.min.sub(t),
            this.max.add(t),
            this
        },
        expandByScalar: function(t) {
            return this.min.addScalar(-t),
            this.max.addScalar(t),
            this
        },
        containsPoint: function(t) {
            return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y || t.z < this.min.z || t.z > this.max.z)
        },
        containsBox: function(t) {
            return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y && this.min.z <= t.min.z && t.max.z <= this.max.z
        },
        getParameter: function(t, e) {
            return (e || new s.a).set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y), (t.z - this.min.z) / (this.max.z - this.min.z))
        },
        intersectsBox: function(t) {
            return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y || t.max.z < this.min.z || t.min.z > this.max.z)
        },
        intersectsSphere: function(t) {
            return void 0 === i && (i = new s.a),
            this.clampPoint(t.center, i),
            i.distanceToSquared(t.center) <= t.radius * t.radius
        },
        intersectsPlane: function(t) {
            var e, n;
            return t.normal.x > 0 ? (e = t.normal.x * this.min.x,
            n = t.normal.x * this.max.x) : (e = t.normal.x * this.max.x,
            n = t.normal.x * this.min.x),
            t.normal.y > 0 ? (e += t.normal.y * this.min.y,
            n += t.normal.y * this.max.y) : (e += t.normal.y * this.max.y,
            n += t.normal.y * this.min.y),
            t.normal.z > 0 ? (e += t.normal.z * this.min.z,
            n += t.normal.z * this.max.z) : (e += t.normal.z * this.max.z,
            n += t.normal.z * this.min.z),
            e <= t.constant && n >= t.constant
        },
        clampPoint: function(t, e) {
            return (e || new s.a).copy(t).clamp(this.min, this.max)
        },
        distanceToPoint: function() {
            var t = new s.a;
            return function(e) {
                return t.copy(e).clamp(this.min, this.max).sub(e).length()
            }
        }(),
        getBoundingSphere: function() {
            var t = new s.a;
            return function(e) {
                var n = e || new a.a;
                return this.getCenter(n.center),
                n.radius = .5 * this.size(t).length(),
                n
            }
        }(),
        intersect: function(t) {
            return this.min.max(t.min),
            this.max.min(t.max),
            this.isEmpty() && this.makeEmpty(),
            this
        },
        union: function(t) {
            return this.min.min(t.min),
            this.max.max(t.max),
            this
        },
        applyMatrix4: (r = [new s.a, new s.a, new s.a, new s.a, new s.a, new s.a, new s.a, new s.a],
        function(t) {
            return this.isEmpty() ? this : (r[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(t),
            r[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(t),
            r[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(t),
            r[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(t),
            r[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(t),
            r[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(t),
            r[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(t),
            r[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(t),
            this.setFromPoints(r),
            this)
        }
        ),
        translate: function(t) {
            return this.min.add(t),
            this.max.add(t),
            this
        },
        equals: function(t) {
            return t.min.equals(this.min) && t.max.equals(this.max)
        }
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return c
    });
    var r, i, o = n(3), s = n(1), a = n(7), u = n(5);
    function c(t, e, n, r) {
        this._x = t || 0,
        this._y = e || 0,
        this._z = n || 0,
        this._order = r || c.DefaultOrder
    }
    c.RotationOrders = ["XYZ", "YZX", "ZXY", "XZY", "YXZ", "ZYX"],
    c.DefaultOrder = "XYZ",
    c.prototype = {
        constructor: c,
        isEuler: !0,
        get x() {
            return this._x
        },
        set x(t) {
            this._x = t,
            this.onChangeCallback()
        },
        get y() {
            return this._y
        },
        set y(t) {
            this._y = t,
            this.onChangeCallback()
        },
        get z() {
            return this._z
        },
        set z(t) {
            this._z = t,
            this.onChangeCallback()
        },
        get order() {
            return this._order
        },
        set order(t) {
            this._order = t,
            this.onChangeCallback()
        },
        set: function(t, e, n, r) {
            return this._x = t,
            this._y = e,
            this._z = n,
            this._order = r || this._order,
            this.onChangeCallback(),
            this
        },
        clone: function() {
            return new this.constructor(this._x,this._y,this._z,this._order)
        },
        copy: function(t) {
            return this._x = t._x,
            this._y = t._y,
            this._z = t._z,
            this._order = t._order,
            this.onChangeCallback(),
            this
        },
        setFromRotationMatrix: function(t, e, n) {
            var r = u.a.clamp
              , i = t.elements
              , o = i[0]
              , s = i[4]
              , a = i[8]
              , c = i[1]
              , h = i[5]
              , l = i[9]
              , f = i[2]
              , p = i[6]
              , d = i[10];
            return "XYZ" === (e = e || this._order) ? (this._y = Math.asin(r(a, -1, 1)),
            Math.abs(a) < .99999 ? (this._x = Math.atan2(-l, d),
            this._z = Math.atan2(-s, o)) : (this._x = Math.atan2(p, h),
            this._z = 0)) : "YXZ" === e ? (this._x = Math.asin(-r(l, -1, 1)),
            Math.abs(l) < .99999 ? (this._y = Math.atan2(a, d),
            this._z = Math.atan2(c, h)) : (this._y = Math.atan2(-f, o),
            this._z = 0)) : "ZXY" === e ? (this._x = Math.asin(r(p, -1, 1)),
            Math.abs(p) < .99999 ? (this._y = Math.atan2(-f, d),
            this._z = Math.atan2(-s, h)) : (this._y = 0,
            this._z = Math.atan2(c, o))) : "ZYX" === e ? (this._y = Math.asin(-r(f, -1, 1)),
            Math.abs(f) < .99999 ? (this._x = Math.atan2(p, d),
            this._z = Math.atan2(c, o)) : (this._x = 0,
            this._z = Math.atan2(-s, h))) : "YZX" === e ? (this._z = Math.asin(r(c, -1, 1)),
            Math.abs(c) < .99999 ? (this._x = Math.atan2(-l, h),
            this._y = Math.atan2(-f, o)) : (this._x = 0,
            this._y = Math.atan2(a, d))) : "XZY" === e ? (this._z = Math.asin(-r(s, -1, 1)),
            Math.abs(s) < .99999 ? (this._x = Math.atan2(p, h),
            this._y = Math.atan2(a, o)) : (this._x = Math.atan2(-l, d),
            this._y = 0)) : console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: " + e),
            this._order = e,
            !1 !== n && this.onChangeCallback(),
            this
        },
        setFromQuaternion: function(t, e, n) {
            return void 0 === i && (i = new a.a),
            i.makeRotationFromQuaternion(t),
            this.setFromRotationMatrix(i, e, n)
        },
        setFromVector3: function(t, e) {
            return this.set(t.x, t.y, t.z, e || this._order)
        },
        reorder: (r = new o.a,
        function(t) {
            return r.setFromEuler(this),
            this.setFromQuaternion(r, t)
        }
        ),
        equals: function(t) {
            return t._x === this._x && t._y === this._y && t._z === this._z && t._order === this._order
        },
        fromArray: function(t) {
            return this._x = t[0],
            this._y = t[1],
            this._z = t[2],
            void 0 !== t[3] && (this._order = t[3]),
            this.onChangeCallback(),
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this._x,
            t[e + 1] = this._y,
            t[e + 2] = this._z,
            t[e + 3] = this._order,
            t
        },
        toVector3: function(t) {
            return t ? t.set(this._x, this._y, this._z) : new s.a(this._x,this._y,this._z)
        },
        onChange: function(t) {
            return this.onChangeCallback = t,
            this
        },
        onChangeCallback: function() {}
    }
}
, function(t, e) {
    function n() {
        this._events = this._events || {},
        this._maxListeners = this._maxListeners || void 0
    }
    function r(t) {
        return "function" == typeof t
    }
    function i(t) {
        return "object" == typeof t && null !== t
    }
    function o(t) {
        return void 0 === t
    }
    t.exports = n,
    n.EventEmitter = n,
    n.prototype._events = void 0,
    n.prototype._maxListeners = void 0,
    n.defaultMaxListeners = 10,
    n.prototype.setMaxListeners = function(t) {
        if ("number" != typeof t || t < 0 || isNaN(t))
            throw TypeError("n must be a positive number");
        return this._maxListeners = t,
        this
    }
    ,
    n.prototype.emit = function(t) {
        var e, n, s, a, u, c;
        if (this._events || (this._events = {}),
        "error" === t && (!this._events.error || i(this._events.error) && !this._events.error.length)) {
            if ((e = arguments[1])instanceof Error)
                throw e;
            var h = new Error('Uncaught, unspecified "error" event. (' + e + ")");
            throw h.context = e,
            h
        }
        if (o(n = this._events[t]))
            return !1;
        if (r(n))
            switch (arguments.length) {
            case 1:
                n.call(this);
                break;
            case 2:
                n.call(this, arguments[1]);
                break;
            case 3:
                n.call(this, arguments[1], arguments[2]);
                break;
            default:
                a = Array.prototype.slice.call(arguments, 1),
                n.apply(this, a)
            }
        else if (i(n))
            for (a = Array.prototype.slice.call(arguments, 1),
            s = (c = n.slice()).length,
            u = 0; u < s; u++)
                c[u].apply(this, a);
        return !0
    }
    ,
    n.prototype.addListener = function(t, e) {
        var s;
        if (!r(e))
            throw TypeError("listener must be a function");
        return this._events || (this._events = {}),
        this._events.newListener && this.emit("newListener", t, r(e.listener) ? e.listener : e),
        this._events[t] ? i(this._events[t]) ? this._events[t].push(e) : this._events[t] = [this._events[t], e] : this._events[t] = e,
        i(this._events[t]) && !this._events[t].warned && (s = o(this._maxListeners) ? n.defaultMaxListeners : this._maxListeners) && s > 0 && this._events[t].length > s && (this._events[t].warned = !0,
        console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[t].length),
        "function" == typeof console.trace && console.trace()),
        this
    }
    ,
    n.prototype.on = n.prototype.addListener,
    n.prototype.once = function(t, e) {
        if (!r(e))
            throw TypeError("listener must be a function");
        var n = !1;
        function i() {
            this.removeListener(t, i),
            n || (n = !0,
            e.apply(this, arguments))
        }
        return i.listener = e,
        this.on(t, i),
        this
    }
    ,
    n.prototype.removeListener = function(t, e) {
        var n, o, s, a;
        if (!r(e))
            throw TypeError("listener must be a function");
        if (!this._events || !this._events[t])
            return this;
        if (s = (n = this._events[t]).length,
        o = -1,
        n === e || r(n.listener) && n.listener === e)
            delete this._events[t],
            this._events.removeListener && this.emit("removeListener", t, e);
        else if (i(n)) {
            for (a = s; a-- > 0; )
                if (n[a] === e || n[a].listener && n[a].listener === e) {
                    o = a;
                    break
                }
            if (o < 0)
                return this;
            1 === n.length ? (n.length = 0,
            delete this._events[t]) : n.splice(o, 1),
            this._events.removeListener && this.emit("removeListener", t, e)
        }
        return this
    }
    ,
    n.prototype.removeAllListeners = function(t) {
        var e, n;
        if (!this._events)
            return this;
        if (!this._events.removeListener)
            return 0 === arguments.length ? this._events = {} : this._events[t] && delete this._events[t],
            this;
        if (0 === arguments.length) {
            for (e in this._events)
                "removeListener" !== e && this.removeAllListeners(e);
            return this.removeAllListeners("removeListener"),
            this._events = {},
            this
        }
        if (r(n = this._events[t]))
            this.removeListener(t, n);
        else if (n)
            for (; n.length; )
                this.removeListener(t, n[n.length - 1]);
        return delete this._events[t],
        this
    }
    ,
    n.prototype.listeners = function(t) {
        return this._events && this._events[t] ? r(this._events[t]) ? [this._events[t]] : this._events[t].slice() : []
    }
    ,
    n.prototype.listenerCount = function(t) {
        if (this._events) {
            var e = this._events[t];
            if (r(e))
                return 1;
            if (e)
                return e.length
        }
        return 0
    }
    ,
    n.listenerCount = function(t, e) {
        return t.listenerCount(e)
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    });
    var r, i = n(1);
    function o() {
        this.elements = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]),
        arguments.length > 0 && console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")
    }
    o.prototype = {
        constructor: o,
        isMatrix3: !0,
        set: function(t, e, n, r, i, o, s, a, u) {
            var c = this.elements;
            return c[0] = t,
            c[1] = r,
            c[2] = s,
            c[3] = e,
            c[4] = i,
            c[5] = a,
            c[6] = n,
            c[7] = o,
            c[8] = u,
            this
        },
        identity: function() {
            return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1),
            this
        },
        clone: function() {
            return (new this.constructor).fromArray(this.elements)
        },
        copy: function(t) {
            var e = t.elements;
            return this.set(e[0], e[3], e[6], e[1], e[4], e[7], e[2], e[5], e[8]),
            this
        },
        setFromMatrix4: function(t) {
            var e = t.elements;
            return this.set(e[0], e[4], e[8], e[1], e[5], e[9], e[2], e[6], e[10]),
            this
        },
        applyToVector3Array: function(t, e, n) {
            void 0 === r && (r = new i.a),
            void 0 === e && (e = 0),
            void 0 === n && (n = t.length);
            for (var o = 0, s = e; o < n; o += 3,
            s += 3)
                r.fromArray(t, s),
                r.applyMatrix3(this),
                r.toArray(t, s);
            return t
        },
        applyToBuffer: function() {
            var t;
            return function(e, n, r) {
                void 0 === t && (t = new i.a),
                void 0 === n && (n = 0),
                void 0 === r && (r = e.length / e.itemSize);
                for (var o = 0, s = n; o < r; o++,
                s++)
                    t.x = e.getX(s),
                    t.y = e.getY(s),
                    t.z = e.getZ(s),
                    t.applyMatrix3(this),
                    e.setXYZ(t.x, t.y, t.z);
                return e
            }
        }(),
        multiplyScalar: function(t) {
            var e = this.elements;
            return e[0] *= t,
            e[3] *= t,
            e[6] *= t,
            e[1] *= t,
            e[4] *= t,
            e[7] *= t,
            e[2] *= t,
            e[5] *= t,
            e[8] *= t,
            this
        },
        determinant: function() {
            var t = this.elements
              , e = t[0]
              , n = t[1]
              , r = t[2]
              , i = t[3]
              , o = t[4]
              , s = t[5]
              , a = t[6]
              , u = t[7]
              , c = t[8];
            return e * o * c - e * s * u - n * i * c + n * s * a + r * i * u - r * o * a
        },
        getInverse: function(t, e) {
            t && t.isMatrix4 && console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");
            var n = t.elements
              , r = this.elements
              , i = n[0]
              , o = n[1]
              , s = n[2]
              , a = n[3]
              , u = n[4]
              , c = n[5]
              , h = n[6]
              , l = n[7]
              , f = n[8]
              , p = f * u - c * l
              , d = c * h - f * a
              , y = l * a - u * h
              , m = i * p + o * d + s * y;
            if (0 === m) {
                var v = "THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";
                if (!0 === e)
                    throw new Error(v);
                return console.warn(v),
                this.identity()
            }
            var g = 1 / m;
            return r[0] = p * g,
            r[1] = (s * l - f * o) * g,
            r[2] = (c * o - s * u) * g,
            r[3] = d * g,
            r[4] = (f * i - s * h) * g,
            r[5] = (s * a - c * i) * g,
            r[6] = y * g,
            r[7] = (o * h - l * i) * g,
            r[8] = (u * i - o * a) * g,
            this
        },
        transpose: function() {
            var t, e = this.elements;
            return t = e[1],
            e[1] = e[3],
            e[3] = t,
            t = e[2],
            e[2] = e[6],
            e[6] = t,
            t = e[5],
            e[5] = e[7],
            e[7] = t,
            this
        },
        flattenToArrayOffset: function(t, e) {
            return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),
            this.toArray(t, e)
        },
        getNormalMatrix: function(t) {
            return this.setFromMatrix4(t).getInverse(this).transpose()
        },
        transposeIntoArray: function(t) {
            var e = this.elements;
            return t[0] = e[0],
            t[1] = e[3],
            t[2] = e[6],
            t[3] = e[1],
            t[4] = e[4],
            t[5] = e[7],
            t[6] = e[2],
            t[7] = e[5],
            t[8] = e[8],
            this
        },
        fromArray: function(t, e) {
            void 0 === e && (e = 0);
            for (var n = 0; n < 9; n++)
                this.elements[n] = t[n + e];
            return this
        },
        toArray: function(t, e) {
            void 0 === t && (t = []),
            void 0 === e && (e = 0);
            var n = this.elements;
            return t[e] = n[0],
            t[e + 1] = n[1],
            t[e + 2] = n[2],
            t[e + 3] = n[3],
            t[e + 4] = n[4],
            t[e + 5] = n[5],
            t[e + 6] = n[6],
            t[e + 7] = n[7],
            t[e + 8] = n[8],
            t
        }
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", function() {
        return i
    }),
    n.d(e, "a", function() {
        return o
    }),
    n.d(e, "d", function() {
        return s
    }),
    n.d(e, "g", function() {
        return a
    }),
    n.d(e, "f", function() {
        return u
    }),
    n.d(e, "e", function() {
        return c
    }),
    n.d(e, "h", function() {
        return h
    }),
    n.d(e, "b", function() {
        return l
    });
    n(17),
    n(1),
    n(72),
    n(3);
    var r = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }
      , i = function(t) {
        return new Promise(function(e, n) {
            setTimeout(e, t)
        }
        )
    }
      , o = function(t, e) {
        if (e.setLength(0),
        0 === t.length)
            return e;
        var n, i, o = 0;
        try {
            for (var s = r(t), a = s.next(); !a.done; a = s.next()) {
                var u = a.value;
                e.add(u),
                o++
            }
        } catch (t) {
            n = {
                error: t
            }
        } finally {
            try {
                a && !a.done && (i = s.return) && i.call(s)
            } finally {
                if (n)
                    throw n.error
            }
        }
        return e.divideScalar(o),
        e
    }
      , s = function(t, e) {
        for (var n = Math.min(t.length, e.length), r = 0; r < n; r++)
            if (t[r] !== e[r])
                return !1;
        return !0
    }
      , a = function(t, e, n) {
        if (void 0 === n && (n = !0),
        0 === t.length)
            return null;
        n && t.sort(function(t, e) {
            return t - e
        });
        var r = e / 100;
        return t[Math.floor(t.length * r)]
    }
      , u = function(t, e) {
        try {
            for (var n = r(e), i = n.next(); !i.done; i = n.next()) {
                if (!(0,
                i.value)(t))
                    return !1
            }
        } catch (t) {
            o = {
                error: t
            }
        } finally {
            try {
                i && !i.done && (s = n.return) && s.call(n)
            } finally {
                if (o)
                    throw o.error
            }
        }
        return !0;
        var o, s
    }
      , c = function(t, e) {
        return Object.keys(e).forEach(function(n) {
            t[n] = e[n]
        }),
        t
    }
      , h = function(t) {
        for (var e = [], n = 0; n < t.length; n += 8192)
            e.push(String.fromCharCode.apply(null, t.subarray(n, n + 8192)));
        return btoa(e.join(""))
    }
      , l = function(t) {
        void 0 === t && (t = []);
        var e, n, i = {};
        try {
            for (var o = r(t), s = o.next(); !s.done; s = o.next()) {
                i[s.value] = !0
            }
        } catch (t) {
            e = {
                error: t
            }
        } finally {
            try {
                s && !s.done && (n = o.return) && n.call(o)
            } finally {
                if (e)
                    throw e.error
            }
        }
        return i
    }
}
, function(t, e, n) {
    "use strict";
    var r = function() {
        return function(t) {
            this.message = t
        }
    }();
    e.a = r
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = function(t) {
        return "propertyObservers" === t || "changeObservers" === t || "isObservable" === t || "childChangeFunctions" === t || "isObservableProxy" === t || "diffRoot" === t || "elementChangedHandlers" === t || "knownKeysMap" === t || "knownKeysList" === t
    }
}
, , function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return r
    });
    var r = function() {
        return function() {}
    }()
}
, , , function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    });
    var r = n(75)
      , i = function() {
        function t(t, e, n, i) {
            void 0 === e && (e = 0),
            void 0 === n && (n = 0),
            void 0 === i && (i = r.e),
            0 === n ? this.stop(t) : this.modifyAnimation(t, e, n, i)
        }
        return Object.defineProperty(t.prototype, "active", {
            get: function() {
                return this._active || this.value !== this.endValue
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "duration", {
            get: function() {
                return this._duration
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "endValue", {
            get: function() {
                return this._endValue
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "easing", {
            get: function() {
                return this._easing
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t.prototype, "elapsed", {
            get: function() {
                return this._elapsed
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.update = function(t, e) {
            if (void 0 === e && (e = !1),
            this.active || e) {
                if (this._elapsed = e ? t : this._elapsed + t,
                this._elapsed / Math.max(this._duration, 1e-5) >= 1)
                    return this.value = this._endValue,
                    void (this._active = !1);
                this.value = this._easing(this._elapsed, this.startValue, this._endValue - this.startValue, this._duration)
            }
        }
        ,
        t.prototype.modifyAnimation = function(t, e, n, i, o) {
            void 0 === i && (i = r.e),
            void 0 === o && (o = 0),
            this._easing = i,
            this._endValue = e,
            this._duration = n,
            this._active = this._duration > 0,
            this._elapsed = o,
            this.startValue = t,
            this.value = t
        }
        ,
        t.prototype.copy = function(t) {
            this._endValue = t.endValue,
            this._duration = t.duration,
            this._active = t.active,
            this._easing = t.easing,
            this._elapsed = t.elapsed,
            this.startValue = t.startValue,
            this.value = t.value
        }
        ,
        t.prototype.clone = function() {
            var e = new t(0);
            return e.copy(this),
            e
        }
        ,
        t.prototype.stop = function(t) {
            this._endValue = t,
            this._active = !1,
            this._duration = 0,
            this._elapsed = 0,
            this.value = t,
            this.startValue = 0
        }
        ,
        t.prototype.equals = function(t) {
            return this._active === t._active && this.duration === t.duration && this.easing === t.easing && this.elapsed === t.elapsed && this.endValue === t.endValue && this.startValue === t.startValue && this.value === t.value
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    var r = function() {
        return function() {
            this.data = new i
        }
    }()
      , i = function() {
        return function() {}
    }()
      , o = n(9)
      , s = n(6)
      , a = n(21)
      , u = n(4)
      , c = n(29);
    n.d(e, "a", function() {
        return l
    }),
    n.d(e, "b", function() {
        return f
    });
    var h = new u.a("camera-start")
      , l = function(t) {
        var e = new r;
        if (e.modified = Object(a.a)(t && t.modified || null),
        !t)
            return e;
        e.icon = t.icon || void 0;
        var n = t.camera_start || null;
        try {
            if (n && Object.keys(n).length > 0) {
                if (!n.camera || !n.camera.position || !n.camera.quaternion)
                    return h.warn("Corrupt camera_start - camera data invalid"),
                    e;
                if (!n.hasOwnProperty("mode"))
                    return h.warn("Corrupt camera_start - mode missing"),
                    e;
                var i = void 0;
                if (0 === n.mode) {
                    if (!(n.pano && n.pano.uuid && n.pano.position && n.pano.quaternion))
                        return h.warn("Corrupt camera_start - pano data invalid"),
                        e;
                    i = {
                        uuid: n.pano.uuid,
                        position: Object(o.j)(n.pano.position),
                        rotation: Object(o.h)(n.pano.quaternion)
                    }
                } else
                    i = {};
                var u = {
                    mode: Object(s.c)(n.mode),
                    camera: {
                        position: Object(o.j)(n.camera.position),
                        rotation: Object(o.i)(n.camera.quaternion),
                        zoom: n.camera.zoom
                    },
                    pano: i
                };
                e.data = u
            }
        } catch (t) {
            h.warn("invalid scanmodel.camera_start", t)
        }
        return e
    }
      , f = function(t) {
        var e = t.data;
        return {
            icon: t.icon,
            camera_start: {
                camera: {
                    position: Object(c.c)(Object(o.j)(e.camera.position)),
                    quaternion: Object(c.b)(Object(o.i)(e.camera.rotation)),
                    zoom: e.camera.zoom
                },
                mode: Object(s.b)(e.mode),
                pano: {
                    position: e.pano.position ? Object(o.j)(e.pano.position) : void 0,
                    quaternion: e.pano.rotation ? Object(c.b)(Object(o.h)(e.pano.rotation)) : void 0,
                    uuid: e.pano.uuid
                }
            }
        }
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return o
    }),
    n.d(e, "b", function() {
        return s
    });
    var r = n(79)
      , i = n(21)
      , class18 = n(18)
      , o = function(t) {
        var e = new r.b(null);
         e.modified = Object(i.a)(t && t.modified || null);
         t.player_options = {
            "highlight_reel": true,
            "tour_buttons": true,
            "labels": false,
            "contact_email": false,
            "address": false,
            "contact_name": false,
            "presented_by": false,
            "floor_plan": true,//
            "dollhouse": true,
            "fast_transitions": true,
            "external_url": false,
            "model_summary": true,
            "contact_phone": false,
            "model_name": true,
            "autoplay": false
        };

        //
        if(class18.j()) {
            t.player_options.dollhouse = false;
        }
        


        t && t.player_options && (e.options = new r.a(t.player_options));
        return e
    }
      , s = function(t) {
        return {
            player_options: t.options
        }
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return u
    }),
    n.d(e, "b", function() {
        return c
    });
    var r = n(9)
      , i = n(4)
      , o = n(21)
      , s = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }
      , a = new i.a("label-serialization")
      , u = function(t) {
        var e, n, i = [];
        try {
            if (t)
                try {
                    for (var u = s(Object.keys(t)), c = u.next(); !c.done; c = u.next()) {
                        var h = t[c.value];
                        !h.version || Number.parseFloat(h.version) < 3 || i.push({
                            floor: h.floorId,
                            position: Object(r.j)(h.position),
                            sid: h.sid,
                            text: h.text,
                            visible: h.visible,
                            roomId: h.roomId,
                            created: Object(o.a)(h.created),
                            created_by: h.created_by,
                            modified: Object(o.a)(h.modified),
                            version: h.version
                        })
                    }
                } catch (t) {
                    e = {
                        error: t
                    }
                } finally {
                    try {
                        c && !c.done && (n = u.return) && n.call(u)
                    } finally {
                        if (e)
                            throw e.error
                    }
                }
        } catch (t) {
            a.debug("Error parsing label data; not adding labels: ", t),
            i = []
        }
        return i
    }
      , c = function(t) {
        var e = {};
        return t.forEach(function(t) {
            e[t.sid] = {
                floorId: t.floor,
                position: t.position,
                sid: t.sid,
                text: t.text,
                visible: t.visible,
                roomId: t.roomId,
                created: t.created,
                created_by: t.created_by,
                modified: t.modified,
                version: t.version
            },
            e[t.sid].modified = new Date,
            e[t.sid].position = Object(r.j)(t.position)
        }),
        e
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return s
    }),
    n.d(e, "b", function() {
        return a
    });
    var r = n(4)
      , i = n(21)
      , o = new r.a("active-reel")
      , s = function(t) {
        var e = {
            reel: [],
            modified: new Date(0)
        };
        return e.modified = Object(i.a)(t && t.active_reel && t.active_reel.modified || null),
        t && t.active_reel && t.active_reel.reel && t.active_reel.reel instanceof Array ? (o.info("Reel has " + t.active_reel.reel.length + " items"),
        e.reel = t.active_reel.reel) : o.info("No reel found"),
        e
    }
      , a = function(t) {
        return {
            active_reel: {
                reel: t.reel,
                modified: new Date
            }
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r;
    !function(t) {
        t.LOADING = "LOADING",
        t.PRESENTED_BY_CAPS = "PRESENTED_BY_CAPS",
        t.EXPLORE_3D_SPACE = "EXPLORE_3D_SPACE",
        t.VIEW_DOLLHOUSE = "VIEW_DOLLHOUSE",
        t.VIEW_FLOORPLAN = "VIEW_FLOORPLAN",
        t.VIEW_FULLSCREEN = "VIEW_FULLSCREEN",
        t.EXIT_FULLSCREEN = "EXIT_FULLSCREEN",
        t.OPEN_HIGHLIGHTS = "OPEN_HIGHLIGHTS",
        t.CLOSE_HIGHLIGHTS = "CLOSE_HIGHLIGHTS",
        t.PAUSE = "PAUSE",
        t.SOCIAL_SHARING = "SOCIAL_SHARING",
        t.VIEW_IN_VR = "VIEW_IN_VR",
        t.FLOOR_NAME = "FLOOR_NAME",
        t.FLOOR_ALL = "FLOOR_ALL",
        t.PRESENTED_BY = "PRESENTED_BY",
        t.MORE = "MORE",
        t.LESS = "LESS",
        t.TERMS = "TERMS",
        t.HELP = "HELP",
        t.TERMS_FAIL = "TERMS_FAIL",
        t.HELP_NAVIGATION_TAB = "HELP_NAVIGATION_TAB",
        t.HELP_MORE_HELP_TAB = "HELP_MORE_HELP_TAB",
        t.HELP_DESKTOP_360_2A = "HELP_DESKTOP_360_2A",
        t.HELP_DESKTOP_360_2B = "HELP_DESKTOP_360_2B",
        t.HELP_DESKTOP_DOLLHOUSE_1A = "HELP_DESKTOP_DOLLHOUSE_1A",
        t.HELP_DESKTOP_DOLLHOUSE_1B = "HELP_DESKTOP_DOLLHOUSE_1B",
        t.HELP_DESKTOP_DOLLHOUSE_2A = "HELP_DESKTOP_DOLLHOUSE_2A",
        t.HELP_DESKTOP_DOLLHOUSE_3A = "HELP_DESKTOP_DOLLHOUSE_3A",
        t.HELP_DESKTOP_FLOORPLAN_1A = "HELP_DESKTOP_FLOORPLAN_1A",
        t.HELP_DESKTOP_FLOORPLAN_2A = "HELP_DESKTOP_FLOORPLAN_2A",
        t.HELP_DESKTOP_FLOORPLAN_2B = "HELP_DESKTOP_FLOORPLAN_2B",
        t.HELP_DESKTOP_FLOORPLAN_3A = "HELP_DESKTOP_FLOORPLAN_3A",
        t.HELP_DESKTOP_FLOORPLAN_3B = "HELP_DESKTOP_FLOORPLAN_3B",
        t.HELP_DESKTOP_MORE_360_B = "HELP_DESKTOP_MORE_360_B",
        t.HELP_DESKTOP_MORE_DOLLHOUSE_B = "HELP_DESKTOP_MORE_DOLLHOUSE_B",
        t.HELP_DESKTOP_MORE_FLOORS_B = "HELP_DESKTOP_MORE_FLOORS_B",
        t.HELP_DESKTOP_MORE_FULLSCREEN_B = "HELP_DESKTOP_MORE_FULLSCREEN_B",
        t.HELP_DESKTOP_MORE_HLR_B = "HELP_DESKTOP_MORE_HLR_B",
        t.HELP_DESKTOP_MORE_INSIDE_B = "HELP_DESKTOP_MORE_INSIDE_B",
        t.HELP_DESKTOP_MORE_MATTERTAG_B = "HELP_DESKTOP_MORE_MATTERTAG_B",
        t.HELP_DESKTOP_MORE_TOUR_B = "HELP_DESKTOP_MORE_TOUR_B",
        t.HELP_DESKTOP_MORE_VR_B = "HELP_DESKTOP_MORE_VR_B",
        t.HELP_DESKTOP_MORE_ZOOM_B = "HELP_DESKTOP_MORE_ZOOM_B",
        t.HELP_DESKTOP_PANORAMA_1A = "HELP_DESKTOP_PANORAMA_1A",
        t.HELP_DESKTOP_PANORAMA_1B = "HELP_DESKTOP_PANORAMA_1B",
        t.HELP_DESKTOP_PANORAMA_2A = "HELP_DESKTOP_PANORAMA_2A",
        t.HELP_DESKTOP_PANORAMA_2B = "HELP_DESKTOP_PANORAMA_2B",
        t.HELP_DESKTOP_PANORAMA_3A = "HELP_DESKTOP_PANORAMA_3A",
        t.HELP_DESKTOP_PANORAMA_3B = "HELP_DESKTOP_PANORAMA_3B",
        t.HELP_MOBILE_3 = "HELP_MOBILE_3",
        t.HELP_MOBILE_360_2 = "HELP_MOBILE_360_2",
        t.HELP_MOBILE_DOLLHOUSE_1 = "HELP_MOBILE_DOLLHOUSE_1",
        t.HELP_MOBILE_DOLLHOUSE_2 = "HELP_MOBILE_DOLLHOUSE_2",
        t.HELP_MOBILE_FLOORPLAN_1 = "HELP_MOBILE_FLOORPLAN_1",
        t.HELP_MOBILE_FLOORPLAN_2 = "HELP_MOBILE_FLOORPLAN_2",
        t.HELP_MOBILE_MORE_360_B = "HELP_MOBILE_MORE_360_B",
        t.HELP_MOBILE_MORE_DOLLHOUSE_B = "HELP_MOBILE_MORE_DOLLHOUSE_B",
        t.HELP_MOBILE_MORE_FLOORPLAN_B = "HELP_MOBILE_MORE_FLOORPLAN_B",
        t.HELP_MOBILE_MORE_INSIDE_B = "HELP_MOBILE_MORE_INSIDE_B",
        t.HELP_MOBILE_MORE_MATTERTAG_B = "HELP_MOBILE_MORE_MATTERTAG_B",
        t.HELP_MOBILE_MORE_VR_B = "HELP_MOBILE_MORE_VR_B",
        t.HELP_MOBILE_PANORAMA_1 = "HELP_MOBILE_PANORAMA_1",
        t.HELP_MOBILE_PANORAMA_2 = "HELP_MOBILE_PANORAMA_2",
        t.HELP_MORE_360_A = "HELP_MORE_360_A",
        t.HELP_MORE_DOLLHOUSE_A = "HELP_MORE_DOLLHOUSE_A",
        t.HELP_MORE_FLOORS_A = "HELP_MORE_FLOORS_A",
        t.HELP_MORE_FLOORPLAN_A = "HELP_MORE_FLOORPLAN_A",
        t.HELP_MORE_FULLSCREEN_A = "HELP_MORE_FULLSCREEN_A",
        t.HELP_MORE_HLR_A = "HELP_MORE_HLR_A",
        t.HELP_MORE_INSIDE_A = "HELP_MORE_INSIDE_A",
        t.HELP_MORE_MATTERTAG_A = "HELP_MORE_MATTERTAG_A",
        t.HELP_MORE_TOUR_A = "HELP_MORE_TOUR_A",
        t.HELP_MORE_VR_A = "HELP_MORE_VR_A",
        t.HELP_MORE_ZOOM_A = "HELP_MORE_ZOOM_A",
        t.VR_VIEW_SPACE = "VR_VIEW_SPACE",
        t.VR_LEARN_MORE_CAPS = "VR_LEARN_MORE_CAPS",
        t.VR_PREVIOUS_CAPS = "VR_PREVIOUS_CAPS",
        t.VR_NEXT_CAPS = "VR_NEXT_CAPS",
        t.VR_GOT_IT_CAPS = "VR_GOT_IT_CAPS",
        t.VR_GOOGLE_CARDBOARD = "VR_GOOGLE_CARDBOARD",
        t.VR_SAMSUNG_GEAR_VR = "VR_SAMSUNG_GEAR_VR",
        t.VR_OPEN_ANDROID_LINK = "VR_OPEN_ANDROID_LINK",
        t.VR_ANDROID_OPTIONS = "VR_ANDROID_OPTIONS",
        t.VR_SHOW_IOS_1 = "VR_SHOW_IOS_1",
        t.VR_SHOW_IOS_2 = "VR_SHOW_IOS_2",
        t.VR_WHAT_YOU_NEED = "VR_WHAT_YOU_NEED",
        t.VR_NEED_CARDBOARD = "VR_NEED_CARDBOARD",
        t.VR_NEED_SAMSUNG = "VR_NEED_SAMSUNG",
        t.VR_COMPATIBLE_IPHONES_1 = "VR_COMPATIBLE_IPHONES_1",
        t.VR_COMPATIBLE_IPHONES_2 = "VR_COMPATIBLE_IPHONES_2",
        t.VR_COMPATIBLE_IPHONES_3 = "VR_COMPATIBLE_IPHONES_3",
        t.VR_APP_FOR_CARDBOARD = "VR_APP_FOR_CARDBOARD",
        t.VR_APP_FOR_SAMSUNG = "VR_APP_FOR_SAMSUNG",
        t.VR_DOWNLOAD_HERE = "VR_DOWNLOAD_HERE",
        t.VR_COMPATIBLE_ANDROID = "VR_COMPATIBLE_ANDROID",
        t.VR_ANDROID_DETAIL = "VR_ANDROID_DETAIL",
        t.VR_COMPATIBLE_SAMSUNG = "VR_COMPATIBLE_SAMSUNG",
        t.VR_SAMSUNG_DETAIL = "VR_SAMSUNG_DETAIL",
        t.VR_SHOW_SUPPORTED = "VR_SHOW_SUPPORTED",
        t.VR_REQUIRE_HEADSET = "VR_REQUIRE_HEADSET",
        t.VR_REDIRECT_TO_STORE = "VR_REDIRECT_TO_STORE",
        t.WEBVR_ENTER_WEBVR = "WEBVR_ENTER_WEBVR",
        t.WEBVR_LEARN_MORE = "WEBVR_LEARN_MORE",
        t.VR_APP_OPEN = "VR_APP_OPEN",
        t.ERROR_WEBGL_UNSUPPORTED_PROBLEM = "ERROR_WEBGL_UNSUPPORTED_PROBLEM",
        t.ERROR_BROWSER_SOLUTION = "ERROR_BROWSER_SOLUTION",
        t.ERROR_BROWSER_EXPLANATION = "ERROR_BROWSER_EXPLANATION",
        t.ERROR_LOADING_FAILED_PROBLEM = "ERROR_LOADING_FAILED_PROBLEM",
        t.ERROR_LOADING_FAILED_ACTIONS_1 = "ERROR_LOADING_FAILED_ACTIONS_1",
        t.ERROR_LOADING_FAILED_ACTIONS_2 = "ERROR_LOADING_FAILED_ACTIONS_2",
        t.ERROR_GENERIC_PROBLEM = "ERROR_GENERIC_PROBLEM",
        t.ERROR_GENERIC_SOLUTION = "ERROR_GENERIC_SOLUTION",
        t.ERROR_GENERIC_ACTIONS_1 = "ERROR_GENERIC_ACTIONS_1",
        t.ERROR_GENERIC_ACTIONS_2 = "ERROR_GENERIC_ACTIONS_2",
        t.ERROR_GENERIC_ACTIONS_3 = "ERROR_GENERIC_ACTIONS_3",
        t.ERROR_GENERIC_ACTIONS_4 = "ERROR_GENERIC_ACTIONS_4",
        t.DESKTOP_SHORT_CTA = "DESKTOP_SHORT_CTA",
        t.MOBILE_SHORT_CTA = "MOBILE_SHORT_CTA",
        t.ROTATE = "ROTATE",
        t.MOVE = "MOVE",
        t.PLAY = "PLAY",
        t.INSIDE = "INSIDE",
        t.ZOOM = "ZOOM",
        t.MENU_COPY = "MENU_COPY",
        t.SHARE_COPIED = "SHARE_COPIED",
        t.SHARE_EXPLORE = "SHARE_EXPLORE",
        t.SHARE_AT = "SHARE_AT",
        t.SHARE_WITH = "SHARE_WITH",
        t.SHARE_3D = "SHARE_3D"
    }(r || (r = {})),
    e.a = r
}
, function(t, e, n) {
    "use strict";
    var r, i;
    Object.defineProperty(e, "__esModule", {
        value: !0
    }),
    function(t) {
        t[t.LOW = 0] = "LOW",
        t[t.MEDIUM = 1] = "MEDIUM",
        t[t.HIGH = 2] = "HIGH",
        t[t.HIGHEST = 3] = "HIGHEST"
    }(r = e.RequestPriority || (e.RequestPriority = {})),
    function(t) {
        t[t.PENDING = 0] = "PENDING",
        t[t.SENDING = 1] = "SENDING",
        t[t.FAILED = 2] = "FAILED",
        t[t.DONE = 3] = "DONE"
    }(i = e.RequestStatus || (e.RequestStatus = {}));
    var o = function() {
        function t(t) {
            var e = void 0 === t ? {} : t
              , n = e.retries
              , r = void 0 === n ? 3 : n
              , i = e.concurrency
              , o = void 0 === i ? 6 : i;
            this.queue = [],
            this.retries = r,
            this.concurrency = o
        }
        return t.prototype.get = function(t, e) {
            return this.request("GET", t, e)
        }
        ,
        t.prototype.head = function(t, e) {
            return this.request("HEAD", t, e)
        }
        ,
        t.prototype.options = function(t, e) {
            return this.request("OPTIONS", t, e)
        }
        ,
        t.prototype.post = function(t, e) {
            return this.request("POST", t, e)
        }
        ,
        t.prototype.put = function(t, e) {
            return this.request("PUT", t, e)
        }
        ,
        t.prototype.patch = function(t, e) {
            return this.request("PATCH", t, e)
        }
        ,
        t.prototype.delete = function(t, e) {
            return this.request("DELETE", t, e)
        }
        ,
        t.prototype.request = function(t, e, n) {
            var r = new s(t,e,n);
            return this.enqueue(r),
            r.promise
        }
        ,
        t.prototype.update = function() {
            for (var t; t = this.getNextPendingRequest(); )
                this.sendRequest(t);
            for (; t = this.getNextOverflowingRequest(); )
                t.abort(),
                t.status = i.PENDING;
            this.updateTimeout = null
        }
        ,
        t.prototype.enqueue = function(t) {
            for (var e = this, n = 0; n < this.queue.length; n++) {
                if (this.queue[n].priority < t.priority)
                    break
            }
            this.queue.splice(n, 0, t),
            this.updateTimeout || (this.updateTimeout = window.setTimeout(function() {
                e.update()
            }, 1))
        }
        ,
        t.prototype.dequeue = function(t) {
            var e = this.queue.indexOf(t);
            if (-1 === e)
                throw new Error("Can't dequeue request not in queue");
            this.queue.splice(e, 1),
            this.update()
        }
        ,
        t.prototype.getNextPendingRequest = function() {
            for (var t = 0; t < this.queue.length && t < this.concurrency; t++) {
                var e = this.queue[t];
                if (e.status === i.PENDING)
                    return e
            }
            return null
        }
        ,
        t.prototype.getNextOverflowingRequest = function() {
            for (var t = this.concurrency; t < this.queue.length; t++) {
                var e = this.queue[t];
                if (e.status === i.SENDING && e.priority !== r.HIGHEST)
                    return e
            }
            return null
        }
        ,
        t.prototype.sendRequest = function(t) {
            var e = this;
            t.status = i.SENDING,
            t.send().then(function(n) {
                t.status = i.DONE,
                e.dequeue(t),
                t.onDone(n)
            }).catch(function(n) {
                var r = null !== t.maxRetries ? t.maxRetries : e.retries;
                t.sendAttempts < r ? (t.status = i.PENDING,
                e.update(),
                console.warn("Retried " + t.url),
                console.warn(n)) : (t.status = i.FAILED,
                e.dequeue(t),
                console.warn("Failed " + t.url),
                t.onFail(n))
            })
        }
        ,
        t
    }();
    e.RequestQueue = o;
    var s = function() {
        function t(t, e, n) {
            void 0 === n && (n = {});
            var o = this;
            this.sendAttempts = 0,
            this.status = i.PENDING,
            this.url = e,
            this.method = t,
            this.auth = n.auth || null,
            this.priority = n.priority || r.MEDIUM,
            this.responseType = n.responseType || null,
            this.body = n.body || null,
            this.headers = n.headers || {},
            this.maxRetries = n.maxRetries || null,
            this.onProgress = n.onProgress,
            this.promise = new Promise(function(t, e) {
                o.onDone = t,
                o.onFail = e
            }
            )
        }
        return t.prototype.send = function() {
            var t = this
              , e = this.xhr = function(t, e, n) {
                var r;
                if ("undefined" != typeof XMLHttpRequest)
                    (r = new XMLHttpRequest).withCredentials = n;
                else {
                    if ("undefined" == typeof XDomainRequest)
                        throw new Error("No XMLHTTPRequest or XDomainRequest... are you trying to run me in node? :(");
                    r = new XDomainRequest
                }
                return r.open(t, e, !0),
                r
            }(this.method, this.url, !1);
            if (this.responseType)
                if ("arraybuffer" === this.responseType || "text" === this.responseType || "json" === this.responseType || "blob" === this.responseType)
                    e.responseType = this.responseType;
                else {
                    if ("image" !== this.responseType)
                        throw new Error('reponseType can only be one of "arraybuffer", "text", "json", "blob", "image"');
                    e.responseType = "blob"
                }
            for (var n in "json" === this.responseType && e.setRequestHeader("Accept", "application/json"),
            this.auth && "string" == typeof this.auth && e.setRequestHeader("Authorization", this.auth),
            this.headers)
                e.setRequestHeader(n, this.headers[n]);
            return this.body && "object" == typeof this.body && (this.body = JSON.stringify(this.body),
            e.setRequestHeader("Content-Type", "application/json")),
            this.onProgress && (e.onprogress = this.onProgress),
            new Promise(function(n, r) {
                e.onreadystatechange = function(i) {
                    if (4 === e.readyState) {
                        if (200 === e.status || 201 === e.status || 204 === e.status)
                            return t.parseResponse(t.xhr).then(function(t) {
                                n(t)
                            });
                        0 !== e.status && r({
                            status_code: e.status
                        })
                    }
                }
                ,
                e.onerror = function(t) {
                    r(t)
                }
                ,
                e.send(t.body),
                t.sendAttempts++
            }
            )
        }
        ,
        t.prototype.parseResponse = function(t) {
            var e = this;
            return new Promise(function(n, r) {
                try {
                    var i = t.response;
                    if ("json" === e.responseType && "object" != typeof i)
                        n(JSON.parse(t.responseText));
                    else if ("image" === e.responseType) {
                        var o = URL.createObjectURL(i);
                        (i = new Image).src = o,
                        i.crossOrigin = "Anonymous",
                        i.onload = function() {
                            URL.revokeObjectURL(o),
                            n(i)
                        }
                    } else
                        n(i)
                } catch (t) {
                    r({
                        error: "Payload was not valid JSON"
                    })
                }
            }
            )
        }
        ,
        t.prototype.abort = function() {
            if (null === this.xhr)
                throw new Error("Cannot abort unsent Request");
            this.xhr.abort()
        }
        ,
        t
    }();
    e.Request = s
}
, , function(t, e, n) {
    "use strict";
    n.d(e, "c", function() {
        return o
    }),
    n.d(e, "b", function() {
        return s
    }),
    n.d(e, "a", function() {
        return a
    });
    var r = n(104)
      , i = n(18)
      , o = function(t) {
        var e, n, i;
        if (void 0 === t && (t = ""),
        t.match(/^https?/)) {
            var o = Object(r.parse)(t);
            e = o.protocol + "//" + o.host,
            n = t,
            i = t.match(/[^/]*$/)[0]
        } else {
            e = window.location.protocol + "//" + window.location.host;
            if(SCENE_CONFIG.type == 2) {
                e = "https://my.matterportvr.cn";
            }
            n = e + "/api/player/models/" + t;
            
            i = t;

        }
            
        return {
            sid: i,
            urlBase: e,
            urlModel: n,
            urlFiles: n + (n.match(/\/$/) ? "files" : "/files"),
            urlThumb: n + (n.match(/\/$/) ? "thumb" : "/thumb")
        }
    }
      , s = function() {
        return Object(i.m)("model") || Object(i.m)("m")
    }
      , a = function() {
        var t = Object(i.m)("auth");
        return t ? t.replace(",", " ") : null
    }
}
, function(t, e, n) {
    "use strict";
    var r;
    n.d(e, "a", function() {
        return r
    }),
    function(t) {
        t.MODEL_LOADED = "sdk.modelloaded",
        t.ENTER_PANO = "sdk.enterpano",
        t.MOVE = "sdk.move"
    }(r = r || (r = {}))
}
, function(t, e, n) {
    "use strict";
    var r = function() {
        return function() {}
    }()
      , i = n(4)
      , o = n(21)
      , s = n(1)
      , a = n(23)
      , u = n(64)
      , c = n(100)
      , h = n(36)
      , l = function() {
        function t(t) {
            this.modelSID = t.model,
            this.capabilites = {
                links: {
                    enable: t.supportLinks,
                    keepLabels: t.keepLinkLabels
                }
            }
        }
        return t.prototype.parse = function(t) {
            var e = [];
            return t.split("[").map(function(t, e) {
                return 0 === e ? t : "[" + t
            }).forEach(function(t) {
                var n = this.findLink(t);
                n ? -1 === n.url.indexOf("javascript:") && (this.addLinkChunk(e, n),
                this.addTextChunk(e, t.slice(n.markdown.length))) : this.addTextChunk(e, t)
            }
            .bind(this)),
            e
        }
        ,
        t.prototype.findLink = function(t) {
            var e = t.match(/\[([^\]]*)\]\((.*)\)/);
            if (!e)
                return null;
            for (var n = e[2], r = 1, i = 0; i < n.length && ("(" === n[i] ? r++ : ")" === n[i] && r--,
            0 !== r); )
                i++;
            var o = n.length - i;
            return {
                markdown: e[0].substring(0, e[0].length - o),
                label: e[1],
                url: encodeURI(e[2].substring(0, i))
            }
        }
        ,
        t.prototype.addTextChunk = function(t, e) {
            0 !== e.length && t.push({
                type: h.a.text,
                text: e
            })
        }
        ,
        t.prototype.addLinkChunk = function(t, e) {
            if (this.capabilites.links.enable) {
                var n = {
                    label: e.label,
                    url: e.url,
                    type: u.a.EXT_LINK
                };
                -1 === n.url.indexOf("://") && (n.url = "http://" + n.url);
                var r = -1 !== n.url.indexOf("matterport.com/show")
                  , i = -1 !== n.url.indexOf(window.location.host + "/show");
                if (r || i) {
                    var o = -1 !== n.url.indexOf("start=");
                    o && (n.url = decodeURI(n.url)),
                    -1 !== n.url.indexOf(this.modelSID) && o ? (n.type = u.a.NAVIGATION,
                    n.navigationData = c.a.deserialize(n.url),
                    n.url = "") : (n.type = u.a.MODEL,
                    n.url += "&play=1")
                }
                t.push({
                    type: h.a.link,
                    link: n
                })
            } else
                this.capabilites.links.keepLabels && this.addTextChunk(t, e.label)
        }
        ,
        t
    }()
      , f = n(29);
    n.d(e, "a", function() {
        return d
    }),
    n.d(e, "b", function() {
        return y
    });
    var p = new i.a("mattertags");
    var protobuff = n(494);
    function d(t, e) {
        var n = new l(t);
        return function(t) {

            if(SCENE_CONFIG.type == 1) {
                var i = {};
                t = t.nesttags.info;
                for (var u in t) {
                    var c = t[u];
                    try {
                        if (e && (!c.enable || 0 === c.details.title.length &&  0 === c.tagtitle.length && 0 === c.details.description.length))
                            continue;
    
                      //  console.log(c.detail);    
    /*
                        c.media.type ="rich",
                        c.media.src = "https://36kr.com/p/5050494.html",
    
                        c.media.type ="photo",
                        c.media.src = "https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1539862901599&di=6a057381963021afa9296fdc9854c6b7&imgtype=0&src=http%3A%2F%2Fs14.sinaimg.cn%2Fbmiddle%2F466eef47h72ad6f11a75d%26690",
    
    
                        c.media.type ="video",
                        c.media.src = "http://www.runoob.com/try/demo_source/movie.mp4",
                        
                        c.description = "[Learn more](https://www.houzz.com/photos/8116034/Italian-White-Carrara-Marble-Polished-Floor-Tiles-Lot-of-150-Tiles-modern-wall-and-floor-tile)";
                        c.media.type ="",
                        c.media.src = "";
    */
    
                        var l = new r;
                        l.sid = c.tagid,
                        l.created = Object(o.a)(c.details.time || null),
                        l.modified = Object(o.a)(c.details.time || null),
                        l.enabled = c.enable,
                        l.label = c.details.title.length == 0 ? c.tagtitle : c.details.title ,
                        l.description = c.details.description,
                        l.parsedDescription = n.parse(c.details.description),
                        l.anchorPosition = new s.a(c.base.x,c.base.y,c.base.z),
                        l.anchorNormal = new s.a(c.normal.x,c.normal.y,c.normal.z),
                        l.stemVector = new s.a(c.stem.direction.x,c.stem.direction.y,c.stem.direction.z),
                        l.stemVisible = c.stem.enabled,
                        l.floorIndex = c.flooridx,
                        l.color = c.color ? new a.a(c.color) : new a.a("#03687D");

                        
                        c.media = {
                            type : ""
                        }

                        /*
                        
                        t.text = "text",
        t.link = "link",
        t.photo = "photo",
        t.video = "video",
        t.rich = "rich",
        t.none = "none"
                        */
                        switch(c.details.templatetype) {
                            case 1:
                                c.media.type = "text";
                                break;
                            case 2:
                                c.media.type = "photo";
                                c.media.src = c.details.imageurl.length > 0 ? c.details.imageurl[0] : "";
                                break;
                            case 11:
                                c.media.type = "video";

                                c.media.src = c.details.videourl;
                                break;
                        }

                        c.media ? (l.mediaType = h.a.parse(c.media.type),
                        l.mediaSrc = c.media.src) : (l.mediaType = h.a.none,
                        l.mediaSrc = ""),
                        l.isActive = !1;
                        l.detail = c.detail;
                        //81dbf5 
                        //4497df
                        //05a155
                        /*if(c.detail && c.detail.tagPicUrl && c.detail.tagPicUrl.indexOf("model.png") > 0 ) {
                            c.detail.tagPicUrl = undefined;
                            l.color = new a.a("#81dbf5");
                        } else if(c.detail && c.detail.tagPicUrl && c.detail.tagPicUrl.indexOf("yes_25.png") > 0 ) {
                            c.detail.tagPicUrl = undefined;
                            l.color = new a.a("#4497df");
                        } else if(c.detail && c.detail.tagPicUrl && c.detail.tagPicUrl.indexOf("gif10_128x3200.png") > 0 ) {
                            c.detail.tagPicUrl = undefined;
                            l.color = new a.a("#05a155");
                        } else if(c.detail && c.detail.tagPicUrl && c.detail.tagPicUrl.indexOf("guide-arrow.png") > 0 ) {
                           
                        } else {
                            c.detail.tagPicUrl = undefined;
                        }*/
    
                        i[u] = l
                    } catch (t) {
                        p.warn("Failed to parse tag: " + c.sid)
                    }
                }
                return i


            }

            if(this.path.indexOf(".dam") > 0) {

                if(SCENE_CONFIG.type == 1) {
                    t = [];
                } else {
                    var strproto = '// Protocol Buffer for puck visibility and related data\n//\n// To dump out a binray manifest in text format, you can use protoc directly:\n//   protoc --proto_path ~/dev/mp_vision/  --decode=eos.storage.VisionModeldata ~/dev/mp_vision/eos/storage/vision_modeldata.proto < vision.modeldata\n\n// package eos.storage;\n\n// import "eos/infra/common.proto";\n// The following were manually extracted here, JS does not like protobuf imports\n\n//cd D:\gocodes\codes\spyderZhonqu\myproto\n//protoc --go_out=. tags.proto\n\nsyntax = "proto2";\n\nmessage Vector3f {\n	optional float x = 1;\n	optional float y = 2;\n	optional float z = 3;\n}\n\nmessage StemInfo {\n    optional Vector3f direction = 1;\n    optional bool enabled = 2;\n}\n\nmessage MediaInfo {\n    optional string src = 1;\n    optional string type = 2;\n}\n\nmessage DetailInfo {\n    optional float tagHeight = 1;\n    optional float tagWidth = 2;\n    optional int32 tagPicType = 3;\n    optional string tagPicUrl = 4;\n}\n\nmessage TagInfo {\n    optional string color = 1;\n    optional string description = 2;\n    optional DetailInfo detail = 3;\n    optional bool enabled = 4;\n    optional int32 floor = 5;\n\n    optional string label = 6;\n    optional string labelBgColor = 7;\n    optional MediaInfo media = 8;\n    optional Vector3f normal = 9;\n    optional string panoId = 10;\n\n    optional Vector3f position = 11;\n    optional bool showLabel = 12;\n    optional string sid = 13;\n    optional StemInfo stem = 14;\n    optional bool enable = 15;\n}\n\n/* All pucks in a model. Pucks are stored in scanning order. */\nmessage TagsData {\n	repeated TagInfo tags = 1;\n}\n';
                    var proto = protobuff.loadProto(strproto);
                    var decoder = proto.build("TagsData");
                    t = decoder.decode(t);
                    t = t.tags;
                }
                
              
                
              //  t = [];
            }



            var i = {};
            for (var u in t) {
                var c = t[u];
                try {
                    if (e && (!c.enabled || 0 === c.label.length && 0 === c.description.length))
                        continue;

                  //  console.log(c.detail);    
/*
                    c.media.type ="rich",
                    c.media.src = "https://36kr.com/p/5050494.html",

                    c.media.type ="photo",
                    c.media.src = "https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1539862901599&di=6a057381963021afa9296fdc9854c6b7&imgtype=0&src=http%3A%2F%2Fs14.sinaimg.cn%2Fbmiddle%2F466eef47h72ad6f11a75d%26690",


                    c.media.type ="video",
                    c.media.src = "http://www.runoob.com/try/demo_source/movie.mp4",
                    
                    c.description = "[Learn more](https://www.houzz.com/photos/8116034/Italian-White-Carrara-Marble-Polished-Floor-Tiles-Lot-of-150-Tiles-modern-wall-and-floor-tile)";
                    c.media.type ="",
                    c.media.src = "";
*/

                    var l = new r;
                    l.sid = c.sid,
                    l.created = Object(o.a)(c.created || null),
                    l.modified = Object(o.a)(c.modified || null),
                    l.enabled = c.enabled,
                    l.label = c.label,
                    l.description = c.description,
                    l.parsedDescription = n.parse(c.description),
                    l.anchorPosition = new s.a(c.position.x,c.position.y,c.position.z),
                    l.anchorNormal = new s.a(c.normal.x,c.normal.y,c.normal.z),
                    l.stemVector = new s.a(c.stem.direction.x,c.stem.direction.y,c.stem.direction.z),
                    l.stemVisible = c.stem.enabled,
                    l.floorIndex = c.floor,
                    l.color = c.color ? new a.a(c.color) : new a.a("#03687D"),
                    c.media ? (l.mediaType = h.a.parse(c.media.type),
                    l.mediaSrc = c.media.src) : (l.mediaType = h.a.none,
                    l.mediaSrc = ""),
                    l.isActive = !1;
                    l.detail = c.detail;
                    //81dbf5 
                    //4497df
                    //05a155
                    if(c.detail && c.detail.tagPicUrl && c.detail.tagPicUrl.indexOf("model.png") > 0 ) {
                        c.detail.tagPicUrl = undefined;
                        l.color = new a.a("#81dbf5");
                    } else if(c.detail && c.detail.tagPicUrl && c.detail.tagPicUrl.indexOf("yes_25.png") > 0 ) {
                        c.detail.tagPicUrl = undefined;
                        l.color = new a.a("#4497df");
                    } else if(c.detail && c.detail.tagPicUrl && c.detail.tagPicUrl.indexOf("gif10_128x3200.png") > 0 ) {
                        c.detail.tagPicUrl = undefined;
                        l.color = new a.a("#05a155");
                    } else if(c.detail && c.detail.tagPicUrl && c.detail.tagPicUrl.indexOf("guide-arrow.png") > 0 ) {
                       
                    } else {
                        if(c.detail)
                            c.detail.tagPicUrl = undefined;
                    }

                    i[u] = l
                } catch (t) {
                    p.warn("Failed to parse tag: " + c.sid)
                }
            }
            return i
        }
    }
    var y = function(t) {
        var e = {};
        for (var n in t) {
            var r = t[n]
              , i = {
                sid: r.sid,
                created: r.created,
                modified: new Date,
                enabled: r.enabled,
                label: r.label,
                description: r.description,
                color: Object(f.a)(r.color),
                position: Object(f.c)(r.anchorPosition),
                normal: Object(f.c)(r.anchorNormal),
                floor: r.floorIndex,
                stem: {
                    direction: Object(f.c)(r.stemVector),
                    enabled: r.stemVisible
                }
            };
            r.mediaType !== h.a.none && (i.media = {
                type: r.mediaType,
                src: r.mediaSrc
            }),
            e[r.sid] = i
        }
        return e
    }
}
, function(t, e, n) {
    "use strict";
    var r;
    n.d(e, "a", function() {
        return r
    }),
    function(t) {
        t[t.NAVIGATION = 0] = "NAVIGATION",
        t[t.MODEL = 1] = "MODEL",
        t[t.EXT_LINK = 2] = "EXT_LINK"
    }(r = r || (r = {}));
    var i;
    (i = {})[r.NAVIGATION] = "navigation",
    i[r.MODEL] = "model",
    i[r.EXT_LINK] = "ext-link"
}
, function(t, e, n) {
    "use strict";
    var r, i = n(11), o = n(53), s = n(14), a = n(102), u = n(37), c = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), h = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }, l = function() {
        return function() {
            this.visible = !1
        }
    }(), f = function(t) {
        function e(e) {
            var n, r, i = t.call(this) || this;
            if (i.sweepList = new a.a,
            i.sweepMap = {},
            e)
                try {
                    for (var o = h(e), s = o.next(); !s.done; s = o.next()) {
                        var u = s.value;
                        i.sweepMap[u.id] = u,
                        i.sweepList.push(u)
                    }
                } catch (t) {
                    n = {
                        error: t
                    }
                } finally {
                    try {
                        s && !s.done && (r = o.return) && r.call(o)
                    } finally {
                        if (n)
                            throw n.error
                    }
                }
            return i.state = {},
            i.transition = {
                pending: !1,
                active: !1,
                from: void 0,
                to: void 0
            },
            i
        }
        return c(e, t),
        Object.defineProperty(e.prototype, "currentSweep", {
            get: function() {
                return this._currentSweep
            },
            set: function(t) {
                var e = this;
                if (t) {
                    var n = this.getSweep(t);
                    this.iterate(function(r) {
                        r.id !== t && e.setVisible(r.id, -1 !== n.neighbours.indexOf(r.id))
                    }),
                    this.setVisible(t, !1)
                } else
                    this.iterate(function(t) {
                        e.setVisible(t.id, !1)
                    });
                this._currentSweep = t
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.getState = function(t) {
            var e = this.state[t];
            return e || ((e = Object(u.a)(new l)).selected = Object(u.a)(new o.a(0)),
            e.visible = !1,
            this.state[t] = e),
            e
        }
        ,
        e.prototype.update = function(t) {
            this.copy(t)
        }
        ,
        e.prototype.copy = function(t) {
            var e = this
              , n = !1;
            if (this.sweepList.length === t.sweepList.length) {
                n = !0;
                for (var r = 0; r < this.sweepList.length; r++) {
                    var i = this.sweepList.get(r)
                      , o = t.sweepList.get(r);
                    if (i.id !== o.id) {
                        n = !1;
                        break
                    }
                }
            }
            n || (this.sweepMap = {},
            this.sweepList.length = 0,
            this.state = {},
            t.sweepList.forEach(function(t) {
                e.addSweep(t)
            })),
            this.currentSweep = t.currentSweep,
            t.sweepList.forEach(function(n) {
                var r = e.getState(n.id)
                  , i = t.getState(n.id);
                e.setVisible(n.id, i.visible),
                r.selected.copy(i.selected),
                r.visible = i.visible
            }),
            this.transition.pending = t.transition.pending,
            this.transition.active = t.transition.active,
            this.transition.to = t.transition.to,
            this.transition.from = t.transition.from
        }
        ,
        e.prototype.clone = function() {
            var t = new e;
            return t.copy(this),
            t
        }
        ,
        e.prototype.addSweep = function(t) {
            this.containsSweep(t.id) || (this.sweepList.push(t),
            this.sweepMap[t.id] = t)
        }
        ,
        e.prototype.getSweep = function(t) {
            return this.sweepMap[t]
        }
        ,
        e.prototype.containsSweep = function(t) {
            return t in this.sweepMap
        }
        ,
        e.prototype.getFirstSweep = function() {
            for (var t = -1; ++t < this.sweepList.length; ) {
                var e = this.sweepList.get(t);
                if (e.enabled)
                    return e
            }
            throw new Error("First enabled sweep not found")
        }
        ,
        e.prototype.getClosestSweep = function(t, e) {
            var n = Number.MAX_VALUE
              , r = null;
            return this.iterate(function(i) {
                if (e && i.alignmentType === s.a.ALIGNED) {
                    var o = t.distanceTo(i.position);
                    o < n && (n = o,
                    r = i)
                }
            }),
            r
        }
        ,
        e.prototype.getFirstAlignedSweep = function() {
            for (var t = -1; ++t < this.sweepList.length; ) {
                var e = this.sweepList.get(t);
                if (e.enabled && e.alignmentType === s.a.ALIGNED)
                    return e
            }
            return null
        }
        ,
        e.prototype.setTransitionPending = function(t) {
            this.transition.pending = t
        }
        ,
        e.prototype.activateTransition = function(t, e) {
            this.transition.active = !0,
            this.transition.from = e,
            this.transition.to = t
        }
        ,
        e.prototype.deactivateTransition = function() {
            this.transition.active = !1,
            this.transition.from = void 0,
            this.transition.to = void 0
        }
        ,
        e.prototype.setVisible = function(t, e) {
            this.containsSweep(t) && (this.getState(t).visible = e)
        }
        ,
        e.prototype.isSweepUnaliged = function(t) {
            var e = this.getSweep(t);
            return !(!e || e.alignmentType === s.a.ALIGNED)
        }
        ,
        e.prototype.isVisible = function(t) {
            return !!this.containsSweep(t) && this.getState(t).visible
        }
        ,
        e.prototype.getSelected = function(t) {
            return this.containsSweep(t) ? this.getState(t).selected : null
        }
        ,
        e.prototype.iterate = function(t) {
            this.sweepList.forEach(function(e) {
                t(e)
            })
        }
        ,
        e.prototype.filter = function(t) {
            return this.sweepList.filter(t)
        }
        ,
        e.prototype.sortByScore = function(t, e) {
            for (var n = [], r = this.sweepList.length; r--; )
                n[r] = this.sweepList.get(r);
            return 0 === (n = n.filter(function(e) {
                return t.every(function(t) {
                    return t(e)
                })
            })).length ? [] : n.map(function(t) {
                return {
                    sweep: t,
                    score: e.reduce(function(e, n) {
                        return e + n(t)
                    }, 0)
                }
            }).sort(function(t, e) {
                return e.score - t.score
            })
        }
        ,
        e.prototype.getSweepList = function() {
            return this.sweepList.values()
        }
        ,
        e
    }(i.a);
    e.a = f
}
, , function(t, e) {
    var n;
    n = function() {
        return this
    }();
    try {
        n = n || Function("return this")() || (0,
        eval)("this")
    } catch (t) {
        "object" == typeof window && (n = window)
    }
    t.exports = n
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return l
    }),
    n.d(e, "b", function() {
        return f
    });
    var r = n(9)
      , i = n(14)
      , o = n(1)
      , s = n(3)
      , a = n(93)
      , u = n(4)
      , class5 = n(5)
      , class43 = n(43)
      , protobuff = n(494)
      , c = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }
      , h = new u.a("sweeps")
      //vision
      , l = function(t) {

        if(this.path.indexOf(".dam") > 0) {
            var strproto = '// Protocol Buffer for puck visibility and related data\n//\n// To dump out a binray manifest in text format, you can use protoc directly:\n//   protoc --proto_path ~/dev/mp_vision/  --decode=eos.storage.VisionModeldata ~/dev/mp_vision/eos/storage/vision_modeldata.proto < vision.modeldata\n\n// package eos.storage;\n\n// import "eos/infra/common.proto";\n// The following were manually extracted here, JS does not like protobuf imports\n\n//cd D:\gocodes\codes\spyderZhonqu\myproto\n//protoc --go_out=. vision.proto\n\nsyntax = "proto2";\n\nmessage Affine3f {\n	optional Quaternionf rotation = 1;\n	optional Vector3f translation = 2;\n}\n\nmessage Quaternionf {\n	optional float w = 1;\n	optional float x = 2;\n	optional float y = 3;\n	optional float z = 4;\n}\n\nmessage Vector3f {\n	optional float x = 1;\n	optional float y = 2;\n	optional float z = 3;\n}\n\n//\n// One sweep / pano\n//\nmessage SweepLocation {\n	optional string uuid = 1;  /* uuid */\n	optional Affine3f pose = 2;  /* camera pose (x, y,z) in meter and a quaternion*/\n	optional Vector3f puck = 3;  /* puck location - x any is generally the same as pose, z is the height of the closest floor under the camera */\n	optional int32 group = 4;  /* floor index */\n	optional int32 subgroup = 5;  /* room index */\n	repeated int32 visibles = 6;  /* list of indices to all pucks visible from this puck */\n	repeated float scores = 7; /* used as part of scoring function for determining which puck to go to next */\n  optional string sweep_name = 8;\n\n  // With outdoor panos, we have a couple of different situations for alignment. The common\n  // case is that the pano aligned normally. It could also have been placed manually in\n  // CaptureApp or Workshop, or left unaligned for highlight-reel viewing.\n  enum AlignmentType\n  {\n      UNKNOWN = 0;\n      ALIGNED = 1;\n      UNALIGNED = 2;\n      MANUALLY_PLACED = 3;\n  }\n  optional AlignmentType alignment_type = 9 [default = ALIGNED];\n  optional string pavilionMapId = 10;\n\n  optional bool isInside = 11;\n}\n\nmessage SubgroupInfo {\n	optional int32 subgroup = 1;\n	optional float area = 2; /* floor area in m^2 (square meterage) */\n}\n\n/* All pucks in a model. Pucks are stored in scanning order. */\nmessage VisionModeldata {\n	repeated SweepLocation sweepLocations = 1;\n	repeated SubgroupInfo subgroupInfos = 2;\n}\n';
            var proto = protobuff.loadProto(strproto);
            var decoder = proto.build("VisionModeldata");
            t = decoder.decode(t);
            t = t.sweepLocations;
        }

        if(SCENE_CONFIG.type == 1) {
            t = t.locations.points;
        }



        
        if (!t || Object.keys(t).length < 1)
            return {};
        var e, n, u, l, f = {};
        try {
            try {
                if(this.path.indexOf(".dam") > 0) { 
                    t.map(function(location) {
                        location.id = location.uuid;
                    })
                } else {
                    for (var p = c(t), d = p.next(); !d.done; d = p.next()) {

                        if(SCENE_CONFIG.type == 1) {
                            (v = d.value).id = v.locationid;
                            (v = d.value).neighbors = v.vps;
                            (v = d.value).floor_index = v.flooridx;
                            (v = d.value).room_index = v.roomidx;
                            
                            
                        } else {
                            (v = d.value).id = v.sweep_uuid.replace(/-/g, "");
                        }

                        
                    }
                }
                
                
            } catch (t) {
                e = {
                    error: t
                }
            } finally {
                try {
                    d && !d.done && (n = p.return) && n.call(p)
                } finally {
                    if (e)
                        throw e.error
                }
            }
            try { 
                if(this.path.indexOf(".dam") > 0) { 
                    t.map(function(location,index) {
                        if(undefined == location.pose.rotation.w) {
                            var eulerX = class5.a.degToRad(location.pose.rotation.x);
                            var eulerY = class5.a.degToRad(location.pose.rotation.y);
                            var eulerZ = class5.a.degToRad(location.pose.rotation.z);
                            var vectorEuler = new class43.a(eulerX,eulerY, eulerZ, "XYZ");
                            var vectorQuaternion = new s.a();
                            vectorQuaternion.setFromEuler(vectorEuler);
                          
                            location.pose.rotation.w = vectorQuaternion.w;
                            location.pose.rotation.x = vectorQuaternion.x;
                            location.pose.rotation.y =  vectorQuaternion.y;
                            location.pose.rotation.z = vectorQuaternion.z;
                        }

                        var v = {
                            sweep_name: "sweep"+location.uuid,
                            id: location.uuid,
                            neighbors: location.visibles,
                            index: index,
                            floor_index: Number.parseInt(location.group, 10),
                            room_index: 0,
                            alignment_type: "aligned",
                            rotation: new s.a(location.pose.rotation.x,location.pose.rotation.y,location.pose.rotation.z,location.pose.rotation.w),
                            floor_position: new o.a(location.puck.x, location.puck.y, location.puck.z),
                            position: new o.a(location.pose.translation.x, location.pose.translation.y, location.pose.translation.z),
                           

                            pavilionMapId: location.pavilionMapId,
                            isInside: location.isInside,
                            obj: location.obj
                        };

                        
                        var g = v.neighbors.map(function(e) {
                            return t[e].uuid;
                            var n = t.find(function(t) {
                                return t.index === e
                            });
                            return n ? n.id : void 0
                        }).filter(function(t) {
                            return void 0 !== t
                        });
                        var b = Number.parseInt(v.floor_index, 10);
                        var _ = Number.parseInt(v.room_index, 10);
                        var w = "aligned";
                        var E = i.b.AUTO;
                        var x = v.rotation ? Object(r.f)(v.rotation) : new s.a;
                        var O = v.position ? Object(r.g)(v.position) : new o.a;
                        var P = v.floor_position ? Object(r.g)(v.floor_position) : new o.a;
                        var S = v.sweep_name;
                        var R = new i.c(v.id,v.index,{
                            name: S,
                            position: O,
                            rotation: x,
                            floorPosition: P,
                            floor: isNaN(b) ? -1 : b,
                            room: isNaN(_) ? -1 : _,
                            enabled: true,
                            vrenabled: true,
                            alignmentType: w,
                            placement: E,
                            neighbours: g,
                            pavilionMapId: v.pavilionMapId,
                            isInside: v.isInside,
                            obj: v.obj
                        });
                        var M = R.alignmentType === i.a.UNALIGNED;
                        var L = R.placementType === i.b.MANUAL;
                        var I = R.position.length() > a.a.epsilon;
                       // (M || L) && I && R.position.clampLength(0, 100);
                        f[R.id] = R
                    })
                } else {
                    if(SCENE_CONFIG.type == 1) {
                        t.map(function(location,index) {
                            

                            /*var tmp = location.spot.y;
                            location.spot.y = -1 *location.spot.z;
                            location.spot.z =  tmp;

                            tmp =  location.viewpoint.y;
                            location.viewpoint.y = -1 *location.viewpoint.z;
                            location.viewpoint.z =  tmp;*/

                            var v = {
                                sweep_name: "sweep"+location.id,
                                id: location.id,
                                neighbors: location.vps,
                                index: index,
                                floor_index: Number.parseInt((location.flooridx == null)? 0 : location.flooridx, 10),
                                room_index: 0,
                                alignment_type: "aligned",
                                rotation: location.rotation,
                                floor_position: location.spot,
                                position:  location.viewpoint
                            

                            };

                            
                            var g = v.neighbors.map(function(e) {
                                return t[e].id;
                                var n = t.find(function(t) {
                                    return t.index === e
                                });
                                return n ? n.id : void 0
                            }).filter(function(t) {
                                return void 0 !== t
                            });
                            var b = Number.parseInt(v.floor_index, 10);
                            var _ = Number.parseInt(v.room_index, 10);
                            var w = "aligned";
                            var E = i.b.AUTO;
                            var x = v.rotation ? Object(r.f)(v.rotation) : new s.a;
                            var O = v.position ? Object(r.g)(v.position) : new o.a;
                            var P = v.floor_position ? Object(r.g)(v.floor_position) : new o.a;
                            var S = v.sweep_name;
                            var R = new i.c(v.id,v.index,{
                                name: S,
                                position: O,
                                rotation: x,
                                floorPosition: P,
                                floor: isNaN(b) ? -1 : b,
                                room: isNaN(_) ? -1 : _,
                                enabled: true,
                                vrenabled: true,
                                alignmentType: w,
                                placement: E,
                                neighbours: g,
                                pavilionMapId: v.pavilionMapId,
                                isInside: v.isInside,
                                obj: v.obj
                            });
                            var M = R.alignmentType === i.a.UNALIGNED;
                            var L = R.placementType === i.b.MANUAL;
                            var I = R.position.length() > a.a.epsilon;
                        // (M || L) && I && R.position.clampLength(0, 100);
                            f[R.id] = R
                        })
                    } else {

                    

                        for (var y = c(t), m = y.next(); !m.done; m = y.next()) {
                            var v, g = (v = m.value).neighbors.map(function(e) {
                                var n = t.find(function(t) {
                                    return t.index === e
                                });
                                return n ? n.id : void 0
                            }).filter(function(t) {
                                return void 0 !== t
                            });
                            var b = Number.parseInt(v.floor_index, 10);
                            var _ = Number.parseInt(v.room_index, 10);
                            var w = "string" == typeof v.alignment_type && i.a.hasOwnProperty(v.alignment_type.toUpperCase()) ? v.alignment_type : i.a.UNALIGNED;
                            var E = "string" == typeof v.placement && i.b.hasOwnProperty(v.placement.toUpperCase()) ? v.placement : i.b.UNPLACED;
                            var x = v.rotation ? Object(r.f)(v.rotation) : new s.a, O = v.position ? Object(r.g)(v.position) : new o.a, P = v.floor_position ? Object(r.g)(v.floor_position) : new o.a, S = v.sweep_name;
                            

                            var enabled = true;
                            var vrenabled = true;
                            if(SCENE_CONFIG.type == 1) {
                                enabled = v.enable;
                                vrenabled = v.enable;
                            } else {
                                enabled = -1 !== v.tags.findIndex(function(t) {
                                    return "showcase" === t
                                })

                                vrenabled = -1 !== v.tags.findIndex(function(t) {
                                    return "vr" === t
                                });
                            }

                            
                            var R = new i.c(v.id,v.index,{
                                name: S,
                                position: O,
                                rotation: x,
                                floorPosition: P,
                                floor: isNaN(b) ? -1 : b,
                                room: isNaN(_) ? -1 : _,
                                enabled: enabled,
                                vrenabled: vrenabled,
                                alignmentType: w,
                                placement: E,
                                neighbours: g
                            });
                            var M = R.alignmentType === i.a.UNALIGNED;
                            var L = R.placementType === i.b.MANUAL;
                            var I = R.position.length() > a.a.epsilon;
                            (M || L) && I && R.position.clampLength(0, 100);
                            f[R.id] = R
                        }
                    }
                }
            } catch (t) {
                u = {
                    error: t
                }
            } finally {
                try {
                    m && !m.done && (l = y.return) && l.call(y)
                } finally {
                    if (u)
                        throw u.error
                }
            }
        } catch (t) {
            h.error("Error reading sweeps list", t)
        }
        return f
    }
      , f = function(t) {
        var e = [];
        for (var n in t) {
            var r = t[n]
              , i = [];
            r.enabled && (i.push("showcase"),
            r.vrenabled && i.push("vr")),
            e.push({
                index: r.index,
                tags: i
            })
        }
        return e
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return c
    });
    var r, i = n(11), o = n(1), s = n(3), a = n(6), u = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), c = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.lastInsidePosition = new o.a,
            e.lastInsideRotation = new s.a,
            e.currentMode = null,
            e.transition = {
                active: !1,
                progress: 0,
                from: null,
                to: null,
                startTime: 0,
                transitionTime: 0
            },
            e
        }
        return u(e, t),
        e.prototype.copyTransition = function(t) {
            this.transition.active = t.active,
            this.transition.progress = t.progress,
            this.transition.from = t.from,
            this.transition.to = t.to,
            this.transition.startTime = t.startTime,
            this.transition.transitionTime = t.transitionTime
        }
        ,
        e.prototype.activateTransition = function(t, e, n) {
            this.transition.active = !0,
            this.transition.progress = 0,
            this.transition.startTime = Date.now(),
            this.transition.transitionTime = n,
            this.transition.to = e,
            this.transition.from = t
        }
        ,
        e.prototype.deactivateTransition = function() {
            this.transition.active = !1
        }
        ,
        e.prototype.update = function(t) {
            this.copy(t)
        }
        ,
        e.prototype.clone = function() {
            var t = new e;
            return t.copy(this),
            t
        }
        ,
        e.prototype.copy = function(t) {
            this.currentMode = t.currentMode,
            this.lastInsidePosition.copy(t.lastInsidePosition),
            this.lastInsideRotation.copy(t.lastInsideRotation),
            this.copyTransition(t.transition)
        }
        ,
        e.prototype.isPano = function() {
            return this.currentMode === a.a.Panorama
        }
        ,
        e
    }(i.a)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return a
    });
    var r, i = n(37), o = n(11), s = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.properties = Object(i.a)({}),
            e
        }
        return s(e, t),
        e.prototype.update = function(t) {
            this.copy(t)
        }
        ,
        e.prototype.clone = function() {
            var t = new e;
            return t.copy(this),
            t
        }
        ,
        e.prototype.copy = function(t) {
            var e = t.properties.target();
            for (var n in e)
                "function" == typeof e[n].clone ? this.setProperty(n, e[n].clone()) : this.setProperty(n, e[n])
        }
        ,
        e.prototype.setProperty = function(t, e) {
            null == e ? this.properties[t] = e : this.properties[t] !== e && (this.properties[t] = e)
        }
        ,
        e.prototype.hasProperty = function(t) {
            return t in this.properties && void 0 !== this.properties[t]
        }
        ,
        e.prototype.tryGetProperty = function(t, e) {
            return this.hasProperty(t) ? this.getProperty(t) : e
        }
        ,
        e.prototype.getProperty = function(t) {
            if (this.hasProperty(t))
                return this.properties[t];
            throw new Error("SettingsData: " + t + " not found")
        }
        ,
        e.prototype.onPropertyChanged = function(t, e) {
            this.properties.onPropertyChanged(t, e)
        }
        ,
        e.prototype.removeOnPropertyChanged = function(t, e) {
            this.properties.removeOnPropertyChanged(t, e)
        }
        ,
        e.prototype.checkUrlParam = function(t, e, n) {
            void 0 === n && (n = 0);
            var r = this.tryGetProperty(t, n);
            return "number" == typeof r ? r === e : parseInt(r, 10) === e
        }
        ,
        e.prototype.iterate = function(t) {
            for (var e in this.properties)
                t(e, this.properties[e])
        }
        ,
        e
    }(o.a)
}
, , function(t, e, n) {
    "use strict";
    function r(t, e, n, r) {
        this.x = t || 0,
        this.y = e || 0,
        this.z = n || 0,
        this.w = void 0 !== r ? r : 1
    }
    var i, o;
    n.d(e, "a", function() {
        return r
    }),
    r.prototype = {
        constructor: r,
        isVector4: !0,
        set: function(t, e, n, r) {
            return this.x = t,
            this.y = e,
            this.z = n,
            this.w = r,
            this
        },
        setScalar: function(t) {
            return this.x = t,
            this.y = t,
            this.z = t,
            this.w = t,
            this
        },
        setX: function(t) {
            return this.x = t,
            this
        },
        setY: function(t) {
            return this.y = t,
            this
        },
        setZ: function(t) {
            return this.z = t,
            this
        },
        setW: function(t) {
            return this.w = t,
            this
        },
        setComponent: function(t, e) {
            switch (t) {
            case 0:
                this.x = e;
                break;
            case 1:
                this.y = e;
                break;
            case 2:
                this.z = e;
                break;
            case 3:
                this.w = e;
                break;
            default:
                throw new Error("index is out of range: " + t)
            }
        },
        getComponent: function(t) {
            switch (t) {
            case 0:
                return this.x;
            case 1:
                return this.y;
            case 2:
                return this.z;
            case 3:
                return this.w;
            default:
                throw new Error("index is out of range: " + t)
            }
        },
        clone: function() {
            return new this.constructor(this.x,this.y,this.z,this.w)
        },
        copy: function(t) {
            return this.x = t.x,
            this.y = t.y,
            this.z = t.z,
            this.w = void 0 !== t.w ? t.w : 1,
            this
        },
        add: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
            this.addVectors(t, e)) : (this.x += t.x,
            this.y += t.y,
            this.z += t.z,
            this.w += t.w,
            this)
        },
        addScalar: function(t) {
            return this.x += t,
            this.y += t,
            this.z += t,
            this.w += t,
            this
        },
        addVectors: function(t, e) {
            return this.x = t.x + e.x,
            this.y = t.y + e.y,
            this.z = t.z + e.z,
            this.w = t.w + e.w,
            this
        },
        addScaledVector: function(t, e) {
            return this.x += t.x * e,
            this.y += t.y * e,
            this.z += t.z * e,
            this.w += t.w * e,
            this
        },
        sub: function(t, e) {
            return void 0 !== e ? (console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
            this.subVectors(t, e)) : (this.x -= t.x,
            this.y -= t.y,
            this.z -= t.z,
            this.w -= t.w,
            this)
        },
        subScalar: function(t) {
            return this.x -= t,
            this.y -= t,
            this.z -= t,
            this.w -= t,
            this
        },
        subVectors: function(t, e) {
            return this.x = t.x - e.x,
            this.y = t.y - e.y,
            this.z = t.z - e.z,
            this.w = t.w - e.w,
            this
        },
        multiplyScalar: function(t) {
            return isFinite(t) ? (this.x *= t,
            this.y *= t,
            this.z *= t,
            this.w *= t) : (this.x = 0,
            this.y = 0,
            this.z = 0,
            this.w = 0),
            this
        },
        applyMatrix4: function(t) {
            var e = this.x
              , n = this.y
              , r = this.z
              , i = this.w
              , o = t.elements;
            return this.x = o[0] * e + o[4] * n + o[8] * r + o[12] * i,
            this.y = o[1] * e + o[5] * n + o[9] * r + o[13] * i,
            this.z = o[2] * e + o[6] * n + o[10] * r + o[14] * i,
            this.w = o[3] * e + o[7] * n + o[11] * r + o[15] * i,
            this
        },
        divideScalar: function(t) {
            return this.multiplyScalar(1 / t)
        },
        setAxisAngleFromQuaternion: function(t) {
            this.w = 2 * Math.acos(t.w);
            var e = Math.sqrt(1 - t.w * t.w);
            return e < 1e-4 ? (this.x = 1,
            this.y = 0,
            this.z = 0) : (this.x = t.x / e,
            this.y = t.y / e,
            this.z = t.z / e),
            this
        },
        setAxisAngleFromRotationMatrix: function(t) {
            var e, n, r, i, o = t.elements, s = o[0], a = o[4], u = o[8], c = o[1], h = o[5], l = o[9], f = o[2], p = o[6], d = o[10];
            if (Math.abs(a - c) < .01 && Math.abs(u - f) < .01 && Math.abs(l - p) < .01) {
                if (Math.abs(a + c) < .1 && Math.abs(u + f) < .1 && Math.abs(l + p) < .1 && Math.abs(s + h + d - 3) < .1)
                    return this.set(1, 0, 0, 0),
                    this;
                e = Math.PI;
                var y = (s + 1) / 2
                  , m = (h + 1) / 2
                  , v = (d + 1) / 2
                  , g = (a + c) / 4
                  , b = (u + f) / 4
                  , _ = (l + p) / 4;
                return y > m && y > v ? y < .01 ? (n = 0,
                r = .707106781,
                i = .707106781) : (r = g / (n = Math.sqrt(y)),
                i = b / n) : m > v ? m < .01 ? (n = .707106781,
                r = 0,
                i = .707106781) : (n = g / (r = Math.sqrt(m)),
                i = _ / r) : v < .01 ? (n = .707106781,
                r = .707106781,
                i = 0) : (n = b / (i = Math.sqrt(v)),
                r = _ / i),
                this.set(n, r, i, e),
                this
            }
            var w = Math.sqrt((p - l) * (p - l) + (u - f) * (u - f) + (c - a) * (c - a));
            return Math.abs(w) < .001 && (w = 1),
            this.x = (p - l) / w,
            this.y = (u - f) / w,
            this.z = (c - a) / w,
            this.w = Math.acos((s + h + d - 1) / 2),
            this
        },
        min: function(t) {
            return this.x = Math.min(this.x, t.x),
            this.y = Math.min(this.y, t.y),
            this.z = Math.min(this.z, t.z),
            this.w = Math.min(this.w, t.w),
            this
        },
        max: function(t) {
            return this.x = Math.max(this.x, t.x),
            this.y = Math.max(this.y, t.y),
            this.z = Math.max(this.z, t.z),
            this.w = Math.max(this.w, t.w),
            this
        },
        clamp: function(t, e) {
            return this.x = Math.max(t.x, Math.min(e.x, this.x)),
            this.y = Math.max(t.y, Math.min(e.y, this.y)),
            this.z = Math.max(t.z, Math.min(e.z, this.z)),
            this.w = Math.max(t.w, Math.min(e.w, this.w)),
            this
        },
        clampScalar: function(t, e) {
            return void 0 === i && (i = new r,
            o = new r),
            i.set(t, t, t, t),
            o.set(e, e, e, e),
            this.clamp(i, o)
        },
        floor: function() {
            return this.x = Math.floor(this.x),
            this.y = Math.floor(this.y),
            this.z = Math.floor(this.z),
            this.w = Math.floor(this.w),
            this
        },
        ceil: function() {
            return this.x = Math.ceil(this.x),
            this.y = Math.ceil(this.y),
            this.z = Math.ceil(this.z),
            this.w = Math.ceil(this.w),
            this
        },
        round: function() {
            return this.x = Math.round(this.x),
            this.y = Math.round(this.y),
            this.z = Math.round(this.z),
            this.w = Math.round(this.w),
            this
        },
        roundToZero: function() {
            return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x),
            this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y),
            this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z),
            this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w),
            this
        },
        negate: function() {
            return this.x = -this.x,
            this.y = -this.y,
            this.z = -this.z,
            this.w = -this.w,
            this
        },
        dot: function(t) {
            return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
        },
        lengthManhattan: function() {
            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
        },
        normalize: function() {
            return this.divideScalar(this.length())
        },
        setLength: function(t) {
            return this.multiplyScalar(t / this.length())
        },
        lerp: function(t, e) {
            return this.x += (t.x - this.x) * e,
            this.y += (t.y - this.y) * e,
            this.z += (t.z - this.z) * e,
            this.w += (t.w - this.w) * e,
            this
        },
        lerpVectors: function(t, e, n) {
            return this.subVectors(e, t).multiplyScalar(n).add(t)
        },
        equals: function(t) {
            return t.x === this.x && t.y === this.y && t.z === this.z && t.w === this.w
        },
        fromArray: function(t, e) {
            return void 0 === e && (e = 0),
            this.x = t[e],
            this.y = t[e + 1],
            this.z = t[e + 2],
            this.w = t[e + 3],
            this
        },
        toArray: function(t, e) {
            return void 0 === t && (t = []),
            void 0 === e && (e = 0),
            t[e] = this.x,
            t[e + 1] = this.y,
            t[e + 2] = this.z,
            t[e + 3] = this.w,
            t
        },
        fromAttribute: function(t, e, n) {
            return void 0 === n && (n = 0),
            e = e * t.itemSize + n,
            this.x = t.array[e],
            this.y = t.array[e + 1],
            this.z = t.array[e + 2],
            this.w = t.array[e + 3],
            this
        }
    }
}
, function(t, e, n) {
    "use strict";
    var r = function() {
        function t(t) {
            this._mask = t
        }
        return Object.defineProperty(t.prototype, "mask", {
            get: function() {
                return this._mask
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.addLayers = function(t) {
            this._mask |= t.mask
        }
        ,
        t.prototype.removeLayers = function(t) {
            return this._mask &= ~t.mask
        }
        ,
        t
    }()
      , i = function() {
        function t() {
            this.layerRegistry = [],
            this.unusedLayers = [];
            for (var t = 1; t < 32; t++)
                this.unusedLayers.push(t)
        }
        return Object.defineProperty(t, "ALL", {
            get: function() {
                return new r(-1)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t, "NONE", {
            get: function() {
                return new r(0)
            },
            enumerable: !0,
            configurable: !0
        }),
        Object.defineProperty(t, "DEFAULT", {
            get: function() {
                return new r(1)
            },
            enumerable: !0,
            configurable: !0
        }),
        t.prototype.claimLayer = function(t) {
            try {
                return this.getLayer(t)
            } catch (n) {
                if (0 === this.unusedLayers.length)
                    throw Error("All render layers have already been claimed");
                var e = this.unusedLayers[0];
                return this.layerRegistry[e] = t,
                this.unusedLayers.shift(),
                new r(1 << e)
            }
        }
        ,
        t.prototype.getLayer = function(t) {
            var e = this.layerRegistry.indexOf(t);
            if (-1 !== e)
                return new r(1 << e);
            throw Error("A render layer for " + t + " doesn't exist")
        }
        ,
        t.prototype.disposeLayer = function(t) {
            var e = this.layerRegistry.indexOf(t);
            -1 !== e && this.unusedLayers.push(e)
        }
        ,
        t
    }();
    e.a = i
}
, function(t, e, n) {
    "use strict";
    n.r(e),
    n.d(e, "moveInDirectionInterface", function() {
        return r
    }),
    n.d(e, "panInterface", function() {
        return i
    }),
    n.d(e, "rotateInterface", function() {
        return o
    }),
    n.d(e, "rotateInDirectionInterface", function() {
        return s
    }),
    n.d(e, "moveToModeInterface", function() {
        return a
    }),
    n.d(e, "moveToPanoInterface", function() {
        return u
    }),
    n.d(e, "getPoseInterface", function() {
        return c
    }),
    n.d(e, "screenShotInterface", function() {
        return h
    });
    var r = {
        version: "1.x",
        name: "moveInDirection",
        args: ["direction"]
    }
      , i = {
        version: "1.x",
        name: "panCamera",
        args: ["position"]
    }
      , o = {
        version: "1.x",
        name: "rotate",
        args: ["xAngle", "yAngle"]
    }
      , s = {
        version: "1.x",
        name: "rotateDirection",
        args: ["direction", "angle"]
    }
      , a = {
        version: "1.x",
        name: "moveToMode",
        args: ["mode"]
    }
      , u = {
        version: "1.x",
        name: "moveToPano",
        args: ["sweep", "options"]
    }
      , c = {
        version: "1.1",
        name: "getPose",
        args: []
    }
      , h = {
        version: "1.1",
        name: "takeScreenShot",
        args: ["resolution", "visibleObjects"]
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "e", function() {
        return r
    }),
    n.d(e, "d", function() {
        return i
    }),
    n.d(e, "b", function() {
        return o
    }),
    n.d(e, "a", function() {
        return s
    }),
    n.d(e, "c", function() {
        return a
    });
    var r = function(t, e, n, r) {
        return n * t / r + e
    }
      , i = function(t, e, n, r) {
        return -n * (t /= r) * (t - 2) + e
    }
      , o = function(t, e, n, r) {
        return (t /= r / 2) < 1 ? n / 2 * t * t + e : -n / 2 * (--t * (t - 2) - 1) + e
    }
      , s = function(t, e, n, r) {
        return n * (t /= r) * t * t + e
    }
      , a = function(t, e, n, r) {
        return t /= r,
        n * (--t * t * t + 1) + e
    }
}
, function(t, e) {
    var n, r, i = t.exports = {};
    function o() {
        throw new Error("setTimeout has not been defined")
    }
    function s() {
        throw new Error("clearTimeout has not been defined")
    }
    function a(t) {
        if (n === setTimeout)
            return setTimeout(t, 0);
        if ((n === o || !n) && setTimeout)
            return n = setTimeout,
            setTimeout(t, 0);
        try {
            return n(t, 0)
        } catch (e) {
            try {
                return n.call(null, t, 0)
            } catch (e) {
                return n.call(this, t, 0)
            }
        }
    }
    !function() {
        try {
            n = "function" == typeof setTimeout ? setTimeout : o
        } catch (t) {
            n = o
        }
        try {
            r = "function" == typeof clearTimeout ? clearTimeout : s
        } catch (t) {
            r = s
        }
    }();
    var u, c = [], h = !1, l = -1;
    function f() {
        h && u && (h = !1,
        u.length ? c = u.concat(c) : l = -1,
        c.length && p())
    }
    function p() {
        if (!h) {
            var t = a(f);
            h = !0;
            for (var e = c.length; e; ) {
                for (u = c,
                c = []; ++l < e; )
                    u && u[l].run();
                l = -1,
                e = c.length
            }
            u = null,
            h = !1,
            function(t) {
                if (r === clearTimeout)
                    return clearTimeout(t);
                if ((r === s || !r) && clearTimeout)
                    return r = clearTimeout,
                    clearTimeout(t);
                try {
                    r(t)
                } catch (e) {
                    try {
                        return r.call(null, t)
                    } catch (e) {
                        return r.call(this, t)
                    }
                }
            }(t)
        }
    }
    function d(t, e) {
        this.fun = t,
        this.array = e
    }
    function y() {}
    i.nextTick = function(t) {
        var e = new Array(arguments.length - 1);
        if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++)
                e[n - 1] = arguments[n];
        c.push(new d(t,e)),
        1 !== c.length || h || a(p)
    }
    ,
    d.prototype.run = function() {
        this.fun.apply(null, this.array)
    }
    ,
    i.title = "browser",
    i.browser = !0,
    i.env = {},
    i.argv = [],
    i.version = "",
    i.versions = {},
    i.on = y,
    i.addListener = y,
    i.once = y,
    i.off = y,
    i.removeListener = y,
    i.removeAllListeners = y,
    i.emit = y,
    i.prependListener = y,
    i.prependOnceListener = y,
    i.listeners = function(t) {
        return []
    }
    ,
    i.binding = function(t) {
        throw new Error("process.binding is not supported")
    }
    ,
    i.cwd = function() {
        return "/"
    }
    ,
    i.chdir = function(t) {
        throw new Error("process.chdir is not supported")
    }
    ,
    i.umask = function() {
        return 0
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "c", function() {
        return s
    }),
    n.d(e, "a", function() {
        return a
    }),
    n.d(e, "d", function() {
        return u
    }),
    n.d(e, "b", function() {
        return c
    });
    var r, i = n(19), o = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), s = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.modelMesh = e,
            n
        }
        return o(e, t),
        e
    }(i.a), a = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.hitPoint = e,
            n
        }
        return o(e, t),
        e
    }(i.a), u = function(t) {
        function e() {
            return null !== t && t.apply(this, arguments) || this
        }
        return o(e, t),
        e
    }(a), c = function(t) {
        function e(e, n) {
            var r = t.call(this) || this;
            return r.loaded = e,
            r.total = n,
            r
        }
        return o(e, t),
        e
    }(i.a)
}
, function(t, e, n) {
    "use strict";
    var r = n(131)();
    t.exports = function(t) {
        return t !== r && null !== t
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return s
    }),
    n.d(e, "a", function() {
        return a
    });
    var r, i = n(11), o = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), s = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.options = new a(e),
            n.modified = new Date(0),
            n
        }
        return o(e, t),
        e.prototype.update = function(t) {
            for (var e in t.options)
                this.options[e] = t.options[e];
            this.modified = new Date
        }
        ,
        e
    }(i.a), a = function() {
        return function(t) {
            t && (this.presented_by = !!t.presented_by,
            this.highlight_reel = !!t.highlight_reel,
            this.floor_plan = !!t.floor_plan,
            this.tour_buttons = !!t.tour_buttons,
            this.labels = !!t.labels,
            this.dollhouse = !!t.dollhouse,
            this.fast_transitions = !!t.fast_transitions,
            this.contact_email = !!t.contact_email,
            this.address = !!t.address,
            this.contact_name = !!t.contact_name,
            this.model_summary = !!t.model_summary,
            this.contact_phone = !!t.contact_phone,
            this.model_name = !!t.model_name,
            this.external_url = !!t.external_url,
            this.autoplay = !!t.autoplay)
        }
    }()
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return s
    }),
    n.d(e, "a", function() {
        return a
    });
    var r = n(5)
      , i = n(43)
      , o = n(3)
      , s = function(t) {
        var e = (new i.a).setFromQuaternion(t, "YXZ");
        return {
            x: r.a.radToDeg(e.x),
            y: r.a.radToDeg(e.y),
            z: r.a.radToDeg(e.z)
        }
    }
      , a = function(t) {
        var e = new i.a;
        return e.x = r.a.degToRad(t.x),
        e.y = r.a.degToRad(t.y),
        e.z = r.a.degToRad(t.z),
        e.order = "YXZ",
        (new o.a).setFromEuler(e)
    }
}
, function(t, e, n) {
    "use strict";
    n.r(e),
    n.d(e, "eventsInterface", function() {
        return s
    }),
    n.d(e, "directionsInterface", function() {
        return a
    }),
    n.d(e, "modesInterface", function() {
        return u
    }),
    n.d(e, "transitionTypesInterface", function() {
        return c
    });
    var r = n(99)
      , i = n(94)
      , o = n(90)
      , s = {
        version: "1.x",
        namespace: "",
        name: "Events",
        values: n(62).a
    }
      , a = {
        version: "1.x",
        namespace: "",
        name: "Direction",
        values: r.a
    }
      , u = {
        version: "1.x",
        namespace: "",
        name: "Mode",
        values: i.a
    }
      , c = {
        version: "1.x",
        namespace: "",
        name: "Transition",
        values: o.b
    }
}
, function(t, e, n) {
    "use strict";
    var r, i = n(4), o = n(105), s = Object.assign || function(t) {
        for (var e, n = 1, r = arguments.length; n < r; n++)
            for (var i in e = arguments[n])
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
        return t
    }
    , a = new i.a("segment"), u = function() {
        function t(t) {
            this.token = t
        }
        return t.prototype.init = function(t, e) {
            this.options = t,
            this.context = e,
            this.token && (window.analytics && window.analytics.initialize && (window.analytics = null),
            window.analytics || o(),
            window.analytics.load(this.token))
        }
        ,
        t.prototype.track = function(t, e) {
            return;
            e = Object.assign(e || {}, this.options);
            try {
                window.analytics.track(t, e, this.context),
                a.debug(t, e, this.context)
            } catch (e) {
                a.error("Failed to send data to segment for " + t)
            }
        }
        ,
        t.prototype.trackAsync = function(t, e) {
            if (e = e || {},
            navigator.sendBeacon)
                try {
                    navigator.sendBeacon("https://api.segment.io/v1/t", JSON.stringify({
                        event: t,
                        anonymousId: window.analytics.user().anonymousId(),
                        properties: s({
                            data: e
                        }, this.options),
                        writeKey: this.token,
                        sentAt: Date.now(),
                        type: "track",
                        context: this.context
                    }))
                } catch (t) {
                    a.error("Failed to send async segment request")
                }
        }
        ,
        t
    }();
    n.d(e, "a", function() {
        return r
    }),
    n.d(e, "b", function() {
        return h
    }),
    function(t) {
        t[t.Segment = 0] = "Segment"
    }(r = r || (r = {}));
    var c, h = ((c = {})[r.Segment] = {
        class: u,
        keyName: "segment_key",
        windowProperty: "analytics"
    },
    c)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return s
    }),
    n.d(e, "a", function() {
        return a
    });
    var r, i = n(47), o = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), s = function(t) {
        function e(e) {
            return t.call(this, e) || this
        }
        return o(e, t),
        e
    }(i.a), a = function(t) {
        function e(e) {
            return t.call(this, e) || this
        }
        return o(e, t),
        e
    }(i.a)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return r
    }),
    n.d(e, "a", function() {
        return s
    });
    var r, i = n(32), o = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    };
    !function(t) {
        t[t.PERMANENT = 0] = "PERMANENT",
        t[t.ONCE = 1] = "ONCE"
    }(r = r || (r = {}));
    var s = function() {
        function t() {
            this.typeLookup = new i.a,
            this.callbacks = [],
            this.messageQueue = [],
            this.messageCount = 0
        }
        return t.prototype.subscribe = function(t, e, n) {
            void 0 === n && (n = r.PERMANENT);
            var i = this.typeLookup.getIndexByType(t, !0);
            this.callbacks[i] || (this.callbacks[i] = []),
            this.callbacks[i].push({
                type: n,
                callback: e
            })
        }
        ,
        t.prototype.unsubscribe = function(t, e) {
            var n = this.typeLookup.getIndexByType(t);
            if (-1 === n)
                throw Error("Message callback not bound for Type");
            this.unsubscribeByIndex(n, e)
        }
        ,
        t.prototype.unsubscribeByIndex = function(t, e) {
            var n = this.callbacks[t].findIndex(function(t) {
                return t.callback === e
            });
            if (-1 === n)
                throw Error("Message callback not bound for Type");
            this.callbacks[t].splice(n, 1)
        }
        ,
        t.prototype.broadcast = function(t) {
            if (t.setID(this.messageCount++),
            this.messageQueue.push(t),
            1 === this.messageQueue.length) {
                try {
                    for (var e = o(this.messageQueue), n = e.next(); !n.done; n = e.next()) {
                        var i = n.value
                          , s = this.typeLookup.getIndexByInstance(i);
                        if (-1 !== s) {
                            var a = this.callbacks[s].slice();
                            try {
                                for (var u = o(a), c = u.next(); !c.done; c = u.next()) {
                                    var h = c.value;
                                    h.callback(i),
                                    h.type === r.ONCE && this.unsubscribeByIndex(s, h.callback)
                                }
                            } catch (t) {
                                p = {
                                    error: t
                                }
                            } finally {
                                try {
                                    c && !c.done && (d = u.return) && d.call(u)
                                } finally {
                                    if (p)
                                        throw p.error
                                }
                            }
                        }
                    }
                } catch (t) {
                    l = {
                        error: t
                    }
                } finally {
                    try {
                        n && !n.done && (f = e.return) && f.call(e)
                    } finally {
                        if (l)
                            throw l.error
                    }
                }
                this.messageQueue = []
            }
            var l, f, p, d
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    n(111);
    var r, i = n(4), o = n(8), 
    s = n(20), a = n(0), u = n(18), c = n(54), 
    h = n(38), l = n(16), f = n(59), p = n(68), d = n(57), y = n(1), m = n(3), 
    v = n(9), g = n(6), 
    class43 = n(43),
    b = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }, _ = new i.a("snapshot-serializer");
    !function(t) {
        t.user = "user",
        t.panorama = "panorama",
        t.unaligned = "unaligned",
        t.auto = "auto"
    }(r || (r = {}));
    var w = function() {
        return function(t, e, n, r, i, o, s, a, u, c, h, l) {
            this.sid = t,
            this.metadata = e,
            this.thumbnailUrl = n,
            this.imageUrl = r,
            this.name = i,
            this.is360 = o,
            this.category = s,
            this.height = a,
            this.width = u,
            this.modified = c,
            this.visionLabel = h,
            this.visionName = l
        }
    }()
      , E = function(t) {
        var e = {};
        if (!t || !t.images || t.images.length < 1)
            return e;
        var n, r, i = t.images, o = t.icon;
        try {
            for (var s = b(Object.keys(i)), a = s.next(); !a.done; a = s.next()) {
                var u = a.value
                  , c = x(i[u]);
                c && (c.icon = c.sid === o,
                e[c.sid] = c)
            }
        } catch (t) {
            n = {
                error: t
            }
        } finally {
            try {
                a && !a.done && (r = s.return) && r.call(s)
            } finally {
                if (n)
                    throw n.error
            }
        }
        return e
    }
      , x = function(t) {
        var e = null;
        if (!t)
            return e;
        if (!t.metadata || 0 === Object.keys(t.metadata).length)
            return _.warn("Image has no metadata: " + t.sid),
            e;
        var n = t.metadata;
        if ("string" == typeof t.metadata)
            try {
                n = JSON.parse(t.metadata)
            } catch (e) {
                return _.warn("Image metadata parse failed: " + t.sid),
                null
            }
        var r, i = -1;
        if ("object" == typeof n.floor_visibility)
            for (var o = 0; o < n.floor_visibility.length; o++)
                !0 === n.floor_visibility[o] && (i = o);
        try {
            
            if(n.camera_quaternion.x > Math.PI
                || n.camera_quaternion.y > Math.PI
                || n.camera_quaternion.w > Math.PI
                ||n.camera_quaternion.z > Math.PI
            || undefined == n.camera_quaternion.w) {
                var euler = new class43.a(n.camera_quaternion.x* Math.PI / 180, 
                    n.camera_quaternion.y* Math.PI / 180, 
                    n.camera_quaternion.z* Math.PI / 180,  'XYZ');

                    var vectorQuaternion = new m.a();
                 //   vectorQuaternion.setFromEuler(euler);

                    n.camera_quaternion = vectorQuaternion;
            }

            
           // rotateMatrix = rotateMatrix.makeRotationFromEuler(euler);



            r = {
                camera_mode: Object(g.c)(n.camera_mode),
                camera_position: Object(v.j)(n.camera_position ? n.camera_position : new y.a),
                camera_quaternion: Object(v.i)(n.camera_quaternion ? n.camera_quaternion : new m.a),
                scan_id: n.scan_id,
                ortho_zoom: n.ortho_zoom,
                floor: i
            }
        } catch (e) {
            return _.warn("Image metadata parse failed: ", t.sid, e),
            null
        }
        var s = t.name && (!t.name.match(/^[0-9.]+_[0-9.]+$/) || "") && t.name || "";
        return e = new w(t.sid,r,t.thumbnail_signed_src,t.signed_src,s,"unaligned" === t.category,t.category,t.height,t.width,new Date(Date.parse(t.modified)),t.vision_generated_label,t.vision_generated_name)
    }
      , O = n(63)
      , P = n(56)
      , S = n(61)
      , R = n(30)
      , M = n(88)
      , L = n(24)
      , I = n(69)
      , A = n(92)
      , T = n(55)
      , k = n(22)
      , C = n(96)
      , N = n(83)
      , D = function(t, e, n, r) {
        return new (n || (n = Promise))(function(i, o) {
            function s(t) {
                try {
                    u(r.next(t))
                } catch (t) {
                    o(t)
                }
            }
            function a(t) {
                try {
                    u(r.throw(t))
                } catch (t) {
                    o(t)
                }
            }
            function u(t) {
                t.done ? i(t.value) : new n(function(e) {
                    e(t.value)
                }
                ).then(s, a)
            }
            u((r = r.apply(t, e || [])).next())
        }
        )
    }
      , z = function(t, e) {
        var n, r, i, o, s = {
            label: 0,
            sent: function() {
                if (1 & i[0])
                    throw i[1];
                return i[1]
            },
            trys: [],
            ops: []
        };
        return o = {
            next: a(0),
            throw: a(1),
            return: a(2)
        },
        "function" == typeof Symbol && (o[Symbol.iterator] = function() {
            return this
        }
        ),
        o;
        function a(o) {
            return function(a) {
                return function(o) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; s; )
                        try {
                            if (n = 1,
                            r && (i = r[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(i = i.call(r, o[1])).done)
                                return i;
                            switch (r = 0,
                            i && (o = [0, i.value]),
                            o[0]) {
                            case 0:
                            case 1:
                                i = o;
                                break;
                            case 4:
                                return s.label++,
                                {
                                    value: o[1],
                                    done: !1
                                };
                            case 5:
                                s.label++,
                                r = o[1],
                                o = [0];
                                continue;
                            case 7:
                                o = s.ops.pop(),
                                s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                    s.label = o[1];
                                    break
                                }
                                if (6 === o[0] && s.label < i[1]) {
                                    s.label = i[1],
                                    i = o;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2],
                                    s.ops.push(o);
                                    break
                                }
                                i[2] && s.ops.pop(),
                                s.trys.pop();
                                continue
                            }
                            o = e.call(t, s)
                        } catch (t) {
                            o = [6, t],
                            r = 0
                        } finally {
                            n = i = 0
                        }
                    if (5 & o[0])
                        throw o[1];
                    return {
                        value: o[0] ? o[1] : void 0,
                        done: !0
                    }
                }([o, a])
            }
        }
    }
      , j = new i.a("showcase")
      , H = window.MP_PREFETCHED_MODELDATA
      , B = H && H.model ? H.model : null
      , U = function() {
        function t() {
            var t = this;
            this.urlValues = u.k();
            this.modelUrls = Object(S.c)(this.urlValues.m || this.urlValues.model);
            this.storeQueue = new f.RequestQueue({
                retries: 0
            });
            this.scanmodelStoreCache = {
                data: B
            };
            this.modelUrl = this.modelUrls.urlBase + "/api/v1/player/models/" + this.modelUrls.sid,
            this.modelUrl = API_SERVER_HOST + "/scene-portal/api/player/models/"+this.modelUrls.sid+"/model.json",
            this.modelUrl = SCENE_CONFIG.modelUrl,


            this.mattertagParserOptions = {
                model: this.modelUrls.sid,
                supportLinks: !this.urlValues.mls || "0" === this.urlValues.mls,
                keepLinkLabels: !0
            },
            this.quickstart = "1" === this.urlValues.qs,
            this.tick = function() {
                t.vrDisplay ? t.vrDisplay.requestAnimationFrame(t.tick) : window.requestAnimationFrame(t.tick),
                t.engine.tick()
            }
            .bind(this)
        }
        return t.prototype.getManifest = function() {
            return [{
                type: a.K,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 736))
                }
            }, {
                type: a.d,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 735))
                }
            }, {
                type: a.a,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 688))
                }
            }, {
                type: a.z,
                promise: function() {
                    return Promise.resolve().then(n.bind(null, 112))
                }
            }, {
                type: a.n,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 697))
                }
            }, {
                type: a.H,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 689))
                }
            }, {
                type: a.c,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 734))
                }
            }, {
                type: a.A,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 733))
                }
            }, {
                type: a.T,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 701))
                }
            }, {
                type: a.b,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 696))
                }
            }, {
                type: a.Z,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 671))
                }
            }, {
                type: a.Oa,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 700))
                }
            }, {
                type: a.Ca,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 703))
                }
            }, {
                type: a.Ba,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 672))
                }
            }, {
                type: a.X,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 673))
                }
            }, {
                type: a.G,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 732))
                }
            }, {
                type: a.R,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 687))
                }
            }, {
                type: a.I,
                promise: function() {
                    return Promise.all([n.e(0), n.e(7), n.e(3), n.e(23)]).then(n.bind(null, 702))
                }
            }, {
                type: a.u,
                promise: function() {
                    return Promise.all([n.e(0), n.e(7), n.e(3), n.e(23)]).then(n.bind(null, 731))
                }
            }, {
                type: a.w,
                promise: function() {
                    return Promise.all([n.e(0), n.e(7), n.e(3), n.e(23)]).then(n.bind(null, 730))
                }
            }, {
                type: a.v,
                promise: function() {
                    return Promise.all([n.e(0), n.e(7), n.e(3), n.e(23)]).then(n.bind(null, 729))
                }
            }, {
                type: a.Na,
                promise: function() {
                    return Promise.all([n.e(0), n.e(7), n.e(3), n.e(23)]).then(n.bind(null, 675))
                }
            }, {
                type: a.Ka,
                promise: function() {
                    return Promise.all([n.e(0), n.e(7), n.e(3), n.e(23)]).then(n.bind(null, 728))
                }
            }, {
                type: a.q,
                promise: function() {
                    return Promise.all([n.e(0), n.e(7), n.e(3), n.e(23)]).then(n.bind(null, 691))
                }
            }, {
                type: a.t,
                promise: function() {
                    return Promise.all([n.e(2), n.e(22)]).then(n.bind(null, 682))
                }
            }, {
                type: a.r,
                promise: function() {
                    return n.e(21).then(n.bind(null, 698))
                }
            }, {
                type: a.e,
                promise: function() {
                    return n.e(21).then(n.bind(null, 727))
                }
            }, {
                type: a.M,
                promise: function() {
                    return n.e(21).then(n.bind(null, 674))
                }
            }, {
                type: a.x,
                promise: function() {
                    return Promise.all([n.e(0), n.e(1), n.e(20)]).then(n.bind(null, 726))
                }
            }, {
                type: a.Fa,
                promise: function() {
                    return Promise.all([n.e(0), n.e(1), n.e(20)]).then(n.bind(null, 725))
                }
            }, {
                type: a.m,
                promise: function() {
                    return Promise.all([n.e(0), n.e(1), n.e(20)]).then(n.bind(null, 690))
                }
            }, {
                type: a.p,
                promise: function() {
                    return Promise.all([n.e(0), n.e(1), n.e(20)]).then(n.bind(null, 680))
                }
            }, {
                type: a.Ra,
                promise: function() {
                    return n.e(19).then(n.bind(null, 679))
                }
            }, {
                type: a.i,
                promise: function() {
                    return Promise.all([n.e(0), n.e(1), n.e(20)]).then(n.bind(null, 724))
                }
            }, {
                type: a.j,
                promise: function() {
                    return Promise.all([n.e(0), n.e(1), n.e(20)]).then(n.bind(null, 678))
                }
            }, {
                type: a.h,
                promise: function() {
                    return Promise.all([n.e(0), n.e(1), n.e(20)]).then(n.bind(null, 723))
                }
            }, {
                type: a.y,
                promise: function() {
                    return Promise.all([n.e(0), n.e(1), n.e(18)]).then(n.bind(null, 722))
                }
            }, {
                type: a.D,
                promise: function() {
                    return Promise.all([n.e(0), n.e(17)]).then(n.bind(null, 721))
                }
            }, {
                type: a.Ha,
                promise: function() {
                    return Promise.all([n.e(0), n.e(17)]).then(n.bind(null, 676))
                }
            }, {
                type: a.E,
                promise: function() {
                    return Promise.all([n.e(0), n.e(17)]).then(n.bind(null, 699))
                }
            }, {
                type: a.C,
                promise: function() {
                    return Promise.all([n.e(0), n.e(17)]).then(n.bind(null, 720))
                }
            }, {
                type: a.W,
                promise: function() {
                    return n.e(16).then(n.bind(null, 719))
                }
            }, {
                type: a.V,
                promise: function() {
                    return n.e(16).then(n.bind(null, 718))
                }
            }, {
                type: a.L,
                promise: function() {
                    return n.e(16).then(n.bind(null, 717))
                }
            }, {
                type: a.Da,
                promise: function() {
                    return n.e(16).then(n.bind(null, 693))
                }
            }, {
                type: a.Ia,
                promise: function() {
                    return n.e(16).then(n.bind(null, 677))
                }
            }, {
                type: a.P,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(9), n.e(3), n.e(24)]).then(n.bind(null, 683))
                }
            }, {
                type: a.Qa,
                promise: function() {
                    return n.e(15).then(n.bind(null, 716))
                }
            }, {
                type: a.Q,
                promise: function() {
                    return Promise.all([n.e(0), n.e(1), n.e(18)]).then(n.bind(null, 715))
                }
            }, {
                type: a.O,
                promise: function() {
                    return Promise.all([n.e(0), n.e(14)]).then(n.bind(null, 681))
                }
            }, {
                type: a.N,
                promise: function() {
                    return Promise.all([n.e(0), n.e(14)]).then(n.bind(null, 692))
                }
            }, {
                type: a.Ea,
                promise: function() {
                    return Promise.all([n.e(0), n.e(14)]).then(n.bind(null, 714))
                }
            }, {
                type: a.S,
                promise: function() {
                    return Promise.all([n.e(0), n.e(14)]).then(n.bind(null, 713))
                }
            }, {
                type: a.Pa,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(1), n.e(13)]).then(n.bind(null, 694))
                }
            }, {
                type: a.Ga,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(1), n.e(13)]).then(n.bind(null, 712))
                }
            }, {
                type: a.B,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(1), n.e(13)]).then(n.bind(null, 711))
                }
            }, {
                type: a.k,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(1), n.e(13)]).then(n.bind(null, 695))
                }
            }, {
                type: a.La,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(1), n.e(13)]).then(n.bind(null, 684))
                }
            }, {
                type: a.f,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(1), n.e(13)]).then(n.bind(null, 685))
                }
            }, {
                type: a.F,
                promise: function() {
                    return Promise.all([n.e(0), n.e(4), n.e(1), n.e(13)]).then(n.bind(null, 686))
                }
            }, {
                type: a.U,
                promise: function() {
                    return Promise.all([n.e(0), n.e(1), n.e(18)]).then(n.bind(null, 710))
                }
            }, {
                type: a.J,
                promise: function() {
                    return Promise.all([n.e(0), n.e(1), n.e(18)]).then(n.bind(null, 709))
                }
            }, {
                type: a.Ma,
                promise: function() {
                    return Promise.all([n.e(0), n.e(1), n.e(18)]).then(n.bind(null, 708))
                }
            }, {
                type: a.g,
                promise: function() {
                    return Promise.all([n.e(0), n.e(12)]).then(n.bind(null, 670))
                }
            }]
        }
        ,
        t.prototype.load = function(t, e) {
            return D(this, void 0, void 0, function() {
                var r, f, y, m, v, b, _, w, x, S, H, B, U, F, V, q, G, K, W, X, Y, Z, Q, $, J, tt, et, nt, rt = this;
                return z(this, function(it) {
                    switch (it.label) {
                    case 0:
                        return t.waitForModule(s.default).then(function(t) {
                            t.updateActiveApp(o.b.SHOWCASE)
                        }),
                        t.market.onDataUpdate(o.c, function(e) {
                            return D(rt, void 0, void 0, function() {
                                var n, r;
                                return z(this, function(i) {
                                    switch (i.label) {
                                    case 0:
                                        return e.phase !== o.a.ERROR ? [3, 2] : (n = e.error,
                                        [4, t.waitForModule(a.n)]);
                                    case 1:
                                        throw r = i.sent(),
                                        n instanceof N.b ? r.showError(a.o.UNSUPPORTED) : n instanceof N.a ? r.showError(a.o.WEBGL) : r.showError(a.o.GENERIC),
                                        n;
                                    case 2:
                                        return [2]
                                    }
                                })
                            })
                        }),
                        Promise.all([t.waitForModule(a.t), Promise.all([n.e(2), n.e(6), n.e(5), n.e(11)]).then(n.bind(null, 706))]).then(function(t) {
                            t[0].loadUi(t[1].initShowcaseUi)
                        }),
                        e ? (this.engine = t,
                        j.info("Showcase app version: 3.0.3.82-0-ge8c0dfde1"),
                        this.canvas = document.createElement("canvas"),
                        this.canvas.getContext("webgl"),
                        this.canvas.className = "webgl-canvas",
                        this.canvas.style.height = "0",
                        document.body.appendChild(this.canvas),
                        r = parseInt(this.urlValues.log, 10),
                        this.urlValues.hasOwnProperty("log") && !isNaN(r) && (i.a.level = r),
                        this.quickstart && j.info("Quickstart engaged. Hold on to your knickers. " + performance.now()),
                        [4, t.getModule(R.default)]) : [2];
                    case 1:
                        for (v in f = it.sent(),
                        y = {
                            sid: this.modelUrls.sid,
                            quickstart: this.quickstart,
                            lang: this.urlValues.lang,
                            perf: this.urlValues.perf,
                            perfInterval: this.urlValues.perfInterval
                        },
                        m = "/api/v1/jsonstore/model/",
                        y) 
                            y[v] && f.registerSetting("Showcase Config", v, y[v]);
                         t.waitForModule(h.default).then(function(e) {
                            e.enableHandshaking(),
                            n.e(10).then(n.bind(null, 705)).then(function(n) {
                                n.bindSdkInterface(t, t.commandBinder, e),
                                e.acceptConnections()
                            })
                        }),
                        b = {
                            data: null
                        },
                        _ = this.modelUrls.urlBase + "/api/v2/models/" + this.modelUrls.sid + "/sweeps?tag=showcase",
                        
                        
                        _ = SCENE_CONFIG.visions;

                       // _ = IMAGE_SERVER + "/visions/" + this.modelUrls.sid + ".dam";
                        w = new l.b(this.storeQueue,_,p.a,b);

                        if(_.indexOf(".dam") > 0)
                            w.options.responseType = "arraybuffer";
                        x = new k.b({
                            publishStore: w
                        },t),
                        S = new l.b(this.storeQueue,this.modelUrl,E,this.scanmodelStoreCache),
                        H = new k.b({
                            publishStore: S
                        },t),
                        B = new l.b(this.storeQueue,this.modelUrl,c.a,this.scanmodelStoreCache),
                        U = new k.c({
                            publishStore: B
                        },t),
                        F = new l.b(this.storeQueue,this.modelUrl,function(t) {
                            return t
                        }
                        ,this.scanmodelStoreCache),
                        this.loadInitialModules(S, U, F),
                        t.waitForModule(a.z),
                        this.loadModules([{
                            type: a.b
                        }, {
                            type: a.Z,
                            config: {
                                sweepSync: x
                            }
                        }, {
                            type: a.Oa
                        }]),
                        V = t.getModuleSync(s.default);
                        return [4, t.waitForLoadingModules()];
                    case 2:
                        return it.sent(),
                        V.updateAppPhase(o.a.LOADING),
                        [4, F.read()];
                    case 3:
                         q = it.sent();
                        if(SCENE_CONFIG.type != 1) {
                            document.title = q.name;
                        }
                        return [4, t.getModule(a.c)];
                    case 4:
                        G = it.sent().getStartPose();
                        !this.quickstart || G && G.mode === g.a.Panorama || (j.warn("Disabling quickstart. No panorama start position."),
                        this.quickstart = !1,
                        f.updateSetting("quickstart", !1));
                        
                        var supportsTiles = "0" !== this.urlValues.tiles;

                        if(SCENE_CONFIG.type == 1 && !q.basic.model.multiple) {
                            supportsTiles = false;
                        }


                        

                        return supportsTiles ? [3, 6] : [4, this.loadModules([{
                            type: a.Ba
                        }])];
                    case 5:
                        return it.sent(),
                        [3, 8];
                    case 6:
                        return [4, this.loadModules([{
                            type: a.Ca
                        }])];
                    case 7:
                        it.sent(),
                        it.label = 8;
                    case 8:
                        return [4, this.loadModules([{
                            type: a.X
                        }, {
                            type: a.G
                        }, {
                            type: a.R
                        }])];
                    case 9:
                        return it.sent(),
                        this.quickstart && (this.loadPanoControls(),
                        window.requestAnimationFrame(this.tick)),
                        this.loadModules([{
                            type: a.w
                        }]),
                        [4, t.waitForModule(a.z)];
                    case 10:
                         it.sent(),
                        this.loadModules([{
                            type: a.I,
                            config: {
                                renderMeshGeometry: !0,
                                combineFloors: "0" !== this.urlValues.f,
                                minimalMemoryMode: u.j() || "1" === this.urlValues.m3
                            }
                        }, {
                            type: a.u
                        }, {
                            type: a.v
                        }, {
                            type: a.Na,
                            config: {
                                startingMode: this.quickstart ? g.a.Panorama : null
                            }
                        }, {
                            type: a.Ka
                        }, {
                            type: a.q
                        }]),
                        this.loadModules([{
                            type: a.t,
                            config: {
                                sid: this.modelUrls.sid
                            }
                        }]),
                        this.quickstart || this.tick(),
                        navigator.getVRDisplays && A.c().then(function(t) {
                            t && (rt.vrDisplay = t)
                        }),
                        this.quickstart || this.loadPanoControls(),
                        this.loadModules([{
                            type: a.x
                        }, {
                            type: a.Fa,
                            config: {
                                checkRenderModes: function() {
                                    try {
                                        var e = t.market.tryGetData(C.a);
                                        if (!e || e.isTourActive())
                                            return !1;
                                        var n = t.market.tryGetData(M.a)
                                          , r = t.market.tryGetData(I.a)
                                          , i = [g.a.Panorama]
                                          , o = [L.b.Desktop, L.b.Mobile];
                                        return r && n && -1 !== o.indexOf(n.mode) && r.currentMode && -1 !== i.indexOf(r.currentMode)
                                    } catch (t) {
                                        return j.debug(t),
                                        !1
                                    }
                                }
                            }
                        }, {
                            type: a.m
                        }, {
                            type: a.p
                        }, {
                            type: a.Ra,
                            config: {
                                enabled: "1" !== this.urlValues.nozoom
                            }
                        }]),
                        u.j() || this.loadModules([{
                            type: a.i
                        }, {
                            type: a.j
                        }, {
                            type: a.h
                        }]),
                        K = "" + this.modelUrls.urlBase + m + "labels/" + this.modelUrls.sid + ".json",
                        W = new l.b(this.storeQueue,K,P.a),
                        X = new k.a({
                            publishStore: W
                        },t),
                        Y = new l.b(this.storeQueue,this.modelUrl,T.a,this.scanmodelStoreCache),
                        Z = new k.c({
                            publishStore: Y
                        },t),
                        /*this.loadModules([{
                            type: a.y,
                            config: {
                                sid: this.modelUrls.sid,
                                labelsSync: X
                            }
                        }]),*/
                        Q = "" + this.modelUrls.urlBase + m + "mattertags/" + this.modelUrls.sid;


                        if (SCENE_CONFIG.type == 0) {
                            Q = IMAGE_SERVER + "/tags/" + this.modelUrls.sid + ".dam";

                        } else if (SCENE_CONFIG.type == 1) {
                            Q = SCENE_CONFIG.modelUrl;

                        } else if (SCENE_CONFIG.type == 2) {
                            Q = "https://my.matterportvr.cn"  + m + "mattertags/" + this.modelUrls.sid;;

                        }

                        
                        $ = new l.b(this.storeQueue,Q,Object(O.a)(this.mattertagParserOptions, !0));
                        if(_.indexOf(".dam") > 0)
                            $.options.responseType = "arraybuffer";
                        J = new k.b({
                            publishStore: $
                        },t),
                        this.loadModules([{
                            type: a.D,
                            config: {
                                tagSync: J
                            }
                        }, {
                            type: a.Ha
                        }, {
                            type: a.E
                        }, {
                            type: a.C
                        }, {
                            type: a.V,
                            config: {
                                optionsSync: Z,
                                modelDetailsStore: F
                            }
                        }]),
                        tt = "" + this.modelUrls.urlBase + m + "highlights/" + this.modelUrls.sid,
                        tt = (undefined == RES_URL ? "" : RES_URL)+"js/dummy.json",
                        et = new l.b(this.storeQueue,tt,d.a),
                        nt = new k.c({
                            publishStore: et
                        },t),
                        this.loadModules([{
                            type: a.W
                        }, {
                            type: a.L,
                            config: {
                                enableWheel: "1" === this.urlValues.nozoom
                            }
                        }, {
                            type: a.Da
                        }, {
                            type: a.Ia,
                            config: {
                                snapshotsSync: H,
                                activeReelSync: nt
                            }
                        }, {
                            type: a.P
                        }]),
                        this.loadModules([{
                            type: a.O
                        }, {
                            type: a.N
                        }, {
                            type: a.Ea
                        }]),
                        this.loadModules([{
                            type: a.S
                        }]),
                        this.loadModules([{
                            type: a.Qa
                        }]),
                        this.loadModules([{
                            type: a.Q
                        }]),
                        this.loadModules([{
                            type: a.U
                        }, {
                            type: a.J
                        }, {
                            type: a.Ma
                        }, {
                            type: a.g
                        }]);
                        return [2]
                    }
                })
            })
        }
        ,
        t.prototype.unload = function(t) {
            return D(this, void 0, void 0, function() {
                return z(this, function(t) {
                    return [2]
                })
            })
        }
        ,
        t.prototype.loadInitialModules = function(t, e, n) {
            this.loadModules([{
                type: a.T
            }, {
                type: a.K
            }, {
                type: a.d,
                config: {
                    canvas: this.canvas
                }
            }, {
                type: a.a,
                config: {
                    prefetchedData: window.MP_PREFETCHED_MODELDATA,
                    baseUrl: this.modelUrls.urlBase
                }
            }, {
                type: a.z,
                config: {
                    modelDetailsStore: n,
                    sid: this.modelUrls.sid,
                    baseUrl: this.modelUrls.urlBase,
                    quickstart: this.quickstart,
                    autoplay: "1" === this.urlValues.play || !u.d(),
                    startNewTab: "1" === this.urlValues.nt,
                    hideTitle: "0" === this.urlValues.title || "2" === this.urlValues.title,
                    hideBranding: "1" === this.urlValues.mls || "2" === this.urlValues.mls || "0" === this.urlValues.brand
                }
            }, {
                type: a.n,
                config: {}
            }, {
                type: a.c,
                config: {
                    snapshotsStore: t,
                    cameraStartSync: e,
                    startOverride: this.urlValues.start,
                    start: {
                        panoId: this.urlValues.start,
                        x: this.urlValues.x ? parseFloat(this.urlValues.x) : 0,
                        y: this.urlValues.y ? parseFloat(this.urlValues.y) : 0,
                        z: this.urlValues.z ? parseFloat(this.urlValues.z) : 0,
                        w: this.urlValues.w ? parseFloat(this.urlValues.w) : 1
                    }
                }
            }, {
                type: a.H,
                config: {
                    modelDetailsStore: n,
                    sid: this.modelUrls.sid
                }
            }, {
                type: a.A
            }])
        }
        ,
        t.prototype.loadPanoControls = function() {
            this.loadModules([{
                type: a.e
            }, {
                type: a.M
            }, {
                type: a.r,
                config: {
                    enableWheel: "0" !== this.urlValues.wh
                }
            }])
        }
        ,
        t.prototype.loadModules = function(t) {
            var e = t.map(function(t) {
                return {
                    type: t.type,
                    config: t.config
                }
            });
            return this.engine.loadModules(e)
        }
        ,
        t
    }();
    e.a = U
}
, function(t, e, n) {
    (function(n) {
        var r;
        e = t.exports = X,
        r = "object" == typeof n && n.env && n.env.NODE_DEBUG && /\bsemver\b/i.test(n.env.NODE_DEBUG) ? function() {
            var t = Array.prototype.slice.call(arguments, 0);
            t.unshift("SEMVER"),
            console.log.apply(console, t)
        }
        : function() {}
        ,
        e.SEMVER_SPEC_VERSION = "2.0.0";
        var i = 256
          , o = Number.MAX_SAFE_INTEGER || 9007199254740991
          , s = e.re = []
          , a = e.src = []
          , u = 0
          , c = u++;
        a[c] = "0|[1-9]\\d*";
        var h = u++;
        a[h] = "[0-9]+";
        var l = u++;
        a[l] = "\\d*[a-zA-Z-][a-zA-Z0-9-]*";
        var f = u++;
        a[f] = "(" + a[c] + ")\\.(" + a[c] + ")\\.(" + a[c] + ")";
        var p = u++;
        a[p] = "(" + a[h] + ")\\.(" + a[h] + ")\\.(" + a[h] + ")";
        var d = u++;
        a[d] = "(?:" + a[c] + "|" + a[l] + ")";
        var y = u++;
        a[y] = "(?:" + a[h] + "|" + a[l] + ")";
        var m = u++;
        a[m] = "(?:-(" + a[d] + "(?:\\." + a[d] + ")*))";
        var v = u++;
        a[v] = "(?:-?(" + a[y] + "(?:\\." + a[y] + ")*))";
        var g = u++;
        a[g] = "[0-9A-Za-z-]+";
        var b = u++;
        a[b] = "(?:\\+(" + a[g] + "(?:\\." + a[g] + ")*))";
        var _ = u++
          , w = "v?" + a[f] + a[m] + "?" + a[b] + "?";
        a[_] = "^" + w + "$";
        var E = "[v=\\s]*" + a[p] + a[v] + "?" + a[b] + "?"
          , x = u++;
        a[x] = "^" + E + "$";
        var O = u++;
        a[O] = "((?:<|>)?=?)";
        var P = u++;
        a[P] = a[h] + "|x|X|\\*";
        var S = u++;
        a[S] = a[c] + "|x|X|\\*";
        var R = u++;
        a[R] = "[v=\\s]*(" + a[S] + ")(?:\\.(" + a[S] + ")(?:\\.(" + a[S] + ")(?:" + a[m] + ")?" + a[b] + "?)?)?";
        var M = u++;
        a[M] = "[v=\\s]*(" + a[P] + ")(?:\\.(" + a[P] + ")(?:\\.(" + a[P] + ")(?:" + a[v] + ")?" + a[b] + "?)?)?";
        var L = u++;
        a[L] = "^" + a[O] + "\\s*" + a[R] + "$";
        var I = u++;
        a[I] = "^" + a[O] + "\\s*" + a[M] + "$";
        var A = u++;
        a[A] = "(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";
        var T = u++;
        a[T] = "(?:~>?)";
        var k = u++;
        a[k] = "(\\s*)" + a[T] + "\\s+",
        s[k] = new RegExp(a[k],"g");
        var C = u++;
        a[C] = "^" + a[T] + a[R] + "$";
        var N = u++;
        a[N] = "^" + a[T] + a[M] + "$";
        var D = u++;
        a[D] = "(?:\\^)";
        var z = u++;
        a[z] = "(\\s*)" + a[D] + "\\s+",
        s[z] = new RegExp(a[z],"g");
        var j = u++;
        a[j] = "^" + a[D] + a[R] + "$";
        var H = u++;
        a[H] = "^" + a[D] + a[M] + "$";
        var B = u++;
        a[B] = "^" + a[O] + "\\s*(" + E + ")$|^$";
        var U = u++;
        a[U] = "^" + a[O] + "\\s*(" + w + ")$|^$";
        var F = u++;
        a[F] = "(\\s*)" + a[O] + "\\s*(" + E + "|" + a[R] + ")",
        s[F] = new RegExp(a[F],"g");
        var V = u++;
        a[V] = "^\\s*(" + a[R] + ")\\s+-\\s+(" + a[R] + ")\\s*$";
        var q = u++;
        a[q] = "^\\s*(" + a[M] + ")\\s+-\\s+(" + a[M] + ")\\s*$";
        var G = u++;
        a[G] = "(<|>)?=?\\s*\\*";
        for (var K = 0; K < 35; K++)
            r(K, a[K]),
            s[K] || (s[K] = new RegExp(a[K]));
        function W(t, e) {
            if (t instanceof X)
                return t;
            if ("string" != typeof t)
                return null;
            if (t.length > i)
                return null;
            if (!(e ? s[x] : s[_]).test(t))
                return null;
            try {
                return new X(t,e)
            } catch (t) {
                return null
            }
        }
        function X(t, e) {
            if (t instanceof X) {
                if (t.loose === e)
                    return t;
                t = t.version
            } else if ("string" != typeof t)
                throw new TypeError("Invalid Version: " + t);
            if (t.length > i)
                throw new TypeError("version is longer than " + i + " characters");
            if (!(this instanceof X))
                return new X(t,e);
            r("SemVer", t, e),
            this.loose = e;
            var n = t.trim().match(e ? s[x] : s[_]);
            if (!n)
                throw new TypeError("Invalid Version: " + t);
            if (this.raw = t,
            this.major = +n[1],
            this.minor = +n[2],
            this.patch = +n[3],
            this.major > o || this.major < 0)
                throw new TypeError("Invalid major version");
            if (this.minor > o || this.minor < 0)
                throw new TypeError("Invalid minor version");
            if (this.patch > o || this.patch < 0)
                throw new TypeError("Invalid patch version");
            n[4] ? this.prerelease = n[4].split(".").map(function(t) {
                if (/^[0-9]+$/.test(t)) {
                    var e = +t;
                    if (e >= 0 && e < o)
                        return e
                }
                return t
            }) : this.prerelease = [],
            this.build = n[5] ? n[5].split(".") : [],
            this.format()
        }
        e.parse = W,
        e.valid = function(t, e) {
            var n = W(t, e);
            return n ? n.version : null
        }
        ,
        e.clean = function(t, e) {
            var n = W(t.trim().replace(/^[=v]+/, ""), e);
            return n ? n.version : null
        }
        ,
        e.SemVer = X,
        X.prototype.format = function() {
            return this.version = this.major + "." + this.minor + "." + this.patch,
            this.prerelease.length && (this.version += "-" + this.prerelease.join(".")),
            this.version
        }
        ,
        X.prototype.toString = function() {
            return this.version
        }
        ,
        X.prototype.compare = function(t) {
            return r("SemVer.compare", this.version, this.loose, t),
            t instanceof X || (t = new X(t,this.loose)),
            this.compareMain(t) || this.comparePre(t)
        }
        ,
        X.prototype.compareMain = function(t) {
            return t instanceof X || (t = new X(t,this.loose)),
            Z(this.major, t.major) || Z(this.minor, t.minor) || Z(this.patch, t.patch)
        }
        ,
        X.prototype.comparePre = function(t) {
            if (t instanceof X || (t = new X(t,this.loose)),
            this.prerelease.length && !t.prerelease.length)
                return -1;
            if (!this.prerelease.length && t.prerelease.length)
                return 1;
            if (!this.prerelease.length && !t.prerelease.length)
                return 0;
            var e = 0;
            do {
                var n = this.prerelease[e]
                  , i = t.prerelease[e];
                if (r("prerelease compare", e, n, i),
                void 0 === n && void 0 === i)
                    return 0;
                if (void 0 === i)
                    return 1;
                if (void 0 === n)
                    return -1;
                if (n !== i)
                    return Z(n, i)
            } while (++e)
        }
        ,
        X.prototype.inc = function(t, e) {
            switch (t) {
            case "premajor":
                this.prerelease.length = 0,
                this.patch = 0,
                this.minor = 0,
                this.major++,
                this.inc("pre", e);
                break;
            case "preminor":
                this.prerelease.length = 0,
                this.patch = 0,
                this.minor++,
                this.inc("pre", e);
                break;
            case "prepatch":
                this.prerelease.length = 0,
                this.inc("patch", e),
                this.inc("pre", e);
                break;
            case "prerelease":
                0 === this.prerelease.length && this.inc("patch", e),
                this.inc("pre", e);
                break;
            case "major":
                0 === this.minor && 0 === this.patch && 0 !== this.prerelease.length || this.major++,
                this.minor = 0,
                this.patch = 0,
                this.prerelease = [];
                break;
            case "minor":
                0 === this.patch && 0 !== this.prerelease.length || this.minor++,
                this.patch = 0,
                this.prerelease = [];
                break;
            case "patch":
                0 === this.prerelease.length && this.patch++,
                this.prerelease = [];
                break;
            case "pre":
                if (0 === this.prerelease.length)
                    this.prerelease = [0];
                else {
                    for (var n = this.prerelease.length; --n >= 0; )
                        "number" == typeof this.prerelease[n] && (this.prerelease[n]++,
                        n = -2);
                    -1 === n && this.prerelease.push(0)
                }
                e && (this.prerelease[0] === e ? isNaN(this.prerelease[1]) && (this.prerelease = [e, 0]) : this.prerelease = [e, 0]);
                break;
            default:
                throw new Error("invalid increment argument: " + t)
            }
            return this.format(),
            this.raw = this.version,
            this
        }
        ,
        e.inc = function(t, e, n, r) {
            "string" == typeof n && (r = n,
            n = void 0);
            try {
                return new X(t,n).inc(e, r).version
            } catch (t) {
                return null
            }
        }
        ,
        e.diff = function(t, e) {
            if (tt(t, e))
                return null;
            var n = W(t)
              , r = W(e);
            if (n.prerelease.length || r.prerelease.length) {
                for (var i in n)
                    if (("major" === i || "minor" === i || "patch" === i) && n[i] !== r[i])
                        return "pre" + i;
                return "prerelease"
            }
            for (var i in n)
                if (("major" === i || "minor" === i || "patch" === i) && n[i] !== r[i])
                    return i
        }
        ,
        e.compareIdentifiers = Z;
        var Y = /^[0-9]+$/;
        function Z(t, e) {
            var n = Y.test(t)
              , r = Y.test(e);
            return n && r && (t = +t,
            e = +e),
            n && !r ? -1 : r && !n ? 1 : t < e ? -1 : t > e ? 1 : 0
        }
        function Q(t, e, n) {
            return new X(t,n).compare(new X(e,n))
        }
        function $(t, e, n) {
            return Q(t, e, n) > 0
        }
        function J(t, e, n) {
            return Q(t, e, n) < 0
        }
        function tt(t, e, n) {
            return 0 === Q(t, e, n)
        }
        function et(t, e, n) {
            return 0 !== Q(t, e, n)
        }
        function nt(t, e, n) {
            return Q(t, e, n) >= 0
        }
        function rt(t, e, n) {
            return Q(t, e, n) <= 0
        }
        function it(t, e, n, r) {
            var i;
            switch (e) {
            case "===":
                "object" == typeof t && (t = t.version),
                "object" == typeof n && (n = n.version),
                i = t === n;
                break;
            case "!==":
                "object" == typeof t && (t = t.version),
                "object" == typeof n && (n = n.version),
                i = t !== n;
                break;
            case "":
            case "=":
            case "==":
                i = tt(t, n, r);
                break;
            case "!=":
                i = et(t, n, r);
                break;
            case ">":
                i = $(t, n, r);
                break;
            case ">=":
                i = nt(t, n, r);
                break;
            case "<":
                i = J(t, n, r);
                break;
            case "<=":
                i = rt(t, n, r);
                break;
            default:
                throw new TypeError("Invalid operator: " + e)
            }
            return i
        }
        function ot(t, e) {
            if (t instanceof ot) {
                if (t.loose === e)
                    return t;
                t = t.value
            }
            if (!(this instanceof ot))
                return new ot(t,e);
            r("comparator", t, e),
            this.loose = e,
            this.parse(t),
            this.semver === st ? this.value = "" : this.value = this.operator + this.semver.version,
            r("comp", this)
        }
        e.rcompareIdentifiers = function(t, e) {
            return Z(e, t)
        }
        ,
        e.major = function(t, e) {
            return new X(t,e).major
        }
        ,
        e.minor = function(t, e) {
            return new X(t,e).minor
        }
        ,
        e.patch = function(t, e) {
            return new X(t,e).patch
        }
        ,
        e.compare = Q,
        e.compareLoose = function(t, e) {
            return Q(t, e, !0)
        }
        ,
        e.rcompare = function(t, e, n) {
            return Q(e, t, n)
        }
        ,
        e.sort = function(t, n) {
            return t.sort(function(t, r) {
                return e.compare(t, r, n)
            })
        }
        ,
        e.rsort = function(t, n) {
            return t.sort(function(t, r) {
                return e.rcompare(t, r, n)
            })
        }
        ,
        e.gt = $,
        e.lt = J,
        e.eq = tt,
        e.neq = et,
        e.gte = nt,
        e.lte = rt,
        e.cmp = it,
        e.Comparator = ot;
        var st = {};
        function at(t, e) {
            if (t instanceof at)
                return t.loose === e ? t : new at(t.raw,e);
            if (t instanceof ot)
                return new at(t.value,e);
            if (!(this instanceof at))
                return new at(t,e);
            if (this.loose = e,
            this.raw = t,
            this.set = t.split(/\s*\|\|\s*/).map(function(t) {
                return this.parseRange(t.trim())
            }, this).filter(function(t) {
                return t.length
            }),
            !this.set.length)
                throw new TypeError("Invalid SemVer Range: " + t);
            this.format()
        }
        function ut(t) {
            return !t || "x" === t.toLowerCase() || "*" === t
        }
        function ct(t, e, n, r, i, o, s, a, u, c, h, l, f) {
            return ((e = ut(n) ? "" : ut(r) ? ">=" + n + ".0.0" : ut(i) ? ">=" + n + "." + r + ".0" : ">=" + e) + " " + (a = ut(u) ? "" : ut(c) ? "<" + (+u + 1) + ".0.0" : ut(h) ? "<" + u + "." + (+c + 1) + ".0" : l ? "<=" + u + "." + c + "." + h + "-" + l : "<=" + a)).trim()
        }
        function ht(t, e) {
            for (var n = 0; n < t.length; n++)
                if (!t[n].test(e))
                    return !1;
            if (e.prerelease.length) {
                for (n = 0; n < t.length; n++)
                    if (r(t[n].semver),
                    t[n].semver !== st && t[n].semver.prerelease.length > 0) {
                        var i = t[n].semver;
                        if (i.major === e.major && i.minor === e.minor && i.patch === e.patch)
                            return !0
                    }
                return !1
            }
            return !0
        }
        function lt(t, e, n) {
            try {
                e = new at(e,n)
            } catch (t) {
                return !1
            }
            return e.test(t)
        }
        function ft(t, e, n, r) {
            var i, o, s, a, u;
            switch (t = new X(t,r),
            e = new at(e,r),
            n) {
            case ">":
                i = $,
                o = rt,
                s = J,
                a = ">",
                u = ">=";
                break;
            case "<":
                i = J,
                o = nt,
                s = $,
                a = "<",
                u = "<=";
                break;
            default:
                throw new TypeError('Must provide a hilo val of "<" or ">"')
            }
            if (lt(t, e, r))
                return !1;
            for (var c = 0; c < e.set.length; ++c) {
                var h = e.set[c]
                  , l = null
                  , f = null;
                if (h.forEach(function(t) {
                    t.semver === st && (t = new ot(">=0.0.0")),
                    l = l || t,
                    f = f || t,
                    i(t.semver, l.semver, r) ? l = t : s(t.semver, f.semver, r) && (f = t)
                }),
                l.operator === a || l.operator === u)
                    return !1;
                if ((!f.operator || f.operator === a) && o(t, f.semver))
                    return !1;
                if (f.operator === u && s(t, f.semver))
                    return !1
            }
            return !0
        }
        ot.prototype.parse = function(t) {
            var e = this.loose ? s[B] : s[U]
              , n = t.match(e);
            if (!n)
                throw new TypeError("Invalid comparator: " + t);
            this.operator = n[1],
            "=" === this.operator && (this.operator = ""),
            n[2] ? this.semver = new X(n[2],this.loose) : this.semver = st
        }
        ,
        ot.prototype.toString = function() {
            return this.value
        }
        ,
        ot.prototype.test = function(t) {
            return r("Comparator.test", t, this.loose),
            this.semver === st || ("string" == typeof t && (t = new X(t,this.loose)),
            it(t, this.operator, this.semver, this.loose))
        }
        ,
        ot.prototype.intersects = function(t, e) {
            if (!(t instanceof ot))
                throw new TypeError("a Comparator is required");
            var n;
            if ("" === this.operator)
                return n = new at(t.value,e),
                lt(this.value, n, e);
            if ("" === t.operator)
                return n = new at(this.value,e),
                lt(t.semver, n, e);
            var r = !(">=" !== this.operator && ">" !== this.operator || ">=" !== t.operator && ">" !== t.operator)
              , i = !("<=" !== this.operator && "<" !== this.operator || "<=" !== t.operator && "<" !== t.operator)
              , o = this.semver.version === t.semver.version
              , s = !(">=" !== this.operator && "<=" !== this.operator || ">=" !== t.operator && "<=" !== t.operator)
              , a = it(this.semver, "<", t.semver, e) && (">=" === this.operator || ">" === this.operator) && ("<=" === t.operator || "<" === t.operator)
              , u = it(this.semver, ">", t.semver, e) && ("<=" === this.operator || "<" === this.operator) && (">=" === t.operator || ">" === t.operator);
            return r || i || o && s || a || u
        }
        ,
        e.Range = at,
        at.prototype.format = function() {
            return this.range = this.set.map(function(t) {
                return t.join(" ").trim()
            }).join("||").trim(),
            this.range
        }
        ,
        at.prototype.toString = function() {
            return this.range
        }
        ,
        at.prototype.parseRange = function(t) {
            var e = this.loose;
            t = t.trim(),
            r("range", t, e);
            var n = e ? s[q] : s[V];
            t = t.replace(n, ct),
            r("hyphen replace", t),
            t = t.replace(s[F], "$1$2$3"),
            r("comparator trim", t, s[F]),
            t = (t = (t = t.replace(s[k], "$1~")).replace(s[z], "$1^")).split(/\s+/).join(" ");
            var i = e ? s[B] : s[U]
              , o = t.split(" ").map(function(t) {
                return function(t, e) {
                    return r("comp", t),
                    t = function(t, e) {
                        return t.trim().split(/\s+/).map(function(t) {
                            return function(t, e) {
                                r("caret", t, e);
                                var n = e ? s[H] : s[j];
                                return t.replace(n, function(e, n, i, o, s) {
                                    var a;
                                    return r("caret", t, e, n, i, o, s),
                                    ut(n) ? a = "" : ut(i) ? a = ">=" + n + ".0.0 <" + (+n + 1) + ".0.0" : ut(o) ? a = "0" === n ? ">=" + n + "." + i + ".0 <" + n + "." + (+i + 1) + ".0" : ">=" + n + "." + i + ".0 <" + (+n + 1) + ".0.0" : s ? (r("replaceCaret pr", s),
                                    "-" !== s.charAt(0) && (s = "-" + s),
                                    a = "0" === n ? "0" === i ? ">=" + n + "." + i + "." + o + s + " <" + n + "." + i + "." + (+o + 1) : ">=" + n + "." + i + "." + o + s + " <" + n + "." + (+i + 1) + ".0" : ">=" + n + "." + i + "." + o + s + " <" + (+n + 1) + ".0.0") : (r("no pr"),
                                    a = "0" === n ? "0" === i ? ">=" + n + "." + i + "." + o + " <" + n + "." + i + "." + (+o + 1) : ">=" + n + "." + i + "." + o + " <" + n + "." + (+i + 1) + ".0" : ">=" + n + "." + i + "." + o + " <" + (+n + 1) + ".0.0"),
                                    r("caret return", a),
                                    a
                                })
                            }(t, e)
                        }).join(" ")
                    }(t, e),
                    r("caret", t),
                    t = function(t, e) {
                        return t.trim().split(/\s+/).map(function(t) {
                            return function(t, e) {
                                var n = e ? s[N] : s[C];
                                return t.replace(n, function(e, n, i, o, s) {
                                    var a;
                                    return r("tilde", t, e, n, i, o, s),
                                    ut(n) ? a = "" : ut(i) ? a = ">=" + n + ".0.0 <" + (+n + 1) + ".0.0" : ut(o) ? a = ">=" + n + "." + i + ".0 <" + n + "." + (+i + 1) + ".0" : s ? (r("replaceTilde pr", s),
                                    "-" !== s.charAt(0) && (s = "-" + s),
                                    a = ">=" + n + "." + i + "." + o + s + " <" + n + "." + (+i + 1) + ".0") : a = ">=" + n + "." + i + "." + o + " <" + n + "." + (+i + 1) + ".0",
                                    r("tilde return", a),
                                    a
                                })
                            }(t, e)
                        }).join(" ")
                    }(t, e),
                    r("tildes", t),
                    t = function(t, e) {
                        return r("replaceXRanges", t, e),
                        t.split(/\s+/).map(function(t) {
                            return function(t, e) {
                                t = t.trim();
                                var n = e ? s[I] : s[L];
                                return t.replace(n, function(e, n, i, o, s, a) {
                                    r("xRange", t, e, n, i, o, s, a);
                                    var u = ut(i)
                                      , c = u || ut(o)
                                      , h = c || ut(s)
                                      , l = h;
                                    return "=" === n && l && (n = ""),
                                    u ? e = ">" === n || "<" === n ? "<0.0.0" : "*" : n && l ? (c && (o = 0),
                                    h && (s = 0),
                                    ">" === n ? (n = ">=",
                                    c ? (i = +i + 1,
                                    o = 0,
                                    s = 0) : h && (o = +o + 1,
                                    s = 0)) : "<=" === n && (n = "<",
                                    c ? i = +i + 1 : o = +o + 1),
                                    e = n + i + "." + o + "." + s) : c ? e = ">=" + i + ".0.0 <" + (+i + 1) + ".0.0" : h && (e = ">=" + i + "." + o + ".0 <" + i + "." + (+o + 1) + ".0"),
                                    r("xRange return", e),
                                    e
                                })
                            }(t, e)
                        }).join(" ")
                    }(t, e),
                    r("xrange", t),
                    t = function(t, e) {
                        return r("replaceStars", t, e),
                        t.trim().replace(s[G], "")
                    }(t, e),
                    r("stars", t),
                    t
                }(t, e)
            }).join(" ").split(/\s+/);
            return this.loose && (o = o.filter(function(t) {
                return !!t.match(i)
            })),
            o = o.map(function(t) {
                return new ot(t,e)
            })
        }
        ,
        at.prototype.intersects = function(t, e) {
            if (!(t instanceof at))
                throw new TypeError("a Range is required");
            return this.set.some(function(n) {
                return n.every(function(n) {
                    return t.set.some(function(t) {
                        return t.every(function(t) {
                            return n.intersects(t, e)
                        })
                    })
                })
            })
        }
        ,
        e.toComparators = function(t, e) {
            return new at(t,e).set.map(function(t) {
                return t.map(function(t) {
                    return t.value
                }).join(" ").trim().split(" ")
            })
        }
        ,
        at.prototype.test = function(t) {
            if (!t)
                return !1;
            "string" == typeof t && (t = new X(t,this.loose));
            for (var e = 0; e < this.set.length; e++)
                if (ht(this.set[e], t))
                    return !0;
            return !1
        }
        ,
        e.satisfies = lt,
        e.maxSatisfying = function(t, e, n) {
            var r = null
              , i = null;
            try {
                var o = new at(e,n)
            } catch (t) {
                return null
            }
            return t.forEach(function(t) {
                o.test(t) && (r && -1 !== i.compare(t) || (i = new X(r = t,n)))
            }),
            r
        }
        ,
        e.minSatisfying = function(t, e, n) {
            var r = null
              , i = null;
            try {
                var o = new at(e,n)
            } catch (t) {
                return null
            }
            return t.forEach(function(t) {
                o.test(t) && (r && 1 !== i.compare(t) || (i = new X(r = t,n)))
            }),
            r
        }
        ,
        e.validRange = function(t, e) {
            try {
                return new at(t,e).range || "*"
            } catch (t) {
                return null
            }
        }
        ,
        e.ltr = function(t, e, n) {
            return ft(t, e, "<", n)
        }
        ,
        e.gtr = function(t, e, n) {
            return ft(t, e, ">", n)
        }
        ,
        e.outside = ft,
        e.prerelease = function(t, e) {
            var n = W(t, e);
            return n && n.prerelease.length ? n.prerelease : null
        }
        ,
        e.intersects = function(t, e, n) {
            return t = new at(t,n),
            e = new at(e,n),
            t.intersects(e)
        }
        ,
        e.coerce = function(t) {
            if (t instanceof X)
                return t;
            if ("string" != typeof t)
                return null;
            var e = t.match(s[A]);
            return null == e ? null : W((e[1] || "0") + "." + (e[2] || "0") + "." + (e[3] || "0"))
        }
    }
    ).call(this, n(76))
}
, , function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return a
    });
    var r, i = n(11), o = n(24), s = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.mode = o.b.Desktop,
            e.source = o.a.None,
            e
        }
        return s(e, t),
        e.prototype.update = function(t) {
            this.mode = t.mode,
            this.source = t.source
        }
        ,
        e.prototype.hasController = function() {
            return this.mode === o.b.VrWithController || this.mode === o.b.VrWithTrackedController
        }
        ,
        e.prototype.isVR = function() {
            return this.mode === o.b.VrOrientOnly || this.mode === o.b.VrWithController || this.mode === o.b.VrWithTrackedController
        }
        ,
        e
    }(i.a)
}
, , function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return r
    }),
    n.d(e, "a", function() {
        return o
    });
    var r, i = n(0);
    !function(t) {
        t.INSTANT = "transition.instant",
        t.FLY = "transition.fly",
        t.FADEOUT = "transition.fade"
    }(r = r || (r = {}));
    var o = function(t) {
        switch (t) {
        case r.FADEOUT:
            return i.Ja.FadeToBlack;
        case r.INSTANT:
            return i.Ja.Instant;
        case r.FLY:
            return i.Ja.Interpolate
        }
    }
}
, , function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return i
    }),
    n.d(e, "a", function() {
        return o
    }),
    n.d(e, "c", function() {
        return s
    });
    var r = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }
      , i = function() {
        return "getVRDisplays"in navigator
    }
      , o = function() {
        return navigator.getVRDisplays().then(function(t) {
            try {
                for (var e = r(t), n = e.next(); !n.done; n = e.next()) {
                    var i = n.value;
                    if (i) {
                        var o = i.displayName;
                        if (o && o.match(/daydream/i))
                            return i
                    }
                }
            } catch (t) {
                s = {
                    error: t
                }
            } finally {
                try {
                    n && !n.done && (a = e.return) && a.call(e)
                } finally {
                    if (s)
                        throw s.error
                }
            }
            throw Error("daydream not found in VRDisplays");
            var s, a
        })
    }
      , s = function() {
        return navigator.getVRDisplays().then(function(t) {
            return t.length > 0 ? t[0] : null
        })
    }
}
, function(t, e, n) {
    "use strict";
    e.a = Object.freeze({
        signedUrlDefaultExpireTime: 24e4,
        signedUrlCheckInterval: 1e4,
        signedUrlRefreshBuffer: 15e3,
        visionTilingStartDate: new Date("8/26/2016"),
        visionTilingStartVersion: "1.1.407.13667",
        epsilon: 1e-5,
        skyboxMeshGroup: "_group_skybox_"
    })
}
, function(t, e, n) {
    "use strict";
    n.d(e, "d", function() {
        return s
    }),
    n.d(e, "a", function() {
        return r
    }),
    n.d(e, "b", function() {
        return a
    }),
    n.d(e, "c", function() {
        return u
    });
    var r, i = n(6), o = n(15), s = function(t, e) {
        switch (t) {
        case i.a.Panorama:
            return e ? o.b.INSIDE : o.b.OUTSIDE;
        case i.a.Dollhouse:
            return o.b.DOLLHOUSE;
        case i.a.Floorplan:
            return o.b.FLOORPLAN;
        case i.a.Transition:
            return o.b.TRANSITIONING;
        default:
            return
        }
    };
    !function(t) {
        t.PANORAMA = "panorama",
        t.DOLLHOUSE = "dollhouse",
        t.FLOORPLAN = "floorplan",
        t.TRANSITIONING = "transitioning"
    }(r = r || (r = {}));
    var a = function(t) {
        switch (t) {
        case r.PANORAMA:
            return o.b.INSIDE;
        case r.DOLLHOUSE:
            return o.b.DOLLHOUSE;
        case r.FLOORPLAN:
            return o.b.FLOORPLAN;
        case r.TRANSITIONING:
            return o.b.TRANSITIONING
        }
    }
      , u = function(t) {
        switch (t) {
        case i.a.Panorama:
            return r.PANORAMA;
        case i.a.Dollhouse:
            return r.DOLLHOUSE;
        case i.a.Floorplan:
            return r.FLOORPLAN;
        case i.a.Transition:
            return r.TRANSITIONING
        }
    }
}
, , function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return i
    }),
    n.d(e, "c", function() {
        return o
    }),
    n.d(e, "a", function() {
        return h
    });
    var r, i, o, s = n(11), a = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), u = Object.assign || function(t) {
        for (var e, n = 1, r = arguments.length; n < r; n++)
            for (var i in e = arguments[n])
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
        return t
    }
    , c = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    };
    !function(t) {
        t[t.Inactive = 0] = "Inactive",
        t[t.Active = 1] = "Active",
        t[t.StopScheduled = 2] = "StopScheduled"
    }(i = i || (i = {})),
    function(t) {
        t[t.Move = 0] = "Move",
        t[t.Pan = 1] = "Pan",
        t[t.Zoom = 2] = "Zoom"
    }(o = o || (o = {}));
    var h = function(t) {
        function e(e, n, r, s, a) {
            void 0 === e && (e = {});
            var u = t.call(this) || this;
            return u.snapshots = e,
            u.activeReel = n,
            u.allowedModes = r,
            u.modelSweeps = s,
            u.looping = a,
            u.orderedSnapshots = [],
            u.orderedSnapshots = u.getFilteredSnapshots(u.snapshots, n, r, s),
            u.tourState = i.Inactive,
            u.tourCurrentSnapshot = -1,
            u.transition = {
                active: !1,
                type: o.Move,
                promise: Promise.resolve()
            },
            u.looping = a,
            u
        }
        return a(e, t),
        e.prototype.update = function(t) {
            this.copy(t)
        }
        ,
        e.prototype.clone = function() {
            var t, n, r = new e({},this.activeReel,this.allowedModes,this.modelSweeps,this.looping);
            try {
                for (var i = c(Object.keys(this.snapshots)), o = i.next(); !o.done; o = i.next()) {
                    var s = o.value
                      , a = this.snapshots[s];
                    r.snapshots[s] = u({}, a, {
                        metadata: u({}, a.metadata, {
                            camera_position: a.metadata.camera_position.clone(),
                            camera_quaternion: a.metadata.camera_quaternion.clone()
                        })
                    })
                }
            } catch (e) {
                t = {
                    error: e
                }
            } finally {
                try {
                    o && !o.done && (n = i.return) && n.call(i)
                } finally {
                    if (t)
                        throw t.error
                }
            }
            return r
        }
        ,
        e.prototype.copy = function(t) {
            for (var e in t.snapshots)
                this.snapshots[e] = t.snapshots[e];
            this.tourState = t.tourState,
            this.tourCurrentSnapshot = t.tourCurrentSnapshot,
            this.orderedSnapshots = [];
            try {
                for (var n = c(t.orderedSnapshots), r = n.next(); !r.done; r = n.next()) {
                    var i = r.value;
                    this.orderedSnapshots.push(i)
                }
            } catch (t) {
                o = {
                    error: t
                }
            } finally {
                try {
                    r && !r.done && (s = n.return) && s.call(n)
                } finally {
                    if (o)
                        throw o.error
                }
            }
            var o, s
        }
        ,
        e.prototype.getFilteredSnapshots = function(t, e, n, r) {
            var i, o, s = [];
            if (e && e.reel) {
                var a = function(e) {
                    if (e.sid in t) {
                        var i = t[e.sid]
                          , o = i.metadata.camera_mode
                          , a = i.metadata.scan_id
                          , u = void 0 !== a && -1 !== r.findIndex(function(t) {
                            return t.id === a
                        });
                        -1 === n.indexOf(o) || a && !u || s.push(e.sid)
                    }
                };
                try {
                    for (var u = c(e.reel), h = u.next(); !h.done; h = u.next()) {
                        a(h.value)
                    }
                } catch (t) {
                    i = {
                        error: t
                    }
                } finally {
                    try {
                        h && !h.done && (o = u.return) && o.call(u)
                    } finally {
                        if (i)
                            throw i.error
                    }
                }
            }
            return s
        }
        ,
        e.prototype.isLooping = function() {
            return this.looping
        }
        ,
        e.prototype.isTourActive = function() {
            return this.tourState !== i.Inactive
        }
        ,
        e.prototype.isTourTransitionActive = function() {
            return this.transition.active
        }
        ,
        e.prototype.getTourTransitionType = function() {
            return this.transition.type
        }
        ,
        e.prototype.activateTourTransition = function(t, e) {
            this.transition.active = !0,
            this.transition.type = t,
            this.transition.promise = e
        }
        ,
        e.prototype.deactivateTourTransition = function() {
            this.transition.active = !1,
            this.transition.promise = Promise.resolve()
        }
        ,
        e.prototype.getTourTransitionPromise = function() {
            return this.transition.promise
        }
        ,
        e.prototype.iterateSnapshots = function(t) {
            var e = this
              , n = 0;
            this.orderedSnapshots.forEach(function(r) {
                var i = e.snapshots[r];
                t(i, n++)
            })
        }
        ,
        e.prototype.getSnapshot = function(t) {
            return this.snapshots[t]
        }
        ,
        e.prototype.getSnapshotCount = function() {
            return this.orderedSnapshots ? this.orderedSnapshots.length : 0
        }
        ,
        e.prototype.getTourState = function() {
            return this.tourState
        }
        ,
        e.prototype.setTourState = function(t) {
            this.tourState = t
        }
        ,
        e.prototype.getTourCurrentSnapshotIndex = function() {
            return this.tourCurrentSnapshot
        }
        ,
        e.prototype.getTourSnapshotSid = function(t) {
            if (t >= 0 && t < this.getSnapshotCount())
                return this.orderedSnapshots[t];
            throw new Error("getTourSnapshotSid() -> Invalid snapshot index.")
        }
        ,
        e.prototype.setTourCurrentSnapshotByIndex = function(t) {
            if (!(t >= 0 && t < this.getSnapshotCount()))
                throw new Error("setTourCurrentSnapshotByIndex() -> Invalid snapshot index.");
            this.tourCurrentSnapshot = t
        }
        ,
        e.prototype.getTourCurrentSnapshotByIndex = function(t) {
            if (t >= 0 && t < this.getSnapshotCount()) {
                var e = this.orderedSnapshots[t];
                return this.snapshots[e]
            }
            throw new Error("setTourCurrentSnapshotByIndex() -> Invalid snapshot index.")
        }
        ,
        e
    }(s.a)
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return c
    });
    var r, i, o, s = n(1), a = n(31), u = n(27);
    function c(t, e, n, r, i, o) {
        this.planes = [void 0 !== t ? t : new u.a, void 0 !== e ? e : new u.a, void 0 !== n ? n : new u.a, void 0 !== r ? r : new u.a, void 0 !== i ? i : new u.a, void 0 !== o ? o : new u.a]
    }
    c.prototype = {
        constructor: c,
        set: function(t, e, n, r, i, o) {
            var s = this.planes;
            return s[0].copy(t),
            s[1].copy(e),
            s[2].copy(n),
            s[3].copy(r),
            s[4].copy(i),
            s[5].copy(o),
            this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(t) {
            for (var e = this.planes, n = 0; n < 6; n++)
                e[n].copy(t.planes[n]);
            return this
        },
        setFromMatrix: function(t) {
            var e = this.planes
              , n = t.elements
              , r = n[0]
              , i = n[1]
              , o = n[2]
              , s = n[3]
              , a = n[4]
              , u = n[5]
              , c = n[6]
              , h = n[7]
              , l = n[8]
              , f = n[9]
              , p = n[10]
              , d = n[11]
              , y = n[12]
              , m = n[13]
              , v = n[14]
              , g = n[15];
            return e[0].setComponents(s - r, h - a, d - l, g - y).normalize(),
            e[1].setComponents(s + r, h + a, d + l, g + y).normalize(),
            e[2].setComponents(s + i, h + u, d + f, g + m).normalize(),
            e[3].setComponents(s - i, h - u, d - f, g - m).normalize(),
            e[4].setComponents(s - o, h - c, d - p, g - v).normalize(),
            e[5].setComponents(s + o, h + c, d + p, g + v).normalize(),
            this
        },
        intersectsObject: (o = new a.a,
        function(t) {
            var e = t.geometry;
            return null === e.boundingSphere && e.computeBoundingSphere(),
            o.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),
            this.intersectsSphere(o)
        }
        ),
        intersectsSprite: function() {
            var t = new a.a;
            return function(e) {
                return t.center.set(0, 0, 0),
                t.radius = .7071067811865476,
                t.applyMatrix4(e.matrixWorld),
                this.intersectsSphere(t)
            }
        }(),
        intersectsSphere: function(t) {
            for (var e = this.planes, n = t.center, r = -t.radius, i = 0; i < 6; i++) {
                if (e[i].distanceToPoint(n) < r)
                    return !1
            }
            return !0
        },
        intersectsBox: (r = new s.a,
        i = new s.a,
        function(t) {
            for (var e = this.planes, n = 0; n < 6; n++) {
                var o = e[n];
                r.x = o.normal.x > 0 ? t.min.x : t.max.x,
                i.x = o.normal.x > 0 ? t.max.x : t.min.x,
                r.y = o.normal.y > 0 ? t.min.y : t.max.y,
                i.y = o.normal.y > 0 ? t.max.y : t.min.y,
                r.z = o.normal.z > 0 ? t.min.z : t.max.z,
                i.z = o.normal.z > 0 ? t.max.z : t.min.z;
                var s = o.distanceToPoint(r)
                  , a = o.distanceToPoint(i);
                if (s < 0 && a < 0)
                    return !1
            }
            return !0
        }
        ),
        containsPoint: function(t) {
            for (var e = this.planes, n = 0; n < 6; n++)
                if (e[n].distanceToPoint(t) < 0)
                    return !1;
            return !0
        }
    }
}
, function(t, e, n) {
    "use strict";
    n.d(e, "b", function() {
        return u
    }),
    n.d(e, "a", function() {
        return c
    });
    var r = n(14)
      , i = n(80)
      , o = function(t, e, n, r) {
        return new (n || (n = Promise))(function(i, o) {
            function s(t) {
                try {
                    u(r.next(t))
                } catch (t) {
                    o(t)
                }
            }
            function a(t) {
                try {
                    u(r.throw(t))
                } catch (t) {
                    o(t)
                }
            }
            function u(t) {
                t.done ? i(t.value) : new n(function(e) {
                    e(t.value)
                }
                ).then(s, a)
            }
            u((r = r.apply(t, e || [])).next())
        }
        )
    }
      , s = function(t, e) {
        var n, r, i, o, s = {
            label: 0,
            sent: function() {
                if (1 & i[0])
                    throw i[1];
                return i[1]
            },
            trys: [],
            ops: []
        };
        return o = {
            next: a(0),
            throw: a(1),
            return: a(2)
        },
        "function" == typeof Symbol && (o[Symbol.iterator] = function() {
            return this
        }
        ),
        o;
        function a(o) {
            return function(a) {
                return function(o) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; s; )
                        try {
                            if (n = 1,
                            r && (i = r[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(i = i.call(r, o[1])).done)
                                return i;
                            switch (r = 0,
                            i && (o = [0, i.value]),
                            o[0]) {
                            case 0:
                            case 1:
                                i = o;
                                break;
                            case 4:
                                return s.label++,
                                {
                                    value: o[1],
                                    done: !1
                                };
                            case 5:
                                s.label++,
                                r = o[1],
                                o = [0];
                                continue;
                            case 7:
                                o = s.ops.pop(),
                                s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                    s.label = o[1];
                                    break
                                }
                                if (6 === o[0] && s.label < i[1]) {
                                    s.label = i[1],
                                    i = o;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2],
                                    s.ops.push(o);
                                    break
                                }
                                i[2] && s.ops.pop(),
                                s.trys.pop();
                                continue
                            }
                            o = e.call(t, s)
                        } catch (t) {
                            o = [6, t],
                            r = 0
                        } finally {
                            n = i = 0
                        }
                    if (5 & o[0])
                        throw o[1];
                    return {
                        value: o[0] ? o[1] : void 0,
                        done: !0
                    }
                }([o, a])
            }
        }
    }
      , a = function(t) {
        return null !== t.position ? {
            x: t.position.x,
            y: t.position.y,
            z: t.position.z
        } : null
    }
      , u = function(t, e, n, r, o) {
        return void 0 === o && (o = !1),
        r.sweeps = [],
        n.forEach(function(t, e) {
            r.sweeps.push({
                uuid: t.id,
                aligned: true,
                alignmentType: t.alignmentType,
                neighbors: t.neighbours,
                position: a(t),
                rotation: Object(i.b)(t.rotation),
                floor: t.floor,
                pavilionMapId: t.pavilionMapId,
                isInside: t.isInside,
                obj: t.obj
            })
        }),
        r.sid = t,
        r.modelSupportsVr = e,
        r
    }
      , c = function(t, e, n, u) {
        return o(void 0, void 0, void 0, function() {
            var c, h = this;
            return s(this, function(l) {
                switch (l.label) {
                case 0:
                    return [4, Promise.all(u.map(function(e) {
                        return o(h, void 0, void 0, function() {
                            var n;
                            return s(this, function(o) {
                                switch (o.label) {
                                case 0:
                                    return n = {
                                        uuid: e.id,
                                        aligned: e.alignmentType === r.a.ALIGNED,
                                        neighbourUUIDs: e.neighbours,
                                        position: a(e),
                                        rotation: Object(i.b)(e.rotation)
                                    },
                                    [4, t.getSignedUrl(IMAGE_SERVER + "/tiles/" + e.id + "/512_face1_0_0.jpg")];
                                    //[4, t.getSignedUrl("pan/high/" + e.id + "_skybox3.jpg")];
                                case 1:
                                    return [2, (n.thumbnail = o.sent(),
                                    n.floor = e.floor,
                                    n)]
                                }
                            })
                        })
                    }))];
                case 1:
                    return c = l.sent(),
                    [2, {
                        sid: e,
                        panos: c,
                        modelSupportsVr: n
                    }]
                }
            })
        })
    }
}
, function(t, e, n) {
    "use strict";
    var r;
    n.d(e, "a", function() {
        return r
    }),
    function(t) {
        t.FORWARD = "FORWARD",
        t.LEFT = "LEFT",
        t.RIGHT = "RIGHT",
        t.BACK = "BACK",
        t.UP = "UP",
        t.DOWN = "DOWN"
    }(r = r || (r = {}))
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return s
    });
    var r = n(1)
      , i = n(3)
      , o = new (n(4).a)("navurl")
      , s = function() {
        function t() {}
        return t.serialize = function(t) {
            return encodeURIComponent(JSON.stringify(t))
        }
        ,
        t.deserialize = function(e) {
            var n = decodeURI(e)
              , r = n.indexOf("start=");
            -1 !== r && (n = n.substring(r + 6));
            try {
                return t.parseObject(n)
            } catch (e) {
                o.debug("Not able to parse start location as JSON; falling back to old array style parsing");
                try {
                    return t.parseArray(n)
                } catch (t) {
                    o.warn('Invalid start override, ignoring: "' + n + '"', t.message)
                }
            }
            return null
        }
        ,
        t.parseObject = function(t) {
            var e = JSON.parse(decodeURIComponent(t));
            try {
                if (!e.camera_quaternion)
                    throw Error("Start override is missing camera_quaternion");
                if (!e.camera_position)
                    throw Error("Start override is missing camera_position");
                if (!e.camera_mode)
                    throw Error("Start override is missing camera_mode");
                var n = (new i.a).copy(e.camera_quaternion);
                return {
                    mode: e.camera_mode,
                    panoId: e.scan_id,
                    position: (new r.a).copy(e.camera_position),
                    quaternion: n,
                    zoom: e.ortho_zoom,
                    floorVisibility: e.floor_visibility
                }
            } catch (t) {
                o.debug(t)
            }
            return null
        }
        ,
        t.parseArray = function(t) {
            var e = t.split(",")
              , n = new r.a(parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]))
              , o = new i.a(parseFloat(e[5]),parseFloat(e[6]),parseFloat(e[7]),parseFloat(e[8]));
            return {
                mode: parseInt(e[0], 10),
                panoId: e[1],
                position: n,
                quaternion: o
            }
        }
        ,
        t
    }()
}
, function(t, e, n) {
    "use strict";
    var r, i = n(13), o = n(39), s = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), a = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }, u = function(t) {
        function e() {
            var e = t.call(this) || this;
            return e.elementChangedHandlers = [],
            e
        }
        return s(e, t),
        e.prototype.onElementChanged = function(t) {
            this.elementChangedHandlers.push(t)
        }
        ,
        e.prototype.removeOnElementChanged = function(t) {
            Object(o.a)(this.elementChangedHandlers, t)
        }
        ,
        e.prototype.added = function(t, e) {
            try {
                for (var n = a(this.elementChangedHandlers), r = n.next(); !r.done; r = n.next()) {
                    var o = r.value;
                    o.onAdded && o.onAdded(t, e)
                }
            } catch (t) {
                s = {
                    error: t
                }
            } finally {
                try {
                    r && !r.done && (u = n.return) && u.call(n)
                } finally {
                    if (s)
                        throw s.error
                }
            }
            var s, u;
            i.a.changedFunc(this, "" + e, t),
            this.linkObservables(t, e)
        }
        ,
        e.prototype.removed = function(t, e) {
            try {
                for (var n = a(this.elementChangedHandlers), r = n.next(); !r.done; r = n.next()) {
                    var o = r.value;
                    o.onRemoved && o.onRemoved(t, e)
                }
            } catch (t) {
                s = {
                    error: t
                }
            } finally {
                try {
                    r && !r.done && (u = n.return) && u.call(n)
                } finally {
                    if (s)
                        throw s.error
                }
            }
            var s, u;
            i.a.changedFunc(this, "" + e, t),
            this.unlinkObservables(t, e)
        }
        ,
        e.prototype.updated = function(t, e, n) {
            try {
                for (var r = a(this.elementChangedHandlers), o = r.next(); !o.done; o = r.next()) {
                    var s = o.value;
                    s.onUpdated && s.onUpdated(t, e)
                }
            } catch (t) {
                u = {
                    error: t
                }
            } finally {
                try {
                    o && !o.done && (c = r.return) && c.call(r)
                } finally {
                    if (u)
                        throw u.error
                }
            }
            var u, c;
            i.a.changedFunc(this, "" + e, t),
            n && this.unlinkObservables(n, e),
            this.linkObservables(t, e)
        }
        ,
        e.prototype.linkObservables = function(t, e) {
            var n = this
              , r = i.a.isObservable(t);
            if (r) {
                var o = function(t, r) {
                    var o = i.a.buildEmptyObjectWithProp(t, r);
                    i.a.changedFunc(n, "" + e, o)
                };
                r.onChanged(o),
                this.childChangeFunctions[e + ""] = o
            }
        }
        ,
        e.prototype.unlinkObservables = function(t, e) {
            var n = i.a.isObservable(t)
              , r = this.childChangeFunctions[e + ""];
            n && r && n.removeOnChanged(r)
        }
        ,
        e
    }(i.a);
    e.a = u
}
, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return u
    });
    var r, i = n(101), o = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), s = function(t, e) {
        var n = "function" == typeof Symbol && t[Symbol.iterator];
        if (!n)
            return t;
        var r, i, o = n.call(t), s = [];
        try {
            for (; (void 0 === e || e-- > 0) && !(r = o.next()).done; )
                s.push(r.value)
        } catch (t) {
            i = {
                error: t
            }
        } finally {
            try {
                r && !r.done && (n = o.return) && n.call(o)
            } finally {
                if (i)
                    throw i.error
            }
        }
        return s
    }, a = function() {
        for (var t = [], e = 0; e < arguments.length; e++)
            t = t.concat(s(arguments[e]));
        return t
    }, u = function(t) {
        function e(e) {
            var n = t.call(this) || this;
            return n.elements = e ? e.concat() : [],
            n
        }
        return o(e, t),
        e.prototype.push = function(e) {
            return this.elements.push(e),
            t.prototype.added.call(this, e, this.elements.length - 1),
            this.length
        }
        ,
        e.prototype.remove = function(e) {
            var n = this.elements[e];
            this.elements.length > 1 && (this.elements[e] = this.elements[this.elements.length - 1]),
            this.elements.length--,
            t.prototype.removed.call(this, n, e)
        }
        ,
        e.prototype.update = function(e, n) {
            var r = this.elements[e];
            this.elements[e] = n,
            t.prototype.updated.call(this, n, e, r)
        }
        ,
        e.prototype.getValueForKey = function(t) {
            var e = parseInt(t, 10);
            if (e)
                return this.elements[e]
        }
        ,
        Object.defineProperty(e.prototype, "length", {
            get: function() {
                return this.elements.length
            },
            set: function(e) {
                if (e < this.elements.length) {
                    for (var n = this.elements.length - 1; n >= e; n--) {
                        var r = this.elements[n];
                        t.prototype.removed.call(this, r, n)
                    }
                    this.elements.length = e
                }
            },
            enumerable: !0,
            configurable: !0
        }),
        e.prototype.values = function() {
            return a(this.elements)
        }
        ,
        e.prototype.filter = function(t) {
            return this.elements.filter(t)
        }
        ,
        e.prototype.map = function(t) {
            return this.elements.map(t)
        }
        ,
        e.prototype.forEach = function(t) {
            this.elements.forEach(t)
        }
        ,
        e.prototype.get = function(t) {
            return this.elements[t]
        }
        ,
        e
    }(i.a)
}
, function(t, e, n) {
    "use strict";
    n(143);
    var r, i = n(32), o = n(12), s = n(4), a = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }, u = new s.a("module-loader");
    !function(t) {
        t[t.Registered = 0] = "Registered",
        t[t.Loading = 1] = "Loading",
        t[t.Initialized = 2] = "Initialized",
        t[t.Unloaded = 3] = "Unloaded"
    }(r || (r = {}));
    var c = function() {
        function t(t) {
            this.registeredModules = {},
            this.typeLookup = new i.a(!0),
            this.engine = t
        }
        return t.prototype.registerModule = function(t, e) {
            var n = this.typeLookup.addIndexByType(t)
              , i = {
                type: t,
                es6ModulePromise: e,
                ctorPromise: new o.a,
                initPromise: new o.a,
                state: r.Registered
            };
            this.registeredModules[n] = i
        }
        ,
        t.prototype.getTypeID = function(t) {
            var e = this.typeLookup.getIndexByType(t);
            if (-1 === e)
                throw Error("Trying to access unregistered Module");
            return e
        }
        ,
        t.prototype.getTypeFromTypeID = function(t) {
            return this.typeLookup.getTypeByIndex(t)
        }
        ,
        t.prototype.moduleRegistered = function(t) {
            return -1 !== this.typeLookup.getIndexByType(t)
        }
        ,
        t.prototype.getModule = function(t) {
            var e = this.typeLookup.getIndexByType(t);
            if (-1 === e)
                throw Error("Trying to get " + this.prettyPrintType(t) + " before it was registered!");
            if (this.registeredModules[e].state === r.Unloaded)
                throw Error("Module unloaded");
            return this.registeredModules[e].initPromise.nativePromise()
        }
        ,
        t.prototype.getModuleByParent = function(t) {
            var e = this.typeLookup.getIndicesByType(t);
            if (0 === e.length)
                throw Error("No registered modules derive from " + this.prettyPrintType(t) + ".");
            var n, r, i = [];
            try {
                for (var o = a(e), s = o.next(); !s.done; s = o.next()) {
                    var u = s.value;
                    i.push(this.registeredModules[u].initPromise.nativePromise())
                }
            } catch (t) {
                n = {
                    error: t
                }
            } finally {
                try {
                    s && !s.done && (r = o.return) && r.call(o)
                } finally {
                    if (n)
                        throw n.error
                }
            }
            return Promise.race(i)
        }
        ,
        t.prototype.getModuleSync = function(t) {
            var e = this.typeLookup.getIndexByType(t);
            if (-1 === e)
                throw new Error("Trying to get " + this.prettyPrintType(t) + " before it was registered!");
            var n = this.registeredModules[e];
            if (n.state !== r.Initialized)
                throw Error(this.prettyPrintType(t) + " module not loaded!");
            return n.module
        }
        ,
        t.prototype.loadModule = function(t, e) {
            var n = this;
            void 0 === e && (e = {});
            var i = this.typeLookup.getIndexByType(t);
            if (-1 === i)
                throw Error("Attempting to load an unregistered module");
            var o = this.registeredModules[i];
            if (o.state === r.Initialized)
                return o;
            if (o.state !== r.Registered && o.state !== r.Unloaded)
                throw Error(this.prettyPrintType(t) + " already loading");
            return o.state = r.Loading,
            o.es6ModulePromise().then(function(i) {
                if (!i.default)
                    throw new Error(n.prettyPrintType(t) + " has no default export during module loading");
                var s = new i.default;
                o.ctorPromise.resolve(s).then(function() {
                    var t = Date.now()
                      , i = !1;
                    setTimeout(function() {
                        i || u.debug(s.name + " init took over 2 seconds")
                    }, 2e3),
                    (s.init(e, n.engine) || Promise.resolve()).then(function() {
                        u.debug(s.name + " init took " + (Date.now() - t) / 1e3 + " secs."),
                        i = !0,
                        o.state = r.Initialized,
                        o.module = s,
                        o.initPromise.resolve(s)
                    }, function(t) {
                        return o.initPromise.reject(t)
                    })
                })
            }, function(e) {
                u.error("Failed to load es6Module for " + n.prettyPrintType(t) + ": " + e),
                o.initPromise.reject(e)
            }),
            o
        }
        ,
        t.prototype.whenQueueEmpties = function() {
            var t = [];
            for (var e in this.registeredModules) {
                var n = this.registeredModules[e];
                n.state === r.Loading && t.push(n.initPromise)
            }
            return o.a.all(t).nativePromise()
        }
        ,
        t.prototype.unloadModule = function(t) {
            var e = this.typeLookup.getIndexByType(t);
            if (-1 === e)
                throw Error("Attempting to unload unregistered module");
            var n = this.registeredModules[e];
            if (n.state === r.Unloaded || n.state === r.Registered)
                throw Error("Attempting to unload not-loaded module");
            n.state = r.Unloaded,
            n.ctorPromise = new o.a,
            n.initPromise = new o.a,
            n.module = void 0
        }
        ,
        t.prototype.prettyPrintType = function(t) {
            var e = t.toString();
            return e.substring(0, e.indexOf("\n")).split(" ")[1]
        }
        ,
        t
    }()
      , h = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }
      , l = new s.a("market")
      , f = function() {
        function t() {
            this.typeLookup = new i.a,
            this.store = [],
            this.moduleRegistry = [],
            this.firstUpdatePromises = [],
            this.callbacks = []
        }
        return t.prototype.register = function(t, e, n) {
            var r = this.typeLookup.getIndexByType(e, !0);
            if (this.moduleRegistry[r])
                throw Error("Data can only be registered to one Module");
            this.moduleRegistry[r] = t,
            n && this.update(t, n)
        }
        ,
        t.prototype.update = function(t, e) {
            var n, r, i = this.typeLookup.getIndexByInstance(e);
            if (-1 === i)
                throw Error("Data must be registered before updated");
            if (this.moduleRegistry[i] !== t)
                throw Error("Data must be updated from the Module that registered it");
            if (this.store[i] || (this.store[i] = new (this.typeLookup.getTypeByIndex(i))),
            this.store[i].update(e),
            this.firstUpdatePromises[i] && (this.firstUpdatePromises[i].resolve(this.store[i]),
            delete this.firstUpdatePromises[i]),
            this.callbacks[i])
                try {
                    for (var o = h(this.callbacks[i]), s = o.next(); !s.done; s = o.next()) {
                        (0,
                        s.value)(this.store[i])
                    }
                } catch (t) {
                    n = {
                        error: t
                    }
                } finally {
                    try {
                        s && !s.done && (r = o.return) && r.call(o)
                    } finally {
                        if (n)
                            throw n.error
                    }
                }
        }
        ,
        t.prototype.getData = function(t) {
            var e = this.typeLookup.getIndexByType(t);
            if (e in this.store)
                return this.store[e];
            throw Error("Data not present.")
        }
        ,
        t.prototype.waitForData = function(t) {
            var e = this
              , n = this.typeLookup.getIndexByType(t, !0);
            return n in this.store ? Promise.resolve(this.store[n]) : (this.firstUpdatePromises[n] || (this.firstUpdatePromises[n] = new o.a,
            setTimeout(function() {
                n in e.store || l.debug("still waiting for " + t.name + " after 2 seconds")
            }, 2e3)),
            this.firstUpdatePromises[n].nativePromise())
        }
        ,
        t.prototype.tryGetData = function(t) {
            try {
                return this.getData(t)
            } catch (t) {
                if ("Data not present." !== t.message)
                    throw t
            }
            return null
        }
        ,
        t.prototype.debugData = function() {
            var t = {};
            for (var e in this.moduleRegistry)
                t[this.moduleRegistry[e].name] || (t[this.moduleRegistry[e].name] = []),
                t[this.moduleRegistry[e].name].push(this.store[e]);
            return Object.freeze(t)
        }
        ,
        t.prototype.onDataUpdate = function(t, e, n) {
            var r = this.typeLookup.getIndexByType(t);
            n && -1 !== r ? e(this.getData(t)) : r = this.typeLookup.getIndexByType(t, !0),
            this.callbacks[r] || (this.callbacks[r] = []),
            this.callbacks[r].push(e)
        }
        ,
        t.prototype.removeOnDataUpdate = function(t, e) {
            var n = this.typeLookup.getIndexByType(t);
            if (-1 !== n) {
                var r = this.callbacks[n]
                  , i = r.indexOf(e);
                r.splice(i, 1)
            }
        }
        ,
        t
    }()
      , p = n(84)
      , d = function() {
        function t() {
            this.typeLookup = new i.a,
            this.bindings = []
        }
        return t.prototype.addBinding = function(t, e) {
            var n = this.typeLookup.getIndexByType(t, !0);
            if (this.bindings[n])
                throw Error("Command already bound to a callback");
            return this.bindings[n] = e,
            e
        }
        ,
        t.prototype.removeBinding = function(t, e) {
            var n = this.typeLookup.getIndexByType(t);
            if (-1 === n)
                throw Error("Trying to unbind unbound command");
            if (this.bindings[n] !== e)
                throw Error("Trying to unbind unbound callback");
            delete this.bindings[n]
        }
        ,
        t.prototype.issueCommand = function(t) {
            var e = this.typeLookup.getIndexByInstance(t)
              , n = this.bindings[e];
            return n ? n(t.payload) : Promise.reject("Command not bound: " + t.id)
        }
        ,
        t
    }()
      , y = n(10)
      , m = n(41)
      , v = n(73)
      , g = n(30)
      , b = n(38)
      , _ = n(40)
      , w = n(20)
      , E = n(8)
      , x = function(t, e, n, r) {
        return new (n || (n = Promise))(function(i, o) {
            function s(t) {
                try {
                    u(r.next(t))
                } catch (t) {
                    o(t)
                }
            }
            function a(t) {
                try {
                    u(r.throw(t))
                } catch (t) {
                    o(t)
                }
            }
            function u(t) {
                t.done ? i(t.value) : new n(function(e) {
                    e(t.value)
                }
                ).then(s, a)
            }
            u((r = r.apply(t, e || [])).next())
        }
        )
    }
      , O = function(t, e) {
        var n, r, i, o, s = {
            label: 0,
            sent: function() {
                if (1 & i[0])
                    throw i[1];
                return i[1]
            },
            trys: [],
            ops: []
        };
        return o = {
            next: a(0),
            throw: a(1),
            return: a(2)
        },
        "function" == typeof Symbol && (o[Symbol.iterator] = function() {
            return this
        }
        ),
        o;
        function a(o) {
            return function(a) {
                return function(o) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; s; )
                        try {
                            if (n = 1,
                            r && (i = r[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(i = i.call(r, o[1])).done)
                                return i;
                            switch (r = 0,
                            i && (o = [0, i.value]),
                            o[0]) {
                            case 0:
                            case 1:
                                i = o;
                                break;
                            case 4:
                                return s.label++,
                                {
                                    value: o[1],
                                    done: !1
                                };
                            case 5:
                                s.label++,
                                r = o[1],
                                o = [0];
                                continue;
                            case 7:
                                o = s.ops.pop(),
                                s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                    s.label = o[1];
                                    break
                                }
                                if (6 === o[0] && s.label < i[1]) {
                                    s.label = i[1],
                                    i = o;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2],
                                    s.ops.push(o);
                                    break
                                }
                                i[2] && s.ops.pop(),
                                s.trys.pop();
                                continue
                            }
                            o = e.call(t, s)
                        } catch (t) {
                            o = [6, t],
                            r = 0
                        } finally {
                            n = i = 0
                        }
                    if (5 & o[0])
                        throw o[1];
                    return {
                        value: o[0] ? o[1] : void 0,
                        done: !0
                    }
                }([o, a])
            }
        }
    }
      , P = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }
      , S = new s.a("engine")
      , R = y.a.End
      , M = function() {
        function t(t) {
            void 0 === t && (t = !1),
            this.moduleLookup = [],
            this.componentLookup = {},
            this.currentApplication = null,
            this.market = new f,
            this.commandBinder = new d,
            this.messageBus = new p.a,
            this.engineGenerators = new m.d,
            this.layers = new v.a,
            this.moduleLoader = new c(this),
            this.registerModule({
                type: w.default,
                promise: function() {
                    return Promise.resolve(n(20))
                }
            }),
            this.registerModule({
                type: g.default,
                promise: function() {
                    return Promise.resolve(n(30))
                }
            }),
            this.registerModule({
                type: _.default,
                promise: function() {
                    return Promise.resolve(n(40))
                }
            }),
            this.registerModule({
                type: b.default,
                promise: function() {
                    return Promise.resolve(n(38))
                }
            }),
            this.loadModules([{
                type: w.default
            }, {
                type: g.default,
                config: {
                    useGUI: !t
                }
            }, {
                type: _.default
            }, {
                type: b.default
            }]),
            this.afterPhasePromises = [],
            this.afterPhaseListenerCount = [],
            this.resetPromises()
        }
        return t.prototype.loadApplication = function(t) {
            return x(this, void 0, void 0, function() {
                var e, n, r, i, o, s, a, u, c, h, l, f, p, d, y, m, v, g;
                return O(this, function(b) {
                    switch (b.label) {
                    case 0:
                        if (t === this.currentApplication)
                            throw Error("Application already loaded");
                        e = (this.currentApplication ? this.currentApplication.getManifest() : []).map(function(t) {
                            return t.type
                        }),
                        n = t.getManifest(),
                        r = n.map(function(t) {
                            return t.type
                        }),
                        i = this.currentApplication,
                        this.currentApplication = null,
                        o = e.filter(function(t) {
                            return -1 === r.indexOf(t)
                        });
                        try {
                            for (s = P(o),
                            a = s.next(); !a.done; a = s.next())
                                u = a.value,
                                this.unloadModule(u)
                        } catch (t) {
                            y = {
                                error: t
                            }
                        } finally {
                            try {
                                a && !a.done && (m = s.return) && m.call(s)
                            } finally {
                                if (y)
                                    throw y.error
                            }
                        }
                        c = n.filter(function(t) {
                            return -1 === e.indexOf(t.type)
                        });
                        try {
                            for (h = P(c),
                            l = h.next(); !l.done; l = h.next())
                                f = l.value,
                                this.moduleLoader.moduleRegistered(f.type) || this.registerModule(f)
                        } catch (t) {
                            v = {
                                error: t
                            }
                        } finally {
                            try {
                                l && !l.done && (g = h.return) && g.call(h)
                            } finally {
                                if (v)
                                    throw v.error
                            }
                        }
                        if (!i)
                            return [3, 4];
                        b.label = 1;
                    case 1:
                        return b.trys.push([1, 3, , 4]),
                        [4, i.unload(this)];
                    case 2:
                        return b.sent(),
                        [3, 4];
                    case 3:
                        return p = b.sent(),
                        S.error(p),
                        this.getModuleSync(w.default).updateAppPhase(E.a.ERROR, p),
                        [3, 4];
                    case 4:
                        return b.trys.push([4, 6, , 7]),
                        this.currentApplication = t,
                        [4, t.load(this, null === i)];
                    case 5:
                        return b.sent(),
                        [3, 7];
                    case 6:
                        return d = b.sent(),
                        S.error(d),
                        this.getModuleSync(w.default).updateAppPhase(E.a.ERROR, d),
                        [3, 7];
                    case 7:
                        return [2]
                    }
                })
            })
        }
        ,
        t.prototype.registerModule = function(t) {
            if (this.currentApplication)
                throw Error("Cannot register modules while application is running");
            this.moduleLoader.registerModule(t.type, t.promise)
        }
        ,
        t.prototype.loadModules = function(t) {
            var e, n, r = this, i = [], o = function(t) {
                s.moduleLoadInjectionHook && (t.config = s.moduleLoadInjectionHook(t.type, t.config));
                var e = s.moduleLoader.loadModule(t.type, t.config);
                e.ctorPromise.then(function(e) {
                    return r.moduleLookup[r.moduleLoader.getTypeID(t.type)] = {
                        module: e,
                        initialized: !1
                    }
                }),
                e.initPromise.then(function(e) {
                    r.moduleLookup[r.moduleLoader.getTypeID(t.type)].initialized = !0
                }),
                i.push(e.initPromise.nativePromise())
            }, s = this;
            try {
                for (var a = P(t), u = a.next(); !u.done; u = a.next()) {
                    o(u.value)
                }
            } catch (t) {
                e = {
                    error: t
                }
            } finally {
                try {
                    u && !u.done && (n = a.return) && n.call(a)
                } finally {
                    if (e)
                        throw e.error
                }
            }
            return Promise.all(i)
        }
        ,
        t.prototype.setLoadInjection = function(t) {
            if (this.moduleLoadInjectionHook)
                throw Error("Hook already registered");
            this.moduleLoadInjectionHook = t
        }
        ,
        t.prototype.unloadModule = function(t) {
            var e, n, r = this.getModuleSync(t), i = this.getModuleIndex(r);
            if (this.componentLookup[i]) {
                try {
                    for (var o = P(this.componentLookup[i]), s = o.next(); !s.done; s = o.next()) {
                        var a = s.value;
                        this.removeComponent(r, a.component)
                    }
                } catch (t) {
                    e = {
                        error: t
                    }
                } finally {
                    try {
                        s && !s.done && (n = o.return) && n.call(o)
                    } finally {
                        if (e)
                            throw e.error
                    }
                }
                this.componentLookup[i] = []
            }
            this.moduleLoader.unloadModule(t),
            r.dispose(this)
        }
        ,
        t.prototype.waitForModule = function(t) {
            return this.moduleLoader.getModule(t)
        }
        ,
        t.prototype.waitForLoadingModules = function() {
            return this.moduleLoader.whenQueueEmpties()
        }
        ,
        t.prototype.getModule = function(t) {
            return x(this, void 0, void 0, function() {
                return O(this, function(e) {
                    return [2, this.moduleLoader.getModule(t)]
                })
            })
        }
        ,
        t.prototype.getModuleByParent = function(t) {
            return x(this, void 0, void 0, function() {
                return O(this, function(e) {
                    return [2, this.moduleLoader.getModuleByParent(t)]
                })
            })
        }
        ,
        t.prototype.getModuleSync = function(t) {
            return this.moduleLoader.getModuleSync(t)
        }
        ,
        t.prototype.addComponent = function(t, e) {
            var n = this.getModuleIndex(t)
              , r = this.componentLookup[n];
            r || (this.componentLookup[n] = r = []);
            for (var i = -1, o = 0; o < r.length; o++)
                if (r[o].component === e) {
                    i = o;
                    break
                }
            -1 === i && (i = r.push({
                component: e,
                active: !1
            }) - 1,
            e.init(this, this.market)),
            r[i].active || (r[i].active = !0,
            e.activate())
        }
        ,
        t.prototype.removeComponent = function(t, e) {
            var n = this.getModuleIndex(t)
              , r = this.componentLookup[n];
            if (r) {
                for (var i = -1, o = 0; o < r.length; o++)
                    if (r[o].component === e) {
                        i = o;
                        break
                    }
                -1 === i && r[i].active || (r[i].active = !1,
                e.deactivate())
            }
        }
        ,
        t.prototype.tick = function() {
            if (R !== y.a.End)
                throw Error("Engine.tick called outside of waiting. Did the engine get called recursively?!");
            R = y.a.Begin,
            this.resolveAfterPhase(y.a.Begin);
            var t, e, n = Date.now(), r = this.lastTick ? n - this.lastTick : 16;
            this.lastTick = n,
            R = y.a.Logic;
            try {
                try {
                    for (var i = P(this.moduleLookup), o = i.next(); !o.done; o = i.next()) {
                        var s = o.value;
                        s && s.initialized && s.module.onUpdate(r)
                    }
                } catch (e) {
                    t = {
                        error: e
                    }
                } finally {
                    try {
                        o && !o.done && (e = i.return) && e.call(i)
                    } finally {
                        if (t)
                            throw t.error
                    }
                }
            } catch (t) {
                throw S.error(t.message),
                t
            }
            try {
                this.renderComponents(r)
            } catch (t) {
                throw S.error(t.message),
                t
            }
            this.resolveAfterPhase(y.a.Logic);
            try {
                R = y.a.Render,
                this.resolveAfterPhase(y.a.Render),
                this.engineGenerators.processGenerators(m.a.Phase, y.a.Render),
                R = y.a.End,
                this.resolveAfterPhase(y.a.End),
                this.engineGenerators.processGenerators(m.a.None),
                this.engineGenerators.processGenerators(m.a.Promise),
                this.engineGenerators.processGenerators(m.a.Duration)
            } catch (t) {
                throw S.error(t.message),
                t
            }
        }
        ,
        t.prototype.subscribe = function(t, e, n) {
            void 0 === n && (n = p.b.PERMANENT),
            this.messageBus.subscribe(t, e, n)
        }
        ,
        t.prototype.unsubscribe = function(t, e) {
            this.messageBus.unsubscribe(t, e)
        }
        ,
        t.prototype.broadcast = function(t) {
            this.messageBus.broadcast(t)
        }
        ,
        t.prototype.claimRenderLayer = function(t) {
            return this.layers.claimLayer(t)
        }
        ,
        t.prototype.getRenderLayer = function(t) {
            return this.layers.getLayer(t)
        }
        ,
        t.prototype.disposeRenderLayer = function(t) {
            this.layers.disposeLayer(t)
        }
        ,
        t.prototype.startGenerator = function(t) {
            this.engineGenerators.startGenerator(t)
        }
        ,
        t.prototype.stopGenerator = function(t) {
            this.engineGenerators.stopGenerator(t)
        }
        ,
        t.prototype.after = function(t) {
            return this.afterPhaseListenerCount[t]++,
            this.afterPhasePromises[t].promise()
        }
        ,
        t.prototype.getModuleIndex = function(t) {
            for (var e = 0; e < this.moduleLookup.length; e++)
                if (this.moduleLookup[e] && this.moduleLookup[e].module === t)
                    return e;
            return -1
        }
        ,
        t.prototype.renderComponents = function(t) {
            for (var e in this.moduleLookup) {
                if (i = this.componentLookup[e])
                    try {
                        for (var n = P(i), r = n.next(); !r.done; r = n.next()) {
                            (a = r.value).active && a.component.beforeRender && a.component.beforeRender(t)
                        }
                    } catch (t) {
                        u = {
                            error: t
                        }
                    } finally {
                        try {
                            r && !r.done && (c = n.return) && c.call(n)
                        } finally {
                            if (u)
                                throw u.error
                        }
                    }
            }
            for (var e in this.moduleLookup) {
                var i;
                if (e)
                    if (i = this.componentLookup[e])
                        try {
                            for (var o = P(i), s = o.next(); !s.done; s = o.next()) {
                                var a;
                                (a = s.value).active && a.component.render(t)
                            }
                        } catch (t) {
                            h = {
                                error: t
                            }
                        } finally {
                            try {
                                s && !s.done && (l = o.return) && l.call(o)
                            } finally {
                                if (h)
                                    throw h.error
                            }
                        }
            }
            var u, c, h, l
        }
        ,
        t.prototype.resetPromises = function() {
            this.resetAfterPhasePromises()
        }
        ,
        t.prototype.resetAfterPhasePromises = function() {
            this.resetAfterPhasePromise(y.a.Logic),
            this.resetAfterPhasePromise(y.a.Render),
            this.resetAfterPhasePromise(y.a.Begin),
            this.resetAfterPhasePromise(y.a.End)
        }
        ,
        t.prototype.resetAfterPhasePromise = function(t) {
            this.afterPhasePromises[t] = new o.a,
            this.afterPhaseListenerCount[t] = 0
        }
        ,
        t.prototype.resolveAfterPhase = function(t) {
            this.afterPhaseListenerCount[t] > 0 && (this.afterPhasePromises[t].resolve(),
            this.resetAfterPhasePromise(t))
        }
        ,
        t.prototype.deactivate = function() {
            this.getModuleSync(b.default).clearInterface();
            try {
                for (var t = P(this.moduleLookup), e = t.next(); !e.done; e = t.next()) {
                    var n = e.value;
                    if (n && n.initialized) {
                        var r = this.getModuleType(n.module);
                        r && this.unloadModule(r)
                    }
                }
            } catch (t) {
                i = {
                    error: t
                }
            } finally {
                try {
                    e && !e.done && (o = t.return) && o.call(t)
                } finally {
                    if (i)
                        throw i.error
                }
            }
            var i, o
        }
        ,
        t.prototype.getModuleType = function(t) {
            for (var e = 0; e < this.moduleLookup.length; e++) {
                var n = this.moduleLookup[e];
                if (n && n.module === t)
                    return this.moduleLoader.getTypeFromTypeID(e)
            }
            return null
        }
        ,
        t
    }();
    e.a = M
}
, function(t, e, n) {
    "use strict";
    var r = n(118)
      , i = n(116);
    function o() {
        this.protocol = null,
        this.slashes = null,
        this.auth = null,
        this.host = null,
        this.port = null,
        this.hostname = null,
        this.hash = null,
        this.search = null,
        this.query = null,
        this.pathname = null,
        this.path = null,
        this.href = null
    }
    e.parse = b,
    e.resolve = function(t, e) {
        return b(t, !1, !0).resolve(e)
    }
    ,
    e.resolveObject = function(t, e) {
        return t ? b(t, !1, !0).resolveObject(e) : e
    }
    ,
    e.format = function(t) {
        i.isString(t) && (t = b(t));
        return t instanceof o ? t.format() : o.prototype.format.call(t)
    }
    ,
    e.Url = o;
    var s = /^([a-z0-9.+-]+:)/i
      , a = /:[0-9]*$/
      , u = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/
      , c = ["{", "}", "|", "\\", "^", "`"].concat(["<", ">", '"', "`", " ", "\r", "\n", "\t"])
      , h = ["'"].concat(c)
      , l = ["%", "/", "?", ";", "#"].concat(h)
      , f = ["/", "?", "#"]
      , p = /^[+a-z0-9A-Z_-]{0,63}$/
      , d = /^([+a-z0-9A-Z_-]{0,63})(.*)$/
      , y = {
        javascript: !0,
        "javascript:": !0
    }
      , m = {
        javascript: !0,
        "javascript:": !0
    }
      , v = {
        http: !0,
        https: !0,
        ftp: !0,
        gopher: !0,
        file: !0,
        "http:": !0,
        "https:": !0,
        "ftp:": !0,
        "gopher:": !0,
        "file:": !0
    }
      , g = n(115);
    function b(t, e, n) {
        if (t && i.isObject(t) && t instanceof o)
            return t;
        var r = new o;
        return r.parse(t, e, n),
        r
    }
    o.prototype.parse = function(t, e, n) {
        if (!i.isString(t))
            throw new TypeError("Parameter 'url' must be a string, not " + typeof t);
        var o = t.indexOf("?")
          , a = -1 !== o && o < t.indexOf("#") ? "?" : "#"
          , c = t.split(a);
        c[0] = c[0].replace(/\\/g, "/");
        var b = t = c.join(a);
        if (b = b.trim(),
        !n && 1 === t.split("#").length) {
            var _ = u.exec(b);
            if (_)
                return this.path = b,
                this.href = b,
                this.pathname = _[1],
                _[2] ? (this.search = _[2],
                this.query = e ? g.parse(this.search.substr(1)) : this.search.substr(1)) : e && (this.search = "",
                this.query = {}),
                this
        }
        var w = s.exec(b);
        if (w) {
            var E = (w = w[0]).toLowerCase();
            this.protocol = E,
            b = b.substr(w.length)
        }
        if (n || w || b.match(/^\/\/[^@\/]+@[^@\/]+/)) {
            var x = "//" === b.substr(0, 2);
            !x || w && m[w] || (b = b.substr(2),
            this.slashes = !0)
        }
        if (!m[w] && (x || w && !v[w])) {
            for (var O, P, S = -1, R = 0; R < f.length; R++) {
                -1 !== (M = b.indexOf(f[R])) && (-1 === S || M < S) && (S = M)
            }
            -1 !== (P = -1 === S ? b.lastIndexOf("@") : b.lastIndexOf("@", S)) && (O = b.slice(0, P),
            b = b.slice(P + 1),
            this.auth = decodeURIComponent(O)),
            S = -1;
            for (R = 0; R < l.length; R++) {
                var M;
                -1 !== (M = b.indexOf(l[R])) && (-1 === S || M < S) && (S = M)
            }
            -1 === S && (S = b.length),
            this.host = b.slice(0, S),
            b = b.slice(S),
            this.parseHost(),
            this.hostname = this.hostname || "";
            var L = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
            if (!L)
                for (var I = this.hostname.split(/\./), A = (R = 0,
                I.length); R < A; R++) {
                    var T = I[R];
                    if (T && !T.match(p)) {
                        for (var k = "", C = 0, N = T.length; C < N; C++)
                            T.charCodeAt(C) > 127 ? k += "x" : k += T[C];
                        if (!k.match(p)) {
                            var D = I.slice(0, R)
                              , z = I.slice(R + 1)
                              , j = T.match(d);
                            j && (D.push(j[1]),
                            z.unshift(j[2])),
                            z.length && (b = "/" + z.join(".") + b),
                            this.hostname = D.join(".");
                            break
                        }
                    }
                }
            this.hostname.length > 255 ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(),
            L || (this.hostname = r.toASCII(this.hostname));
            var H = this.port ? ":" + this.port : ""
              , B = this.hostname || "";
            this.host = B + H,
            this.href += this.host,
            L && (this.hostname = this.hostname.substr(1, this.hostname.length - 2),
            "/" !== b[0] && (b = "/" + b))
        }
        if (!y[E])
            for (R = 0,
            A = h.length; R < A; R++) {
                var U = h[R];
                if (-1 !== b.indexOf(U)) {
                    var F = encodeURIComponent(U);
                    F === U && (F = escape(U)),
                    b = b.split(U).join(F)
                }
            }
        var V = b.indexOf("#");
        -1 !== V && (this.hash = b.substr(V),
        b = b.slice(0, V));
        var q = b.indexOf("?");
        if (-1 !== q ? (this.search = b.substr(q),
        this.query = b.substr(q + 1),
        e && (this.query = g.parse(this.query)),
        b = b.slice(0, q)) : e && (this.search = "",
        this.query = {}),
        b && (this.pathname = b),
        v[E] && this.hostname && !this.pathname && (this.pathname = "/"),
        this.pathname || this.search) {
            H = this.pathname || "";
            var G = this.search || "";
            this.path = H + G
        }
        return this.href = this.format(),
        this
    }
    ,
    o.prototype.format = function() {
        var t = this.auth || "";
        t && (t = (t = encodeURIComponent(t)).replace(/%3A/i, ":"),
        t += "@");
        var e = this.protocol || ""
          , n = this.pathname || ""
          , r = this.hash || ""
          , o = !1
          , s = "";
        this.host ? o = t + this.host : this.hostname && (o = t + (-1 === this.hostname.indexOf(":") ? this.hostname : "[" + this.hostname + "]"),
        this.port && (o += ":" + this.port)),
        this.query && i.isObject(this.query) && Object.keys(this.query).length && (s = g.stringify(this.query));
        var a = this.search || s && "?" + s || "";
        return e && ":" !== e.substr(-1) && (e += ":"),
        this.slashes || (!e || v[e]) && !1 !== o ? (o = "//" + (o || ""),
        n && "/" !== n.charAt(0) && (n = "/" + n)) : o || (o = ""),
        r && "#" !== r.charAt(0) && (r = "#" + r),
        a && "?" !== a.charAt(0) && (a = "?" + a),
        e + o + (n = n.replace(/[?#]/g, function(t) {
            return encodeURIComponent(t)
        })) + (a = a.replace("#", "%23")) + r
    }
    ,
    o.prototype.resolve = function(t) {
        return this.resolveObject(b(t, !1, !0)).format()
    }
    ,
    o.prototype.resolveObject = function(t) {
        if (i.isString(t)) {
            var e = new o;
            e.parse(t, !1, !0),
            t = e
        }
        for (var n = new o, r = Object.keys(this), s = 0; s < r.length; s++) {
            var a = r[s];
            n[a] = this[a]
        }
        if (n.hash = t.hash,
        "" === t.href)
            return n.href = n.format(),
            n;
        if (t.slashes && !t.protocol) {
            for (var u = Object.keys(t), c = 0; c < u.length; c++) {
                var h = u[c];
                "protocol" !== h && (n[h] = t[h])
            }
            return v[n.protocol] && n.hostname && !n.pathname && (n.path = n.pathname = "/"),
            n.href = n.format(),
            n
        }
        if (t.protocol && t.protocol !== n.protocol) {
            if (!v[t.protocol]) {
                for (var l = Object.keys(t), f = 0; f < l.length; f++) {
                    var p = l[f];
                    n[p] = t[p]
                }
                return n.href = n.format(),
                n
            }
            if (n.protocol = t.protocol,
            t.host || m[t.protocol])
                n.pathname = t.pathname;
            else {
                for (var d = (t.pathname || "").split("/"); d.length && !(t.host = d.shift()); )
                    ;
                t.host || (t.host = ""),
                t.hostname || (t.hostname = ""),
                "" !== d[0] && d.unshift(""),
                d.length < 2 && d.unshift(""),
                n.pathname = d.join("/")
            }
            if (n.search = t.search,
            n.query = t.query,
            n.host = t.host || "",
            n.auth = t.auth,
            n.hostname = t.hostname || t.host,
            n.port = t.port,
            n.pathname || n.search) {
                var y = n.pathname || ""
                  , g = n.search || "";
                n.path = y + g
            }
            return n.slashes = n.slashes || t.slashes,
            n.href = n.format(),
            n
        }
        var b = n.pathname && "/" === n.pathname.charAt(0)
          , _ = t.host || t.pathname && "/" === t.pathname.charAt(0)
          , w = _ || b || n.host && t.pathname
          , E = w
          , x = n.pathname && n.pathname.split("/") || []
          , O = (d = t.pathname && t.pathname.split("/") || [],
        n.protocol && !v[n.protocol]);
        if (O && (n.hostname = "",
        n.port = null,
        n.host && ("" === x[0] ? x[0] = n.host : x.unshift(n.host)),
        n.host = "",
        t.protocol && (t.hostname = null,
        t.port = null,
        t.host && ("" === d[0] ? d[0] = t.host : d.unshift(t.host)),
        t.host = null),
        w = w && ("" === d[0] || "" === x[0])),
        _)
            n.host = t.host || "" === t.host ? t.host : n.host,
            n.hostname = t.hostname || "" === t.hostname ? t.hostname : n.hostname,
            n.search = t.search,
            n.query = t.query,
            x = d;
        else if (d.length)
            x || (x = []),
            x.pop(),
            x = x.concat(d),
            n.search = t.search,
            n.query = t.query;
        else if (!i.isNullOrUndefined(t.search)) {
            if (O)
                n.hostname = n.host = x.shift(),
                (L = !!(n.host && n.host.indexOf("@") > 0) && n.host.split("@")) && (n.auth = L.shift(),
                n.host = n.hostname = L.shift());
            return n.search = t.search,
            n.query = t.query,
            i.isNull(n.pathname) && i.isNull(n.search) || (n.path = (n.pathname ? n.pathname : "") + (n.search ? n.search : "")),
            n.href = n.format(),
            n
        }
        if (!x.length)
            return n.pathname = null,
            n.search ? n.path = "/" + n.search : n.path = null,
            n.href = n.format(),
            n;
        for (var P = x.slice(-1)[0], S = (n.host || t.host || x.length > 1) && ("." === P || ".." === P) || "" === P, R = 0, M = x.length; M >= 0; M--)
            "." === (P = x[M]) ? x.splice(M, 1) : ".." === P ? (x.splice(M, 1),
            R++) : R && (x.splice(M, 1),
            R--);
        if (!w && !E)
            for (; R--; R)
                x.unshift("..");
        !w || "" === x[0] || x[0] && "/" === x[0].charAt(0) || x.unshift(""),
        S && "/" !== x.join("/").substr(-1) && x.push("");
        var L, I = "" === x[0] || x[0] && "/" === x[0].charAt(0);
        O && (n.hostname = n.host = I ? "" : x.length ? x.shift() : "",
        (L = !!(n.host && n.host.indexOf("@") > 0) && n.host.split("@")) && (n.auth = L.shift(),
        n.host = n.hostname = L.shift()));
        return (w = w || n.host && x.length) && !I && x.unshift(""),
        x.length ? n.pathname = x.join("/") : (n.pathname = null,
        n.path = null),
        i.isNull(n.pathname) && i.isNull(n.search) || (n.path = (n.pathname ? n.pathname : "") + (n.search ? n.search : "")),
        n.auth = t.auth || n.auth,
        n.slashes = n.slashes || t.slashes,
        n.href = n.format(),
        n
    }
    ,
    o.prototype.parseHost = function() {
        var t = this.host
          , e = a.exec(t);
        e && (":" !== (e = e[0]) && (this.port = e.substr(1)),
        t = t.substr(0, t.length - e.length)),
        t && (this.hostname = t)
    }
}
, function(t, e, n) {
    "use strict";
    t.exports = function() {
        var t = window.analytics = window.analytics || [];
        if (!t.initialize)
            if (t.invoked)
                window.console && console.error && console.error("Segment snippet included twice.");
            else {
                t.invoked = !0,
                t.methods = ["trackSubmit", "trackClick", "trackLink", "trackForm", "pageview", "identify", "reset", "group", "track", "ready", "alias", "debug", "page", "once", "off", "on"],
                t.factory = function(e) {
                    return function() {
                        var n = Array.prototype.slice.call(arguments);
                        return n.unshift(e),
                        t.push(n),
                        t
                    }
                }
                ;
                for (var e = 0; e < t.methods.length; e++) {
                    var n = t.methods[e];
                    t[n] = t.factory(n)
                }
                t.load = function(t) {
                    var e = document.createElement("script");
                    e.type = "text/javascript",
                    e.async = !0,
                    e.src = ("https:" === document.location.protocol ? "https://" : "http://") + "cdn.segment.com/analytics.js/v1/" + t + "/analytics.min.js";
                    var n = document.getElementsByTagName("script")[0];
                    n.parentNode.insertBefore(e, n)
                }
                ,
                t.SNIPPET_VERSION = "4.0.0"
            }
    }
}
, , , , , function(t, e, n) {
    (function(e, n) {
        /*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */
        var r;
        r = function() {
            "use strict";
            function t(t) {
                return "function" == typeof t
            }
            var r = Array.isArray ? Array.isArray : function(t) {
                return "[object Array]" === Object.prototype.toString.call(t)
            }
              , i = 0
              , o = void 0
              , s = void 0
              , a = function(t, e) {
                d[i] = t,
                d[i + 1] = e,
                2 === (i += 2) && (s ? s(y) : _())
            };
            var u = "undefined" != typeof window ? window : void 0
              , c = u || {}
              , h = c.MutationObserver || c.WebKitMutationObserver
              , l = "undefined" == typeof self && void 0 !== e && "[object process]" === {}.toString.call(e)
              , f = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel;
            function p() {
                var t = setTimeout;
                return function() {
                    return t(y, 1)
                }
            }
            var d = new Array(1e3);
            function y() {
                for (var t = 0; t < i; t += 2) {
                    (0,
                    d[t])(d[t + 1]),
                    d[t] = void 0,
                    d[t + 1] = void 0
                }
                i = 0
            }
            var m, v, g, b, _ = void 0;
            function w(t, e) {
                var n = this
                  , r = new this.constructor(O);
                void 0 === r[x] && H(r);
                var i = n._state;
                if (i) {
                    var o = arguments[i - 1];
                    a(function() {
                        return z(i, r, o, n._result)
                    })
                } else
                    N(n, r, t, e);
                return r
            }
            function E(t) {
                if (t && "object" == typeof t && t.constructor === this)
                    return t;
                var e = new this(O);
                return A(e, t),
                e
            }
            l ? _ = function() {
                return e.nextTick(y)
            }
            : h ? (v = 0,
            g = new h(y),
            b = document.createTextNode(""),
            g.observe(b, {
                characterData: !0
            }),
            _ = function() {
                b.data = v = ++v % 2
            }
            ) : f ? ((m = new MessageChannel).port1.onmessage = y,
            _ = function() {
                return m.port2.postMessage(0)
            }
            ) : _ = void 0 === u ? function() {
                try {
                    var t = Function("return this")().require("vertx");
                    return void 0 !== (o = t.runOnLoop || t.runOnContext) ? function() {
                        o(y)
                    }
                    : p()
                } catch (t) {
                    return p()
                }
            }() : p();
            var x = Math.random().toString(36).substring(2);
            function O() {}
            var P = void 0
              , S = 1
              , R = 2
              , M = {
                error: null
            };
            function L(t) {
                try {
                    return t.then
                } catch (t) {
                    return M.error = t,
                    M
                }
            }
            function I(e, n, r) {
                n.constructor === e.constructor && r === w && n.constructor.resolve === E ? function(t, e) {
                    e._state === S ? k(t, e._result) : e._state === R ? C(t, e._result) : N(e, void 0, function(e) {
                        return A(t, e)
                    }, function(e) {
                        return C(t, e)
                    })
                }(e, n) : r === M ? (C(e, M.error),
                M.error = null) : void 0 === r ? k(e, n) : t(r) ? function(t, e, n) {
                    a(function(t) {
                        var r = !1
                          , i = function(t, e, n, r) {
                            try {
                                t.call(e, n, r)
                            } catch (t) {
                                return t
                            }
                        }(n, e, function(n) {
                            r || (r = !0,
                            e !== n ? A(t, n) : k(t, n))
                        }, function(e) {
                            r || (r = !0,
                            C(t, e))
                        }, t._label);
                        !r && i && (r = !0,
                        C(t, i))
                    }, t)
                }(e, n, r) : k(e, n)
            }
            function A(t, e) {
                var n, r;
                t === e ? C(t, new TypeError("You cannot resolve a promise with itself")) : (r = typeof (n = e),
                null === n || "object" !== r && "function" !== r ? k(t, e) : I(t, e, L(e)))
            }
            function T(t) {
                t._onerror && t._onerror(t._result),
                D(t)
            }
            function k(t, e) {
                t._state === P && (t._result = e,
                t._state = S,
                0 !== t._subscribers.length && a(D, t))
            }
            function C(t, e) {
                t._state === P && (t._state = R,
                t._result = e,
                a(T, t))
            }
            function N(t, e, n, r) {
                var i = t._subscribers
                  , o = i.length;
                t._onerror = null,
                i[o] = e,
                i[o + S] = n,
                i[o + R] = r,
                0 === o && t._state && a(D, t)
            }
            function D(t) {
                var e = t._subscribers
                  , n = t._state;
                if (0 !== e.length) {
                    for (var r = void 0, i = void 0, o = t._result, s = 0; s < e.length; s += 3)
                        r = e[s],
                        i = e[s + n],
                        r ? z(n, r, i, o) : i(o);
                    t._subscribers.length = 0
                }
            }
            function z(e, n, r, i) {
                var o = t(r)
                  , s = void 0
                  , a = void 0
                  , u = void 0
                  , c = void 0;
                if (o) {
                    if ((s = function(t, e) {
                        try {
                            return t(e)
                        } catch (t) {
                            return M.error = t,
                            M
                        }
                    }(r, i)) === M ? (c = !0,
                    a = s.error,
                    s.error = null) : u = !0,
                    n === s)
                        return void C(n, new TypeError("A promises callback cannot return that same promise."))
                } else
                    s = i,
                    u = !0;
                n._state !== P || (o && u ? A(n, s) : c ? C(n, a) : e === S ? k(n, s) : e === R && C(n, s))
            }
            var j = 0;
            function H(t) {
                t[x] = j++,
                t._state = void 0,
                t._result = void 0,
                t._subscribers = []
            }
            var B = function() {
                function t(t, e) {
                    this._instanceConstructor = t,
                    this.promise = new t(O),
                    this.promise[x] || H(this.promise),
                    r(e) ? (this.length = e.length,
                    this._remaining = e.length,
                    this._result = new Array(this.length),
                    0 === this.length ? k(this.promise, this._result) : (this.length = this.length || 0,
                    this._enumerate(e),
                    0 === this._remaining && k(this.promise, this._result))) : C(this.promise, new Error("Array Methods must be provided an Array"))
                }
                return t.prototype._enumerate = function(t) {
                    for (var e = 0; this._state === P && e < t.length; e++)
                        this._eachEntry(t[e], e)
                }
                ,
                t.prototype._eachEntry = function(t, e) {
                    var n = this._instanceConstructor
                      , r = n.resolve;
                    if (r === E) {
                        var i = L(t);
                        if (i === w && t._state !== P)
                            this._settledAt(t._state, e, t._result);
                        else if ("function" != typeof i)
                            this._remaining--,
                            this._result[e] = t;
                        else if (n === U) {
                            var o = new n(O);
                            I(o, t, i),
                            this._willSettleAt(o, e)
                        } else
                            this._willSettleAt(new n(function(e) {
                                return e(t)
                            }
                            ), e)
                    } else
                        this._willSettleAt(r(t), e)
                }
                ,
                t.prototype._settledAt = function(t, e, n) {
                    var r = this.promise;
                    r._state === P && (this._remaining--,
                    t === R ? C(r, n) : this._result[e] = n),
                    0 === this._remaining && k(r, this._result)
                }
                ,
                t.prototype._willSettleAt = function(t, e) {
                    var n = this;
                    N(t, void 0, function(t) {
                        return n._settledAt(S, e, t)
                    }, function(t) {
                        return n._settledAt(R, e, t)
                    })
                }
                ,
                t
            }();
            var U = function() {
                function t(e) {
                    this[x] = j++,
                    this._result = this._state = void 0,
                    this._subscribers = [],
                    O !== e && ("function" != typeof e && function() {
                        throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")
                    }(),
                    this instanceof t ? function(t, e) {
                        try {
                            e(function(e) {
                                A(t, e)
                            }, function(e) {
                                C(t, e)
                            })
                        } catch (e) {
                            C(t, e)
                        }
                    }(this, e) : function() {
                        throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")
                    }())
                }
                return t.prototype.catch = function(t) {
                    return this.then(null, t)
                }
                ,
                t.prototype.finally = function(t) {
                    var e = this.constructor;
                    return this.then(function(n) {
                        return e.resolve(t()).then(function() {
                            return n
                        })
                    }, function(n) {
                        return e.resolve(t()).then(function() {
                            throw n
                        })
                    })
                }
                ,
                t
            }();
            return U.prototype.then = w,
            U.all = function(t) {
                return new B(this,t).promise
            }
            ,
            U.race = function(t) {
                var e = this;
                return r(t) ? new e(function(n, r) {
                    for (var i = t.length, o = 0; o < i; o++)
                        e.resolve(t[o]).then(n, r)
                }
                ) : new e(function(t, e) {
                    return e(new TypeError("You must pass an array to race."))
                }
                )
            }
            ,
            U.resolve = E,
            U.reject = function(t) {
                var e = new this(O);
                return C(e, t),
                e
            }
            ,
            U._setScheduler = function(t) {
                s = t
            }
            ,
            U._setAsap = function(t) {
                a = t
            }
            ,
            U._asap = a,
            U.polyfill = function() {
                var t = void 0;
                if (void 0 !== n)
                    t = n;
                else if ("undefined" != typeof self)
                    t = self;
                else
                    try {
                        t = Function("return this")()
                    } catch (t) {
                        throw new Error("polyfill failed because global object is unavailable in this environment")
                    }
                var e = t.Promise;
                if (e) {
                    var r = null;
                    try {
                        r = Object.prototype.toString.call(e.resolve())
                    } catch (t) {}
                    if ("[object Promise]" === r && !e.cast)
                        return
                }
                t.Promise = U
            }
            ,
            U.Promise = U,
            U
        }
        ,
        t.exports = r()
    }
    ).call(this, n(76), n(67))
}
, function(t, e, n) {
    "use strict";
    t.exports = n(110).polyfill()
}
, function(t, e, n) {
    "use strict";
    n.r(e);
    var r, i = n(0), o = n(28), s = n(20), a = n(8), u = n(12), c = n(77), h = function() {
        function t(t) {
            this.lastProgress = 0,
            this.currentProgress = 0,
            this.webpackChunks = [],
            this.meshAlloc = {
                alloc: 2e6,
                loaded: 0
            },
            this.showingProgress = !1,
            this.loaderElm = document.getElementById("loader-cont"),
            this.progressElm = document.getElementById("bar"),
            window.addEventListener("WebpackChunkProgress", this.onWebpackChunkProgress.bind(this)),
            this.engine = t,
            this.meshProgressBinding = this.onMeshLoadProgress.bind(this),
            this.engine.subscribe(c.b, this.meshProgressBinding)
        }
        return t.prototype.showProgress = function() {
            this.showingProgress = !0,
            this.setProgress(this.currentProgress)
        }
        ,
        t.prototype.setDone = function() {
            this.currentProgress = 100,
            this.setProgress(this.currentProgress),
            this.engine.unsubscribe(c.b, this.meshProgressBinding)
        }
        ,
        t.prototype.setProgress = function(t) {
            if (this.progressElm && !isNaN(t)) {
                this.lastProgress = Math.max(this.lastProgress, t),
                t = this.lastProgress;
                var e = Number.parseFloat(this.progressElm.getAttribute("r") || "0")
                  , n = Math.PI * (2 * e)
                  , r = (100 - (t = Math.max(Math.min(t, 100), 0))) / 100 * n;
                this.progressElm.style.strokeDashoffset = r.toString(10)
            }
        }
        ,
        t.prototype.calcProgress = function() {
            var t = 0
              , e = 0;
            this.webpackChunks.forEach(function(n) {
                t += n.loaded,
                e += n.total
            }),
            t += this.meshAlloc.loaded,
            e += this.meshAlloc.alloc,
            this.currentProgress = 75 * Math.min(t / e, 1),
            this.showingProgress && this.setProgress(this.currentProgress)
        }
        ,
        t.prototype.onWebpackChunkProgress = function(t) {
            this.webpackChunks[t.chunkID] ? this.webpackChunks[t.chunkID].loaded = t.loaded : this.webpackChunks[t.chunkID] = {
                loaded: t.loaded,
                total: t.total
            },
            this.calcProgress()
        }
        ,
        t.prototype.onMeshLoadProgress = function(t) {
            this.meshAlloc.loaded = t.loaded / t.total * this.meshAlloc.alloc,
            this.calcProgress()
        }
        ,
        t
    }(), l = n(18), f = n(58), p = (n(121),
    n(46)), d = (r = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n])
    }
    ,
    function(t, e) {
        function n() {
            this.constructor = t
        }
        r(t, e),
        t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype,
        new n)
    }
    ), y = function(t, e, n, r) {
        return new (n || (n = Promise))(function(i, o) {
            function s(t) {
                try {
                    u(r.next(t))
                } catch (t) {
                    o(t)
                }
            }
            function a(t) {
                try {
                    u(r.throw(t))
                } catch (t) {
                    o(t)
                }
            }
            function u(t) {
                t.done ? i(t.value) : new n(function(e) {
                    e(t.value)
                }
                ).then(s, a)
            }
            u((r = r.apply(t, e || [])).next())
        }
        )
    }, m = function(t, e) {
        var n, r, i, o, s = {
            label: 0,
            sent: function() {
                if (1 & i[0])
                    throw i[1];
                return i[1]
            },
            trys: [],
            ops: []
        };
        return o = {
            next: a(0),
            throw: a(1),
            return: a(2)
        },
        "function" == typeof Symbol && (o[Symbol.iterator] = function() {
            return this
        }
        ),
        o;
        function a(o) {
            return function(a) {
                return function(o) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; s; )
                        try {
                            if (n = 1,
                            r && (i = r[2 & o[0] ? "return" : o[0] ? "throw" : "next"]) && !(i = i.call(r, o[1])).done)
                                return i;
                            switch (r = 0,
                            i && (o = [0, i.value]),
                            o[0]) {
                            case 0:
                            case 1:
                                i = o;
                                break;
                            case 4:
                                return s.label++,
                                {
                                    value: o[1],
                                    done: !1
                                };
                            case 5:
                                s.label++,
                                r = o[1],
                                o = [0];
                                continue;
                            case 7:
                                o = s.ops.pop(),
                                s.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = s.trys).length > 0 && i[i.length - 1]) && (6 === o[0] || 2 === o[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                    s.label = o[1];
                                    break
                                }
                                if (6 === o[0] && s.label < i[1]) {
                                    s.label = i[1],
                                    i = o;
                                    break
                                }
                                if (i && s.label < i[2]) {
                                    s.label = i[2],
                                    s.ops.push(o);
                                    break
                                }
                                i[2] && s.ops.pop(),
                                s.trys.pop();
                                continue
                            }
                            o = e.call(t, s)
                        } catch (t) {
                            o = [6, t],
                            r = 0
                        } finally {
                            n = i = 0
                        }
                    if (5 & o[0])
                        throw o[1];
                    return {
                        value: o[0] ? o[1] : void 0,
                        done: !0
                    }
                }([o, a])
            }
        }
    }, v = function(t) {
        function e() {
            var e = null !== t && t.apply(this, arguments) || this;
            return e.name = "loading-ui",
            e.playPromise = new u.a,
            e
        }
        return d(e, t),
        e.prototype.init = function(t, e) {
            return y(this, void 0, void 0, function() {
                var n, r, u;
                return m(this, function(c) {
                    switch (c.label) {
                    case 0:
                        return this.engine = e,
                        n = this,
                        [4, e.getModule(i.A)];
                    case 1:
                        return n.locale = c.sent(),
                        [4, t.modelDetailsStore.read()];
                    case 2:
                        return r = c.sent(),
                        [4, e.getModule(s.default)];
                    case 3:
                        return u = c.sent(),
                        this.config = {
                            quickstart: !!t.quickstart,
                            autoplay: !!t.autoplay,
                            startNewTab: !!t.startNewTab,
                            hideTitle: !!t.hideTitle,
                            hideBranding: !!t.hideBranding,
                            sid: t.sid,
                            baseUrl: t.baseUrl
                        },
                        this.progressUI = new h(e),
                        this.hideUI = this.hideUI.bind(this),
                        this.engine.subscribe(o.a, this.hideUI),
                        this.showPlayButton(r),
                        u.updateAppPhase(a.a.WAITING),
                        [2, this.playPromise.nativePromise()]
                    }
                })
            })
        }
        ,
        e.prototype.getLoadingElements = function() {
            if (this.uiRoot = document.getElementById("loading-gui"),
            !this.uiRoot)
                throw Error("Loading GUI root not found");
            this.uiRoot.classList.remove("hidden"),
            this.presentedBy = document.getElementById("loading-presented-by"),
            this.mpLogo = document.getElementById("loading-logo"),
            this.mpLogo.src = n(119),
            this.nameHeader = document.getElementById("loading-header"),
            this.background = document.getElementById("loading-background"),
            this.tint = document.getElementById("tint")
        }
        ,
        e.prototype.addCobrand = function(t) {
            if (t && t.presented_by) {
                var e = document.createElement("div");
                e.textContent = this.locale.t(f.a.PRESENTED_BY_CAPS),
                this.presentedBy.appendChild(e);
                var n = document.createElement("h3");
                n.textContent = t.presented_by,
                this.presentedBy.appendChild(n)
            }
        }
        ,
        e.prototype.hidePlayButtonUI = function() {
            this.background.style.backgroundImage = "",
            this.presentedBy.style.transition = "none",
            this.presentedBy.classList.remove("fadeIn"),
            this.mpLogo.style.transition = "none",
            this.mpLogo.classList.remove("fadeIn"),
            this.nameHeader.classList.add("hidden"),
            this.tint.classList.add("hidden"),
            document.getElementById("circleLoader").classList.add("hidden"),
            this.uiRoot.classList.add("quickstart")
        }
        ,
        e.prototype.showQuickstartUI = function() {
            return y(this, void 0, void 0, function() {
                return m(this, function(t) {
                    switch (t.label) {
                    case 0:
                        return this.getLoadingElements(),
                        this.background.classList.add("fadeOut"),
                        [4, Object(p.c)(500)];
                    case 1:
                        return t.sent(),
                        this.presentedBy.style.transition = "",
                        this.presentedBy.classList.add("fadeIn"),
                        this.mpLogo.style.transition = "",
                        this.mpLogo.classList.add("fadeIn"),
                        [4, Object(p.c)(2500)];
                    case 2:
                        return t.sent(),
                        this.presentedBy.classList.remove("fadeIn"),
                        this.mpLogo.classList.remove("fadeIn"),
                        this.uiRoot.classList.add("fadeOut"),
                        [2]
                    }
                })
            })
        }
        ,
        e.prototype.showLoadingUI = function(t) {
            var e = document.createAttribute("data-status");
            e.value = this.locale.t(f.a.LOADING);
            var n = document.getElementById("loader-cont");
            n.attributes.setNamedItem(e),
            n.classList.add(this.locale.languageCode),
            t.classList.add("fadeOut"),
            this.presentedBy.classList.add("fadeIn")
        }
        ,
        e.prototype.showPlayButton = function(t) {
            var e = this;
            this.getLoadingElements();
            var n = document.getElementById("loading-subheader")
              , r = document.getElementById("showcase-play");
            this.config.hideTitle && this.nameHeader.classList.add("hidden"),
            this.config.hideBranding || this.addCobrand(t),
            this.nameHeader.textContent = t.name,
            this.uiRoot.appendChild(this.nameHeader),
            this.mpLogo.classList.add("fadeIn"),
            this.tint.classList.add("fadeIn"),
            this.playPromise.then(function() {
                e.config.quickstart ? e.hidePlayButtonUI() : e.showLoadingUI(n)
            }),
            this.config.autoplay ? (this.progressUI.showProgress(),
            this.playPromise.resolve()) : (n.classList.remove("hidden"),
            n.innerText = this.locale.t(f.a.EXPLORE_3D_SPACE),
            r.classList.remove("hidden"),
            r.addEventListener("click", function() {
                if (Object(l.j)())
                    return e.config.startNewTab ? void window.open(self.location.href, "_blank") : void (top.location.href = self.location.href);
                r.classList.add("hidden"),
                e.progressUI.showProgress(),
                e.playPromise.resolve()
            })),
            this.background.style.backgroundImage = "url(" + this.config.baseUrl + "/api/v1/player/models/" + this.config.sid + "/thumb)"
        }
        ,
        e.prototype.hideUI = function(t) {
            return y(this, void 0, void 0, function() {
                return m(this, function(e) {
                    return t.phase !== a.a.STARTING && t.phase !== a.a.PLAYING && t.phase !== a.a.ERROR || (this.progressUI.setDone(),
                    this.engine.unsubscribe(o.a, this.hideUI),
                    this.config.quickstart ? this.showQuickstartUI() : this.uiRoot.classList.add("fadeOut")),
                    [2]
                })
            })
        }
        ,
        e
    }(i.z);
    e.default = v
}
, function(t, e, n) {
    "use strict";
    var r = function(t) {
        switch (typeof t) {
        case "string":
            return t;
        case "boolean":
            return t ? "true" : "false";
        case "number":
            return isFinite(t) ? t : "";
        default:
            return ""
        }
    };
    t.exports = function(t, e, n, a) {
        return e = e || "&",
        n = n || "=",
        null === t && (t = void 0),
        "object" == typeof t ? o(s(t), function(s) {
            var a = encodeURIComponent(r(s)) + n;
            return i(t[s]) ? o(t[s], function(t) {
                return a + encodeURIComponent(r(t))
            }).join(e) : a + encodeURIComponent(r(t[s]))
        }).join(e) : a ? encodeURIComponent(r(a)) + n + encodeURIComponent(r(t)) : ""
    }
    ;
    var i = Array.isArray || function(t) {
        return "[object Array]" === Object.prototype.toString.call(t)
    }
    ;
    function o(t, e) {
        if (t.map)
            return t.map(e);
        for (var n = [], r = 0; r < t.length; r++)
            n.push(e(t[r], r));
        return n
    }
    var s = Object.keys || function(t) {
        var e = [];
        for (var n in t)
            Object.prototype.hasOwnProperty.call(t, n) && e.push(n);
        return e
    }
}
, function(t, e, n) {
    "use strict";
    function r(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }
    t.exports = function(t, e, n, o) {
        e = e || "&",
        n = n || "=";
        var s = {};
        if ("string" != typeof t || 0 === t.length)
            return s;
        var a = /\+/g;
        t = t.split(e);
        var u = 1e3;
        o && "number" == typeof o.maxKeys && (u = o.maxKeys);
        var c = t.length;
        u > 0 && c > u && (c = u);
        for (var h = 0; h < c; ++h) {
            var l, f, p, d, y = t[h].replace(a, "%20"), m = y.indexOf(n);
            m >= 0 ? (l = y.substr(0, m),
            f = y.substr(m + 1)) : (l = y,
            f = ""),
            p = decodeURIComponent(l),
            d = decodeURIComponent(f),
            r(s, p) ? i(s[p]) ? s[p].push(d) : s[p] = [s[p], d] : s[p] = d
        }
        return s
    }
    ;
    var i = Array.isArray || function(t) {
        return "[object Array]" === Object.prototype.toString.call(t)
    }
}
, function(t, e, n) {
    "use strict";
    e.decode = e.parse = n(114),
    e.encode = e.stringify = n(113)
}
, function(t, e, n) {
    "use strict";
    t.exports = {
        isString: function(t) {
            return "string" == typeof t
        },
        isObject: function(t) {
            return "object" == typeof t && null !== t
        },
        isNull: function(t) {
            return null === t
        },
        isNullOrUndefined: function(t) {
            return null == t
        }
    }
}
, function(t, e) {
    t.exports = function(t) {
        return t.webpackPolyfill || (t.deprecate = function() {}
        ,
        t.paths = [],
        t.children || (t.children = []),
        Object.defineProperty(t, "loaded", {
            enumerable: !0,
            get: function() {
                return t.l
            }
        }),
        Object.defineProperty(t, "id", {
            enumerable: !0,
            get: function() {
                return t.i
            }
        }),
        t.webpackPolyfill = 1),
        t
    }
}
, function(t, e, n) {
    (function(t, r) {
        var i;
        /*! https://mths.be/punycode v1.3.2 by @mathias */
        !function(o) {
            "object" == typeof e && e && e.nodeType,
            "object" == typeof t && t && t.nodeType;
            var s = "object" == typeof r && r;
            s.global !== s && s.window !== s && s.self;
            var a, u = 2147483647, c = 36, h = 1, l = 26, f = 38, p = 700, d = 72, y = 128, m = "-", v = /^xn--/, g = /[^\x20-\x7E]/, b = /[\x2E\u3002\uFF0E\uFF61]/g, _ = {
                overflow: "Overflow: input needs wider integers to process",
                "not-basic": "Illegal input >= 0x80 (not a basic code point)",
                "invalid-input": "Invalid input"
            }, w = c - h, E = Math.floor, x = String.fromCharCode;
            function O(t) {
                throw RangeError(_[t])
            }
            function P(t, e) {
                for (var n = t.length, r = []; n--; )
                    r[n] = e(t[n]);
                return r
            }
            function S(t, e) {
                var n = t.split("@")
                  , r = "";
                return n.length > 1 && (r = n[0] + "@",
                t = n[1]),
                r + P((t = t.replace(b, ".")).split("."), e).join(".")
            }
            function R(t) {
                for (var e, n, r = [], i = 0, o = t.length; i < o; )
                    (e = t.charCodeAt(i++)) >= 55296 && e <= 56319 && i < o ? 56320 == (64512 & (n = t.charCodeAt(i++))) ? r.push(((1023 & e) << 10) + (1023 & n) + 65536) : (r.push(e),
                    i--) : r.push(e);
                return r
            }
            function M(t) {
                return P(t, function(t) {
                    var e = "";
                    return t > 65535 && (e += x((t -= 65536) >>> 10 & 1023 | 55296),
                    t = 56320 | 1023 & t),
                    e += x(t)
                }).join("")
            }
            function L(t, e) {
                return t + 22 + 75 * (t < 26) - ((0 != e) << 5)
            }
            function I(t, e, n) {
                var r = 0;
                for (t = n ? E(t / p) : t >> 1,
                t += E(t / e); t > w * l >> 1; r += c)
                    t = E(t / w);
                return E(r + (w + 1) * t / (t + f))
            }
            function A(t) {
                var e, n, r, i, o, s, a, f, p, v, g, b = [], _ = t.length, w = 0, x = y, P = d;
                for ((n = t.lastIndexOf(m)) < 0 && (n = 0),
                r = 0; r < n; ++r)
                    t.charCodeAt(r) >= 128 && O("not-basic"),
                    b.push(t.charCodeAt(r));
                for (i = n > 0 ? n + 1 : 0; i < _; ) {
                    for (o = w,
                    s = 1,
                    a = c; i >= _ && O("invalid-input"),
                    ((f = (g = t.charCodeAt(i++)) - 48 < 10 ? g - 22 : g - 65 < 26 ? g - 65 : g - 97 < 26 ? g - 97 : c) >= c || f > E((u - w) / s)) && O("overflow"),
                    w += f * s,
                    !(f < (p = a <= P ? h : a >= P + l ? l : a - P)); a += c)
                        s > E(u / (v = c - p)) && O("overflow"),
                        s *= v;
                    P = I(w - o, e = b.length + 1, 0 == o),
                    E(w / e) > u - x && O("overflow"),
                    x += E(w / e),
                    w %= e,
                    b.splice(w++, 0, x)
                }
                return M(b)
            }
            function T(t) {
                var e, n, r, i, o, s, a, f, p, v, g, b, _, w, P, S = [];
                for (b = (t = R(t)).length,
                e = y,
                n = 0,
                o = d,
                s = 0; s < b; ++s)
                    (g = t[s]) < 128 && S.push(x(g));
                for (r = i = S.length,
                i && S.push(m); r < b; ) {
                    for (a = u,
                    s = 0; s < b; ++s)
                        (g = t[s]) >= e && g < a && (a = g);
                    for (a - e > E((u - n) / (_ = r + 1)) && O("overflow"),
                    n += (a - e) * _,
                    e = a,
                    s = 0; s < b; ++s)
                        if ((g = t[s]) < e && ++n > u && O("overflow"),
                        g == e) {
                            for (f = n,
                            p = c; !(f < (v = p <= o ? h : p >= o + l ? l : p - o)); p += c)
                                P = f - v,
                                w = c - v,
                                S.push(x(L(v + P % w, 0))),
                                f = E(P / w);
                            S.push(x(L(f, 0))),
                            o = I(n, _, r == i),
                            n = 0,
                            ++r
                        }
                    ++n,
                    ++e
                }
                return S.join("")
            }
            a = {
                version: "1.3.2",
                ucs2: {
                    decode: R,
                    encode: M
                },
                decode: A,
                encode: T,
                toASCII: function(t) {
                    return S(t, function(t) {
                        return g.test(t) ? "xn--" + T(t) : t
                    })
                },
                toUnicode: function(t) {
                    return S(t, function(t) {
                        return v.test(t) ? A(t.slice(4).toLowerCase()) : t
                    })
                }
            },
            void 0 === (i = function() {
                return a
            }
            .call(e, n, e, t)) || (t.exports = i)
        }()
    }
    ).call(this, n(117)(t), n(67))
}
, function(t, e, n) {
    t.exports = n.p + "images/poweredByLogo.png"
}
, , function(t, e, n) {}
, function(t, e, n) {
    "use strict";
    n.r(e),
    n.d(e, "ProxyPolyfill", function() {
        return o
    }),
    n.d(e, "watchProxies", function() {
        return s
    });
    var r = function(t) {
        var e = "function" == typeof Symbol && t[Symbol.iterator]
          , n = 0;
        return e ? e.call(t) : {
            next: function() {
                return t && n >= t.length && (t = void 0),
                {
                    value: t && t[n++],
                    done: !t
                }
            }
        }
    }
      , i = [];
    function o(t, e) {
        var n = {}
          , o = {};
        function s(i, s) {
            void 0 === i && (i = n),
            void 0 === s && (s = !0);
            var a, u, c = Object.getOwnPropertyNames(i), h = function(r) {
                if (o[r])
                    return "continue";
                var i = n[r];
                Object.defineProperty(n, r, {
                    get: function() {
                        return e.get ? e.get(t, r, n) : t[r]
                    },
                    set: function(i) {
                        e.set ? e.set(t, r, i, n) : t[r] = i
                    }
                }),
                s && e.set(t, r, i, n),
                o[r] = !0
            };
            try {
                for (var l = r(c), f = l.next(); !f.done; f = l.next()) {
                    h(f.value)
                }
            } catch (t) {
                a = {
                    error: t
                }
            } finally {
                try {
                    f && !f.done && (u = l.return) && u.call(l)
                } finally {
                    if (a)
                        throw a.error
                }
            }
        }
        return s(t, !1),
        Object.setPrototypeOf(n, Object.getPrototypeOf(t)),
        i.push({
            target: t,
            update: s
        }),
        n
    }
    function s() {
        try {
            for (var t = r(i), e = t.next(); !e.done; e = t.next()) {
                e.value.update()
            }
        } catch (t) {
            n = {
                error: t
            }
        } finally {
            try {
                e && !e.done && (o = t.return) && o.call(t)
            } finally {
                if (n)
                    throw n.error
            }
        }
        var n, o
    }
    o.revocable = function() {
        throw Error("Proxy revoke not implemented")
    }
    ,
    window.Proxy || (window.Proxy = o,
    window.requestAnimationFrame(function t() {
        s(),
        window.requestAnimationFrame(t)
    }))
}
, function(t, e, n) {
    "use strict";
    t.exports = function(t) {
        return !!t && ("symbol" == typeof t || !!t.constructor && ("Symbol" === t.constructor.name && "Symbol" === t[t.constructor.toStringTag]))
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(123);
    t.exports = function(t) {
        if (!r(t))
            throw new TypeError(t + " is not a symbol");
        return t
    }
}
, function(t, e, n) {
    "use strict";
    var r = String.prototype.indexOf;
    t.exports = function(t) {
        return r.call(this, t, arguments[1]) > -1
    }
}
, function(t, e, n) {
    "use strict";
    var r = "razdwatrzy";
    t.exports = function() {
        return "function" == typeof r.contains && (!0 === r.contains("dwa") && !1 === r.contains("foo"))
    }
}
, function(t, e, n) {
    "use strict";
    t.exports = n(126)() ? String.prototype.contains : n(125)
}
, function(t, e, n) {
    "use strict";
    t.exports = function(t) {
        return "function" == typeof t
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(78)
      , i = Array.prototype.forEach
      , o = Object.create;
    t.exports = function(t) {
        var e = o(null);
        return i.call(arguments, function(t) {
            r(t) && function(t, e) {
                var n;
                for (n in t)
                    e[n] = t[n]
            }(Object(t), e)
        }),
        e
    }
}
, function(t, e, n) {
    "use strict";
    var r = n(78);
    t.exports = function(t) {
        if (!r(t))
            throw new TypeError("Cannot use null or undefined");
        return t
    }
}
, function(t, e, n) {
    "use strict";
    t.exports = function() {}
}
, function(t, e, n) {
    "use strict";
    var r = n(78)
      , i = Object.keys;
    t.exports = function(t) {
        return i(r(t) ? Object(t) : t)
    }
}
, function(t, e, n) {
    "use strict";
    t.exports = function() {
        try {
            return Object.keys("primitive"),
            !0
        } catch (t) {
            return !1
        }
    }
}
, function(t, e, n) {
    "use strict";
    t.exports = n(133)() ? Object.keys : n(132)
}
, function(t, e, n) {
    "use strict";
    var r = n(134)
      , i = n(130)
      , o = Math.max;
    t.exports = function(t, e) {
        var n, s, a, u = o(arguments.length, 2);
        for (t = Object(i(t)),
        a = function(r) {
            try {
                t[r] = e[r]
            } catch (t) {
                n || (n = t)
            }
        }
        ,
        s = 1; s < u; ++s)
            e = arguments[s],
            r(e).forEach(a);
        if (void 0 !== n)
            throw n;
        return t
    }
}
, function(t, e, n) {
    "use strict";
    t.exports = function() {
        var t, e = Object.assign;
        return "function" == typeof e && (e(t = {
            foo: "raz"
        }, {
            bar: "dwa"
        }, {
            trzy: "trzy"
        }),
        t.foo + t.bar + t.trzy === "razdwatrzy")
    }
}
, function(t, e, n) {
    "use strict";
    t.exports = n(136)() ? Object.assign : n(135)
}
, function(t, e, n) {
    "use strict";
    var r = n(137)
      , i = n(129)
      , o = n(128)
      , s = n(127);
    (t.exports = function(t, e) {
        var n, o, a, u, c;
        return arguments.length < 2 || "string" != typeof t ? (u = e,
        e = t,
        t = null) : u = arguments[2],
        null == t ? (n = a = !0,
        o = !1) : (n = s.call(t, "c"),
        o = s.call(t, "e"),
        a = s.call(t, "w")),
        c = {
            value: e,
            configurable: n,
            enumerable: o,
            writable: a
        },
        u ? r(i(u), c) : c
    }
    ).gs = function(t, e, n) {
        var a, u, c, h;
        return "string" != typeof t ? (c = n,
        n = e,
        e = t,
        t = null) : c = arguments[3],
        null == e ? e = void 0 : o(e) ? null == n ? n = void 0 : o(n) || (c = n,
        n = void 0) : (c = e,
        e = n = void 0),
        null == t ? (a = !0,
        u = !1) : (a = s.call(t, "c"),
        u = s.call(t, "e")),
        h = {
            get: e,
            set: n,
            configurable: a,
            enumerable: u
        },
        c ? r(i(c), h) : h
    }
}
, function(t, e, n) {
    "use strict";
    var r, i, o, s, a = n(138), u = n(124), c = Object.create, h = Object.defineProperties, l = Object.defineProperty, f = Object.prototype, p = c(null);
    if ("function" == typeof Symbol) {
        r = Symbol;
        try {
            String(r()),
            s = !0
        } catch (t) {}
    }
    var d, y = (d = c(null),
    function(t) {
        for (var e, n, r = 0; d[t + (r || "")]; )
            ++r;
        return d[t += r || ""] = !0,
        l(f, e = "@@" + t, a.gs(null, function(t) {
            n || (n = !0,
            l(this, e, a(t)),
            n = !1)
        })),
        e
    }
    );
    o = function(t) {
        if (this instanceof o)
            throw new TypeError("Symbol is not a constructor");
        return i(t)
    }
    ,
    t.exports = i = function t(e) {
        var n;
        if (this instanceof t)
            throw new TypeError("Symbol is not a constructor");
        return s ? r(e) : (n = c(o.prototype),
        e = void 0 === e ? "" : String(e),
        h(n, {
            __description__: a("", e),
            __name__: a("", y(e))
        }))
    }
    ,
    h(i, {
        for: a(function(t) {
            return p[t] ? p[t] : p[t] = i(String(t))
        }),
        keyFor: a(function(t) {
            var e;
            for (e in u(t),
            p)
                if (p[e] === t)
                    return e
        }),
        hasInstance: a("", r && r.hasInstance || i("hasInstance")),
        isConcatSpreadable: a("", r && r.isConcatSpreadable || i("isConcatSpreadable")),
        iterator: a("", r && r.iterator || i("iterator")),
        match: a("", r && r.match || i("match")),
        replace: a("", r && r.replace || i("replace")),
        search: a("", r && r.search || i("search")),
        species: a("", r && r.species || i("species")),
        split: a("", r && r.split || i("split")),
        toPrimitive: a("", r && r.toPrimitive || i("toPrimitive")),
        toStringTag: a("", r && r.toStringTag || i("toStringTag")),
        unscopables: a("", r && r.unscopables || i("unscopables"))
    }),
    h(o.prototype, {
        constructor: a(i),
        toString: a("", function() {
            return this.__name__
        })
    }),
    h(i.prototype, {
        toString: a(function() {
            return "Symbol (" + u(this).__description__ + ")"
        }),
        valueOf: a(function() {
            return u(this)
        })
    }),
    l(i.prototype, i.toPrimitive, a("", function() {
        var t = u(this);
        return "symbol" == typeof t ? t : t.toString()
    })),
    l(i.prototype, i.toStringTag, a("c", "Symbol")),
    l(o.prototype, i.toStringTag, a("c", i.prototype[i.toStringTag])),
    l(o.prototype, i.toPrimitive, a("c", i.prototype[i.toPrimitive]))
}
, function(t, e) {
    t.exports = function() {
        return this
    }()
}
, function(t, e, n) {
    "use strict";
    var r = {
        object: !0,
        symbol: !0
    };
    t.exports = function() {
        var t;
        if ("function" != typeof Symbol)
            return !1;
        t = Symbol("test symbol");
        try {
            String(t)
        } catch (t) {
            return !1
        }
        return !!r[typeof Symbol.iterator] && (!!r[typeof Symbol.toPrimitive] && !!r[typeof Symbol.toStringTag])
    }
}
, function(t, e, n) {
    "use strict";
    n(141)() || Object.defineProperty(n(140), "Symbol", {
        value: n(139),
        configurable: !0,
        enumerable: !1,
        writable: !0
    })
}
, function(t, e, n) {
    Math.sign || (Math.sign = function(t) {
        return t > 0 ? 1 : 0 === t ? 0 : -1
    }
    ),
    Number.parseInt || (Number.parseInt = window.parseInt),
    Number.parseFloat || (Number.parseFloat = window.parseFloat),
    String.prototype.includes || (String.prototype.includes = function(t, e) {
        "use strict";
        return "number" != typeof e && (e = 0),
        !(e + t.length > this.length) && -1 !== this.indexOf(t, e)
    }
    );
    var r = Object.keys;
    Object.keys = function(t) {
        switch (typeof t) {
        case "string":
            for (var e = [], n = 0; n < t.length; n++)
                e.push(n.toString());
            return e;
        case "boolean":
        case "number":
        case "function":
            return [];
        default:
            return r(t)
        }
    }
    ,
    Array.prototype.fill || Object.defineProperty(Array.prototype, "fill", {
        value: function(t) {
            if (null == this)
                throw new TypeError("this is null or not defined");
            for (var e = Object(this), n = e.length >>> 0, r = arguments[1] >> 0, i = r < 0 ? Math.max(n + r, 0) : Math.min(r, n), o = arguments[2], s = void 0 === o ? n : o >> 0, a = s < 0 ? Math.max(n + s, 0) : Math.min(s, n); i < a; )
                e[i] = t,
                i++;
            return e
        }
    }),
    "function" != typeof Object.assign && Object.defineProperty(Object, "assign", {
        value: function(t, e) {
            "use strict";
            if (null == t)
                throw new TypeError("Cannot convert undefined or null to object");
            for (var n = Object(t), r = 1; r < arguments.length; r++) {
                var i = arguments[r];
                if (null != i)
                    for (var o in i)
                        Object.prototype.hasOwnProperty.call(i, o) && (n[o] = i[o])
            }
            return n
        },
        writable: !0,
        configurable: !0
    }),
    Array.prototype.find || Object.defineProperty(Array.prototype, "find", {
        value: function(t) {
            if (null == this)
                throw new TypeError('"this" is null or not defined');
            var e = Object(this)
              , n = e.length >>> 0;
            if ("function" != typeof t)
                throw new TypeError("predicate must be a function");
            for (var r = arguments[1], i = 0; i < n; ) {
                var o = e[i];
                if (t.call(r, o, i, e))
                    return o;
                i++
            }
        }
    }),
    Array.prototype.findIndex || Object.defineProperty(Array.prototype, "findIndex", {
        value: function(t) {
            if (null == this)
                throw new TypeError('"this" is null or not defined');
            var e = Object(this)
              , n = e.length >>> 0;
            if ("function" != typeof t)
                throw new TypeError("predicate must be a function");
            for (var r = arguments[1], i = 0; i < n; ) {
                var o = e[i];
                if (t.call(r, o, i, e))
                    return i;
                i++
            }
            return -1
        }
    }),
    n(142),
    n(122)
}
, , , , , , , , , , , , , , , , , , , , , , , , , , , , function(t, e, n) {
    "use strict";
    n.r(e);
    var r = n(103)
      , i = n(85);
    window.addEventListener("app-start", function() {
        var t = new r.a
          , e = new i.a;

          window.G_APP = t;

        t.loadApplication(e)
    }, !0)
}
];


var func492 = function(e, t, i) {
    var r, n, s;
    /**
* @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
* Released under the Apache License, Version 2.0
* see: https://github.com/dcodeIO/long.js for details
*/
    n = [],
    void 0 === (s = "function" == typeof (r = function() {
        "use strict";
        function e(e, t, i) {
            this.low = 0 | e,
            this.high = 0 | t,
            this.unsigned = !!i
        }
        function t(e) {
            return !0 === (e && e.__isLong__)
        }
        e.prototype.__isLong__,
        Object.defineProperty(e.prototype, "__isLong__", {
            value: !0,
            enumerable: !1,
            configurable: !1
        }),
        e.isLong = t;
        var i = {}
          , r = {};
        function n(e, t) {
            var n, s, a;
            return t ? (a = 0 <= (e >>>= 0) && e < 256) && (s = r[e]) ? s : (n = o(e, (0 | e) < 0 ? -1 : 0, !0),
            a && (r[e] = n),
            n) : (a = -128 <= (e |= 0) && e < 128) && (s = i[e]) ? s : (n = o(e, e < 0 ? -1 : 0, !1),
            a && (i[e] = n),
            n)
        }
        function s(e, t) {
            if (isNaN(e) || !isFinite(e))
                return t ? d : g;
            if (t) {
                if (e < 0)
                    return d;
                if (e >= u)
                    return E
            } else {
                if (e <= -c)
                    return b;
                if (e + 1 >= c)
                    return m
            }
            return e < 0 ? s(-e, t).neg() : o(e % l | 0, e / l | 0, t)
        }
        function o(t, i, r) {
            return new e(t,i,r)
        }
        e.fromInt = n,
        e.fromNumber = s,
        e.fromBits = o;
        var a = Math.pow;
        function f(e, t, i) {
            if (0 === e.length)
                throw Error("empty string");
            if ("NaN" === e || "Infinity" === e || "+Infinity" === e || "-Infinity" === e)
                return g;
            if ("number" == typeof t ? (i = t,
            t = !1) : t = !!t,
            (i = i || 10) < 2 || 36 < i)
                throw RangeError("radix");
            var r;
            if ((r = e.indexOf("-")) > 0)
                throw Error("interior hyphen");
            if (0 === r)
                return f(e.substring(1), t, i).neg();
            for (var n = s(a(i, 8)), o = g, h = 0; h < e.length; h += 8) {
                var l = Math.min(8, e.length - h)
                  , u = parseInt(e.substring(h, h + l), i);
                if (l < 8) {
                    var c = s(a(i, l));
                    o = o.mul(c).add(s(u))
                } else
                    o = (o = o.mul(n)).add(s(u))
            }
            return o.unsigned = t,
            o
        }
        function h(t) {
            return t instanceof e ? t : "number" == typeof t ? s(t) : "string" == typeof t ? f(t) : o(t.low, t.high, t.unsigned)
        }
        e.fromString = f,
        e.fromValue = h;
        var l = 4294967296
          , u = l * l
          , c = u / 2
          , p = n(1 << 24)
          , g = n(0);
        e.ZERO = g;
        var d = n(0, !0);
        e.UZERO = d;
        var y = n(1);
        e.ONE = y;
        var v = n(1, !0);
        e.UONE = v;
        var w = n(-1);
        e.NEG_ONE = w;
        var m = o(-1, 2147483647, !1);
        e.MAX_VALUE = m;
        var E = o(-1, -1, !0);
        e.MAX_UNSIGNED_VALUE = E;
        var b = o(0, -2147483648, !1);
        e.MIN_VALUE = b;
        var T = e.prototype;
        return T.toInt = function() {
            return this.unsigned ? this.low >>> 0 : this.low
        }
        ,
        T.toNumber = function() {
            return this.unsigned ? (this.high >>> 0) * l + (this.low >>> 0) : this.high * l + (this.low >>> 0)
        }
        ,
        T.toString = function(e) {
            if ((e = e || 10) < 2 || 36 < e)
                throw RangeError("radix");
            if (this.isZero())
                return "0";
            if (this.isNegative()) {
                if (this.eq(b)) {
                    var t = s(e)
                      , i = this.div(t)
                      , r = i.mul(t).sub(this);
                    return i.toString(e) + r.toInt().toString(e)
                }
                return "-" + this.neg().toString(e)
            }
            for (var n = s(a(e, 6), this.unsigned), o = this, f = ""; ; ) {
                var h = o.div(n)
                  , l = (o.sub(h.mul(n)).toInt() >>> 0).toString(e);
                if ((o = h).isZero())
                    return l + f;
                for (; l.length < 6; )
                    l = "0" + l;
                f = "" + l + f
            }
        }
        ,
        T.getHighBits = function() {
            return this.high
        }
        ,
        T.getHighBitsUnsigned = function() {
            return this.high >>> 0
        }
        ,
        T.getLowBits = function() {
            return this.low
        }
        ,
        T.getLowBitsUnsigned = function() {
            return this.low >>> 0
        }
        ,
        T.getNumBitsAbs = function() {
            if (this.isNegative())
                return this.eq(b) ? 64 : this.neg().getNumBitsAbs();
            for (var e = 0 != this.high ? this.high : this.low, t = 31; t > 0 && 0 == (e & 1 << t); t--)
                ;
            return 0 != this.high ? t + 33 : t + 1
        }
        ,
        T.isZero = function() {
            return 0 === this.high && 0 === this.low
        }
        ,
        T.isNegative = function() {
            return !this.unsigned && this.high < 0
        }
        ,
        T.isPositive = function() {
            return this.unsigned || this.high >= 0
        }
        ,
        T.isOdd = function() {
            return 1 == (1 & this.low)
        }
        ,
        T.isEven = function() {
            return 0 == (1 & this.low)
        }
        ,
        T.equals = function(e) {
            return t(e) || (e = h(e)),
            (this.unsigned === e.unsigned || this.high >>> 31 != 1 || e.high >>> 31 != 1) && this.high === e.high && this.low === e.low
        }
        ,
        T.eq = T.equals,
        T.notEquals = function(e) {
            return !this.eq(e)
        }
        ,
        T.neq = T.notEquals,
        T.lessThan = function(e) {
            return this.comp(e) < 0
        }
        ,
        T.lt = T.lessThan,
        T.lessThanOrEqual = function(e) {
            return this.comp(e) <= 0
        }
        ,
        T.lte = T.lessThanOrEqual,
        T.greaterThan = function(e) {
            return this.comp(e) > 0
        }
        ,
        T.gt = T.greaterThan,
        T.greaterThanOrEqual = function(e) {
            return this.comp(e) >= 0
        }
        ,
        T.gte = T.greaterThanOrEqual,
        T.compare = function(e) {
            if (t(e) || (e = h(e)),
            this.eq(e))
                return 0;
            var i = this.isNegative()
              , r = e.isNegative();
            return i && !r ? -1 : !i && r ? 1 : this.unsigned ? e.high >>> 0 > this.high >>> 0 || e.high === this.high && e.low >>> 0 > this.low >>> 0 ? -1 : 1 : this.sub(e).isNegative() ? -1 : 1
        }
        ,
        T.comp = T.compare,
        T.negate = function() {
            return !this.unsigned && this.eq(b) ? b : this.not().add(y)
        }
        ,
        T.neg = T.negate,
        T.add = function(e) {
            t(e) || (e = h(e));
            var i = this.high >>> 16
              , r = 65535 & this.high
              , n = this.low >>> 16
              , s = 65535 & this.low
              , a = e.high >>> 16
              , f = 65535 & e.high
              , l = e.low >>> 16
              , u = 0
              , c = 0
              , p = 0
              , g = 0;
            return p += (g += s + (65535 & e.low)) >>> 16,
            c += (p += n + l) >>> 16,
            u += (c += r + f) >>> 16,
            u += i + a,
            o((p &= 65535) << 16 | (g &= 65535), (u &= 65535) << 16 | (c &= 65535), this.unsigned)
        }
        ,
        T.subtract = function(e) {
            return t(e) || (e = h(e)),
            this.add(e.neg())
        }
        ,
        T.sub = T.subtract,
        T.multiply = function(e) {
            if (this.isZero())
                return g;
            if (t(e) || (e = h(e)),
            e.isZero())
                return g;
            if (this.eq(b))
                return e.isOdd() ? b : g;
            if (e.eq(b))
                return this.isOdd() ? b : g;
            if (this.isNegative())
                return e.isNegative() ? this.neg().mul(e.neg()) : this.neg().mul(e).neg();
            if (e.isNegative())
                return this.mul(e.neg()).neg();
            if (this.lt(p) && e.lt(p))
                return s(this.toNumber() * e.toNumber(), this.unsigned);
            var i = this.high >>> 16
              , r = 65535 & this.high
              , n = this.low >>> 16
              , a = 65535 & this.low
              , f = e.high >>> 16
              , l = 65535 & e.high
              , u = e.low >>> 16
              , c = 65535 & e.low
              , d = 0
              , y = 0
              , v = 0
              , w = 0;
            return v += (w += a * c) >>> 16,
            y += (v += n * c) >>> 16,
            v &= 65535,
            y += (v += a * u) >>> 16,
            d += (y += r * c) >>> 16,
            y &= 65535,
            d += (y += n * u) >>> 16,
            y &= 65535,
            d += (y += a * l) >>> 16,
            d += i * c + r * u + n * l + a * f,
            o((v &= 65535) << 16 | (w &= 65535), (d &= 65535) << 16 | (y &= 65535), this.unsigned)
        }
        ,
        T.mul = T.multiply,
        T.divide = function(e) {
            if (t(e) || (e = h(e)),
            e.isZero())
                throw Error("division by zero");
            if (this.isZero())
                return this.unsigned ? d : g;
            var i, r, n;
            if (this.unsigned) {
                if (e.unsigned || (e = e.toUnsigned()),
                e.gt(this))
                    return d;
                if (e.gt(this.shru(1)))
                    return v;
                n = d
            } else {
                if (this.eq(b))
                    return e.eq(y) || e.eq(w) ? b : e.eq(b) ? y : (i = this.shr(1).div(e).shl(1)).eq(g) ? e.isNegative() ? y : w : (r = this.sub(e.mul(i)),
                    n = i.add(r.div(e)));
                if (e.eq(b))
                    return this.unsigned ? d : g;
                if (this.isNegative())
                    return e.isNegative() ? this.neg().div(e.neg()) : this.neg().div(e).neg();
                if (e.isNegative())
                    return this.div(e.neg()).neg();
                n = g
            }
            for (r = this; r.gte(e); ) {
                i = Math.max(1, Math.floor(r.toNumber() / e.toNumber()));
                for (var o = Math.ceil(Math.log(i) / Math.LN2), f = o <= 48 ? 1 : a(2, o - 48), l = s(i), u = l.mul(e); u.isNegative() || u.gt(r); )
                    u = (l = s(i -= f, this.unsigned)).mul(e);
                l.isZero() && (l = y),
                n = n.add(l),
                r = r.sub(u)
            }
            return n
        }
        ,
        T.div = T.divide,
        T.modulo = function(e) {
            return t(e) || (e = h(e)),
            this.sub(this.div(e).mul(e))
        }
        ,
        T.mod = T.modulo,
        T.not = function() {
            return o(~this.low, ~this.high, this.unsigned)
        }
        ,
        T.and = function(e) {
            return t(e) || (e = h(e)),
            o(this.low & e.low, this.high & e.high, this.unsigned)
        }
        ,
        T.or = function(e) {
            return t(e) || (e = h(e)),
            o(this.low | e.low, this.high | e.high, this.unsigned)
        }
        ,
        T.xor = function(e) {
            return t(e) || (e = h(e)),
            o(this.low ^ e.low, this.high ^ e.high, this.unsigned)
        }
        ,
        T.shiftLeft = function(e) {
            return t(e) && (e = e.toInt()),
            0 == (e &= 63) ? this : e < 32 ? o(this.low << e, this.high << e | this.low >>> 32 - e, this.unsigned) : o(0, this.low << e - 32, this.unsigned)
        }
        ,
        T.shl = T.shiftLeft,
        T.shiftRight = function(e) {
            return t(e) && (e = e.toInt()),
            0 == (e &= 63) ? this : e < 32 ? o(this.low >>> e | this.high << 32 - e, this.high >> e, this.unsigned) : o(this.high >> e - 32, this.high >= 0 ? 0 : -1, this.unsigned)
        }
        ,
        T.shr = T.shiftRight,
        T.shiftRightUnsigned = function(e) {
            if (t(e) && (e = e.toInt()),
            0 == (e &= 63))
                return this;
            var i = this.high;
            return e < 32 ? o(this.low >>> e | i << 32 - e, i >>> e, this.unsigned) : o(32 === e ? i : i >>> e - 32, 0, this.unsigned)
        }
        ,
        T.shru = T.shiftRightUnsigned,
        T.toSigned = function() {
            return this.unsigned ? o(this.low, this.high, !1) : this
        }
        ,
        T.toUnsigned = function() {
            return this.unsigned ? this : o(this.low, this.high, !0)
        }
        ,
        T.toBytes = function(e) {
            return e ? this.toBytesLE() : this.toBytesBE()
        }
        ,
        T.toBytesLE = function() {
            var e = this.high
              , t = this.low;
            return [255 & t, t >>> 8 & 255, t >>> 16 & 255, t >>> 24 & 255, 255 & e, e >>> 8 & 255, e >>> 16 & 255, e >>> 24 & 255]
        }
        ,
        T.toBytesBE = function() {
            var e = this.high
              , t = this.low;
            return [e >>> 24 & 255, e >>> 16 & 255, e >>> 8 & 255, 255 & e, t >>> 24 & 255, t >>> 16 & 255, t >>> 8 & 255, 255 & t]
        }
        ,
        e
    }
    ) ? r.apply(t, n) : r) || (e.exports = s)
};

var func493 = function(e, t, i) {
        var r, n, s;
        /**
 * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
 * Backing buffer: ArrayBuffer, Accessor: Uint8Array
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bytebuffer.js for details
 */
        n = [i(492)],
        void 0 === (s = "function" == typeof (r = function(e) {
            "use strict";
            var t = function(e, i, n) {
                if (void 0 === e && (e = t.DEFAULT_CAPACITY),
                void 0 === i && (i = t.DEFAULT_ENDIAN),
                void 0 === n && (n = t.DEFAULT_NOASSERT),
                !n) {
                    if ((e |= 0) < 0)
                        throw RangeError("Illegal capacity");
                    i = !!i,
                    n = !!n
                }
                this.buffer = 0 === e ? r : new ArrayBuffer(e),
                this.view = 0 === e ? null : new Uint8Array(this.buffer),
                this.offset = 0,
                this.markedOffset = -1,
                this.limit = e,
                this.littleEndian = i,
                this.noAssert = n
            };
            t.VERSION = "5.0.1",
            t.LITTLE_ENDIAN = !0,
            t.BIG_ENDIAN = !1,
            t.DEFAULT_CAPACITY = 16,
            t.DEFAULT_ENDIAN = t.BIG_ENDIAN,
            t.DEFAULT_NOASSERT = !1,
            t.Long = e || null;
            var i = t.prototype;
            i.__isByteBuffer__,
            Object.defineProperty(i, "__isByteBuffer__", {
                value: !0,
                enumerable: !1,
                configurable: !1
            });
            var r = new ArrayBuffer(0)
              , n = String.fromCharCode;
            function s(e) {
                var t = 0;
                return function() {
                    return t < e.length ? e.charCodeAt(t++) : null
                }
            }
            function o() {
                var e = []
                  , t = [];
                return function() {
                    if (0 === arguments.length)
                        return t.join("") + n.apply(String, e);
                    e.length + arguments.length > 1024 && (t.push(n.apply(String, e)),
                    e.length = 0),
                    Array.prototype.push.apply(e, arguments)
                }
            }
            function a(e, t, i, r, n) {
                var s, o, a = 8 * n - r - 1, f = (1 << a) - 1, h = f >> 1, l = -7, u = i ? n - 1 : 0, c = i ? -1 : 1, p = e[t + u];
                for (u += c,
                s = p & (1 << -l) - 1,
                p >>= -l,
                l += a; l > 0; s = 256 * s + e[t + u],
                u += c,
                l -= 8)
                    ;
                for (o = s & (1 << -l) - 1,
                s >>= -l,
                l += r; l > 0; o = 256 * o + e[t + u],
                u += c,
                l -= 8)
                    ;
                if (0 === s)
                    s = 1 - h;
                else {
                    if (s === f)
                        return o ? NaN : 1 / 0 * (p ? -1 : 1);
                    o += Math.pow(2, r),
                    s -= h
                }
                return (p ? -1 : 1) * o * Math.pow(2, s - r)
            }
            function f(e, t, i, r, n, s) {
                var o, a, f, h = 8 * s - n - 1, l = (1 << h) - 1, u = l >> 1, c = 23 === n ? Math.pow(2, -24) - Math.pow(2, -77) : 0, p = r ? 0 : s - 1, g = r ? 1 : -1, d = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
                for (t = Math.abs(t),
                isNaN(t) || t === 1 / 0 ? (a = isNaN(t) ? 1 : 0,
                o = l) : (o = Math.floor(Math.log(t) / Math.LN2),
                t * (f = Math.pow(2, -o)) < 1 && (o--,
                f *= 2),
                (t += o + u >= 1 ? c / f : c * Math.pow(2, 1 - u)) * f >= 2 && (o++,
                f /= 2),
                o + u >= l ? (a = 0,
                o = l) : o + u >= 1 ? (a = (t * f - 1) * Math.pow(2, n),
                o += u) : (a = t * Math.pow(2, u - 1) * Math.pow(2, n),
                o = 0)); n >= 8; e[i + p] = 255 & a,
                p += g,
                a /= 256,
                n -= 8)
                    ;
                for (o = o << n | a,
                h += n; h > 0; e[i + p] = 255 & o,
                p += g,
                o /= 256,
                h -= 8)
                    ;
                e[i + p - g] |= 128 * d
            }
            t.accessor = function() {
                return Uint8Array
            }
            ,
            t.allocate = function(e, i, r) {
                return new t(e,i,r)
            }
            ,
            t.concat = function(e, i, r, n) {
                "boolean" != typeof i && "string" == typeof i || (n = r,
                r = i,
                i = void 0);
                for (var s, o = 0, a = 0, f = e.length; a < f; ++a)
                    t.isByteBuffer(e[a]) || (e[a] = t.wrap(e[a], i)),
                    (s = e[a].limit - e[a].offset) > 0 && (o += s);
                if (0 === o)
                    return new t(0,r,n);
                var h, l = new t(o,r,n);
                for (a = 0; a < f; )
                    (s = (h = e[a++]).limit - h.offset) <= 0 || (l.view.set(h.view.subarray(h.offset, h.limit), l.offset),
                    l.offset += s);
                return l.limit = l.offset,
                l.offset = 0,
                l
            }
            ,
            t.isByteBuffer = function(e) {
                return !0 === (e && e.__isByteBuffer__)
            }
            ,
            t.type = function() {
                return ArrayBuffer
            }
            ,
            t.wrap = function(e, r, n, s) {
                if ("string" != typeof r && (s = n,
                n = r,
                r = void 0),
                "string" == typeof e)
                    switch (void 0 === r && (r = "utf8"),
                    r) {
                    case "base64":
                        return t.fromBase64(e, n);
                    case "hex":
                        return t.fromHex(e, n);
                    case "binary":
                        return t.fromBinary(e, n);
                    case "utf8":
                        return t.fromUTF8(e, n);
                    case "debug":
                        return t.fromDebug(e, n);
                    default:
                        throw Error("Unsupported encoding: " + r)
                    }
                if (null === e || "object" != typeof e)
                    throw TypeError("Illegal buffer");
                var o;
                if (t.isByteBuffer(e))
                    return (o = i.clone.call(e)).markedOffset = -1,
                    o;
                if (e instanceof Uint8Array)
                    o = new t(0,n,s),
                    e.length > 0 && (o.buffer = e.buffer,
                    o.offset = e.byteOffset,
                    o.limit = e.byteOffset + e.byteLength,
                    o.view = new Uint8Array(e.buffer));
                else if (e instanceof ArrayBuffer)
                    o = new t(0,n,s),
                    e.byteLength > 0 && (o.buffer = e,
                    o.offset = 0,
                    o.limit = e.byteLength,
                    o.view = e.byteLength > 0 ? new Uint8Array(e) : null);
                else {
                    if ("[object Array]" !== Object.prototype.toString.call(e))
                        throw TypeError("Illegal buffer");
                    (o = new t(e.length,n,s)).limit = e.length;
                    for (var a = 0; a < e.length; ++a)
                        o.view[a] = e[a]
                }
                return o
            }
            ,
            i.writeBitSet = function(e, t) {
                var i = void 0 === t;
                if (i && (t = this.offset),
                !this.noAssert) {
                    if (!(e instanceof Array))
                        throw TypeError("Illegal BitSet: Not an array");
                    if ("number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                }
                var r, n = t, s = e.length, o = s >> 3, a = 0;
                for (t += this.writeVarint32(s, t); o--; )
                    r = 1 & !!e[a++] | (1 & !!e[a++]) << 1 | (1 & !!e[a++]) << 2 | (1 & !!e[a++]) << 3 | (1 & !!e[a++]) << 4 | (1 & !!e[a++]) << 5 | (1 & !!e[a++]) << 6 | (1 & !!e[a++]) << 7,
                    this.writeByte(r, t++);
                if (a < s) {
                    var f = 0;
                    for (r = 0; a < s; )
                        r |= (1 & !!e[a++]) << f++;
                    this.writeByte(r, t++)
                }
                return i ? (this.offset = t,
                this) : t - n
            }
            ,
            i.readBitSet = function(e) {
                var t = void 0 === e;
                t && (e = this.offset);
                var i, r = this.readVarint32(e), n = r.value, s = n >> 3, o = 0, a = [];
                for (e += r.length; s--; )
                    i = this.readByte(e++),
                    a[o++] = !!(1 & i),
                    a[o++] = !!(2 & i),
                    a[o++] = !!(4 & i),
                    a[o++] = !!(8 & i),
                    a[o++] = !!(16 & i),
                    a[o++] = !!(32 & i),
                    a[o++] = !!(64 & i),
                    a[o++] = !!(128 & i);
                if (o < n) {
                    var f = 0;
                    for (i = this.readByte(e++); o < n; )
                        a[o++] = !!(i >> f++ & 1)
                }
                return t && (this.offset = e),
                a
            }
            ,
            i.readBytes = function(e, t) {
                var i = void 0 === t;
                if (i && (t = this.offset),
                !this.noAssert) {
                    if ("number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + e > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+" + e + ") <= " + this.buffer.byteLength)
                }
                var r = this.slice(t, t + e);
                return i && (this.offset += e),
                r
            }
            ,
            i.writeBytes = i.append,
            i.writeInt8 = function(e, t) {
                var i = void 0 === t;
                if (i && (t = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal value: " + e + " (not an integer)");
                    if (e |= 0,
                    "number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                }
                t += 1;
                var r = this.buffer.byteLength;
                return t > r && this.resize((r *= 2) > t ? r : t),
                t -= 1,
                this.view[t] = e,
                i && (this.offset += 1),
                this
            }
            ,
            i.writeByte = i.writeInt8,
            i.readInt8 = function(e) {
                var t = void 0 === e;
                if (t && (e = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal offset: " + e + " (not an integer)");
                    if ((e >>>= 0) < 0 || e + 1 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + e + " (+1) <= " + this.buffer.byteLength)
                }
                var i = this.view[e];
                return 128 == (128 & i) && (i = -(255 - i + 1)),
                t && (this.offset += 1),
                i
            }
            ,
            i.readByte = i.readInt8,
            i.writeUint8 = function(e, t) {
                var i = void 0 === t;
                if (i && (t = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal value: " + e + " (not an integer)");
                    if (e >>>= 0,
                    "number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                }
                t += 1;
                var r = this.buffer.byteLength;
                return t > r && this.resize((r *= 2) > t ? r : t),
                t -= 1,
                this.view[t] = e,
                i && (this.offset += 1),
                this
            }
            ,
            i.writeUInt8 = i.writeUint8,
            i.readUint8 = function(e) {
                var t = void 0 === e;
                if (t && (e = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal offset: " + e + " (not an integer)");
                    if ((e >>>= 0) < 0 || e + 1 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + e + " (+1) <= " + this.buffer.byteLength)
                }
                var i = this.view[e];
                return t && (this.offset += 1),
                i
            }
            ,
            i.readUInt8 = i.readUint8,
            i.writeInt16 = function(e, t) {
                var i = void 0 === t;
                if (i && (t = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal value: " + e + " (not an integer)");
                    if (e |= 0,
                    "number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                }
                t += 2;
                var r = this.buffer.byteLength;
                return t > r && this.resize((r *= 2) > t ? r : t),
                t -= 2,
                this.littleEndian ? (this.view[t + 1] = (65280 & e) >>> 8,
                this.view[t] = 255 & e) : (this.view[t] = (65280 & e) >>> 8,
                this.view[t + 1] = 255 & e),
                i && (this.offset += 2),
                this
            }
            ,
            i.writeShort = i.writeInt16,
            i.readInt16 = function(e) {
                var t = void 0 === e;
                if (t && (e = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal offset: " + e + " (not an integer)");
                    if ((e >>>= 0) < 0 || e + 2 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + e + " (+2) <= " + this.buffer.byteLength)
                }
                var i = 0;
                return this.littleEndian ? (i = this.view[e],
                i |= this.view[e + 1] << 8) : (i = this.view[e] << 8,
                i |= this.view[e + 1]),
                32768 == (32768 & i) && (i = -(65535 - i + 1)),
                t && (this.offset += 2),
                i
            }
            ,
            i.readShort = i.readInt16,
            i.writeUint16 = function(e, t) {
                var i = void 0 === t;
                if (i && (t = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal value: " + e + " (not an integer)");
                    if (e >>>= 0,
                    "number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                }
                t += 2;
                var r = this.buffer.byteLength;
                return t > r && this.resize((r *= 2) > t ? r : t),
                t -= 2,
                this.littleEndian ? (this.view[t + 1] = (65280 & e) >>> 8,
                this.view[t] = 255 & e) : (this.view[t] = (65280 & e) >>> 8,
                this.view[t + 1] = 255 & e),
                i && (this.offset += 2),
                this
            }
            ,
            i.writeUInt16 = i.writeUint16,
            i.readUint16 = function(e) {
                var t = void 0 === e;
                if (t && (e = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal offset: " + e + " (not an integer)");
                    if ((e >>>= 0) < 0 || e + 2 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + e + " (+2) <= " + this.buffer.byteLength)
                }
                var i = 0;
                return this.littleEndian ? (i = this.view[e],
                i |= this.view[e + 1] << 8) : (i = this.view[e] << 8,
                i |= this.view[e + 1]),
                t && (this.offset += 2),
                i
            }
            ,
            i.readUInt16 = i.readUint16,
            i.writeInt32 = function(e, t) {
                var i = void 0 === t;
                if (i && (t = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal value: " + e + " (not an integer)");
                    if (e |= 0,
                    "number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                }
                t += 4;
                var r = this.buffer.byteLength;
                return t > r && this.resize((r *= 2) > t ? r : t),
                t -= 4,
                this.littleEndian ? (this.view[t + 3] = e >>> 24 & 255,
                this.view[t + 2] = e >>> 16 & 255,
                this.view[t + 1] = e >>> 8 & 255,
                this.view[t] = 255 & e) : (this.view[t] = e >>> 24 & 255,
                this.view[t + 1] = e >>> 16 & 255,
                this.view[t + 2] = e >>> 8 & 255,
                this.view[t + 3] = 255 & e),
                i && (this.offset += 4),
                this
            }
            ,
            i.writeInt = i.writeInt32,
            i.readInt32 = function(e) {
                var t = void 0 === e;
                if (t && (e = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal offset: " + e + " (not an integer)");
                    if ((e >>>= 0) < 0 || e + 4 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + e + " (+4) <= " + this.buffer.byteLength)
                }
                var i = 0;
                return this.littleEndian ? (i = this.view[e + 2] << 16,
                i |= this.view[e + 1] << 8,
                i |= this.view[e],
                i += this.view[e + 3] << 24 >>> 0) : (i = this.view[e + 1] << 16,
                i |= this.view[e + 2] << 8,
                i |= this.view[e + 3],
                i += this.view[e] << 24 >>> 0),
                i |= 0,
                t && (this.offset += 4),
                i
            }
            ,
            i.readInt = i.readInt32,
            i.writeUint32 = function(e, t) {
                var i = void 0 === t;
                if (i && (t = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal value: " + e + " (not an integer)");
                    if (e >>>= 0,
                    "number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                }
                t += 4;
                var r = this.buffer.byteLength;
                return t > r && this.resize((r *= 2) > t ? r : t),
                t -= 4,
                this.littleEndian ? (this.view[t + 3] = e >>> 24 & 255,
                this.view[t + 2] = e >>> 16 & 255,
                this.view[t + 1] = e >>> 8 & 255,
                this.view[t] = 255 & e) : (this.view[t] = e >>> 24 & 255,
                this.view[t + 1] = e >>> 16 & 255,
                this.view[t + 2] = e >>> 8 & 255,
                this.view[t + 3] = 255 & e),
                i && (this.offset += 4),
                this
            }
            ,
            i.writeUInt32 = i.writeUint32,
            i.readUint32 = function(e) {
                var t = void 0 === e;
                if (t && (e = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal offset: " + e + " (not an integer)");
                    if ((e >>>= 0) < 0 || e + 4 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + e + " (+4) <= " + this.buffer.byteLength)
                }
                var i = 0;
                return this.littleEndian ? (i = this.view[e + 2] << 16,
                i |= this.view[e + 1] << 8,
                i |= this.view[e],
                i += this.view[e + 3] << 24 >>> 0) : (i = this.view[e + 1] << 16,
                i |= this.view[e + 2] << 8,
                i |= this.view[e + 3],
                i += this.view[e] << 24 >>> 0),
                t && (this.offset += 4),
                i
            }
            ,
            i.readUInt32 = i.readUint32,
            e && (i.writeInt64 = function(t, i) {
                var r = void 0 === i;
                if (r && (i = this.offset),
                !this.noAssert) {
                    if ("number" == typeof t)
                        t = e.fromNumber(t);
                    else if ("string" == typeof t)
                        t = e.fromString(t);
                    else if (!(t && t instanceof e))
                        throw TypeError("Illegal value: " + t + " (not an integer or Long)");
                    if ("number" != typeof i || i % 1 != 0)
                        throw TypeError("Illegal offset: " + i + " (not an integer)");
                    if ((i >>>= 0) < 0 || i + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + i + " (+0) <= " + this.buffer.byteLength)
                }
                "number" == typeof t ? t = e.fromNumber(t) : "string" == typeof t && (t = e.fromString(t)),
                i += 8;
                var n = this.buffer.byteLength;
                i > n && this.resize((n *= 2) > i ? n : i),
                i -= 8;
                var s = t.low
                  , o = t.high;
                return this.littleEndian ? (this.view[i + 3] = s >>> 24 & 255,
                this.view[i + 2] = s >>> 16 & 255,
                this.view[i + 1] = s >>> 8 & 255,
                this.view[i] = 255 & s,
                i += 4,
                this.view[i + 3] = o >>> 24 & 255,
                this.view[i + 2] = o >>> 16 & 255,
                this.view[i + 1] = o >>> 8 & 255,
                this.view[i] = 255 & o) : (this.view[i] = o >>> 24 & 255,
                this.view[i + 1] = o >>> 16 & 255,
                this.view[i + 2] = o >>> 8 & 255,
                this.view[i + 3] = 255 & o,
                i += 4,
                this.view[i] = s >>> 24 & 255,
                this.view[i + 1] = s >>> 16 & 255,
                this.view[i + 2] = s >>> 8 & 255,
                this.view[i + 3] = 255 & s),
                r && (this.offset += 8),
                this
            }
            ,
            i.writeLong = i.writeInt64,
            i.readInt64 = function(t) {
                var i = void 0 === t;
                if (i && (t = this.offset),
                !this.noAssert) {
                    if ("number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + 8 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+8) <= " + this.buffer.byteLength)
                }
                var r = 0
                  , n = 0;
                this.littleEndian ? (r = this.view[t + 2] << 16,
                r |= this.view[t + 1] << 8,
                r |= this.view[t],
                r += this.view[t + 3] << 24 >>> 0,
                t += 4,
                n = this.view[t + 2] << 16,
                n |= this.view[t + 1] << 8,
                n |= this.view[t],
                n += this.view[t + 3] << 24 >>> 0) : (n = this.view[t + 1] << 16,
                n |= this.view[t + 2] << 8,
                n |= this.view[t + 3],
                n += this.view[t] << 24 >>> 0,
                t += 4,
                r = this.view[t + 1] << 16,
                r |= this.view[t + 2] << 8,
                r |= this.view[t + 3],
                r += this.view[t] << 24 >>> 0);
                var s = new e(r,n,!1);
                return i && (this.offset += 8),
                s
            }
            ,
            i.readLong = i.readInt64,
            i.writeUint64 = function(t, i) {
                var r = void 0 === i;
                if (r && (i = this.offset),
                !this.noAssert) {
                    if ("number" == typeof t)
                        t = e.fromNumber(t);
                    else if ("string" == typeof t)
                        t = e.fromString(t);
                    else if (!(t && t instanceof e))
                        throw TypeError("Illegal value: " + t + " (not an integer or Long)");
                    if ("number" != typeof i || i % 1 != 0)
                        throw TypeError("Illegal offset: " + i + " (not an integer)");
                    if ((i >>>= 0) < 0 || i + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + i + " (+0) <= " + this.buffer.byteLength)
                }
                "number" == typeof t ? t = e.fromNumber(t) : "string" == typeof t && (t = e.fromString(t)),
                i += 8;
                var n = this.buffer.byteLength;
                i > n && this.resize((n *= 2) > i ? n : i),
                i -= 8;
                var s = t.low
                  , o = t.high;
                return this.littleEndian ? (this.view[i + 3] = s >>> 24 & 255,
                this.view[i + 2] = s >>> 16 & 255,
                this.view[i + 1] = s >>> 8 & 255,
                this.view[i] = 255 & s,
                i += 4,
                this.view[i + 3] = o >>> 24 & 255,
                this.view[i + 2] = o >>> 16 & 255,
                this.view[i + 1] = o >>> 8 & 255,
                this.view[i] = 255 & o) : (this.view[i] = o >>> 24 & 255,
                this.view[i + 1] = o >>> 16 & 255,
                this.view[i + 2] = o >>> 8 & 255,
                this.view[i + 3] = 255 & o,
                i += 4,
                this.view[i] = s >>> 24 & 255,
                this.view[i + 1] = s >>> 16 & 255,
                this.view[i + 2] = s >>> 8 & 255,
                this.view[i + 3] = 255 & s),
                r && (this.offset += 8),
                this
            }
            ,
            i.writeUInt64 = i.writeUint64,
            i.readUint64 = function(t) {
                var i = void 0 === t;
                if (i && (t = this.offset),
                !this.noAssert) {
                    if ("number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + 8 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+8) <= " + this.buffer.byteLength)
                }
                var r = 0
                  , n = 0;
                this.littleEndian ? (r = this.view[t + 2] << 16,
                r |= this.view[t + 1] << 8,
                r |= this.view[t],
                r += this.view[t + 3] << 24 >>> 0,
                t += 4,
                n = this.view[t + 2] << 16,
                n |= this.view[t + 1] << 8,
                n |= this.view[t],
                n += this.view[t + 3] << 24 >>> 0) : (n = this.view[t + 1] << 16,
                n |= this.view[t + 2] << 8,
                n |= this.view[t + 3],
                n += this.view[t] << 24 >>> 0,
                t += 4,
                r = this.view[t + 1] << 16,
                r |= this.view[t + 2] << 8,
                r |= this.view[t + 3],
                r += this.view[t] << 24 >>> 0);
                var s = new e(r,n,!0);
                return i && (this.offset += 8),
                s
            }
            ,
            i.readUInt64 = i.readUint64),
            i.writeFloat32 = function(e, t) {
                var i = void 0 === t;
                if (i && (t = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e)
                        throw TypeError("Illegal value: " + e + " (not a number)");
                    if ("number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                }
                t += 4;
                var r = this.buffer.byteLength;
                return t > r && this.resize((r *= 2) > t ? r : t),
                t -= 4,
                f(this.view, e, t, this.littleEndian, 23, 4),
                i && (this.offset += 4),
                this
            }
            ,
            i.writeFloat = i.writeFloat32,
            i.readFloat32 = function(e) {
                var t = void 0 === e;
                if (t && (e = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal offset: " + e + " (not an integer)");
                    if ((e >>>= 0) < 0 || e + 4 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + e + " (+4) <= " + this.buffer.byteLength)
                }
                var i = a(this.view, e, this.littleEndian, 23, 4);
                return t && (this.offset += 4),
                i
            }
            ,
            i.readFloat = i.readFloat32,
            i.writeFloat64 = function(e, t) {
                var i = void 0 === t;
                if (i && (t = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e)
                        throw TypeError("Illegal value: " + e + " (not a number)");
                    if ("number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                }
                t += 8;
                var r = this.buffer.byteLength;
                return t > r && this.resize((r *= 2) > t ? r : t),
                t -= 8,
                f(this.view, e, t, this.littleEndian, 52, 8),
                i && (this.offset += 8),
                this
            }
            ,
            i.writeDouble = i.writeFloat64,
            i.readFloat64 = function(e) {
                var t = void 0 === e;
                if (t && (e = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal offset: " + e + " (not an integer)");
                    if ((e >>>= 0) < 0 || e + 8 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + e + " (+8) <= " + this.buffer.byteLength)
                }
                var i = a(this.view, e, this.littleEndian, 52, 8);
                return t && (this.offset += 8),
                i
            }
            ,
            i.readDouble = i.readFloat64,
            t.MAX_VARINT32_BYTES = 5,
            t.calculateVarint32 = function(e) {
                return (e >>>= 0) < 128 ? 1 : e < 16384 ? 2 : e < 1 << 21 ? 3 : e < 1 << 28 ? 4 : 5
            }
            ,
            t.zigZagEncode32 = function(e) {
                return ((e |= 0) << 1 ^ e >> 31) >>> 0
            }
            ,
            t.zigZagDecode32 = function(e) {
                return e >>> 1 ^ -(1 & e) | 0
            }
            ,
            i.writeVarint32 = function(e, i) {
                var r = void 0 === i;
                if (r && (i = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal value: " + e + " (not an integer)");
                    if (e |= 0,
                    "number" != typeof i || i % 1 != 0)
                        throw TypeError("Illegal offset: " + i + " (not an integer)");
                    if ((i >>>= 0) < 0 || i + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + i + " (+0) <= " + this.buffer.byteLength)
                }
                var n, s = t.calculateVarint32(e);
                i += s;
                var o = this.buffer.byteLength;
                for (i > o && this.resize((o *= 2) > i ? o : i),
                i -= s,
                e >>>= 0; e >= 128; )
                    n = 127 & e | 128,
                    this.view[i++] = n,
                    e >>>= 7;
                return this.view[i++] = e,
                r ? (this.offset = i,
                this) : s
            }
            ,
            i.writeVarint32ZigZag = function(e, i) {
                return this.writeVarint32(t.zigZagEncode32(e), i)
            }
            ,
            i.readVarint32 = function(e) {
                var t = void 0 === e;
                if (t && (e = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal offset: " + e + " (not an integer)");
                    if ((e >>>= 0) < 0 || e + 1 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + e + " (+1) <= " + this.buffer.byteLength)
                }
                var i, r = 0, n = 0;
                do {
                    if (!this.noAssert && e > this.limit) {
                        var s = Error("Truncated");
                        throw s.truncated = !0,
                        s
                    }
                    i = this.view[e++],
                    r < 5 && (n |= (127 & i) << 7 * r),
                    ++r
                } while (0 != (128 & i));return n |= 0,
                t ? (this.offset = e,
                n) : {
                    value: n,
                    length: r
                }
            }
            ,
            i.readVarint32ZigZag = function(e) {
                var i = this.readVarint32(e);
                return "object" == typeof i ? i.value = t.zigZagDecode32(i.value) : i = t.zigZagDecode32(i),
                i
            }
            ,
            e && (t.MAX_VARINT64_BYTES = 10,
            t.calculateVarint64 = function(t) {
                "number" == typeof t ? t = e.fromNumber(t) : "string" == typeof t && (t = e.fromString(t));
                var i = t.toInt() >>> 0
                  , r = t.shiftRightUnsigned(28).toInt() >>> 0
                  , n = t.shiftRightUnsigned(56).toInt() >>> 0;
                return 0 == n ? 0 == r ? i < 16384 ? i < 128 ? 1 : 2 : i < 1 << 21 ? 3 : 4 : r < 16384 ? r < 128 ? 5 : 6 : r < 1 << 21 ? 7 : 8 : n < 128 ? 9 : 10
            }
            ,
            t.zigZagEncode64 = function(t) {
                return "number" == typeof t ? t = e.fromNumber(t, !1) : "string" == typeof t ? t = e.fromString(t, !1) : !1 !== t.unsigned && (t = t.toSigned()),
                t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()
            }
            ,
            t.zigZagDecode64 = function(t) {
                return "number" == typeof t ? t = e.fromNumber(t, !1) : "string" == typeof t ? t = e.fromString(t, !1) : !1 !== t.unsigned && (t = t.toSigned()),
                t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()
            }
            ,
            i.writeVarint64 = function(i, r) {
                var n = void 0 === r;
                if (n && (r = this.offset),
                !this.noAssert) {
                    if ("number" == typeof i)
                        i = e.fromNumber(i);
                    else if ("string" == typeof i)
                        i = e.fromString(i);
                    else if (!(i && i instanceof e))
                        throw TypeError("Illegal value: " + i + " (not an integer or Long)");
                    if ("number" != typeof r || r % 1 != 0)
                        throw TypeError("Illegal offset: " + r + " (not an integer)");
                    if ((r >>>= 0) < 0 || r + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + r + " (+0) <= " + this.buffer.byteLength)
                }
                "number" == typeof i ? i = e.fromNumber(i, !1) : "string" == typeof i ? i = e.fromString(i, !1) : !1 !== i.unsigned && (i = i.toSigned());
                var s = t.calculateVarint64(i)
                  , o = i.toInt() >>> 0
                  , a = i.shiftRightUnsigned(28).toInt() >>> 0
                  , f = i.shiftRightUnsigned(56).toInt() >>> 0;
                r += s;
                var h = this.buffer.byteLength;
                switch (r > h && this.resize((h *= 2) > r ? h : r),
                r -= s,
                s) {
                case 10:
                    this.view[r + 9] = f >>> 7 & 1;
                case 9:
                    this.view[r + 8] = 9 !== s ? 128 | f : 127 & f;
                case 8:
                    this.view[r + 7] = 8 !== s ? a >>> 21 | 128 : a >>> 21 & 127;
                case 7:
                    this.view[r + 6] = 7 !== s ? a >>> 14 | 128 : a >>> 14 & 127;
                case 6:
                    this.view[r + 5] = 6 !== s ? a >>> 7 | 128 : a >>> 7 & 127;
                case 5:
                    this.view[r + 4] = 5 !== s ? 128 | a : 127 & a;
                case 4:
                    this.view[r + 3] = 4 !== s ? o >>> 21 | 128 : o >>> 21 & 127;
                case 3:
                    this.view[r + 2] = 3 !== s ? o >>> 14 | 128 : o >>> 14 & 127;
                case 2:
                    this.view[r + 1] = 2 !== s ? o >>> 7 | 128 : o >>> 7 & 127;
                case 1:
                    this.view[r] = 1 !== s ? 128 | o : 127 & o
                }
                return n ? (this.offset += s,
                this) : s
            }
            ,
            i.writeVarint64ZigZag = function(e, i) {
                return this.writeVarint64(t.zigZagEncode64(e), i)
            }
            ,
            i.readVarint64 = function(t) {
                var i = void 0 === t;
                if (i && (t = this.offset),
                !this.noAssert) {
                    if ("number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + 1 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+1) <= " + this.buffer.byteLength)
                }
                var r = t
                  , n = 0
                  , s = 0
                  , o = 0
                  , a = 0;
                if (a = this.view[t++],
                n = 127 & a,
                128 & a && (a = this.view[t++],
                n |= (127 & a) << 7,
                (128 & a || this.noAssert && void 0 === a) && (a = this.view[t++],
                n |= (127 & a) << 14,
                (128 & a || this.noAssert && void 0 === a) && (a = this.view[t++],
                n |= (127 & a) << 21,
                (128 & a || this.noAssert && void 0 === a) && (a = this.view[t++],
                s = 127 & a,
                (128 & a || this.noAssert && void 0 === a) && (a = this.view[t++],
                s |= (127 & a) << 7,
                (128 & a || this.noAssert && void 0 === a) && (a = this.view[t++],
                s |= (127 & a) << 14,
                (128 & a || this.noAssert && void 0 === a) && (a = this.view[t++],
                s |= (127 & a) << 21,
                (128 & a || this.noAssert && void 0 === a) && (a = this.view[t++],
                o = 127 & a,
                (128 & a || this.noAssert && void 0 === a) && (a = this.view[t++],
                o |= (127 & a) << 7,
                128 & a || this.noAssert && void 0 === a))))))))))
                    throw Error("Buffer overrun");
                var f = e.fromBits(n | s << 28, s >>> 4 | o << 24, !1);
                return i ? (this.offset = t,
                f) : {
                    value: f,
                    length: t - r
                }
            }
            ,
            i.readVarint64ZigZag = function(i) {
                var r = this.readVarint64(i);
                return r && r.value instanceof e ? r.value = t.zigZagDecode64(r.value) : r = t.zigZagDecode64(r),
                r
            }
            ),
            i.writeCString = function(e, t) {
                var i = void 0 === t;
                i && (t = this.offset);
                var r, n = e.length;
                if (!this.noAssert) {
                    if ("string" != typeof e)
                        throw TypeError("Illegal str: Not a string");
                    for (r = 0; r < n; ++r)
                        if (0 === e.charCodeAt(r))
                            throw RangeError("Illegal str: Contains NULL-characters");
                    if ("number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                }
                n = l.calculateUTF16asUTF8(s(e))[1],
                t += n + 1;
                var o = this.buffer.byteLength;
                return t > o && this.resize((o *= 2) > t ? o : t),
                t -= n + 1,
                l.encodeUTF16toUTF8(s(e), function(e) {
                    this.view[t++] = e
                }
                .bind(this)),
                this.view[t++] = 0,
                i ? (this.offset = t,
                this) : n
            }
            ,
            i.readCString = function(e) {
                var t = void 0 === e;
                if (t && (e = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal offset: " + e + " (not an integer)");
                    if ((e >>>= 0) < 0 || e + 1 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + e + " (+1) <= " + this.buffer.byteLength)
                }
                var i, r = e, n = -1;
                return l.decodeUTF8toUTF16(function() {
                    if (0 === n)
                        return null;
                    if (e >= this.limit)
                        throw RangeError("Illegal range: Truncated data, " + e + " < " + this.limit);
                    return 0 === (n = this.view[e++]) ? null : n
                }
                .bind(this), i = o(), !0),
                t ? (this.offset = e,
                i()) : {
                    string: i(),
                    length: e - r
                }
            }
            ,
            i.writeIString = function(e, t) {
                var i = void 0 === t;
                if (i && (t = this.offset),
                !this.noAssert) {
                    if ("string" != typeof e)
                        throw TypeError("Illegal str: Not a string");
                    if ("number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                }
                var r, n = t;
                r = l.calculateUTF16asUTF8(s(e), this.noAssert)[1],
                t += 4 + r;
                var o = this.buffer.byteLength;
                if (t > o && this.resize((o *= 2) > t ? o : t),
                t -= 4 + r,
                this.littleEndian ? (this.view[t + 3] = r >>> 24 & 255,
                this.view[t + 2] = r >>> 16 & 255,
                this.view[t + 1] = r >>> 8 & 255,
                this.view[t] = 255 & r) : (this.view[t] = r >>> 24 & 255,
                this.view[t + 1] = r >>> 16 & 255,
                this.view[t + 2] = r >>> 8 & 255,
                this.view[t + 3] = 255 & r),
                t += 4,
                l.encodeUTF16toUTF8(s(e), function(e) {
                    this.view[t++] = e
                }
                .bind(this)),
                t !== n + 4 + r)
                    throw RangeError("Illegal range: Truncated data, " + t + " == " + (t + 4 + r));
                return i ? (this.offset = t,
                this) : t - n
            }
            ,
            i.readIString = function(e) {
                var i = void 0 === e;
                if (i && (e = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal offset: " + e + " (not an integer)");
                    if ((e >>>= 0) < 0 || e + 4 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + e + " (+4) <= " + this.buffer.byteLength)
                }
                var r = e
                  , n = this.readUint32(e)
                  , s = this.readUTF8String(n, t.METRICS_BYTES, e += 4);
                return e += s.length,
                i ? (this.offset = e,
                s.string) : {
                    string: s.string,
                    length: e - r
                }
            }
            ,
            t.METRICS_CHARS = "c",
            t.METRICS_BYTES = "b",
            i.writeUTF8String = function(e, t) {
                var i, r = void 0 === t;
                if (r && (t = this.offset),
                !this.noAssert) {
                    if ("number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: " + t + " (not an integer)");
                    if ((t >>>= 0) < 0 || t + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + t + " (+0) <= " + this.buffer.byteLength)
                }
                var n = t;
                i = l.calculateUTF16asUTF8(s(e))[1],
                t += i;
                var o = this.buffer.byteLength;
                return t > o && this.resize((o *= 2) > t ? o : t),
                t -= i,
                l.encodeUTF16toUTF8(s(e), function(e) {
                    this.view[t++] = e
                }
                .bind(this)),
                r ? (this.offset = t,
                this) : t - n
            }
            ,
            i.writeString = i.writeUTF8String,
            t.calculateUTF8Chars = function(e) {
                return l.calculateUTF16asUTF8(s(e))[0]
            }
            ,
            t.calculateUTF8Bytes = function(e) {
                return l.calculateUTF16asUTF8(s(e))[1]
            }
            ,
            t.calculateString = t.calculateUTF8Bytes,
            i.readUTF8String = function(e, i, r) {
                "number" == typeof i && (r = i,
                i = void 0);
                var n = void 0 === r;
                if (n && (r = this.offset),
                void 0 === i && (i = t.METRICS_CHARS),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal length: " + e + " (not an integer)");
                    if (e |= 0,
                    "number" != typeof r || r % 1 != 0)
                        throw TypeError("Illegal offset: " + r + " (not an integer)");
                    if ((r >>>= 0) < 0 || r + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + r + " (+0) <= " + this.buffer.byteLength)
                }
                var s, a = 0, f = r;
                if (i === t.METRICS_CHARS) {
                    if (s = o(),
                    l.decodeUTF8(function() {
                        return a < e && r < this.limit ? this.view[r++] : null
                    }
                    .bind(this), function(e) {
                        ++a,
                        l.UTF8toUTF16(e, s)
                    }),
                    a !== e)
                        throw RangeError("Illegal range: Truncated data, " + a + " == " + e);
                    return n ? (this.offset = r,
                    s()) : {
                        string: s(),
                        length: r - f
                    }
                }
                if (i === t.METRICS_BYTES) {
                    if (!this.noAssert) {
                        if ("number" != typeof r || r % 1 != 0)
                            throw TypeError("Illegal offset: " + r + " (not an integer)");
                        if ((r >>>= 0) < 0 || r + e > this.buffer.byteLength)
                            throw RangeError("Illegal offset: 0 <= " + r + " (+" + e + ") <= " + this.buffer.byteLength)
                    }
                    var h = r + e;
                    if (l.decodeUTF8toUTF16(function() {
                        return r < h ? this.view[r++] : null
                    }
                    .bind(this), s = o(), this.noAssert),
                    r !== h)
                        throw RangeError("Illegal range: Truncated data, " + r + " == " + h);
                    return n ? (this.offset = r,
                    s()) : {
                        string: s(),
                        length: r - f
                    }
                }
                throw TypeError("Unsupported metrics: " + i)
            }
            ,
            i.readString = i.readUTF8String,
            i.writeVString = function(e, i) {
                var r = void 0 === i;
                if (r && (i = this.offset),
                !this.noAssert) {
                    if ("string" != typeof e)
                        throw TypeError("Illegal str: Not a string");
                    if ("number" != typeof i || i % 1 != 0)
                        throw TypeError("Illegal offset: " + i + " (not an integer)");
                    if ((i >>>= 0) < 0 || i + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + i + " (+0) <= " + this.buffer.byteLength)
                }
                var n, o, a = i;
                n = l.calculateUTF16asUTF8(s(e), this.noAssert)[1],
                o = t.calculateVarint32(n),
                i += o + n;
                var f = this.buffer.byteLength;
                if (i > f && this.resize((f *= 2) > i ? f : i),
                i -= o + n,
                i += this.writeVarint32(n, i),
                l.encodeUTF16toUTF8(s(e), function(e) {
                    this.view[i++] = e
                }
                .bind(this)),
                i !== a + n + o)
                    throw RangeError("Illegal range: Truncated data, " + i + " == " + (i + n + o));
                return r ? (this.offset = i,
                this) : i - a
            }
            ,
            i.readVString = function(e) {
                var i = void 0 === e;
                if (i && (e = this.offset),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal offset: " + e + " (not an integer)");
                    if ((e >>>= 0) < 0 || e + 1 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + e + " (+1) <= " + this.buffer.byteLength)
                }
                var r = e
                  , n = this.readVarint32(e)
                  , s = this.readUTF8String(n.value, t.METRICS_BYTES, e += n.length);
                return e += s.length,
                i ? (this.offset = e,
                s.string) : {
                    string: s.string,
                    length: e - r
                }
            }
            ,
            i.append = function(e, i, r) {
                "number" != typeof i && "string" == typeof i || (r = i,
                i = void 0);
                var n = void 0 === r;
                if (n && (r = this.offset),
                !this.noAssert) {
                    if ("number" != typeof r || r % 1 != 0)
                        throw TypeError("Illegal offset: " + r + " (not an integer)");
                    if ((r >>>= 0) < 0 || r + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + r + " (+0) <= " + this.buffer.byteLength)
                }
                e instanceof t || (e = t.wrap(e, i));
                var s = e.limit - e.offset;
                if (s <= 0)
                    return this;
                r += s;
                var o = this.buffer.byteLength;
                return r > o && this.resize((o *= 2) > r ? o : r),
                r -= s,
                this.view.set(e.view.subarray(e.offset, e.limit), r),
                e.offset += s,
                n && (this.offset += s),
                this
            }
            ,
            i.appendTo = function(e, t) {
                return e.append(this, t),
                this
            }
            ,
            i.assert = function(e) {
                return this.noAssert = !e,
                this
            }
            ,
            i.capacity = function() {
                return this.buffer.byteLength
            }
            ,
            i.clear = function() {
                return this.offset = 0,
                this.limit = this.buffer.byteLength,
                this.markedOffset = -1,
                this
            }
            ,
            i.clone = function(e) {
                var i = new t(0,this.littleEndian,this.noAssert);
                return e ? (i.buffer = new ArrayBuffer(this.buffer.byteLength),
                i.view = new Uint8Array(i.buffer)) : (i.buffer = this.buffer,
                i.view = this.view),
                i.offset = this.offset,
                i.markedOffset = this.markedOffset,
                i.limit = this.limit,
                i
            }
            ,
            i.compact = function(e, t) {
                if (void 0 === e && (e = this.offset),
                void 0 === t && (t = this.limit),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal begin: Not an integer");
                    if (e >>>= 0,
                    "number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal end: Not an integer");
                    if (t >>>= 0,
                    e < 0 || e > t || t > this.buffer.byteLength)
                        throw RangeError("Illegal range: 0 <= " + e + " <= " + t + " <= " + this.buffer.byteLength)
                }
                if (0 === e && t === this.buffer.byteLength)
                    return this;
                var i = t - e;
                if (0 === i)
                    return this.buffer = r,
                    this.view = null,
                    this.markedOffset >= 0 && (this.markedOffset -= e),
                    this.offset = 0,
                    this.limit = 0,
                    this;
                var n = new ArrayBuffer(i)
                  , s = new Uint8Array(n);
                return s.set(this.view.subarray(e, t)),
                this.buffer = n,
                this.view = s,
                this.markedOffset >= 0 && (this.markedOffset -= e),
                this.offset = 0,
                this.limit = i,
                this
            }
            ,
            i.copy = function(e, i) {
                if (void 0 === e && (e = this.offset),
                void 0 === i && (i = this.limit),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal begin: Not an integer");
                    if (e >>>= 0,
                    "number" != typeof i || i % 1 != 0)
                        throw TypeError("Illegal end: Not an integer");
                    if (i >>>= 0,
                    e < 0 || e > i || i > this.buffer.byteLength)
                        throw RangeError("Illegal range: 0 <= " + e + " <= " + i + " <= " + this.buffer.byteLength)
                }
                if (e === i)
                    return new t(0,this.littleEndian,this.noAssert);
                var r = i - e
                  , n = new t(r,this.littleEndian,this.noAssert);
                return n.offset = 0,
                n.limit = r,
                n.markedOffset >= 0 && (n.markedOffset -= e),
                this.copyTo(n, 0, e, i),
                n
            }
            ,
            i.copyTo = function(e, i, r, n) {
                var s, o;
                if (!this.noAssert && !t.isByteBuffer(e))
                    throw TypeError("Illegal target: Not a ByteBuffer");
                if (i = (o = void 0 === i) ? e.offset : 0 | i,
                r = (s = void 0 === r) ? this.offset : 0 | r,
                n = void 0 === n ? this.limit : 0 | n,
                i < 0 || i > e.buffer.byteLength)
                    throw RangeError("Illegal target range: 0 <= " + i + " <= " + e.buffer.byteLength);
                if (r < 0 || n > this.buffer.byteLength)
                    throw RangeError("Illegal source range: 0 <= " + r + " <= " + this.buffer.byteLength);
                var a = n - r;
                return 0 === a ? e : (e.ensureCapacity(i + a),
                e.view.set(this.view.subarray(r, n), i),
                s && (this.offset += a),
                o && (e.offset += a),
                this)
            }
            ,
            i.ensureCapacity = function(e) {
                var t = this.buffer.byteLength;
                return t < e ? this.resize((t *= 2) > e ? t : e) : this
            }
            ,
            i.fill = function(e, t, i) {
                var r = void 0 === t;
                if (r && (t = this.offset),
                "string" == typeof e && e.length > 0 && (e = e.charCodeAt(0)),
                void 0 === t && (t = this.offset),
                void 0 === i && (i = this.limit),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal value: " + e + " (not an integer)");
                    if (e |= 0,
                    "number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal begin: Not an integer");
                    if (t >>>= 0,
                    "number" != typeof i || i % 1 != 0)
                        throw TypeError("Illegal end: Not an integer");
                    if (i >>>= 0,
                    t < 0 || t > i || i > this.buffer.byteLength)
                        throw RangeError("Illegal range: 0 <= " + t + " <= " + i + " <= " + this.buffer.byteLength)
                }
                if (t >= i)
                    return this;
                for (; t < i; )
                    this.view[t++] = e;
                return r && (this.offset = t),
                this
            }
            ,
            i.flip = function() {
                return this.limit = this.offset,
                this.offset = 0,
                this
            }
            ,
            i.mark = function(e) {
                if (e = void 0 === e ? this.offset : e,
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal offset: " + e + " (not an integer)");
                    if ((e >>>= 0) < 0 || e + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + e + " (+0) <= " + this.buffer.byteLength)
                }
                return this.markedOffset = e,
                this
            }
            ,
            i.order = function(e) {
                if (!this.noAssert && "boolean" != typeof e)
                    throw TypeError("Illegal littleEndian: Not a boolean");
                return this.littleEndian = !!e,
                this
            }
            ,
            i.LE = function(e) {
                return this.littleEndian = void 0 === e || !!e,
                this
            }
            ,
            i.BE = function(e) {
                return this.littleEndian = void 0 !== e && !e,
                this
            }
            ,
            i.prepend = function(e, i, r) {
                "number" != typeof i && "string" == typeof i || (r = i,
                i = void 0);
                var n = void 0 === r;
                if (n && (r = this.offset),
                !this.noAssert) {
                    if ("number" != typeof r || r % 1 != 0)
                        throw TypeError("Illegal offset: " + r + " (not an integer)");
                    if ((r >>>= 0) < 0 || r + 0 > this.buffer.byteLength)
                        throw RangeError("Illegal offset: 0 <= " + r + " (+0) <= " + this.buffer.byteLength)
                }
                e instanceof t || (e = t.wrap(e, i));
                var s = e.limit - e.offset;
                if (s <= 0)
                    return this;
                var o = s - r;
                if (o > 0) {
                    var a = new ArrayBuffer(this.buffer.byteLength + o)
                      , f = new Uint8Array(a);
                    f.set(this.view.subarray(r, this.buffer.byteLength), s),
                    this.buffer = a,
                    this.view = f,
                    this.offset += o,
                    this.markedOffset >= 0 && (this.markedOffset += o),
                    this.limit += o,
                    r += o
                } else
                    new Uint8Array(this.buffer);
                return this.view.set(e.view.subarray(e.offset, e.limit), r - s),
                e.offset = e.limit,
                n && (this.offset -= s),
                this
            }
            ,
            i.prependTo = function(e, t) {
                return e.prepend(this, t),
                this
            }
            ,
            i.printDebug = function(e) {
                "function" != typeof e && (e = console.log.bind(console)),
                e(this.toString() + "\n-------------------------------------------------------------------\n" + this.toDebug(!0))
            }
            ,
            i.remaining = function() {
                return this.limit - this.offset
            }
            ,
            i.reset = function() {
                return this.markedOffset >= 0 ? (this.offset = this.markedOffset,
                this.markedOffset = -1) : this.offset = 0,
                this
            }
            ,
            i.resize = function(e) {
                if (!this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal capacity: " + e + " (not an integer)");
                    if ((e |= 0) < 0)
                        throw RangeError("Illegal capacity: 0 <= " + e)
                }
                if (this.buffer.byteLength < e) {
                    var t = new ArrayBuffer(e)
                      , i = new Uint8Array(t);
                    i.set(this.view),
                    this.buffer = t,
                    this.view = i
                }
                return this
            }
            ,
            i.reverse = function(e, t) {
                if (void 0 === e && (e = this.offset),
                void 0 === t && (t = this.limit),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal begin: Not an integer");
                    if (e >>>= 0,
                    "number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal end: Not an integer");
                    if (t >>>= 0,
                    e < 0 || e > t || t > this.buffer.byteLength)
                        throw RangeError("Illegal range: 0 <= " + e + " <= " + t + " <= " + this.buffer.byteLength)
                }
                return e === t ? this : (Array.prototype.reverse.call(this.view.subarray(e, t)),
                this)
            }
            ,
            i.skip = function(e) {
                if (!this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal length: " + e + " (not an integer)");
                    e |= 0
                }
                var t = this.offset + e;
                if (!this.noAssert && (t < 0 || t > this.buffer.byteLength))
                    throw RangeError("Illegal length: 0 <= " + this.offset + " + " + e + " <= " + this.buffer.byteLength);
                return this.offset = t,
                this
            }
            ,
            i.slice = function(e, t) {
                if (void 0 === e && (e = this.offset),
                void 0 === t && (t = this.limit),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal begin: Not an integer");
                    if (e >>>= 0,
                    "number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal end: Not an integer");
                    if (t >>>= 0,
                    e < 0 || e > t || t > this.buffer.byteLength)
                        throw RangeError("Illegal range: 0 <= " + e + " <= " + t + " <= " + this.buffer.byteLength)
                }
                var i = this.clone();
                return i.offset = e,
                i.limit = t,
                i
            }
            ,
            i.toBuffer = function(e) {
                var t = this.offset
                  , i = this.limit;
                if (!this.noAssert) {
                    if ("number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal offset: Not an integer");
                    if (t >>>= 0,
                    "number" != typeof i || i % 1 != 0)
                        throw TypeError("Illegal limit: Not an integer");
                    if (i >>>= 0,
                    t < 0 || t > i || i > this.buffer.byteLength)
                        throw RangeError("Illegal range: 0 <= " + t + " <= " + i + " <= " + this.buffer.byteLength)
                }
                if (!e && 0 === t && i === this.buffer.byteLength)
                    return this.buffer;
                if (t === i)
                    return r;
                var n = new ArrayBuffer(i - t);
                return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(t, i), 0),
                n
            }
            ,
            i.toArrayBuffer = i.toBuffer,
            i.toString = function(e, t, i) {
                if (void 0 === e)
                    return "ByteBufferAB(offset=" + this.offset + ",markedOffset=" + this.markedOffset + ",limit=" + this.limit + ",capacity=" + this.capacity() + ")";
                switch ("number" == typeof e && (i = t = e = "utf8"),
                e) {
                case "utf8":
                    return this.toUTF8(t, i);
                case "base64":
                    return this.toBase64(t, i);
                case "hex":
                    return this.toHex(t, i);
                case "binary":
                    return this.toBinary(t, i);
                case "debug":
                    return this.toDebug();
                case "columns":
                    return this.toColumns();
                default:
                    throw Error("Unsupported encoding: " + e)
                }
            }
            ;
            var h = function() {
                for (var e = {}, t = [65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 43, 47], i = [], r = 0, n = t.length; r < n; ++r)
                    i[t[r]] = r;
                return e.encode = function(e, i) {
                    for (var r, n; null !== (r = e()); )
                        i(t[r >> 2 & 63]),
                        n = (3 & r) << 4,
                        null !== (r = e()) ? (i(t[63 & ((n |= r >> 4 & 15) | r >> 4 & 15)]),
                        n = (15 & r) << 2,
                        null !== (r = e()) ? (i(t[63 & (n | r >> 6 & 3)]),
                        i(t[63 & r])) : (i(t[63 & n]),
                        i(61))) : (i(t[63 & n]),
                        i(61),
                        i(61))
                }
                ,
                e.decode = function(e, t) {
                    var r, n, s;
                    function o(e) {
                        throw Error("Illegal character code: " + e)
                    }
                    for (; null !== (r = e()); )
                        if (void 0 === (n = i[r]) && o(r),
                        null !== (r = e()) && (void 0 === (s = i[r]) && o(r),
                        t(n << 2 >>> 0 | (48 & s) >> 4),
                        null !== (r = e()))) {
                            if (void 0 === (n = i[r])) {
                                if (61 === r)
                                    break;
                                o(r)
                            }
                            if (t((15 & s) << 4 >>> 0 | (60 & n) >> 2),
                            null !== (r = e())) {
                                if (void 0 === (s = i[r])) {
                                    if (61 === r)
                                        break;
                                    o(r)
                                }
                                t((3 & n) << 6 >>> 0 | s)
                            }
                        }
                }
                ,
                e.test = function(e) {
                    return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)
                }
                ,
                e
            }();
            i.toBase64 = function(e, t) {
                if (void 0 === e && (e = this.offset),
                void 0 === t && (t = this.limit),
                t |= 0,
                (e |= 0) < 0 || t > this.capacity || e > t)
                    throw RangeError("begin, end");
                var i;
                return h.encode(function() {
                    return e < t ? this.view[e++] : null
                }
                .bind(this), i = o()),
                i()
            }
            ,
            t.fromBase64 = function(e, i) {
                if ("string" != typeof e)
                    throw TypeError("str");
                var r = new t(e.length / 4 * 3,i)
                  , n = 0;
                return h.decode(s(e), function(e) {
                    r.view[n++] = e
                }),
                r.limit = n,
                r
            }
            ,
            t.btoa = function(e) {
                return t.fromBinary(e).toBase64()
            }
            ,
            t.atob = function(e) {
                return t.fromBase64(e).toBinary()
            }
            ,
            i.toBinary = function(e, t) {
                if (void 0 === e && (e = this.offset),
                void 0 === t && (t = this.limit),
                t |= 0,
                (e |= 0) < 0 || t > this.capacity() || e > t)
                    throw RangeError("begin, end");
                if (e === t)
                    return "";
                for (var i = [], r = []; e < t; )
                    i.push(this.view[e++]),
                    i.length >= 1024 && (r.push(String.fromCharCode.apply(String, i)),
                    i = []);
                return r.join("") + String.fromCharCode.apply(String, i)
            }
            ,
            t.fromBinary = function(e, i) {
                if ("string" != typeof e)
                    throw TypeError("str");
                for (var r, n = 0, s = e.length, o = new t(s,i); n < s; ) {
                    if ((r = e.charCodeAt(n)) > 255)
                        throw RangeError("illegal char code: " + r);
                    o.view[n++] = r
                }
                return o.limit = s,
                o
            }
            ,
            i.toDebug = function(e) {
                for (var t, i = -1, r = this.buffer.byteLength, n = "", s = "", o = ""; i < r; ) {
                    if (-1 !== i && (t = this.view[i],
                    n += t < 16 ? "0" + t.toString(16).toUpperCase() : t.toString(16).toUpperCase(),
                    e && (s += t > 32 && t < 127 ? String.fromCharCode(t) : ".")),
                    ++i,
                    e && i > 0 && i % 16 == 0 && i !== r) {
                        for (; n.length < 51; )
                            n += " ";
                        o += n + s + "\n",
                        n = s = ""
                    }
                    i === this.offset && i === this.limit ? n += i === this.markedOffset ? "!" : "|" : i === this.offset ? n += i === this.markedOffset ? "[" : "<" : i === this.limit ? n += i === this.markedOffset ? "]" : ">" : n += i === this.markedOffset ? "'" : e || 0 !== i && i !== r ? " " : ""
                }
                if (e && " " !== n) {
                    for (; n.length < 51; )
                        n += " ";
                    o += n + s + "\n"
                }
                return e ? o : n
            }
            ,
            t.fromDebug = function(e, i, r) {
                for (var n, s, o = e.length, a = new t((o + 1) / 3 | 0,i,r), f = 0, h = 0, l = !1, u = !1, c = !1, p = !1, g = !1; f < o; ) {
                    switch (n = e.charAt(f++)) {
                    case "!":
                        if (!r) {
                            if (u || c || p) {
                                g = !0;
                                break
                            }
                            u = c = p = !0
                        }
                        a.offset = a.markedOffset = a.limit = h,
                        l = !1;
                        break;
                    case "|":
                        if (!r) {
                            if (u || p) {
                                g = !0;
                                break
                            }
                            u = p = !0
                        }
                        a.offset = a.limit = h,
                        l = !1;
                        break;
                    case "[":
                        if (!r) {
                            if (u || c) {
                                g = !0;
                                break
                            }
                            u = c = !0
                        }
                        a.offset = a.markedOffset = h,
                        l = !1;
                        break;
                    case "<":
                        if (!r) {
                            if (u) {
                                g = !0;
                                break
                            }
                            u = !0
                        }
                        a.offset = h,
                        l = !1;
                        break;
                    case "]":
                        if (!r) {
                            if (p || c) {
                                g = !0;
                                break
                            }
                            p = c = !0
                        }
                        a.limit = a.markedOffset = h,
                        l = !1;
                        break;
                    case ">":
                        if (!r) {
                            if (p) {
                                g = !0;
                                break
                            }
                            p = !0
                        }
                        a.limit = h,
                        l = !1;
                        break;
                    case "'":
                        if (!r) {
                            if (c) {
                                g = !0;
                                break
                            }
                            c = !0
                        }
                        a.markedOffset = h,
                        l = !1;
                        break;
                    case " ":
                        l = !1;
                        break;
                    default:
                        if (!r && l) {
                            g = !0;
                            break
                        }
                        if (s = parseInt(n + e.charAt(f++), 16),
                        !r && (isNaN(s) || s < 0 || s > 255))
                            throw TypeError("Illegal str: Not a debug encoded string");
                        a.view[h++] = s,
                        l = !0
                    }
                    if (g)
                        throw TypeError("Illegal str: Invalid symbol at " + f)
                }
                if (!r) {
                    if (!u || !p)
                        throw TypeError("Illegal str: Missing offset or limit");
                    if (h < a.buffer.byteLength)
                        throw TypeError("Illegal str: Not a debug encoded string (is it hex?) " + h + " < " + o)
                }
                return a
            }
            ,
            i.toHex = function(e, t) {
                if (e = void 0 === e ? this.offset : e,
                t = void 0 === t ? this.limit : t,
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal begin: Not an integer");
                    if (e >>>= 0,
                    "number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal end: Not an integer");
                    if (t >>>= 0,
                    e < 0 || e > t || t > this.buffer.byteLength)
                        throw RangeError("Illegal range: 0 <= " + e + " <= " + t + " <= " + this.buffer.byteLength)
                }
                for (var i, r = new Array(t - e); e < t; )
                    (i = this.view[e++]) < 16 ? r.push("0", i.toString(16)) : r.push(i.toString(16));
                return r.join("")
            }
            ,
            t.fromHex = function(e, i, r) {
                if (!r) {
                    if ("string" != typeof e)
                        throw TypeError("Illegal str: Not a string");
                    if (e.length % 2 != 0)
                        throw TypeError("Illegal str: Length not a multiple of 2")
                }
                for (var n, s = e.length, o = new t(s / 2 | 0,i), a = 0, f = 0; a < s; a += 2) {
                    if (n = parseInt(e.substring(a, a + 2), 16),
                    !r && (!isFinite(n) || n < 0 || n > 255))
                        throw TypeError("Illegal str: Contains non-hex characters");
                    o.view[f++] = n
                }
                return o.limit = f,
                o
            }
            ;
            var l = function() {
                var e = {
                    MAX_CODEPOINT: 1114111,
                    encodeUTF8: function(e, t) {
                        var i = null;
                        for ("number" == typeof e && (i = e,
                        e = function() {
                            return null
                        }
                        ); null !== i || null !== (i = e()); )
                            i < 128 ? t(127 & i) : i < 2048 ? (t(i >> 6 & 31 | 192),
                            t(63 & i | 128)) : i < 65536 ? (t(i >> 12 & 15 | 224),
                            t(i >> 6 & 63 | 128),
                            t(63 & i | 128)) : (t(i >> 18 & 7 | 240),
                            t(i >> 12 & 63 | 128),
                            t(i >> 6 & 63 | 128),
                            t(63 & i | 128)),
                            i = null
                    },
                    decodeUTF8: function(e, t) {
                        for (var i, r, n, s, o = function(e) {
                            e = e.slice(0, e.indexOf(null));
                            var t = Error(e.toString());
                            throw t.name = "TruncatedError",
                            t.bytes = e,
                            t
                        }; null !== (i = e()); )
                            if (0 == (128 & i))
                                t(i);
                            else if (192 == (224 & i))
                                null === (r = e()) && o([i, r]),
                                t((31 & i) << 6 | 63 & r);
                            else if (224 == (240 & i))
                                (null === (r = e()) || null === (n = e())) && o([i, r, n]),
                                t((15 & i) << 12 | (63 & r) << 6 | 63 & n);
                            else {
                                if (240 != (248 & i))
                                    throw RangeError("Illegal starting byte: " + i);
                                (null === (r = e()) || null === (n = e()) || null === (s = e())) && o([i, r, n, s]),
                                t((7 & i) << 18 | (63 & r) << 12 | (63 & n) << 6 | 63 & s)
                            }
                    },
                    UTF16toUTF8: function(e, t) {
                        for (var i, r = null; null !== (i = null !== r ? r : e()); )
                            i >= 55296 && i <= 57343 && null !== (r = e()) && r >= 56320 && r <= 57343 ? (t(1024 * (i - 55296) + r - 56320 + 65536),
                            r = null) : t(i);
                        null !== r && t(r)
                    },
                    UTF8toUTF16: function(e, t) {
                        var i = null;
                        for ("number" == typeof e && (i = e,
                        e = function() {
                            return null
                        }
                        ); null !== i || null !== (i = e()); )
                            i <= 65535 ? t(i) : (t(55296 + ((i -= 65536) >> 10)),
                            t(i % 1024 + 56320)),
                            i = null
                    },
                    encodeUTF16toUTF8: function(t, i) {
                        e.UTF16toUTF8(t, function(t) {
                            e.encodeUTF8(t, i)
                        })
                    },
                    decodeUTF8toUTF16: function(t, i) {
                        e.decodeUTF8(t, function(t) {
                            e.UTF8toUTF16(t, i)
                        })
                    },
                    calculateCodePoint: function(e) {
                        return e < 128 ? 1 : e < 2048 ? 2 : e < 65536 ? 3 : 4
                    },
                    calculateUTF8: function(e) {
                        for (var t, i = 0; null !== (t = e()); )
                            i += t < 128 ? 1 : t < 2048 ? 2 : t < 65536 ? 3 : 4;
                        return i
                    },
                    calculateUTF16asUTF8: function(t) {
                        var i = 0
                          , r = 0;
                        return e.UTF16toUTF8(t, function(e) {
                            ++i,
                            r += e < 128 ? 1 : e < 2048 ? 2 : e < 65536 ? 3 : 4
                        }),
                        [i, r]
                    }
                };
                return e
            }();
            return i.toUTF8 = function(e, t) {
                if (void 0 === e && (e = this.offset),
                void 0 === t && (t = this.limit),
                !this.noAssert) {
                    if ("number" != typeof e || e % 1 != 0)
                        throw TypeError("Illegal begin: Not an integer");
                    if (e >>>= 0,
                    "number" != typeof t || t % 1 != 0)
                        throw TypeError("Illegal end: Not an integer");
                    if (t >>>= 0,
                    e < 0 || e > t || t > this.buffer.byteLength)
                        throw RangeError("Illegal range: 0 <= " + e + " <= " + t + " <= " + this.buffer.byteLength)
                }
                var i;
                try {
                    l.decodeUTF8toUTF16(function() {
                        return e < t ? this.view[e++] : null
                    }
                    .bind(this), i = o())
                } catch (i) {
                    if (e !== t)
                        throw RangeError("Illegal range: Truncated data, " + e + " != " + t)
                }
                return i()
            }
            ,
            t.fromUTF8 = function(e, i, r) {
                if (!r && "string" != typeof e)
                    throw TypeError("Illegal str: Not a string");
                var n = new t(l.calculateUTF16asUTF8(s(e), !0)[1],i,r)
                  , o = 0;
                return l.encodeUTF16toUTF8(s(e), function(e) {
                    n.view[o++] = e
                }),
                n.limit = o,
                n
            }
            ,
            t
        }
        ) ? r.apply(t, n) : r) || (e.exports = s)
    };
 
var fun494 = function(e, t, i) {
        (function(r) {
            var n, s, o;
            /**
 * @license protobuf.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/protobuf.js for details
 */
            s = [i(493)],
            void 0 === (o = "function" == typeof (n = function(e, t) {
                "use strict";
                var n, s = {};
                return s.ByteBuffer = e,
                s.Long = e.Long || null,
                s.VERSION = "5.0.1",
                s.WIRE_TYPES = {},
                s.WIRE_TYPES.VARINT = 0,
                s.WIRE_TYPES.BITS64 = 1,
                s.WIRE_TYPES.LDELIM = 2,
                s.WIRE_TYPES.STARTGROUP = 3,
                s.WIRE_TYPES.ENDGROUP = 4,
                s.WIRE_TYPES.BITS32 = 5,
                s.PACKABLE_WIRE_TYPES = [s.WIRE_TYPES.VARINT, s.WIRE_TYPES.BITS64, s.WIRE_TYPES.BITS32],
                s.TYPES = {
                    int32: {
                        name: "int32",
                        wireType: s.WIRE_TYPES.VARINT,
                        defaultValue: 0
                    },
                    uint32: {
                        name: "uint32",
                        wireType: s.WIRE_TYPES.VARINT,
                        defaultValue: 0
                    },
                    sint32: {
                        name: "sint32",
                        wireType: s.WIRE_TYPES.VARINT,
                        defaultValue: 0
                    },
                    int64: {
                        name: "int64",
                        wireType: s.WIRE_TYPES.VARINT,
                        defaultValue: s.Long ? s.Long.ZERO : void 0
                    },
                    uint64: {
                        name: "uint64",
                        wireType: s.WIRE_TYPES.VARINT,
                        defaultValue: s.Long ? s.Long.UZERO : void 0
                    },
                    sint64: {
                        name: "sint64",
                        wireType: s.WIRE_TYPES.VARINT,
                        defaultValue: s.Long ? s.Long.ZERO : void 0
                    },
                    bool: {
                        name: "bool",
                        wireType: s.WIRE_TYPES.VARINT,
                        defaultValue: !1
                    },
                    double: {
                        name: "double",
                        wireType: s.WIRE_TYPES.BITS64,
                        defaultValue: 0
                    },
                    string: {
                        name: "string",
                        wireType: s.WIRE_TYPES.LDELIM,
                        defaultValue: ""
                    },
                    bytes: {
                        name: "bytes",
                        wireType: s.WIRE_TYPES.LDELIM,
                        defaultValue: null
                    },
                    fixed32: {
                        name: "fixed32",
                        wireType: s.WIRE_TYPES.BITS32,
                        defaultValue: 0
                    },
                    sfixed32: {
                        name: "sfixed32",
                        wireType: s.WIRE_TYPES.BITS32,
                        defaultValue: 0
                    },
                    fixed64: {
                        name: "fixed64",
                        wireType: s.WIRE_TYPES.BITS64,
                        defaultValue: s.Long ? s.Long.UZERO : void 0
                    },
                    sfixed64: {
                        name: "sfixed64",
                        wireType: s.WIRE_TYPES.BITS64,
                        defaultValue: s.Long ? s.Long.ZERO : void 0
                    },
                    float: {
                        name: "float",
                        wireType: s.WIRE_TYPES.BITS32,
                        defaultValue: 0
                    },
                    enum: {
                        name: "enum",
                        wireType: s.WIRE_TYPES.VARINT,
                        defaultValue: 0
                    },
                    message: {
                        name: "message",
                        wireType: s.WIRE_TYPES.LDELIM,
                        defaultValue: null
                    },
                    group: {
                        name: "group",
                        wireType: s.WIRE_TYPES.STARTGROUP,
                        defaultValue: null
                    }
                },
                s.MAP_KEY_TYPES = [s.TYPES.int32, s.TYPES.sint32, s.TYPES.sfixed32, s.TYPES.uint32, s.TYPES.fixed32, s.TYPES.int64, s.TYPES.sint64, s.TYPES.sfixed64, s.TYPES.uint64, s.TYPES.fixed64, s.TYPES.bool, s.TYPES.string, s.TYPES.bytes],
                s.ID_MIN = 1,
                s.ID_MAX = 536870911,
                s.convertFieldsToCamelCase = !1,
                s.populateAccessors = !0,
                s.populateDefaults = !0,
                s.Util = ((n = {}).IS_NODE = !("object" != typeof r || r + "" != "[object process]" || r.browser),
                n.XHR = function() {
                    for (var e = [function() {
                        return new XMLHttpRequest
                    }
                    , function() {
                        return new ActiveXObject("Msxml2.XMLHTTP")
                    }
                    , function() {
                        return new ActiveXObject("Msxml3.XMLHTTP")
                    }
                    , function() {
                        return new ActiveXObject("Microsoft.XMLHTTP")
                    }
                    ], t = null, i = 0; i < e.length; i++) {
                        try {
                            t = e[i]()
                        } catch (e) {
                            continue
                        }
                        break
                    }
                    if (!t)
                        throw Error("XMLHttpRequest is not supported");
                    return t
                }
                ,
                n.fetch = function(e, t) {
                    if (t && "function" != typeof t && (t = null),
                    n.IS_NODE) {
                        var r = i(491);
                        if (t)
                            r.readFile(e, function(e, i) {
                                t(e ? null : "" + i)
                            });
                        else
                            try {
                                return r.readFileSync(e)
                            } catch (e) {
                                return null
                            }
                    } else {
                        var s = n.XHR();
                        if (s.open("GET", e, !!t),
                        s.setRequestHeader("Accept", "text/plain"),
                        "function" == typeof s.overrideMimeType && s.overrideMimeType("text/plain"),
                        !t)
                            return s.send(null),
                            200 == s.status || 0 == s.status && "string" == typeof s.responseText ? s.responseText : null;
                        if (s.onreadystatechange = function() {
                            4 == s.readyState && (200 == s.status || 0 == s.status && "string" == typeof s.responseText ? t(s.responseText) : t(null))
                        }
                        ,
                        4 == s.readyState)
                            return;
                        s.send(null)
                    }
                }
                ,
                n.toCamelCase = function(e) {
                    return e.replace(/_([a-zA-Z])/g, function(e, t) {
                        return t.toUpperCase()
                    })
                }
                ,
                n),
                s.Lang = {
                    DELIM: /[\s\{\}=;:\[\],'"\(\)<>]/g,
                    RULE: /^(?:required|optional|repeated|map)$/,
                    TYPE: /^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,
                    NAME: /^[a-zA-Z_][a-zA-Z_0-9]*$/,
                    TYPEDEF: /^[a-zA-Z][a-zA-Z_0-9]*$/,
                    TYPEREF: /^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,
                    FQTYPEREF: /^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,
                    NUMBER: /^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,
                    NUMBER_DEC: /^(?:[1-9][0-9]*|0)$/,
                    NUMBER_HEX: /^0[xX][0-9a-fA-F]+$/,
                    NUMBER_OCT: /^0[0-7]+$/,
                    NUMBER_FLT: /^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,
                    BOOL: /^(?:true|false)$/i,
                    ID: /^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,
                    NEGID: /^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,
                    WHITESPACE: /\s/,
                    STRING: /(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,
                    STRING_DQ: /(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,
                    STRING_SQ: /(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g
                },
                s.DotProto = function(e, t) {
                    var i = {}
                      , r = function(e) {
                        this.source = e + "",
                        this.index = 0,
                        this.line = 1,
                        this.stack = [],
                        this._stringOpen = null
                    }
                      , n = r.prototype;
                    n._readString = function() {
                        var e = '"' === this._stringOpen ? t.STRING_DQ : t.STRING_SQ;
                        e.lastIndex = this.index - 1;
                        var i = e.exec(this.source);
                        if (!i)
                            throw Error("unterminated string");
                        return this.index = e.lastIndex,
                        this.stack.push(this._stringOpen),
                        this._stringOpen = null,
                        i[1]
                    }
                    ,
                    n.next = function() {
                        if (this.stack.length > 0)
                            return this.stack.shift();
                        if (this.index >= this.source.length)
                            return null;
                        if (null !== this._stringOpen)
                            return this._readString();
                        var e, i, r;
                        do {
                            for (e = !1; t.WHITESPACE.test(r = this.source.charAt(this.index)); )
                                if ("\n" === r && ++this.line,
                                ++this.index === this.source.length)
                                    return null;
                            if ("/" === this.source.charAt(this.index))
                                if (++this.index,
                                "/" === this.source.charAt(this.index)) {
                                    for (; "\n" !== this.source.charAt(++this.index); )
                                        if (this.index == this.source.length)
                                            return null;
                                    ++this.index,
                                    ++this.line,
                                    e = !0
                                } else {
                                    if ("*" !== (r = this.source.charAt(this.index)))
                                        return "/";
                                    do {
                                        if ("\n" === r && ++this.line,
                                        ++this.index === this.source.length)
                                            return null;
                                        i = r,
                                        r = this.source.charAt(this.index)
                                    } while ("*" !== i || "/" !== r);++this.index,
                                    e = !0
                                }
                        } while (e);if (this.index === this.source.length)
                            return null;
                        var n = this.index;
                        if (t.DELIM.lastIndex = 0,
                        !t.DELIM.test(this.source.charAt(n++)))
                            for (; n < this.source.length && !t.DELIM.test(this.source.charAt(n)); )
                                ++n;
                        var s = this.source.substring(this.index, this.index = n);
                        return '"' !== s && "'" !== s || (this._stringOpen = s),
                        s
                    }
                    ,
                    n.peek = function() {
                        if (0 === this.stack.length) {
                            var e = this.next();
                            if (null === e)
                                return null;
                            this.stack.push(e)
                        }
                        return this.stack[0]
                    }
                    ,
                    n.skip = function(e) {
                        var t = this.next();
                        if (t !== e)
                            throw Error("illegal '" + t + "', '" + e + "' expected")
                    }
                    ,
                    n.omit = function(e) {
                        return this.peek() === e && (this.next(),
                        !0)
                    }
                    ,
                    n.toString = function() {
                        return "Tokenizer (" + this.index + "/" + this.source.length + " at line " + this.line + ")"
                    }
                    ,
                    i.Tokenizer = r;
                    var s = function(e) {
                        this.tn = new r(e),
                        this.proto3 = !1
                    }
                      , o = s.prototype;
                    function a(e, i) {
                        var r = -1
                          , n = 1;
                        if ("-" == e.charAt(0) && (n = -1,
                        e = e.substring(1)),
                        t.NUMBER_DEC.test(e))
                            r = parseInt(e);
                        else if (t.NUMBER_HEX.test(e))
                            r = parseInt(e.substring(2), 16);
                        else {
                            if (!t.NUMBER_OCT.test(e))
                                throw Error("illegal id value: " + (n < 0 ? "-" : "") + e);
                            r = parseInt(e.substring(1), 8)
                        }
                        if (r = n * r | 0,
                        !i && r < 0)
                            throw Error("illegal id value: " + (n < 0 ? "-" : "") + e);
                        return r
                    }
                    function f(e) {
                        var i = 1;
                        if ("-" == e.charAt(0) && (i = -1,
                        e = e.substring(1)),
                        t.NUMBER_DEC.test(e))
                            return i * parseInt(e, 10);
                        if (t.NUMBER_HEX.test(e))
                            return i * parseInt(e.substring(2), 16);
                        if (t.NUMBER_OCT.test(e))
                            return i * parseInt(e.substring(1), 8);
                        if ("inf" === e)
                            return i * (1 / 0);
                        if ("nan" === e)
                            return NaN;
                        if (t.NUMBER_FLT.test(e))
                            return i * parseFloat(e);
                        throw Error("illegal number value: " + (i < 0 ? "-" : "") + e)
                    }
                    function h(e, t, i) {
                        void 0 === e[t] ? e[t] = i : (Array.isArray(e[t]) || (e[t] = [e[t]]),
                        e[t].push(i))
                    }
                    return o.parse = function() {
                        var e, i, r = {
                            name: "[ROOT]",
                            package: null,
                            messages: [],
                            enums: [],
                            imports: [],
                            options: {},
                            services: []
                        }, n = !0;
                        try {
                            for (; e = this.tn.next(); )
                                switch (e) {
                                case "package":
                                    if (!n || null !== r.package)
                                        throw Error("unexpected 'package'");
                                    if (e = this.tn.next(),
                                    !t.TYPEREF.test(e))
                                        throw Error("illegal package name: " + e);
                                    this.tn.skip(";"),
                                    r.package = e;
                                    break;
                                case "import":
                                    if (!n)
                                        throw Error("unexpected 'import'");
                                    ("public" === (e = this.tn.peek()) || (i = "weak" === e)) && this.tn.next(),
                                    e = this._readString(),
                                    this.tn.skip(";"),
                                    i || r.imports.push(e);
                                    break;
                                case "syntax":
                                    if (!n)
                                        throw Error("unexpected 'syntax'");
                                    this.tn.skip("="),
                                    "proto3" === (r.syntax = this._readString()) && (this.proto3 = !0),
                                    this.tn.skip(";");
                                    break;
                                case "message":
                                    this._parseMessage(r, null),
                                    n = !1;
                                    break;
                                case "enum":
                                    this._parseEnum(r),
                                    n = !1;
                                    break;
                                case "option":
                                    this._parseOption(r);
                                    break;
                                case "service":
                                    this._parseService(r);
                                    break;
                                case "extend":
                                    this._parseExtend(r);
                                    break;
                                default:
                                    throw Error("unexpected '" + e + "'")
                                }
                        } catch (e) {
                            throw e.message = "Parse error at line " + this.tn.line + ": " + e.message,
                            e
                        }
                        return delete r.name,
                        r
                    }
                    ,
                    s.parse = function(e) {
                        return new s(e).parse()
                    }
                    ,
                    o._readString = function() {
                        var e, t, i = "";
                        do {
                            if ("'" !== (t = this.tn.next()) && '"' !== t)
                                throw Error("illegal string delimiter: " + t);
                            i += this.tn.next(),
                            this.tn.skip(t),
                            e = this.tn.peek()
                        } while ('"' === e || '"' === e);return i
                    }
                    ,
                    o._readValue = function(e) {
                        var i = this.tn.peek();
                        if ('"' === i || "'" === i)
                            return this._readString();
                        if (this.tn.next(),
                        t.NUMBER.test(i))
                            return f(i);
                        if (t.BOOL.test(i))
                            return "true" === i.toLowerCase();
                        if (e && t.TYPEREF.test(i))
                            return i;
                        throw Error("illegal value: " + i)
                    }
                    ,
                    o._parseOption = function(e, i) {
                        var r = this.tn.next()
                          , n = !1;
                        if ("(" === r && (n = !0,
                        r = this.tn.next()),
                        !t.TYPEREF.test(r))
                            throw Error("illegal option name: " + r);
                        var s = r;
                        n && (this.tn.skip(")"),
                        s = "(" + s + ")",
                        r = this.tn.peek(),
                        t.FQTYPEREF.test(r) && (s += r,
                        this.tn.next())),
                        this.tn.skip("="),
                        this._parseOptionValue(e, s),
                        i || this.tn.skip(";")
                    }
                    ,
                    o._parseOptionValue = function(e, i) {
                        var r = this.tn.peek();
                        if ("{" !== r)
                            h(e.options, i, this._readValue(!0));
                        else
                            for (this.tn.skip("{"); "}" !== (r = this.tn.next()); ) {
                                if (!t.NAME.test(r))
                                    throw Error("illegal option name: " + i + "." + r);
                                this.tn.omit(":") ? h(e.options, i + "." + r, this._readValue(!0)) : this._parseOptionValue(e, i + "." + r)
                            }
                    }
                    ,
                    o._parseService = function(e) {
                        var i = this.tn.next();
                        if (!t.NAME.test(i))
                            throw Error("illegal service name at line " + this.tn.line + ": " + i);
                        var r = {
                            name: i,
                            rpc: {},
                            options: {}
                        };
                        for (this.tn.skip("{"); "}" !== (i = this.tn.next()); )
                            if ("option" === i)
                                this._parseOption(r);
                            else {
                                if ("rpc" !== i)
                                    throw Error("illegal service token: " + i);
                                this._parseServiceRPC(r)
                            }
                        this.tn.omit(";"),
                        e.services.push(r)
                    }
                    ,
                    o._parseServiceRPC = function(e) {
                        var i = this.tn.next();
                        if (!t.NAME.test(i))
                            throw Error("illegal rpc service method name: " + i);
                        var r = i
                          , n = {
                            request: null,
                            response: null,
                            request_stream: !1,
                            response_stream: !1,
                            options: {}
                        };
                        if (this.tn.skip("("),
                        "stream" === (i = this.tn.next()).toLowerCase() && (n.request_stream = !0,
                        i = this.tn.next()),
                        !t.TYPEREF.test(i))
                            throw Error("illegal rpc service request type: " + i);
                        if (n.request = i,
                        this.tn.skip(")"),
                        "returns" !== (i = this.tn.next()).toLowerCase())
                            throw Error("illegal rpc service request type delimiter: " + i);
                        if (this.tn.skip("("),
                        "stream" === (i = this.tn.next()).toLowerCase() && (n.response_stream = !0,
                        i = this.tn.next()),
                        n.response = i,
                        this.tn.skip(")"),
                        "{" === (i = this.tn.peek())) {
                            for (this.tn.next(); "}" !== (i = this.tn.next()); ) {
                                if ("option" !== i)
                                    throw Error("illegal rpc service token: " + i);
                                this._parseOption(n)
                            }
                            this.tn.omit(";")
                        } else
                            this.tn.skip(";");
                        void 0 === e.rpc && (e.rpc = {}),
                        e.rpc[r] = n
                    }
                    ,
                    o._parseMessage = function(e, i) {
                        var r = !!i
                          , n = this.tn.next()
                          , s = {
                            name: "",
                            fields: [],
                            enums: [],
                            messages: [],
                            options: {},
                            services: [],
                            oneofs: {}
                        };
                        if (!t.NAME.test(n))
                            throw Error("illegal " + (r ? "group" : "message") + " name: " + n);
                        for (s.name = n,
                        r && (this.tn.skip("="),
                        i.id = a(this.tn.next()),
                        s.isGroup = !0),
                        "[" === (n = this.tn.peek()) && i && this._parseFieldOptions(i),
                        this.tn.skip("{"); "}" !== (n = this.tn.next()); )
                            if (t.RULE.test(n))
                                this._parseMessageField(s, n);
                            else if ("oneof" === n)
                                this._parseMessageOneOf(s);
                            else if ("enum" === n)
                                this._parseEnum(s);
                            else if ("message" === n)
                                this._parseMessage(s);
                            else if ("option" === n)
                                this._parseOption(s);
                            else if ("service" === n)
                                this._parseService(s);
                            else if ("extensions" === n)
                                s.extensions = this._parseExtensionRanges();
                            else if ("reserved" === n)
                                this._parseIgnored();
                            else if ("extend" === n)
                                this._parseExtend(s);
                            else {
                                if (!t.TYPEREF.test(n))
                                    throw Error("illegal message token: " + n);
                                if (!this.proto3)
                                    throw Error("illegal field rule: " + n);
                                this._parseMessageField(s, "optional", n)
                            }
                        return this.tn.omit(";"),
                        e.messages.push(s),
                        s
                    }
                    ,
                    o._parseIgnored = function() {
                        for (; ";" !== this.tn.peek(); )
                            this.tn.next();
                        this.tn.skip(";")
                    }
                    ,
                    o._parseMessageField = function(e, i, r) {
                        if (!t.RULE.test(i))
                            throw Error("illegal message field rule: " + i);
                        var n, s = {
                            rule: i,
                            type: "",
                            name: "",
                            options: {},
                            id: 0
                        };
                        if ("map" === i) {
                            if (r)
                                throw Error("illegal type: " + r);
                            if (this.tn.skip("<"),
                            n = this.tn.next(),
                            !t.TYPE.test(n) && !t.TYPEREF.test(n))
                                throw Error("illegal message field type: " + n);
                            if (s.keytype = n,
                            this.tn.skip(","),
                            n = this.tn.next(),
                            !t.TYPE.test(n) && !t.TYPEREF.test(n))
                                throw Error("illegal message field: " + n);
                            if (s.type = n,
                            this.tn.skip(">"),
                            n = this.tn.next(),
                            !t.NAME.test(n))
                                throw Error("illegal message field name: " + n);
                            s.name = n,
                            this.tn.skip("="),
                            s.id = a(this.tn.next()),
                            "[" === (n = this.tn.peek()) && this._parseFieldOptions(s),
                            this.tn.skip(";")
                        } else if ("group" === (r = void 0 !== r ? r : this.tn.next())) {
                            var o = this._parseMessage(e, s);
                            if (!/^[A-Z]/.test(o.name))
                                throw Error("illegal group name: " + o.name);
                            s.type = o.name,
                            s.name = o.name.toLowerCase(),
                            this.tn.omit(";")
                        } else {
                            if (!t.TYPE.test(r) && !t.TYPEREF.test(r))
                                throw Error("illegal message field type: " + r);
                            if (s.type = r,
                            n = this.tn.next(),
                            !t.NAME.test(n))
                                throw Error("illegal message field name: " + n);
                            s.name = n,
                            this.tn.skip("="),
                            s.id = a(this.tn.next()),
                            "[" === (n = this.tn.peek()) && this._parseFieldOptions(s),
                            this.tn.skip(";")
                        }
                        return e.fields.push(s),
                        s
                    }
                    ,
                    o._parseMessageOneOf = function(e) {
                        var i = this.tn.next();
                        if (!t.NAME.test(i))
                            throw Error("illegal oneof name: " + i);
                        var r, n = i, s = [];
                        for (this.tn.skip("{"); "}" !== (i = this.tn.next()); )
                            (r = this._parseMessageField(e, "optional", i)).oneof = n,
                            s.push(r.id);
                        this.tn.omit(";"),
                        e.oneofs[n] = s
                    }
                    ,
                    o._parseFieldOptions = function(e) {
                        this.tn.skip("[");
                        for (var t = !0; "]" !== this.tn.peek(); )
                            t || this.tn.skip(","),
                            this._parseOption(e, !0),
                            t = !1;
                        this.tn.next()
                    }
                    ,
                    o._parseEnum = function(e) {
                        var i = {
                            name: "",
                            values: [],
                            options: {}
                        }
                          , r = this.tn.next();
                        if (!t.NAME.test(r))
                            throw Error("illegal name: " + r);
                        for (i.name = r,
                        this.tn.skip("{"); "}" !== (r = this.tn.next()); )
                            if ("option" === r)
                                this._parseOption(i);
                            else {
                                if (!t.NAME.test(r))
                                    throw Error("illegal name: " + r);
                                this.tn.skip("=");
                                var n = {
                                    name: r,
                                    id: a(this.tn.next(), !0)
                                };
                                "[" === (r = this.tn.peek()) && this._parseFieldOptions({
                                    options: {}
                                }),
                                this.tn.skip(";"),
                                i.values.push(n)
                            }
                        this.tn.omit(";"),
                        e.enums.push(i)
                    }
                    ,
                    o._parseExtensionRanges = function() {
                        var t, i, r, n = [];
                        do {
                            for (i = []; ; ) {
                                switch (t = this.tn.next()) {
                                case "min":
                                    r = e.ID_MIN;
                                    break;
                                case "max":
                                    r = e.ID_MAX;
                                    break;
                                default:
                                    r = f(t)
                                }
                                if (i.push(r),
                                2 === i.length)
                                    break;
                                if ("to" !== this.tn.peek()) {
                                    i.push(r);
                                    break
                                }
                                this.tn.next()
                            }
                            n.push(i)
                        } while (this.tn.omit(","));return this.tn.skip(";"),
                        n
                    }
                    ,
                    o._parseExtend = function(e) {
                        var i = this.tn.next();
                        if (!t.TYPEREF.test(i))
                            throw Error("illegal extend reference: " + i);
                        var r = {
                            ref: i,
                            fields: []
                        };
                        for (this.tn.skip("{"); "}" !== (i = this.tn.next()); )
                            if (t.RULE.test(i))
                                this._parseMessageField(r, i);
                            else {
                                if (!t.TYPEREF.test(i))
                                    throw Error("illegal extend token: " + i);
                                if (!this.proto3)
                                    throw Error("illegal field rule: " + i);
                                this._parseMessageField(r, "optional", i)
                            }
                        return this.tn.omit(";"),
                        e.messages.push(r),
                        r
                    }
                    ,
                    o.toString = function() {
                        return "Parser at line " + this.tn.line
                    }
                    ,
                    i.Parser = s,
                    i
                }(s, s.Lang),
                s.Reflect = function(t) {
                    var i = {}
                      , r = function(e, t, i) {
                        this.builder = e,
                        this.parent = t,
                        this.name = i,
                        this.className
                    }
                      , n = r.prototype;
                    n.fqn = function() {
                        for (var e = this.name, t = this; null != (t = t.parent); )
                            e = t.name + "." + e;
                        return e
                    }
                    ,
                    n.toString = function(e) {
                        return (e ? this.className + " " : "") + this.fqn()
                    }
                    ,
                    n.build = function() {
                        throw Error(this.toString(!0) + " cannot be built directly")
                    }
                    ,
                    i.T = r;
                    var s = function(e, t, i, n, s) {
                        r.call(this, e, t, i),
                        this.className = "Namespace",
                        this.children = [],
                        this.options = n || {},
                        this.syntax = s || "proto2"
                    }
                      , o = s.prototype = Object.create(r.prototype);
                    o.getChildren = function(e) {
                        if (null == (e = e || null))
                            return this.children.slice();
                        for (var t = [], i = 0, r = this.children.length; i < r; ++i)
                            this.children[i]instanceof e && t.push(this.children[i]);
                        return t
                    }
                    ,
                    o.addChild = function(e) {
                        var t;
                        if (t = this.getChild(e.name))
                            if (t instanceof l.Field && t.name !== t.originalName && null === this.getChild(t.originalName))
                                t.name = t.originalName;
                            else {
                                if (!(e instanceof l.Field && e.name !== e.originalName && null === this.getChild(e.originalName)))
                                    throw Error("Duplicate name in namespace " + this.toString(!0) + ": " + e.name);
                                e.name = e.originalName
                            }
                        this.children.push(e)
                    }
                    ,
                    o.getChild = function(e) {
                        for (var t = "number" == typeof e ? "id" : "name", i = 0, r = this.children.length; i < r; ++i)
                            if (this.children[i][t] === e)
                                return this.children[i];
                        return null
                    }
                    ,
                    o.resolve = function(e, t) {
                        var r, n = "string" == typeof e ? e.split(".") : e, s = this, o = 0;
                        if ("" === n[o]) {
                            for (; null !== s.parent; )
                                s = s.parent;
                            o++
                        }
                        do {
                            do {
                                if (!(s instanceof i.Namespace)) {
                                    s = null;
                                    break
                                }
                                if (!(r = s.getChild(n[o])) || !(r instanceof i.T) || t && !(r instanceof i.Namespace)) {
                                    s = null;
                                    break
                                }
                                s = r,
                                o++
                            } while (o < n.length);if (null != s)
                                break;
                            if (null !== this.parent)
                                return this.parent.resolve(e, t)
                        } while (null != s);return s
                    }
                    ,
                    o.qn = function(e) {
                        var t = []
                          , r = e;
                        do {
                            t.unshift(r.name),
                            r = r.parent
                        } while (null !== r);for (var n = 1; n <= t.length; n++) {
                            var s = t.slice(t.length - n);
                            if (e === this.resolve(s, e instanceof i.Namespace))
                                return s.join(".")
                        }
                        return e.fqn()
                    }
                    ,
                    o.build = function() {
                        for (var e, t = {}, i = this.children, r = 0, n = i.length; r < n; ++r)
                            (e = i[r])instanceof s && (t[e.name] = e.build());
                        return Object.defineProperty && Object.defineProperty(t, "$options", {
                            value: this.buildOpt()
                        }),
                        t
                    }
                    ,
                    o.buildOpt = function() {
                        for (var e = {}, t = Object.keys(this.options), i = 0, r = t.length; i < r; ++i) {
                            var n = t[i]
                              , s = this.options[t[i]];
                            e[n] = s
                        }
                        return e
                    }
                    ,
                    o.getOption = function(e) {
                        return void 0 === e ? this.options : void 0 !== this.options[e] ? this.options[e] : null
                    }
                    ,
                    i.Namespace = s;
                    var a = function(e, i, r, n) {
                        if (this.type = e,
                        this.resolvedType = i,
                        this.isMapKey = r,
                        this.syntax = n,
                        r && t.MAP_KEY_TYPES.indexOf(e) < 0)
                            throw Error("Invalid map key type: " + e.name)
                    }
                      , f = a.prototype;
                    function h(e, i) {
                        if (e && "number" == typeof e.low && "number" == typeof e.high && "boolean" == typeof e.unsigned && e.low == e.low && e.high == e.high)
                            return new t.Long(e.low,e.high,void 0 === i ? e.unsigned : i);
                        if ("string" == typeof e)
                            return t.Long.fromString(e, i || !1, 10);
                        if ("number" == typeof e)
                            return t.Long.fromNumber(e, i || !1);
                        throw Error("not convertible to Long")
                    }
                    a.defaultFieldValue = function(i) {
                        if ("string" == typeof i && (i = t.TYPES[i]),
                        void 0 === i.defaultValue)
                            throw Error("default value for type " + i.name + " is not supported");
                        return i == t.TYPES.bytes ? new e(0) : i.defaultValue
                    }
                    ,
                    f.verifyValue = function(i) {
                        var r = this;
                        function n(e, t) {
                            throw Error("Illegal value for " + r.toString(!0) + " of type " + r.type.name + ": " + e + " (" + t + ")")
                        }
                        switch (this.type) {
                        case t.TYPES.int32:
                        case t.TYPES.sint32:
                        case t.TYPES.sfixed32:
                            return ("number" != typeof i || i == i && i % 1 != 0) && n(typeof i, "not an integer"),
                            i > 4294967295 ? 0 | i : i;
                        case t.TYPES.uint32:
                        case t.TYPES.fixed32:
                            return ("number" != typeof i || i == i && i % 1 != 0) && n(typeof i, "not an integer"),
                            i < 0 ? i >>> 0 : i;
                        case t.TYPES.int64:
                        case t.TYPES.sint64:
                        case t.TYPES.sfixed64:
                            if (t.Long)
                                try {
                                    return h(i, !1)
                                } catch (e) {
                                    n(typeof i, e.message)
                                }
                            else
                                n(typeof i, "requires Long.js");
                        case t.TYPES.uint64:
                        case t.TYPES.fixed64:
                            if (t.Long)
                                try {
                                    return h(i, !0)
                                } catch (e) {
                                    n(typeof i, e.message)
                                }
                            else
                                n(typeof i, "requires Long.js");
                        case t.TYPES.bool:
                            return "boolean" != typeof i && n(typeof i, "not a boolean"),
                            i;
                        case t.TYPES.float:
                        case t.TYPES.double:
                            return "number" != typeof i && n(typeof i, "not a number"),
                            i;
                        case t.TYPES.string:
                            return "string" == typeof i || i && i instanceof String || n(typeof i, "not a string"),
                            "" + i;
                        case t.TYPES.bytes:
                            return e.isByteBuffer(i) ? i : e.wrap(i, "base64");
                        case t.TYPES.enum:
                            var s = this.resolvedType.getChildren(t.Reflect.Enum.Value);
                            for (a = 0; a < s.length; a++) {
                                if (s[a].name == i)
                                    return s[a].id;
                                if (s[a].id == i)
                                    return s[a].id
                            }
                            if ("proto3" === this.syntax)
                                return ("number" != typeof i || i == i && i % 1 != 0) && n(typeof i, "not an integer"),
                                (i > 4294967295 || i < 0) && n(typeof i, "not in range for uint32"),
                                i;
                            n(i, "not a valid enum value");
                        case t.TYPES.group:
                        case t.TYPES.message:
                            if (i && "object" == typeof i || n(typeof i, "object expected"),
                            i instanceof this.resolvedType.clazz)
                                return i;
                            if (i instanceof t.Builder.Message) {
                                var o = {};
                                for (var a in i)
                                    i.hasOwnProperty(a) && (o[a] = i[a]);
                                i = o
                            }
                            return new this.resolvedType.clazz(i)
                        }
                        throw Error("[INTERNAL] Illegal value for " + this.toString(!0) + ": " + i + " (undefined type " + this.type + ")")
                    }
                    ,
                    f.calculateLength = function(i, r) {
                        if (null === r)
                            return 0;
                        var n;
                        switch (this.type) {
                        case t.TYPES.int32:
                            return r < 0 ? e.calculateVarint64(r) : e.calculateVarint32(r);
                        case t.TYPES.uint32:
                            return e.calculateVarint32(r);
                        case t.TYPES.sint32:
                            return e.calculateVarint32(e.zigZagEncode32(r));
                        case t.TYPES.fixed32:
                        case t.TYPES.sfixed32:
                        case t.TYPES.float:
                            return 4;
                        case t.TYPES.int64:
                        case t.TYPES.uint64:
                            return e.calculateVarint64(r);
                        case t.TYPES.sint64:
                            return e.calculateVarint64(e.zigZagEncode64(r));
                        case t.TYPES.fixed64:
                        case t.TYPES.sfixed64:
                            return 8;
                        case t.TYPES.bool:
                            return 1;
                        case t.TYPES.enum:
                            return e.calculateVarint32(r);
                        case t.TYPES.double:
                            return 8;
                        case t.TYPES.string:
                            return n = e.calculateUTF8Bytes(r),
                            e.calculateVarint32(n) + n;
                        case t.TYPES.bytes:
                            if (r.remaining() < 0)
                                throw Error("Illegal value for " + this.toString(!0) + ": " + r.remaining() + " bytes remaining");
                            return e.calculateVarint32(r.remaining()) + r.remaining();
                        case t.TYPES.message:
                            return n = this.resolvedType.calculate(r),
                            e.calculateVarint32(n) + n;
                        case t.TYPES.group:
                            return (n = this.resolvedType.calculate(r)) + e.calculateVarint32(i << 3 | t.WIRE_TYPES.ENDGROUP)
                        }
                        throw Error("[INTERNAL] Illegal value to encode in " + this.toString(!0) + ": " + r + " (unknown type)")
                    }
                    ,
                    f.encodeValue = function(i, r, n) {
                        if (null === r)
                            return n;
                        switch (this.type) {
                        case t.TYPES.int32:
                            r < 0 ? n.writeVarint64(r) : n.writeVarint32(r);
                            break;
                        case t.TYPES.uint32:
                            n.writeVarint32(r);
                            break;
                        case t.TYPES.sint32:
                            n.writeVarint32ZigZag(r);
                            break;
                        case t.TYPES.fixed32:
                            n.writeUint32(r);
                            break;
                        case t.TYPES.sfixed32:
                            n.writeInt32(r);
                            break;
                        case t.TYPES.int64:
                        case t.TYPES.uint64:
                            n.writeVarint64(r);
                            break;
                        case t.TYPES.sint64:
                            n.writeVarint64ZigZag(r);
                            break;
                        case t.TYPES.fixed64:
                            n.writeUint64(r);
                            break;
                        case t.TYPES.sfixed64:
                            n.writeInt64(r);
                            break;
                        case t.TYPES.bool:
                            "string" == typeof r ? n.writeVarint32("false" === r.toLowerCase() ? 0 : !!r) : n.writeVarint32(r ? 1 : 0);
                            break;
                        case t.TYPES.enum:
                            n.writeVarint32(r);
                            break;
                        case t.TYPES.float:
                            n.writeFloat32(r);
                            break;
                        case t.TYPES.double:
                            n.writeFloat64(r);
                            break;
                        case t.TYPES.string:
                            n.writeVString(r);
                            break;
                        case t.TYPES.bytes:
                            if (r.remaining() < 0)
                                throw Error("Illegal value for " + this.toString(!0) + ": " + r.remaining() + " bytes remaining");
                            var s = r.offset;
                            n.writeVarint32(r.remaining()),
                            n.append(r),
                            r.offset = s;
                            break;
                        case t.TYPES.message:
                            var o = (new e).LE();
                            this.resolvedType.encode(r, o),
                            n.writeVarint32(o.offset),
                            n.append(o.flip());
                            break;
                        case t.TYPES.group:
                            this.resolvedType.encode(r, n),
                            n.writeVarint32(i << 3 | t.WIRE_TYPES.ENDGROUP);
                            break;
                        default:
                            throw Error("[INTERNAL] Illegal value to encode in " + this.toString(!0) + ": " + r + " (unknown type)")
                        }
                        return n
                    }
                    ,
                    f.decode = function(e, i, r) {
                        if (i != this.type.wireType)
                            throw Error("Unexpected wire type for element");
                        var n, s;
                        switch (this.type) {
                        case t.TYPES.int32:
                            return 0 | e.readVarint32();
                        case t.TYPES.uint32:
                            return e.readVarint32() >>> 0;
                        case t.TYPES.sint32:
                            return 0 | e.readVarint32ZigZag();
                        case t.TYPES.fixed32:
                            return e.readUint32() >>> 0;
                        case t.TYPES.sfixed32:
                            return 0 | e.readInt32();
                        case t.TYPES.int64:
                            return e.readVarint64();
                        case t.TYPES.uint64:
                            return e.readVarint64().toUnsigned();
                        case t.TYPES.sint64:
                            return e.readVarint64ZigZag();
                        case t.TYPES.fixed64:
                            return e.readUint64();
                        case t.TYPES.sfixed64:
                            return e.readInt64();
                        case t.TYPES.bool:
                            return !!e.readVarint32();
                        case t.TYPES.enum:
                            return e.readVarint32();
                        case t.TYPES.float:
                            return e.readFloat();
                        case t.TYPES.double:
                            return e.readDouble();
                        case t.TYPES.string:
                            return e.readVString();
                        case t.TYPES.bytes:
                            if (s = e.readVarint32(),
                            e.remaining() < s)
                                throw Error("Illegal number of bytes for " + this.toString(!0) + ": " + s + " required but got only " + e.remaining());
                            return (n = e.clone()).limit = n.offset + s,
                            e.offset += s,
                            n;
                        case t.TYPES.message:
                            return s = e.readVarint32(),
                            this.resolvedType.decode(e, s);
                        case t.TYPES.group:
                            return this.resolvedType.decode(e, -1, r)
                        }
                        throw Error("[INTERNAL] Illegal decode type")
                    }
                    ,
                    f.valueFromString = function(i) {
                        if (!this.isMapKey)
                            throw Error("valueFromString() called on non-map-key element");
                        switch (this.type) {
                        case t.TYPES.int32:
                        case t.TYPES.sint32:
                        case t.TYPES.sfixed32:
                        case t.TYPES.uint32:
                        case t.TYPES.fixed32:
                            return this.verifyValue(parseInt(i));
                        case t.TYPES.int64:
                        case t.TYPES.sint64:
                        case t.TYPES.sfixed64:
                        case t.TYPES.uint64:
                        case t.TYPES.fixed64:
                            return this.verifyValue(i);
                        case t.TYPES.bool:
                            return "true" === i;
                        case t.TYPES.string:
                            return this.verifyValue(i);
                        case t.TYPES.bytes:
                            return e.fromBinary(i)
                        }
                    }
                    ,
                    f.valueToString = function(e) {
                        if (!this.isMapKey)
                            throw Error("valueToString() called on non-map-key element");
                        return this.type === t.TYPES.bytes ? e.toString("binary") : e.toString()
                    }
                    ,
                    i.Element = a;
                    var l = function(e, t, i, r, n, o) {
                        s.call(this, e, t, i, r, o),
                        this.className = "Message",
                        this.extensions = void 0,
                        this.clazz = null,
                        this.isGroup = !!n,
                        this._fields = null,
                        this._fieldsById = null,
                        this._fieldsByName = null
                    }
                      , u = l.prototype = Object.create(s.prototype);
                    function c(e, i) {
                        var r = i.readVarint32()
                          , n = 7 & r
                          , s = r >>> 3;
                        switch (n) {
                        case t.WIRE_TYPES.VARINT:
                            do {
                                r = i.readUint8()
                            } while (128 == (128 & r));break;
                        case t.WIRE_TYPES.BITS64:
                            i.offset += 8;
                            break;
                        case t.WIRE_TYPES.LDELIM:
                            r = i.readVarint32(),
                            i.offset += r;
                            break;
                        case t.WIRE_TYPES.STARTGROUP:
                            c(s, i);
                            break;
                        case t.WIRE_TYPES.ENDGROUP:
                            if (s === e)
                                return !1;
                            throw Error("Illegal GROUPEND after unknown group: " + s + " (" + e + " expected)");
                        case t.WIRE_TYPES.BITS32:
                            i.offset += 4;
                            break;
                        default:
                            throw Error("Illegal wire type in unknown group " + e + ": " + n)
                        }
                        return !0
                    }
                    u.build = function(i) {
                        if (this.clazz && !i)
                            return this.clazz;
                        var r = function(t, i) {
                            var r = i.getChildren(t.Reflect.Message.Field)
                              , n = i.getChildren(t.Reflect.Message.OneOf)
                              , s = function(o, a) {
                                t.Builder.Message.call(this);
                                for (var f = 0, h = n.length; f < h; ++f)
                                    this[n[f].name] = null;
                                for (f = 0,
                                h = r.length; f < h; ++f) {
                                    var l = r[f];
                                    this[l.name] = l.repeated ? [] : l.map ? new t.Map(l) : null,
                                    !l.required && "proto3" !== i.syntax || null === l.defaultValue || (this[l.name] = l.defaultValue)
                                }
                                var u;
                                if (arguments.length > 0)
                                    if (1 !== arguments.length || null === o || "object" != typeof o || !("function" != typeof o.encode || o instanceof s) || Array.isArray(o) || o instanceof t.Map || e.isByteBuffer(o) || o instanceof ArrayBuffer || t.Long && o instanceof t.Long)
                                        for (f = 0,
                                        h = arguments.length; f < h; ++f)
                                            void 0 !== (u = arguments[f]) && this.$set(r[f].name, u);
                                    else
                                        this.$set(o)
                            }
                              , o = s.prototype = Object.create(t.Builder.Message.prototype);
                            o.add = function(e, r, n) {
                                var s = i._fieldsByName[e];
                                if (!n) {
                                    if (!s)
                                        throw Error(this + "#" + e + " is undefined");
                                    if (!(s instanceof t.Reflect.Message.Field))
                                        throw Error(this + "#" + e + " is not a field: " + s.toString(!0));
                                    if (!s.repeated)
                                        throw Error(this + "#" + e + " is not a repeated field");
                                    r = s.verifyValue(r, !0)
                                }
                                return null === this[e] && (this[e] = []),
                                this[e].push(r),
                                this
                            }
                            ,
                            o.$add = o.add,
                            o.set = function(e, r, n) {
                                if (e && "object" == typeof e) {
                                    for (var s in n = r,
                                    e)
                                        e.hasOwnProperty(s) && void 0 !== (r = e[s]) && this.$set(s, r, n);
                                    return this
                                }
                                var o = i._fieldsByName[e];
                                if (n)
                                    this[e] = r;
                                else {
                                    if (!o)
                                        throw Error(this + "#" + e + " is not a field: undefined");
                                    if (!(o instanceof t.Reflect.Message.Field))
                                        throw Error(this + "#" + e + " is not a field: " + o.toString(!0));
                                    this[o.name] = r = o.verifyValue(r)
                                }
                                if (o && o.oneof) {
                                    var a = this[o.oneof.name];
                                    null !== r ? (null !== a && a !== o.name && (this[a] = null),
                                    this[o.oneof.name] = o.name) : a === e && (this[o.oneof.name] = null)
                                }
                                return this
                            }
                            ,
                            o.$set = o.set,
                            o.get = function(e, r) {
                                if (r)
                                    return this[e];
                                var n = i._fieldsByName[e];
                                if (!(n && n instanceof t.Reflect.Message.Field))
                                    throw Error(this + "#" + e + " is not a field: undefined");
                                if (!(n instanceof t.Reflect.Message.Field))
                                    throw Error(this + "#" + e + " is not a field: " + n.toString(!0));
                                return this[n.name]
                            }
                            ,
                            o.$get = o.get;
                            for (var a = 0; a < r.length; a++) {
                                var f = r[a];
                                f instanceof t.Reflect.Message.ExtensionField || i.builder.options.populateAccessors && function(e) {
                                    var t = e.originalName.replace(/(_[a-zA-Z])/g, function(e) {
                                        return e.toUpperCase().replace("_", "")
                                    });
                                    t = t.substring(0, 1).toUpperCase() + t.substring(1);
                                    var r = e.originalName.replace(/([A-Z])/g, function(e) {
                                        return "_" + e
                                    })
                                      , n = function(t, i) {
                                        return this[e.name] = i ? t : e.verifyValue(t),
                                        this
                                    }
                                      , s = function() {
                                        return this[e.name]
                                    };
                                    null === i.getChild("set" + t) && (o["set" + t] = n),
                                    null === i.getChild("set_" + r) && (o["set_" + r] = n),
                                    null === i.getChild("get" + t) && (o["get" + t] = s),
                                    null === i.getChild("get_" + r) && (o["get_" + r] = s)
                                }(f)
                            }
                            function h(i, r, n, s) {
                                if (null === i || "object" != typeof i) {
                                    if (s && s instanceof t.Reflect.Enum) {
                                        var o = t.Reflect.Enum.getName(s.object, i);
                                        if (null !== o)
                                            return o
                                    }
                                    return i
                                }
                                if (e.isByteBuffer(i))
                                    return r ? i.toBase64() : i.toBuffer();
                                if (t.Long.isLong(i))
                                    return n ? i.toString() : t.Long.fromValue(i);
                                var a;
                                if (Array.isArray(i))
                                    return a = [],
                                    i.forEach(function(e, t) {
                                        a[t] = h(e, r, n, s)
                                    }),
                                    a;
                                if (a = {},
                                i instanceof t.Map) {
                                    for (var f = i.entries(), l = f.next(); !l.done; l = f.next())
                                        a[i.keyElem.valueToString(l.value[0])] = h(l.value[1], r, n, i.valueElem.resolvedType);
                                    return a
                                }
                                var u = i.$type
                                  , c = void 0;
                                for (var p in i)
                                    i.hasOwnProperty(p) && (u && (c = u.getChild(p)) ? a[p] = h(i[p], r, n, c.resolvedType) : a[p] = h(i[p], r, n));
                                return a
                            }
                            return o.encode = function(t, r) {
                                "boolean" == typeof t && (r = t,
                                t = void 0);
                                var n = !1;
                                t || (t = new e,
                                n = !0);
                                var s = t.littleEndian;
                                try {
                                    return i.encode(this, t.LE(), r),
                                    (n ? t.flip() : t).LE(s)
                                } catch (e) {
                                    throw t.LE(s),
                                    e
                                }
                            }
                            ,
                            s.encode = function(e, t, i) {
                                return new s(e).encode(t, i)
                            }
                            ,
                            o.calculate = function() {
                                return i.calculate(this)
                            }
                            ,
                            o.encodeDelimited = function(t, r) {
                                var n = !1;
                                t || (t = new e,
                                n = !0);
                                var s = (new e).LE();
                                return i.encode(this, s, r).flip(),
                                t.writeVarint32(s.remaining()),
                                t.append(s),
                                n ? t.flip() : t
                            }
                            ,
                            o.encodeAB = function() {
                                try {
                                    return this.encode().toArrayBuffer()
                                } catch (e) {
                                    throw e.encoded && (e.encoded = e.encoded.toArrayBuffer()),
                                    e
                                }
                            }
                            ,
                            o.toArrayBuffer = o.encodeAB,
                            o.encodeNB = function() {
                                try {
                                    return this.encode().toBuffer()
                                } catch (e) {
                                    throw e.encoded && (e.encoded = e.encoded.toBuffer()),
                                    e
                                }
                            }
                            ,
                            o.toBuffer = o.encodeNB,
                            o.encode64 = function() {
                                try {
                                    return this.encode().toBase64()
                                } catch (e) {
                                    throw e.encoded && (e.encoded = e.encoded.toBase64()),
                                    e
                                }
                            }
                            ,
                            o.toBase64 = o.encode64,
                            o.encodeHex = function() {
                                try {
                                    return this.encode().toHex()
                                } catch (e) {
                                    throw e.encoded && (e.encoded = e.encoded.toHex()),
                                    e
                                }
                            }
                            ,
                            o.toHex = o.encodeHex,
                            o.toRaw = function(e, t) {
                                return h(this, !!e, !!t, this.$type)
                            }
                            ,
                            o.encodeJSON = function() {
                                return JSON.stringify(h(this, !0, !0, this.$type))
                            }
                            ,
                            s.decode = function(t, r, n) {
                                "string" == typeof r && (n = r,
                                r = -1),
                                "string" == typeof t && (t = e.wrap(t, n || "base64"));
                                var s = (t = e.isByteBuffer(t) ? t : e.wrap(t)).littleEndian;
                                try {
                                    var o = i.decode(t.LE());
                                    return t.LE(s),
                                    o
                                } catch (e) {
                                    throw t.LE(s),
                                    e
                                }
                            }
                            ,
                            s.decodeDelimited = function(t, r) {
                                if ("string" == typeof t && (t = e.wrap(t, r || "base64")),
                                (t = e.isByteBuffer(t) ? t : e.wrap(t)).remaining() < 1)
                                    return null;
                                var n = t.offset
                                  , s = t.readVarint32();
                                if (t.remaining() < s)
                                    return t.offset = n,
                                    null;
                                try {
                                    var o = i.decode(t.slice(t.offset, t.offset + s).LE());
                                    return t.offset += s,
                                    o
                                } catch (e) {
                                    throw t.offset += s,
                                    e
                                }
                            }
                            ,
                            s.decode64 = function(e) {
                                return s.decode(e, "base64")
                            }
                            ,
                            s.decodeHex = function(e) {
                                return s.decode(e, "hex")
                            }
                            ,
                            s.decodeJSON = function(e) {
                                return new s(JSON.parse(e))
                            }
                            ,
                            o.toString = function() {
                                return i.toString()
                            }
                            ,
                            Object.defineProperty && (Object.defineProperty(s, "$options", {
                                value: i.buildOpt()
                            }),
                            Object.defineProperty(o, "$options", {
                                value: s.$options
                            }),
                            Object.defineProperty(s, "$type", {
                                value: i
                            }),
                            Object.defineProperty(o, "$type", {
                                value: i
                            })),
                            s
                        }(t, this);
                        this._fields = [],
                        this._fieldsById = {},
                        this._fieldsByName = {};
                        for (var n, s = 0, o = this.children.length; s < o; s++)
                            if ((n = this.children[s])instanceof y || n instanceof l || n instanceof m) {
                                if (r.hasOwnProperty(n.name))
                                    throw Error("Illegal reflect child of " + this.toString(!0) + ": " + n.toString(!0) + " cannot override static property '" + n.name + "'");
                                r[n.name] = n.build()
                            } else if (n instanceof l.Field)
                                n.build(),
                                this._fields.push(n),
                                this._fieldsById[n.id] = n,
                                this._fieldsByName[n.name] = n;
                            else if (!(n instanceof l.OneOf || n instanceof w))
                                throw Error("Illegal reflect child of " + this.toString(!0) + ": " + this.children[s].toString(!0));
                        return this.clazz = r
                    }
                    ,
                    u.encode = function(e, t, i) {
                        for (var r, n, s = null, o = 0, a = this._fields.length; o < a; ++o)
                            n = e[(r = this._fields[o]).name],
                            r.required && null === n ? null === s && (s = r) : r.encode(i ? n : r.verifyValue(n), t, e);
                        if (null !== s) {
                            var f = Error("Missing at least one required field for " + this.toString(!0) + ": " + s);
                            throw f.encoded = t,
                            f
                        }
                        return t
                    }
                    ,
                    u.calculate = function(e) {
                        for (var t, i, r = 0, n = 0, s = this._fields.length; n < s; ++n) {
                            if (i = e[(t = this._fields[n]).name],
                            t.required && null === i)
                                throw Error("Missing at least one required field for " + this.toString(!0) + ": " + t);
                            r += t.calculate(i, e)
                        }
                        return r
                    }
                    ,
                    u.decode = function(e, i, r) {
                        i = "number" == typeof i ? i : -1;
                        for (var n, s, o, a, f = e.offset, h = new this.clazz; e.offset < f + i || -1 === i && e.remaining() > 0; ) {
                            if (o = (n = e.readVarint32()) >>> 3,
                            (s = 7 & n) === t.WIRE_TYPES.ENDGROUP) {
                                if (o !== r)
                                    throw Error("Illegal group end indicator for " + this.toString(!0) + ": " + o + " (" + (r ? r + " expected" : "not a group") + ")");
                                break
                            }
                            if (a = this._fieldsById[o]) {
                                if (a.repeated && !a.options.packed)
                                    h[a.name].push(a.decode(s, e));
                                else if (a.map) {
                                    var l = a.decode(s, e);
                                    h[a.name].set(l[0], l[1])
                                } else if (h[a.name] = a.decode(s, e),
                                a.oneof) {
                                    var u = h[a.oneof.name];
                                    null !== u && u !== a.name && (h[u] = null),
                                    h[a.oneof.name] = a.name
                                }
                            } else
                                switch (s) {
                                case t.WIRE_TYPES.VARINT:
                                    e.readVarint32();
                                    break;
                                case t.WIRE_TYPES.BITS32:
                                    e.offset += 4;
                                    break;
                                case t.WIRE_TYPES.BITS64:
                                    e.offset += 8;
                                    break;
                                case t.WIRE_TYPES.LDELIM:
                                    var p = e.readVarint32();
                                    e.offset += p;
                                    break;
                                case t.WIRE_TYPES.STARTGROUP:
                                    for (; c(o, e); )
                                        ;
                                    break;
                                default:
                                    throw Error("Illegal wire type for unknown field " + o + " in " + this.toString(!0) + "#decode: " + s)
                                }
                        }
                        for (var g = 0, d = this._fields.length; g < d; ++g)
                            if (null === h[(a = this._fields[g]).name])
                                if ("proto3" === this.syntax)
                                    h[a.name] = a.defaultValue;
                                else {
                                    if (a.required) {
                                        var y = Error("Missing at least one required field for " + this.toString(!0) + ": " + a.name);
                                        throw y.decoded = h,
                                        y
                                    }
                                    t.populateDefaults && null !== a.defaultValue && (h[a.name] = a.defaultValue)
                                }
                        return h
                    }
                    ,
                    i.Message = l;
                    var p = function(e, i, n, s, o, a, f, h, u, c) {
                        r.call(this, e, i, a),
                        this.className = "Message.Field",
                        this.required = "required" === n,
                        this.repeated = "repeated" === n,
                        this.map = "map" === n,
                        this.keyType = s || null,
                        this.type = o,
                        this.resolvedType = null,
                        this.id = f,
                        this.options = h || {},
                        this.defaultValue = null,
                        this.oneof = u || null,
                        this.syntax = c || "proto2",
                        this.originalName = this.name,
                        this.element = null,
                        this.keyElement = null,
                        !this.builder.options.convertFieldsToCamelCase || this instanceof l.ExtensionField || (this.name = t.Util.toCamelCase(this.name))
                    }
                      , g = p.prototype = Object.create(r.prototype);
                    g.build = function() {
                        this.element = new a(this.type,this.resolvedType,!1,this.syntax),
                        this.map && (this.keyElement = new a(this.keyType,void 0,!0,this.syntax)),
                        "proto3" !== this.syntax || this.repeated || this.map ? void 0 !== this.options.default && (this.defaultValue = this.verifyValue(this.options.default)) : this.defaultValue = a.defaultFieldValue(this.type)
                    }
                    ,
                    g.verifyValue = function(e, i) {
                        i = i || !1;
                        var r, n = this;
                        function s(e, t) {
                            throw Error("Illegal value for " + n.toString(!0) + " of type " + n.type.name + ": " + e + " (" + t + ")")
                        }
                        if (null === e)
                            return this.required && s(typeof e, "required"),
                            "proto3" === this.syntax && this.type !== t.TYPES.message && s(typeof e, "proto3 field without field presence cannot be null"),
                            null;
                        if (this.repeated && !i) {
                            Array.isArray(e) || (e = [e]);
                            var o = [];
                            for (r = 0; r < e.length; r++)
                                o.push(this.element.verifyValue(e[r]));
                            return o
                        }
                        return this.map && !i ? e instanceof t.Map ? e : (e instanceof Object || s(typeof e, "expected ProtoBuf.Map or raw object for map field"),
                        new t.Map(this,e)) : (!this.repeated && Array.isArray(e) && s(typeof e, "no array expected"),
                        this.element.verifyValue(e))
                    }
                    ,
                    g.hasWirePresence = function(e, i) {
                        if ("proto3" !== this.syntax)
                            return null !== e;
                        if (this.oneof && i[this.oneof.name] === this.name)
                            return !0;
                        switch (this.type) {
                        case t.TYPES.int32:
                        case t.TYPES.sint32:
                        case t.TYPES.sfixed32:
                        case t.TYPES.uint32:
                        case t.TYPES.fixed32:
                            return 0 !== e;
                        case t.TYPES.int64:
                        case t.TYPES.sint64:
                        case t.TYPES.sfixed64:
                        case t.TYPES.uint64:
                        case t.TYPES.fixed64:
                            return 0 !== e.low || 0 !== e.high;
                        case t.TYPES.bool:
                            return e;
                        case t.TYPES.float:
                        case t.TYPES.double:
                            return 0 !== e;
                        case t.TYPES.string:
                            return e.length > 0;
                        case t.TYPES.bytes:
                            return e.remaining() > 0;
                        case t.TYPES.enum:
                            return 0 !== e;
                        case t.TYPES.message:
                            return null !== e;
                        default:
                            return !0
                        }
                    }
                    ,
                    g.encode = function(i, r, n) {
                        if (null === this.type || "object" != typeof this.type)
                            throw Error("[INTERNAL] Unresolved type in " + this.toString(!0) + ": " + this.type);
                        if (null === i || this.repeated && 0 == i.length)
                            return r;
                        try {
                            var s;
                            if (this.repeated)
                                if (this.options.packed && t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType) >= 0) {
                                    r.writeVarint32(this.id << 3 | t.WIRE_TYPES.LDELIM),
                                    r.ensureCapacity(r.offset += 1);
                                    var o = r.offset;
                                    for (s = 0; s < i.length; s++)
                                        this.element.encodeValue(this.id, i[s], r);
                                    var a = r.offset - o
                                      , f = e.calculateVarint32(a);
                                    if (f > 1) {
                                        var h = r.slice(o, r.offset);
                                        o += f - 1,
                                        r.offset = o,
                                        r.append(h)
                                    }
                                    r.writeVarint32(a, o - f)
                                } else
                                    for (s = 0; s < i.length; s++)
                                        r.writeVarint32(this.id << 3 | this.type.wireType),
                                        this.element.encodeValue(this.id, i[s], r);
                            else
                                this.map ? i.forEach(function(i, n, s) {
                                    var o = e.calculateVarint32(8 | this.keyType.wireType) + this.keyElement.calculateLength(1, n) + e.calculateVarint32(16 | this.type.wireType) + this.element.calculateLength(2, i);
                                    r.writeVarint32(this.id << 3 | t.WIRE_TYPES.LDELIM),
                                    r.writeVarint32(o),
                                    r.writeVarint32(8 | this.keyType.wireType),
                                    this.keyElement.encodeValue(1, n, r),
                                    r.writeVarint32(16 | this.type.wireType),
                                    this.element.encodeValue(2, i, r)
                                }, this) : this.hasWirePresence(i, n) && (r.writeVarint32(this.id << 3 | this.type.wireType),
                                this.element.encodeValue(this.id, i, r))
                        } catch (e) {
                            throw Error("Illegal value for " + this.toString(!0) + ": " + i + " (" + e + ")")
                        }
                        return r
                    }
                    ,
                    g.calculate = function(i, r) {
                        if (i = this.verifyValue(i),
                        null === this.type || "object" != typeof this.type)
                            throw Error("[INTERNAL] Unresolved type in " + this.toString(!0) + ": " + this.type);
                        if (null === i || this.repeated && 0 == i.length)
                            return 0;
                        var n = 0;
                        try {
                            var s, o;
                            if (this.repeated)
                                if (this.options.packed && t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType) >= 0) {
                                    for (n += e.calculateVarint32(this.id << 3 | t.WIRE_TYPES.LDELIM),
                                    o = 0,
                                    s = 0; s < i.length; s++)
                                        o += this.element.calculateLength(this.id, i[s]);
                                    n += e.calculateVarint32(o),
                                    n += o
                                } else
                                    for (s = 0; s < i.length; s++)
                                        n += e.calculateVarint32(this.id << 3 | this.type.wireType),
                                        n += this.element.calculateLength(this.id, i[s]);
                            else
                                this.map ? i.forEach(function(i, r, s) {
                                    var o = e.calculateVarint32(8 | this.keyType.wireType) + this.keyElement.calculateLength(1, r) + e.calculateVarint32(16 | this.type.wireType) + this.element.calculateLength(2, i);
                                    n += e.calculateVarint32(this.id << 3 | t.WIRE_TYPES.LDELIM),
                                    n += e.calculateVarint32(o),
                                    n += o
                                }, this) : this.hasWirePresence(i, r) && (n += e.calculateVarint32(this.id << 3 | this.type.wireType),
                                n += this.element.calculateLength(this.id, i))
                        } catch (e) {
                            throw Error("Illegal value for " + this.toString(!0) + ": " + i + " (" + e + ")")
                        }
                        return n
                    }
                    ,
                    g.decode = function(e, i, r) {
                        var n, s;
                        if (!(!this.map && e == this.type.wireType || !r && this.repeated && this.options.packed && e == t.WIRE_TYPES.LDELIM || this.map && e == t.WIRE_TYPES.LDELIM))
                            throw Error("Illegal wire type for field " + this.toString(!0) + ": " + e + " (" + this.type.wireType + " expected)");
                        if (e == t.WIRE_TYPES.LDELIM && this.repeated && this.options.packed && t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType) >= 0 && !r) {
                            s = i.readVarint32(),
                            s = i.offset + s;
                            for (var o = []; i.offset < s; )
                                o.push(this.decode(this.type.wireType, i, !0));
                            return o
                        }
                        if (this.map) {
                            var f = a.defaultFieldValue(this.keyType);
                            if (n = a.defaultFieldValue(this.type),
                            s = i.readVarint32(),
                            i.remaining() < s)
                                throw Error("Illegal number of bytes for " + this.toString(!0) + ": " + s + " required but got only " + i.remaining());
                            var h = i.clone();
                            for (h.limit = h.offset + s,
                            i.offset += s; h.remaining() > 0; ) {
                                var l = h.readVarint32();
                                e = 7 & l;
                                var u = l >>> 3;
                                if (1 === u)
                                    f = this.keyElement.decode(h, e, u);
                                else {
                                    if (2 !== u)
                                        throw Error("Unexpected tag in map field key/value submessage");
                                    n = this.element.decode(h, e, u)
                                }
                            }
                            return [f, n]
                        }
                        return this.element.decode(i, e, this.id)
                    }
                    ,
                    i.Message.Field = p;
                    var d = function(e, t, i, r, n, s, o) {
                        p.call(this, e, t, i, null, r, n, s, o),
                        this.extension
                    };
                    d.prototype = Object.create(p.prototype),
                    i.Message.ExtensionField = d,
                    i.Message.OneOf = function(e, t, i) {
                        r.call(this, e, t, i),
                        this.fields = []
                    }
                    ;
                    var y = function(e, t, i, r, n) {
                        s.call(this, e, t, i, r, n),
                        this.className = "Enum",
                        this.object = null
                    };
                    y.getName = function(e, t) {
                        for (var i, r = Object.keys(e), n = 0; n < r.length; ++n)
                            if (e[i = r[n]] === t)
                                return i;
                        return null
                    }
                    ,
                    (y.prototype = Object.create(s.prototype)).build = function(e) {
                        if (this.object && !e)
                            return this.object;
                        for (var i = new t.Builder.Enum, r = this.getChildren(y.Value), n = 0, s = r.length; n < s; ++n)
                            i[r[n].name] = r[n].id;
                        return Object.defineProperty && Object.defineProperty(i, "$options", {
                            value: this.buildOpt(),
                            enumerable: !1
                        }),
                        this.object = i
                    }
                    ,
                    i.Enum = y;
                    var v = function(e, t, i, n) {
                        r.call(this, e, t, i),
                        this.className = "Enum.Value",
                        this.id = n
                    };
                    v.prototype = Object.create(r.prototype),
                    i.Enum.Value = v;
                    var w = function(e, t, i, n) {
                        r.call(this, e, t, i),
                        this.field = n
                    };
                    w.prototype = Object.create(r.prototype),
                    i.Extension = w;
                    var m = function(e, t, i, r) {
                        s.call(this, e, t, i, r),
                        this.className = "Service",
                        this.clazz = null
                    };
                    (m.prototype = Object.create(s.prototype)).build = function(i) {
                        return this.clazz && !i ? this.clazz : this.clazz = function(t, i) {
                            for (var r = function(e) {
                                t.Builder.Service.call(this),
                                this.rpcImpl = e || function(e, t, i) {
                                    setTimeout(i.bind(this, Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")), 0)
                                }
                            }, n = r.prototype = Object.create(t.Builder.Service.prototype), s = i.getChildren(t.Reflect.Service.RPCMethod), o = 0; o < s.length; o++)
                                !function(t) {
                                    n[t.name] = function(r, n) {
                                        try {
                                            try {
                                                r = t.resolvedRequestType.clazz.decode(e.wrap(r))
                                            } catch (e) {
                                                if (!(e instanceof TypeError))
                                                    throw e
                                            }
                                            if (null === r || "object" != typeof r)
                                                throw Error("Illegal arguments");
                                            r instanceof t.resolvedRequestType.clazz || (r = new t.resolvedRequestType.clazz(r)),
                                            this.rpcImpl(t.fqn(), r, function(e, r) {
                                                if (e)
                                                    n(e);
                                                else {
                                                    null === r && (r = "");
                                                    try {
                                                        r = t.resolvedResponseType.clazz.decode(r)
                                                    } catch (e) {}
                                                    r && r instanceof t.resolvedResponseType.clazz ? n(null, r) : n(Error("Illegal response type received in service method " + i.name + "#" + t.name))
                                                }
                                            })
                                        } catch (e) {
                                            setTimeout(n.bind(this, e), 0)
                                        }
                                    }
                                    ,
                                    r[t.name] = function(e, i, n) {
                                        new r(e)[t.name](i, n)
                                    }
                                    ,
                                    Object.defineProperty && (Object.defineProperty(r[t.name], "$options", {
                                        value: t.buildOpt()
                                    }),
                                    Object.defineProperty(n[t.name], "$options", {
                                        value: r[t.name].$options
                                    }))
                                }(s[o]);
                            return Object.defineProperty && (Object.defineProperty(r, "$options", {
                                value: i.buildOpt()
                            }),
                            Object.defineProperty(n, "$options", {
                                value: r.$options
                            }),
                            Object.defineProperty(r, "$type", {
                                value: i
                            }),
                            Object.defineProperty(n, "$type", {
                                value: i
                            })),
                            r
                        }(t, this)
                    }
                    ,
                    i.Service = m;
                    var E = function(e, t, i, n) {
                        r.call(this, e, t, i),
                        this.className = "Service.Method",
                        this.options = n || {}
                    };
                    (E.prototype = Object.create(r.prototype)).buildOpt = o.buildOpt,
                    i.Service.Method = E;
                    var b = function(e, t, i, r, n, s, o, a) {
                        E.call(this, e, t, i, a),
                        this.className = "Service.RPCMethod",
                        this.requestName = r,
                        this.responseName = n,
                        this.requestStream = s,
                        this.responseStream = o,
                        this.resolvedRequestType = null,
                        this.resolvedResponseType = null
                    };
                    return b.prototype = Object.create(E.prototype),
                    i.Service.RPCMethod = b,
                    i
                }(s),
                s.Builder = function(e, t, r) {
                    var n = function(e) {
                        this.ns = new r.Namespace(this,null,""),
                        this.ptr = this.ns,
                        this.resolved = !1,
                        this.result = null,
                        this.files = {},
                        this.importRoot = null,
                        this.options = e || {}
                    }
                      , s = n.prototype;
                    return n.isMessage = function(e) {
                        return "string" == typeof e.name && void 0 === e.values && void 0 === e.rpc
                    }
                    ,
                    n.isMessageField = function(e) {
                        return "string" == typeof e.rule && "string" == typeof e.name && "string" == typeof e.type && void 0 !== e.id
                    }
                    ,
                    n.isEnum = function(e) {
                        return "string" == typeof e.name && !(void 0 === e.values || !Array.isArray(e.values) || 0 === e.values.length)
                    }
                    ,
                    n.isService = function(e) {
                        return !("string" != typeof e.name || "object" != typeof e.rpc || !e.rpc)
                    }
                    ,
                    n.isExtend = function(e) {
                        return "string" == typeof e.ref
                    }
                    ,
                    s.reset = function() {
                        return this.ptr = this.ns,
                        this
                    }
                    ,
                    s.define = function(e) {
                        if ("string" != typeof e || !t.TYPEREF.test(e))
                            throw Error("illegal namespace: " + e);
                        return e.split(".").forEach(function(e) {
                            var t = this.ptr.getChild(e);
                            null === t && this.ptr.addChild(t = new r.Namespace(this,this.ptr,e)),
                            this.ptr = t
                        }, this),
                        this
                    }
                    ,
                    s.create = function(t) {
                        if (!t)
                            return this;
                        if (Array.isArray(t)) {
                            if (0 === t.length)
                                return this;
                            t = t.slice()
                        } else
                            t = [t];
                        for (var i = [t]; i.length > 0; ) {
                            if (t = i.pop(),
                            !Array.isArray(t))
                                throw Error("not a valid namespace: " + JSON.stringify(t));
                            for (; t.length > 0; ) {
                                var s = t.shift();
                                if (n.isMessage(s)) {
                                    var o = new r.Message(this,this.ptr,s.name,s.options,s.isGroup,s.syntax)
                                      , a = {};
                                    s.oneofs && Object.keys(s.oneofs).forEach(function(e) {
                                        o.addChild(a[e] = new r.Message.OneOf(this,o,e))
                                    }, this),
                                    s.fields && s.fields.forEach(function(e) {
                                        if (null !== o.getChild(0 | e.id))
                                            throw Error("duplicate or invalid field id in " + o.name + ": " + e.id);
                                        if (e.options && "object" != typeof e.options)
                                            throw Error("illegal field options in " + o.name + "#" + e.name);
                                        var t = null;
                                        if ("string" == typeof e.oneof && !(t = a[e.oneof]))
                                            throw Error("illegal oneof in " + o.name + "#" + e.name + ": " + e.oneof);
                                        e = new r.Message.Field(this,o,e.rule,e.keytype,e.type,e.name,e.id,e.options,t,s.syntax),
                                        t && t.fields.push(e),
                                        o.addChild(e)
                                    }, this);
                                    var f = [];
                                    if (s.enums && s.enums.forEach(function(e) {
                                        f.push(e)
                                    }),
                                    s.messages && s.messages.forEach(function(e) {
                                        f.push(e)
                                    }),
                                    s.services && s.services.forEach(function(e) {
                                        f.push(e)
                                    }),
                                    s.extensions && ("number" == typeof s.extensions[0] ? o.extensions = [s.extensions] : o.extensions = s.extensions),
                                    this.ptr.addChild(o),
                                    f.length > 0) {
                                        i.push(t),
                                        t = f,
                                        f = null,
                                        this.ptr = o,
                                        o = null;
                                        continue
                                    }
                                    f = null
                                } else if (n.isEnum(s))
                                    o = new r.Enum(this,this.ptr,s.name,s.options,s.syntax),
                                    s.values.forEach(function(e) {
                                        o.addChild(new r.Enum.Value(this,o,e.name,e.id))
                                    }, this),
                                    this.ptr.addChild(o);
                                else if (n.isService(s))
                                    o = new r.Service(this,this.ptr,s.name,s.options),
                                    Object.keys(s.rpc).forEach(function(e) {
                                        var t = s.rpc[e];
                                        o.addChild(new r.Service.RPCMethod(this,o,e,t.request,t.response,!!t.request_stream,!!t.response_stream,t.options))
                                    }, this),
                                    this.ptr.addChild(o);
                                else {
                                    if (!n.isExtend(s))
                                        throw Error("not a valid definition: " + JSON.stringify(s));
                                    if (o = this.ptr.resolve(s.ref, !0))
                                        s.fields.forEach(function(t) {
                                            if (null !== o.getChild(0 | t.id))
                                                throw Error("duplicate extended field id in " + o.name + ": " + t.id);
                                            if (o.extensions) {
                                                var i = !1;
                                                if (o.extensions.forEach(function(e) {
                                                    t.id >= e[0] && t.id <= e[1] && (i = !0)
                                                }),
                                                !i)
                                                    throw Error("illegal extended field id in " + o.name + ": " + t.id + " (not within valid ranges)")
                                            }
                                            var n = t.name;
                                            this.options.convertFieldsToCamelCase && (n = e.Util.toCamelCase(n));
                                            var s = new r.Message.ExtensionField(this,o,t.rule,t.type,this.ptr.fqn() + "." + n,t.id,t.options)
                                              , a = new r.Extension(this,this.ptr,t.name,s);
                                            s.extension = a,
                                            this.ptr.addChild(a),
                                            o.addChild(s)
                                        }, this);
                                    else if (!/\.?google\.protobuf\./.test(s.ref))
                                        throw Error("extended message " + s.ref + " is not defined")
                                }
                                s = null,
                                o = null
                            }
                            t = null,
                            this.ptr = this.ptr.parent
                        }
                        return this.resolved = !1,
                        this.result = null,
                        this
                    }
                    ,
                    s.import = function(t, r) {
                        var n = "/";
                        if ("string" == typeof r) {
                            if (e.Util.IS_NODE && (r = i(328).resolve(r)),
                            !0 === this.files[r])
                                return this.reset();
                            this.files[r] = !0
                        } else if ("object" == typeof r) {
                            var s = r.root;
                            e.Util.IS_NODE && (s = i(328).resolve(s)),
                            (s.indexOf("\\") >= 0 || r.file.indexOf("\\") >= 0) && (n = "\\");
                            var o = s + n + r.file;
                            if (!0 === this.files[o])
                                return this.reset();
                            this.files[o] = !0
                        }
                        if (t.imports && t.imports.length > 0) {
                            var a, f = !1;
                            "object" == typeof r ? (this.importRoot = r.root,
                            f = !0,
                            a = this.importRoot,
                            r = r.file,
                            (a.indexOf("\\") >= 0 || r.indexOf("\\") >= 0) && (n = "\\")) : "string" == typeof r ? this.importRoot ? a = this.importRoot : r.indexOf("/") >= 0 ? "" === (a = r.replace(/\/[^\/]*$/, "")) && (a = "/") : r.indexOf("\\") >= 0 ? (a = r.replace(/\\[^\\]*$/, ""),
                            n = "\\") : a = "." : a = null;
                            for (var h = 0; h < t.imports.length; h++)
                                if ("string" == typeof t.imports[h]) {
                                    if (!a)
                                        throw Error("cannot determine import root");
                                    var l = t.imports[h];
                                    if ("google/protobuf/descriptor.proto" === l)
                                        continue;
                                    if (l = a + n + l,
                                    !0 === this.files[l])
                                        continue;
                                    /\.proto$/i.test(l) && !e.DotProto && (l = l.replace(/\.proto$/, ".json"));
                                    var u = e.Util.fetch(l);
                                    if (null === u)
                                        throw Error("failed to import '" + l + "' in '" + r + "': file not found");
                                    /\.json$/i.test(l) ? this.import(JSON.parse(u + ""), l) : this.import(e.DotProto.Parser.parse(u), l)
                                } else
                                    r ? /\.(\w+)$/.test(r) ? this.import(t.imports[h], r.replace(/^(.+)\.(\w+)$/, function(e, t, i) {
                                        return t + "_import" + h + "." + i
                                    })) : this.import(t.imports[h], r + "_import" + h) : this.import(t.imports[h]);
                            f && (this.importRoot = null)
                        }
                        t.package && this.define(t.package),
                        t.syntax && function e(t) {
                            t.messages && t.messages.forEach(function(i) {
                                i.syntax = t.syntax,
                                e(i)
                            }),
                            t.enums && t.enums.forEach(function(e) {
                                e.syntax = t.syntax
                            })
                        }(t);
                        var c = this.ptr;
                        return t.options && Object.keys(t.options).forEach(function(e) {
                            c.options[e] = t.options[e]
                        }),
                        t.messages && (this.create(t.messages),
                        this.ptr = c),
                        t.enums && (this.create(t.enums),
                        this.ptr = c),
                        t.services && (this.create(t.services),
                        this.ptr = c),
                        t.extends && this.create(t.extends),
                        this.reset()
                    }
                    ,
                    s.resolveAll = function() {
                        var i;
                        if (null == this.ptr || "object" == typeof this.ptr.type)
                            return this;
                        if (this.ptr instanceof r.Namespace)
                            this.ptr.children.forEach(function(e) {
                                this.ptr = e,
                                this.resolveAll()
                            }, this);
                        else if (this.ptr instanceof r.Message.Field) {
                            if (t.TYPE.test(this.ptr.type))
                                this.ptr.type = e.TYPES[this.ptr.type];
                            else {
                                if (!t.TYPEREF.test(this.ptr.type))
                                    throw Error("illegal type reference in " + this.ptr.toString(!0) + ": " + this.ptr.type);
                                if (!(i = (this.ptr instanceof r.Message.ExtensionField ? this.ptr.extension.parent : this.ptr.parent).resolve(this.ptr.type, !0)))
                                    throw Error("unresolvable type reference in " + this.ptr.toString(!0) + ": " + this.ptr.type);
                                if (this.ptr.resolvedType = i,
                                i instanceof r.Enum) {
                                    if (this.ptr.type = e.TYPES.enum,
                                    "proto3" === this.ptr.syntax && "proto3" !== i.syntax)
                                        throw Error("proto3 message cannot reference proto2 enum")
                                } else {
                                    if (!(i instanceof r.Message))
                                        throw Error("illegal type reference in " + this.ptr.toString(!0) + ": " + this.ptr.type);
                                    this.ptr.type = i.isGroup ? e.TYPES.group : e.TYPES.message
                                }
                            }
                            if (this.ptr.map) {
                                if (!t.TYPE.test(this.ptr.keyType))
                                    throw Error("illegal key type for map field in " + this.ptr.toString(!0) + ": " + this.ptr.keyType);
                                this.ptr.keyType = e.TYPES[this.ptr.keyType]
                            }
                        } else if (this.ptr instanceof e.Reflect.Service.Method) {
                            if (!(this.ptr instanceof e.Reflect.Service.RPCMethod))
                                throw Error("illegal service type in " + this.ptr.toString(!0));
                            if (!((i = this.ptr.parent.resolve(this.ptr.requestName, !0)) && i instanceof e.Reflect.Message))
                                throw Error("Illegal type reference in " + this.ptr.toString(!0) + ": " + this.ptr.requestName);
                            if (this.ptr.resolvedRequestType = i,
                            !((i = this.ptr.parent.resolve(this.ptr.responseName, !0)) && i instanceof e.Reflect.Message))
                                throw Error("Illegal type reference in " + this.ptr.toString(!0) + ": " + this.ptr.responseName);
                            this.ptr.resolvedResponseType = i
                        } else if (!(this.ptr instanceof e.Reflect.Message.OneOf || this.ptr instanceof e.Reflect.Extension || this.ptr instanceof e.Reflect.Enum.Value))
                            throw Error("illegal object in namespace: " + typeof this.ptr + ": " + this.ptr);
                        return this.reset()
                    }
                    ,
                    s.build = function(e) {
                        if (this.reset(),
                        this.resolved || (this.resolveAll(),
                        this.resolved = !0,
                        this.result = null),
                        null === this.result && (this.result = this.ns.build()),
                        !e)
                            return this.result;
                        for (var t = "string" == typeof e ? e.split(".") : e, i = this.result, r = 0; r < t.length; r++) {
                            if (!i[t[r]]) {
                                i = null;
                                break
                            }
                            i = i[t[r]]
                        }
                        return i
                    }
                    ,
                    s.lookup = function(e, t) {
                        return e ? this.ns.resolve(e, t) : this.ns
                    }
                    ,
                    s.toString = function() {
                        return "Builder"
                    }
                    ,
                    n.Message = function() {}
                    ,
                    n.Enum = function() {}
                    ,
                    n.Service = function() {}
                    ,
                    n
                }(s, s.Lang, s.Reflect),
                s.Map = function(e, t) {
                    var i = function(e, i) {
                        if (!e.map)
                            throw Error("field is not a map");
                        if (this.field = e,
                        this.keyElem = new t.Element(e.keyType,null,!0,e.syntax),
                        this.valueElem = new t.Element(e.type,e.resolvedType,!1,e.syntax),
                        this.map = {},
                        Object.defineProperty(this, "size", {
                            get: function() {
                                return Object.keys(this.map).length
                            }
                        }),
                        i)
                            for (var r = Object.keys(i), n = 0; n < r.length; n++) {
                                var s = this.keyElem.valueFromString(r[n])
                                  , o = this.valueElem.verifyValue(i[r[n]]);
                                this.map[this.keyElem.valueToString(s)] = {
                                    key: s,
                                    value: o
                                }
                            }
                    }
                      , r = i.prototype;
                    function n(e) {
                        var t = 0;
                        return {
                            next: function() {
                                return t < e.length ? {
                                    done: !1,
                                    value: e[t++]
                                } : {
                                    done: !0
                                }
                            }
                        }
                    }
                    return r.clear = function() {
                        this.map = {}
                    }
                    ,
                    r.delete = function(e) {
                        var t = this.keyElem.valueToString(this.keyElem.verifyValue(e))
                          , i = t in this.map;
                        return delete this.map[t],
                        i
                    }
                    ,
                    r.entries = function() {
                        for (var e, t = [], i = Object.keys(this.map), r = 0; r < i.length; r++)
                            t.push([(e = this.map[i[r]]).key, e.value]);
                        return n(t)
                    }
                    ,
                    r.keys = function() {
                        for (var e = [], t = Object.keys(this.map), i = 0; i < t.length; i++)
                            e.push(this.map[t[i]].key);
                        return n(e)
                    }
                    ,
                    r.values = function() {
                        for (var e = [], t = Object.keys(this.map), i = 0; i < t.length; i++)
                            e.push(this.map[t[i]].value);
                        return n(e)
                    }
                    ,
                    r.forEach = function(e, t) {
                        for (var i, r = Object.keys(this.map), n = 0; n < r.length; n++)
                            e.call(t, (i = this.map[r[n]]).value, i.key, this)
                    }
                    ,
                    r.set = function(e, t) {
                        var i = this.keyElem.verifyValue(e)
                          , r = this.valueElem.verifyValue(t);
                        return this.map[this.keyElem.valueToString(i)] = {
                            key: i,
                            value: r
                        },
                        this
                    }
                    ,
                    r.get = function(e) {
                        var t = this.keyElem.valueToString(this.keyElem.verifyValue(e));
                        if (t in this.map)
                            return this.map[t].value
                    }
                    ,
                    r.has = function(e) {
                        return this.keyElem.valueToString(this.keyElem.verifyValue(e))in this.map
                    }
                    ,
                    i
                }(0, s.Reflect),
                s.loadProto = function(e, t, i) {
                    return ("string" == typeof t || t && "string" == typeof t.file && "string" == typeof t.root) && (i = t,
                    t = void 0),
                    s.loadJson(s.DotProto.Parser.parse(e), t, i)
                }
                ,
                s.protoFromString = s.loadProto,
                s.loadProtoFile = function(e, t, i) {
                    if (t && "object" == typeof t ? (i = t,
                    t = null) : t && "function" == typeof t || (t = null),
                    t)
                        return s.Util.fetch("string" == typeof e ? e : e.root + "/" + e.file, function(r) {
                            if (null !== r)
                                try {
                                    t(null, s.loadProto(r, i, e))
                                } catch (e) {
                                    t(e)
                                }
                            else
                                t(Error("Failed to fetch file"))
                        });
                    var r = s.Util.fetch("object" == typeof e ? e.root + "/" + e.file : e);
                    return null === r ? null : s.loadProto(r, i, e)
                }
                ,
                s.protoFromFile = s.loadProtoFile,
                s.newBuilder = function(e) {
                    return void 0 === (e = e || {}).convertFieldsToCamelCase && (e.convertFieldsToCamelCase = s.convertFieldsToCamelCase),
                    void 0 === e.populateAccessors && (e.populateAccessors = s.populateAccessors),
                    new s.Builder(e)
                }
                ,
                s.loadJson = function(e, t, i) {
                    return ("string" == typeof t || t && "string" == typeof t.file && "string" == typeof t.root) && (i = t,
                    t = null),
                    t && "object" == typeof t || (t = s.newBuilder()),
                    "string" == typeof e && (e = JSON.parse(e)),
                    t.import(e, i),
                    t.resolveAll(),
                    t
                }
                ,
                s.loadJsonFile = function(e, t, i) {
                    if (t && "object" == typeof t ? (i = t,
                    t = null) : t && "function" == typeof t || (t = null),
                    t)
                        return s.Util.fetch("string" == typeof e ? e : e.root + "/" + e.file, function(r) {
                            if (null !== r)
                                try {
                                    t(null, s.loadJson(JSON.parse(r), i, e))
                                } catch (e) {
                                    t(e)
                                }
                            else
                                t(Error("Failed to fetch file"))
                        });
                    var r = s.Util.fetch("object" == typeof e ? e.root + "/" + e.file : e);
                    return null === r ? null : s.loadJson(JSON.parse(r), i, e)
                }
                ,
                s
            }
            ) ? n.apply(t, s) : n) || (e.exports = o)
        }
        ).call(this, i(76))
    };

    functions[492] = func492;
    functions[493] = func493;
    functions[494] = fun494;
    
    
(function(t) {
    function e(e) {
        for (var n, r, o = e[0], s = e[1], a = 0, u = []; a < o.length; a++)
            r = o[a],
            i[r] && u.push(i[r][0]),
            i[r] = 0;
        for (n in s)
            Object.prototype.hasOwnProperty.call(s, n) && (t[n] = s[n]);
        for (c && c(e); u.length; )
            u.shift()()
    }
    var n = {}
      , r = {
        33: 0
    }
      , i = {
        33: 0
    };
    function o(e) {
        if (n[e])
            return n[e].exports;
        var r = n[e] = {
            i: e,
            l: !1,
            exports: {}
        };
        return t[e].call(r.exports, r, r.exports, o),
        r.l = !0,
        r.exports
    }
    o.e = function(t) {
        var e = [];
        r[t] ? e.push(r[t]) : 0 !== r[t] && {
            5: 1,
            11: 1,
            24: 1
        }[t] && e.push(r[t] = new Promise(function(e, n) {
            for (var r = "css/" + ({
                0: "vendors~360s~core~phase1~phase2~phase3~phase5~phase6~webvr",
                1: "phase2~phase5~webvr",
                2: "vendors~gui~sc-gui~ws-gui",
                3: "core~phase1",
                4: "vendors~core~webvr",
                5: "sc-gui~ws-gui",
                6: "vendors~sc-gui",
                7: "vendors~phase1",
                8: "vendors~control-kit",
                9: "vendors~core",
                10: "sdkBindings",
                11: "sc-gui",
                12: "phase6",
                13: "webvr",
                14: "360s",
                15: "vr",
                16: "phase4",
                17: "phase3",
                18: "phase5",
                20: "phase2",
                21: "quickstart",
                22: "gui",
                23: "phase1",
                24: "core"
            }[t] || t) + ".css", i = o.p + r, s = document.getElementsByTagName("link"), a = 0; a < s.length; a++) {
                var u = (h = s[a]).getAttribute("data-href") || h.getAttribute("href");
                if ("stylesheet" === h.rel && (u === r || u === i))
                    return e()
            }
            var c = document.getElementsByTagName("style");
            for (a = 0; a < c.length; a++) {
                var h;
                if ((u = (h = c[a]).getAttribute("data-href")) === r || u === i)
                    return e()
            }
            var l = document.createElement("link");
            l.rel = "stylesheet",
            l.type = "text/css",
            l.onload = e,
            l.onerror = function(e) {
                var r = e && e.target && e.target.src || i
                  , o = new Error("Loading CSS chunk " + t + " failed.\n(" + r + ")");
                o.request = r,
                n(o)
            }
            ,
            l.href = i,
            document.getElementsByTagName("head")[0].appendChild(l)
        }
        ).then(function() {
            r[t] = 0
        }));
        var n = i[t];
        if (0 !== n)
            if (n)
                e.push(n[2]);
            else {
                var s = new Promise(function(e, r) {
                    n = i[t] = [e, r]
                }
                );
                e.push(n[2] = s);
                var a = document.getElementsByTagName("head")[0]
                  , u = document.createElement("script");
                u.charset = "utf-8",
                u.timeout = 120,
                o.nc && u.setAttribute("nonce", o.nc),
                u.src = function(t) {
                    return o.p + "js/" + t + ".js"
                }(t);
                var c = setTimeout(function() {
                    h({
                        type: "timeout",
                        target: u
                    })
                }, 12e4);
                function h(e) {
                    u.onerror = u.onload = null,
                    clearTimeout(c);
                    var n = i[t];
                    if (0 !== n) {
                        if (n) {
                            var r = e && ("load" === e.type ? "missing" : e.type)
                              , o = e && e.target && e.target.src
                              , s = new Error("Loading chunk " + t + " failed.\n(" + r + ": " + o + ")");
                            s.type = r,
                            s.request = o,
                            n[1](s)
                        }
                        i[t] = void 0
                    }
                }
                u.onerror = u.onload = h,
                a.appendChild(u)
            }
        return Promise.all(e)
    }
    ,
    o.m = t,
    o.c = n,
    o.d = function(t, e, n) {
        o.o(t, e) || Object.defineProperty(t, e, {
            configurable: !1,
            enumerable: !0,
            get: n
        })
    }
    ,
    o.r = function(t) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    }
    ,
    o.n = function(t) {
        var e = t && t.__esModule ? function() {
            return t.default
        }
        : function() {
            return t
        }
        ;
        return o.d(e, "a", e),
        e
    }
    ,
    o.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }
    ,
    o.p = (undefined == RES_URL) ? "" : RES_URL,
    o.oe = function(t) {
        throw console.error(t),
        t
    }
    ;
    var s = window.webpackJsonp = window.webpackJsonp || []
      , a = s.push.bind(s);
    s.push = e,
    s = s.slice();
    for (var u = 0; u < s.length; u++)
        e(s[u]);
    var c = a;
    o(o.s = 171)
})(functions);
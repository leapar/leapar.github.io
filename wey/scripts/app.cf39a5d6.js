!function(t) {
    function e(e) {
        for (var i = e[0], n = e[1], r, a, h = 0, c = []; h < i.length; h++)
            a = i[h],
            s[a] && c.push(s[a][0]),
            s[a] = 0;
        for (r in n)
            Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);
        for (o && o(e); c.length; )
            c.shift()()
    }
    var i = {}
      , s = {
        2: 0
    };
    function n(t) {
        return r.p + "/wey/scripts/" + ({}[t] || t) + "." + {
            0: "5b40999b",
            1: "366982cf",
            4: "08be222e",
            5: "f227168d",
            6: "557703bf",
            7: "89dc638a",
            8: "cff09ead",
            9: "5ab71329",
            10: "7f7b73ac",
            11: "bca62f54",
            12: "648530fe",
            13: "6e943726",
            14: "ab761a9f",
            15: "ea01c09f",
            16: "75dfa023",
            17: "a8b569bb",
            18: "1364ce88",
            19: "3663336b",
            20: "d411d749"
        }[t] + ".chunk.js"
    }
    function r(e) {
        if (i[e])
            return i[e].exports;
        var s = i[e] = {
            i: e,
            l: !1,
            exports: {}
        };
        return t[e].call(s.exports, s, s.exports, r),
        s.l = !0,
        s.exports
    }
    r.e = function t(e) {
        var i = []
          , a = s[e];
        if (0 !== a)
            if (a)
                i.push(a[2]);
            else {
                var h = new Promise(function(t, i) {
                    a = s[e] = [t, i]
                }
                );
                i.push(a[2] = h);
                var c = document.getElementsByTagName("head")[0], o = document.createElement("script"), u;
                o.charset = "utf-8",
                o.timeout = 120,
                r.nc && o.setAttribute("nonce", r.nc),
                o.src = n(e),
                u = function(t) {
                    o.onerror = o.onload = null,
                    clearTimeout(f);
                    var i = s[e];
                    if (0 !== i) {
                        if (i) {
                            var n = t && ("load" === t.type ? "missing" : t.type)
                              , r = t && t.target && t.target.src
                              , a = new Error("Loading chunk " + e + " failed.\n(" + n + ": " + r + ")");
                            a.type = n,
                            a.request = r,
                            i[1](a)
                        }
                        s[e] = void 0
                    }
                }
                ;
                var f = setTimeout(function() {
                    u({
                        type: "timeout",
                        target: o
                    })
                }, 12e4);
                o.onerror = o.onload = u,
                c.appendChild(o)
            }
        return Promise.all(i)
    }
    ,
    r.m = t,
    r.c = i,
    r.d = function(t, e, i) {
        r.o(t, e) || Object.defineProperty(t, e, {
            enumerable: !0,
            get: i
        })
    }
    ,
    r.r = function(t) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
            value: "Module"
        }),
        Object.defineProperty(t, "__esModule", {
            value: !0
        })
    }
    ,
    r.t = function(t, e) {
        if (1 & e && (t = r(t)),
        8 & e)
            return t;
        if (4 & e && "object" == typeof t && t && t.__esModule)
            return t;
        var i = Object.create(null);
        if (r.r(i),
        Object.defineProperty(i, "default", {
            enumerable: !0,
            value: t
        }),
        2 & e && "string" != typeof t)
            for (var s in t)
                r.d(i, s, function(e) {
                    return t[e]
                }
                .bind(null, s));
        return i
    }
    ,
    r.n = function(t) {
        var e = t && t.__esModule ? function e() {
            return t.default
        }
        : function e() {
            return t
        }
        ;
        return r.d(e, "a", e),
        e
    }
    ,
    r.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }
    ,
    r.p = "",
    r.oe = function(t) {
        throw t
    }
    ;
    var a = window.webpackJsonp = window.webpackJsonp || []
      , h = a.push.bind(a);
    a.push = e,
    a = a.slice();
    for (var c = 0; c < a.length; c++)
        e(a[c]);
    var o = h;
    r(r.s = 409)
}([function(t, e, i) {
    var s = i(2)
      , n = i(23)
      , r = i(12)
      , a = i(13)
      , h = i(20)
      , c = "prototype"
      , o = function(t, e, i) {
        var c = t & o.F, u = t & o.G, f = t & o.S, d = t & o.P, l = t & o.B, b = u ? s : f ? s[e] || (s[e] = {}) : (s[e] || {}).prototype, v = u ? n : n[e] || (n[e] = {}), m = v.prototype || (v.prototype = {}), g, p, w, x;
        for (g in u && (i = e),
        i)
            w = ((p = !c && b && void 0 !== b[g]) ? b : i)[g],
            x = l && p ? h(w, s) : d && "function" == typeof w ? h(Function.call, w) : w,
            b && a(b, g, w, t & o.U),
            v[g] != w && r(v, g, x),
            d && m[g] != w && (m[g] = w)
    };
    s.core = n,
    o.F = 1,
    o.G = 2,
    o.S = 4,
    o.P = 8,
    o.B = 16,
    o.W = 32,
    o.U = 64,
    o.R = 128,
    t.exports = o
}
, function(t, e, i) {
    var s = i(4);
    t.exports = function(t) {
        if (!s(t))
            throw TypeError(t + " is not an object!");
        return t
    }
}
, function(t, e) {
    var i = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = i)
}
, function(t, e) {
    t.exports = function(t) {
        try {
            return !!t()
        } catch (t) {
            return !0
        }
    }
}
, function(t, e) {
    t.exports = function(t) {
        return "object" == typeof t ? null !== t : "function" == typeof t
    }
}
, function(t, e, i) {
    var s = i(56)("wks"), n = i(36), r = i(2).Symbol, a = "function" == typeof r, h;
    (t.exports = function(t) {
        return s[t] || (s[t] = a && r[t] || (a ? r : n)("Symbol." + t))
    }
    ).store = s
}
, function(t, e, i) {
    var s, n, r;
    !function(i, a) {
        var h, c, o, u;
        n = [],
        void 0 === (r = "function" == typeof (s = a) ? s.apply(e, n) : s) || (t.exports = r)
    }(this, function(t, i) {
        window = t || window,
        navigator = i || navigator;
        var s = function() {
            for (var t = {}, e = ["Array", "Object", "Function", "Date", "RegExp", "Float32Array"], i = 0; i < e.length; i++)
                t["[object " + e[i] + "]"] = e[i].toLowerCase();
            return t
        }(), n = {
            version: "1.11.0-dev",
            u: "6b590f94",
            config: {},
            common: {},
            apps: {},
            data: {},
            _: function() {},
            M: function(t) {
                var e, i = [], s = t.length;
                for (e = 0; e < s; ++e)
                    i.push(t[e]);
                return i
            },
            type: function(t) {
                if (null === t)
                    return "null";
                var e = typeof t;
                return "undefined" === e || "number" === e || "string" === e || "boolean" === e ? e : s[Object.prototype.toString.call(t)]
            },
            extend: function(t, e) {
                var i, s;
                for (i in e)
                    s = e[i],
                    "object" == n.type(s) ? t[i] = n.extend({}, s) : "array" == n.type(s) ? t[i] = n.extend([], s) : t[i] = s;
                return t
            },
            isDefined: function(t) {
                var e;
                return t !== e
            }
        }, r, a, h;
        e.O = n,
        function() {
            if ("undefined" != typeof document) {
                var t = function(t) {
                    var e = document.createEvent("CustomEvent");
                    e.initCustomEvent("fullscreenchange", !0, !1, null),
                    t.target.dispatchEvent(e)
                }
                  , e = function(t) {
                    var e = document.createEvent("CustomEvent");
                    e.initCustomEvent("fullscreenerror", !0, !1, null),
                    t.target.dispatchEvent(e)
                };
                document.addEventListener("webkitfullscreenchange", t, !1),
                document.addEventListener("mozfullscreenchange", t, !1),
                document.addEventListener("MSFullscreenChange", t, !1),
                document.addEventListener("webkitfullscreenerror", e, !1),
                document.addEventListener("mozfullscreenerror", e, !1),
                document.addEventListener("MSFullscreenError", e, !1),
                Element.prototype.mozRequestFullScreen ? Element.prototype.requestFullscreen = function() {
                    this.mozRequestFullScreen()
                }
                : Element.prototype.requestFullscreen = Element.prototype.requestFullscreen || Element.prototype.webkitRequestFullscreen || Element.prototype.msRequestFullscreen,
                document.exitFullscreen = document.exitFullscreen || document.webkitExitFullscreen || document.mozCancelFullScreen || document.msExitFullscreen,
                document.hasOwnProperty("fullscreenElement") || Object.defineProperty(document, "fullscreenElement", {
                    enumerable: !0,
                    configurable: !1,
                    get: function() {
                        return document.webkitCurrentFullScreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement
                    }
                }),
                document.hasOwnProperty("fullscreenEnabled") || Object.defineProperty(document, "fullscreenEnabled", {
                    enumerable: !0,
                    configurable: !1,
                    get: function() {
                        return document.webkitFullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled
                    }
                })
            }
        }(),
        Math.log2 = Math.log2 || function(t) {
            return Math.log(t) * Math.LOG2E
        }
        ,
        "function" != typeof Object.assign && Object.defineProperty(Object, "assign", {
            value: function t(e, i) {
                if (null == e)
                    throw new TypeError("Cannot convert undefined or null to object");
                for (var s = Object(e), n = 1; n < arguments.length; n++) {
                    var r = arguments[n];
                    if (null != r)
                        for (var a in r)
                            Object.prototype.hasOwnProperty.call(r, a) && (s[a] = r[a])
                }
                return s
            },
            writable: !0,
            configurable: !0
        }),
        function() {
            if ("undefined" != typeof navigator && "undefined" != typeof document) {
                navigator.pointer = navigator.pointer || navigator.webkitPointer || navigator.mozPointer;
                var t = function() {
                    var t = document.createEvent("CustomEvent");
                    t.initCustomEvent("pointerlockchange", !0, !1, null),
                    document.dispatchEvent(t)
                }
                  , e = function() {
                    var t = document.createEvent("CustomEvent");
                    t.initCustomEvent("pointerlockerror", !0, !1, null),
                    document.dispatchEvent(t)
                };
                document.addEventListener("webkitpointerlockchange", t, !1),
                document.addEventListener("webkitpointerlocklost", t, !1),
                document.addEventListener("mozpointerlockchange", t, !1),
                document.addEventListener("mozpointerlocklost", t, !1),
                document.addEventListener("webkitpointerlockerror", e, !1),
                document.addEventListener("mozpointerlockerror", e, !1),
                Element.prototype.mozRequestPointerLock ? Element.prototype.requestPointerLock = function() {
                    this.mozRequestPointerLock()
                }
                : Element.prototype.requestPointerLock = Element.prototype.requestPointerLock || Element.prototype.webkitRequestPointerLock || Element.prototype.mozRequestPointerLock,
                !Element.prototype.requestPointerLock && navigator.pointer && (Element.prototype.requestPointerLock = function() {
                    var i = this;
                    document.pointerLockElement = i,
                    navigator.pointer.lock(i, t, e)
                }
                ),
                document.exitPointerLock = document.exitPointerLock || document.webkitExitPointerLock || document.mozExitPointerLock,
                document.exitPointerLock || (document.exitPointerLock = function() {
                    navigator.pointer && (document.pointerLockElement = null,
                    navigator.pointer.unlock())
                }
                )
            }
        }(),
        function() {
            for (var t = 0, e = ["ms", "moz", "webkit", "o"], i = 0; i < e.length && !window.requestAnimationFrame; ++i)
                window.requestAnimationFrame = window[e[i] + "RequestAnimationFrame"],
                window.cancelAnimationFrame = window[e[i] + "CancelAnimationFrame"] || window[e[i] + "CancelRequestAnimationFrame"];
            window.requestAnimationFrame || (window.requestAnimationFrame = function(e, i) {
                var s = (new Date).getTime()
                  , n = Math.max(0, 16 - (s - t))
                  , r = window.setTimeout(function() {
                    e(s + n)
                }, n);
                return t = s + n,
                r
            }
            ),
            window.cancelAnimationFrame || (window.cancelAnimationFrame = function(t) {
                clearTimeout(t)
            }
            )
        }(),
        String.prototype.endsWith || (String.prototype.endsWith = function(t, e) {
            return (void 0 === e || e > this.length) && (e = this.length),
            this.substring(e - t.length, e) === t
        }
        ),
        String.prototype.includes || (String.prototype.includes = function(t, e) {
            return "number" != typeof e && (e = 0),
            !(e + t.length > this.length) && -1 !== this.indexOf(t, e)
        }
        ),
        String.prototype.startsWith || (String.prototype.startsWith = function(t, e) {
            return this.substr(!e || e < 0 ? 0 : +e, t.length) === t
        }
        ),
        Object.assign(n, (r = function(t, e, i, s) {
            var n = t && t.length;
            3 === n || 4 === n ? (this.r = t[0],
            this.g = t[1],
            this.b = t[2],
            this.a = void 0 !== t[3] ? t[3] : 1) : (this.r = t || 0,
            this.g = e || 0,
            this.b = i || 0,
            this.a = void 0 !== s ? s : 1)
        }
        ,
        Object.assign(r.prototype, {
            clone: function() {
                return new n.D(this.r,this.g,this.b,this.a)
            },
            copy: function(t) {
                return this.r = t.r,
                this.g = t.g,
                this.b = t.b,
                this.a = t.a,
                this
            },
            set: function(t, e, i, s) {
                return this.r = t,
                this.g = e,
                this.b = i,
                this.a = void 0 === s ? 1 : s,
                this
            },
            fromString: function(t) {
                var e = parseInt(t.replace("#", "0x"), 16), i;
                return t.length > 7 ? i = n.I.T(e) : (i = n.I.L(e))[3] = 255,
                this.set(i[0] / 255, i[1] / 255, i[2] / 255, i[3] / 255),
                this
            },
            toString: function(t) {
                var e = "#" + ((1 << 24) + (Math.round(255 * this.r) << 16) + (Math.round(255 * this.g) << 8) + Math.round(255 * this.b)).toString(16).slice(1);
                if (!0 === t) {
                    var i = Math.round(255 * this.a).toString(16);
                    this.a < 16 / 255 ? e += "0" + i : e += i
                }
                return e
            }
        }),
        {
            D: r
        })),
        n.guid = {
            create: function() {
                return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(t) {
                    var e = 16 * Math.random() | 0, i;
                    return ("x" == t ? e : 3 & e | 8).toString(16)
                })
            }
        },
        Object.assign(n, (a = function t() {
            this._isRunning = !1,
            this._a = 0,
            this._b = 0
        }
        ,
        Object.assign(a.prototype, {
            start: function() {
                this._isRunning = !0,
                this._a = n.now()
            },
            stop: function() {
                this._isRunning = !1,
                this._b = n.now()
            },
            getMilliseconds: function() {
                return this._b - this._a
            }
        }),
        {
            Timer: a,
            now: window.performance && window.performance.now && window.performance.timing ? function() {
                return window.performance.now()
            }
            : Date.now
        })),
        Object.assign(n, {
            hashCode: function(t) {
                for (var e = 0, i = 0, s = t.length; i < s; i++)
                    e = (e << 5) - e + t.charCodeAt(i),
                    e |= 0;
                return e
            }
        }),
        Object.assign(n, {
            createURI: function(t) {
                var e = "";
                if ((t.authority || t.scheme) && (t.host || t.hostpath))
                    throw new Error("Can't have 'scheme' or 'authority' and 'host' or 'hostpath' option");
                if (t.host && t.hostpath)
                    throw new Error("Can't have 'host' and 'hostpath' option");
                if (t.path && t.hostpath)
                    throw new Error("Can't have 'path' and 'hostpath' option");
                return t.scheme && (e += t.scheme + ":"),
                t.authority && (e += "//" + t.authority),
                t.host && (e += t.host),
                t.path && (e += t.path),
                t.hostpath && (e += t.hostpath),
                t.query && (e += "?" + t.query),
                t.fragment && (e += "#" + t.fragment),
                e
            },
            URI: function(t) {
                var e = /^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/
                  , i = t.match(e);
                this.scheme = i[2],
                this.authority = i[4],
                this.path = i[5],
                this.query = i[7],
                this.fragment = i[9],
                this.toString = function() {
                    var t = "";
                    return this.scheme && (t += this.scheme + ":"),
                    this.authority && (t += "//" + this.authority),
                    t += this.path,
                    this.query && (t += "?" + this.query),
                    this.fragment && (t += "#" + this.fragment),
                    t
                }
                ,
                this.getQuery = function() {
                    var t, e, i = {};
                    return this.query && (t = decodeURIComponent(this.query).split("&")).forEach(function(t, s, n) {
                        e = t.split("="),
                        i[e[0]] = e[1]
                    }, this),
                    i
                }
                ,
                this.setQuery = function(t) {
                    var e = "";
                    for (var i in t)
                        t.hasOwnProperty(i) && ("" !== e && (e += "&"),
                        e += encodeURIComponent(i) + "=" + encodeURIComponent(t[i]));
                    this.query = e
                }
            }
        }),
        Object.assign(n, {
            log: {}
        });
        var c = console.info, o = console.debug, u = console.warn, f = console.error, d = console.log, l = console.log, b, v, m, g, p, w, x, z, _, A, y, M, S, C, O, E, D, T, P, B, I, j, R, L, N, F, k, U, V, H, G, W, Y, X, K, Q, J, q, Z, $, tt, et, it, st, nt, rt, at, ht, ct, ot, ut, ft, dt, lt, bt, vt, mt;
        n.path = {
            delimiter: "/",
            join: function() {
                var t, e = arguments.length, i = arguments[0];
                for (t = 0; t < e - 1; ++t) {
                    var s = arguments[t]
                      , r = arguments[t + 1];
                    if (!n.isDefined(s) || !n.isDefined(r))
                        throw new Error("undefined argument to pc.path.join");
                    r[0] !== n.path.delimiter ? s && r && s[s.length - 1] !== n.path.delimiter && r[0] !== n.path.delimiter ? i += n.path.delimiter + r : i += r : i = r
                }
                return i
            },
            normalize: function(t) {
                for (var e = t.startsWith(n.path.delimiter), i = t.endsWith(n.path.delimiter), s = t.split("/"), r = "", a = [], h = 0; h < s.length; h++)
                    "" !== s[h] && "." !== s[h] && (".." === s[h] && a.length > 0 ? a = a.slice(0, a.length - 2) : (h > 0 && a.push(n.path.delimiter),
                    a.push(s[h])));
                return r = a.join(""),
                e || r[0] !== n.path.delimiter || (r = r.slice(1)),
                i && r[r.length - 1] !== n.path.delimiter && (r += n.path.delimiter),
                r
            },
            split: function(t) {
                var e = t.split(n.path.delimiter), i = e.slice(e.length - 1)[0], s;
                return [e.slice(0, e.length - 1).join(n.path.delimiter), i]
            },
            getBasename: function(t) {
                return n.path.split(t)[1]
            },
            getDirectory: function(t) {
                var e = t.split(n.path.delimiter);
                return e.slice(0, e.length - 1).join(n.path.delimiter)
            },
            getExtension: function(t) {
                var e = t.split("?")[0].split(".").pop();
                return e !== t ? "." + e : ""
            },
            isRelativePath: function(t) {
                return "/" !== t.charAt(0) && null === t.match(/:\/\//)
            },
            extractPath: function(t) {
                var e = "."
                  , i = t.split("/")
                  , s = 0;
                if (i.length > 1)
                    for (!1 === n.path.isRelativePath(t) && (e = ""),
                    s = 0; s < i.length - 1; ++s)
                        e += "/" + i[s];
                return e
            }
        },
        n.string = function() {
            var t = "abcdefghijklmnopqrstuvwxyz", e = "ABCDEFGHIJKLMNOPQRSTUVWXYZ", i, s = 55296, r = 56319, a = 56320, h = 57343, c = 8205, o = 127462, u = 127487, f = 127995, d = 127999, l = 8400, b = 8447, v = 65024, m = 65039;
            function g(t, e) {
                var i = t.length;
                if ((e = e || 0) < 0 || e >= i)
                    return null;
                var n = t.charCodeAt(e), c;
                return i > 1 && n >= s && n <= r && (c = t.charCodeAt(e + 1)) >= a && c <= h ? {
                    code: 1024 * (n - s) + c - a + 65536,
                    long: !0
                } : {
                    code: n,
                    long: !1
                }
            }
            function p(t, e, i) {
                if (!t)
                    return !1;
                var s = g(t);
                if (s) {
                    var n = s.code;
                    return n >= e && n <= i
                }
                return !1
            }
            function w(t, e) {
                if (e === t.length - 1)
                    return 1;
                if (p(t[e], s, r)) {
                    var i = t.substring(e, e + 2)
                      , n = t.substring(e + 2, e + 4);
                    return p(n, f, d) || p(i, o, u) && p(n, o, u) ? 4 : 2
                }
                return 1
            }
            return {
                N: t,
                V: e,
                H: t + e,
                format: function(t) {
                    var e = 0, i, s = n.M(arguments);
                    for (s.shift(),
                    e = 0; e < s.length; e++)
                        i = new RegExp("\\{" + e + "\\}","gi"),
                        t = t.replace(i, s[e]);
                    return t
                },
                startsWith: function(t, e) {
                    return t.startsWith(e)
                },
                endsWith: function(t, e) {
                    return t.endsWith(e)
                },
                toBool: function(t, e) {
                    if ("true" === t)
                        return !0;
                    if (e) {
                        if ("false" === t)
                            return !1;
                        throw new TypeError("Not a boolean string")
                    }
                    return !1
                },
                getCodePoint: function(t, e) {
                    var i = g(t, e);
                    return i && i.code
                },
                getCodePoints: function(t) {
                    if ("string" != typeof t)
                        throw new TypeError("Not a string");
                    for (var e = 0, i = [], s; s = g(t, e); )
                        i.push(s.code),
                        e += s.long ? 2 : 1;
                    return i
                },
                getSymbols: function(t) {
                    if ("string" != typeof t)
                        throw new TypeError("Not a string");
                    for (var e = 0, i = t.length, s = [], n = 0, r; e < i; )
                        if (p(r = t[e + (n += w(t, e + n))], 8400, 8447) && (r = t[e + n++]),
                        p(r, 65024, 65039) && (r = t[e + n++]),
                        r && 8205 === r.charCodeAt(0))
                            r = t[e + n++];
                        else {
                            var a = t.substring(e, e + n);
                            s.push(a),
                            e += n,
                            n = 0
                        }
                    return s
                },
                fromCodePoint: function() {
                    for (var t = [], e, i, s, n = 0; n < arguments.length; ++n)
                        i = (e = Number(arguments[n])) - 65536,
                        s = e > 65535 ? [55296 + (i >> 10), i % 1024 + 56320] : [e],
                        t.push(String.fromCharCode.apply(null, s));
                    return t.join("")
                }
            }
        }(),
        n.K = {
            attach: function(t) {
                var e = n.K;
                return t.on = e.on,
                t.off = e.off,
                t.fire = e.fire,
                t.once = e.once,
                t.hasEvent = e.hasEvent,
                t._callbackActive = {},
                t
            },
            on: function(t, e, i) {
                return t && "string" == typeof t && e ? (this._callbacks || (this._callbacks = {}),
                this._callbacks[t] || (this._callbacks[t] = []),
                this._callbackActive || (this._callbackActive = {}),
                this._callbackActive[t] && this._callbackActive[t] === this._callbacks[t] && (this._callbackActive[t] = this._callbackActive[t].slice()),
                this._callbacks[t].push({
                    callback: e,
                    scope: i || this
                }),
                this) : this
            },
            off: function(t, e, i) {
                if (!this._callbacks)
                    return this;
                if (this._callbackActive)
                    if (t)
                        this._callbackActive[t] && this._callbackActive[t] === this._callbacks[t] && (this._callbackActive[t] = this._callbackActive[t].slice());
                    else
                        for (var s in this._callbackActive)
                            this._callbacks[s] && this._callbacks[s] === this._callbackActive[s] && (this._callbackActive[s] = this._callbackActive[s].slice());
                if (t)
                    if (e) {
                        var n = this._callbacks[t];
                        if (!n)
                            return this;
                        for (var r = n.length; r--; )
                            n[r].callback === e && (i && n[r].scope !== i || n.splice(r, 1))
                    } else
                        this._callbacks[t] && delete this._callbacks[t];
                else
                    this._callbacks = null;
                return this
            },
            fire: function(t, e, i, s, n, r, a, h, c) {
                if (!t || !this._callbacks || !this._callbacks[t])
                    return this;
                var o;
                this._callbackActive || (this._callbackActive = {}),
                this._callbackActive[t] ? (this._callbackActive[t] === this._callbacks[t] && (this._callbackActive[t] = this._callbackActive[t].slice()),
                o = this._callbacks[t].slice()) : this._callbackActive[t] = this._callbacks[t];
                for (var u = 0; (o || this._callbackActive[t]) && u < (o || this._callbackActive[t]).length; u++) {
                    var f = (o || this._callbackActive[t])[u];
                    if (f.callback.call(f.scope, e, i, s, n, r, a, h, c),
                    f.callback.once) {
                        var d = this._callbacks[t].indexOf(f);
                        -1 !== d && (this._callbackActive[t] === this._callbacks[t] && (this._callbackActive[t] = this._callbackActive[t].slice()),
                        this._callbacks[t].splice(d, 1))
                    }
                }
                return o || (this._callbackActive[t] = null),
                this
            },
            once: function(t, e, i) {
                return e.once = !0,
                this.on(t, e, i),
                this
            },
            hasEvent: function(t) {
                return this._callbacks && this._callbacks[t] && 0 !== this._callbacks[t].length || !1
            }
        },
        Object.assign(n, function() {
            var t = function(t) {
                this._index = {},
                this._key = t || null
            };
            Object.assign(t.prototype, {
                addItem: function(t) {
                    for (var e = t.tags._list, i = 0; i < e.length; i++)
                        this.add(e[i], t)
                },
                removeItem: function(t) {
                    for (var e = t.tags._list, i = 0; i < e.length; i++)
                        this.remove(e[i], t)
                },
                add: function(t, e) {
                    this._index[t] && -1 !== this._index[t].list.indexOf(e) || (this._index[t] || (this._index[t] = {
                        list: []
                    },
                    this._key && (this._index[t].keys = {})),
                    this._index[t].list.push(e),
                    this._key && (this._index[t].keys[e[this._key]] = e))
                },
                remove: function(t, e) {
                    if (this._index[t] && (!this._key || this._index[t].keys[e[this._key]])) {
                        var i = this._index[t].indexOf(e);
                        -1 !== i && (this._index[t].list.splice(i, 1),
                        this._key && delete this._index[t].keys[e[this._key]],
                        0 === this._index[t].list.length && delete this._index[t])
                    }
                },
                find: function(t) {
                    var e = this, i = {}, s = [], n, r, a, h, c, o, u, f, d = function(t, i) {
                        return e._index[t].list.length - e._index[i].list.length
                    };
                    for (n = 0; n < t.length; n++) {
                        if ((c = t[n])instanceof Array) {
                            if (0 === c.length)
                                continue;
                            if (1 !== c.length) {
                                for (f = !1,
                                a = 0; a < c.length; a++)
                                    if (!this._index[c[a]]) {
                                        f = !0;
                                        break
                                    }
                                if (f)
                                    continue;
                                for (1 === (u = (o = c.slice(0).sort(d)).slice(1)).length && (u = u[0]),
                                r = 0; r < this._index[o[0]].list.length; r++)
                                    h = this._index[o[0]].list[r],
                                    (this._key ? !i[h[this._key]] : -1 === s.indexOf(h)) && h.tags.has(u) && (this._key && (i[h[this._key]] = !0),
                                    s.push(h));
                                continue
                            }
                            c = c[0]
                        }
                        if (c && "string" == typeof c && this._index[c])
                            for (r = 0; r < this._index[c].list.length; r++)
                                h = this._index[c].list[r],
                                this._key ? i[h[this._key]] || (i[h[this._key]] = !0,
                                s.push(h)) : -1 === s.indexOf(h) && s.push(h)
                    }
                    return s
                }
            });
            var e = function(t) {
                this._index = {},
                this._list = [],
                this._parent = t,
                n.K.attach(this)
            };
            return Object.assign(e.prototype, {
                add: function() {
                    var t = !1
                      , e = this._processArguments(arguments, !0);
                    if (!e.length)
                        return t;
                    for (var i = 0; i < e.length; i++)
                        this._index[e[i]] || (t = !0,
                        this._index[e[i]] = !0,
                        this._list.push(e[i]),
                        this.fire("add", e[i], this._parent));
                    return t && this.fire("change", this._parent),
                    t
                },
                remove: function() {
                    var t = !1;
                    if (!this._list.length)
                        return t;
                    var e = this._processArguments(arguments, !0);
                    if (!e.length)
                        return t;
                    for (var i = 0; i < e.length; i++)
                        this._index[e[i]] && (t = !0,
                        delete this._index[e[i]],
                        this._list.splice(this._list.indexOf(e[i]), 1),
                        this.fire("remove", e[i], this._parent));
                    return t && this.fire("change", this._parent),
                    t
                },
                clear: function() {
                    if (this._list.length) {
                        var t = this._list.slice(0);
                        this._list = [],
                        this._index = {};
                        for (var e = 0; e < t.length; e++)
                            this.fire("remove", t[e], this._parent);
                        this.fire("change", this._parent)
                    }
                },
                has: function() {
                    return !!this._list.length && this._has(this._processArguments(arguments))
                },
                _has: function(t) {
                    if (!this._list.length || !t.length)
                        return !1;
                    for (var e = 0; e < t.length; e++)
                        if (1 === t[e].length) {
                            if (this._index[t[e][0]])
                                return !0
                        } else {
                            for (var i = !0, s = 0; s < t[e].length; s++)
                                if (!this._index[t[e][s]]) {
                                    i = !1;
                                    break
                                }
                            if (i)
                                return !0
                        }
                    return !1
                },
                list: function() {
                    return this._list.slice(0)
                },
                _processArguments: function(t, e) {
                    var i = []
                      , s = [];
                    if (!t || !t.length)
                        return i;
                    for (var n = 0; n < t.length; n++)
                        if (t[n]instanceof Array) {
                            e || (s = []);
                            for (var r = 0; r < t[n].length; r++)
                                "string" == typeof t[n][r] && (e ? i.push(t[n][r]) : s.push(t[n][r]));
                            !e && s.length && i.push(s)
                        } else
                            "string" == typeof t[n] && (e ? i.push(t[n]) : i.push([t[n]]));
                    return i
                }
            }),
            Object.defineProperty(e.prototype, "size", {
                get: function() {
                    return this._list.length
                }
            }),
            {
                TagsCache: t,
                Tags: e
            }
        }()),
        Object.assign(n, (b = function(t, e) {
            this._constructor = t,
            this._pool = [],
            this._count = 0,
            this._resize(e)
        }
        ,
        Object.assign(b.prototype, {
            _resize: function(t) {
                if (t > this._pool.length)
                    for (var e = this._pool.length; e < t; e++)
                        this._pool[e] = new this._constructor
            },
            allocate: function() {
                return this._count >= this._pool.length && this._resize(2 * this._pool.length),
                this._pool[this._count++]
            },
            freeAll: function() {
                this._count = 0
            }
        }),
        {
            J: b
        })),
        Object.assign(n, (v = {
            desktop: !1,
            mobile: !1,
            ios: !1,
            android: !1,
            windows: !1,
            cocoonjs: !1,
            xbox: !1,
            gamepads: !1,
            touch: !1
        },
        m = navigator.userAgent,
        /(windows|mac os|linux|cros)/i.test(m) && (v.desktop = !0),
        /xbox/i.test(m) && (v.xbox = !0),
        /(windows phone|iemobile|wpdesktop)/i.test(m) ? (v.desktop = !1,
        v.mobile = !0,
        v.windows = !0) : /android/i.test(m) ? (v.desktop = !1,
        v.mobile = !0,
        v.android = !0) : /ip([ao]d|hone)/i.test(m) && (v.desktop = !1,
        v.mobile = !0,
        v.ios = !0),
        navigator.isCocoonJS && (v.cocoonjs = !0),
        v.touch = "ontouchstart"in window || "maxTouchPoints"in navigator && navigator.maxTouchPoints > 0,
        v.gamepads = "getGamepads"in navigator,
        {
            platform: v
        })),
        Object.assign(n, (g = function() {
            this._list = [],
            this._index = {}
        }
        ,
        Object.assign(g.prototype, {
            push: function(t, e) {
                if (this._index[t])
                    throw Error("Key already in index " + t);
                var i = this._list.push(e) - 1;
                this._index[t] = i
            },
            has: function(t) {
                return void 0 !== this._index[t]
            },
            get: function(t) {
                var e = this._index[t];
                return void 0 !== e ? this._list[e] : null
            },
            remove: function(t) {
                var e = this._index[t];
                if (void 0 !== e) {
                    for (t in this._list.splice(e, 1),
                    delete this._index[t],
                    this._index) {
                        var i = this._index[t];
                        i > e && (this._index[t] = i - 1)
                    }
                    return !0
                }
                return !1
            },
            list: function() {
                return this._list
            },
            clear: function() {
                for (var t in this._list.length = 0,
                this._index)
                    delete this._index[t]
            }
        }),
        {
            IndexedList: g
        })),
        n.debug = (p = null,
        w = null,
        x = null,
        z = null,
        _ = n.platform.mobile ? 150 : 300,
        A = n.platform.mobile ? 150 : 300,
        {
            display: function(t) {
                function e() {
                    p = document.createElement("table"),
                    w = document.createElement("tr"),
                    x = document.createElement("td"),
                    z = document.createElement("td"),
                    p.style.cssText = "position:absolute;font-family:sans-serif;font-size:12px;color:#cccccc",
                    p.style.top = "0px",
                    p.style.left = "0px",
                    p.style.border = "thin solid #cccccc",
                    document.body.appendChild(p)
                }
                for (var i in p || e(),
                p.innerHTML = "",
                t) {
                    var s = w.cloneNode()
                      , n = x.cloneNode()
                      , r = z.cloneNode();
                    n.textContent = i,
                    r.textContent = t[i],
                    s.appendChild(n),
                    s.appendChild(r),
                    p.appendChild(s)
                }
            }
        }),
        n.I = {
            q: Math.PI / 180,
            tt: 180 / Math.PI,
            clamp: function(t, e, i) {
                return t >= i ? i : t <= e ? e : t
            },
            L: function(t) {
                var e, i, s;
                return [e = t >> 16 & 255, i = t >> 8 & 255, s = 255 & t]
            },
            T: function(t) {
                var e, i, s, n;
                return [e = t >> 24 & 255, i = t >> 16 & 255, s = t >> 8 & 255, n = 255 & t]
            },
            et: function(t, e, i) {
                return t.length && (i = t[2],
                e = t[1],
                t = t[0]),
                t << 16 | e << 8 | i
            },
            it: function(t, e, i, s) {
                return t.length && (s = t[3],
                i = t[2],
                e = t[1],
                t = t[0]),
                (t << 24 | e << 16 | i << 8 | s) >>> 32
            },
            st: function(t, e, i) {
                return t + (e - t) * n.I.clamp(i, 0, 1)
            },
            nt: function(t, e, i) {
                return e - t > 180 && (e -= 360),
                e - t < -180 && (e += 360),
                n.I.st(t, e, n.I.clamp(i, 0, 1))
            },
            rt: function(t) {
                return 0 !== t && !(t & t - 1)
            },
            ht: function(t) {
                return t--,
                t |= t >> 1,
                t |= t >> 2,
                t |= t >> 4,
                t |= t >> 8,
                t |= t >> 16,
                ++t
            },
            random: function(t, e) {
                var i = e - t;
                return Math.random() * i + t
            },
            ct: function(t, e, i) {
                return i <= t ? 0 : i >= e ? 1 : (i = (i - t) / (e - t)) * i * (3 - 2 * i)
            },
            ot: function(t, e, i) {
                return i <= t ? 0 : i >= e ? 1 : (i = (i - t) / (e - t)) * i * i * (i * (6 * i - 15) + 10)
            },
            calcYaw: function(t) {
                var e = new n.ut;
                return t.ft(n.ut.FORWARD, e),
                Math.atan2(-e.x, -e.z) * n.I.tt
            },
            calcPitch: function(t, e) {
                var i = new n.bt;
                i.vt(0, -e, 0);
                var s = new n.bt;
                s.mul2(i, t);
                var r = new n.ut;
                return s.ft(n.ut.FORWARD, r),
                Math.atan2(r.y, -r.z) * n.I.tt
            }
        },
        Object.assign(n, (y = function(t, e) {
            t && 2 === t.length ? (this.x = t[0],
            this.y = t[1]) : (this.x = t || 0,
            this.y = e || 0)
        }
        ,
        Object.assign(y.prototype, {
            add: function(t) {
                return this.x += t.x,
                this.y += t.y,
                this
            },
            add2: function(t, e) {
                return this.x = t.x + e.x,
                this.y = t.y + e.y,
                this
            },
            clone: function() {
                return (new y).copy(this)
            },
            copy: function(t) {
                return this.x = t.x,
                this.y = t.y,
                this
            },
            dot: function(t) {
                return this.x * t.x + this.y * t.y
            },
            equals: function(t) {
                return this.x === t.x && this.y === t.y
            },
            length: function() {
                return Math.sqrt(this.x * this.x + this.y * this.y)
            },
            lengthSq: function() {
                return this.x * this.x + this.y * this.y
            },
            st: function(t, e, i) {
                return this.x = t.x + i * (e.x - t.x),
                this.y = t.y + i * (e.y - t.y),
                this
            },
            mul: function(t) {
                return this.x *= t.x,
                this.y *= t.y,
                this
            },
            mul2: function(t, e) {
                return this.x = t.x * e.x,
                this.y = t.y * e.y,
                this
            },
            normalize: function() {
                var t = this.x * this.x + this.y * this.y;
                if (t > 0) {
                    var e = 1 / Math.sqrt(t);
                    this.x *= e,
                    this.y *= e
                }
                return this
            },
            scale: function(t) {
                return this.x *= t,
                this.y *= t,
                this
            },
            set: function(t, e) {
                return this.x = t,
                this.y = e,
                this
            },
            sub: function(t) {
                return this.x -= t.x,
                this.y -= t.y,
                this
            },
            sub2: function(t, e) {
                return this.x = t.x - e.x,
                this.y = t.y - e.y,
                this
            },
            toString: function() {
                return "[" + this.x + ", " + this.y + "]"
            }
        }),
        Object.defineProperty(y, "ONE", {
            get: (M = new y(1,1),
            function() {
                return M
            }
            )
        }),
        Object.defineProperty(y, "RIGHT", {
            get: (S = new y(1,0),
            function() {
                return S
            }
            )
        }),
        Object.defineProperty(y, "UP", {
            get: (C = new y(0,1),
            function() {
                return C
            }
            )
        }),
        Object.defineProperty(y, "ZERO", {
            get: (O = new y(0,0),
            function() {
                return O
            }
            )
        }),
        {
            pt: y
        })),
        Object.assign(n, function() {
            var t = function(t, e, i) {
                t && 3 === t.length ? (this.x = t[0],
                this.y = t[1],
                this.z = t[2]) : (this.x = t || 0,
                this.y = e || 0,
                this.z = i || 0)
            }, e, i, s, n, r, a, h;
            return Object.assign(t.prototype, {
                add: function(t) {
                    return this.x += t.x,
                    this.y += t.y,
                    this.z += t.z,
                    this
                },
                add2: function(t, e) {
                    return this.x = t.x + e.x,
                    this.y = t.y + e.y,
                    this.z = t.z + e.z,
                    this
                },
                clone: function() {
                    return (new t).copy(this)
                },
                copy: function(t) {
                    return this.x = t.x,
                    this.y = t.y,
                    this.z = t.z,
                    this
                },
                cross: function(t, e) {
                    var i = t.x
                      , s = t.y
                      , n = t.z
                      , r = e.x
                      , a = e.y
                      , h = e.z;
                    return this.x = s * h - a * n,
                    this.y = n * r - h * i,
                    this.z = i * a - r * s,
                    this
                },
                dot: function(t) {
                    return this.x * t.x + this.y * t.y + this.z * t.z
                },
                equals: function(t) {
                    return this.x === t.x && this.y === t.y && this.z === t.z
                },
                length: function() {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
                },
                lengthSq: function() {
                    return this.x * this.x + this.y * this.y + this.z * this.z
                },
                st: function(t, e, i) {
                    return this.x = t.x + i * (e.x - t.x),
                    this.y = t.y + i * (e.y - t.y),
                    this.z = t.z + i * (e.z - t.z),
                    this
                },
                mul: function(t) {
                    return this.x *= t.x,
                    this.y *= t.y,
                    this.z *= t.z,
                    this
                },
                mul2: function(t, e) {
                    return this.x = t.x * e.x,
                    this.y = t.y * e.y,
                    this.z = t.z * e.z,
                    this
                },
                normalize: function() {
                    var t = this.x * this.x + this.y * this.y + this.z * this.z;
                    if (t > 0) {
                        var e = 1 / Math.sqrt(t);
                        this.x *= e,
                        this.y *= e,
                        this.z *= e
                    }
                    return this
                },
                project: function(t) {
                    var e, i, s = (this.x * t.x + this.y * t.y + this.z * t.z) / (t.x * t.x + t.y * t.y + t.z * t.z);
                    return this.x = t.x * s,
                    this.y = t.y * s,
                    this.z = t.z * s,
                    this
                },
                scale: function(t) {
                    return this.x *= t,
                    this.y *= t,
                    this.z *= t,
                    this
                },
                set: function(t, e, i) {
                    return this.x = t,
                    this.y = e,
                    this.z = i,
                    this
                },
                sub: function(t) {
                    return this.x -= t.x,
                    this.y -= t.y,
                    this.z -= t.z,
                    this
                },
                sub2: function(t, e) {
                    return this.x = t.x - e.x,
                    this.y = t.y - e.y,
                    this.z = t.z - e.z,
                    this
                },
                toString: function() {
                    return "[" + this.x + ", " + this.y + ", " + this.z + "]"
                }
            }),
            Object.defineProperty(t, "BACK", {
                get: (e = new t(0,0,1),
                function() {
                    return e
                }
                )
            }),
            Object.defineProperty(t, "DOWN", {
                get: (i = new t(0,-1,0),
                function() {
                    return i
                }
                )
            }),
            Object.defineProperty(t, "FORWARD", {
                get: (s = new t(0,0,-1),
                function() {
                    return s
                }
                )
            }),
            Object.defineProperty(t, "LEFT", {
                get: (n = new t(-1,0,0),
                function() {
                    return n
                }
                )
            }),
            Object.defineProperty(t, "ONE", {
                get: (r = new t(1,1,1),
                function() {
                    return r
                }
                )
            }),
            Object.defineProperty(t, "RIGHT", {
                get: (a = new t(1,0,0),
                function() {
                    return a
                }
                )
            }),
            Object.defineProperty(t, "UP", {
                get: function() {
                    var e = new t(0,1,0);
                    return function() {
                        return e
                    }
                }()
            }),
            Object.defineProperty(t, "ZERO", {
                get: (h = new t(0,0,0),
                function() {
                    return h
                }
                )
            }),
            {
                ut: t
            }
        }()),
        Object.assign(n, function() {
            var t = function(t, e, i, s) {
                t && 4 === t.length ? (this.x = t[0],
                this.y = t[1],
                this.z = t[2],
                this.w = t[3]) : (this.x = t || 0,
                this.y = e || 0,
                this.z = i || 0,
                this.w = s || 0)
            }, e, i;
            return Object.assign(t.prototype, {
                add: function(t) {
                    return this.x += t.x,
                    this.y += t.y,
                    this.z += t.z,
                    this.w += t.w,
                    this
                },
                add2: function(t, e) {
                    return this.x = t.x + e.x,
                    this.y = t.y + e.y,
                    this.z = t.z + e.z,
                    this.w = t.w + e.w,
                    this
                },
                clone: function() {
                    return (new t).copy(this)
                },
                copy: function(t) {
                    return this.x = t.x,
                    this.y = t.y,
                    this.z = t.z,
                    this.w = t.w,
                    this
                },
                dot: function(t) {
                    return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w
                },
                equals: function(t) {
                    return this.x === t.x && this.y === t.y && this.z === t.z && this.w === t.w
                },
                length: function() {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
                },
                lengthSq: function() {
                    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
                },
                st: function(t, e, i) {
                    return this.x = t.x + i * (e.x - t.x),
                    this.y = t.y + i * (e.y - t.y),
                    this.z = t.z + i * (e.z - t.z),
                    this.w = t.w + i * (e.w - t.w),
                    this
                },
                mul: function(t) {
                    return this.x *= t.x,
                    this.y *= t.y,
                    this.z *= t.z,
                    this.w *= t.w,
                    this
                },
                mul2: function(t, e) {
                    return this.x = t.x * e.x,
                    this.y = t.y * e.y,
                    this.z = t.z * e.z,
                    this.w = t.w * e.w,
                    this
                },
                normalize: function() {
                    var t = this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;
                    if (t > 0) {
                        var e = 1 / Math.sqrt(t);
                        this.x *= e,
                        this.y *= e,
                        this.z *= e,
                        this.w *= e
                    }
                    return this
                },
                scale: function(t) {
                    return this.x *= t,
                    this.y *= t,
                    this.z *= t,
                    this.w *= t,
                    this
                },
                set: function(t, e, i, s) {
                    return this.x = t,
                    this.y = e,
                    this.z = i,
                    this.w = s,
                    this
                },
                sub: function(t) {
                    return this.x -= t.x,
                    this.y -= t.y,
                    this.z -= t.z,
                    this.w -= t.w,
                    this
                },
                sub2: function(t, e) {
                    return this.x = t.x - e.x,
                    this.y = t.y - e.y,
                    this.z = t.z - e.z,
                    this.w = t.w - e.w,
                    this
                },
                toString: function() {
                    return "[" + this.x + ", " + this.y + ", " + this.z + ", " + this.w + "]"
                }
            }),
            Object.defineProperty(t, "ONE", {
                get: (e = new t(1,1,1,1),
                function() {
                    return e
                }
                )
            }),
            Object.defineProperty(t, "ZERO", {
                get: (i = new t(0,0,0,0),
                function() {
                    return i
                }
                )
            }),
            {
                wt: t
            }
        }()),
        Object.assign(n, function() {
            var t = function() {
                var t;
                (t = new Float32Array(9))[0] = t[4] = t[8] = 1,
                this.data = t
            }, e, i;
            return Object.assign(t.prototype, {
                clone: function() {
                    return (new n.xt).copy(this)
                },
                copy: function(t) {
                    var e = t.data
                      , i = this.data;
                    return i[0] = e[0],
                    i[1] = e[1],
                    i[2] = e[2],
                    i[3] = e[3],
                    i[4] = e[4],
                    i[5] = e[5],
                    i[6] = e[6],
                    i[7] = e[7],
                    i[8] = e[8],
                    this
                },
                set: function(t) {
                    var e = this.data;
                    return e[0] = t[0],
                    e[1] = t[1],
                    e[2] = t[2],
                    e[3] = t[3],
                    e[4] = t[4],
                    e[5] = t[5],
                    e[6] = t[6],
                    e[7] = t[7],
                    e[8] = t[8],
                    this
                },
                equals: function(t) {
                    var e = this.data
                      , i = t.data;
                    return e[0] === i[0] && e[1] === i[1] && e[2] === i[2] && e[3] === i[3] && e[4] === i[4] && e[5] === i[5] && e[6] === i[6] && e[7] === i[7] && e[8] === i[8]
                },
                isIdentity: function() {
                    var t = this.data;
                    return 1 === t[0] && 0 === t[1] && 0 === t[2] && 0 === t[3] && 1 === t[4] && 0 === t[5] && 0 === t[6] && 0 === t[7] && 1 === t[8]
                },
                setIdentity: function() {
                    var t = this.data;
                    return t[0] = 1,
                    t[1] = 0,
                    t[2] = 0,
                    t[3] = 0,
                    t[4] = 1,
                    t[5] = 0,
                    t[6] = 0,
                    t[7] = 0,
                    t[8] = 1,
                    this
                },
                toString: function() {
                    for (var t = "[", e = 0; e < 9; e++)
                        t += this.data[e],
                        t += 9 !== e ? ", " : "";
                    return t += "]"
                },
                transpose: function() {
                    var t = this.data, e;
                    return e = t[1],
                    t[1] = t[3],
                    t[3] = e,
                    e = t[2],
                    t[2] = t[6],
                    t[6] = e,
                    e = t[5],
                    t[5] = t[7],
                    t[7] = e,
                    this
                }
            }),
            Object.defineProperty(t, "IDENTITY", {
                get: (e = new t,
                function() {
                    return e
                }
                )
            }),
            Object.defineProperty(t, "ZERO", {
                get: (i = (new t).set([0, 0, 0, 0, 0, 0, 0, 0, 0]),
                function() {
                    return i
                }
                )
            }),
            {
                xt: t
            }
        }()),
        Object.assign(n, function() {
            var t = function() {
                var t = new Float32Array(16);
                t[0] = t[5] = t[10] = t[15] = 1,
                this.data = t
            }, e, i, s, r, a, h;
            return Object.assign(t.prototype, {
                add2: function(t, e) {
                    var i = t.data
                      , s = e.data
                      , n = this.data;
                    return n[0] = i[0] + s[0],
                    n[1] = i[1] + s[1],
                    n[2] = i[2] + s[2],
                    n[3] = i[3] + s[3],
                    n[4] = i[4] + s[4],
                    n[5] = i[5] + s[5],
                    n[6] = i[6] + s[6],
                    n[7] = i[7] + s[7],
                    n[8] = i[8] + s[8],
                    n[9] = i[9] + s[9],
                    n[10] = i[10] + s[10],
                    n[11] = i[11] + s[11],
                    n[12] = i[12] + s[12],
                    n[13] = i[13] + s[13],
                    n[14] = i[14] + s[14],
                    n[15] = i[15] + s[15],
                    this
                },
                add: function(t) {
                    return this.add2(this, t)
                },
                clone: function() {
                    return (new n.zt).copy(this)
                },
                copy: function(t) {
                    var e = t.data
                      , i = this.data;
                    return i[0] = e[0],
                    i[1] = e[1],
                    i[2] = e[2],
                    i[3] = e[3],
                    i[4] = e[4],
                    i[5] = e[5],
                    i[6] = e[6],
                    i[7] = e[7],
                    i[8] = e[8],
                    i[9] = e[9],
                    i[10] = e[10],
                    i[11] = e[11],
                    i[12] = e[12],
                    i[13] = e[13],
                    i[14] = e[14],
                    i[15] = e[15],
                    this
                },
                equals: function(t) {
                    var e = this.data
                      , i = t.data;
                    return e[0] === i[0] && e[1] === i[1] && e[2] === i[2] && e[3] === i[3] && e[4] === i[4] && e[5] === i[5] && e[6] === i[6] && e[7] === i[7] && e[8] === i[8] && e[9] === i[9] && e[10] === i[10] && e[11] === i[11] && e[12] === i[12] && e[13] === i[13] && e[14] === i[14] && e[15] === i[15]
                },
                isIdentity: function() {
                    var t = this.data;
                    return 1 === t[0] && 0 === t[1] && 0 === t[2] && 0 === t[3] && 0 === t[4] && 1 === t[5] && 0 === t[6] && 0 === t[7] && 0 === t[8] && 0 === t[9] && 1 === t[10] && 0 === t[11] && 0 === t[12] && 0 === t[13] && 0 === t[14] && 1 === t[15]
                },
                mul2: function(t, e) {
                    var i, s, n, r, a, h, c, o, u, f, d, l, b, v, m, g, p, w, x, z, _ = t.data, A = e.data, y = this.data;
                    return i = _[0],
                    s = _[1],
                    n = _[2],
                    r = _[3],
                    a = _[4],
                    h = _[5],
                    c = _[6],
                    o = _[7],
                    u = _[8],
                    f = _[9],
                    d = _[10],
                    l = _[11],
                    b = _[12],
                    v = _[13],
                    m = _[14],
                    g = _[15],
                    p = A[0],
                    w = A[1],
                    x = A[2],
                    z = A[3],
                    y[0] = i * p + a * w + u * x + b * z,
                    y[1] = s * p + h * w + f * x + v * z,
                    y[2] = n * p + c * w + d * x + m * z,
                    y[3] = r * p + o * w + l * x + g * z,
                    p = A[4],
                    w = A[5],
                    x = A[6],
                    z = A[7],
                    y[4] = i * p + a * w + u * x + b * z,
                    y[5] = s * p + h * w + f * x + v * z,
                    y[6] = n * p + c * w + d * x + m * z,
                    y[7] = r * p + o * w + l * x + g * z,
                    p = A[8],
                    w = A[9],
                    x = A[10],
                    z = A[11],
                    y[8] = i * p + a * w + u * x + b * z,
                    y[9] = s * p + h * w + f * x + v * z,
                    y[10] = n * p + c * w + d * x + m * z,
                    y[11] = r * p + o * w + l * x + g * z,
                    p = A[12],
                    w = A[13],
                    x = A[14],
                    z = A[15],
                    y[12] = i * p + a * w + u * x + b * z,
                    y[13] = s * p + h * w + f * x + v * z,
                    y[14] = n * p + c * w + d * x + m * z,
                    y[15] = r * p + o * w + l * x + g * z,
                    this
                },
                mul: function(t) {
                    return this.mul2(this, t)
                },
                transformPoint: function(t, e) {
                    var i, s, r, a;
                    return a = this.data,
                    i = t.x,
                    s = t.y,
                    r = t.z,
                    (e = void 0 === e ? new n.ut : e).x = i * a[0] + s * a[4] + r * a[8] + a[12],
                    e.y = i * a[1] + s * a[5] + r * a[9] + a[13],
                    e.z = i * a[2] + s * a[6] + r * a[10] + a[14],
                    e
                },
                ft: function(t, e) {
                    var i, s, r, a;
                    return a = this.data,
                    i = t.x,
                    s = t.y,
                    r = t.z,
                    (e = void 0 === e ? new n.ut : e).x = i * a[0] + s * a[4] + r * a[8],
                    e.y = i * a[1] + s * a[5] + r * a[9],
                    e.z = i * a[2] + s * a[6] + r * a[10],
                    e
                },
                At: function(t, e) {
                    var i, s, r, a, h;
                    return h = this.data,
                    i = t.x,
                    s = t.y,
                    r = t.z,
                    a = t.w,
                    (e = void 0 === e ? new n.wt : e).x = i * h[0] + s * h[4] + r * h[8] + a * h[12],
                    e.y = i * h[1] + s * h[5] + r * h[9] + a * h[13],
                    e.z = i * h[2] + s * h[6] + r * h[10] + a * h[14],
                    e.w = i * h[3] + s * h[7] + r * h[11] + a * h[15],
                    e
                },
                setLookAt: (i = new n.ut,
                s = new n.ut,
                r = new n.ut,
                function(t, e, n) {
                    r.sub2(t, e).normalize(),
                    s.copy(n).normalize(),
                    i.cross(s, r).normalize(),
                    s.cross(r, i);
                    var a = this.data;
                    return a[0] = i.x,
                    a[1] = i.y,
                    a[2] = i.z,
                    a[3] = 0,
                    a[4] = s.x,
                    a[5] = s.y,
                    a[6] = s.z,
                    a[7] = 0,
                    a[8] = r.x,
                    a[9] = r.y,
                    a[10] = r.z,
                    a[11] = 0,
                    a[12] = t.x,
                    a[13] = t.y,
                    a[14] = t.z,
                    a[15] = 1,
                    this
                }
                ),
                setFrustum: function(t, e, i, s, n, r) {
                    var a, h, c, o, u;
                    return a = 2 * n,
                    h = e - t,
                    c = s - i,
                    o = r - n,
                    (u = this.data)[0] = a / h,
                    u[1] = 0,
                    u[2] = 0,
                    u[3] = 0,
                    u[4] = 0,
                    u[5] = a / c,
                    u[6] = 0,
                    u[7] = 0,
                    u[8] = (e + t) / h,
                    u[9] = (s + i) / c,
                    u[10] = (-r - n) / o,
                    u[11] = -1,
                    u[12] = 0,
                    u[13] = 0,
                    u[14] = -a * r / o,
                    u[15] = 0,
                    this
                },
                setPerspective: function(t, e, i, s, n) {
                    var r, a;
                    return n ? a = (r = i * Math.tan(t * Math.PI / 360)) / e : r = (a = i * Math.tan(t * Math.PI / 360)) * e,
                    this.setFrustum(-r, r, -a, a, i, s)
                },
                setOrtho: function(t, e, i, s, n, r) {
                    var a = this.data;
                    return a[0] = 2 / (e - t),
                    a[1] = 0,
                    a[2] = 0,
                    a[3] = 0,
                    a[4] = 0,
                    a[5] = 2 / (s - i),
                    a[6] = 0,
                    a[7] = 0,
                    a[8] = 0,
                    a[9] = 0,
                    a[10] = -2 / (r - n),
                    a[11] = 0,
                    a[12] = -(e + t) / (e - t),
                    a[13] = -(s + i) / (s - i),
                    a[14] = -(r + n) / (r - n),
                    a[15] = 1,
                    this
                },
                yt: function(t, e) {
                    var i, s, r, a, h, c, o, u, f;
                    return e *= n.I.q,
                    i = t.x,
                    s = t.y,
                    r = t.z,
                    a = Math.cos(e),
                    h = Math.sin(e),
                    o = (c = 1 - a) * i,
                    u = c * s,
                    (f = this.data)[0] = o * i + a,
                    f[1] = o * s + h * r,
                    f[2] = o * r - h * s,
                    f[3] = 0,
                    f[4] = o * s - h * r,
                    f[5] = u * s + a,
                    f[6] = u * r + h * i,
                    f[7] = 0,
                    f[8] = o * r + h * s,
                    f[9] = u * r - i * h,
                    f[10] = c * r * r + a,
                    f[11] = 0,
                    f[12] = 0,
                    f[13] = 0,
                    f[14] = 0,
                    f[15] = 1,
                    this
                },
                setTranslate: function(t, e, i) {
                    var s = this.data;
                    return s[0] = 1,
                    s[1] = 0,
                    s[2] = 0,
                    s[3] = 0,
                    s[4] = 0,
                    s[5] = 1,
                    s[6] = 0,
                    s[7] = 0,
                    s[8] = 0,
                    s[9] = 0,
                    s[10] = 1,
                    s[11] = 0,
                    s[12] = t,
                    s[13] = e,
                    s[14] = i,
                    s[15] = 1,
                    this
                },
                setScale: function(t, e, i) {
                    var s = this.data;
                    return s[0] = t,
                    s[1] = 0,
                    s[2] = 0,
                    s[3] = 0,
                    s[4] = 0,
                    s[5] = e,
                    s[6] = 0,
                    s[7] = 0,
                    s[8] = 0,
                    s[9] = 0,
                    s[10] = i,
                    s[11] = 0,
                    s[12] = 0,
                    s[13] = 0,
                    s[14] = 0,
                    s[15] = 1,
                    this
                },
                invert: function() {
                    var t, e, i, s, n, r, a, h, c, o, u, f, d, l, b, v, m, g, p, w, x, z, _, A, y, M, S, C, O, E, D;
                    return t = (D = this.data)[0],
                    e = D[1],
                    i = D[2],
                    s = D[3],
                    n = D[4],
                    r = D[5],
                    a = D[6],
                    h = D[7],
                    c = D[8],
                    o = D[9],
                    u = D[10],
                    f = D[11],
                    d = D[12],
                    l = D[13],
                    b = D[14],
                    0 === (O = (m = t * r - e * n) * (C = u * (v = D[15]) - f * b) - (g = t * a - i * n) * (S = o * v - f * l) + (p = t * h - s * n) * (M = o * b - u * l) + (w = e * a - i * r) * (y = c * v - f * d) - (x = e * h - s * r) * (A = c * b - u * d) + (z = i * h - s * a) * (_ = c * l - o * d)) ? this.setIdentity() : (E = 1 / O,
                    D[0] = (r * C - a * S + h * M) * E,
                    D[1] = (-e * C + i * S - s * M) * E,
                    D[2] = (l * z - b * x + v * w) * E,
                    D[3] = (-o * z + u * x - f * w) * E,
                    D[4] = (-n * C + a * y - h * A) * E,
                    D[5] = (t * C - i * y + s * A) * E,
                    D[6] = (-d * z + b * p - v * g) * E,
                    D[7] = (c * z - u * p + f * g) * E,
                    D[8] = (n * S - r * y + h * _) * E,
                    D[9] = (-t * S + e * y - s * _) * E,
                    D[10] = (d * x - l * p + v * m) * E,
                    D[11] = (-c * x + o * p - f * m) * E,
                    D[12] = (-n * M + r * A - a * _) * E,
                    D[13] = (t * M - e * A + i * _) * E,
                    D[14] = (-d * w + l * g - b * m) * E,
                    D[15] = (c * w - o * g + u * m) * E),
                    this
                },
                set: function(t) {
                    var e = this.data;
                    return e[0] = t[0],
                    e[1] = t[1],
                    e[2] = t[2],
                    e[3] = t[3],
                    e[4] = t[4],
                    e[5] = t[5],
                    e[6] = t[6],
                    e[7] = t[7],
                    e[8] = t[8],
                    e[9] = t[9],
                    e[10] = t[10],
                    e[11] = t[11],
                    e[12] = t[12],
                    e[13] = t[13],
                    e[14] = t[14],
                    e[15] = t[15],
                    this
                },
                setIdentity: function() {
                    var t = this.data;
                    return t[0] = 1,
                    t[1] = 0,
                    t[2] = 0,
                    t[3] = 0,
                    t[4] = 0,
                    t[5] = 1,
                    t[6] = 0,
                    t[7] = 0,
                    t[8] = 0,
                    t[9] = 0,
                    t[10] = 1,
                    t[11] = 0,
                    t[12] = 0,
                    t[13] = 0,
                    t[14] = 0,
                    t[15] = 1,
                    this
                },
                Mt: function(t, e, i) {
                    var s, n, r, a, h, c, o, u, f, d, l, b, v, m, g, p, w, x, z, _, A, y, M;
                    return s = t.x,
                    n = t.y,
                    r = t.z,
                    a = e.x,
                    h = e.y,
                    c = e.z,
                    o = e.w,
                    u = i.x,
                    f = i.y,
                    d = i.z,
                    m = a * (l = a + a),
                    g = a * (b = h + h),
                    p = a * (v = c + c),
                    w = h * b,
                    x = h * v,
                    z = c * v,
                    _ = o * l,
                    A = o * b,
                    y = o * v,
                    (M = this.data)[0] = (1 - (w + z)) * u,
                    M[1] = (g + y) * u,
                    M[2] = (p - A) * u,
                    M[3] = 0,
                    M[4] = (g - y) * f,
                    M[5] = (1 - (m + z)) * f,
                    M[6] = (x + _) * f,
                    M[7] = 0,
                    M[8] = (p + A) * d,
                    M[9] = (x - _) * d,
                    M[10] = (1 - (m + w)) * d,
                    M[11] = 0,
                    M[12] = s,
                    M[13] = n,
                    M[14] = r,
                    M[15] = 1,
                    this
                },
                transpose: function() {
                    var t, e = this.data;
                    return t = e[1],
                    e[1] = e[4],
                    e[4] = t,
                    t = e[2],
                    e[2] = e[8],
                    e[8] = t,
                    t = e[3],
                    e[3] = e[12],
                    e[12] = t,
                    t = e[6],
                    e[6] = e[9],
                    e[9] = t,
                    t = e[7],
                    e[7] = e[13],
                    e[13] = t,
                    t = e[11],
                    e[11] = e[14],
                    e[14] = t,
                    this
                },
                St: function(t) {
                    var e, i, s, n, r, a, h, c, o, u, f, d, l;
                    u = this.data,
                    f = t.data;
                    var b = u[0]
                      , v = u[1]
                      , m = u[2]
                      , g = u[4]
                      , p = u[5]
                      , w = u[6]
                      , x = u[8]
                      , z = u[9]
                      , _ = u[10];
                    return i = -_ * v + m * z,
                    s = w * v - m * p,
                    r = _ * b - m * x,
                    a = -w * b + m * g,
                    c = -z * b + v * x,
                    o = p * b - v * g,
                    0 === (d = b * (e = _ * p - w * z) + v * (n = -_ * g + w * x) + m * (h = z * g - p * x)) ? this : (l = 1 / d,
                    f[0] = l * e,
                    f[1] = l * i,
                    f[2] = l * s,
                    f[3] = l * n,
                    f[4] = l * r,
                    f[5] = l * a,
                    f[6] = l * h,
                    f[7] = l * c,
                    f[8] = l * o,
                    this)
                },
                getTranslation: function(t) {
                    return (t = void 0 === t ? new n.ut : t).set(this.data[12], this.data[13], this.data[14])
                },
                getX: function(t) {
                    return (t = void 0 === t ? new n.ut : t).set(this.data[0], this.data[1], this.data[2])
                },
                getY: function(t) {
                    return (t = void 0 === t ? new n.ut : t).set(this.data[4], this.data[5], this.data[6])
                },
                getZ: function(t) {
                    return (t = void 0 === t ? new n.ut : t).set(this.data[8], this.data[9], this.data[10])
                },
                getScale: function() {
                    var t, e, i;
                    return t = new n.ut,
                    e = new n.ut,
                    i = new n.ut,
                    function(s) {
                        return s = void 0 === s ? new n.ut : s,
                        this.getX(t),
                        this.getY(e),
                        this.getZ(i),
                        s.set(t.length(), e.length(), i.length()),
                        s
                    }
                }(),
                vt: function(t, e, i) {
                    var s, r, a, h, c, o, u;
                    return t *= n.I.q,
                    e *= n.I.q,
                    i *= n.I.q,
                    s = Math.sin(-t),
                    r = Math.cos(-t),
                    a = Math.sin(-e),
                    h = Math.cos(-e),
                    c = Math.sin(-i),
                    o = Math.cos(-i),
                    (u = this.data)[0] = h * o,
                    u[1] = -h * c,
                    u[2] = a,
                    u[3] = 0,
                    u[4] = r * c + o * s * a,
                    u[5] = r * o - s * a * c,
                    u[6] = -h * s,
                    u[7] = 0,
                    u[8] = s * c - r * o * a,
                    u[9] = o * s + r * a * c,
                    u[10] = r * h,
                    u[11] = 0,
                    u[12] = 0,
                    u[13] = 0,
                    u[14] = 0,
                    u[15] = 1,
                    this
                },
                getEulerAngles: (e = new n.ut,
                function(t) {
                    var i, s, r, a, h, c, o, u;
                    return t = void 0 === t ? new n.ut : t,
                    this.getScale(e),
                    a = e.x,
                    h = e.y,
                    c = e.z,
                    o = this.data,
                    (s = Math.asin(-o[2] / a)) < (u = .5 * Math.PI) ? s > -u ? (i = Math.atan2(o[6] / h, o[10] / c),
                    r = Math.atan2(o[1] / a, o[0] / a)) : (r = 0,
                    i = -Math.atan2(o[4] / h, o[5] / h)) : (r = 0,
                    i = Math.atan2(o[4] / h, o[5] / h)),
                    t.set(i, s, r).scale(n.I.tt)
                }
                ),
                getDeterminant: function() {
                    var t, e, i, s, n, r, a, h, c, o, u, f, d, l, b, v, m;
                    return t = (m = this.data)[0],
                    e = m[1],
                    i = m[2],
                    s = m[3],
                    n = m[4],
                    r = m[5],
                    a = m[6],
                    h = m[7],
                    c = m[8],
                    o = m[9],
                    u = m[10],
                    f = m[11],
                    (d = m[12]) * (+s * a * o - i * h * o - s * r * u + e * h * u + i * r * f - e * a * f) + (l = m[13]) * (+t * a * f - t * h * u + s * n * u - i * n * f + i * h * c - s * a * c) + (b = m[14]) * (+t * h * o - t * r * f - s * n * o + e * n * f + s * r * c - e * h * c) + (v = m[15]) * (-i * r * c - t * a * o + t * r * u + i * n * o - e * n * u + e * a * c)
                },
                toString: function() {
                    var t, e;
                    for (e = "[",
                    t = 0; t < 16; t += 1)
                        e += this.data[t],
                        e += 15 !== t ? ", " : "";
                    return e += "]"
                }
            }),
            Object.defineProperty(t, "IDENTITY", {
                get: (a = new t,
                function() {
                    return a
                }
                )
            }),
            Object.defineProperty(t, "ZERO", {
                get: (h = (new t).set([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),
                function() {
                    return h
                }
                )
            }),
            {
                zt: t
            }
        }()),
        Object.assign(n, function() {
            var t = function(t, e, i, s) {
                t && 4 === t.length ? (this.x = t[0],
                this.y = t[1],
                this.z = t[2],
                this.w = t[3]) : (this.x = void 0 === t ? 0 : t,
                this.y = void 0 === e ? 0 : e,
                this.z = void 0 === i ? 0 : i,
                this.w = void 0 === s ? 1 : s)
            }, e, i;
            return Object.assign(t.prototype, {
                clone: function() {
                    return new n.bt(this.x,this.y,this.z,this.w)
                },
                conjugate: function() {
                    return this.x *= -1,
                    this.y *= -1,
                    this.z *= -1,
                    this
                },
                copy: function(t) {
                    return this.x = t.x,
                    this.y = t.y,
                    this.z = t.z,
                    this.w = t.w,
                    this
                },
                equals: function(t) {
                    return this.x === t.x && this.y === t.y && this.z === t.z && this.w === t.w
                },
                getAxisAngle: function(t) {
                    var e = 2 * Math.acos(this.w)
                      , i = Math.sin(e / 2);
                    return 0 !== i ? (t.x = this.x / i,
                    t.y = this.y / i,
                    t.z = this.z / i,
                    (t.x < 0 || t.y < 0 || t.z < 0) && (t.x *= -1,
                    t.y *= -1,
                    t.z *= -1,
                    e *= -1)) : (t.x = 1,
                    t.y = 0,
                    t.z = 0),
                    e * n.I.tt
                },
                getAxisAngle: function(t) {
                    var e = 2 * Math.acos(this.w)
                      , i = Math.sin(e / 2);
                    return 0 !== i ? (t.x = this.x / i,
                    t.y = this.y / i,
                    t.z = this.z / i,
                    (t.x < 0 || t.y < 0 || t.z < 0) && (t.x *= -1,
                    t.y *= -1,
                    t.z *= -1,
                    e *= -1)) : (t.x = 1,
                    t.y = 0,
                    t.z = 0),
                    e * n.I.tt
                },
                getEulerAngles: function(t) {
                    var e, i, s, r, a, h, c, o;
                    return t = void 0 === t ? new n.ut : t,
                    r = this.x,
                    a = this.y,
                    h = this.z,
                    (o = 2 * ((c = this.w) * a - r * h)) <= -.99999 ? (e = 2 * Math.atan2(r, c),
                    i = -Math.PI / 2,
                    s = 0) : o >= .99999 ? (e = 2 * Math.atan2(r, c),
                    i = Math.PI / 2,
                    s = 0) : (e = Math.atan2(2 * (c * r + a * h), 1 - 2 * (r * r + a * a)),
                    i = Math.asin(o),
                    s = Math.atan2(2 * (c * h + r * a), 1 - 2 * (a * a + h * h))),
                    t.set(e, i, s).scale(n.I.tt)
                },
                invert: function() {
                    return this.conjugate().normalize()
                },
                length: function() {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
                },
                lengthSq: function() {
                    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
                },
                mul: function(t) {
                    var e, i, s, n, r, a, h, c;
                    return e = this.x,
                    i = this.y,
                    s = this.z,
                    n = this.w,
                    r = t.x,
                    a = t.y,
                    h = t.z,
                    c = t.w,
                    this.x = n * r + e * c + i * h - s * a,
                    this.y = n * a + i * c + s * r - e * h,
                    this.z = n * h + s * c + e * a - i * r,
                    this.w = n * c - e * r - i * a - s * h,
                    this
                },
                mul2: function(t, e) {
                    var i, s, n, r, a, h, c, o;
                    return i = t.x,
                    s = t.y,
                    n = t.z,
                    r = t.w,
                    a = e.x,
                    h = e.y,
                    c = e.z,
                    o = e.w,
                    this.x = r * a + i * o + s * c - n * h,
                    this.y = r * h + s * o + n * a - i * c,
                    this.z = r * c + n * o + i * h - s * a,
                    this.w = r * o - i * a - s * h - n * c,
                    this
                },
                normalize: function() {
                    var t = this.length();
                    return 0 === t ? (this.x = this.y = this.z = 0,
                    this.w = 1) : (t = 1 / t,
                    this.x *= t,
                    this.y *= t,
                    this.z *= t,
                    this.w *= t),
                    this
                },
                set: function(t, e, i, s) {
                    return this.x = t,
                    this.y = e,
                    this.z = i,
                    this.w = s,
                    this
                },
                yt: function(t, e) {
                    var i, s;
                    return e *= .5 * n.I.q,
                    i = Math.sin(e),
                    s = Math.cos(e),
                    this.x = i * t.x,
                    this.y = i * t.y,
                    this.z = i * t.z,
                    this.w = s,
                    this
                },
                vt: function(t, e, i) {
                    var s, r, a, h, c, o, u;
                    return t *= u = .5 * n.I.q,
                    e *= u,
                    i *= u,
                    s = Math.sin(t),
                    r = Math.cos(t),
                    a = Math.sin(e),
                    h = Math.cos(e),
                    c = Math.sin(i),
                    o = Math.cos(i),
                    this.x = s * h * o - r * a * c,
                    this.y = r * a * o + s * h * c,
                    this.z = r * h * c - s * a * o,
                    this.w = r * h * o + s * a * c,
                    this
                },
                Ct: function(t) {
                    var e, i, s, n, r, a, h, c, o, u, f, d, l, b, v;
                    return e = (t = t.data)[0],
                    i = t[1],
                    s = t[2],
                    n = t[4],
                    r = t[5],
                    a = t[6],
                    h = t[8],
                    c = t[9],
                    o = t[10],
                    i *= l = 1 / Math.sqrt(e * e + i * i + s * s),
                    s *= l,
                    n *= b = 1 / Math.sqrt(n * n + r * r + a * a),
                    a *= b,
                    h *= v = 1 / Math.sqrt(h * h + c * c + o * o),
                    c *= v,
                    (u = (e *= l) + (r *= b) + (o *= v)) >= 0 ? (f = Math.sqrt(u + 1),
                    this.w = .5 * f,
                    f = .5 / f,
                    this.x = (a - c) * f,
                    this.y = (h - s) * f,
                    this.z = (i - n) * f) : e > r ? e > o ? (d = e - (r + o) + 1,
                    d = Math.sqrt(d),
                    this.x = .5 * d,
                    d = .5 / d,
                    this.w = (a - c) * d,
                    this.y = (i + n) * d,
                    this.z = (s + h) * d) : (d = o - (e + r) + 1,
                    d = Math.sqrt(d),
                    this.z = .5 * d,
                    d = .5 / d,
                    this.w = (i - n) * d,
                    this.x = (h + s) * d,
                    this.y = (c + a) * d) : r > o ? (d = r - (o + e) + 1,
                    d = Math.sqrt(d),
                    this.y = .5 * d,
                    d = .5 / d,
                    this.w = (h - s) * d,
                    this.z = (a + c) * d,
                    this.x = (n + i) * d) : (d = o - (e + r) + 1,
                    d = Math.sqrt(d),
                    this.z = .5 * d,
                    d = .5 / d,
                    this.w = (i - n) * d,
                    this.x = (h + s) * d,
                    this.y = (c + a) * d),
                    this
                },
                Ot: function(t, e, i) {
                    var s, n, r, a, h, c, o, u;
                    s = t.x,
                    n = t.y,
                    r = t.z,
                    a = t.w,
                    h = e.x,
                    c = e.y,
                    o = e.z;
                    var f = a * (u = e.w) + s * h + n * c + r * o;
                    if (f < 0 && (u = -u,
                    h = -h,
                    c = -c,
                    o = -o,
                    f = -f),
                    Math.abs(f) >= 1)
                        return this.w = a,
                        this.x = s,
                        this.y = n,
                        this.z = r,
                        this;
                    var d = Math.acos(f)
                      , l = Math.sqrt(1 - f * f);
                    if (Math.abs(l) < .001)
                        return this.w = .5 * a + .5 * u,
                        this.x = .5 * s + .5 * h,
                        this.y = .5 * n + .5 * c,
                        this.z = .5 * r + .5 * o,
                        this;
                    var b = Math.sin((1 - i) * d) / l
                      , v = Math.sin(i * d) / l;
                    return this.w = a * b + u * v,
                    this.x = s * b + h * v,
                    this.y = n * b + c * v,
                    this.z = r * b + o * v,
                    this
                },
                ft: function(t, e) {
                    void 0 === e && (e = new n.ut);
                    var i = t.x
                      , s = t.y
                      , r = t.z
                      , a = this.x
                      , h = this.y
                      , c = this.z
                      , o = this.w
                      , u = o * i + h * r - c * s
                      , f = o * s + c * i - a * r
                      , d = o * r + a * s - h * i
                      , l = -a * i - h * s - c * r;
                    return e.x = u * o + l * -a + f * -c - d * -h,
                    e.y = f * o + l * -h + d * -a - u * -c,
                    e.z = d * o + l * -c + u * -h - f * -a,
                    e
                },
                toString: function() {
                    return "[" + this.x + ", " + this.y + ", " + this.z + ", " + this.w + "]"
                }
            }),
            Object.defineProperty(t, "IDENTITY", {
                get: (e = new t,
                function() {
                    return e
                }
                )
            }),
            Object.defineProperty(t, "ZERO", {
                get: (i = new t(0,0,0,0),
                function() {
                    return i
                }
                )
            }),
            {
                bt: t
            }
        }()),
        Object.assign(n, (E = 0,
        D = 1,
        T = 2,
        P = 3,
        B = function(t) {
            if (this.keys = [],
            this.type = 1,
            this.tension = .5,
            t)
                for (var e = 0; e < t.length - 1; e += 2)
                    this.keys.push([t[e], t[e + 1]]);
            this.sort()
        }
        ,
        Object.assign(B.prototype, {
            add: function(t, e) {
                for (var i = this.keys, s = i.length, n = 0; n < s && !(i[n][0] > t); n++)
                    ;
                var r = [t, e];
                return this.keys.splice(n, 0, r),
                r
            },
            get: function(t) {
                return this.keys[t]
            },
            sort: function() {
                this.keys.sort(function(t, e) {
                    return t[0] - e[0]
                })
            },
            value: function(t) {
                var e, i, s = this.keys;
                if (!s.length)
                    return 0;
                if (t < s[0][0])
                    return s[0][1];
                if (t > s[s.length - 1][0])
                    return s[s.length - 1][1];
                var r = 0
                  , a = s.length ? s[0][1] : 0
                  , h = 1
                  , c = 0;
                for (e = 0,
                i = s.length; e < i; e++) {
                    if (s[e][0] === t)
                        return s[e][1];
                    if (c = s[e][1],
                    t < s[e][0]) {
                        h = s[e][0];
                        break
                    }
                    r = s[e][0],
                    a = s[e][1]
                }
                var o = h - r
                  , u = 0 === o ? 0 : (t - r) / o;
                if (1 === this.type)
                    u *= u * (3 - 2 * u);
                else if (2 === this.type || 3 === this.type) {
                    var f = a
                      , d = c
                      , l = f + (f - d)
                      , b = d + (d - f)
                      , v = h - r
                      , m = v
                      , g = v;
                    return e > 0 && e--,
                    e > 0 && (l = s[e - 1][1],
                    m = s[e][0] - s[e - 1][0]),
                    s.length > e + 1 && (v = s[e + 1][0] - s[e][0]),
                    s.length > e + 2 && (g = s[e + 2][0] - s[e + 1][0],
                    b = s[e + 2][1]),
                    l = f + (l - f) * v / m,
                    b = d + (b - d) * v / g,
                    2 === this.type ? this._interpolateCatmullRom(l, f, d, b, u) : this._interpolateCardinal(l, f, d, b, u, this.tension)
                }
                return n.I.st(a, c, u)
            },
            _interpolateHermite: function(t, e, i, s, n) {
                var r = n * n, a = n * n * n, h, c, o, u;
                return t * (2 * a - 3 * r + 1) + e * (-2 * a + 3 * r) + i * (a - 2 * r + n) + s * (a - r)
            },
            _interpolateCardinal: function(t, e, i, s, n, r) {
                var a = r * (i - t)
                  , h = r * (s - e);
                return this._interpolateHermite(e, i, a, h, n)
            },
            _interpolateCatmullRom: function(t, e, i, s, n) {
                return this._interpolateCardinal(t, e, i, s, n, .5)
            },
            closest: function(t) {
                for (var e = this.keys, i = e.length, s = 2, n = null, r = 0; r < i; r++) {
                    var a = Math.abs(t - e[r][0]);
                    if (!(s >= a))
                        break;
                    s = a,
                    n = e[r]
                }
                return n
            },
            clone: function() {
                var t = new n.Et;
                return t.keys = n.extend(t.keys, this.keys),
                t.type = this.type,
                t
            },
            quantize: function(t) {
                t = Math.max(t, 2);
                for (var e = new Float32Array(t), i = 1 / (t - 1), s = 0; s < t; s++) {
                    var n = this.value(i * s);
                    e[s] = n
                }
                return e
            }
        }),
        Object.defineProperty(B.prototype, "length", {
            get: function() {
                return this.keys.length
            }
        }),
        {
            Et: B,
            Dt: 0,
            Tt: 1,
            Pt: 2,
            Bt: 3
        })),
        Object.assign(n, (I = function() {
            var t;
            if (this.curves = [],
            this._type = n.Tt,
            arguments.length > 1)
                for (t = 0; t < arguments.length; t++)
                    this.curves.push(new n.Et(arguments[t]));
            else if (0 === arguments.length)
                this.curves.push(new n.Et);
            else {
                var e = arguments[0];
                if ("number" === n.type(e))
                    for (t = 0; t < e; t++)
                        this.curves.push(new n.Et);
                else
                    for (t = 0; t < e.length; t++)
                        this.curves.push(new n.Et(e[t]))
            }
        }
        ,
        Object.assign(I.prototype, {
            get: function(t) {
                return this.curves[t]
            },
            value: function(t, e) {
                var i = this.curves.length;
                (e = e || []).length = i;
                for (var s = 0; s < i; s++)
                    e[s] = this.curves[s].value(t);
                return e
            },
            clone: function() {
                var t = new n.It;
                t.curves = [];
                for (var e = 0; e < this.curves.length; e++)
                    t.curves.push(this.curves[e].clone());
                return t._type = this._type,
                t
            },
            quantize: function(t) {
                t = Math.max(t, 2);
                for (var e = this.curves.length, i = new Float32Array(t * e), s = 1 / (t - 1), n = [], r = 0; r < t; r++) {
                    var a = this.value(s * r, n);
                    if (1 == e)
                        i[r] = a[0];
                    else
                        for (var h = 0; h < e; h++)
                            i[r * e + h] = a[h]
                }
                return i
            }
        }),
        Object.defineProperty(I.prototype, "length", {
            get: function() {
                return this.curves.length
            }
        }),
        Object.defineProperty(I.prototype, "type", {
            get: function() {
                return this._type
            },
            set: function(t) {
                this._type = t;
                for (var e = 0; e < this.curves.length; e++)
                    this.curves[e].type = t
            }
        }),
        {
            It: I
        })),
        Object.assign(n, (j = new n.ut,
        R = new n.ut,
        L = new n.ut,
        N = new n.ut,
        F = new n.ut,
        k = function t(e, i) {
            this.center = e || new n.ut(0,0,0),
            this.halfExtents = i || new n.ut(.5,.5,.5),
            this._min = new n.ut,
            this._max = new n.ut
        }
        ,
        Object.assign(k.prototype, {
            add: function(t) {
                var e = this.center
                  , i = e.x
                  , s = e.y
                  , n = e.z
                  , r = this.halfExtents
                  , a = r.x
                  , h = r.y
                  , c = r.z
                  , o = i - a
                  , u = i + a
                  , f = s - h
                  , d = s + h
                  , l = n - c
                  , b = n + c
                  , v = t.center
                  , m = v.x
                  , g = v.y
                  , p = v.z
                  , w = t.halfExtents
                  , x = w.x
                  , z = w.y
                  , _ = w.z
                  , A = m - x
                  , y = m + x
                  , M = g - z
                  , S = g + z
                  , C = p - _
                  , O = p + _;
                A < o && (o = A),
                y > u && (u = y),
                M < f && (f = M),
                S > d && (d = S),
                C < l && (l = C),
                O > b && (b = O),
                e.x = .5 * (o + u),
                e.y = .5 * (f + d),
                e.z = .5 * (l + b),
                r.x = .5 * (u - o),
                r.y = .5 * (d - f),
                r.z = .5 * (b - l)
            },
            copy: function(t) {
                this.center.copy(t.center),
                this.halfExtents.copy(t.halfExtents),
                this.type = t.type
            },
            clone: function() {
                return new n.jt(this.center.clone(),this.halfExtents.clone())
            },
            Rt: function(t) {
                var e = this.getMax()
                  , i = this.getMin()
                  , s = t.getMax()
                  , n = t.getMin();
                return i.x <= s.x && e.x >= n.x && i.y <= s.y && e.y >= n.y && i.z <= s.z && e.z >= n.z
            },
            Lt: function(t) {
                var e = this.getMax()
                  , i = this.getMin()
                  , s = t.getMax()
                  , n = t.getMin();
                return i.x < s.x && e.x > n.x && i.y < s.y && e.y > n.y && i.z < s.z && e.z > n.z
            },
            _intersectsRay: function(t, e) {
                var i = j.copy(this.getMin()).sub(t.origin)
                  , s = R.copy(this.getMax()).sub(t.origin)
                  , n = t.direction;
                0 === n.x ? (i.x = i.x < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE,
                s.x = s.x < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE) : (i.x /= n.x,
                s.x /= n.x),
                0 === n.y ? (i.y = i.y < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE,
                s.y = s.y < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE) : (i.y /= n.y,
                s.y /= n.y),
                0 === n.z ? (i.z = i.z < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE,
                s.z = s.z < 0 ? -Number.MAX_VALUE : Number.MAX_VALUE) : (i.z /= n.z,
                s.z /= n.z);
                var r = L.set(Math.min(i.x, s.x), Math.min(i.y, s.y), Math.min(i.z, s.z))
                  , a = N.set(Math.max(i.x, s.x), Math.max(i.y, s.y), Math.max(i.z, s.z))
                  , h = Math.min(Math.min(a.x, a.y), a.z)
                  , c = Math.max(Math.max(r.x, r.y), r.z)
                  , o = h >= c && c >= 0;
                return o && e.copy(t.direction).scale(c).add(t.origin),
                o
            },
            _fastIntersectsRay: function(t) {
                var e = j
                  , i = R
                  , s = L
                  , n = N
                  , r = F
                  , a = t.direction;
                return e.sub2(t.origin, this.center),
                n.set(Math.abs(e.x), Math.abs(e.y), Math.abs(e.z)),
                s.mul2(e, a),
                !(n.x > this.halfExtents.x && s.x >= 0 || n.y > this.halfExtents.y && s.y >= 0 || n.z > this.halfExtents.z && s.z >= 0 || (r.set(Math.abs(a.x), Math.abs(a.y), Math.abs(a.z)),
                i.cross(a, e),
                i.set(Math.abs(i.x), Math.abs(i.y), Math.abs(i.z)),
                i.x > this.halfExtents.y * r.z + this.halfExtents.z * r.y || i.y > this.halfExtents.x * r.z + this.halfExtents.z * r.x || i.z > this.halfExtents.x * r.y + this.halfExtents.y * r.x))
            },
            Nt: function(t, e) {
                return e ? this._intersectsRay(t, e) : this._fastIntersectsRay(t)
            },
            setMinMax: function(t, e) {
                this.center.add2(e, t).scale(.5),
                this.halfExtents.sub2(e, t).scale(.5)
            },
            getMin: function() {
                return this._min.copy(this.center).sub(this.halfExtents)
            },
            getMax: function() {
                return this._max.copy(this.center).add(this.halfExtents)
            },
            getHalfExtentsMax: function() {
                return Math.max(this.halfExtents.x, Math.max(this.halfExtents.y, this.halfExtents.z))
            },
            Ft: function(t) {
                var e = this.getMin()
                  , i = this.getMax();
                return !(t.x < e.x || t.x > i.x || t.y < e.y || t.y > i.y || t.z < e.z || t.z > i.z)
            },
            kt: function(t, e) {
                var i = this.center
                  , s = this.halfExtents
                  , n = t.center
                  , r = t.halfExtents
                  , a = (e = e.data)[0]
                  , h = e[4]
                  , c = e[8]
                  , o = e[1]
                  , u = e[5]
                  , f = e[9]
                  , d = e[2]
                  , l = e[6]
                  , b = e[10]
                  , v = Math.abs(a)
                  , m = Math.abs(h)
                  , g = Math.abs(c)
                  , p = Math.abs(o)
                  , w = Math.abs(u)
                  , x = Math.abs(f)
                  , z = Math.abs(d)
                  , _ = Math.abs(l)
                  , A = Math.abs(b);
                i.set(e[12] + a * n.x + h * n.y + c * n.z, e[13] + o * n.x + u * n.y + f * n.z, e[14] + d * n.x + l * n.y + b * n.z),
                s.set(v * r.x + m * r.y + g * r.z, p * r.x + w * r.y + x * r.z, z * r.x + _ * r.y + A * r.z)
            },
            compute: function(t) {
                for (var e = j.set(t[0], t[1], t[2]), i = R.set(t[0], t[1], t[2]), s = t.length / 3, n = 1; n < s; n++) {
                    var r = t[3 * n + 0]
                      , a = t[3 * n + 1]
                      , h = t[3 * n + 2];
                    r < e.x && (e.x = r),
                    a < e.y && (e.y = a),
                    h < e.z && (e.z = h),
                    r > i.x && (i.x = r),
                    a > i.y && (i.y = a),
                    h > i.z && (i.z = h)
                }
                this.setMinMax(e, i)
            },
            Ut: function(t) {
                var e;
                return this._distanceToBoundingSphereSq(t) <= t.radius * t.radius
            },
            _distanceToBoundingSphereSq: function(t) {
                for (var e = this.getMin(), i = this.getMax(), s = 0, n = ["x", "y", "z"], r = 0; r < 3; ++r) {
                    var a = 0
                      , h = t.center[n[r]]
                      , c = e[n[r]]
                      , o = i[n[r]]
                      , u = 0;
                    h < c && (a += (u = c - h) * u),
                    h > o && (a += (u = h - o) * u),
                    s += a
                }
                return s
            },
            toJSON: function() {
                return {
                    center: Array.from(this.center.data),
                    halfExtents: Array.from(this.halfExtents.data)
                }
            }
        }),
        {
            jt: k
        })),
        Object.assign(n, function() {
            var t = new n.ut
              , e = new n.ut
              , i = new n.ut
              , s = new n.ut;
            function r(t, e) {
                this.center = t || new n.ut(0,0,0),
                this.radius = void 0 === e ? .5 : e
            }
            return Object.assign(r.prototype, {
                Ft: function(e) {
                    var i = t.sub2(e, this.center).lengthSq()
                      , s = this.radius;
                    return i < s * s
                },
                compute: function(n) {
                    var r, a = n.length / 3, h = t, c = e, o = i;
                    for (r = 0; r < a; r++)
                        h.set(n[3 * r], n[3 * r + 1], n[3 * r + 2]),
                        o.addSelf(h),
                        r % 100 == 0 && (o.scale(1 / a),
                        c.add(o),
                        o.set(0, 0, 0));
                    o.scale(1 / a),
                    c.add(o),
                    this.center.copy(c);
                    var u = 0
                      , f = s;
                    for (r = 0; r < a; r++)
                        h.set(n[3 * r], n[3 * r + 1], n[3 * r + 2]),
                        f.sub2(h, this.center),
                        u = Math.max(f.lengthSq(), u);
                    this.radius = Math.sqrt(u)
                },
                Nt: function(i, s) {
                    var n = t.copy(i.origin).sub(this.center)
                      , r = n.dot(e.copy(i.direction).normalize())
                      , a = n.dot(n) - this.radius * this.radius;
                    if (a > 0 && r > 0)
                        return null;
                    var h = r * r - a;
                    if (h < 0)
                        return !1;
                    var c = Math.abs(-r - Math.sqrt(h));
                    return s && s.copy(i.direction).scale(c).add(i.origin),
                    !0
                },
                Ut: function(e) {
                    t.sub2(e.center, this.center);
                    var i = e.radius + this.radius;
                    return t.lengthSq() <= i * i
                }
            }),
            {
                Vt: r
            }
        }()),
        Object.assign(n, (U = new n.zt,
        V = function t(e, i) {
            e = e || (new n.zt).setPerspective(90, 16 / 9, .1, 1e3),
            i = i || new n.zt,
            this.planes = [];
            for (var s = 0; s < 6; s++)
                this.planes[s] = [];
            this.update(e, i)
        }
        ,
        Object.assign(V.prototype, {
            update: function(t, e) {
                U.mul2(t, e);
                var i = U.data;
                this.planes[0][0] = i[3] - i[0],
                this.planes[0][1] = i[7] - i[4],
                this.planes[0][2] = i[11] - i[8],
                this.planes[0][3] = i[15] - i[12];
                var s = Math.sqrt(this.planes[0][0] * this.planes[0][0] + this.planes[0][1] * this.planes[0][1] + this.planes[0][2] * this.planes[0][2]);
                this.planes[0][0] /= s,
                this.planes[0][1] /= s,
                this.planes[0][2] /= s,
                this.planes[0][3] /= s,
                this.planes[1][0] = i[3] + i[0],
                this.planes[1][1] = i[7] + i[4],
                this.planes[1][2] = i[11] + i[8],
                this.planes[1][3] = i[15] + i[12],
                s = Math.sqrt(this.planes[1][0] * this.planes[1][0] + this.planes[1][1] * this.planes[1][1] + this.planes[1][2] * this.planes[1][2]),
                this.planes[1][0] /= s,
                this.planes[1][1] /= s,
                this.planes[1][2] /= s,
                this.planes[1][3] /= s,
                this.planes[2][0] = i[3] + i[1],
                this.planes[2][1] = i[7] + i[5],
                this.planes[2][2] = i[11] + i[9],
                this.planes[2][3] = i[15] + i[13],
                s = Math.sqrt(this.planes[2][0] * this.planes[2][0] + this.planes[2][1] * this.planes[2][1] + this.planes[2][2] * this.planes[2][2]),
                this.planes[2][0] /= s,
                this.planes[2][1] /= s,
                this.planes[2][2] /= s,
                this.planes[2][3] /= s,
                this.planes[3][0] = i[3] - i[1],
                this.planes[3][1] = i[7] - i[5],
                this.planes[3][2] = i[11] - i[9],
                this.planes[3][3] = i[15] - i[13],
                s = Math.sqrt(this.planes[3][0] * this.planes[3][0] + this.planes[3][1] * this.planes[3][1] + this.planes[3][2] * this.planes[3][2]),
                this.planes[3][0] /= s,
                this.planes[3][1] /= s,
                this.planes[3][2] /= s,
                this.planes[3][3] /= s,
                this.planes[4][0] = i[3] - i[2],
                this.planes[4][1] = i[7] - i[6],
                this.planes[4][2] = i[11] - i[10],
                this.planes[4][3] = i[15] - i[14],
                s = Math.sqrt(this.planes[4][0] * this.planes[4][0] + this.planes[4][1] * this.planes[4][1] + this.planes[4][2] * this.planes[4][2]),
                this.planes[4][0] /= s,
                this.planes[4][1] /= s,
                this.planes[4][2] /= s,
                this.planes[4][3] /= s,
                this.planes[5][0] = i[3] + i[2],
                this.planes[5][1] = i[7] + i[6],
                this.planes[5][2] = i[11] + i[10],
                this.planes[5][3] = i[15] + i[14],
                s = Math.sqrt(this.planes[5][0] * this.planes[5][0] + this.planes[5][1] * this.planes[5][1] + this.planes[5][2] * this.planes[5][2]),
                this.planes[5][0] /= s,
                this.planes[5][1] /= s,
                this.planes[5][2] /= s,
                this.planes[5][3] /= s
            },
            Ft: function(t) {
                for (var e = 0; e < 6; e++)
                    if (this.planes[e][0] * t.x + this.planes[e][1] * t.y + this.planes[e][2] * t.z + this.planes[e][3] <= 0)
                        return !1;
                return !0
            },
            Ht: function(t) {
                var e = 0, i, s, n = t.radius, r = t.center, a = r.x, h = r.y, c = r.z, o = this.planes, u;
                for (s = 0; s < 6; s++) {
                    if ((i = (u = o[s])[0] * a + u[1] * h + u[2] * c + u[3]) <= -n)
                        return 0;
                    i > n && e++
                }
                return 6 === e ? 2 : 1
            }
        }),
        {
            Gt: V
        })),
        Object.assign(n, function() {
            var t = new n.ut
              , e = function t(e, i) {
                this.normal = i || new n.ut(0,0,1),
                this.point = e || new n.ut(0,0,0)
            };
            return Object.assign(e.prototype, {
                Wt: function(t, e, i) {
                    var s = -this.normal.dot(this.point), n = this.normal.dot(t) + s, r, a = n / (n - (this.normal.dot(e) + s)), h = a >= 0 && a <= 1;
                    return h && i && i.st(t, e, a),
                    h
                },
                Nt: function(e, i) {
                    var s = t.sub2(this.point, e.origin)
                      , n = this.normal.dot(s) / this.normal.dot(e.direction)
                      , r = n >= 0;
                    return r && i && i.copy(e.direction).scale(n).add(e.origin),
                    r
                }
            }),
            {
                Yt: e
            }
        }()),
        Object.assign(n, ((H = function t(e, i) {
            this.origin = e || new n.ut(0,0,0),
            this.direction = i || new n.ut(0,0,-1)
        }
        ).prototype.Xt = function(t) {
            var e = 0
              , i = [];
            for (e = 0; e < t.length; e++)
                t[e].Nt(this, i);
            return 0 === i.length ? null : i.sort(function(t, e) {
                return t.distance - e.distance
            })
        }
        ,
        H.prototype.Kt = (G = new n.ut,
        W = new n.ut,
        Y = new n.ut,
        X = new n.ut,
        function t(e, i, s, r, a) {
            a = void 0 === a ? new n.ut : a,
            W.sub2(i, e),
            Y.sub2(s, e),
            X.cross(W, Y);
            var h = this.direction.dot(X), c;
            if (h > 0) {
                if (r)
                    return null;
                c = 1
            } else {
                if (!(h < 0))
                    return null;
                c = -1,
                h = -h
            }
            G.sub2(this.origin, e);
            var o = c * this.direction.dot(Y.cross(G, Y));
            if (o < 0)
                return null;
            var u = c * this.direction.dot(W.cross(W, G));
            if (u < 0)
                return null;
            if (o + u > h)
                return null;
            var f = -c * G.dot(X);
            return f < 0 ? null : a.copy(this.direction).scale(f / h).add(this.origin)
        }
        ),
        {
            Qt: H
        })),
        Object.assign(n, (K = new n.Qt,
        Q = new n.ut,
        J = new n.Vt,
        q = new n.zt,
        Z = function t(e, i) {
            this.halfExtents = i || new n.ut(.5,.5,.5),
            e = e || q.setIdentity(),
            this._modelTransform = e.clone().invert(),
            this._worldTransform = e.clone(),
            this._aabb = new n.jt(new n.ut,this.halfExtents)
        }
        ,
        Object.assign(Z.prototype, {
            Nt: function(t, e) {
                if (this._modelTransform.transformPoint(t.origin, K.origin),
                this._modelTransform.ft(t.direction, K.direction),
                e) {
                    var i = this._aabb._intersectsRay(K, e);
                    return q.copy(this._modelTransform).invert().transformPoint(e, e),
                    i
                }
                return this._aabb._fastIntersectsRay(K)
            },
            Ft: function(t) {
                return this._modelTransform.transformPoint(t, Q),
                this._aabb.Ft(Q)
            },
            Ut: function(t) {
                return this._modelTransform.transformPoint(t.center, J.center),
                J.radius = t.radius,
                !!this._aabb.Ut(J)
            }
        }),
        Object.defineProperty(Z.prototype, "worldTransform", {
            get: function() {
                return this._worldTransform
            },
            set: function(t) {
                this._worldTransform.copy(t),
                this._modelTransform.copy(t).invert()
            }
        }),
        {
            Jt: Z
        })),
        $ = {
            qt: 0,
            Zt: 1,
            $t: 2,
            te: 0,
            ee: 1,
            ie: 2,
            se: 3,
            re: 4,
            ae: 5,
            he: 6,
            ce: 7,
            ue: 8,
            fe: 9,
            de: 10,
            be: 0,
            ve: 1,
            me: 2,
            pe: 3,
            we: 4,
            xe: 0,
            ze: 1,
            _e: 2,
            Ae: 3,
            ye: 1,
            Me: 2,
            Se: 4,
            Ce: 0,
            Oe: 1,
            Ee: 2,
            De: 3,
            Te: 4,
            Pe: 5,
            Be: 0,
            Ie: 1,
            je: 2,
            Re: 3,
            FRONTFACE_CCW: 0,
            FRONTFACE_CW: 1,
            Le: 0,
            Ne: 1,
            Fe: 2,
            ke: 3,
            Ue: 4,
            Ve: 5,
            He: 6,
            Ge: 0,
            We: 1,
            Ye: 2,
            Xe: 3,
            Ke: 4,
            Qe: 5,
            Je: 0,
            qe: 1,
            Ze: 2,
            $e: 3,
            ei: 4,
            ii: 5,
            si: 6,
            ni: 7,
            ri: 0,
            ai: 1,
            hi: 2,
            ci: 0,
            oi: 1,
            ui: 2,
            fi: 3,
            di: 4,
            li: 5,
            bi: 6,
            vi: 7,
            gi: 8,
            pi: 9,
            wi: 10,
            xi: 11,
            zi: 12,
            Ai: 13,
            yi: 14,
            Mi: 15,
            Si: 16,
            Ci: 17,
            Oi: 18,
            Ei: 19,
            Di: 20,
            Ti: 21,
            Pi: 22,
            Bi: 23,
            Ii: 24,
            ji: 25,
            Ri: 26,
            Li: 27,
            Ni: 100,
            Fi: 0,
            ki: 1,
            Ui: 2,
            Vi: 3,
            Hi: 4,
            Gi: 5,
            Wi: 6,
            Yi: "POSITION",
            Xi: "NORMAL",
            Ki: "TANGENT",
            Qi: "BLENDWEIGHT",
            Ji: "BLENDINDICES",
            qi: "COLOR",
            SEMANTIC_TEXCOORD0: "TEXCOORD0",
            SEMANTIC_TEXCOORD1: "TEXCOORD1",
            SEMANTIC_TEXCOORD2: "TEXCOORD2",
            SEMANTIC_TEXCOORD3: "TEXCOORD3",
            SEMANTIC_TEXCOORD4: "TEXCOORD4",
            SEMANTIC_TEXCOORD5: "TEXCOORD5",
            SEMANTIC_TEXCOORD6: "TEXCOORD6",
            SEMANTIC_TEXCOORD7: "TEXCOORD7",
            Zi: "ATTR0",
            $i: "ATTR1",
            es: "ATTR2",
            ss: "ATTR3",
            ns: "ATTR4",
            rs: "ATTR5",
            as: "ATTR6",
            hs: "ATTR7",
            cs: "ATTR8",
            os: "ATTR9",
            us: "ATTR10",
            fs: "ATTR11",
            ds: "ATTR12",
            ls: "ATTR13",
            bs: "ATTR14",
            vs: "ATTR15",
            gs: 1,
            ps: 0,
            ws: 1,
            xs: 2,
            zs: 3,
            As: 4,
            ys: 5,
            Ms: 6,
            Ss: 7,
            Cs: 1,
            Os: 2,
            Es: 0,
            Ds: 1,
            Ts: 2,
            Ps: 3,
            Bs: 0,
            Is: 1,
            js: 2,
            Rs: 3,
            Ls: 4,
            Ns: 5,
            Fs: 6,
            ks: 7,
            Us: 8,
            Vs: 9,
            Hs: 10,
            Gs: 11,
            Ws: 12,
            Ys: 13,
            Xs: 14,
            Ks: 15,
            Qs: 16,
            Js: 17,
            qs: 18,
            Zs: 19,
            $s: 20
        },
        Object.assign(n, $),
        n.gfx = {},
        Object.assign(n.gfx, $),
        Object.assign(n, (tt = function(t) {
            this.name = t,
            this.value = null,
            this.versionObject = new n.tn
        }
        ,
        Object.assign(tt.prototype, {
            setValue: function(t) {
                this.value = t,
                this.versionObject.increment()
            },
            getValue: function(t) {
                return this.value
            }
        }),
        {
            en: tt
        })),
        Object.assign(n, (et = function(t) {
            this.name = t,
            this.variables = {},
            this.namespaces = {}
        }
        ,
        Object.assign(et.prototype, {
            resolve: function(t) {
                return this.variables.hasOwnProperty(t) || (this.variables[t] = new n.en(t)),
                this.variables[t]
            },
            getSubSpace: function(t) {
                return this.namespaces.hasOwnProperty(t) || (this.namespaces[t] = new n.in(t)),
                this.namespaces[t]
            }
        }),
        {
            in: et
        })),
        Object.assign(n, (it = function() {
            this.globalId = 0,
            this.u = 0
        }
        ,
        Object.assign(it.prototype, {
            equals: function(t) {
                return this.globalId === t.globalId && this.u === t.u
            },
            notequals: function(t) {
                return this.globalId !== t.globalId || this.u !== t.u
            },
            copy: function(t) {
                this.globalId = t.globalId,
                this.u = t.u
            },
            reset: function() {
                this.globalId = 0,
                this.u = 0
            }
        }),
        {
            sn: it
        })),
        Object.assign(n, (st = 0,
        nt = function() {
            st++,
            this.version = new n.sn,
            this.version.globalId = st
        }
        ,
        Object.assign(nt.prototype, {
            increment: function() {
                this.version.u++
            }
        }),
        {
            tn: nt
        })),
        Object.assign(n, function() {
            function t(t, a) {
                switch (this.index = 0,
                a.dataType) {
                case n.Le:
                    this.array = new Int8Array(t,a.offset);
                    break;
                case n.Ne:
                    this.array = new Uint8Array(t,a.offset);
                    break;
                case n.Fe:
                    this.array = new Int16Array(t,a.offset);
                    break;
                case n.ke:
                    this.array = new Uint16Array(t,a.offset);
                    break;
                case n.Ue:
                    this.array = new Int32Array(t,a.offset);
                    break;
                case n.Ve:
                    this.array = new Uint32Array(t,a.offset);
                    break;
                case n.He:
                    this.array = new Float32Array(t,a.offset)
                }
                switch (a.numComponents) {
                case 1:
                    this.set = e;
                    break;
                case 2:
                    this.set = i;
                    break;
                case 3:
                    this.set = s;
                    break;
                case 4:
                    this.set = r
                }
            }
            function e(t) {
                this.array[this.index] = t
            }
            function i(t, e) {
                this.array[this.index] = t,
                this.array[this.index + 1] = e
            }
            function s(t, e, i) {
                this.array[this.index] = t,
                this.array[this.index + 1] = e,
                this.array[this.index + 2] = i
            }
            function r(t, e, i, s) {
                this.array[this.index] = t,
                this.array[this.index + 1] = e,
                this.array[this.index + 2] = i,
                this.array[this.index + 3] = s
            }
            function a(e) {
                this.nn = e,
                this.buffer = this.nn.lock(),
                this.accessors = [],
                this.element = {};
                for (var i = this.nn.getFormat(), s = 0; s < i.elements.length; s++) {
                    var n = i.elements[s];
                    this.accessors[s] = new t(this.buffer,n),
                    this.element[n.name] = this.accessors[s]
                }
            }
            return t.prototype.get = function(t) {
                return this.array[this.index + t]
            }
            ,
            Object.assign(a.prototype, {
                next: function(t) {
                    void 0 === t && (t = 1);
                    for (var e = 0, i = this.accessors, s = this.accessors.length, n = this.nn.getFormat(); e < s; ) {
                        var r = i[e++];
                        r.index += t * n.size / r.array.constructor.BYTES_PER_ELEMENT
                    }
                },
                end: function() {
                    this.nn.unlock()
                }
            }),
            {
                rn: a
            }
        }()),
        Object.assign(n, ((rt = [])[n.Le] = 1,
        rt[n.Ne] = 1,
        rt[n.Fe] = 2,
        rt[n.ke] = 2,
        rt[n.Ue] = 4,
        rt[n.Ve] = 4,
        rt[n.He] = 4,
        {
            an: function(t, e) {
                var i, s, r;
                for (this.elements = [],
                this.hasUv0 = !1,
                this.hasUv1 = !1,
                this.hasColor = !1,
                this.hasTangents = !1,
                this.size = 0,
                i = 0,
                s = e.length; i < s; i++) {
                    var a = e[i];
                    r = {
                        name: a.semantic,
                        offset: 0,
                        stride: 0,
                        stream: -1,
                        scopeId: t.scope.resolve(a.semantic),
                        dataType: a.type,
                        numComponents: a.components,
                        normalize: void 0 !== a.normalize && a.normalize,
                        size: a.components * rt[a.type]
                    },
                    this.elements.push(r),
                    this.size += 4 * Math.ceil(r.size / 4),
                    a.semantic === n.SEMANTIC_TEXCOORD0 ? this.hasUv0 = !0 : a.semantic === n.SEMANTIC_TEXCOORD1 ? this.hasUv1 = !0 : a.semantic === n.qi ? this.hasColor = !0 : a.semantic === n.Ki && (this.hasTangents = !0)
                }
                var h = 0;
                for (i = 0,
                s = this.elements.length; i < s; i++)
                    (r = this.elements[i]).offset = h,
                    r.stride = this.size,
                    h += r.size
            }
        })),
        Object.assign(n, (ht = function(t, e, i, s, r) {
            this.usage = s || n.xe,
            this.format = e,
            this.numVertices = i,
            this.numBytes = e.size * i,
            t._vram.vb += this.numBytes,
            this.device = t,
            r ? this.setData(r) : this.storage = new ArrayBuffer(this.numBytes),
            this.device.buffers.push(this)
        }
        ,
        Object.assign(ht.prototype, {
            destroy: function() {
                var t = this.device
                  , e = t.buffers.indexOf(this);
                if (-1 !== e && t.buffers.splice(e, 1),
                this.bufferId) {
                    var i = t.gl;
                    for (var s in i.deleteBuffer(this.bufferId),
                    t._vram.vb -= this.storage.byteLength,
                    this.bufferId = null,
                    t.boundBuffer = null,
                    t.vertexBuffers.length = 0,
                    t.vbOffsets.length = 0,
                    t.attributesInvalidated = !0,
                    t.enabledAttributes)
                        i.disableVertexAttribArray(s);
                    t.enabledAttributes = {}
                }
            },
            getFormat: function() {
                return this.format
            },
            getUsage: function() {
                return this.usage
            },
            getNumVertices: function() {
                return this.numVertices
            },
            lock: function() {
                return this.storage
            },
            unlock: function() {
                var t = this.device.gl, e;
                switch (this.bufferId || (this.bufferId = t.createBuffer()),
                this.usage) {
                case n.xe:
                    e = t.STATIC_DRAW;
                    break;
                case n.ze:
                    e = t.DYNAMIC_DRAW;
                    break;
                case n._e:
                    e = t.STREAM_DRAW;
                    break;
                case n.Ae:
                    e = this.device.webgl2 ? t.DYNAMIC_COPY : t.STATIC_DRAW
                }
                t.bindBuffer(t.ARRAY_BUFFER, this.bufferId),
                t.bufferData(t.ARRAY_BUFFER, this.storage, e)
            },
            setData: function(t) {
                return t.byteLength === this.numBytes && (this.storage = t,
                this.unlock(),
                !0)
            }
        }),
        {
            hn: ht
        })),
        Object.assign(n, (ct = function(t, e, i, s, r) {
            this.usage = s || n.xe,
            this.format = e,
            this.numIndices = i,
            this.device = t;
            var a = this.device.gl, h;
            e === n.ri ? (h = 1,
            this.glFormat = a.UNSIGNED_BYTE) : e === n.ai ? (h = 2,
            this.glFormat = a.UNSIGNED_SHORT) : e === n.hi && (h = 4,
            this.glFormat = a.UNSIGNED_INT),
            this.bytesPerIndex = h,
            this.numBytes = this.numIndices * h,
            r ? this.setData(r) : this.storage = new ArrayBuffer(this.numBytes),
            t._vram.ib += this.numBytes,
            this.device.buffers.push(this)
        }
        ,
        Object.assign(ct.prototype, {
            destroy: function() {
                var t = this.device, e = t.buffers.indexOf(this), i;
                -1 !== e && t.buffers.splice(e, 1),
                this.bufferId && (this.device.gl.deleteBuffer(this.bufferId),
                this.device._vram.ib -= this.storage.byteLength,
                this.bufferId = null,
                this.device.cn === this && (this.device.cn = null))
            },
            getFormat: function() {
                return this.format
            },
            getNumIndices: function() {
                return this.numIndices
            },
            lock: function() {
                return this.storage
            },
            unlock: function() {
                var t = this.device.gl, e;
                switch (this.bufferId || (this.bufferId = t.createBuffer()),
                this.usage) {
                case n.xe:
                    e = t.STATIC_DRAW;
                    break;
                case n.ze:
                    e = t.DYNAMIC_DRAW;
                    break;
                case n._e:
                    e = t.STREAM_DRAW;
                    break;
                case n.Ae:
                    e = this.device.webgl2 ? t.DYNAMIC_COPY : t.STATIC_DRAW
                }
                t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.bufferId),
                t.bufferData(t.ELEMENT_ARRAY_BUFFER, this.storage, e)
            },
            setData: function(t) {
                return t.byteLength === this.numBytes && (this.storage = t,
                this.unlock(),
                !0)
            }
        }),
        {
            un: ct
        })),
        Object.assign(n, ((ot = function(t, e) {
            e = e || n.Ae,
            this.device = t.device;
            var i = this.device.gl;
            this._inputBuffer = t,
            e === n.Ae && t.usage !== e && (i.bindBuffer(i.ARRAY_BUFFER, t.bufferId),
            i.bufferData(i.ARRAY_BUFFER, t.storage, i.DYNAMIC_COPY)),
            this._outputBuffer = new n.hn(t.device,t.format,t.numVertices,e,t.storage)
        }
        ).createShader = function(t, e, i) {
            return n.dn.createShaderFromCode(t, e, null, i, !0)
        }
        ,
        Object.assign(ot.prototype, {
            destroy: function() {
                this._outputBuffer.destroy()
            },
            process: function(t, e) {
                void 0 === e && (e = !0);
                var i = this.device;
                if (i.ln(null),
                i.bn(),
                i.vn(this._inputBuffer, 0),
                i.setRaster(!1),
                i.setTransformFeedbackBuffer(this._outputBuffer),
                i.setShader(t),
                i.draw({
                    type: n.Fi,
                    base: 0,
                    count: this._inputBuffer.numVertices,
                    indexed: !1
                }),
                i.setTransformFeedbackBuffer(null),
                i.setRaster(!0),
                i.mn(),
                e) {
                    var s = this._inputBuffer.bufferId;
                    this._inputBuffer.bufferId = this._outputBuffer.bufferId,
                    this._outputBuffer.bufferId = s
                }
            }
        }),
        Object.defineProperty(ot.prototype, "inputBuffer", {
            get: function() {
                return this._inputBuffer
            }
        }),
        Object.defineProperty(ot.prototype, "outputBuffer", {
            get: function() {
                return this._outputBuffer
            }
        }),
        {
            gn: ot
        })),
        Object.assign(n, function() {
            var t = function(t, e) {
                this.device = t,
                this.name = null,
                this._width = 4,
                this._height = 4,
                this._depth = 1,
                this._pot = !0,
                this._format = n.vi,
                this.rgbm = !1,
                this._cubemap = !1,
                this._volume = !1,
                this.fixCubemapSeams = !1,
                this._flipY = !0,
                this._premultiplyAlpha = !1,
                this._mipmaps = !0,
                this._minFilter = n.Qe,
                this._magFilter = n.We,
                this._anisotropy = 1,
                this._addressU = n.qt,
                this._addressV = n.qt,
                this._addressW = n.qt,
                this._compareOnRead = !1,
                this._compareFunc = n.qe,
                this._flipYForTexture = !1,
                void 0 !== e && (this._width = void 0 !== e.width ? e.width : this._width,
                this._height = void 0 !== e.height ? e.height : this._height,
                this._pot = n.I.rt(this._width) && n.I.rt(this._height),
                this._format = void 0 !== e.format ? e.format : this._format,
                this.rgbm = void 0 !== e.rgbm ? e.rgbm : this.rgbm,
                void 0 !== e.mipmaps ? this._mipmaps = e.mipmaps : this._mipmaps = void 0 !== e.autoMipmap ? e.autoMipmap : this._mipmaps,
                this.pn = e.levels,
                this._cubemap = void 0 !== e.cubemap ? e.cubemap : this._cubemap,
                this.fixCubemapSeams = void 0 !== e.fixCubemapSeams ? e.fixCubemapSeams : this.fixCubemapSeams,
                this._minFilter = void 0 !== e.minFilter ? e.minFilter : this._minFilter,
                this._magFilter = void 0 !== e.magFilter ? e.magFilter : this._magFilter,
                this._anisotropy = void 0 !== e.anisotropy ? e.anisotropy : this._anisotropy,
                this._addressU = void 0 !== e.addressU ? e.addressU : this._addressU,
                this._addressV = void 0 !== e.addressV ? e.addressV : this._addressV,
                this._compareOnRead = void 0 !== e.compareOnRead ? e.compareOnRead : this._compareOnRead,
                this._compareFunc = void 0 !== e._compareFunc ? e._compareFunc : this._compareFunc,
                this._flipY = void 0 !== e.flipY ? e.flipY : this._flipY,
                this._premultiplyAlpha = void 0 !== e.premultiplyAlpha ? e.premultiplyAlpha : this._premultiplyAlpha,
                t.webgl2 && (this._depth = void 0 !== e.depth ? e.depth : this._depth,
                this._volume = void 0 !== e.volume ? e.volume : this._volume,
                this._addressW = void 0 !== e.addressW ? e.addressW : this._addressW),
                this._flipYForTexture = void 0 !== e.flipYForTexture ? e.flipYForTexture : this._flipYForTexture),
                this._compressed = this._format === n.gi || this._format === n.pi || this._format === n.wi || this._format >= n.Ti,
                this._invalid = !1,
                this._lockedLevel = -1,
                this.pn || (this.pn = this._cubemap ? [[null, null, null, null, null, null]] : [null]),
                this.dirtyAll(),
                this._gpuSize = 0
            };
            Object.defineProperty(t.prototype, "minFilter", {
                get: function() {
                    return this._minFilter
                },
                set: function(t) {
                    this._minFilter !== t && (this._minFilter = t,
                    this._parameterFlags |= 1)
                }
            }),
            Object.defineProperty(t.prototype, "magFilter", {
                get: function() {
                    return this._magFilter
                },
                set: function(t) {
                    this._magFilter !== t && (this._magFilter = t,
                    this._parameterFlags |= 2)
                }
            }),
            Object.defineProperty(t.prototype, "addressU", {
                get: function() {
                    return this._addressU
                },
                set: function(t) {
                    this._addressU !== t && (this._addressU = t,
                    this._parameterFlags |= 4)
                }
            }),
            Object.defineProperty(t.prototype, "addressV", {
                get: function() {
                    return this._addressV
                },
                set: function(t) {
                    this._addressV !== t && (this._addressV = t,
                    this._parameterFlags |= 8)
                }
            }),
            Object.defineProperty(t.prototype, "addressW", {
                get: function() {
                    return this._addressW
                },
                set: function(t) {
                    this.device.webgl2 && this._volume && t !== this._addressW && (this._addressW = t,
                    this._parameterFlags |= 16)
                }
            }),
            Object.defineProperty(t.prototype, "compareOnRead", {
                get: function() {
                    return this._compareOnRead
                },
                set: function(t) {
                    this._compareOnRead !== t && (this._compareOnRead = t,
                    this._parameterFlags |= 32)
                }
            }),
            Object.defineProperty(t.prototype, "compareFunc", {
                get: function() {
                    return this._compareFunc
                },
                set: function(t) {
                    this._compareFunc !== t && (this._compareFunc = t,
                    this._parameterFlags |= 64)
                }
            }),
            Object.defineProperty(t.prototype, "anisotropy", {
                get: function() {
                    return this._anisotropy
                },
                set: function(t) {
                    this._anisotropy !== t && (this._anisotropy = t,
                    this._parameterFlags |= 128)
                }
            }),
            Object.defineProperty(t.prototype, "autoMipmap", {
                get: function() {
                    return this._mipmaps
                },
                set: function(t) {
                    this._mipmaps = t
                }
            }),
            Object.defineProperty(t.prototype, "mipmaps", {
                get: function() {
                    return this._mipmaps
                },
                set: function(t) {
                    this._mipmaps !== t && (this._mipmaps = t,
                    this._minFilterDirty = !0,
                    t && (this._needsMipmapsUpload = !0))
                }
            }),
            Object.defineProperty(t.prototype, "width", {
                get: function() {
                    return this._width
                }
            }),
            Object.defineProperty(t.prototype, "height", {
                get: function() {
                    return this._height
                }
            }),
            Object.defineProperty(t.prototype, "depth", {
                get: function() {
                    return this._depth
                }
            }),
            Object.defineProperty(t.prototype, "format", {
                get: function() {
                    return this._format
                }
            }),
            Object.defineProperty(t.prototype, "cubemap", {
                get: function() {
                    return this._cubemap
                }
            });
            var e = null;
            return Object.defineProperty(t.prototype, "gpuSize", {
                get: function() {
                    e || ((e = [])[n.ci] = 1,
                    e[n.oi] = 1,
                    e[n.ui] = 1,
                    e[n.fi] = 2,
                    e[n.di] = 2,
                    e[n.li] = 2,
                    e[n.bi] = 4,
                    e[n.vi] = 4,
                    e[n.xi] = 8,
                    e[n.zi] = 8,
                    e[n.Ai] = 16,
                    e[n.yi] = 16,
                    e[n.Mi] = 4,
                    e[n.Si] = 4,
                    e[n.Ci] = 4,
                    e[n.Oi] = 4,
                    e[n.Ei] = 4,
                    e[n.Di] = 4);
                    var t = 1;
                    !this._pot || !this._mipmaps && this._minFilter !== n.Ye && this._minFilter !== n.Xe && this._minFilter !== n.Ke && this._minFilter !== n.Qe || this._compressed && 1 === this.pn.length || (t = Math.round(Math.log2(Math.max(this._width, this._height)) + 1));
                    for (var i = this._width, s = this._height, r = this._depth, a = 0, h = 0; h < t; h++) {
                        if (this._compressed)
                            if (this._format === n.Ti)
                                a += Math.floor((i + 3) / 4) * Math.floor((s + 3) / 4) * 8 * r;
                            else if (this._format === n.Ii || this._format === n.ji)
                                a += Math.max(i, 16) * Math.max(s, 8) / 4 * r;
                            else if (this._format === n.Ri || this._format === n.Li)
                                a += Math.max(i, 8) * Math.max(s, 8) / 2 * r;
                            else {
                                var c = 4, o = 4, u = this._format === n.gi ? 8 : 16, f, d, l;
                                a += Math.floor((i + 4 - 1) / 4) * Math.floor((s + 4 - 1) / 4) * u * r
                            }
                        else
                            a += i * s * r * e[this._format];
                        i = Math.max(.5 * i, 1),
                        s = Math.max(.5 * s, 1),
                        r = Math.max(.5 * r, 1)
                    }
                    return this._cubemap && (a *= 6),
                    a
                }
            }),
            Object.defineProperty(t.prototype, "volume", {
                get: function() {
                    return this._volume
                }
            }),
            Object.defineProperty(t.prototype, "flipY", {
                get: function() {
                    return this._flipY
                },
                set: function(t) {
                    this._flipY !== t && (this._flipY = t,
                    this._needsUpload = !0)
                }
            }),
            Object.defineProperty(t.prototype, "premultiplyAlpha", {
                get: function() {
                    return this._premultiplyAlpha
                },
                set: function(t) {
                    this._premultiplyAlpha !== t && (this._premultiplyAlpha = t,
                    this._needsUpload = !0)
                }
            }),
            Object.assign(t.prototype, {
                destroy: function() {
                    this.device && this.device.destroyTexture(this),
                    this.device = null,
                    this.pn = null
                },
                dirtyAll: function() {
                    this.wn = this._cubemap ? [[!0, !0, !0, !0, !0, !0]] : [!0],
                    this._needsUpload = !0,
                    this._needsMipmapsUpload = this._mipmaps,
                    this._mipmapsUploaded = !1,
                    this._parameterFlags = 255
                },
                lock: function(t) {
                    if (void 0 === (t = t || {
                        level: 0,
                        face: 0,
                        mode: n.Os
                    }).level && (t.level = 0),
                    void 0 === t.face && (t.face = 0),
                    void 0 === t.mode && (t.mode = n.Os),
                    this._lockedLevel = t.level,
                    null === this.pn[t.level])
                        switch (this._format) {
                        case n.ci:
                        case n.oi:
                            this.pn[t.level] = new Uint8Array(this._width * this._height * this._depth);
                            break;
                        case n.ui:
                            this.pn[t.level] = new Uint8Array(this._width * this._height * this._depth * 2);
                            break;
                        case n.fi:
                        case n.di:
                        case n.li:
                            this.pn[t.level] = new Uint16Array(this._width * this._height * this._depth);
                            break;
                        case n.bi:
                            this.pn[t.level] = new Uint8Array(this._width * this._height * this._depth * 3);
                            break;
                        case n.vi:
                            this.pn[t.level] = new Uint8Array(this._width * this._height * this._depth * 4);
                            break;
                        case n.gi:
                            this.pn[t.level] = new Uint8Array(Math.floor((this._width + 3) / 4) * Math.floor((this._height + 3) / 4) * 8 * this._depth);
                            break;
                        case n.pi:
                        case n.wi:
                            this.pn[t.level] = new Uint8Array(Math.floor((this._width + 3) / 4) * Math.floor((this._height + 3) / 4) * 16 * this._depth);
                            break;
                        case n.xi:
                            this.pn[t.level] = new Uint16Array(this._width * this._height * this._depth * 3);
                            break;
                        case n.Ai:
                            this.pn[t.level] = new Float32Array(this._width * this._height * this._depth * 3);
                            break;
                        case n.zi:
                            this.pn[t.level] = new Uint16Array(this._width * this._height * this._depth * 4);
                            break;
                        case n.yi:
                            this.pn[t.level] = new Float32Array(this._width * this._height * this._depth * 4)
                        }
                    return this.pn[t.level]
                },
                setSource: function(t) {
                    var e, i = !1, s, r;
                    if (this._cubemap) {
                        if (this._compressed)
                            s = this._width,
                            r = this._height;
                        else if (t[0]) {
                            for (s = t[0].width || 0,
                            r = t[0].height || 0,
                            e = 0; e < 6; e++)
                                if (!(t[e] && t[e].width === s && t[e].height === r && (t[e]instanceof HTMLImageElement || t[e]instanceof HTMLCanvasElement || t[e]instanceof HTMLVideoElement))) {
                                    i = !0;
                                    break
                                }
                        } else
                            i = !0;
                        if (!i)
                            for (e = 0; e < 6; e++)
                                this.pn[0][e] !== t[e] && (this.wn[0][e] = !0)
                    } else
                        t instanceof HTMLImageElement || t instanceof HTMLCanvasElement || t instanceof HTMLVideoElement || (i = !0),
                        i || (t !== this.pn[0] && (this.wn[0] = !0),
                        s = t.width,
                        r = t.height);
                    if (i)
                        if (this._width = 4,
                        this._height = 4,
                        this._pot = !0,
                        this._cubemap)
                            for (e = 0; e < 6; e++)
                                this.pn[0][e] = null,
                                this.wn[0][e] = !0;
                        else
                            this.pn[0] = null,
                            this.wn[0] = !0;
                    else
                        this._width = s,
                        this._height = r,
                        this._pot = n.I.rt(this._width) && n.I.rt(this._height),
                        this.pn[0] = t;
                    this._invalid === i && i || (this._invalid = i,
                    this.upload())
                },
                getSource: function() {
                    return this.pn[0]
                },
                unlock: function() {
                    this.upload(),
                    this._lockedLevel = -1
                },
                upload: function() {
                    this._needsUpload = !0,
                    this._needsMipmapsUpload = this._mipmaps
                },
                getDds: function() {
                    this.format,
                    n.vi;
                    for (var t = 128, e = 0, i, s; this.pn[e]; ) {
                        var r;
                        if (this.cubemap)
                            for (s = 0; s < 6; s++) {
                                if (!this.pn[e][s])
                                    return;
                                if (!(r = this.pn[e][s].length))
                                    return;
                                t += r
                            }
                        else {
                            if (!(r = this.pn[e].length))
                                return;
                            t += r
                        }
                        t += this.pn[e].length,
                        e++
                    }
                    var a = new ArrayBuffer(t)
                      , h = new Uint32Array(a,0,32)
                      , c = 542327876
                      , o = 124
                      , u = 528391
                      , f = 131072
                      , d = 32
                      , l = 65
                      , b = 4096
                      , v = 4194304
                      , m = 8
                      , g = 65024
                      , p = 528391;
                    this.pn.length > 1 && (p |= 131072);
                    var w = 4096;
                    this.pn.length > 1 && (w |= 4194304),
                    (this.pn.length > 1 || this.cubemap) && (w |= 8);
                    var x = this.cubemap ? 65024 : 0;
                    for (h[0] = 542327876,
                    h[1] = 124,
                    h[2] = p,
                    h[3] = this.height,
                    h[4] = this.width,
                    h[5] = this.width * this.height * 4,
                    h[6] = 0,
                    h[7] = this.pn.length,
                    e = 0; e < 11; e++)
                        h[8 + e] = 0;
                    h[19] = 32,
                    h[20] = 65,
                    h[21] = 0,
                    h[22] = 32,
                    h[23] = 16711680,
                    h[24] = 65280,
                    h[25] = 255,
                    h[26] = 4278190080,
                    h[27] = w,
                    h[28] = x,
                    h[29] = 0,
                    h[30] = 0,
                    h[31] = 0;
                    var z = 128, _, A;
                    if (this.cubemap)
                        for (s = 0; s < 6; s++)
                            for (e = 0; e < this.pn.length; e++) {
                                for (_ = this.pn[e][s],
                                A = new Uint8Array(a,z,_.length),
                                i = 0; i < _.length; i++)
                                    A[i] = _[i];
                                z += _.length
                            }
                    else
                        for (e = 0; e < this.pn.length; e++) {
                            for (_ = this.pn[e],
                            A = new Uint8Array(a,z,_.length),
                            i = 0; i < _.length; i++)
                                A[i] = _[i];
                            z += _.length
                        }
                    return a
                }
            }),
            {
                xn: t
            }
        }()),
        Object.assign(n, (ut = {
            depth: !0,
            face: 0
        },
        ft = function(t) {
            var e = arguments[1]
              , i = arguments[2];
            if (t instanceof n.zn ? (this._colorBuffer = e,
            t = i) : this._colorBuffer = t.colorBuffer,
            this._glFrameBuffer = null,
            this._glDepthBuffer = null,
            t = void 0 !== t ? t : ut,
            this._depthBuffer = t.depthBuffer,
            this._face = void 0 !== t.face ? t.face : 0,
            this._depthBuffer) {
                var s = this._depthBuffer._format;
                s === n.Si ? (this._depth = !0,
                this._stencil = !1) : s === n.Ci ? (this._depth = !0,
                this._stencil = !0) : (this._depth = !1,
                this._stencil = !1)
            } else
                this._depth = void 0 === t.depth || t.depth,
                this._stencil = void 0 !== t.stencil && t.stencil;
            this._samples = void 0 !== t.samples ? t.samples : 1,
            this.autoResolve = void 0 === t.autoResolve || t.autoResolve,
            this._glResolveFrameBuffer = null,
            this._glMsaaColorBuffer = null,
            this._glMsaaDepthBuffer = null
        }
        ,
        Object.assign(ft.prototype, {
            destroy: function() {
                if (this._device) {
                    var t = this._device
                      , e = t.targets.indexOf(this);
                    -1 !== e && t.targets.splice(e, 1);
                    var i = t.gl;
                    this._glFrameBuffer && (i.deleteFramebuffer(this._glFrameBuffer),
                    this._glFrameBuffer = null),
                    this._glDepthBuffer && (i.deleteRenderbuffer(this._glDepthBuffer),
                    this._glDepthBuffer = null),
                    this._glResolveFrameBuffer && (i.deleteFramebuffer(this._glResolveFrameBuffer),
                    this._glResolveFrameBuffer = null),
                    this._glMsaaColorBuffer && (i.deleteRenderbuffer(this._glMsaaColorBuffer),
                    this._glMsaaColorBuffer = null),
                    this._glMsaaDepthBuffer && (i.deleteRenderbuffer(this._glMsaaDepthBuffer),
                    this._glMsaaDepthBuffer = null)
                }
            },
            resolve: function(t, e) {
                if (this._device && this._device.webgl2) {
                    var i = this._device.gl;
                    void 0 === t && (t = !0),
                    void 0 === e && this._depthBuffer && (e = !0),
                    i.bindFramebuffer(i.READ_FRAMEBUFFER, this._glFrameBuffer),
                    i.bindFramebuffer(i.DRAW_FRAMEBUFFER, this._glResolveFrameBuffer),
                    i.blitFramebuffer(0, 0, this.width, this.height, 0, 0, this.width, this.height, (t ? i.COLOR_BUFFER_BIT : 0) | (e ? i.DEPTH_BUFFER_BIT : 0), i.NEAREST),
                    i.bindFramebuffer(i.FRAMEBUFFER, this._glFrameBuffer)
                }
            },
            copy: function(t, e, i) {
                if (!this._device) {
                    if (!t._device)
                        return !1;
                    this._device = t._device
                }
                return this._device.copyRenderTarget(t, this, e, i)
            }
        }),
        Object.defineProperty(ft.prototype, "colorBuffer", {
            get: function() {
                return this._colorBuffer
            }
        }),
        Object.defineProperty(ft.prototype, "depthBuffer", {
            get: function() {
                return this._depthBuffer
            }
        }),
        Object.defineProperty(ft.prototype, "face", {
            get: function() {
                return this._face
            }
        }),
        Object.defineProperty(ft.prototype, "width", {
            get: function() {
                return this._colorBuffer ? this._colorBuffer.width : this._depthBuffer.width
            }
        }),
        Object.defineProperty(ft.prototype, "height", {
            get: function() {
                return this._colorBuffer ? this._colorBuffer.height : this._depthBuffer.height
            }
        }),
        {
            An: ft
        })),
        Object.assign(n, {
            yn: function(t, e, i, s) {
                this.locationId = s,
                this.scopeId = t.scope.resolve(e),
                this.version = new n.sn,
                i === n.js && "[0]" === e.substr(e.length - 3) && (i = n.Js),
                this.dataType = i,
                this.value = [null, null, null, null],
                this.array = []
            }
        }),
        Object.assign(n, (lt = function(t, e) {
            this.device = t,
            this.definition = e,
            this.attributes = [],
            this.uniforms = [],
            this.samplers = [],
            this.ready = !1,
            this._refCount = 0,
            this.device.createShader(this)
        }
        ,
        Object.assign(lt.prototype, {
            destroy: function() {
                this.device.destroyShader(this)
            }
        }),
        {
            Mn: lt
        })),
        Object.assign(n, ((bt = function(t) {
            this._device = t,
            this._cache = {},
            this._generators = {},
            this._isClearingCache = !1,
            this._precached = !1,
            this._programsCollection = [],
            this._defaultStdMatOption = {},
            this._defaultStdMatOptionMin = {};
            var e = new n.Sn;
            e.shaderOptBuilder.updateRef(this._defaultStdMatOption, t, {}, e, null, [], n.Cn, null, null),
            e.shaderOptBuilder.updateMinRef(this._defaultStdMatOptionMin, t, {}, e, null, [], n.On, null, null)
        }
        ).prototype.register = function(t, e) {
            this.isRegistered(t) || (this._generators[t] = e)
        }
        ,
        bt.prototype.unregister = function(t) {
            this.isRegistered(t) && delete this._generators[t]
        }
        ,
        bt.prototype.isRegistered = function(t) {
            var e;
            return void 0 !== this._generators[t]
        }
        ,
        bt.prototype.getProgram = function(t, e) {
            var i = this._generators[t];
            if (void 0 === i)
                return null;
            var s = this._device
              , r = i.generateKey(e)
              , a = this._cache[r];
            if (!a) {
                var h;
                e.lights && (h = e.lights,
                e.lights = h.map(function(t) {
                    var e = t.clone ? t.clone() : t;
                    return e.key = t.key,
                    e
                })),
                this.storeNewProgram(t, e),
                e.lights && (e.lights = h),
                this._precached;
                var c = i.En(s, e);
                a = this._cache[r] = new n.Mn(s,c)
            }
            return a
        }
        ,
        bt.prototype.storeNewProgram = function(t, e) {
            var i = {};
            if ("standard" === t) {
                var s = this._getDefaultStdMatOptions(e.pass);
                for (var n in e)
                    (e.hasOwnProperty(n) && s[n] !== e[n] || "pass" === n) && (i[n] = e[n])
            } else
                i = e;
            this._programsCollection.push(JSON.stringify({
                name: t,
                options: i
            }))
        }
        ,
        bt.prototype.dumpPrograms = function() {
            var t = "var device = pc.app ? pc.app.graphicsDevice : pc.Application.getApplication().graphicsDevice;\n";
            t += "var shaders = [",
            this._programsCollection[0] && (t += "\n\t" + this._programsCollection[0]);
            for (var e = 1; e < this._programsCollection.length; ++e)
                t += ",\n\t" + this._programsCollection[e];
            t += "\n];\n",
            t += "device.programLib.precompile(shaders);\n",
            t += 'if (pc.version != "' + n.version + '" || pc.revision != "' + n.u + '")\n',
            t += '\tconsole.warn("precompile-shaders.js: engine version mismatch, rebuild shaders lib with current engine");';
            var i = document.createElement("a");
            i.setAttribute("href", "data:text/plain;charset=utf-8," + encodeURIComponent(t)),
            i.setAttribute("download", "precompile-shaders.js"),
            i.style.display = "none",
            document.body.appendChild(i),
            i.click(),
            document.body.removeChild(i)
        }
        ,
        bt.prototype.clearCache = function() {
            var t = this._cache;
            for (var e in this._isClearingCache = !0,
            t)
                t.hasOwnProperty(e) && t[e].destroy();
            this._cache = {},
            this._isClearingCache = !1
        }
        ,
        bt.prototype.removeFromCache = function(t) {
            if (!this._isClearingCache) {
                var e = this._cache;
                for (var i in e)
                    if (e.hasOwnProperty(i) && e[i] === t) {
                        delete e[i];
                        break
                    }
            }
        }
        ,
        bt.prototype._getDefaultStdMatOptions = function(t) {
            return t > n.Dn && t <= n.Tn ? this._defaultStdMatOptionMin : this._defaultStdMatOption
        }
        ,
        bt.prototype.precompile = function(t) {
            if (t)
                for (var e = new Array(t.length), i = 0; i < t.length; i++) {
                    if ("standard" === t[i].name) {
                        var s = t[i].options
                          , n = this._getDefaultStdMatOptions(s.pass);
                        for (var r in n)
                            n.hasOwnProperty(r) && void 0 === s[r] && (s[r] = n[r]);
                        s.useTexCubeLod = this._device.useTexCubeLod
                    }
                    e[i] = this.getProgram(t[i].name, t[i].options)
                }
            this._precached = !0
        }
        ,
        {
            Pn: bt
        })),
        Object.assign(n, function() {
            var t = "resizecanvas"
              , e = function(t, e) {
                var i = t.width
                  , s = t.height;
                if (i > e || s > e) {
                    var n = e / Math.max(i, s), r = Math.floor(i * n), a = Math.floor(s * n), h = document.createElement("canvas"), c;
                    return h.width = r,
                    h.height = a,
                    h.getContext("2d").drawImage(t, 0, 0, i, s, 0, 0, r, a),
                    h
                }
                return t
            };
            function i(t, e) {
                var i = !0
                  , s = t.createTexture();
                t.bindTexture(t.TEXTURE_2D, s),
                t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, t.NEAREST),
                t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, t.NEAREST),
                t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE),
                t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE),
                t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, 2, 2, 0, t.RGBA, e, null);
                var n = t.createFramebuffer();
                return t.bindFramebuffer(t.FRAMEBUFFER, n),
                t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, s, 0),
                t.checkFramebufferStatus(t.FRAMEBUFFER) !== t.FRAMEBUFFER_COMPLETE && (i = !1),
                t.bindTexture(t.TEXTURE_2D, null),
                t.deleteTexture(s),
                t.bindFramebuffer(t.FRAMEBUFFER, null),
                t.deleteFramebuffer(n),
                i
            }
            function s(t) {
                if (!t.textureFloatRenderable)
                    return !1;
                var e = n.dn
                  , i = e.createShaderFromCode(t, e.fullscreenQuadVS, e.precisionTestPS, "ptest1")
                  , s = e.createShaderFromCode(t, e.fullscreenQuadVS, e.precisionTest2PS, "ptest2")
                  , r = {
                    format: n.yi,
                    width: 1,
                    height: 1,
                    mipmaps: !1,
                    minFilter: n.Ge,
                    magFilter: n.Ge
                }
                  , a = new n.xn(t,r);
                a.name = "testFHP";
                var h = new n.An(t,a,{
                    depth: !1
                });
                n.Bn(t, h, i),
                r.format = n.vi;
                var c = new n.xn(t,r);
                c.name = "testFHP";
                var o = new n.An(t,c,{
                    depth: !1
                });
                t.constantTexSource.setValue(a),
                n.Bn(t, o, s);
                var u = t.activeFramebuffer;
                t.setFramebuffer(o._glFrameBuffer);
                var f = new Uint8Array(4);
                t.readPixels(0, 0, 1, 1, f),
                t.setFramebuffer(u);
                var d, l, b, v, m = f[0] / 255 / 16777216 + f[1] / 255 / 65536 + f[2] / 255 / 256 + f[3] / 255;
                return a.destroy(),
                h.destroy(),
                c.destroy(),
                o.destroy(),
                0 === m
            }
            var r = function(t, e) {
                var s;
                this.canvas = t,
                this.shader = null,
                this.cn = null,
                this.vertexBuffers = [],
                this.vbOffsets = [],
                this._enableAutoInstancing = !1,
                this.autoInstancingMaxObjects = 16384,
                this.attributesInvalidated = !0,
                this.boundBuffer = null,
                this.boundElementBuffer = null,
                this.instancedAttribs = {},
                this.enabledAttributes = {},
                this.transformFeedbackBuffer = null,
                this.activeFramebuffer = null,
                this.textureUnit = 0,
                this.textureUnits = [],
                this._maxPixelRatio = 1,
                this.renderTarget = null,
                this.feedback = null,
                this._width = 0,
                this._height = 0,
                this.updateClientRect(),
                this.vertexShaderCache = {},
                this.fragmentShaderCache = {},
                this.shaders = [],
                this.buffers = [],
                this.textures = [],
                this.targets = [],
                this.contextLost = !1,
                this._contextLostHandler = function(t) {
                    t.preventDefault(),
                    this.contextLost = !0,
                    this.fire("devicelost")
                }
                .bind(this),
                this._contextRestoredHandler = function() {
                    this.initializeContext(),
                    this.contextLost = !1,
                    this.fire("devicerestored")
                }
                .bind(this),
                t.addEventListener("webglcontextlost", this._contextLostHandler, !1),
                t.addEventListener("webglcontextrestored", this._contextRestoredHandler, !1);
                var r = !e || void 0 === e.preferWebGl2 || e.preferWebGl2, a = r ? ["webgl2", "experimental-webgl2", "webgl", "experimental-webgl"] : ["webgl", "experimental-webgl"], h = null, c, o, u, f, d;
                for ((e = e || {}).stencil = !0,
                s = 0; s < a.length; s++) {
                    try {
                        h = t.getContext(a[s], e)
                    } catch (t) {}
                    if (h) {
                        this.webgl2 = r && s < 2;
                        break
                    }
                }
                if (!h)
                    throw new Error("WebGL not supported");
                for (this.gl = h,
                this.initializeExtensions(),
                this.initializeCapabilities(),
                this.initializeRenderState(),
                s = 0; s < this.maxCombinedTextures; s++)
                    this.textureUnits.push([null, null, null]);
                for (var l in this.defaultClearOptions = {
                    color: [0, 0, 0, 1],
                    depth: 1,
                    stencil: 0,
                    flags: n.ye | n.Me
                },
                this.glAddress = [h.REPEAT, h.CLAMP_TO_EDGE, h.MIRRORED_REPEAT],
                this.glBlendEquation = [h.FUNC_ADD, h.FUNC_SUBTRACT, h.FUNC_REVERSE_SUBTRACT, this.webgl2 ? h.MIN : this.extBlendMinmax ? this.extBlendMinmax.MIN_EXT : h.FUNC_ADD, this.webgl2 ? h.MAX : this.extBlendMinmax ? this.extBlendMinmax.MAX_EXT : h.FUNC_ADD],
                this.glBlendFunction = [h.ZERO, h.ONE, h.SRC_COLOR, h.ONE_MINUS_SRC_COLOR, h.DST_COLOR, h.ONE_MINUS_DST_COLOR, h.SRC_ALPHA, h.SRC_ALPHA_SATURATE, h.ONE_MINUS_SRC_ALPHA, h.DST_ALPHA, h.ONE_MINUS_DST_ALPHA],
                this.glComparison = [h.NEVER, h.LESS, h.EQUAL, h.LEQUAL, h.GREATER, h.NOTEQUAL, h.GEQUAL, h.ALWAYS],
                this.glStencilOp = [h.KEEP, h.ZERO, h.REPLACE, h.INCR, h.INCR_WRAP, h.DECR, h.DECR_WRAP, h.INVERT],
                this.glClearFlag = [0, h.COLOR_BUFFER_BIT, h.DEPTH_BUFFER_BIT, h.COLOR_BUFFER_BIT | h.DEPTH_BUFFER_BIT, h.STENCIL_BUFFER_BIT, h.STENCIL_BUFFER_BIT | h.COLOR_BUFFER_BIT, h.STENCIL_BUFFER_BIT | h.DEPTH_BUFFER_BIT, h.STENCIL_BUFFER_BIT | h.COLOR_BUFFER_BIT | h.DEPTH_BUFFER_BIT],
                this.glCull = [0, h.BACK, h.FRONT, h.FRONT_AND_BACK],
                this.glFront = [h.CCW, h.CW],
                this.glFilter = [h.NEAREST, h.LINEAR, h.NEAREST_MIPMAP_NEAREST, h.NEAREST_MIPMAP_LINEAR, h.LINEAR_MIPMAP_NEAREST, h.LINEAR_MIPMAP_LINEAR],
                this.glPrimitive = [h.POINTS, h.LINES, h.LINE_LOOP, h.LINE_STRIP, h.TRIANGLES, h.TRIANGLE_STRIP, h.TRIANGLE_FAN],
                this.glType = [h.BYTE, h.UNSIGNED_BYTE, h.SHORT, h.UNSIGNED_SHORT, h.INT, h.UNSIGNED_INT, h.FLOAT],
                this.pcUniformType = {},
                this.pcUniformType[h.BOOL] = n.Bs,
                this.pcUniformType[h.INT] = n.Is,
                this.pcUniformType[h.FLOAT] = n.js,
                this.pcUniformType[h.FLOAT_VEC2] = n.Rs,
                this.pcUniformType[h.FLOAT_VEC3] = n.Ls,
                this.pcUniformType[h.FLOAT_VEC4] = n.Ns,
                this.pcUniformType[h.INT_VEC2] = n.Fs,
                this.pcUniformType[h.INT_VEC3] = n.ks,
                this.pcUniformType[h.INT_VEC4] = n.Us,
                this.pcUniformType[h.BOOL_VEC2] = n.Vs,
                this.pcUniformType[h.BOOL_VEC3] = n.Hs,
                this.pcUniformType[h.BOOL_VEC4] = n.Gs,
                this.pcUniformType[h.FLOAT_MAT2] = n.Ws,
                this.pcUniformType[h.FLOAT_MAT3] = n.Ys,
                this.pcUniformType[h.FLOAT_MAT4] = n.Xs,
                this.pcUniformType[h.SAMPLER_2D] = n.Ks,
                this.pcUniformType[h.SAMPLER_CUBE] = n.Qs,
                this.webgl2 && (this.pcUniformType[h.SAMPLER_2D_SHADOW] = n.qs,
                this.pcUniformType[h.SAMPLER_CUBE_SHADOW] = n.Zs,
                this.pcUniformType[h.SAMPLER_3D] = n.$s),
                this.targetToSlot = {},
                this.targetToSlot[h.TEXTURE_2D] = 0,
                this.targetToSlot[h.TEXTURE_CUBE_MAP] = 1,
                this.targetToSlot[h.TEXTURE_3D] = 2,
                this.commitFunction = [],
                this.commitFunction[n.Bs] = function(t, e) {
                    t.value !== e && (h.uniform1i(t.locationId, e),
                    t.value = e)
                }
                ,
                this.commitFunction[n.Is] = this.commitFunction[n.Bs],
                this.commitFunction[n.js] = function(t, e) {
                    t.value !== e && (h.uniform1f(t.locationId, e),
                    t.value = e)
                }
                ,
                this.commitFunction[n.Rs] = function(t, e) {
                    d = t.value,
                    c = e[0],
                    o = e[1],
                    d[0] === c && d[1] === o || (h.uniform2fv(t.locationId, e),
                    d[0] = c,
                    d[1] = o)
                }
                ,
                this.commitFunction[n.Ls] = function(t, e) {
                    d = t.value,
                    c = e[0],
                    o = e[1],
                    u = e[2],
                    d[0] === c && d[1] === o && d[2] === u || (h.uniform3fv(t.locationId, e),
                    d[0] = c,
                    d[1] = o,
                    d[2] = u)
                }
                ,
                this.commitFunction[n.Ns] = function(t, e) {
                    d = t.value,
                    c = e[0],
                    o = e[1],
                    u = e[2],
                    f = e[3],
                    d[0] === c && d[1] === o && d[2] === u && d[3] === f || (h.uniform4fv(t.locationId, e),
                    d[0] = c,
                    d[1] = o,
                    d[2] = u,
                    d[3] = f)
                }
                ,
                this.commitFunction[n.Fs] = function(t, e) {
                    d = t.value,
                    c = e[0],
                    o = e[1],
                    d[0] === c && d[1] === o || (h.uniform2iv(t.locationId, e),
                    d[0] = c,
                    d[1] = o)
                }
                ,
                this.commitFunction[n.Vs] = this.commitFunction[n.Fs],
                this.commitFunction[n.ks] = function(t, e) {
                    d = t.value,
                    c = e[0],
                    o = e[1],
                    u = e[2],
                    d[0] === c && d[1] === o && d[2] === u || (h.uniform3iv(t.locationId, e),
                    d[0] = c,
                    d[1] = o,
                    d[2] = u)
                }
                ,
                this.commitFunction[n.Hs] = this.commitFunction[n.ks],
                this.commitFunction[n.Us] = function(t, e) {
                    d = t.value,
                    c = e[0],
                    o = e[1],
                    u = e[2],
                    f = e[3],
                    d[0] === c && d[1] === o && d[2] === u && d[3] === f || (h.uniform4iv(t.locationId, e),
                    d[0] = c,
                    d[1] = o,
                    d[2] = u,
                    d[3] = f)
                }
                ,
                this.commitFunction[n.Gs] = this.commitFunction[n.Us],
                this.commitFunction[n.Ws] = function(t, e) {
                    h.uniformMatrix2fv(t.locationId, !1, e)
                }
                ,
                this.commitFunction[n.Ys] = function(t, e) {
                    h.uniformMatrix3fv(t.locationId, !1, e)
                }
                ,
                this.commitFunction[n.Xs] = function(t, e) {
                    h.uniformMatrix4fv(t.locationId, !1, e)
                }
                ,
                this.commitFunction[n.Js] = function(t, e) {
                    h.uniform1fv(t.locationId, e)
                }
                ,
                this.scope = new n.in("Device"),
                this.programLib = new n.Pn(this),
                n.In)
                    this.programLib.register(l, n.In[l]);
                n.K.attach(this),
                this.supportsBoneTextures = this.jn && this.maxVertexTextures > 0,
                this.useTexCubeLod = this.extTextureLod && this.maxTextures < 16;
                var b = this.vertexUniformsCount;
                for (b -= 16,
                b -= 8,
                b -= 1,
                b -= 16,
                this.boneLimit = Math.floor(b / 4),
                this.boneLimit = Math.min(this.boneLimit, 128),
                "Mali-450 MP" === this.unmaskedRenderer && (this.boneLimit = 34),
                "Apple A8 GPU" === this.unmaskedRenderer && (this.forceCpuParticles = !0),
                this._drawCallsPerFrame = 0,
                this._shaderSwitchesPerFrame = 0,
                this._primsPerFrame = [],
                s = n.Fi; s <= n.Wi; s++)
                    this._primsPerFrame[s] = 0;
                this._renderTargetCreationTime = 0,
                this._vram = {
                    tex: 0,
                    vb: 0,
                    ib: 0
                },
                this._shaderStats = {
                    vsCompiled: 0,
                    fsCompiled: 0,
                    linked: 0,
                    materialShaders: 0,
                    compileTime: 0
                },
                this.constantTexSource = this.scope.resolve("source"),
                this.jn ? this.webgl2 ? this.textureFloatRenderable = !!this.extColorBufferFloat : this.textureFloatRenderable = i(h, h.FLOAT) : this.textureFloatRenderable = !1,
                this.Rn ? this.webgl2 ? this.textureHalfFloatRenderable = !!this.extColorBufferFloat : this.textureHalfFloatRenderable = i(h, this.Rn.HALF_FLOAT_OES) : this.textureHalfFloatRenderable = !1,
                this._textureFloatHighPrecision = void 0,
                this.initializeGrabPassTexture()
            };
            return Object.assign(r.prototype, {
                getPrecision: function() {
                    var t = this.gl
                      , e = "highp";
                    if (t.getShaderPrecisionFormat) {
                        var i = t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.HIGH_FLOAT)
                          , s = t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.MEDIUM_FLOAT)
                          , n = t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.HIGH_FLOAT)
                          , r = t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.MEDIUM_FLOAT)
                          , a = i.precision > 0 && n.precision > 0
                          , h = s.precision > 0 && r.precision > 0;
                        a || (e = h ? "mediump" : "lowp")
                    }
                    return e
                },
                initializeExtensions: function() {
                    var t = this.gl, e, i = t.getSupportedExtensions(), s = function() {
                        for (var e = null, s = 0; s < arguments.length; s++)
                            -1 !== i.indexOf(arguments[s]) && (e = t.getExtension(arguments[s]));
                        return e
                    };
                    this.webgl2 ? (this.extBlendMinmax = !0,
                    this.extDrawBuffers = !0,
                    this.extInstancing = !0,
                    this.extStandardDerivatives = !0,
                    this.jn = !0,
                    this.Rn = !0,
                    this.extTextureHalfFloatLinear = !0,
                    this.extTextureLod = !0,
                    this.extUintElement = !0,
                    this.extVertexArrayObject = !0,
                    this.extColorBufferFloat = s("EXT_color_buffer_float")) : (this.extBlendMinmax = s("EXT_blend_minmax"),
                    this.extDrawBuffers = s("EXT_draw_buffers"),
                    this.extInstancing = s("ANGLE_instanced_arrays"),
                    this.extInstancing && (e = this.extInstancing,
                    t.drawArraysInstanced = e.drawArraysInstancedANGLE.bind(e),
                    t.drawElementsInstanced = e.drawElementsInstancedANGLE.bind(e),
                    t.vertexAttribDivisor = e.vertexAttribDivisorANGLE.bind(e)),
                    this.extStandardDerivatives = s("OES_standard_derivatives"),
                    this.jn = s("OES_texture_float"),
                    this.Rn = s("OES_texture_half_float"),
                    this.extTextureHalfFloatLinear = s("OES_texture_half_float_linear"),
                    this.extTextureLod = s("EXT_shader_texture_lod"),
                    this.extUintElement = s("OES_element_index_uint"),
                    this.extVertexArrayObject = s("OES_vertex_array_object"),
                    this.extVertexArrayObject && (e = this.extVertexArrayObject,
                    t.createVertexArray = e.createVertexArrayOES.bind(e),
                    t.deleteVertexArray = e.deleteVertexArrayOES.bind(e),
                    t.isVertexArray = e.isVertexArrayOES.bind(e),
                    t.bindVertexArray = e.bindVertexArrayOES.bind(e)),
                    this.extColorBufferFloat = null),
                    this.extDebugRendererInfo = s("WEBGL_debug_renderer_info"),
                    this.extTextureFloatLinear = s("OES_texture_float_linear"),
                    this.extTextureFilterAnisotropic = s("EXT_texture_filter_anisotropic", "WEBKIT_EXT_texture_filter_anisotropic"),
                    this.Ln = s("WEBGL_compressed_texture_etc1"),
                    this.extCompressedTextureETC = s("WEBGL_compressed_texture_etc"),
                    this.Nn = s("WEBGL_compressed_texture_pvrtc", "WEBKIT_WEBGL_compressed_texture_pvrtc"),
                    this.Fn = s("WEBGL_compressed_texture_s3tc", "WEBKIT_WEBGL_compressed_texture_s3tc"),
                    this.extParallelShaderCompile = s("KHR_parallel_shader_compile")
                },
                initializeCapabilities: function() {
                    var t = this.gl, e;
                    this.maxPrecision = this.precision = this.getPrecision();
                    var i = t.getContextAttributes();
                    this.supportsMsaa = i.antialias,
                    this.supportsStencil = i.stencil,
                    this.maxTextureSize = t.getParameter(t.MAX_TEXTURE_SIZE),
                    this.maxCubeMapSize = t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),
                    this.maxRenderBufferSize = t.getParameter(t.MAX_RENDERBUFFER_SIZE),
                    this.maxTextures = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),
                    this.maxCombinedTextures = t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),
                    this.maxVertexTextures = t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),
                    this.vertexUniformsCount = t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),
                    this.fragmentUniformsCount = t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),
                    this.webgl2 ? (this.maxDrawBuffers = t.getParameter(t.MAX_DRAW_BUFFERS),
                    this.maxColorAttachments = t.getParameter(t.MAX_COLOR_ATTACHMENTS),
                    this.maxVolumeSize = t.getParameter(t.MAX_3D_TEXTURE_SIZE)) : (e = this.extDrawBuffers,
                    this.maxDrawBuffers = e ? t.getParameter(e.MAX_DRAW_BUFFERS_EXT) : 1,
                    this.maxColorAttachments = e ? t.getParameter(e.MAX_COLOR_ATTACHMENTS_EXT) : 1,
                    this.maxVolumeSize = 1),
                    e = this.extDebugRendererInfo,
                    this.unmaskedRenderer = e ? t.getParameter(e.UNMASKED_RENDERER_WEBGL) : "",
                    this.unmaskedVendor = e ? t.getParameter(e.UNMASKED_VENDOR_WEBGL) : "",
                    e = this.extTextureFilterAnisotropic,
                    this.maxAnisotropy = e ? t.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 1
                },
                initializeRenderState: function() {
                    var t = this.gl;
                    this.blending = !1,
                    t.disable(t.BLEND),
                    this.kn = n.ee,
                    this.Un = n.te,
                    this.Vn = n.ee,
                    this.Hn = n.te,
                    this.Gn = !1,
                    this.blendEquation = n.be,
                    this.Wn = n.be,
                    this.Yn = !1,
                    t.blendFunc(t.ONE, t.ZERO),
                    t.blendEquation(t.FUNC_ADD),
                    this.writeRed = !0,
                    this.writeGreen = !0,
                    this.writeBlue = !0,
                    this.writeAlpha = !0,
                    t.colorMask(!0, !0, !0, !0),
                    this.cullMode = n.Ie,
                    t.enable(t.CULL_FACE),
                    t.cullFace(t.BACK),
                    this.frontMode = n.FRONTFACE_CCW,
                    t.frontFace(t.CCW),
                    this.depthTest = !0,
                    t.enable(t.DEPTH_TEST),
                    this.depthFunc = n.$e,
                    t.depthFunc(t.LEQUAL),
                    this.depthWrite = !0,
                    t.depthMask(!0),
                    this.stencil = !1,
                    t.disable(t.STENCIL_TEST),
                    this.stencilFuncFront = this.stencilFuncBack = n.ni,
                    this.stencilRefFront = this.stencilRefBack = 0,
                    this.stencilMaskFront = this.stencilMaskBack = 255,
                    t.stencilFunc(t.ALWAYS, 0, 255),
                    this.stencilFailFront = this.stencilFailBack = n.ps,
                    this.stencilZfailFront = this.stencilZfailBack = n.ps,
                    this.stencilZpassFront = this.stencilZpassBack = n.ps,
                    this.stencilWriteMaskFront = 255,
                    this.stencilWriteMaskBack = 255,
                    t.stencilOp(t.KEEP, t.KEEP, t.KEEP),
                    t.stencilMask(255),
                    this.alphaToCoverage = !1,
                    this.raster = !0,
                    this.webgl2 && (t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),
                    t.disable(t.RASTERIZER_DISCARD)),
                    this.depthBiasEnabled = !1,
                    t.disable(t.POLYGON_OFFSET_FILL),
                    this.clearDepth = 1,
                    t.clearDepth(1),
                    this.clearRed = 0,
                    this.clearBlue = 0,
                    this.clearGreen = 0,
                    this.clearAlpha = 0,
                    t.clearColor(0, 0, 0, 0),
                    this.clearStencil = 0,
                    t.clearStencil(0),
                    this.vx = this.vy = this.vw = this.vh = 0,
                    this.sx = this.sy = this.sw = this.sh = 0,
                    this.webgl2 ? t.hint(t.FRAGMENT_SHADER_DERIVATIVE_HINT, t.NICEST) : this.extStandardDerivatives && t.hint(this.extStandardDerivatives.FRAGMENT_SHADER_DERIVATIVE_HINT_OES, t.NICEST),
                    t.enable(t.SCISSOR_TEST),
                    t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL, t.NONE),
                    this.unpackFlipY = !1,
                    t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL, !1),
                    this.unpackPremultiplyAlpha = !1,
                    t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !1)
                },
                initializeContext: function() {
                    var t, e;
                    for (this.initializeExtensions(),
                    this.initializeCapabilities(),
                    this.initializeRenderState(),
                    t = 0,
                    e = this.shaders.length; t < e; t++)
                        this.compileAndLinkShader(this.shaders[t]);
                    for (this.shader = null,
                    t = 0,
                    e = this.buffers.length; t < e; t++)
                        this.buffers[t].bufferId = void 0,
                        this.buffers[t].unlock();
                    for (this.boundBuffer = null,
                    this.boundElementBuffer = null,
                    this.cn = null,
                    this.attributesInvalidated = !0,
                    this.enabledAttributes = {},
                    this.vertexBuffers = [],
                    t = 0,
                    e = this.textures.length; t < e; t++) {
                        var i = this.textures[t];
                        this.destroyTexture(i),
                        i.dirtyAll()
                    }
                    for (this.textureUnit = 0,
                    this.textureUnits.length = 0,
                    t = 0; t < this.maxCombinedTextures; t++)
                        this.textureUnits.push([null, null, null]);
                    for (t = 0,
                    e = this.targets.length; t < e; t++)
                        this.targets[t]._glFrameBuffer = void 0,
                        this.targets[t]._glDepthBuffer = void 0,
                        this.targets[t]._glResolveFrameBuffer = void 0,
                        this.targets[t]._glMsaaColorBuffer = void 0,
                        this.targets[t]._glMsaaDepthBuffer = void 0;
                    this.renderTarget = null,
                    this.activeFramebuffer = null,
                    this.feedback = null,
                    this.transformFeedbackBuffer = null
                },
                initializeGrabPassTexture: function() {
                    if (!this.grabPassTexture) {
                        var t = new n.xn(this,{
                            format: n.vi,
                            autoMipmap: !1
                        });
                        t.minFilter = n.We,
                        t.magFilter = n.We,
                        t.addressU = n.Zt,
                        t.addressV = n.Zt,
                        t.name = "texture_grabPass",
                        t.setSource(this.canvas);
                        var e = this.scope.resolve(t.name);
                        e.setValue(t),
                        this.grabPassTextureId = e,
                        this.grabPassTexture = t
                    }
                },
                updateClientRect: function() {
                    this.clientRect = this.canvas.getBoundingClientRect()
                },
                Xn: function(t, e, i, s) {
                    this.vx === t && this.vy === e && this.vw === i && this.vh === s || (this.gl.viewport(t, e, i, s),
                    this.vx = t,
                    this.vy = e,
                    this.vw = i,
                    this.vh = s)
                },
                Kn: function(t, e, i, s) {
                    this.sx === t && this.sy === e && this.sw === i && this.sh === s || (this.gl.scissor(t, e, i, s),
                    this.sx = t,
                    this.sy = e,
                    this.sw = i,
                    this.sh = s)
                },
                Qn: function() {
                    return this.programLib
                },
                setProgramLibrary: function(t) {
                    this.programLib = t
                },
                setFramebuffer: function(t) {
                    this.activeFramebuffer !== t && (this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, t),
                    this.activeFramebuffer = t)
                },
                _checkFbo: function() {
                    var t = this.gl, e;
                    switch (t.checkFramebufferStatus(t.FRAMEBUFFER)) {
                    case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:
                    case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:
                    case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:
                    case t.FRAMEBUFFER_UNSUPPORTED:
                    case t.FRAMEBUFFER_COMPLETE:
                    }
                },
                copyRenderTarget: function(t, e, i, s) {
                    var r = this.gl;
                    if (!this.webgl2 && s)
                        return !1;
                    if (i)
                        if (e) {
                            if (!t._colorBuffer || !e._colorBuffer)
                                return !1;
                            if (t._colorBuffer._format !== e._colorBuffer._format)
                                return !1
                        } else if (!t._colorBuffer)
                            return !1;
                    if (s) {
                        if (!t._depthBuffer || !e._depthBuffer)
                            return !1;
                        if (t._depthBuffer._format !== e._depthBuffer._format)
                            return !1
                    }
                    if (this.webgl2 && e) {
                        var a = this.renderTarget;
                        this.renderTarget = e,
                        this.bn(),
                        r.bindFramebuffer(r.READ_FRAMEBUFFER, t ? t._glFrameBuffer : null),
                        r.bindFramebuffer(r.DRAW_FRAMEBUFFER, e._glFrameBuffer);
                        var h = t ? t.width : e.width
                          , c = t ? t.height : e.height;
                        r.blitFramebuffer(0, 0, h, c, 0, 0, h, c, (i ? r.COLOR_BUFFER_BIT : 0) | (s ? r.DEPTH_BUFFER_BIT : 0), r.NEAREST),
                        this.renderTarget = a,
                        r.bindFramebuffer(r.FRAMEBUFFER, a ? a._glFrameBuffer : null)
                    } else {
                        if (!this._copyShader) {
                            var o = n.dn;
                            this._copyShader = o.createShaderFromCode(this, o.fullscreenQuadVS, o.outputTex2DPS, "outputTex2D")
                        }
                        this.constantTexSource.setValue(t._colorBuffer),
                        n.Bn(this, e, this._copyShader)
                    }
                    return !0
                },
                bn: function() {
                    var t = this.gl;
                    this.boundBuffer = null,
                    this.boundElementBuffer = null;
                    var e = this.renderTarget;
                    if (e)
                        if (e._glFrameBuffer)
                            this.setFramebuffer(e._glFrameBuffer);
                        else {
                            e._device = this,
                            e._glFrameBuffer = t.createFramebuffer(),
                            this.setFramebuffer(e._glFrameBuffer);
                            var i = e._colorBuffer;
                            i && (i._glTexture || (i._width = Math.min(i.width, this.maxRenderBufferSize),
                            i._height = Math.min(i.height, this.maxRenderBufferSize),
                            this.setTexture(i, 0)),
                            t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, i._cubemap ? t.TEXTURE_CUBE_MAP_POSITIVE_X + e._face : t.TEXTURE_2D, i._glTexture, 0));
                            var s = e._depthBuffer, n;
                            if (s && this.webgl2)
                                s._glTexture || (s._width = Math.min(s.width, this.maxRenderBufferSize),
                                s._height = Math.min(s.height, this.maxRenderBufferSize),
                                this.setTexture(s, 0)),
                                e._stencil ? t.framebufferTexture2D(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, s._cubemap ? t.TEXTURE_CUBE_MAP_POSITIVE_X + e._face : t.TEXTURE_2D, e._depthBuffer._glTexture, 0) : t.framebufferTexture2D(t.FRAMEBUFFER, t.DEPTH_ATTACHMENT, s._cubemap ? t.TEXTURE_CUBE_MAP_POSITIVE_X + e._face : t.TEXTURE_2D, e._depthBuffer._glTexture, 0);
                            else if (e._depth)
                                e._samples > 1 && this.webgl2 || (e._glDepthBuffer || (e._glDepthBuffer = t.createRenderbuffer()),
                                t.bindRenderbuffer(t.RENDERBUFFER, e._glDepthBuffer),
                                e._stencil ? (t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, e.width, e.height),
                                t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, e._glDepthBuffer)) : (t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_COMPONENT16, e.width, e.height),
                                t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_ATTACHMENT, t.RENDERBUFFER, e._glDepthBuffer)),
                                t.bindRenderbuffer(t.RENDERBUFFER, null));
                            this.webgl2 && e._samples > 1 && (e._glResolveFrameBuffer = e._glFrameBuffer,
                            e._glFrameBuffer = t.createFramebuffer(),
                            this.setFramebuffer(e._glFrameBuffer),
                            i && (e._glMsaaColorBuffer || (e._glMsaaColorBuffer = t.createRenderbuffer()),
                            t.bindRenderbuffer(t.RENDERBUFFER, e._glMsaaColorBuffer),
                            t.renderbufferStorageMultisample(t.RENDERBUFFER, e._samples, i._glInternalFormat, e.width, e.height),
                            t.framebufferRenderbuffer(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.RENDERBUFFER, e._glMsaaColorBuffer)),
                            e._depth && (e._glMsaaDepthBuffer || (e._glMsaaDepthBuffer = t.createRenderbuffer()),
                            t.bindRenderbuffer(t.RENDERBUFFER, e._glMsaaDepthBuffer),
                            e._stencil ? (t.renderbufferStorageMultisample(t.RENDERBUFFER, e._samples, t.DEPTH24_STENCIL8, e.width, e.height),
                            t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, e._glMsaaDepthBuffer)) : (t.renderbufferStorageMultisample(t.RENDERBUFFER, e._samples, t.DEPTH_COMPONENT32F, e.width, e.height),
                            t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_ATTACHMENT, t.RENDERBUFFER, e._glMsaaDepthBuffer)))),
                            this.targets.push(e)
                        }
                    else
                        this.setFramebuffer(null)
                },
                mn: function() {
                    var t = this.gl
                      , e = this.renderTarget;
                    if (e) {
                        var i = e._colorBuffer;
                        i && i._glTexture && i.mipmaps && i._pot && (this.activeTexture(this.maxCombinedTextures - 1),
                        this.bindTexture(i),
                        t.generateMipmap(i._glTarget)),
                        this.webgl2 && e._samples > 1 && e.autoResolve && e.resolve()
                    }
                },
                initializeTexture: function(t) {
                    var e = this.gl, i;
                    switch (t._glTexture = e.createTexture(),
                    t._glTarget = t._cubemap ? e.TEXTURE_CUBE_MAP : t._volume ? e.TEXTURE_3D : e.TEXTURE_2D,
                    t._format) {
                    case n.ci:
                        t._glFormat = e.ALPHA,
                        t._glInternalFormat = e.ALPHA,
                        t._glPixelType = e.UNSIGNED_BYTE;
                        break;
                    case n.oi:
                        t._glFormat = e.LUMINANCE,
                        t._glInternalFormat = e.LUMINANCE,
                        t._glPixelType = e.UNSIGNED_BYTE;
                        break;
                    case n.ui:
                        t._glFormat = e.LUMINANCE_ALPHA,
                        t._glInternalFormat = e.LUMINANCE_ALPHA,
                        t._glPixelType = e.UNSIGNED_BYTE;
                        break;
                    case n.fi:
                        t._glFormat = e.RGB,
                        t._glInternalFormat = e.RGB,
                        t._glPixelType = e.UNSIGNED_SHORT_5_6_5;
                        break;
                    case n.di:
                        t._glFormat = e.RGBA,
                        t._glInternalFormat = e.RGBA,
                        t._glPixelType = e.UNSIGNED_SHORT_5_5_5_1;
                        break;
                    case n.li:
                        t._glFormat = e.RGBA,
                        t._glInternalFormat = e.RGBA,
                        t._glPixelType = e.UNSIGNED_SHORT_4_4_4_4;
                        break;
                    case n.bi:
                        t._glFormat = e.RGB,
                        t._glInternalFormat = this.webgl2 ? e.RGB8 : e.RGB,
                        t._glPixelType = e.UNSIGNED_BYTE;
                        break;
                    case n.vi:
                        t._glFormat = e.RGBA,
                        t._glInternalFormat = this.webgl2 ? e.RGBA8 : e.RGBA,
                        t._glPixelType = e.UNSIGNED_BYTE;
                        break;
                    case n.gi:
                        i = this.Fn,
                        t._glFormat = e.RGB,
                        t._glInternalFormat = i.COMPRESSED_RGB_S3TC_DXT1_EXT;
                        break;
                    case n.pi:
                        i = this.Fn,
                        t._glFormat = e.RGBA,
                        t._glInternalFormat = i.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                        break;
                    case n.wi:
                        i = this.Fn,
                        t._glFormat = e.RGBA,
                        t._glInternalFormat = i.COMPRESSED_RGBA_S3TC_DXT5_EXT;
                        break;
                    case n.Ti:
                        i = this.Ln,
                        t._glFormat = e.RGB,
                        t._glInternalFormat = i.COMPRESSED_RGB_ETC1_WEBGL;
                        break;
                    case n.Ni:
                        i = this.extCompressedTextureASTC,
                        t._glFormat = e.RGBA,
                        t._glInternalFormat = i.COMPRESSED_RGBA_ASTC_4x4_KHR;
                        break;
                    case n.Ii:
                        i = this.Nn,
                        t._glFormat = e.RGB,
                        t._glInternalFormat = i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
                        break;
                    case n.ji:
                        i = this.Nn,
                        t._glFormat = e.RGBA,
                        t._glInternalFormat = i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;
                        break;
                    case n.Ri:
                        i = this.Nn,
                        t._glFormat = e.RGB,
                        t._glInternalFormat = i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
                        break;
                    case n.Li:
                        i = this.Nn,
                        t._glFormat = e.RGBA,
                        t._glInternalFormat = i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
                        break;
                    case n.Pi:
                        i = this.extCompressedTextureETC,
                        t._glFormat = e.RGB,
                        t._glInternalFormat = i.COMPRESSED_RGB8_ETC2;
                        break;
                    case n.Bi:
                        i = this.extCompressedTextureETC,
                        t._glFormat = e.RGBA,
                        t._glInternalFormat = i.COMPRESSED_RGBA8_ETC2_EAC;
                        break;
                    case n.xi:
                        i = this.Rn,
                        t._glFormat = e.RGB,
                        this.webgl2 ? (t._glInternalFormat = e.RGB16F,
                        t._glPixelType = e.HALF_FLOAT) : (t._glInternalFormat = e.RGB,
                        t._glPixelType = i.HALF_FLOAT_OES);
                        break;
                    case n.zi:
                        i = this.Rn,
                        t._glFormat = e.RGBA,
                        this.webgl2 ? (t._glInternalFormat = e.RGBA16F,
                        t._glPixelType = e.HALF_FLOAT) : (t._glInternalFormat = e.RGBA,
                        t._glPixelType = i.HALF_FLOAT_OES);
                        break;
                    case n.Ai:
                        t._glFormat = e.RGB,
                        this.webgl2 ? t._glInternalFormat = e.RGB32F : t._glInternalFormat = e.RGB,
                        t._glPixelType = e.FLOAT;
                        break;
                    case n.yi:
                        t._glFormat = e.RGBA,
                        this.webgl2 ? t._glInternalFormat = e.RGBA32F : t._glInternalFormat = e.RGBA,
                        t._glPixelType = e.FLOAT;
                        break;
                    case n.Mi:
                        t._glFormat = e.RED,
                        t._glInternalFormat = e.R32F,
                        t._glPixelType = e.FLOAT;
                        break;
                    case n.Si:
                        this.webgl2 ? (t._glFormat = e.DEPTH_COMPONENT,
                        t._glInternalFormat = e.DEPTH_COMPONENT32F,
                        t._glPixelType = e.FLOAT) : (t._glFormat = e.DEPTH_COMPONENT,
                        t._glInternalFormat = e.DEPTH_COMPONENT,
                        t._glPixelType = e.UNSIGNED_SHORT);
                        break;
                    case n.Ci:
                        t._glFormat = e.DEPTH_STENCIL,
                        t._glInternalFormat = e.DEPTH24_STENCIL8,
                        t._glPixelType = e.UNSIGNED_INT_24_8;
                        break;
                    case n.Oi:
                        t._glFormat = e.RGB,
                        t._glInternalFormat = e.R11F_G11F_B10F,
                        t._glPixelType = e.FLOAT;
                        break;
                    case n.Ei:
                        t._glFormat = e.RGB,
                        t._glInternalFormat = e.SRGB8,
                        t._glPixelType = e.UNSIGNED_BYTE;
                        break;
                    case n.Di:
                        t._glFormat = e.RGBA,
                        t._glInternalFormat = e.SRGB8_ALPHA8,
                        t._glPixelType = e.UNSIGNED_BYTE
                    }
                    this.textures.push(t)
                },
                destroyTexture: function(t) {
                    if (t._glTexture) {
                        var e = this.textures.indexOf(t), i;
                        for (var s in -1 !== e && this.textures.splice(e, 1),
                        this.scope.variables) {
                            var n = this.scope.variables[s];
                            n.value === t && (n.value = null)
                        }
                        for (var r = 0; r < this.textureUnits.length; r++)
                            for (var a = this.textureUnits[r], h = 0; h < a.length; h++)
                                a[h] === t._glTexture && (a[h] = null);
                        this.gl.deleteTexture(t._glTexture),
                        delete t._glTexture,
                        delete t._glTarget,
                        delete t._glFormat,
                        delete t._glInternalFormat,
                        delete t._glPixelType,
                        this._vram.tex -= t._gpuSize
                    }
                },
                setUnpackFlipY: function(t) {
                    if (this.unpackFlipY !== t) {
                        this.unpackFlipY = t;
                        var e = this.gl;
                        e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL, t)
                    }
                },
                setUnpackPremultiplyAlpha: function(t) {
                    if (this.unpackPremultiplyAlpha !== t) {
                        this.unpackPremultiplyAlpha = t;
                        var e = this.gl;
                        e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, t)
                    }
                },
                uploadTexture: function(t) {
                    var i = this.gl;
                    if (t._needsUpload || !(t._needsMipmapsUpload && t._mipmapsUploaded || !t._pot)) {
                        for (var s = 0, n, r; t.pn[s] || 0 === s; )
                            if (t._needsUpload || 0 !== s) {
                                if (s && (!t._needsMipmapsUpload || !t._mipmaps))
                                    break;
                                var a;
                                if (n = t.pn[s],
                                1 != s || t._compressed || (i.generateMipmap(t._glTarget),
                                t._mipmapsUploaded = !0),
                                t._cubemap) {
                                    if (n[0]instanceof HTMLCanvasElement || n[0]instanceof HTMLImageElement || n[0]instanceof HTMLVideoElement) {
                                        for (a = 0; a < 6; a++)
                                            if (t.wn[0][a]) {
                                                var h = n[a];
                                                h instanceof HTMLImageElement && (h.width > this.maxCubeMapSize || h.height > this.maxCubeMapSize) && (h = e(h, this.maxCubeMapSize),
                                                0 === s && (t.width = h.width,
                                                t.height = h.height)),
                                                this.setUnpackFlipY(!1),
                                                this.setUnpackPremultiplyAlpha(t._premultiplyAlpha),
                                                i.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X + a, s, t._glInternalFormat, t._glFormat, t._glPixelType, h)
                                            }
                                    } else
                                        for (r = 1 / Math.pow(2, s),
                                        a = 0; a < 6; a++)
                                            if (t.wn[0][a]) {
                                                var c = n[a];
                                                t._compressed ? i.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X + a, s, t._glInternalFormat, Math.max(t._width * r, 1), Math.max(t._height * r, 1), 0, c) : (this.setUnpackFlipY(!1),
                                                this.setUnpackPremultiplyAlpha(t._premultiplyAlpha),
                                                i.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X + a, s, t._glInternalFormat, Math.max(t._width * r, 1), Math.max(t._height * r, 1), 0, t._glFormat, t._glPixelType, c))
                                            }
                                } else
                                    t._volume ? (r = 1 / Math.pow(2, s),
                                    t._compressed ? i.compressedTexImage3D(i.TEXTURE_3D, s, t._glInternalFormat, Math.max(t._width * r, 1), Math.max(t._height * r, 1), Math.max(t._depth * r, 1), 0, n) : (this.setUnpackFlipY(!1),
                                    this.setUnpackPremultiplyAlpha(t._premultiplyAlpha),
                                    i.texImage3D(i.TEXTURE_3D, s, t._glInternalFormat, Math.max(t._width * r, 1), Math.max(t._height * r, 1), Math.max(t._depth * r, 1), 0, t._glFormat, t._glPixelType, n))) : (n instanceof HTMLCanvasElement || n instanceof HTMLImageElement || n instanceof HTMLVideoElement ? (n instanceof HTMLImageElement && (n.width > this.maxTextureSize || n.height > this.maxTextureSize) && (n = e(n, this.maxTextureSize),
                                    0 === s && (t.width = n.width,
                                    t.height = n.height)),
                                    this.setUnpackFlipY(t._flipY),
                                    this.setUnpackPremultiplyAlpha(t._premultiplyAlpha),
                                    i.texImage2D(i.TEXTURE_2D, s, t._glInternalFormat, t._glFormat, t._glPixelType, n)) : (r = 1 / Math.pow(2, s),
                                    t._compressed ? i.compressedTexImage2D(i.TEXTURE_2D, s, t._glInternalFormat, Math.max(t._width * r, 1), Math.max(t._height * r, 1), 0, n) : (this.setUnpackFlipY(!1),
                                    this.setUnpackPremultiplyAlpha(t._premultiplyAlpha),
                                    i.texImage2D(i.TEXTURE_2D, s, t._glInternalFormat, Math.max(t._width * r, 1), Math.max(t._height * r, 1), 0, t._glFormat, t._glPixelType, n))),
                                    t._mipmapsUploaded = 0 !== s);
                                s++
                            } else
                                s++;
                        if (t._needsUpload)
                            if (t._cubemap)
                                for (var o = 0; o < 6; o++)
                                    t.wn[0][o] = !1;
                            else
                                t.wn[0] = !1;
                        !t._compressed && t._mipmaps && t._needsMipmapsUpload && t._pot && 1 === t.pn.length && (i.generateMipmap(t._glTarget),
                        t._mipmapsUploaded = !0),
                        t._gpuSize && (this._vram.tex -= t._gpuSize),
                        t._gpuSize = t.gpuSize,
                        this._vram.tex += t._gpuSize
                    }
                },
                activeTexture: function(t) {
                    this.textureUnit !== t && (this.gl.activeTexture(this.gl.TEXTURE0 + t),
                    this.textureUnit = t)
                },
                bindTexture: function(t) {
                    var e = t._glTarget
                      , i = t._glTexture
                      , s = this.textureUnit
                      , n = this.targetToSlot[e];
                    this.textureUnits[s][n] !== i && (this.gl.bindTexture(e, i),
                    this.textureUnits[s][n] = i)
                },
                bindTextureOnUnit: function(t, e) {
                    var i = t._glTarget
                      , s = t._glTexture
                      , n = this.targetToSlot[i];
                    this.textureUnits[e][n] !== s && (this.activeTexture(e),
                    this.gl.bindTexture(i, s),
                    this.textureUnits[e][n] = s)
                },
                setTextureParameters: function(t) {
                    var e = this.gl
                      , i = t._parameterFlags
                      , s = t._glTarget;
                    if (1 & i) {
                        var r = t._minFilter;
                        (!t._pot || !t._mipmaps || t._compressed && 1 === t.pn.length) && (r === n.Ye || r === n.Xe ? r = n.Ge : r !== n.Ke && r !== n.Qe || (r = n.We)),
                        e.texParameteri(s, e.TEXTURE_MIN_FILTER, this.glFilter[r])
                    }
                    if (2 & i && e.texParameteri(s, e.TEXTURE_MAG_FILTER, this.glFilter[t._magFilter]),
                    4 & i && (this.webgl2 ? e.texParameteri(s, e.TEXTURE_WRAP_S, this.glAddress[t._addressU]) : e.texParameteri(s, e.TEXTURE_WRAP_S, this.glAddress[t._pot ? t._addressU : n.Zt])),
                    8 & i && (this.webgl2 ? e.texParameteri(s, e.TEXTURE_WRAP_T, this.glAddress[t._addressV]) : e.texParameteri(s, e.TEXTURE_WRAP_T, this.glAddress[t._pot ? t._addressV : n.Zt])),
                    16 & i && this.webgl2 && e.texParameteri(s, e.TEXTURE_WRAP_R, this.glAddress[t._addressW]),
                    32 & i && this.webgl2 && e.texParameteri(s, e.TEXTURE_COMPARE_MODE, t._compareOnRead ? e.COMPARE_REF_TO_TEXTURE : e.NONE),
                    64 & i && this.webgl2 && e.texParameteri(s, e.TEXTURE_COMPARE_FUNC, this.glComparison[t._compareFunc]),
                    128 & i) {
                        var a = this.extTextureFilterAnisotropic;
                        a && e.texParameterf(s, a.TEXTURE_MAX_ANISOTROPY_EXT, Math.max(1, Math.min(Math.round(t._anisotropy), this.maxAnisotropy)))
                    }
                },
                setTexture: function(t, e) {
                    t._glTexture || this.initializeTexture(t),
                    t._parameterFlags > 0 || t._needsUpload || t._needsMipmapsUpload ? (this.activeTexture(e),
                    this.bindTexture(t),
                    t._parameterFlags && (this.setTextureParameters(t),
                    t._parameterFlags = 0),
                    (t._needsUpload || t._needsMipmapsUpload) && (this.uploadTexture(t),
                    t !== this.grabPassTexture && (t._needsUpload = !1,
                    t._needsMipmapsUpload = !1))) : this.bindTextureOnUnit(t, e)
                },
                setBuffers: function(t) {
                    var e = this.gl, i, s, n, r, a, h, c = this.shader.attributes;
                    if (this.attributesInvalidated) {
                        for (var o = 0, u = c.length; o < u; o++)
                            null !== (s = (i = c[o]).scopeId.value) && (n = this.vertexBuffers[s.stream],
                            r = this.vbOffsets[s.stream] || 0,
                            a = n.bufferId,
                            this.boundBuffer !== a && (e.bindBuffer(e.ARRAY_BUFFER, a),
                            this.boundBuffer = a),
                            h = i.locationId,
                            this.enabledAttributes[h] || (e.enableVertexAttribArray(h),
                            this.enabledAttributes[h] = !0),
                            e.vertexAttribPointer(h, s.numComponents, this.glType[s.dataType], s.normalize, s.stride, s.offset + r),
                            1 === s.stream && t > 1 ? this.instancedAttribs[h] || (e.vertexAttribDivisor(h, 1),
                            this.instancedAttribs[h] = !0) : this.instancedAttribs[h] && (e.vertexAttribDivisor(h, 0),
                            this.instancedAttribs[h] = !1));
                        this.attributesInvalidated = !1
                    }
                    a = this.cn ? this.cn.bufferId : null,
                    this.boundElementBuffer !== a && (e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, a),
                    this.boundElementBuffer = a)
                },
                draw: function(t, e) {
                    var i = this.gl, s, r, a, h, c, o, u, f, d, l, b, v = this.shader, m = v.samplers, g = v.uniforms;
                    e > 1 && (this.boundBuffer = null,
                    this.attributesInvalidated = !0),
                    this.setBuffers(e);
                    var p = 0;
                    for (s = 0,
                    a = m.length; s < a; s++)
                        if (c = (h = m[s]).scopeId.value)
                            if (c instanceof n.xn)
                                o = c,
                                this.setTexture(o, p),
                                h.slot !== p && (i.uniform1i(h.locationId, p),
                                h.slot = p),
                                p++;
                            else {
                                for (h.array.length = 0,
                                u = c.length,
                                r = 0; r < u; r++)
                                    o = c[r],
                                    this.setTexture(o, p),
                                    h.array[r] = p,
                                    p++;
                                i.uniform1iv(h.locationId, h.array)
                            }
                    for (s = 0,
                    a = g.length; s < a; s++)
                        d = (f = g[s]).scopeId,
                        l = f.version,
                        b = d.versionObject.version,
                        l.globalId === b.globalId && l.u === b.u || (l.globalId = b.globalId,
                        l.u = b.u,
                        null !== d.value && this.commitFunction[f.dataType](f, d.value));
                    this.webgl2 && this.transformFeedbackBuffer && (i.bindBufferBase(i.TRANSFORM_FEEDBACK_BUFFER, 0, this.transformFeedbackBuffer.bufferId),
                    i.beginTransformFeedback(i.POINTS));
                    var w = this.glPrimitive[t.type]
                      , x = t.count;
                    if (t.indexed) {
                        var z = this.cn
                          , _ = z.glFormat
                          , A = t.base * z.bytesPerIndex;
                        e > 1 ? i.drawElementsInstanced(w, x, _, A, e) : i.drawElements(w, x, _, A)
                    } else {
                        var y = t.base;
                        e > 1 ? i.drawArraysInstanced(w, y, x, e) : i.drawArrays(w, y, x)
                    }
                    this.webgl2 && this.transformFeedbackBuffer && (i.endTransformFeedback(),
                    i.bindBufferBase(i.TRANSFORM_FEEDBACK_BUFFER, 0, null))
                },
                clear: function(t) {
                    var e = this.defaultClearOptions
                      , i = null == (t = t || e).flags ? e.flags : t.flags;
                    if (0 !== i) {
                        var s = this.gl;
                        if (i & n.ye) {
                            var r = null == t.color ? e.color : t.color;
                            this.setClearColor(r[0], r[1], r[2], r[3])
                        }
                        if (i & n.Me) {
                            var a = null == t.depth ? e.depth : t.depth;
                            this.setClearDepth(a),
                            this.depthWrite || s.depthMask(!0)
                        }
                        if (i & n.Se) {
                            var h = null == t.stencil ? e.stencil : t.stencil;
                            this.setClearStencil(h)
                        }
                        s.clear(this.glClearFlag[i]),
                        i & n.Me && (this.depthWrite || s.depthMask(!1))
                    }
                },
                readPixels: function(t, e, i, s, n) {
                    var r = this.gl;
                    r.readPixels(t, e, i, s, r.RGBA, r.UNSIGNED_BYTE, n)
                },
                setClearDepth: function(t) {
                    t !== this.clearDepth && (this.gl.clearDepth(t),
                    this.clearDepth = t)
                },
                setClearColor: function(t, e, i, s) {
                    t === this.clearRed && e === this.clearGreen && i === this.clearBlue && s === this.clearAlpha || (this.gl.clearColor(t, e, i, s),
                    this.clearRed = t,
                    this.clearGreen = e,
                    this.clearBlue = i,
                    this.clearAlpha = s)
                },
                setClearStencil: function(t) {
                    t !== this.clearStencil && (this.gl.clearStencil(t),
                    this.clearStencil = t)
                },
                ln: function(t) {
                    this.renderTarget = t
                },
                Jn: function() {
                    return this.renderTarget
                },
                qn: function() {
                    return this.depthTest
                },
                Zn: function(t) {
                    if (this.depthTest !== t) {
                        var e = this.gl;
                        t ? e.enable(e.DEPTH_TEST) : e.disable(e.DEPTH_TEST),
                        this.depthTest = t
                    }
                },
                $n: function(t) {
                    this.depthFunc !== t && (this.gl.depthFunc(this.glComparison[t]),
                    this.depthFunc = t)
                },
                tr: function() {
                    return this.depthWrite
                },
                er: function(t) {
                    this.depthWrite !== t && (this.gl.depthMask(t),
                    this.depthWrite = t)
                },
                ir: function(t, e, i, s) {
                    this.writeRed === t && this.writeGreen === e && this.writeBlue === i && this.writeAlpha === s || (this.gl.colorMask(t, e, i, s),
                    this.writeRed = t,
                    this.writeGreen = e,
                    this.writeBlue = i,
                    this.writeAlpha = s)
                },
                setAlphaToCoverage: function(t) {
                    this.webgl2 && this.alphaToCoverage !== t && (this.alphaToCoverage = t,
                    t ? this.gl.enable(this.gl.SAMPLE_ALPHA_TO_COVERAGE) : this.gl.disable(this.gl.SAMPLE_ALPHA_TO_COVERAGE))
                },
                setTransformFeedbackBuffer: function(t) {
                    if (this.transformFeedbackBuffer !== t && (this.transformFeedbackBuffer = t,
                    this.webgl2)) {
                        var e = this.gl;
                        t ? (this.feedback || (this.feedback = e.createTransformFeedback()),
                        e.bindTransformFeedback(e.TRANSFORM_FEEDBACK, this.feedback)) : e.bindTransformFeedback(e.TRANSFORM_FEEDBACK, null)
                    }
                },
                setRaster: function(t) {
                    this.raster !== t && (this.raster = t,
                    this.webgl2 && (t ? this.gl.disable(this.gl.RASTERIZER_DISCARD) : this.gl.enable(this.gl.RASTERIZER_DISCARD)))
                },
                sr: function(t) {
                    this.depthBiasEnabled !== t && (this.depthBiasEnabled = t,
                    t ? this.gl.enable(this.gl.POLYGON_OFFSET_FILL) : this.gl.disable(this.gl.POLYGON_OFFSET_FILL))
                },
                nr: function(t, e) {
                    this.gl.polygonOffset(e, t)
                },
                rr: function() {
                    return this.blending
                },
                hr: function(t) {
                    if (this.blending !== t) {
                        var e = this.gl;
                        t ? e.enable(e.BLEND) : e.disable(e.BLEND),
                        this.blending = t
                    }
                },
                cr: function(t) {
                    if (this.stencil !== t) {
                        var e = this.gl;
                        t ? e.enable(e.STENCIL_TEST) : e.disable(e.STENCIL_TEST),
                        this.stencil = t
                    }
                },
                ur: function(t, e, i) {
                    var s;
                    this.stencilFuncFront === t && this.stencilRefFront === e && this.stencilMaskFront === i && this.stencilFuncBack === t && this.stencilRefBack === e && this.stencilMaskBack === i || (this.gl.stencilFunc(this.glComparison[t], e, i),
                    this.stencilFuncFront = this.stencilFuncBack = t,
                    this.stencilRefFront = this.stencilRefBack = e,
                    this.stencilMaskFront = this.stencilMaskBack = i)
                },
                dr: function(t, e, i) {
                    if (this.stencilFuncFront !== t || this.stencilRefFront !== e || this.stencilMaskFront !== i) {
                        var s = this.gl;
                        s.stencilFuncSeparate(s.FRONT, this.glComparison[t], e, i),
                        this.stencilFuncFront = t,
                        this.stencilRefFront = e,
                        this.stencilMaskFront = i
                    }
                },
                lr: function(t, e, i) {
                    if (this.stencilFuncBack !== t || this.stencilRefBack !== e || this.stencilMaskBack !== i) {
                        var s = this.gl;
                        s.stencilFuncSeparate(s.BACK, this.glComparison[t], e, i),
                        this.stencilFuncBack = t,
                        this.stencilRefBack = e,
                        this.stencilMaskBack = i
                    }
                },
                br: function(t, e, i, s) {
                    this.stencilFailFront === t && this.stencilZfailFront === e && this.stencilZpassFront === i && this.stencilFailBack === t && this.stencilZfailBack === e && this.stencilZpassBack === i || (this.gl.stencilOp(this.glStencilOp[t], this.glStencilOp[e], this.glStencilOp[i]),
                    this.stencilFailFront = this.stencilFailBack = t,
                    this.stencilZfailFront = this.stencilZfailBack = e,
                    this.stencilZpassFront = this.stencilZpassBack = i),
                    this.stencilWriteMaskFront === s && this.stencilWriteMaskBack === s || (this.gl.stencilMask(s),
                    this.stencilWriteMaskFront = s,
                    this.stencilWriteMaskBack = s)
                },
                mr: function(t, e, i, s) {
                    this.stencilFailFront === t && this.stencilZfailFront === e && this.stencilZpassFront === i || (this.gl.stencilOpSeparate(this.gl.FRONT, this.glStencilOp[t], this.glStencilOp[e], this.glStencilOp[i]),
                    this.stencilFailFront = t,
                    this.stencilZfailFront = e,
                    this.stencilZpassFront = i),
                    this.stencilWriteMaskFront !== s && (this.gl.stencilMaskSeparate(this.gl.FRONT, s),
                    this.stencilWriteMaskFront = s)
                },
                gr: function(t, e, i, s) {
                    this.stencilFailBack === t && this.stencilZfailBack === e && this.stencilZpassBack === i || (this.gl.stencilOpSeparate(this.gl.BACK, this.glStencilOp[t], this.glStencilOp[e], this.glStencilOp[i]),
                    this.stencilFailBack = t,
                    this.stencilZfailBack = e,
                    this.stencilZpassBack = i),
                    this.stencilWriteMaskBack !== s && (this.gl.stencilMaskSeparate(this.gl.BACK, s),
                    this.stencilWriteMaskBack = s)
                },
                pr: function(t, e) {
                    (this.kn !== t || this.Un !== e || this.Gn) && (this.gl.blendFunc(this.glBlendFunction[t], this.glBlendFunction[e]),
                    this.kn = t,
                    this.Un = e,
                    this.Gn = !1)
                },
                wr: function(t, e, i, s) {
                    this.kn === t && this.Un === e && this.Vn === i && this.Hn === s && this.Gn || (this.gl.blendFuncSeparate(this.glBlendFunction[t], this.glBlendFunction[e], this.glBlendFunction[i], this.glBlendFunction[s]),
                    this.kn = t,
                    this.Un = e,
                    this.Vn = i,
                    this.Hn = s,
                    this.Gn = !0)
                },
                xr: function(t) {
                    (this.blendEquation !== t || this.Yn) && (this.gl.blendEquation(this.glBlendEquation[t]),
                    this.blendEquation = t,
                    this.Yn = !1)
                },
                zr: function(t, e) {
                    this.blendEquation === t && this.Wn === e && this.Yn || (this.gl.blendEquationSeparate(this.glBlendEquation[t], this.glBlendEquation[e]),
                    this.blendEquation = t,
                    this.Wn = e,
                    this.Yn = !0)
                },
                Ar: function(t) {
                    if (this.cullMode !== t) {
                        if (t === n.Be)
                            this.gl.disable(this.gl.CULL_FACE);
                        else {
                            this.cullMode === n.Be && this.gl.enable(this.gl.CULL_FACE);
                            var e = this.glCull[t];
                            this.cullFace !== e && (this.gl.cullFace(e),
                            this.cullFace = e)
                        }
                        this.cullMode = t
                    }
                },
                getCullMode: function() {
                    return this.cullMode
                },
                setFrontMode: function(t) {
                    if (this.frontMode !== t) {
                        var e = this.glFront[t];
                        this.gl.frontFace(e),
                        this.frontFace = e,
                        this.frontMode = t
                    }
                },
                getFrontMode: function() {
                    return this.frontMode
                },
                yr: function(t) {
                    this.cn = t
                },
                vn: function(t, e, i) {
                    if (this.vertexBuffers[e] !== t || this.vbOffsets[e] !== i) {
                        this.vertexBuffers[e] = t,
                        this.vbOffsets[e] = i;
                        for (var s, n = 0, r = t.getFormat().elements, a = r.length; n < a; ) {
                            var h = r[n++];
                            h.stream = e,
                            h.scopeId.setValue(h)
                        }
                        this.attributesInvalidated = !0
                    }
                },
                compileShaderSource: function(t, e) {
                    var i = this.gl
                      , s = e ? this.vertexShaderCache[t] : this.fragmentShaderCache[t];
                    return s || (s = i.createShader(e ? i.VERTEX_SHADER : i.FRAGMENT_SHADER),
                    i.shaderSource(s, t),
                    i.compileShader(s),
                    e ? this.vertexShaderCache[t] = s : this.fragmentShaderCache[t] = s),
                    s
                },
                compileAndLinkShader: function(t) {
                    var e = this.gl
                      , i = t.definition
                      , s = this.compileShaderSource(i.Mr, !0)
                      , n = this.compileShaderSource(i.Sr, !1)
                      , r = e.createProgram();
                    if (e.attachShader(r, s),
                    e.attachShader(r, n),
                    this.webgl2 && i.useTransformFeedback) {
                        var a = i.attributes
                          , h = [];
                        for (var c in a)
                            a.hasOwnProperty(c) && h.push("out_" + c);
                        e.transformFeedbackVaryings(r, h, e.INTERLEAVED_ATTRIBS)
                    }
                    e.linkProgram(r),
                    t._glVertexShader = s,
                    t._glFragmentShader = n,
                    t._glProgram = r
                },
                createShader: function(t) {
                    this.compileAndLinkShader(t),
                    this.shaders.push(t)
                },
                destroyShader: function(t) {
                    var e = this.shaders.indexOf(t);
                    -1 !== e && this.shaders.splice(e, 1),
                    t._glProgram && (this.gl.deleteProgram(t._glProgram),
                    t._glProgram = null,
                    this.removeShaderFromCache(t))
                },
                _addLineNumbers: function(t) {
                    for (var e = t.split("\n"), i = 0, s = e.length; i < s; i++)
                        e[i] = i + 1 + ":\t" + e[i];
                    return e.join("\n")
                },
                postLink: function(t) {
                    var e = this.gl, i = t._glVertexShader, s = t._glFragmentShader, r = t._glProgram, a = t.definition, h, c, o, u;
                    if (!e.getShaderParameter(i, e.COMPILE_STATUS))
                        return !1;
                    if (!e.getShaderParameter(s, e.COMPILE_STATUS))
                        return !1;
                    if (!e.getProgramParameter(r, e.LINK_STATUS))
                        return !1;
                    h = 0;
                    for (var f = e.getProgramParameter(r, e.ACTIVE_ATTRIBUTES); h < f; )
                        c = e.getActiveAttrib(r, h++),
                        o = e.getAttribLocation(r, c.name),
                        a.attributes[c.name],
                        u = new n.yn(this,a.attributes[c.name],this.pcUniformType[c.type],o),
                        t.attributes.push(u);
                    h = 0;
                    for (var d = e.getProgramParameter(r, e.ACTIVE_UNIFORMS); h < d; )
                        c = e.getActiveUniform(r, h++),
                        o = e.getUniformLocation(r, c.name),
                        u = new n.yn(this,c.name,this.pcUniformType[c.type],o),
                        c.type === e.SAMPLER_2D || c.type === e.SAMPLER_CUBE || this.webgl2 && (c.type === e.SAMPLER_2D_SHADOW || c.type === e.SAMPLER_CUBE_SHADOW || c.type === e.SAMPLER_3D) ? t.samplers.push(u) : t.uniforms.push(u);
                    return t.ready = !0,
                    !0
                },
                setShader: function(t) {
                    if (t !== this.shader) {
                        if (!t.ready && !this.postLink(t))
                            return !1;
                        this.shader = t,
                        this.gl.useProgram(t._glProgram),
                        this.attributesInvalidated = !0
                    }
                    return !0
                },
                getHdrFormat: function() {
                    return this.textureHalfFloatRenderable ? n.xi : this.textureFloatRenderable ? n.Ai : n.vi
                },
                getBoneLimit: function() {
                    return this.boneLimit
                },
                setBoneLimit: function(t) {
                    this.boneLimit = t
                },
                Cr: function(e, i) {
                    this._width = e,
                    this._height = i;
                    var s = Math.min(this._maxPixelRatio, window.devicePixelRatio);
                    e *= s,
                    i *= s,
                    this.canvas.width = e,
                    this.canvas.height = i,
                    this.fire(t, e, i)
                },
                setResolution: function(e, i) {
                    this._width = e,
                    this._height = i,
                    this.canvas.width = e,
                    this.canvas.height = i,
                    this.fire(t, e, i)
                },
                clearShaderCache: function() {
                    var t = this.gl, e;
                    for (e in this.fragmentShaderCache)
                        t.deleteShader(this.fragmentShaderCache[e]),
                        delete this.fragmentShaderCache[e];
                    for (e in this.vertexShaderCache)
                        t.deleteShader(this.vertexShaderCache[e]),
                        delete this.vertexShaderCache[e];
                    this.programLib.clearCache()
                },
                removeShaderFromCache: function(t) {
                    this.programLib.removeFromCache(t)
                },
                destroy: function() {
                    var t = this.gl;
                    this.grabPassTexture.destroy(),
                    this.webgl2 && this.feedback && t.deleteTransformFeedback(this.feedback),
                    this.clearShaderCache(),
                    this.canvas.removeEventListener("webglcontextlost", this._contextLostHandler, !1),
                    this.canvas.removeEventListener("webglcontextrestored", this._contextRestoredHandler, !1),
                    this._contextLostHandler = null,
                    this._contextRestoredHandler = null,
                    this.canvas = null,
                    this.gl = null
                }
            }),
            Object.defineProperty(r.prototype, "width", {
                get: function() {
                    return this.gl.drawingBufferWidth || this.canvas.width
                }
            }),
            Object.defineProperty(r.prototype, "height", {
                get: function() {
                    return this.gl.drawingBufferHeight || this.canvas.height
                }
            }),
            Object.defineProperty(r.prototype, "fullscreen", {
                get: function() {
                    return !!document.fullscreenElement
                },
                set: function(t) {
                    var e;
                    t ? this.gl.canvas.requestFullscreen() : document.exitFullscreen()
                }
            }),
            Object.defineProperty(r.prototype, "enableAutoInstancing", {
                get: function() {
                    return this._enableAutoInstancing
                },
                set: function(t) {
                    this._enableAutoInstancing = t && this.extInstancing
                }
            }),
            Object.defineProperty(r.prototype, "maxPixelRatio", {
                get: function() {
                    return this._maxPixelRatio
                },
                set: function(t) {
                    t != this._maxPixelRatio && (this._maxPixelRatio = t,
                    this.Cr(this._width, this._height))
                }
            }),
            Object.defineProperty(r.prototype, "textureFloatHighPrecision", {
                get: function() {
                    return void 0 === this._textureFloatHighPrecision && (this._textureFloatHighPrecision = s(this)),
                    this._textureFloatHighPrecision
                }
            }),
            {
                zn: r
            }
        }()),
        Object.assign(n, (vt = {},
        mt = {
            vertex_position: n.Yi,
            vertex_normal: n.Xi,
            vertex_tangent: n.Ki,
            vertex_texCoord0: n.SEMANTIC_TEXCOORD0,
            vertex_texCoord1: n.SEMANTIC_TEXCOORD1,
            vertex_texCoord2: n.SEMANTIC_TEXCOORD2,
            vertex_texCoord3: n.SEMANTIC_TEXCOORD3,
            vertex_texCoord4: n.SEMANTIC_TEXCOORD4,
            vertex_texCoord5: n.SEMANTIC_TEXCOORD5,
            vertex_texCoord6: n.SEMANTIC_TEXCOORD6,
            vertex_texCoord7: n.SEMANTIC_TEXCOORD7,
            vertex_color: n.qi,
            vertex_boneIndices: n.Ji,
            vertex_boneWeights: n.Qi
        },
        vt.collectAttribs = function(t) {
            for (var e = {}, i = 0, s = t.indexOf("attribute"); s >= 0 && !(s > 0 && "/" === t[s - 1]); ) {
                var n = t.indexOf(";", s)
                  , r = t.lastIndexOf(" ", n)
                  , a = t.substr(r + 1, n - (r + 1))
                  , h = mt[a];
                void 0 !== h ? e[a] = h : (e[a] = "ATTR" + i,
                i++),
                s = t.indexOf("attribute", s + 1)
            }
            return e
        }
        ,
        vt.createShader = function(t, e, i, s) {
            var r = vt[e]
              , a = n.In.Or(t) + "\n" + vt[i]
              , h = this.collectAttribs(r);
            return t.webgl2 && (r = n.In.Er(t) + this.gles3VS + r,
            a = n.In.Er(t) + this.gles3PS + a),
            new n.Mn(t,{
                attributes: h,
                Mr: r,
                Sr: a,
                useTransformFeedback: s
            })
        }
        ,
        vt.createShaderFromCode = function(t, e, i, s, r) {
            var a = t.programLib._cache
              , h = a[s];
            if (void 0 !== h)
                return h;
            i = n.In.Or(t) + "\n" + (i || n.In.Dr());
            var c = this.collectAttribs(e);
            return t.webgl2 && (e = n.In.Er(t) + this.gles3VS + e,
            i = n.In.Er(t) + this.gles3PS + i),
            a[s] = new n.Mn(t,{
                attributes: c,
                Mr: e,
                Sr: i,
                useTransformFeedback: r
            }),
            a[s]
        }
        ,
        {
            dn: vt
        })),
        Object.assign(n, function() {
            var t = null
              , e = {
                type: n.Gi,
                base: 0,
                count: 4,
                indexed: !1
            };
            function i(i, s, r, a, h, c) {
                if (null === t) {
                    var o = new n.an(i,[{
                        semantic: n.Yi,
                        components: 2,
                        type: n.He
                    }]);
                    t = new n.hn(i,o,4);
                    var u = new n.rn(t);
                    u.element[n.Yi].set(-1, -1),
                    u.next(),
                    u.element[n.Yi].set(1, -1),
                    u.next(),
                    u.element[n.Yi].set(-1, 1),
                    u.next(),
                    u.element[n.Yi].set(1, 1),
                    u.end()
                }
                var f = i.renderTarget, d, l, b, v, m, g, p, w;
                i.ln(s),
                i.bn(),
                a ? (d = a.x,
                l = a.y,
                b = a.z,
                v = a.w) : (b = s ? s.width : i.width,
                v = s ? s.height : i.height,
                d = 0,
                l = 0),
                h ? (m = h.x,
                g = h.y,
                p = h.z,
                w = h.w) : (m = d,
                g = l,
                p = b,
                w = v);
                var x = i.vx
                  , z = i.vy
                  , _ = i.vw
                  , A = i.vh;
                i.Xn(d, l, b, v);
                var y = i.sx
                  , M = i.sy
                  , S = i.sw
                  , C = i.sh;
                i.Kn(m, g, p, w);
                var O = i.qn()
                  , E = i.tr()
                  , D = i.getCullMode()
                  , T = i.writeRed
                  , P = i.writeGreen
                  , B = i.writeBlue
                  , I = i.writeAlpha;
                i.Zn(!1),
                i.er(!1),
                i.Ar(n.Be),
                i.ir(!0, !0, !0, !0),
                c || i.hr(!1),
                i.vn(t, 0),
                i.setShader(r),
                i.draw(e),
                i.Zn(O),
                i.er(E),
                i.Ar(D),
                i.ir(T, P, B, I),
                i.mn(),
                i.ln(f),
                i.bn(),
                i.Xn(x, z, _, A),
                i.Kn(y, M, S, C)
            }
            function s() {
                t && (t.destroy(),
                t = null)
            }
            return {
                Bn: i,
                Tr: s
            }
        }()),
        Object.assign(n, function() {
            function t(t, e, i) {
                var s = e._colorBuffer;
                if (s.format == n.vi) {
                    var r = new Uint8Array(s.width * s.height * 4)
                      , a = t.gl;
                    t.setFramebuffer(e._glFrameBuffer),
                    a.readPixels(0, 0, s.width, s.height, a.RGBA, a.UNSIGNED_BYTE, r),
                    s.pn || (s.pn = []),
                    s.pn[0] || (s.pn[0] = []),
                    s.pn[0][i] = r
                }
            }
            function e(e) {
                var i = e.device
                  , s = e.sourceCubemap
                  , r = e.method
                  , a = e.samples
                  , h = e.cpuSync;
                if (!h || s.pn[0]) {
                    var c = n.dn, o = s.rgbm, u = c.createShaderFromCode(i, c.fullscreenQuadVS, c.rgbmPS + c.Pr.replace(/\$METHOD/g, 0 === r ? "cos" : "phong").replace(/\$NUMSAMPLES/g, a).replace(/\$textureCube/g, o ? "textureCubeRGBM" : "textureCube"), "prefilter" + r + a + o), f = c.createShaderFromCode(i, c.fullscreenQuadVS, c.outputCubemapPS, "outputCubemap"), d = i.scope.resolve("source"), l = i.scope.resolve("params"), b = new n.wt, v = s.width, m = s.format, g = [[], e.filteredFixed, e.filteredRgbm, e.filteredFixedRgbm], p = 0 === r ? [.9, .85, .7, .4, .25] : [512, 128, 32, 8, 2], w = [64, 32, 16, 8, 4], x = 5, z, _, A, y, M = m === n.bi, S = !1, C, O;
                    if (h && (S = s.pn[0][0]instanceof HTMLImageElement),
                    (M || S) && h) {
                        for (m = n.vi,
                        (C = new n.xn(i,{
                            cubemap: !0,
                            rgbm: o,
                            format: m,
                            width: v,
                            height: v,
                            mipmaps: !1
                        })).name = "prefiltered-cube",
                        A = 0; A < 6; A++)
                            z = new n.An(i,C,{
                                face: A,
                                depth: !1
                            }),
                            b.x = A,
                            b.y = 0,
                            d.setValue(s),
                            l.setValue(b.data),
                            n.Bn(i, z, f),
                            t(i, z, A);
                        s = C
                    }
                    if (v > 128) {
                        var E = Math.round(Math.log2(128)), D, T = Math.round(Math.log2(v)) - E;
                        for (_ = 0; _ < T; _++) {
                            v = .5 * s.width;
                            var P = 0 === r ? 1 : Math.pow(2, Math.round(Math.log2(p[0]) + 2 * (T - _)));
                            for ((C = new n.xn(i,{
                                cubemap: !0,
                                rgbm: o,
                                format: m,
                                width: v,
                                height: v,
                                mipmaps: !1
                            })).name = "prefiltered-cube",
                            A = 0; A < 6; A++)
                                z = new n.An(i,C,{
                                    face: A,
                                    depth: !1
                                }),
                                b.x = A,
                                b.y = P,
                                b.z = v,
                                b.w = o ? 3 : 0,
                                d.setValue(s),
                                l.setValue(b.data),
                                n.Bn(i, z, f),
                                _ === T - 1 && h && t(i, z, A);
                            s = C
                        }
                    }
                    e.sourceCubemap = s;
                    var B = null;
                    if (!o && e.filteredFixedRgbm) {
                        for ((C = new n.xn(i,{
                            cubemap: !0,
                            rgbm: !0,
                            format: n.vi,
                            width: v,
                            height: v,
                            mipmaps: !1
                        })).name = "prefiltered-cube",
                        A = 0; A < 6; A++)
                            z = new n.An(i,C,{
                                face: A,
                                depth: !1
                            }),
                            b.x = A,
                            b.w = 2,
                            d.setValue(s),
                            l.setValue(b.data),
                            n.Bn(i, z, f),
                            t(i, z, A);
                        B = C
                    }
                    var I = 0 === r ? 1 : 2048, j = 0 === r ? 0 : -1, R;
                    for (g[j] = [],
                    _ = 0; _ < 5; _++)
                        for (y = j; y < g.length; y++)
                            null != g[y] && (g[y][_] = new n.xn(i,{
                                cubemap: !0,
                                rgbm: !(y < 2) || o,
                                format: y < 2 ? m : n.vi,
                                fixCubemapSeams: 1 === y || 3 === y,
                                width: w[_],
                                height: w[_],
                                mipmaps: !1
                            }),
                            g[y][_].name = "prefiltered-cube");
                    for (y = j; y < g.length; y++)
                        if (null != g[y]) {
                            if (y > 1 && o) {
                                g[y] = g[y - 2];
                                continue
                            }
                            for (_ = 0; _ < 5; _++)
                                for (A = 0; A < 6; A++)
                                    z = new n.An(i,g[y][_],{
                                        face: A,
                                        depth: !1
                                    }),
                                    b.x = A,
                                    b.y = y < 0 ? I : p[_],
                                    b.z = w[_],
                                    b.w = o ? 3 : y,
                                    d.setValue(0 === _ ? s : 0 === r ? g[0][_ - 1] : g[-1][_ - 1]),
                                    l.setValue(b.data),
                                    n.Bn(i, z, u),
                                    h && t(i, z, A)
                        }
                    if (e.filtered = g[0],
                    h && e.singleFilteredFixed) {
                        for (R = [s, e.filteredFixed[0], e.filteredFixed[1], e.filteredFixed[2], e.filteredFixed[3], e.filteredFixed[4], e.filteredFixed[5]],
                        (O = new n.xn(i,{
                            cubemap: !0,
                            rgbm: o,
                            fixCubemapSeams: !0,
                            format: m,
                            width: 128,
                            height: 128,
                            addressU: n.Zt,
                            addressV: n.Zt
                        })).name = "prefiltered-cube",
                        _ = 0; _ < 6; _++)
                            O.pn[_] = R[_].pn[0];
                        O.upload(),
                        O._prefilteredMips = !0,
                        e.singleFilteredFixed = O
                    }
                    if (h && e.singleFilteredFixedRgbm && e.filteredFixedRgbm) {
                        for (R = [B, e.filteredFixedRgbm[0], e.filteredFixedRgbm[1], e.filteredFixedRgbm[2], e.filteredFixedRgbm[3], e.filteredFixedRgbm[4], e.filteredFixedRgbm[5]],
                        (O = new n.xn(i,{
                            cubemap: !0,
                            rgbm: !0,
                            fixCubemapSeams: !0,
                            format: n.vi,
                            width: 128,
                            height: 128,
                            addressU: n.Zt,
                            addressV: n.Zt
                        })).name = "prefiltered-cube",
                        _ = 0; _ < 6; _++)
                            O.pn[_] = R[_].pn[0];
                        O.upload(),
                        O._prefilteredMips = !0,
                        e.singleFilteredFixedRgbm = O
                    }
                }
            }
            function i(t, e) {
                return Math.atan2(t * e, Math.sqrt(t * t + e * e + 1))
            }
            function s(t, e, s) {
                var n = 2 * (t + .5) / s - 1
                  , r = 2 * (e + .5) / s - 1
                  , a = 1 / s
                  , h = (n *= 1 - 1 / s) - a
                  , c = (r *= 1 - 1 / s) - a
                  , o = n + a
                  , u = r + a
                  , f = i(h, c) - i(h, u) - i(o, c) + i(o, u);
                return 0 === t && 0 === e || t === s - 1 && 0 === e || 0 === t && e === s - 1 || t === s - 1 && e === s - 1 ? f /= 3 : 0 !== t && 0 !== e && t !== s - 1 && e !== s - 1 || (f *= .5),
                f
            }
            function r(t, e) {
                var i, r = t.width, a, h;
                if (t.format == n.vi && t.pn[0]) {
                    if (!t.pn[0][0].length) {
                        if (!(t.pn[0][0]instanceof HTMLImageElement))
                            return;
                        var c = n.Ir.getApplication().Br
                          , o = c.gl
                          , u = n.dn
                          , f = u.createShaderFromCode(c, u.fullscreenQuadVS, u.fullscreenQuadPS, "fsQuadSimple")
                          , d = c.scope.resolve("source");
                        for (i = 0; i < 6; i++) {
                            var l = t.pn[0][i]
                              , b = new n.xn(c,{
                                cubemap: !1,
                                rgbm: !1,
                                format: t.format,
                                width: r,
                                height: r,
                                mipmaps: !1
                            });
                            b.name = "prefiltered-cube",
                            b.pn[0] = l,
                            b.upload();
                            var v = new n.xn(c,{
                                cubemap: !1,
                                rgbm: !1,
                                format: t.format,
                                width: r,
                                height: r,
                                mipmaps: !1
                            });
                            v.name = "prefiltered-cube";
                            var m = new n.An(c,v,{
                                depth: !1
                            });
                            d.setValue(b),
                            n.Bn(c, m, f);
                            var g = new Uint8Array(r * r * 4);
                            o.bindFramebuffer(o.FRAMEBUFFER, m._glFrameBuffer),
                            o.readPixels(0, 0, b.width, b.height, o.RGBA, o.UNSIGNED_BYTE, g),
                            t.pn[0][i] = g
                        }
                    }
                    var p = [];
                    for (h = 0; h < r; h++)
                        for (a = 0; a < r; a++) {
                            var w = a / (r - 1) * 2 - 1
                              , x = h / (r - 1) * 2 - 1;
                            p[h * r + a] = new n.ut(w,x,1).normalize()
                        }
                    var z = new Float32Array(27), _ = 0, A = 3, y = 6, M = 9, S = 12, C = 15, O = 18, E = 21, D = 24, T = 0, P = 1, B = 2, I = 3, j = 4, R = 5, L, N, F, k, U, V, H, G, W, Y, X, K, Q, J, q = 0;
                    for (i = 0; i < 6; i++)
                        for (h = 0; h < r; h++)
                            for (a = 0; a < r; a++)
                                for (L = h * r + a,
                                Y = 4 * (U = s(a, h, r)) / 17,
                                X = 8 * U / 17,
                                K = 15 * U / 17,
                                Q = 5 * U / 68,
                                J = 15 * U / 68,
                                V = p[L],
                                0 == i ? (H = V.z,
                                G = -V.y,
                                W = -V.x) : 1 == i ? (H = -V.z,
                                G = -V.y,
                                W = V.x) : 2 == i ? (H = V.x,
                                G = V.z,
                                W = V.y) : 3 == i ? (H = V.x,
                                G = -V.z,
                                W = -V.y) : 4 == i ? (H = V.x,
                                G = -V.y,
                                W = V.z) : 5 == i && (H = -V.x,
                                G = -V.y,
                                W = -V.z),
                                e || (H = -H),
                                F = t.pn[0][i][4 * L + 3] / 255,
                                N = 0; N < 3; N++)
                                    k = t.pn[0][i][4 * L + N] / 255,
                                    t.rgbm ? (k *= 8 * F,
                                    k *= k) : k = Math.pow(k, 2.2),
                                    z[0 + N] += k * Y,
                                    z[3 + N] += k * X * H,
                                    z[6 + N] += k * X * G,
                                    z[9 + N] += k * X * W,
                                    z[12 + N] += k * K * H * W,
                                    z[15 + N] += k * K * W * G,
                                    z[18 + N] += k * K * G * H,
                                    z[21 + N] += k * Q * (3 * W * W - 1),
                                    z[24 + N] += k * J * (H * H - G * G),
                                    q += U;
                    for (N = 0; N < z.length; N++)
                        z[N] *= 4 * Math.PI / q;
                    return z
                }
            }
            return {
                jr: e,
                Rr: r
            }
        }()),
        Object.assign(n, function() {
            var t = 2;
            function e(e, i, s, r) {
                var a = n.dn
                  , h = a.createShaderFromCode(e, a.fullscreenQuadVS, (i.fixCubemapSeams ? a.fixCubemapSeamsStretchPS : a.fixCubemapSeamsNonePS) + a.genParaboloidPS, "genParaboloid")
                  , c = e.scope.resolve("source")
                  , o = e.scope.resolve("params")
                  , u = new n.wt
                  , f = i.width
                  , d = i.rgbm
                  , l = i.format;
                f = Math.max(f, 8) * t;
                var b = new n.xn(e,{
                    rgbm: d,
                    format: l,
                    width: 2 * f,
                    height: f,
                    mipmaps: !1
                });
                b.name = "paraboloid";
                var v = new n.An(e,b,{
                    depth: !1
                });
                return u.x = s,
                u.y = r ? -1 : 1,
                c.setValue(i),
                o.setValue(u.data),
                n.Bn(e, v, h),
                b
            }
            function i(t, e) {
                t.x = .5 * n.I.clamp(e - 2, 0, 1);
                var i = e - 6 * t.x
                  , s = 1 - t.x;
                return t.y = Math.min(.5 * i, .75) * s + t.x,
                t.z = (1 - .5 * n.I.clamp(i, 0, 1)) * s,
                t.w = .5 * t.z,
                1 / t.z
            }
            function s(e, s, r) {
                var a, h;
                h = new n.wt;
                var c = new n.wt
                  , o = 2 * s[0].width * t
                  , u = n.dn
                  , f = u.createShaderFromCode(e, u.fullscreenQuadVS, u.dpAtlasQuadPS, "dpAtlasQuad")
                  , d = e.scope.resolve("source")
                  , l = e.scope.resolve("params")
                  , b = new n.xn(e,{
                    rgbm: s[0].rgbm,
                    format: s[0].format,
                    width: o,
                    height: o,
                    mipmaps: !1
                });
                b.name = "paraboloid";
                for (var v = new n.An(e,b,{
                    depth: !1
                }), m = 2, g = o, p = (o + 2) / o - 1, w, x = 0; x < 6; x++)
                    a = n.Lr(e, s[x], x, r),
                    d.setValue(a),
                    w = i(h, x),
                    c.x = w * p,
                    c.y = 2 * c.x,
                    c.x += 1,
                    c.y += 1,
                    l.setValue(c.data),
                    h.x *= o,
                    h.y *= o,
                    h.z *= o,
                    h.w *= o,
                    n.Bn(e, v, f, h);
                return b
            }
            return {
                Lr: e,
                Nr: s
            }
        }()),
        n.dn.TBNPS = "void getTBN() {\n    dTBN = mat3(normalize(dTangentW), normalize(dBinormalW), normalize(dVertexNormalW));\n}\n",
        n.dn.TBNderivativePS = "// http://www.thetenthplanet.de/archives/1180\nvoid getTBN() {\n    vec2 uv = $UV;\n    // get edge vectors of the pixel triangle\n    vec3 dp1 = dFdx( vPositionW );\n    vec3 dp2 = dFdy( vPositionW );\n    vec2 duv1 = dFdx( uv );\n    vec2 duv2 = dFdy( uv );\n    // solve the linear system\n    vec3 dp2perp = cross( dp2, dVertexNormalW );\n    vec3 dp1perp = cross( dVertexNormalW, dp1 );\n    vec3 T = dp2perp * duv1.x + dp1perp * duv2.x;\n    vec3 B = dp2perp * duv1.y + dp1perp * duv2.y;\n    // construct a scale-invariant frame\n    float invmax = 1.0 / sqrt( max( dot(T,T), dot(B,B) ) );\n    dTBN = mat3( T * invmax, B * invmax, dVertexNormalW );\n}\n",
        n.dn.TBNfastPS = "void getTBN() {\n    dTBN = mat3(dTangentW, dBinormalW, dVertexNormalW);\n}\n",
        n.dn.alphaTestPS = "uniform float alpha_ref;\nvoid alphaTest(float a) {\n    if (a < alpha_ref) discard;\n}\n",
        n.dn.ambientConstantPS = "\nvoid addAmbient() {\n    dDiffuseLight += light_globalAmbient;\n}\n",
        n.dn.ambientPrefilteredCubePS = "#ifndef PMREM4\n#define PMREM4\nuniform samplerCube texture_prefilteredCubeMap4;\n#endif\nvoid addAmbient() {\n    vec3 fixedReflDir = fixSeamsStatic(dNormalW, 1.0 - 1.0 / 4.0);\n    fixedReflDir.x *= -1.0;\n    dDiffuseLight += processEnvironment($DECODE(textureCube(texture_prefilteredCubeMap4, fixedReflDir)).rgb);\n}\n",
        n.dn.ambientPrefilteredCubeLodPS = "#ifndef PMREM4\n#define PMREM4\n#extension GL_EXT_shader_texture_lod : enable\nuniform samplerCube texture_prefilteredCubeMap128;\n#endif\nvoid addAmbient() {\n    vec3 fixedReflDir = fixSeamsStatic(dNormalW, 1.0 - 1.0 / 4.0);\n    fixedReflDir.x *= -1.0;\n    dDiffuseLight += processEnvironment($DECODE( textureCubeLodEXT(texture_prefilteredCubeMap128, fixedReflDir, 5.0) ).rgb);\n}\n",
        n.dn.ambientSHPS = "uniform vec3 ambientSH[9];\nvoid addAmbient() {\n    vec3 n = dNormalW;\n    vec3 color =\n                        ambientSH[0] +\n                        ambientSH[1] * n.x +\n                        ambientSH[2] * n.y +\n                        ambientSH[3] * n.z +\n                        ambientSH[4] * n.x * n.z +\n                        ambientSH[5] * n.z * n.y +\n                        ambientSH[6] * n.y * n.x +\n                        ambientSH[7] * (3.0 * n.z * n.z - 1.0) +\n                        ambientSH[8] * (n.x * n.x - n.y * n.y);\n    dDiffuseLight += processEnvironment(max(color, vec3(0.0)));\n}\n",
        n.dn.aoPS = "#ifdef MAPTEXTURE\nuniform sampler2D texture_aoMap;\n#endif\nvoid applyAO() {\n    dAo = 1.0;\n    #ifdef MAPTEXTURE\n        dAo *= texture2D(texture_aoMap, $UV).$CH;\n    #endif\n    #ifdef MAPVERTEX\n        dAo *= saturate(vVertexColor.$VC);\n    #endif\n    dDiffuseLight *= dAo;\n}\n",
        n.dn.aoSpecOccPS = "uniform float material_occludeSpecularIntensity;\nvoid occludeSpecular() {\n    // approximated specular occlusion from AO\n    float specPow = exp2(dGlossiness * 11.0);\n    // http://research.tri-ace.com/Data/cedec2011_RealtimePBR_Implementation_e.pptx\n    float specOcc = saturate(pow(dot(dNormalW, dViewDirW) + dAo, 0.01*specPow) - 1.0 + dAo);\n    specOcc = mix(1.0, specOcc, material_occludeSpecularIntensity);\n    dSpecularLight *= specOcc;\n    dReflection *= specOcc;\n}\n",
        n.dn.aoSpecOccConstPS = "void occludeSpecular() {\n    // approximated specular occlusion from AO\n    float specPow = exp2(dGlossiness * 11.0);\n    // http://research.tri-ace.com/Data/cedec2011_RealtimePBR_Implementation_e.pptx\n    float specOcc = saturate(pow(dot(dNormalW, dViewDirW) + dAo, 0.01*specPow) - 1.0 + dAo);\n    dSpecularLight *= specOcc;\n    dReflection *= specOcc;\n}\n",
        n.dn.aoSpecOccConstSimplePS = "void occludeSpecular() {\n    float specOcc = dAo;\n    dSpecularLight *= specOcc;\n    dReflection *= specOcc;\n}\n",
        n.dn.aoSpecOccSimplePS = "uniform float material_occludeSpecularIntensity;\nvoid occludeSpecular() {\n    float specOcc = mix(1.0, dAo, material_occludeSpecularIntensity);\n    dSpecularLight *= specOcc;\n    dReflection *= specOcc;\n}\n",
        n.dn.bakeDirLmEndPS = "\n    vec4 dirLm = texture2D(texture_dirLightMap, vUv1);\n    if (bakeDir > 0.5) {\n        if (dAtten > 0.00001) {\n            dirLm.xyz = dirLm.xyz * 2.0 - vec3(1.0);\n            dAtten = saturate(dAtten);\n            gl_FragColor.rgb = normalize(dLightDirNormW.xyz*dAtten + dirLm.xyz*dirLm.w) * 0.5 + vec3(0.5);\n            gl_FragColor.a = dirLm.w + dAtten;\n            gl_FragColor.a = max(gl_FragColor.a, 1.0 / 255.0);\n        } else {\n            gl_FragColor = dirLm;\n        }\n    } else {\n        gl_FragColor.rgb = dirLm.xyz;\n        gl_FragColor.a = max(dirLm.w, dAtten > 0.00001? (1.0/255.0) : 0.0);\n    }\n",
        n.dn.bakeLmEndPS = "\ngl_FragColor.rgb = dDiffuseLight;\ngl_FragColor.rgb = pow(gl_FragColor.rgb, vec3(0.5));\ngl_FragColor.rgb /= 8.0;\ngl_FragColor.a = clamp( max( max( gl_FragColor.r, gl_FragColor.g ), max( gl_FragColor.b, 1.0 / 255.0 ) ), 0.0,1.0 );\ngl_FragColor.a = ceil(gl_FragColor.a * 255.0) / 255.0;\ngl_FragColor.rgb /= gl_FragColor.a;\n",
        n.dn.basePS = "\nuniform vec3 view_position;\nuniform vec3 light_globalAmbient;\nfloat square(float x) {\n    return x*x;\n}\nfloat saturate(float x) {\n    return clamp(x, 0.0, 1.0);\n}\nvec3 saturate(vec3 x) {\n    return clamp(x, vec3(0.0), vec3(1.0));\n}\n",
        n.dn.baseVS = "\nattribute vec3 vertex_position;\nattribute vec3 vertex_normal;\nattribute vec4 vertex_tangent;\nattribute vec2 vertex_texCoord0;\nattribute vec2 vertex_texCoord1;\nattribute vec4 vertex_color;\nuniform mat4 matrix_viewProjection;\nuniform mat4 matrix_model;\nuniform mat3 matrix_normal;\nvec3 dPositionW;\nmat4 dModelMatrix;\nmat3 dNormalMatrix;\nvec3 dLightPosW;\nvec3 dLightDirNormW;\nvec3 dNormalW;\n",
        n.dn.baseNineSlicedPS = "#define NINESLICED\nvarying vec2 vMask;\nvarying vec2 vTiledUv;\nuniform mediump vec4 innerOffset;\nuniform mediump vec2 outerScale;\nuniform mediump vec4 atlasRect;\nvec2 nineSlicedUv;\n",
        n.dn.baseNineSlicedVS = "#define NINESLICED\nvarying vec2 vMask;\nvarying vec2 vTiledUv;\nuniform mediump vec4 innerOffset;\nuniform mediump vec2 outerScale;\nuniform mediump vec4 atlasRect;\n",
        n.dn.baseNineSlicedTiledPS = "#define NINESLICED\n#define NINESLICETILED\nvarying vec2 vMask;\nvarying vec2 vTiledUv;\nuniform mediump vec4 innerOffset;\nuniform mediump vec2 outerScale;\nuniform mediump vec4 atlasRect;\nvec2 nineSlicedUv;\n",
        n.dn.biasConstPS = "#define SHADOWBIAS\nfloat getShadowBias(float resolution, float maxBias) {\n    return maxBias;\n}\n",
        n.dn.blurVSMPS = "\nvarying vec2 vUv0;\nuniform sampler2D source;\nuniform vec2 pixelOffset;\n#ifdef GAUSS\nuniform float weight[SAMPLES];\n#endif\n#ifdef PACKED\nfloat decodeFloatRG(vec2 rg) {\n    return rg.y*(1.0/255.0) + rg.x;\n}\nvec2 encodeFloatRG( float v ) {\n  vec2 enc = vec2(1.0, 255.0) * v;\n  enc = fract(enc);\n  enc -= enc.yy * vec2(1.0/255.0, 1.0/255.0);\n  return enc;\n}\n#endif\nvoid main(void) {\n    vec3 moments = vec3(0.0);\n    vec2 uv = vUv0 - pixelOffset * (float(SAMPLES) * 0.5);\n    for(int i=0; i<SAMPLES; i++) {\n        vec4 c = texture2D(source, uv + pixelOffset * float(i));\n        #ifdef PACKED\n        c.xy = vec2(decodeFloatRG(c.xy), decodeFloatRG(c.zw));\n        #endif\n        #ifdef GAUSS\n        moments += c.xyz * weight[i];\n        #else\n        moments += c.xyz;\n        #endif\n    }\n    #ifndef GAUSS\n    moments /= float(SAMPLES);\n    #endif\n    #ifdef PACKED\n    gl_FragColor = vec4(encodeFloatRG(moments.x), encodeFloatRG(moments.y));\n    #else\n    gl_FragColor = vec4(moments.x, moments.y, moments.z, 1.0);\n    #endif\n}\n",
        n.dn.combineDiffusePS = "vec3 combineColor() {\n    return dAlbedo * dDiffuseLight;\n}\n",
        n.dn.combineDiffuseSpecularPS = "vec3 combineColor() {\n    return mix(dAlbedo * dDiffuseLight, dSpecularLight + dReflection.rgb * dReflection.a, dSpecularity);\n}\n",
        n.dn.combineDiffuseSpecularNoConservePS = "vec3 combineColor() {\n    return dAlbedo * dDiffuseLight + (dSpecularLight + dReflection.rgb * dReflection.a) * dSpecularity;\n}\n",
        n.dn.combineDiffuseSpecularNoReflPS = "vec3 combineColor() {\n    return dAlbedo * dDiffuseLight + dSpecularLight * dSpecularity;\n}\n",
        n.dn.combineDiffuseSpecularNoReflSeparateAmbientPS = "uniform vec3 material_ambient;\nvec3 combineColor() {\n    return (dDiffuseLight - light_globalAmbient) * dAlbedo + dSpecularLight * dSpecularity + material_ambient * light_globalAmbient;\n}\n",
        n.dn.combineDiffuseSpecularOldPS = "vec3 combineColor() {\n    return mix(dAlbedo * dDiffuseLight + dSpecularLight * dSpecularity, dReflection.rgb, dReflection.a);\n}\n",
        n.dn.cookiePS = "vec4 getCookie2D(sampler2D tex, mat4 transform, float intensity) {\n    vec4 projPos = transform * vec4(vPositionW, 1.0);\n    projPos.xy /= projPos.w;\n    return mix(vec4(1.0), texture2D(tex, projPos.xy), intensity);\n}\nvec4 getCookie2DClip(sampler2D tex, mat4 transform, float intensity) {\n    vec4 projPos = transform * vec4(vPositionW, 1.0);\n    projPos.xy /= projPos.w;\n    if (projPos.x < 0.0 || projPos.x > 1.0 || projPos.y < 0.0 || projPos.y > 1.0 || projPos.z < 0.0) return vec4(0.0);\n    return mix(vec4(1.0), texture2D(tex, projPos.xy), intensity);\n}\nvec4 getCookie2DXform(sampler2D tex, mat4 transform, float intensity, vec4 cookieMatrix, vec2 cookieOffset) {\n    vec4 projPos = transform * vec4(vPositionW, 1.0);\n    projPos.xy /= projPos.w;\n    projPos.xy += cookieOffset;\n    vec2 uv = mat2(cookieMatrix) * (projPos.xy-vec2(0.5)) + vec2(0.5);\n    return mix(vec4(1.0), texture2D(tex, uv), intensity);\n}\nvec4 getCookie2DClipXform(sampler2D tex, mat4 transform, float intensity, vec4 cookieMatrix, vec2 cookieOffset) {\n    vec4 projPos = transform * vec4(vPositionW, 1.0);\n    projPos.xy /= projPos.w;\n    projPos.xy += cookieOffset;\n    if (projPos.x < 0.0 || projPos.x > 1.0 || projPos.y < 0.0 || projPos.y > 1.0 || projPos.z < 0.0) return vec4(0.0);\n    vec2 uv = mat2(cookieMatrix) * (projPos.xy-vec2(0.5)) + vec2(0.5);\n    return mix(vec4(1.0), texture2D(tex, uv), intensity);\n}\nvec4 getCookieCube(samplerCube tex, mat4 transform, float intensity) {\n    return mix(vec4(1.0), textureCube(tex, dLightDirNormW * mat3(transform)), intensity);\n}\n",
        n.dn.cubeMapProjectBoxPS = "uniform vec3 envBoxMin, envBoxMax;\nvec3 cubeMapProject(vec3 nrdir) {\n    vec3 rbmax = (envBoxMax - vPositionW) / nrdir;\n    vec3 rbmin = (envBoxMin - vPositionW) / nrdir;\n    vec3 rbminmax;\n    rbminmax.x = nrdir.x>0.0? rbmax.x : rbmin.x;\n    rbminmax.y = nrdir.y>0.0? rbmax.y : rbmin.y;\n    rbminmax.z = nrdir.z>0.0? rbmax.z : rbmin.z;\n    float fa = min(min(rbminmax.x, rbminmax.y), rbminmax.z);\n    vec3 posonbox = vPositionW + nrdir * fa;\n    vec3 envBoxPos = (envBoxMin + envBoxMax) * 0.5;\n    return posonbox - envBoxPos;\n}\n",
        n.dn.cubeMapProjectNonePS = "vec3 cubeMapProject(vec3 dir) {\n    return dir;\n}\n",
        n.dn.diffusePS = "#ifdef MAPCOLOR\nuniform vec3 material_diffuse;\n#endif\n#ifdef MAPTEXTURE\nuniform sampler2D texture_diffuseMap;\n#endif\nvoid getAlbedo() {\n    dAlbedo = vec3(1.0);\n    #ifdef MAPCOLOR\n        dAlbedo *= material_diffuse.rgb;\n    #endif\n    #ifdef MAPTEXTURE\n        dAlbedo *= texture2DSRGB(texture_diffuseMap, $UV).$CH;\n    #endif\n    #ifdef MAPVERTEX\n        dAlbedo *= gammaCorrectInput(saturate(vVertexColor.$VC));\n    #endif\n}\n",
        n.dn.dilatePS = "varying vec2 vUv0;\nuniform sampler2D source;\nuniform vec2 pixelOffset;\nvoid main(void) {\n    vec4 c = texture2D(source, vUv0);\n    c = c.a>0.0? c : texture2D(source, vUv0 - pixelOffset);\n    c = c.a>0.0? c : texture2D(source, vUv0 + vec2(0, -pixelOffset.y));\n    c = c.a>0.0? c : texture2D(source, vUv0 + vec2(pixelOffset.x, -pixelOffset.y));\n    c = c.a>0.0? c : texture2D(source, vUv0 + vec2(-pixelOffset.x, 0));\n    c = c.a>0.0? c : texture2D(source, vUv0 + vec2(pixelOffset.x, 0));\n    c = c.a>0.0? c : texture2D(source, vUv0 + vec2(-pixelOffset.x, pixelOffset.y));\n    c = c.a>0.0? c : texture2D(source, vUv0 + vec2(0, pixelOffset.y));\n    c = c.a>0.0? c : texture2D(source, vUv0 + pixelOffset);\n    gl_FragColor = c;\n}\n",
        n.dn.dpAtlasQuadPS = "varying vec2 vUv0;\nuniform sampler2D source;\nuniform vec4 params;\nvoid main(void) {\n    vec2 uv = vUv0;\n    uv = uv * 2.0 - vec2(1.0);\n    uv *= params.xy;\n    uv = uv * 0.5 + 0.5;\n    gl_FragColor = texture2D(source, uv);\n}\n",
        n.dn.emissivePS = "#ifdef MAPCOLOR\nuniform vec3 material_emissive;\n#endif\n#ifdef MAPFLOAT\nuniform float material_emissiveIntensity;\n#endif\n#ifdef MAPTEXTURE\nuniform sampler2D texture_emissiveMap;\n#endif\nvec3 getEmission() {\n    vec3 emission = vec3(1.0);\n    #ifdef MAPFLOAT\n        emission *= material_emissiveIntensity;\n    #endif\n    #ifdef MAPCOLOR\n        emission *= material_emissive;\n    #endif\n    #ifdef MAPTEXTURE\n        emission *= $texture2DSAMPLE(texture_emissiveMap, $UV).$CH;\n    #endif\n    #ifdef MAPVERTEX\n        emission *= gammaCorrectInput(saturate(vVertexColor.$VC));\n    #endif\n    return emission;\n}\n",
        n.dn.endPS = "   gl_FragColor.rgb = combineColor();\n   gl_FragColor.rgb += getEmission();\n   gl_FragColor.rgb = addFog(gl_FragColor.rgb);\n   #ifndef HDR\n    gl_FragColor.rgb = toneMap(gl_FragColor.rgb);\n    gl_FragColor.rgb = gammaCorrectOutput(gl_FragColor.rgb);\n   #endif\n",
        n.dn.envConstPS = "vec3 processEnvironment(vec3 color) {\n    return color;\n}\n",
        n.dn.envMultiplyPS = "uniform float skyboxIntensity;\nvec3 processEnvironment(vec3 color) {\n    return color * skyboxIntensity;\n}\n",
        n.dn.extensionPS = "",
        n.dn.extensionVS = "\n",
        n.dn.falloffInvSquaredPS = "float getFalloffInvSquared(float lightRadius) {\n    float sqrDist = dot(dLightDirW, dLightDirW);\n    float falloff = 1.0 / (sqrDist + 1.0);\n    float invRadius = 1.0 / lightRadius;\n    falloff *= 16.0;\n    falloff *= square( saturate( 1.0 - square( sqrDist * square(invRadius) ) ) );\n    return falloff;\n}\n",
        n.dn.falloffLinearPS = "float getFalloffLinear(float lightRadius) {\n    float d = length(dLightDirW);\n    return max(((lightRadius - d) / lightRadius), 0.0);\n}\n",
        n.dn.fixCubemapSeamsNonePS = "vec3 fixSeams(vec3 vec, float mipmapIndex) {\n    return vec;\n}\nvec3 fixSeams(vec3 vec) {\n    return vec;\n}\nvec3 fixSeamsStatic(vec3 vec, float invRecMipSize) {\n    return vec;\n}\n",
        n.dn.fixCubemapSeamsStretchPS = "vec3 fixSeams(vec3 vec, float mipmapIndex) {\n    float scale = 1.0 - exp2(mipmapIndex) / 128.0;\n    float M = max(max(abs(vec.x), abs(vec.y)), abs(vec.z));\n    if (abs(vec.x) != M) vec.x *= scale;\n    if (abs(vec.y) != M) vec.y *= scale;\n    if (abs(vec.z) != M) vec.z *= scale;\n    return vec;\n}\nvec3 fixSeams(vec3 vec) {\n    float scale = 1.0 - 1.0 / 128.0;\n    float M = max(max(abs(vec.x), abs(vec.y)), abs(vec.z));\n    if (abs(vec.x) != M) vec.x *= scale;\n    if (abs(vec.y) != M) vec.y *= scale;\n    if (abs(vec.z) != M) vec.z *= scale;\n    return vec;\n}\nvec3 fixSeamsStatic(vec3 vec, float invRecMipSize) {\n    float scale = invRecMipSize;\n    float M = max(max(abs(vec.x), abs(vec.y)), abs(vec.z));\n    if (abs(vec.x) != M) vec.x *= scale;\n    if (abs(vec.y) != M) vec.y *= scale;\n    if (abs(vec.z) != M) vec.z *= scale;\n    return vec;\n}\n",
        n.dn.fogExpPS = "uniform vec3 fog_color;\nuniform float fog_density;\nvec3 addFog(vec3 color) {\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = exp(-depth * fog_density);\n    fogFactor = clamp(fogFactor, 0.0, 1.0);\n    return mix(fog_color, color, fogFactor);\n}\n",
        n.dn.fogExp2PS = "uniform vec3 fog_color;\nuniform float fog_density;\nvec3 addFog(vec3 color) {\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = exp(-depth * depth * fog_density * fog_density);\n    fogFactor = clamp(fogFactor, 0.0, 1.0);\n    return mix(fog_color, color, fogFactor);\n}\n",
        n.dn.fogLinearPS = "uniform vec3 fog_color;\nuniform float fog_start;\nuniform float fog_end;\nvec3 addFog(vec3 color) {\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = (fog_end - depth) / (fog_end - fog_start);\n    fogFactor = clamp(fogFactor, 0.0, 1.0);\n    fogFactor = gammaCorrectInput(fogFactor);\n    return mix(fog_color, color, fogFactor);\n}\n",
        n.dn.fogNonePS = "vec3 addFog(vec3 color) {\n    return color;\n}\n",
        n.dn.fresnelSchlickPS = "// Schlick's approximation\nuniform float material_fresnelFactor; // unused\nvoid getFresnel() {\n    float fresnel = 1.0 - max(dot(dNormalW, dViewDirW), 0.0);\n    float fresnel2 = fresnel * fresnel;\n    fresnel *= fresnel2 * fresnel2;\n    fresnel *= dGlossiness * dGlossiness;\n    dSpecularity = dSpecularity + (1.0 - dSpecularity) * fresnel;\n}\n",
        n.dn.fullscreenQuadPS = "varying vec2 vUv0;\nuniform sampler2D source;\nvoid main(void) {\n    gl_FragColor = texture2D(source, vUv0);\n}\n",
        n.dn.fullscreenQuadVS = "attribute vec2 vertex_position;\nvarying vec2 vUv0;\nvoid main(void)\n{\n    gl_Position = vec4(vertex_position, 0.5, 1.0);\n    vUv0 = vertex_position.xy*0.5+0.5;\n}\n",
        n.dn.gamma1_0PS = "vec4 texture2DSRGB(sampler2D tex, vec2 uv) {\n    return texture2D(tex, uv);\n}\nvec4 texture2DSRGB(sampler2D tex, vec2 uv, float bias) {\n    return texture2D(tex, uv, bias);\n}\nvec4 textureCubeSRGB(samplerCube tex, vec3 uvw) {\n    return textureCube(tex, uvw);\n}\nvec3 gammaCorrectOutput(vec3 color) {\n    return color;\n}\nvec3 gammaCorrectInput(vec3 color) {\n    return color;\n}\nfloat gammaCorrectInput(float color) {\n    return color;\n}\nvec4 gammaCorrectInput(vec4 color) {\n    return color;\n}\n",
        n.dn.gamma2_2PS = "vec3 gammaCorrectInput(vec3 color) {\n    return pow(color, vec3(2.2));\n}\nfloat gammaCorrectInput(float color) {\n    return pow(color, 2.2);\n}\nvec4 gammaCorrectInput(vec4 color) {\n    return vec4(pow(color.rgb, vec3(2.2)), color.a);\n}\nvec4 texture2DSRGB(sampler2D tex, vec2 uv) {\n    vec4 rgba = texture2D(tex, uv);\n    rgba.rgb = gammaCorrectInput(rgba.rgb);\n    return rgba;\n}\nvec4 texture2DSRGB(sampler2D tex, vec2 uv, float bias) {\n    vec4 rgba = texture2D(tex, uv, bias);\n    rgba.rgb = gammaCorrectInput(rgba.rgb);\n    return rgba;\n}\nvec4 textureCubeSRGB(samplerCube tex, vec3 uvw) {\n    vec4 rgba = textureCube(tex, uvw);\n    rgba.rgb = gammaCorrectInput(rgba.rgb);\n    return rgba;\n}\nvec3 gammaCorrectOutput(vec3 color) {\n#ifdef HDR\n    return color;\n#else\n    color += vec3(0.0000001);\n    return pow(color, vec3(0.45));\n#endif\n}\n",
        n.dn.genParaboloidPS = "varying vec2 vUv0;\nuniform samplerCube source;\nuniform vec4 params; // x = mip\nvoid main(void) {\n    vec2 uv = vUv0;\n    float side = uv.x < 0.5? 1.0 : -1.0;\n    vec2 tc;\n    tc.x = fract(uv.x * 2.0) * 2.0 - 1.0;\n    tc.y = uv.y * 2.0 - 1.0;\n    // scale projection a bit to have a little overlap for filtering\n    const float scale = 1.1;\n    tc *= scale;\n    vec3 dir;\n    dir.y = (dot(tc, tc) - 1.0) * side; // from 1.0 center to 0.0 borders quadratically\n    dir.xz = tc * -2.0;\n    dir.x *= -side * params.y; // flip original cubemap x instead of doing it at runtime\n    dir = fixSeams(dir, params.x);\n    vec4 color = textureCube(source, dir, -100.0);\n    gl_FragColor = color;\n}\n",
        n.dn.gles3PS = "#define varying in\nout highp vec4 pc_fragColor;\n#define gl_FragColor pc_fragColor\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad\n#define GL2\n",
        n.dn.gles3VS = "#define attribute in\n#define varying out\n#define texture2D texture\n#define GL2\n#define VERTEXSHADER\n",
        n.dn.glossPS = "#ifdef MAPFLOAT\nuniform float material_shininess;\n#endif\n#ifdef MAPTEXTURE\nuniform sampler2D texture_glossMap;\n#endif\nvoid getGlossiness() {\n    dGlossiness = 1.0;\n    #ifdef MAPFLOAT\n        dGlossiness *= material_shininess;\n    #endif\n    #ifdef MAPTEXTURE\n        dGlossiness *= texture2D(texture_glossMap, $UV).$CH;\n    #endif\n    #ifdef MAPVERTEX\n        dGlossiness *= saturate(vVertexColor.$VC);\n    #endif\n    dGlossiness += 0.0000001;\n}\n",
        n.dn.instancingVS = "\nattribute vec4 instance_line1;\nattribute vec4 instance_line2;\nattribute vec4 instance_line3;\nattribute vec4 instance_line4;\n",
        n.dn.lightDiffuseLambertPS = "float getLightDiffuse() {\n    return max(dot(dNormalW, -dLightDirNormW), 0.0);\n}\n",
        n.dn.lightDirPointPS = "void getLightDirPoint(vec3 lightPosW) {\n    dLightDirW = vPositionW - lightPosW;\n    dLightDirNormW = normalize(dLightDirW);\n    dLightPosW = lightPosW;\n}\n",
        n.dn.lightSpecularBlinnPS = "// Energy-conserving (hopefully) Blinn-Phong\nfloat getLightSpecular() {\n    vec3 h = normalize( -dLightDirNormW + dViewDirW );\n    float nh = max( dot( h, dNormalW ), 0.0 );\n    float specPow = exp2(dGlossiness * 11.0); // glossiness is linear, power is not; 0 - 2048\n    specPow = antiAliasGlossiness(specPow);\n    // Hack: On Mac OS X, calling pow with zero for the exponent generates hideous artifacts so bias up a little\n    specPow = max(specPow, 0.0001);\n    return pow(nh, specPow) * (specPow + 2.0) / 8.0;\n}\n",
        n.dn.lightSpecularPhongPS = "float getLightSpecular() {\n    float specPow = dGlossiness;\n    specPow = antiAliasGlossiness(specPow);\n    // Hack: On Mac OS X, calling pow with zero for the exponent generates hideous artifacts so bias up a little\n    return pow(max(dot(dReflDirW, -dLightDirNormW), 0.0), specPow + 0.0001);\n}\n",
        n.dn.lightmapDirPS = "uniform sampler2D texture_lightMap;\nuniform sampler2D texture_dirLightMap;\nvoid addLightMap() {\n    vec3 color = $texture2DSAMPLE(texture_lightMap, $UV).$CH;\n    vec4 dir = texture2D(texture_dirLightMap, $UV);\n    if (dot(dir.xyz,vec3(1.0)) < 0.00001) {\n        dDiffuseLight += color;\n        return;\n    }\n    dLightDirNormW = normalize(dir.xyz * 2.0 - vec3(1.0));\n    float vlight = saturate(dot(dLightDirNormW, -dVertexNormalW));\n    float flight = saturate(dot(dLightDirNormW, -dNormalW));\n    float nlight = (flight / max(vlight,0.01)) * 0.5;\n    dDiffuseLight += color * nlight * 2.0;\n}\nvoid addDirLightMap() {\n    vec4 dir = texture2D(texture_dirLightMap, $UV);\n    if (dot(dir.xyz,vec3(1.0)) < 0.00001) return;\n    vec3 color = $texture2DSAMPLE(texture_lightMap, $UV).$CH;\n    dLightDirNormW = normalize(dir.xyz * 2.0 - vec3(1.0));\n    dSpecularLight += vec3(getLightSpecular()) * color;\n}\n",
        n.dn.lightmapSinglePS = "#ifdef MAPTEXTURE\nuniform sampler2D texture_lightMap;\n#endif\nvoid addLightMap() {\n    vec3 lm = vec3(1.0);\n    #ifdef MAPTEXTURE\n        lm *= $texture2DSAMPLE(texture_lightMap, $UV).$CH;\n    #endif\n    #ifdef MAPVERTEX\n        lm *= saturate(vVertexColor.$VC);\n    #endif\n    \n    dDiffuseLight += lm;\n}\n",
        n.dn.lightmapSingleVertPS = "void addLightMap() {\n    dDiffuseLight += saturate(vVertexColor.$CH);\n}\n",
        n.dn.metalnessPS = "void processMetalness(float metalness) {\n    const float dielectricF0 = 0.04;\n    dSpecularity = mix(vec3(dielectricF0), dAlbedo, metalness);\n    dAlbedo *= 1.0 - metalness;\n}\n#ifdef MAPFLOAT\nuniform float material_metalness;\n#endif\n#ifdef MAPTEXTURE\nuniform sampler2D texture_metalnessMap;\n#endif\nvoid getSpecularity() {\n    float metalness = 1.0;\n    #ifdef MAPFLOAT\n        metalness *= material_metalness;\n    #endif\n    #ifdef MAPTEXTURE\n        metalness *= texture2D(texture_metalnessMap, $UV).$CH;\n    #endif\n    #ifdef MAPVERTEX\n        metalness *= saturate(vVertexColor.$VC);\n    #endif\n    processMetalness(metalness);\n}\n",
        n.dn.msdfPS = "uniform sampler2D texture_msdfMap;\n#ifdef GL_OES_standard_derivatives\n#define USE_FWIDTH\n#endif\n#ifdef GL2\n#define USE_FWIDTH\n#endif\nfloat median(float r, float g, float b) {\n    return max(min(r, g), min(max(r, g), b));\n}\nfloat map (float min, float max, float v) {\n    return (v - min) / (max - min);\n}\n// msdf way\n// vec4 applyMsdf(vec4 color) {\n//     vec3 tsample = texture(texture_msdfMap, vUv0).rgb;\n   \n//     // separate\n//     vec2 msdfUnit = 4.0 / vec2(512.0, 256.0);\n//     float sigDist = median(tsample.r, tsample.g, tsample.b) - 0.5;\n//     sigDist *= dot(msdfUnit, 0.5/fwidth(vUv0));\n//     float distance = clamp(sigDist + 0.5, 0.0, 1.0);\n//     return mix(vec4(0.0), color, distance);\n// }\nuniform float font_sdfIntensity; // intensity is used to boost the value read from the SDF, 0 is no boost, 1.0 is max boost\nuniform float font_pxrange;      // the number of pixels between inside and outside the font in SDF\nuniform float font_textureWidth; // the width of the texture atlas\nvec4 applyMsdf(vec4 color) {\n    float font_size = 16.0; // TODO fix this\n    // sample the field\n    vec3 tsample = texture2D(texture_msdfMap, vUv0).rgb;\n    // get the signed distance value\n    float sigDist = median(tsample.r, tsample.g, tsample.b);\n    #ifdef USE_FWIDTH\n        // smoothing depends on size of texture on screen\n        vec2 w = fwidth(vUv0);\n        float smoothing = clamp(map(0.0, 2.0 * font_pxrange / font_textureWidth, w.x), 0.0, 0.5);\n    #else\n        // smoothing gets smaller as the font size gets bigger\n        // don't have fwidth we can approximate from font size, this doesn't account for scaling\n        // so a big font scaled down will be wrong...\n        float smoothing = clamp(2.0 * font_pxrange / font_size, 0.0, 0.5);\n        // for small fonts we remap the distance field to intensify it\n        // float mapMin = 0.05;\n        // float mapMax = clamp(((font_size * 0.4 / 40.0) + 0.52), mapMin, 1.0);\n    #endif\n    float mapMin = 0.05;\n    float mapMax = clamp(1.0 - font_sdfIntensity, mapMin, 1.0);\n    \n    // remap to a smaller range (used on smaller font sizes)\n    sigDist = map(mapMin, mapMax, sigDist);\n    float center = 0.5;\n    // calculate smoothing and use to generate opacity\n    // float smoothing = clamp(font_smoothing * (1.0-roy), 0.0, center);\n    float opacity = smoothstep(center-smoothing, center+smoothing, sigDist);\n    // return final color\n    return mix(vec4(0.0), color, opacity);\n}",
        n.dn.normalVS = "vec3 getNormal() {\n    #ifdef SKIN\n        dNormalMatrix = mat3(dModelMatrix[0].xyz, dModelMatrix[1].xyz, dModelMatrix[2].xyz);\n    #elif defined(INSTANCING)\n        dNormalMatrix = mat3(instance_line1.xyz, instance_line2.xyz, instance_line3.xyz);\n    #else\n        dNormalMatrix = matrix_normal;\n    #endif\n    return normalize(dNormalMatrix * vertex_normal);\n}\n",
        n.dn.normalInstancedVS = "vec3 getNormal() {\n    dNormalMatrix = mat3(instance_line1.xyz, instance_line2.xyz, instance_line3.xyz);\n    return normalize(dNormalMatrix * vertex_normal);\n}\n",
        n.dn.normalMapPS = "uniform sampler2D texture_normalMap;\nuniform float material_bumpiness;\nvoid getNormal() {\n    vec3 normalMap = unpackNormal(texture2D(texture_normalMap, $UV));\n    dNormalMap = normalMap;\n    dNormalW = dTBN * normalMap;\n}\n",
        n.dn.normalMapFloatPS = "uniform sampler2D texture_normalMap;\nuniform float material_bumpiness;\nvoid getNormal() {\n    vec3 normalMap = unpackNormal(texture2D(texture_normalMap, $UV));\n    dNormalMap = normalMap;\n    normalMap = normalize(mix(vec3(0.0, 0.0, 1.0), normalMap, material_bumpiness));\n    dNormalW = dTBN * normalMap;\n}\n",
        n.dn.normalMapFloatTBNfastPS = "uniform sampler2D texture_normalMap;\nuniform float material_bumpiness;\nvoid getNormal() {\n    vec3 normalMap = unpackNormal(texture2D(texture_normalMap, $UV));\n    dNormalMap = normalMap;\n    normalMap = mix(vec3(0.0, 0.0, 1.0), normalMap, material_bumpiness);\n    dNormalW = normalize(dTBN * normalMap);\n}\n",
        n.dn.normalSkinnedVS = "vec3 getNormal() {\n    dNormalMatrix = mat3(dModelMatrix[0].xyz, dModelMatrix[1].xyz, dModelMatrix[2].xyz);\n    return normalize(dNormalMatrix * vertex_normal);\n}\n",
        n.dn.normalVertexPS = "void getNormal() {\n    dNormalW = normalize(dVertexNormalW);\n}\n",
        n.dn.normalXYPS = "vec3 unpackNormal(vec4 nmap) {\n    vec3 normal;\n    normal.xy = nmap.wy * 2.0 - 1.0;\n    normal.z = sqrt(1.0 - saturate(dot(normal.xy, normal.xy)));\n    return normal;\n}\n",
        n.dn.normalXYZPS = "vec3 unpackNormal(vec4 nmap) {\n    return nmap.xyz * 2.0 - 1.0;\n}\n",
        n.dn.opacityPS = "#ifdef MAPFLOAT\nuniform float material_opacity;\n#endif\n#ifdef MAPTEXTURE\nuniform sampler2D texture_opacityMap;\n#endif\nvoid getOpacity() {\n    dAlpha = 1.0;\n    #ifdef MAPFLOAT\n        dAlpha *= material_opacity;\n    #endif\n    #ifdef MAPTEXTURE\n        dAlpha *= texture2D(texture_opacityMap, $UV).$CH;\n    #endif\n    #ifdef MAPVERTEX\n        dAlpha *= saturate(vVertexColor.$VC);\n    #endif\n}\n",
        n.dn.outputAlphaPS = "gl_FragColor.a = dAlpha;\n",
        n.dn.outputAlphaOpaquePS = "gl_FragColor.a = 1.0;\n",
        n.dn.outputAlphaPremulPS = "gl_FragColor.rgb *= dAlpha;\ngl_FragColor.a = dAlpha;\n",
        n.dn.outputCubemapPS = "varying vec2 vUv0;\nuniform samplerCube source;\nuniform vec4 params;\nfloat saturate(float x) {\n    return clamp(x, 0.0, 1.0);\n}\nvec4 encodeRGBM(vec4 color) { // modified RGBM\n    color.rgb = pow(color.rgb, vec3(0.5));\n    color.rgb *= 1.0 / 8.0;\n    color.a = saturate( max( max( color.r, color.g ), max( color.b, 1.0 / 255.0 ) ) );\n    color.a = ceil(color.a * 255.0) / 255.0;\n    color.rgb /= color.a;\n    return color;\n}\nvoid main(void) {\n    vec2 st = vUv0 * 2.0 - 1.0;\n    float face = params.x;\n    vec3 vec;\n    if (face==0.0) {\n        vec = vec3(1, -st.y, -st.x);\n    } else if (face==1.0) {\n        vec = vec3(-1, -st.y, st.x);\n    } else if (face==2.0) {\n        vec = vec3(st.x, 1, st.y);\n    } else if (face==3.0) {\n        vec = vec3(st.x, -1, -st.y);\n    } else if (face==4.0) {\n        vec = vec3(st.x, -st.y, 1);\n    } else {\n        vec = vec3(-st.x, -st.y, -1);\n    }\n    gl_FragColor = textureCube(source, vec);\n    if (params.w >= 2.0) gl_FragColor = encodeRGBM(gl_FragColor);\n}\n",
        n.dn.outputTex2DPS = "varying vec2 vUv0;\nuniform sampler2D source;\nvoid main(void) {\n    gl_FragColor = texture2D(source, vUv0);\n}\n",
        n.dn.packDepthPS = "// Packing a float in GLSL with multiplication and mod\n// http://blog.gradientstudios.com/2012/08/23/shadow-map-improvement\nvec4 packFloat(float depth) {\n    const vec4 bit_shift = vec4(256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0);\n    const vec4 bit_mask  = vec4(0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0);\n    // combination of mod and multiplication and division works better\n    vec4 res = mod(depth * bit_shift * vec4(255), vec4(256) ) / vec4(255);\n    res -= res.xxyz * bit_mask;\n    return res;\n}\n",
        n.dn.packDepthMaskPS = "vec4 packFloat(float depth) {\n    const vec4 bit_shift = vec4(256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0);\n    const vec4 bit_mask  = vec4(0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0);\n    // combination of mod and multiplication and division works better\n    vec4 res = mod(depth * bit_shift * vec4(255), vec4(256) ) / vec4(255);\n    res.x = 0.0;\n    res -= res.xxyz * bit_mask;\n    return res;\n}\n",
        n.dn.parallaxPS = "uniform sampler2D texture_heightMap;\nuniform float material_heightMapFactor;\nvoid getParallax() {\n    float parallaxScale = material_heightMapFactor;\n    float height = texture2D(texture_heightMap, $UV).$CH;\n    height = height * parallaxScale - parallaxScale*0.5;\n    vec3 viewDirT = dViewDirW * dTBN;\n    viewDirT.z += 0.42;\n    dUvOffset = height * (viewDirT.xy / viewDirT.z);\n}\n",
        n.dn.particlePS = "varying vec4 texCoordsAlphaLife;\nuniform sampler2D colorMap;\nuniform sampler2D internalTex3;\nuniform float graphSampleSize;\nuniform float graphNumSamples;\n#ifndef CAMERAPLANES\n#define CAMERAPLANES\nuniform vec4 camera_params;\n#endif\nuniform float softening;\nuniform float colorMult;\nfloat saturate(float x) {\n    return clamp(x, 0.0, 1.0);\n}\n#ifndef UNPACKFLOAT\n#define UNPACKFLOAT\nfloat unpackFloat(vec4 rgbaDepth) {\n    const vec4 bitShift = vec4(1.0 / (256.0 * 256.0 * 256.0), 1.0 / (256.0 * 256.0), 1.0 / 256.0, 1.0);\n    float depth = dot(rgbaDepth, bitShift);\n    return depth;\n}\n#endif\nvoid main(void) {\n    vec4 tex         = texture2DSRGB(colorMap, texCoordsAlphaLife.xy);\n    vec4 ramp     = texture2DSRGB(internalTex3, vec2(texCoordsAlphaLife.w, 0.0));\n    ramp.rgb *= colorMult;\n    ramp.a += texCoordsAlphaLife.z;\n    vec3 rgb =     tex.rgb * ramp.rgb;\n    float a =         tex.a * ramp.a;\n",
        n.dn.particleVS = "\nvec3 unpack3NFloats(float src) {\n    float r = fract(src);\n    float g = fract(src * 256.0);\n    float b = fract(src * 65536.0);\n    return vec3(r, g, b);\n}\nfloat saturate(float x) {\n    return clamp(x, 0.0, 1.0);\n}\nvec4 tex1Dlod_lerp(sampler2D tex, vec2 tc) {\n    return mix( texture2D(tex,tc), texture2D(tex,tc + graphSampleSize), fract(tc.x*graphNumSamples) );\n}\nvec4 tex1Dlod_lerp(sampler2D tex, vec2 tc, out vec3 w) {\n    vec4 a = texture2D(tex,tc);\n    vec4 b = texture2D(tex,tc + graphSampleSize);\n    float c = fract(tc.x*graphNumSamples);\n    vec3 unpackedA = unpack3NFloats(a.w);\n    vec3 unpackedB = unpack3NFloats(b.w);\n    w = mix(unpackedA, unpackedB, c);\n    return mix(a, b, c);\n}\nvec2 rotate(vec2 quadXY, float pRotation, out mat2 rotMatrix) {\n    float c = cos(pRotation);\n    float s = sin(pRotation);\n    mat2 m = mat2(c, -s, s, c);\n    rotMatrix = m;\n    return m * quadXY;\n}\nvec3 billboard(vec3 InstanceCoords, vec2 quadXY) {\n    vec3 pos = -matrix_viewInverse[0].xyz * quadXY.x + -matrix_viewInverse[1].xyz * quadXY.y;\n    return pos;\n}\nvoid main(void) {\n    vec3 meshLocalPos = particle_vertexData.xyz;\n    float id = floor(particle_vertexData.w);\n    float rndFactor = fract(sin(id + 1.0 + seed));\n    vec3 rndFactor3 = vec3(rndFactor, fract(rndFactor*10.0), fract(rndFactor*100.0));\n    float uv = id / numParticlesPot;\n    readInput(uv);\n    vec2 velocityV = normalize((mat3(matrix_view) * inVel).xy); // should be removed by compiler if align/stretch is not used\n    float particleLifetime = lifetime;\n    if (inLife <= 0.0 || inLife > particleLifetime || !inShow) meshLocalPos = vec3(0.0);\n    vec2 quadXY = meshLocalPos.xy;\n    float nlife = clamp(inLife / particleLifetime, 0.0, 1.0);\n    vec3 paramDiv;\n    vec4 params = tex1Dlod_lerp(internalTex2, vec2(nlife, 0), paramDiv);\n    float scale = params.y;\n    float scaleDiv = paramDiv.x;\n    float alphaDiv = paramDiv.z;\n    scale += (scaleDiv * 2.0 - 1.0) * scaleDivMult * fract(rndFactor*10000.0);\n    texCoordsAlphaLife = vec4(quadXY * -0.5 + 0.5,    (alphaDiv * 2.0 - 1.0) * alphaDivMult * fract(rndFactor*1000.0),    nlife);\n    vec3 particlePos = inPos;\n    vec3 particlePosMoved = vec3(0.0);\n    mat2 rotMatrix;\n",
        n.dn.particleAnimFrameClampVS = "\n    float animFrame = min(floor(texCoordsAlphaLife.w * animTexParams.z), animTexParams.w);\n",
        n.dn.particleAnimFrameLoopVS = "\n    float animFrame = floor(texCoordsAlphaLife.w * animTexParams.z);\n",
        n.dn.particleAnimTexVS = "\n    float atlasX = animFrame * animTexParams.x;\n    float atlasY = floor(atlasX) * animTexParams.y;\n    atlasX = fract(atlasX);\n    texCoordsAlphaLife.xy *= animTexParams.xy;\n    texCoordsAlphaLife.xy += vec2(atlasX, atlasY);\n    texCoordsAlphaLife.y = 1.0 - texCoordsAlphaLife.y;\n",
        n.dn.particleInputFloatPS = "void readInput(float uv) {\n    vec4 tex = texture2D(particleTexIN, vec2(uv, 0.25));\n    vec4 tex2 = texture2D(particleTexIN, vec2(uv, 0.75));\n    inPos = tex.xyz;\n    inVel = tex2.xyz;\n    inAngle = (tex.w < 0.0? -tex.w : tex.w) - 1000.0;\n    inShow = tex.w >= 0.0;\n    inLife = tex2.w;\n}\n",
        n.dn.particleInputRgba8PS = "//RG=X, BA=Y\n//RG=Z, BA=A\n//RGB=V, A=visMode\n//RGBA=life\n#define PI2 6.283185307179586\nuniform vec3 inBoundsSize;\nuniform vec3 inBoundsCenter;\nuniform float maxVel;\nfloat decodeFloatRG(vec2 rg) {\n    return rg.y*(1.0/255.0) + rg.x;\n}\nfloat decodeFloatRGBA( vec4 rgba ) {\n  return dot( rgba, vec4(1.0, 1.0/255.0, 1.0/65025.0, 1.0/160581375.0) );\n}\nvoid readInput(float uv) {\n    vec4 tex0 = texture2D(particleTexIN, vec2(uv, 0.125));\n    vec4 tex1 = texture2D(particleTexIN, vec2(uv, 0.375));\n    vec4 tex2 = texture2D(particleTexIN, vec2(uv, 0.625));\n    vec4 tex3 = texture2D(particleTexIN, vec2(uv, 0.875));\n    inPos = vec3(decodeFloatRG(tex0.rg), decodeFloatRG(tex0.ba), decodeFloatRG(tex1.rg));\n    inPos = (inPos - vec3(0.5)) * inBoundsSize + inBoundsCenter;\n    inVel = tex2.xyz;\n    inVel = (inVel - vec3(0.5)) * maxVel;\n    inAngle = decodeFloatRG(tex1.ba) * PI2;\n    inShow = tex2.a > 0.5;\n    inLife = decodeFloatRGBA(tex3);\n    float maxNegLife = max(lifetime, (numParticles - 1.0) * (rate+rateDiv));\n    float maxPosLife = lifetime+1.0;\n    inLife = inLife * (maxNegLife + maxPosLife) - maxNegLife;\n}\n",
        n.dn.particleOutputFloatPS = "void writeOutput() {\n    if (gl_FragCoord.y<1.0) {\n        gl_FragColor = vec4(outPos, (outAngle + 1000.0) * visMode);\n    } else {\n        gl_FragColor = vec4(outVel, outLife);\n    }\n}\n",
        n.dn.particleOutputRgba8PS = "uniform vec3 outBoundsMul;\nuniform vec3 outBoundsAdd;\nvec2 encodeFloatRG( float v ) {\n  vec2 enc = vec2(1.0, 255.0) * v;\n  enc = fract(enc);\n  enc -= enc.yy * vec2(1.0/255.0, 1.0/255.0);\n  return enc;\n}\nvec4 encodeFloatRGBA( float v ) {\n  vec4 enc = vec4(1.0, 255.0, 65025.0, 160581375.0) * v;\n  enc = fract(enc);\n  enc -= enc.yzww * vec4(1.0/255.0,1.0/255.0,1.0/255.0,0.0);\n  return enc;\n}\nvoid writeOutput() {\n    //outPos = (outPos - outBoundsCenter) / outBoundsSize + vec3(0.5);\n    outPos = outPos * outBoundsMul + outBoundsAdd;\n    outAngle = fract(outAngle / PI2);\n    outVel = (outVel / maxVel) + vec3(0.5); // TODO: mul\n    float maxNegLife = max(lifetime, (numParticles - 1.0) * (rate+rateDiv));\n    float maxPosLife = lifetime+1.0;\n    outLife = (outLife + maxNegLife) / (maxNegLife + maxPosLife);\n    if (gl_FragCoord.y < 1.0) {\n        gl_FragColor = vec4(encodeFloatRG(outPos.x), encodeFloatRG(outPos.y));\n    } else if (gl_FragCoord.y < 2.0) {\n        gl_FragColor = vec4(encodeFloatRG(outPos.z), encodeFloatRG(outAngle));\n    } else if (gl_FragCoord.y < 3.0) {\n        gl_FragColor = vec4(outVel, visMode*0.5+0.5);\n    } else {\n        gl_FragColor = encodeFloatRGBA(outLife);\n    }\n}\n",
        n.dn.particleUpdaterAABBPS = "uniform mat3 spawnBounds;\nvec3 calcSpawnPosition(vec3 inBounds, float rndFactor) {\n    return emitterPos + spawnBounds * (inBounds - vec3(0.5));\n}\nvoid addInitialVelocity(inout vec3 localVelocity, vec3 inBounds) {\n    localVelocity -= vec3(0, 0, initialVelocity);\n}\n",
        n.dn.particleUpdaterEndPS = "\n    writeOutput();\n}\n",
        n.dn.particleUpdaterInitPS = "varying vec2 vUv0;\nuniform sampler2D particleTexIN;\nuniform sampler2D internalTex0;\nuniform sampler2D internalTex1;\nuniform sampler2D internalTex2;\nuniform mat3 emitterMatrix;\nuniform vec3 emitterScale;\nuniform vec3 emitterPos, frameRandom, localVelocityDivMult, velocityDivMult;\nuniform float delta, rate, rateDiv, lifetime, numParticles, rotSpeedDivMult, seed;\nuniform float startAngle, startAngle2;\nuniform float initialVelocity;\nuniform float graphSampleSize;\nuniform float graphNumSamples;\nvec3 inPos;\nvec3 inVel;\nfloat inAngle;\nbool inShow;\nfloat inLife;\nfloat visMode;\nvec3 outPos;\nvec3 outVel;\nfloat outAngle;\nbool outShow;\nfloat outLife;\n",
        n.dn.particleUpdaterNoRespawnPS = "    if (outLife >= lifetime) {\n        outLife -= max(lifetime, (numParticles - 1.0) * particleRate);\n        visMode = -1.0;\n    }\n",
        n.dn.particleUpdaterOnStopPS = "    visMode = outLife < 0.0? -1.0: visMode;\n",
        n.dn.particleUpdaterRespawnPS = "    if (outLife >= lifetime) {\n        outLife -= max(lifetime, (numParticles - 1.0) * particleRate);\n        visMode = 1.0;\n    }\n    visMode = outLife < 0.0? 1.0: visMode;\n",
        n.dn.particleUpdaterSpherePS = "uniform float spawnBoundsSphere;\nvec3 calcSpawnPosition(vec3 inBounds, float rndFactor) {\n    float rnd4 = fract(rndFactor * 1000.0);\n    return emitterPos + normalize(inBounds.xyz - vec3(0.5)) * rnd4 * spawnBoundsSphere;\n}\nvoid addInitialVelocity(inout vec3 localVelocity, vec3 inBounds) {\n    localVelocity += normalize(inBounds - vec3(0.5)) * initialVelocity;\n}\n",
        n.dn.particleUpdaterStartPS = "float saturate(float x) {\n    return clamp(x, 0.0, 1.0);\n}\nvec3 unpack3NFloats(float src) {\n    float r = fract(src);\n    float g = fract(src * 256.0);\n    float b = fract(src * 65536.0);\n    return vec3(r, g, b);\n}\nvec3 tex1Dlod_lerp(sampler2D tex, vec2 tc, out vec3 w) {\n    vec4 a = texture2D(tex, tc);\n    vec4 b = texture2D(tex, tc + graphSampleSize);\n    float c = fract(tc.x * graphNumSamples);\n    vec3 unpackedA = unpack3NFloats(a.w);\n    vec3 unpackedB = unpack3NFloats(b.w);\n    w = mix(unpackedA, unpackedB, c);\n    return mix(a.xyz, b.xyz, c);\n}\n#define HASHSCALE4 vec4(1031, .1030, .0973, .1099)\nvec4 hash41(float p) {\n    vec4 p4 = fract(vec4(p) * HASHSCALE4);\n    p4 += dot(p4, p4.wzxy+19.19);\n    return fract(vec4((p4.x + p4.y)*p4.z, (p4.x + p4.z)*p4.y, (p4.y + p4.z)*p4.w, (p4.z + p4.w)*p4.x));\n}\nvoid main(void)\n{\n    if (gl_FragCoord.x > numParticles) discard;\n    readInput(vUv0.x);\n    visMode = inShow? 1.0 : -1.0;\n    vec4 rndFactor = hash41(gl_FragCoord.x + seed);\n    float particleRate = rate + rateDiv * rndFactor.x;\n    outLife = inLife + delta;\n    float nlife = clamp(outLife / lifetime, 0.0, 1.0);\n    vec3 localVelocityDiv;\n    vec3 velocityDiv;\n    vec3 paramDiv;\n    vec3 localVelocity = tex1Dlod_lerp(internalTex0, vec2(nlife, 0), localVelocityDiv);\n    vec3 velocity =      tex1Dlod_lerp(internalTex1, vec2(nlife, 0), velocityDiv);\n    vec3 params =        tex1Dlod_lerp(internalTex2, vec2(nlife, 0), paramDiv);\n    float rotSpeed = params.x;\n    float rotSpeedDiv = paramDiv.y;\n    localVelocity +=    (localVelocityDiv * vec3(2.0) - vec3(1.0)) * localVelocityDivMult * rndFactor.xyz;\n    velocity +=         (velocityDiv * vec3(2.0) - vec3(1.0)) * velocityDivMult * rndFactor.xyz;\n    rotSpeed +=         (rotSpeedDiv * 2.0 - 1.0) * rotSpeedDivMult * rndFactor.y;\n    addInitialVelocity(localVelocity, rndFactor.xyz);\n    outVel = emitterMatrix * localVelocity.xyz + velocity.xyz * emitterScale;\n    outPos = inPos + outVel * delta;\n    outAngle = inAngle + rotSpeed * delta;\n    bool respawn = outLife <= 0.0 || outLife >= lifetime;\n    outPos = respawn? calcSpawnPosition(rndFactor.xyz, rndFactor.x) : outPos;\n    outAngle = respawn? mix(startAngle, startAngle2, rndFactor.x) : outAngle;\n    outVel = respawn? vec3(0.0) : outVel;\n",
        n.dn.particle_TBNVS = "\n    mat3 rot3 = mat3(rotMatrix[0][0], rotMatrix[0][1], 0.0,        rotMatrix[1][0], rotMatrix[1][1], 0.0,        0.0, 0.0, 1.0);\n    ParticleMat = mat3(-matrix_viewInverse[0].xyz, -matrix_viewInverse[1].xyz, matrix_viewInverse[2].xyz) * rot3;\n",
        n.dn.particle_billboardVS = "\n    quadXY = rotate(quadXY, inAngle, rotMatrix);\n    vec3 localPos = billboard(particlePos, quadXY);\n",
        n.dn.particle_blendAddPS = "\n    rgb *= saturate(gammaCorrectInput(a));\n    if ((rgb.r + rgb.g + rgb.b) < 0.000001) discard;\n",
        n.dn.particle_blendMultiplyPS = "\n    rgb = mix(vec3(1.0), rgb, vec3(a));\n    if (rgb.r + rgb.g + rgb.b > 2.99) discard;\n",
        n.dn.particle_blendNormalPS = "\n    if (a < 0.01) discard;\n",
        n.dn.particle_cpuVS = "attribute vec4 particle_vertexData;     // XYZ = world pos, W = life\nattribute vec4 particle_vertexData2;     // X = angle, Y = scale, Z = alpha, W = velocity.x\nattribute vec4 particle_vertexData3;     // XYZ = particle local pos, W = velocity.y\nattribute vec2 particle_vertexData4;     // X = velocity.z, W = particle ID\nuniform mat4 matrix_viewProjection;\nuniform mat4 matrix_model;\n#ifndef VIEWMATRIX\n#define VIEWMATRIX\nuniform mat4 matrix_view;\n#endif\nuniform mat3 matrix_normal;\nuniform mat4 matrix_viewInverse;\nuniform float numParticles;\nuniform float lifetime;\nuniform float stretch;\n//uniform float graphSampleSize;\n//uniform float graphNumSamples;\nuniform vec3 wrapBounds, emitterScale;\nuniform sampler2D texLifeAndSourcePosOUT;\nuniform sampler2D internalTex0;\nuniform sampler2D internalTex1;\nuniform sampler2D internalTex2;\nuniform vec3 emitterPos;\nvarying vec4 texCoordsAlphaLife;\nvec2 rotate(vec2 quadXY, float pRotation, out mat2 rotMatrix)\n{\n    float c = cos(pRotation);\n    float s = sin(pRotation);\n    //vec4 rotationMatrix = vec4(c, -s, s, c);\n    mat2 m = mat2(c, -s, s, c);\n    rotMatrix = m;\n    return m * quadXY;\n}\nvec3 billboard(vec3 InstanceCoords, vec2 quadXY)\n{\n    vec3 pos = -matrix_viewInverse[0].xyz * quadXY.x + -matrix_viewInverse[1].xyz * quadXY.y;\n    return pos;\n}\nvoid main(void)\n{\n    vec3 particlePos = particle_vertexData.xyz;\n    vec3 inPos = particlePos;\n    vec3 vertPos = particle_vertexData3.xyz;\n    vec3 inVel = vec3(particle_vertexData2.w, particle_vertexData3.w, particle_vertexData4.x);\n    vec2 velocityV = normalize((mat3(matrix_view) * inVel).xy); // should be removed by compiler if align/stretch is not used\n    vec2 quadXY = vertPos.xy;\n    texCoordsAlphaLife = vec4(quadXY * -0.5 + 0.5, particle_vertexData2.z, particle_vertexData.w);\n    mat2 rotMatrix;\n    float inAngle = particle_vertexData2.x;\n    vec3 particlePosMoved = vec3(0.0);\n    vec3 meshLocalPos = particle_vertexData3.xyz;\n",
        n.dn.particle_cpu_endVS = "\n    localPos *= particle_vertexData2.y * emitterScale;\n    localPos += particlePos;\n    gl_Position = matrix_viewProjection * vec4(localPos, 1.0);\n",
        n.dn.particle_endPS = "    rgb = addFog(rgb);\n    rgb = toneMap(rgb);\n    rgb = gammaCorrectOutput(rgb);\n    gl_FragColor = vec4(rgb, a);\n}\n",
        n.dn.particle_endVS = "\n    localPos *= scale * emitterScale;\n    localPos += particlePos;\n    gl_Position = matrix_viewProjection * vec4(localPos.xyz, 1.0);\n",
        n.dn.particle_halflambertPS = "\n    vec3 negNormal = normal*0.5+0.5;\n    vec3 posNormal = -normal*0.5+0.5;\n    negNormal *= negNormal;\n    posNormal *= posNormal;\n",
        n.dn.particle_initVS = "attribute vec4 particle_vertexData; // XYZ = particle position, W = particle ID + random factor\nuniform mat4 matrix_viewProjection;\nuniform mat4 matrix_model;\nuniform mat3 matrix_normal;\nuniform mat4 matrix_viewInverse;\n#ifndef VIEWMATRIX\n#define VIEWMATRIX\nuniform mat4 matrix_view;\n#endif\nuniform float numParticles, numParticlesPot;\nuniform float graphSampleSize;\nuniform float graphNumSamples;\nuniform float stretch;\nuniform vec3 wrapBounds;\nuniform vec3 emitterScale, emitterPos;\nuniform float rate, rateDiv, lifetime, deltaRandomnessStatic, scaleDivMult, alphaDivMult, seed, delta;\nuniform sampler2D particleTexOUT, particleTexIN;\nuniform sampler2D internalTex0;\nuniform sampler2D internalTex1;\nuniform sampler2D internalTex2;\n#ifndef CAMERAPLANES\n#define CAMERAPLANES\nuniform vec4 camera_params;\n#endif\nvarying vec4 texCoordsAlphaLife;\nvec3 inPos;\nvec3 inVel;\nfloat inAngle;\nbool inShow;\nfloat inLife;\n",
        n.dn.particle_lambertPS = "\n    vec3 negNormal = max(normal, vec3(0.0));\n    vec3 posNormal = max(-normal, vec3(0.0));\n",
        n.dn.particle_lightingPS = "\n    vec3 light = negNormal.x*lightCube[0] + posNormal.x*lightCube[1] +\n                        negNormal.y*lightCube[2] + posNormal.y*lightCube[3] +\n                        negNormal.z*lightCube[4] + posNormal.z*lightCube[5];\n    rgb *= light;\n",
        n.dn.particle_localShiftVS = "    particlePos += emitterPos;\n",
        n.dn.particle_meshVS = "\n    vec3 localPos = meshLocalPos;\n    localPos.xy = rotate(localPos.xy, inAngle, rotMatrix);\n    localPos.yz = rotate(localPos.yz, inAngle, rotMatrix);\n    billboard(particlePos, quadXY);\n",
        n.dn.particle_normalVS = "\n    Normal = normalize(localPos + matrix_viewInverse[2].xyz);\n",
        n.dn.particle_normalMapPS = "\n    vec3 normalMap         = normalize( texture2D(normalMap, texCoordsAlphaLife.xy).xyz * 2.0 - 1.0 );\n    vec3 normal = ParticleMat * normalMap;\n",
        n.dn.particle_pointAlongVS = "    inAngle = atan(velocityV.x, velocityV.y); // not the fastest way, but easier to plug in; TODO: create rot matrix right from vectors\n",
        n.dn.particle_softPS = "\n    float depth = getLinearScreenDepth();\n    float particleDepth = vDepth;\n    float depthDiff = saturate(abs(particleDepth - depth) * softening);\n    a *= depthDiff;\n",
        n.dn.particle_softVS = "\n    vDepth = getLinearDepth(localPos);\n",
        n.dn.particle_stretchVS = "    vec3 moveDir = inVel * stretch;\n    vec3 posPrev = inPos - moveDir;\n    posPrev += particlePosMoved;\n    vec2 centerToVertexV = normalize((mat3(matrix_view) * localPos).xy);\n    float interpolation = dot(-velocityV, centerToVertexV) * 0.5 + 0.5;\n    particlePos = mix(particlePos, posPrev, interpolation);\n",
        n.dn.particle_wrapVS = "\n    vec3 origParticlePos = particlePos;\n    particlePos -= matrix_model[3].xyz;\n    particlePos = mod(particlePos, wrapBounds) - wrapBounds * 0.5;\n    particlePos += matrix_model[3].xyz;\n    particlePosMoved = particlePos - origParticlePos;\n",
        n.dn.precisionTestPS = "void main(void) {\n    gl_FragColor = vec4(2147483648.0);\n}\n",
        n.dn.precisionTest2PS = "uniform sampler2D source;\nvec4 packFloat(float depth) {\n    const vec4 bit_shift = vec4(256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0);\n    const vec4 bit_mask  = vec4(0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0);\n    vec4 res = mod(depth * bit_shift * vec4(255), vec4(256) ) / vec4(255);\n    res -= res.xxyz * bit_mask;\n    return res;\n}\nvoid main(void) {\n    float c = texture2D(source, vec2(0.0)).r;\n    float diff = abs(c - 2147483648.0) / 2147483648.0;\n    gl_FragColor = packFloat(diff);\n}\n",
        n.dn.Pr = "varying vec2 vUv0;\nuniform samplerCube source;\nuniform vec4 params;\nfloat saturate(float x) {\n    return clamp(x, 0.0, 1.0);\n}\nfloat rnd(vec2 uv) {\n    return fract(sin(dot(uv, vec2(12.9898, 78.233) * 2.0)) * 43758.5453);\n}\nconst float PI = 3.14159265358979;\nvec3 hemisphereSample_cos(vec2 uv, mat3 vecSpace, vec3 cubeDir, float gloss) { // cos + lerped cone size (better than just lerped)\n    float phi = uv.y * 2.0 * PI;\n    float cosTheta = sqrt(1.0 - uv.x);\n    float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\n    vec3 sampleDir = vec3(cos(phi) * sinTheta, sin(phi) * sinTheta, cosTheta);\n    return normalize(mix(vecSpace * sampleDir, cubeDir, params.y));\n}\nvec3 hemisphereSample_phong(vec2 uv, mat3 vecSpace, vec3 cubeDir, float specPow) {\n    float phi = uv.y * 2.0 * PI;\n    float cosTheta = pow(1.0 - uv.x, 1.0 / (specPow + 1.0));\n    float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\n    vec3 sampleDir = vec3(cos(phi) * sinTheta, sin(phi) * sinTheta, cosTheta);\n    return vecSpace * sampleDir;\n}\nmat3 matrixFromVector(vec3 n) { // frisvad\n    float a = 1.0 / (1.0 + n.z);\n    float b = -n.x * n.y * a;\n    vec3 b1 = vec3(1.0 - n.x * n.x * a, b, -n.x);\n    vec3 b2 = vec3(b, 1.0 - n.y * n.y * a, -n.y);\n    return mat3(b1, b2, n);\n}\nvec4 encodeRGBM(vec3 color) { // modified RGBM\n    vec4 encoded;\n    encoded.rgb = pow(color.rgb, vec3(0.5));\n    encoded.rgb *= 1.0 / 8.0;\n    encoded.a = saturate( max( max( encoded.r, encoded.g ), max( encoded.b, 1.0 / 255.0 ) ) );\n    encoded.a = ceil(encoded.a * 255.0) / 255.0;\n    encoded.rgb /= encoded.a;\n    return encoded;\n}\nvoid main(void) {\n    vec2 st = vUv0 * 2.0 - 1.0;\n    if (params.w==1.0 || params.w==3.0) {\n        st = 2.0 * floor(gl_FragCoord.xy) / (params.z - 1.0) - 1.0;\n    }\n    float face = params.x;\n    vec3 vec;\n    if (face==0.0) {\n        vec = vec3(1, -st.y, -st.x);\n    } else if (face==1.0) {\n        vec = vec3(-1, -st.y, st.x);\n    } else if (face==2.0) {\n        vec = vec3(st.x, 1, st.y);\n    } else if (face==3.0) {\n        vec = vec3(st.x, -1, -st.y);\n    } else if (face==4.0) {\n        vec = vec3(st.x, -st.y, 1);\n    } else {\n        vec = vec3(-st.x, -st.y, -1);\n    }\n    mat3 vecSpace = matrixFromVector(normalize(vec));\n    vec3 color = vec3(0.0);\n    const int samples = $NUMSAMPLES;\n    vec3 vect;\n    for(int i=0; i<samples; i++) {\n        float sini = sin(float(i));\n        float cosi = cos(float(i));\n        float rand = rnd(vec2(sini, cosi));\n        vect = hemisphereSample_$METHOD(vec2(float(i) / float(samples), rand), vecSpace, vec, params.y);\n        color += $textureCube(source, vect).rgb;\n    }\n    color /= float(samples);\n    gl_FragColor = params.w < 2.0? vec4(color, 1.0) : encodeRGBM(color);\n}\n",
        n.dn.reflDirPS = "void getReflDir() {\n    dReflDirW = normalize(-reflect(dViewDirW, dNormalW));\n}\n",
        n.dn.reflectionCubePS = "uniform samplerCube texture_cubeMap;\nuniform float material_reflectivity;\nvoid addReflection() {\n    vec3 lookupVec = fixSeams(cubeMapProject(dReflDirW));\n    lookupVec.x *= -1.0;\n    dReflection += vec4($textureCubeSAMPLE(texture_cubeMap, lookupVec).rgb, material_reflectivity);\n}\n",
        n.dn.reflectionDpAtlasPS = "uniform sampler2D texture_sphereMap;\nuniform float material_reflectivity;\nvec2 getDpAtlasUv(vec2 uv, float mip) {\n    vec4 rect;\n    float sx = saturate(mip - 2.0);\n    rect.x = sx * 0.5;\n    float t = mip - rect.x * 6.0;\n    float i = 1.0 - rect.x;\n    rect.y = min(t * 0.5, 0.75) * i + rect.x;\n    float st = saturate(t);\n    rect.z = (1.0 - st * 0.5) * i;\n    rect.w = rect.z * 0.5;\n    float rcRectZ = 1.0 / rect.z;\n    float scaleFactor = 0.00390625 * rcRectZ; // 0.0078125 = (256 + 2) / 256 - 1, 0.00390625 same for 512\n    vec2 scale = vec2(scaleFactor, scaleFactor * 2.0);\n    uv = uv * (vec2(1.0) - scale) + scale * 0.5;\n    uv = uv * rect.zw + rect.xy;\n    return uv;\n}\nvoid addReflection() {\n    vec3 reflDir = normalize(cubeMapProject(dReflDirW));\n    // Convert vector to DP coords\n    bool up = reflDir.y > 0.0;\n    float scale = 0.90909090909090909090909090909091;// 1.0 / 1.1;\n    vec3 reflDirWarp = reflDir.xzx * vec3(-0.25, 0.5, 0.25);\n    float reflDirVer = abs(reflDir.y) + 1.0;\n    reflDirWarp /= reflDirVer;\n    reflDirWarp *= scale;\n    reflDirWarp = vec3(0.75, 0.5, 0.25) - reflDirWarp;\n    vec2 tc = up? reflDirWarp.xy : reflDirWarp.zy;\n    float bias = saturate(1.0 - dGlossiness) * 5.0; // multiply by max mip level\n    float mip = floor(bias);\n    vec3 tex1 = $texture2DSAMPLE(texture_sphereMap, getDpAtlasUv(tc, mip)).rgb;\n    mip = min(mip + 1.0, 5.0);\n    vec3 tex2 = $texture2DSAMPLE(texture_sphereMap, getDpAtlasUv(tc, mip)).rgb;\n    tex1 = mix(tex1, tex2, fract(bias));\n    tex1 = processEnvironment(tex1);\n    dReflection += vec4(tex1, material_reflectivity);\n}\n",
        n.dn.reflectionPrefilteredCubePS = "uniform samplerCube texture_prefilteredCubeMap128;\nuniform samplerCube texture_prefilteredCubeMap64;\nuniform samplerCube texture_prefilteredCubeMap32;\nuniform samplerCube texture_prefilteredCubeMap16;\nuniform samplerCube texture_prefilteredCubeMap8;\n#ifndef PMREM4\n#define PMREM4\nuniform samplerCube texture_prefilteredCubeMap4;\n#endif\nuniform float material_reflectivity;\nvoid addReflection() {\n    // Unfortunately, WebGL doesn't allow us using textureCubeLod. Therefore bunch of nasty workarounds is required.\n    // We fix mip0 to 128x128, so code is rather static.\n    // Mips smaller than 4x4 aren't great even for diffuse. Don't forget that we don't have bilinear filtering between different faces.\n    float bias = saturate(1.0 - dGlossiness) * 5.0; // multiply by max mip level\n    int index1 = int(bias);\n    int index2 = int(min(bias + 1.0, 7.0));\n    vec3 fixedReflDir = fixSeams(cubeMapProject(dReflDirW), bias);\n    fixedReflDir.x *= -1.0;\n    vec4 cubes[6];\n    cubes[0] = textureCube(texture_prefilteredCubeMap128, fixedReflDir);\n    cubes[1] = textureCube(texture_prefilteredCubeMap64, fixedReflDir);\n    cubes[2] = textureCube(texture_prefilteredCubeMap32, fixedReflDir);\n    cubes[3] = textureCube(texture_prefilteredCubeMap16, fixedReflDir);\n    cubes[4] = textureCube(texture_prefilteredCubeMap8, fixedReflDir);\n    cubes[5] = textureCube(texture_prefilteredCubeMap4, fixedReflDir);\n    // Also we don't have dynamic indexing in PS, so...\n    vec4 cube[2];\n    for(int i = 0; i < 6; i++) {\n        if (i == index1) {\n            cube[0] = cubes[i];\n        }\n        if (i == index2) {\n            cube[1] = cubes[i];\n        }\n    }\n    // another variant\n    /*if (index1==0){ cube[0]=cubes[0];\n    }else if (index1==1){ cube[0]=cubes[1];\n    }else if (index1==2){ cube[0]=cubes[2];\n    }else if (index1==3){ cube[0]=cubes[3];\n    }else if (index1==4){ cube[0]=cubes[4];\n    }else if (index1==5){ cube[0]=cubes[5];}\n    if (index2==0){ cube[1]=cubes[0];\n    }else if (index2==1){ cube[1]=cubes[1];\n    }else if (index2==2){ cube[1]=cubes[2];\n    }else if (index2==3){ cube[1]=cubes[3];\n    }else if (index2==4){ cube[1]=cubes[4];\n    }else if (index2==5){ cube[1]=cubes[5];}*/\n    vec4 cubeFinal = mix(cube[0], cube[1], fract(bias));\n    vec3 refl = processEnvironment($DECODE(cubeFinal).rgb);\n    dReflection += vec4(refl, material_reflectivity);\n}\n",
        n.dn.reflectionPrefilteredCubeLodPS = "\n#ifndef PMREM4\n#define PMREM4\n#extension GL_EXT_shader_texture_lod : enable\nuniform samplerCube texture_prefilteredCubeMap128;\n#endif\nuniform float material_reflectivity;\nvoid addReflection() {\n    float bias = saturate(1.0 - dGlossiness) * 5.0; // multiply by max mip level\n    vec3 fixedReflDir = fixSeams(cubeMapProject(dReflDirW), bias);\n    fixedReflDir.x *= -1.0;\n    vec3 refl = processEnvironment($DECODE( textureCubeLodEXT(texture_prefilteredCubeMap128, fixedReflDir, bias) ).rgb);\n    dReflection += vec4(refl, material_reflectivity);\n}\n",
        n.dn.reflectionSpherePS = "#ifndef VIEWMATRIX\n#define VIEWMATRIX\nuniform mat4 matrix_view;\n#endif\nuniform sampler2D texture_sphereMap;\nuniform float material_reflectivity;\nvoid addReflection() {\n    vec3 reflDirV = (mat3(matrix_view) * dReflDirW).xyz;\n    float m = 2.0 * sqrt( dot(reflDirV.xy, reflDirV.xy) + (reflDirV.z+1.0)*(reflDirV.z+1.0) );\n    vec2 sphereMapUv = reflDirV.xy / m + 0.5;\n    dReflection += vec4($texture2DSAMPLE(texture_sphereMap, sphereMapUv).rgb, material_reflectivity);\n}\n",
        n.dn.reflectionSphereLowPS = "uniform sampler2D texture_sphereMap;\nuniform float material_reflectivity;\nvoid addReflection() {\n    vec3 reflDirV = vNormalV;\n    vec2 sphereMapUv = reflDirV.xy * 0.5 + 0.5;\n    dReflection += vec4($texture2DSAMPLE(texture_sphereMap, sphereMapUv).rgb, material_reflectivity);\n}\n",
        n.dn.refractionPS = "uniform float material_refraction, material_refractionIndex;\nvec3 refract2(vec3 viewVec, vec3 Normal, float IOR) {\n    float vn = dot(viewVec, Normal);\n    float k = 1.0 - IOR * IOR * (1.0 - vn * vn);\n    vec3 refrVec = IOR * viewVec - (IOR * vn + sqrt(k)) * Normal;\n    return refrVec;\n}\nvoid addRefraction() {\n    // use same reflection code with refraction vector\n    vec3 tmp = dReflDirW;\n    vec4 tmp2 = dReflection;\n    dReflection = vec4(0.0);\n    dReflDirW = refract2(-dViewDirW, dNormalW, material_refractionIndex);\n    addReflection();\n    dDiffuseLight = mix(dDiffuseLight, dReflection.rgb * dAlbedo, material_refraction);\n    dReflDirW = tmp;\n    dReflection = tmp2;\n}\n",
        n.dn.rgbmPS = "vec3 decodeRGBM(vec4 rgbm) {\n    vec3 color = (8.0 * rgbm.a) * rgbm.rgb;\n    return color * color;\n}\nvec3 texture2DRGBM(sampler2D tex, vec2 uv) {\n    return decodeRGBM(texture2D(tex, uv));\n}\nvec3 textureCubeRGBM(samplerCube tex, vec3 uvw) {\n    return decodeRGBM(textureCube(tex, uvw));\n}\n",
        n.dn.screenDepthPS = "uniform sampler2D uDepthMap;\n#ifndef SCREENSIZE\n#define SCREENSIZE\nuniform vec4 uScreenSize;\n#endif\n#ifndef VIEWMATRIX\n#define VIEWMATRIX\nuniform mat4 matrix_view;\n#endif\n#ifndef CAMERAPLANES\n#define CAMERAPLANES\nuniform vec4 camera_params; // 1 / camera_far,      camera_far,     (1 - f / n) / 2,        (1 + f / n) / 2\n#endif\n#ifdef GL2\n    float linearizeDepth(float z) {\n        z = z * 2.0 - 1.0;\n        return 1.0 / (camera_params.z * z + camera_params.w);\n    }\n#else\n    #ifndef UNPACKFLOAT\n    #define UNPACKFLOAT\n    float unpackFloat(vec4 rgbaDepth) {\n        const vec4 bitShift = vec4(1.0 / (256.0 * 256.0 * 256.0), 1.0 / (256.0 * 256.0), 1.0 / 256.0, 1.0);\n        return dot(rgbaDepth, bitShift);\n    }\n    #endif\n#endif\n// Retrieves rendered linear camera depth by UV\nfloat getLinearScreenDepth(vec2 uv) {\n    #ifdef GL2\n        return linearizeDepth(texture2D(uDepthMap, uv).r) * camera_params.y;\n    #else\n        return unpackFloat(texture2D(uDepthMap, uv)) * camera_params.y;\n    #endif\n}\n#ifndef VERTEXSHADER\n// Retrieves rendered linear camera depth under the current pixel\nfloat getLinearScreenDepth() {\n    vec2 uv = gl_FragCoord.xy * uScreenSize.zw;\n    return getLinearScreenDepth(uv);\n}\n#endif\n// Generates linear camera depth for the given world position\nfloat getLinearDepth(vec3 pos) {\n    return -(matrix_view * vec4(pos, 1.0)).z;\n}\n",
        n.dn.shadowCommonPS = "void normalOffsetPointShadow(vec4 shadowParams) {\n    float distScale = length(dLightDirW);\n    vec3 wPos = vPositionW + dVertexNormalW * shadowParams.y * clamp(1.0 - dot(dVertexNormalW, -dLightDirNormW), 0.0, 1.0) * distScale; //0.02\n    vec3 dir = wPos - dLightPosW;\n    dLightDirW = dir;\n}\n",
        n.dn.shadowCoordPS = "void _getShadowCoordOrtho(mat4 shadowMatrix, vec3 shadowParams, vec3 wPos) {\n    dShadowCoord = (shadowMatrix * vec4(wPos, 1.0)).xyz;\n    dShadowCoord.z = saturate(dShadowCoord.z) - 0.0001;\n    #ifdef SHADOWBIAS\n        dShadowCoord.z += getShadowBias(shadowParams.x, shadowParams.z);\n    #endif\n}\nvoid _getShadowCoordPersp(mat4 shadowMatrix, vec4 shadowParams, vec3 wPos) {\n    vec4 projPos = shadowMatrix * vec4(wPos, 1.0);\n    projPos.xy /= projPos.w;\n    dShadowCoord.xy = projPos.xy;\n    dShadowCoord.z = length(dLightDirW) * shadowParams.w;\n    #ifdef SHADOWBIAS\n        dShadowCoord.z += getShadowBias(shadowParams.x, shadowParams.z);\n    #endif\n}\nvoid getShadowCoordOrtho(mat4 shadowMatrix, vec3 shadowParams) {\n    _getShadowCoordOrtho(shadowMatrix, shadowParams, vPositionW);\n}\nvoid getShadowCoordPersp(mat4 shadowMatrix, vec4 shadowParams) {\n    _getShadowCoordPersp(shadowMatrix, shadowParams, vPositionW);\n}\nvoid getShadowCoordPerspNormalOffset(mat4 shadowMatrix, vec4 shadowParams) {\n    float distScale = abs(dot(vPositionW - dLightPosW, dLightDirNormW)); // fov?\n    vec3 wPos = vPositionW + dVertexNormalW * shadowParams.y * clamp(1.0 - dot(dVertexNormalW, -dLightDirNormW), 0.0, 1.0) * distScale;\n    _getShadowCoordPersp(shadowMatrix, shadowParams, wPos);\n}\nvoid getShadowCoordOrthoNormalOffset(mat4 shadowMatrix, vec3 shadowParams) {\n    vec3 wPos = vPositionW + dVertexNormalW * shadowParams.y * clamp(1.0 - dot(dVertexNormalW, -dLightDirNormW), 0.0, 1.0); //0.08\n    _getShadowCoordOrtho(shadowMatrix, shadowParams, wPos);\n}\n",
        n.dn.shadowCoordVS = "void getLightDirPoint(vec3 lightPosW) {\n    vec3 lightDirW = vPositionW - lightPosW;\n    dLightDirNormW = normalize(lightDirW);\n    dLightPosW = lightPosW;\n}\nvoid _getShadowCoordOrtho(mat4 shadowMatrix, vec3 shadowParams, vec3 wPos) {\n    vec4 projPos = shadowMatrix * vec4(wPos, 1.0);\n    vMainShadowUv = projPos;\n}\nvoid _getShadowCoordPersp(mat4 shadowMatrix, vec3 shadowParams, vec3 wPos) {\n    vec4 projPos = shadowMatrix * vec4(wPos, 1.0);\n    vMainShadowUv = projPos;\n}\nvoid getShadowCoordOrtho(mat4 shadowMatrix, vec3 shadowParams) {\n    _getShadowCoordOrtho(shadowMatrix, shadowParams, vPositionW);\n}\nvoid getShadowCoordPersp(mat4 shadowMatrix, vec3 shadowParams) {\n    _getShadowCoordPersp(shadowMatrix, shadowParams, vPositionW);\n}\nvoid getShadowCoordPerspNormalOffset(mat4 shadowMatrix, vec3 shadowParams) {\n    float distScale = abs(dot(vPositionW - dLightPosW, dLightDirNormW)); // fov?\n    vec3 wPos = vPositionW + dNormalW * shadowParams.y * clamp(1.0 - dot(dNormalW, -dLightDirNormW), 0.0, 1.0) * distScale;\n    _getShadowCoordPersp(shadowMatrix, shadowParams, wPos);\n}\nvoid getShadowCoordOrthoNormalOffset(mat4 shadowMatrix, vec3 shadowParams) {\n    vec3 wPos = vPositionW + dNormalW * shadowParams.y * clamp(1.0 - dot(dNormalW, -dLightDirNormW), 0.0, 1.0); //0.08\n    _getShadowCoordOrtho(shadowMatrix, shadowParams, wPos);\n}\n",
        n.dn.shadowCoordPerspZbufferPS = "void _getShadowCoordPerspZbuffer(mat4 shadowMatrix, vec4 shadowParams, vec3 wPos) {\n    vec4 projPos = shadowMatrix * vec4(wPos, 1.0);\n    projPos.xyz /= projPos.w;\n    dShadowCoord = projPos.xyz;\n    // depth bias is already applied on render\n}\nvoid getShadowCoordPerspZbufferNormalOffset(mat4 shadowMatrix, vec4 shadowParams) {\n    float distScale = abs(dot(vPositionW - dLightPosW, dLightDirNormW)); // fov?\n    vec3 wPos = vPositionW + dVertexNormalW * shadowParams.y * clamp(1.0 - dot(dVertexNormalW, -dLightDirNormW), 0.0, 1.0) * distScale;\n    _getShadowCoordPerspZbuffer(shadowMatrix, shadowParams, wPos);\n}\nvoid getShadowCoordPerspZbuffer(mat4 shadowMatrix, vec4 shadowParams) {\n    _getShadowCoordPerspZbuffer(shadowMatrix, shadowParams, vPositionW);\n}\n",
        n.dn.shadowEVSMPS = "float VSM$(sampler2D tex, vec2 texCoords, float resolution, float Z, float vsmBias, float exponent) {\n    vec3 moments = texture2D(tex, texCoords).xyz;\n    return calculateEVSM(moments, Z, vsmBias, exponent);\n}\nfloat getShadowVSM$(sampler2D shadowMap, vec3 shadowParams, float exponent) {\n    return VSM$(shadowMap, dShadowCoord.xy, shadowParams.x, dShadowCoord.z, shadowParams.y, exponent);\n}\nfloat getShadowSpotVSM$(sampler2D shadowMap, vec4 shadowParams, float exponent) {\n    return VSM$(shadowMap, dShadowCoord.xy, shadowParams.x, length(dLightDirW) * shadowParams.w + shadowParams.z, shadowParams.y, exponent);\n}\n",
        n.dn.shadowEVSMnPS = "float VSM$(sampler2D tex, vec2 texCoords, float resolution, float Z, float vsmBias, float exponent) {\n    float pixelSize = 1.0 / resolution;\n    texCoords -= vec2(pixelSize);\n    vec3 s00 = texture2D(tex, texCoords).xyz;\n    vec3 s10 = texture2D(tex, texCoords + vec2(pixelSize, 0)).xyz;\n    vec3 s01 = texture2D(tex, texCoords + vec2(0, pixelSize)).xyz;\n    vec3 s11 = texture2D(tex, texCoords + vec2(pixelSize)).xyz;\n    vec2 fr = fract(texCoords * resolution);\n    vec3 h0 = mix(s00, s10, fr.x);\n    vec3 h1 = mix(s01, s11, fr.x);\n    vec3 moments = mix(h0, h1, fr.y);\n    return calculateEVSM(moments, Z, vsmBias, exponent);\n}\nfloat getShadowVSM$(sampler2D shadowMap, vec3 shadowParams, float exponent) {\n    return VSM$(shadowMap, dShadowCoord.xy, shadowParams.x, dShadowCoord.z, shadowParams.y, exponent);\n}\nfloat getShadowSpotVSM$(sampler2D shadowMap, vec4 shadowParams, float exponent) {\n    return VSM$(shadowMap, dShadowCoord.xy, shadowParams.x, length(dLightDirW) * shadowParams.w + shadowParams.z, shadowParams.y, exponent);\n}\n",
        n.dn.shadowStandardPS = "vec3 lessThan2(vec3 a, vec3 b) {\n    return clamp((b - a)*1000.0, 0.0, 1.0); // softer version\n}\n#ifndef UNPACKFLOAT\n#define UNPACKFLOAT\nfloat unpackFloat(vec4 rgbaDepth) {\n    const vec4 bitShift = vec4(1.0 / (256.0 * 256.0 * 256.0), 1.0 / (256.0 * 256.0), 1.0 / 256.0, 1.0);\n    return dot(rgbaDepth, bitShift);\n}\n#endif\n// ----- Direct/Spot Sampling -----\n#ifdef GL2\n    float _getShadowPCF3x3(sampler2DShadow shadowMap, vec3 shadowParams) {\n        float z = dShadowCoord.z;\n        vec2 uv = dShadowCoord.xy * shadowParams.x; // 1 unit - 1 texel\n        float shadowMapSizeInv = 1.0 / shadowParams.x;\n        vec2 base_uv = floor(uv + 0.5);\n        float s = (uv.x + 0.5 - base_uv.x);\n        float t = (uv.y + 0.5 - base_uv.y);\n        base_uv -= vec2(0.5);\n        base_uv *= shadowMapSizeInv;\n        float sum = 0.0;\n        float uw0 = (3.0 - 2.0 * s);\n        float uw1 = (1.0 + 2.0 * s);\n        float u0 = (2.0 - s) / uw0 - 1.0;\n        float u1 = s / uw1 + 1.0;\n        float vw0 = (3.0 - 2.0 * t);\n        float vw1 = (1.0 + 2.0 * t);\n        float v0 = (2.0 - t) / vw0 - 1.0;\n        float v1 = t / vw1 + 1.0;\n        u0 = u0 * shadowMapSizeInv + base_uv.x;\n        v0 = v0 * shadowMapSizeInv + base_uv.y;\n        u1 = u1 * shadowMapSizeInv + base_uv.x;\n        v1 = v1 * shadowMapSizeInv + base_uv.y;\n        sum += uw0 * vw0 * texture(shadowMap, vec3(u0, v0, z));\n        sum += uw1 * vw0 * texture(shadowMap, vec3(u1, v0, z));\n        sum += uw0 * vw1 * texture(shadowMap, vec3(u0, v1, z));\n        sum += uw1 * vw1 * texture(shadowMap, vec3(u1, v1, z));\n        sum *= 1.0f / 16.0;\n        return sum;\n    }\n    float getShadowPCF3x3(sampler2DShadow shadowMap, vec3 shadowParams) {\n        return _getShadowPCF3x3(shadowMap, shadowParams);\n    }\n    float getShadowSpotPCF3x3(sampler2DShadow shadowMap, vec4 shadowParams) {\n        return _getShadowPCF3x3(shadowMap, shadowParams.xyz);\n    }\n#else\n    float _xgetShadowPCF3x3(mat3 depthKernel, sampler2D shadowMap, vec3 shadowParams) {\n        mat3 shadowKernel;\n        vec3 shadowCoord = dShadowCoord;\n        vec3 shadowZ = vec3(shadowCoord.z);\n        shadowKernel[0] = vec3(greaterThan(depthKernel[0], shadowZ));\n        shadowKernel[1] = vec3(greaterThan(depthKernel[1], shadowZ));\n        shadowKernel[2] = vec3(greaterThan(depthKernel[2], shadowZ));\n        vec2 fractionalCoord = fract( shadowCoord.xy * shadowParams.x );\n        shadowKernel[0] = mix(shadowKernel[0], shadowKernel[1], fractionalCoord.x);\n        shadowKernel[1] = mix(shadowKernel[1], shadowKernel[2], fractionalCoord.x);\n        vec4 shadowValues;\n        shadowValues.x = mix(shadowKernel[0][0], shadowKernel[0][1], fractionalCoord.y);\n        shadowValues.y = mix(shadowKernel[0][1], shadowKernel[0][2], fractionalCoord.y);\n        shadowValues.z = mix(shadowKernel[1][0], shadowKernel[1][1], fractionalCoord.y);\n        shadowValues.w = mix(shadowKernel[1][1], shadowKernel[1][2], fractionalCoord.y);\n        return dot( shadowValues, vec4( 1.0 ) ) * 0.25;\n    }\n    float _getShadowPCF3x3(sampler2D shadowMap, vec3 shadowParams) {\n        vec3 shadowCoord = dShadowCoord;\n        float xoffset = 1.0 / shadowParams.x; // 1/shadow map width\n        float dx0 = -xoffset;\n        float dx1 = xoffset;\n        mat3 depthKernel;\n        depthKernel[0][0] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx0, dx0)));\n        depthKernel[0][1] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx0, 0.0)));\n        depthKernel[0][2] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx0, dx1)));\n        depthKernel[1][0] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(0.0, dx0)));\n        depthKernel[1][1] = unpackFloat(texture2D(shadowMap, shadowCoord.xy));\n        depthKernel[1][2] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(0.0, dx1)));\n        depthKernel[2][0] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx1, dx0)));\n        depthKernel[2][1] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx1, 0.0)));\n        depthKernel[2][2] = unpackFloat(texture2D(shadowMap, shadowCoord.xy + vec2(dx1, dx1)));\n        return _xgetShadowPCF3x3(depthKernel, shadowMap, shadowParams);\n    }\n    float getShadowPCF3x3(sampler2D shadowMap, vec3 shadowParams) {\n        return _getShadowPCF3x3(shadowMap, shadowParams);\n    }\n    float getShadowSpotPCF3x3(sampler2D shadowMap, vec4 shadowParams) {\n        return _getShadowPCF3x3(shadowMap, shadowParams.xyz);\n    }\n#endif\n// ----- Point Sampling -----\nfloat _getShadowPoint(samplerCube shadowMap, vec4 shadowParams, vec3 dir) {\n    vec3 tc = normalize(dir);\n    vec3 tcAbs = abs(tc);\n    vec4 dirX = vec4(1,0,0, tc.x);\n    vec4 dirY = vec4(0,1,0, tc.y);\n    float majorAxisLength = tc.z;\n    if ((tcAbs.x > tcAbs.y) && (tcAbs.x > tcAbs.z)) {\n        dirX = vec4(0,0,1, tc.z);\n        dirY = vec4(0,1,0, tc.y);\n        majorAxisLength = tc.x;\n    } else if ((tcAbs.y > tcAbs.x) && (tcAbs.y > tcAbs.z)) {\n        dirX = vec4(1,0,0, tc.x);\n        dirY = vec4(0,0,1, tc.z);\n        majorAxisLength = tc.y;\n    }\n    float shadowParamsInFaceSpace = ((1.0/shadowParams.x) * 2.0) * abs(majorAxisLength);\n    vec3 xoffset = (dirX.xyz * shadowParamsInFaceSpace);\n    vec3 yoffset = (dirY.xyz * shadowParamsInFaceSpace);\n    vec3 dx0 = -xoffset;\n    vec3 dy0 = -yoffset;\n    vec3 dx1 = xoffset;\n    vec3 dy1 = yoffset;\n    mat3 shadowKernel;\n    mat3 depthKernel;\n    depthKernel[0][0] = unpackFloat(textureCube(shadowMap, tc + dx0 + dy0));\n    depthKernel[0][1] = unpackFloat(textureCube(shadowMap, tc + dx0));\n    depthKernel[0][2] = unpackFloat(textureCube(shadowMap, tc + dx0 + dy1));\n    depthKernel[1][0] = unpackFloat(textureCube(shadowMap, tc + dy0));\n    depthKernel[1][1] = unpackFloat(textureCube(shadowMap, tc));\n    depthKernel[1][2] = unpackFloat(textureCube(shadowMap, tc + dy1));\n    depthKernel[2][0] = unpackFloat(textureCube(shadowMap, tc + dx1 + dy0));\n    depthKernel[2][1] = unpackFloat(textureCube(shadowMap, tc + dx1));\n    depthKernel[2][2] = unpackFloat(textureCube(shadowMap, tc + dx1 + dy1));\n    vec3 shadowZ = vec3(length(dir) * shadowParams.w + shadowParams.z);\n    shadowKernel[0] = vec3(lessThan2(depthKernel[0], shadowZ));\n    shadowKernel[1] = vec3(lessThan2(depthKernel[1], shadowZ));\n    shadowKernel[2] = vec3(lessThan2(depthKernel[2], shadowZ));\n    vec2 uv = (vec2(dirX.w, dirY.w) / abs(majorAxisLength)) * 0.5;\n    vec2 fractionalCoord = fract( uv * shadowParams.x );\n    shadowKernel[0] = mix(shadowKernel[0], shadowKernel[1], fractionalCoord.x);\n    shadowKernel[1] = mix(shadowKernel[1], shadowKernel[2], fractionalCoord.x);\n    vec4 shadowValues;\n    shadowValues.x = mix(shadowKernel[0][0], shadowKernel[0][1], fractionalCoord.y);\n    shadowValues.y = mix(shadowKernel[0][1], shadowKernel[0][2], fractionalCoord.y);\n    shadowValues.z = mix(shadowKernel[1][0], shadowKernel[1][1], fractionalCoord.y);\n    shadowValues.w = mix(shadowKernel[1][1], shadowKernel[1][2], fractionalCoord.y);\n    return 1.0 - dot( shadowValues, vec4( 1.0 ) ) * 0.25;\n}\nfloat getShadowPointPCF3x3(samplerCube shadowMap, vec4 shadowParams) {\n    return _getShadowPoint(shadowMap, shadowParams, dLightDirW);\n}\n",
        n.dn.shadowStandardGL2PS = "float _getShadowPCF5x5(sampler2DShadow shadowMap, vec3 shadowParams) {\n    // http://the-witness.net/news/2013/09/shadow-mapping-summary-part-1/\n    float z = dShadowCoord.z;\n    vec2 uv = dShadowCoord.xy * shadowParams.x; // 1 unit - 1 texel\n    float shadowMapSizeInv = 1.0 / shadowParams.x;\n    vec2 base_uv = floor(uv + 0.5);\n    float s = (uv.x + 0.5 - base_uv.x);\n    float t = (uv.y + 0.5 - base_uv.y);\n    base_uv -= vec2(0.5);\n    base_uv *= shadowMapSizeInv;\n    float uw0 = (4.0 - 3.0 * s);\n    float uw1 = 7.0;\n    float uw2 = (1.0 + 3.0 * s);\n    float u0 = (3.0 - 2.0 * s) / uw0 - 2.0;\n    float u1 = (3.0 + s) / uw1;\n    float u2 = s / uw2 + 2.0;\n    float vw0 = (4.0 - 3.0 * t);\n    float vw1 = 7.0;\n    float vw2 = (1.0 + 3.0 * t);\n    float v0 = (3.0 - 2.0 * t) / vw0 - 2.0;\n    float v1 = (3.0 + t) / vw1;\n    float v2 = t / vw2 + 2.0;\n    float sum = 0.0;\n    u0 = u0 * shadowMapSizeInv + base_uv.x;\n    v0 = v0 * shadowMapSizeInv + base_uv.y;\n    u1 = u1 * shadowMapSizeInv + base_uv.x;\n    v1 = v1 * shadowMapSizeInv + base_uv.y;\n    u2 = u2 * shadowMapSizeInv + base_uv.x;\n    v2 = v2 * shadowMapSizeInv + base_uv.y;\n    sum += uw0 * vw0 * texture(shadowMap, vec3(u0, v0, z));\n    sum += uw1 * vw0 * texture(shadowMap, vec3(u1, v0, z));\n    sum += uw2 * vw0 * texture(shadowMap, vec3(u2, v0, z));\n    sum += uw0 * vw1 * texture(shadowMap, vec3(u0, v1, z));\n    sum += uw1 * vw1 * texture(shadowMap, vec3(u1, v1, z));\n    sum += uw2 * vw1 * texture(shadowMap, vec3(u2, v1, z));\n    sum += uw0 * vw2 * texture(shadowMap, vec3(u0, v2, z));\n    sum += uw1 * vw2 * texture(shadowMap, vec3(u1, v2, z));\n    sum += uw2 * vw2 * texture(shadowMap, vec3(u2, v2, z));\n    sum *= 1.0f / 144.0;\n    sum = gammaCorrectInput(sum); // gives softer gradient\n    sum = saturate(sum);\n    return sum;\n}\nfloat getShadowPCF5x5(sampler2DShadow shadowMap, vec3 shadowParams) {\n    return _getShadowPCF5x5(shadowMap, shadowParams);\n}\nfloat getShadowSpotPCF5x5(sampler2DShadow shadowMap, vec4 shadowParams) {\n    return _getShadowPCF5x5(shadowMap, shadowParams.xyz);\n}\n",
        n.dn.shadowStandardGL2VSPS = "float getShadowPCF5x5VS(sampler2DShadow shadowMap, vec3 shadowParams) {\n    dShadowCoord = vMainShadowUv.xyz;\n    dShadowCoord.z = saturate(dShadowCoord.z) - 0.0001; // prevent going to dark after the far plane\n    return _getShadowPCF5x5(shadowMap, shadowParams);\n}\n",
        n.dn.shadowStandardVSPS = "#ifdef GL2\n#define SHADOW_SAMPLERVS sampler2DShadow\n#else\n#define SHADOW_SAMPLERVS sampler2D\n#endif\nfloat getShadowPCF3x3VS(SHADOW_SAMPLERVS shadowMap, vec3 shadowParams) {\n    dShadowCoord = vMainShadowUv.xyz;\n    dShadowCoord.z = saturate(dShadowCoord.z) - 0.0001;\n    #ifdef SHADOWBIAS\n        dShadowCoord.z += getShadowBias(shadowParams.x, shadowParams.z);\n    #endif\n    return _getShadowPCF3x3(shadowMap, shadowParams);\n}\n",
        n.dn.shadowVSM8PS = "float calculateVSM8(vec3 moments, float Z, float vsmBias) {\n    float VSMBias = vsmBias;//0.01 * 0.25;\n    float depthScale = VSMBias * Z;\n    float minVariance1 = depthScale * depthScale;\n    return chebyshevUpperBound(moments.xy, Z, minVariance1, 0.1);\n}\nfloat decodeFloatRG(vec2 rg) {\n    return rg.y*(1.0/255.0) + rg.x;\n}\nfloat VSM8(sampler2D tex, vec2 texCoords, float resolution, float Z, float vsmBias, float exponent) {\n    vec4 c = texture2D(tex, texCoords);\n    vec3 moments = vec3(decodeFloatRG(c.xy), decodeFloatRG(c.zw), 0.0);\n    return calculateVSM8(moments, Z, vsmBias);\n}\nfloat getShadowVSM8(sampler2D shadowMap, vec3 shadowParams, float exponent) {\n    return VSM8(shadowMap, dShadowCoord.xy, shadowParams.x, dShadowCoord.z, shadowParams.y, 0.0);\n}\nfloat getShadowSpotVSM8(sampler2D shadowMap, vec4 shadowParams, float exponent) {\n    return VSM8(shadowMap, dShadowCoord.xy, shadowParams.x, length(dLightDirW) * shadowParams.w + shadowParams.z, shadowParams.y, 0.0);\n}\n",
        n.dn.shadowVSMVSPS = "float getShadowVSM$VS(sampler2D shadowMap, vec3 shadowParams, float exponent) {\n    dShadowCoord = vMainShadowUv.xyz;\n    dShadowCoord.z += shadowParams.z;\n    dShadowCoord.xyz /= vMainShadowUv.w;\n    dShadowCoord.z = min(dShadowCoord.z, 1.0);\n    return $VSM(shadowMap, dShadowCoord.xy, shadowParams.x, dShadowCoord.z, shadowParams.y, exponent);\n}\n",
        n.dn.shadowVSM_commonPS = "float linstep(float a, float b, float v) {\n    return saturate((v - a) / (b - a));\n}\nfloat reduceLightBleeding(float pMax, float amount) {\n  // Remove the [0, amount] tail and linearly rescale (amount, 1].\n   return linstep(amount, 1.0, pMax);\n}\nfloat chebyshevUpperBound(vec2 moments, float mean, float minVariance, float lightBleedingReduction) {\n    // Compute variance\n    float variance = moments.y - (moments.x * moments.x);\n    variance = max(variance, minVariance);\n    // Compute probabilistic upper bound\n    float d = mean - moments.x;\n    float pMax = variance / (variance + (d * d));\n    pMax = reduceLightBleeding(pMax, lightBleedingReduction);\n    // One-tailed Chebyshev\n    return (mean <= moments.x ? 1.0 : pMax);\n}\nfloat calculateEVSM(vec3 moments, float Z, float vsmBias, float exponent) {\n    Z = 2.0 * Z - 1.0;\n    float warpedDepth = exp(exponent * Z);\n    moments.xy += vec2(warpedDepth, warpedDepth*warpedDepth) * (1.0 - moments.z);\n    float VSMBias = vsmBias;//0.01 * 0.25;\n    float depthScale = VSMBias * exponent * warpedDepth;\n    float minVariance1 = depthScale * depthScale;\n    return chebyshevUpperBound(moments.xy, warpedDepth, minVariance1, 0.1);\n}\n",
        n.dn.skinBatchConstVS = "attribute float vertex_boneIndices;\nuniform mat4 matrix_pose[BONE_LIMIT];\nmat4 getBoneMatrix(const in float i) {\n    mat4 bone = matrix_pose[int(i)];\n    return bone;\n}\n",
        n.dn.skinBatchTexVS = "attribute float vertex_boneIndices;\nuniform sampler2D texture_poseMap;\nuniform vec2 texture_poseMapSize;\nmat4 getBoneMatrix(const in float i) {\n    float j = i * 4.0;\n    float x = mod(j, float(texture_poseMapSize.x));\n    float y = floor(j / float(texture_poseMapSize.x));\n    float dx = 1.0 / float(texture_poseMapSize.x);\n    float dy = 1.0 / float(texture_poseMapSize.y);\n    y = dy * (y + 0.5);\n    vec4 v1 = texture2D(texture_poseMap, vec2(dx * (x + 0.5), y));\n    vec4 v2 = texture2D(texture_poseMap, vec2(dx * (x + 1.5), y));\n    vec4 v3 = texture2D(texture_poseMap, vec2(dx * (x + 2.5), y));\n    vec4 v4 = texture2D(texture_poseMap, vec2(dx * (x + 3.5), y));\n    mat4 bone = mat4(v1, v2, v3, v4);\n    return bone;\n}\n",
        n.dn.skinConstVS = "attribute vec4 vertex_boneWeights;\nattribute vec4 vertex_boneIndices;\nuniform mat4 matrix_pose[BONE_LIMIT];\nmat4 getBoneMatrix(const in float i)\n{\n    mat4 bone = matrix_pose[int(i)];\n    return bone;\n}\n",
        n.dn.skinTexVS = "attribute vec4 vertex_boneWeights;\nattribute vec4 vertex_boneIndices;\nuniform sampler2D texture_poseMap;\nuniform vec2 texture_poseMapSize;\nmat4 getBoneMatrix(const in float i)\n{\n    float j = i * 4.0;\n    float x = mod(j, float(texture_poseMapSize.x));\n    float y = floor(j / float(texture_poseMapSize.x));\n    float dx = 1.0 / float(texture_poseMapSize.x);\n    float dy = 1.0 / float(texture_poseMapSize.y);\n    y = dy * (y + 0.5);\n    vec4 v1 = texture2D(texture_poseMap, vec2(dx * (x + 0.5), y));\n    vec4 v2 = texture2D(texture_poseMap, vec2(dx * (x + 1.5), y));\n    vec4 v3 = texture2D(texture_poseMap, vec2(dx * (x + 2.5), y));\n    vec4 v4 = texture2D(texture_poseMap, vec2(dx * (x + 3.5), y));\n    mat4 bone = mat4(v1, v2, v3, v4);\n    return bone;\n}\n",
        n.dn.skyboxPS = "varying vec3 vViewDir;\nuniform samplerCube texture_cubeMap;\nvoid main(void) {\n    gl_FragColor = textureCube(texture_cubeMap, fixSeams(vViewDir));\n}\n",
        n.dn.skyboxVS = "attribute vec3 aPosition;\n#ifndef VIEWMATRIX\n#define VIEWMATRIX\nuniform mat4 matrix_view;\n#endif\nuniform mat4 matrix_projection;\nvarying vec3 vViewDir;\nvoid main(void)\n{\n    mat4 view = matrix_view;\n    view[3][0] = view[3][1] = view[3][2] = 0.0;\n    gl_Position = matrix_projection * view * vec4(aPosition, 1.0);\n    // Force skybox to far Z, regardless of the clip planes on the camera\n    // Subtract a tiny fudge factor to ensure floating point errors don't\n    // still push pixels beyond far Z. See:\n    // http://www.opengl.org/discussion_boards/showthread.php/171867-skybox-problem\n    gl_Position.z = gl_Position.w - 0.00001;\n    vViewDir = aPosition;\n    vViewDir.x *= -1.0;\n}\n",
        n.dn.skyboxHDRPS = "varying vec3 vViewDir;\nuniform samplerCube texture_cubeMap;\nvoid main(void) {\n    vec3 color = processEnvironment($textureCubeSAMPLE(texture_cubeMap, fixSeamsStatic(vViewDir, $FIXCONST)).rgb);\n    color = toneMap(color);\n    color = gammaCorrectOutput(color);\n    gl_FragColor = vec4(color, 1.0);\n}\n",
        n.dn.skyboxPrefilteredCubePS = "varying vec3 vViewDir;\nuniform samplerCube texture_cubeMap;\nvec3 fixSeamsStretch(vec3 vec, float mipmapIndex, float cubemapSize) {\n    float scale = 1.0 - exp2(mipmapIndex) / cubemapSize;\n    float M = max(max(abs(vec.x), abs(vec.y)), abs(vec.z));\n    if (abs(vec.x) != M) vec.x *= scale;\n    if (abs(vec.y) != M) vec.y *= scale;\n    if (abs(vec.z) != M) vec.z *= scale;\n    return vec;\n}\nvoid main(void) {\n    vec3 color = textureCubeRGBM(texture_cubeMap, fixSeamsStretch(vViewDir, 0.0, 128.0));\n    color = toneMap(color);\n    color = gammaCorrectOutput(color);\n    gl_FragColor = vec4(color, 1.0);\n}\n",
        n.dn.specularPS = "#ifdef MAPCOLOR\nuniform vec3 material_specular;\n#endif\n#ifdef MAPTEXTURE\nuniform sampler2D texture_specularMap;\n#endif\nvoid getSpecularity() {\n    dSpecularity = vec3(1.0);\n    #ifdef MAPCOLOR\n        dSpecularity *= material_specular;\n    #endif\n    #ifdef MAPTEXTURE\n        dSpecularity *= texture2D(texture_specularMap, $UV).$CH;\n    #endif\n    #ifdef MAPVERTEX\n        dSpecularity *= saturate(vVertexColor.$VC);\n    #endif\n}\n",
        n.dn.specularAaNonePS = "float antiAliasGlossiness(float power) {\n    return power;\n}\n",
        n.dn.specularAaToksvigPS = "float antiAliasGlossiness(float power) {\n    float rlen = 1.0 / saturate(length(dNormalMap));\n    float toksvig = 1.0 / (1.0 + power * (rlen - 1.0));\n    return power * toksvig;\n}\n",
        n.dn.specularAaToksvigFloatPS = "float antiAliasGlossiness(float power) {\n    float rlen = 1.0 / saturate(length(dNormalMap));\n    float toksvig = 1.0 / (1.0 + power * (rlen - 1.0));\n    return power * mix(1.0, toksvig, material_bumpiness);\n}\n",
        n.dn.spotPS = "float getSpotEffect(vec3 lightSpotDirW, float lightInnerConeAngle, float lightOuterConeAngle) {\n    float cosAngle = dot(dLightDirNormW, lightSpotDirW);\n    return smoothstep(lightOuterConeAngle, lightInnerConeAngle, cosAngle);\n}\n",
        n.dn.startPS = "\nvoid main(void) {\n    dDiffuseLight = vec3(0);\n    dSpecularLight = vec3(0);\n    dReflection = vec4(0);\n    dSpecularity = vec3(0);\n",
        n.dn.startVS = "\nvoid main(void) {\n    gl_Position = getPosition();\n",
        n.dn.startNineSlicedPS = "    nineSlicedUv = vUv0;\n",
        n.dn.startNineSlicedTiledPS = "\n    vec2 tileMask = step(vMask, vec2(0.99999));\n    vec2 clampedUv = mix(innerOffset.xy*0.5, vec2(1.0) - innerOffset.zw*0.5, fract(vTiledUv));\n    clampedUv = clampedUv * atlasRect.zw + atlasRect.xy;\n    nineSlicedUv = vUv0 * tileMask + clampedUv * (vec2(1.0) - tileMask);\n",
        n.dn.storeEVSMPS = "float exponent = VSM_EXPONENT;\ndepth = 2.0 * depth - 1.0;\ndepth =  exp(exponent * depth);\ngl_FragColor = vec4(depth, depth*depth, 1.0, 1.0);\n",
        n.dn.tangentBinormalVS = "\nvec3 getTangent() {\n    return normalize(dNormalMatrix * vertex_tangent.xyz);\n}\nvec3 getBinormal() {\n    return cross(vNormalW, vTangentW) * vertex_tangent.w;\n}\n",
        n.dn.tonemappingAcesPS = "uniform float exposure;\nvec3 toneMap(vec3 color) {\n    float tA = 2.51;\n    float tB = 0.03;\n    float tC = 2.43;\n    float tD = 0.59;\n    float tE = 0.14;\n    vec3 x = color * exposure;\n    return (x*(tA*x+tB))/(x*(tC*x+tD)+tE);\n}\n",
        n.dn.tonemappingAces2PS = "uniform float exposure;\n// ACES approximation by Stephen Hill\n// sRGB => XYZ => D65_2_D60 => AP1 => RRT_SAT\nconst mat3 ACESInputMat = mat3(\n    0.59719, 0.35458, 0.04823,\n    0.07600, 0.90834, 0.01566,\n    0.02840, 0.13383, 0.83777\n);\n// ODT_SAT => XYZ => D60_2_D65 => sRGB\nconst mat3 ACESOutputMat = mat3(\n     1.60475, -0.53108, -0.07367,\n    -0.10208,  1.10813, -0.00605,\n    -0.00327, -0.07276,  1.07602\n);\nvec3 RRTAndODTFit(vec3 v) {\n    vec3 a = v * (v + 0.0245786) - 0.000090537;\n    vec3 b = v * (0.983729 * v + 0.4329510) + 0.238081;\n    return a / b;\n}\nvec3 toneMap(vec3 color) {\n    color *= exposure;\n    color = color * ACESInputMat;\n    // Apply RRT and ODT\n    color = RRTAndODTFit(color);\n    color = color * ACESOutputMat;\n    // Clamp to [0, 1]\n    color = clamp(color, 0.0, 1.0);\n    return color;\n}\n",
        n.dn.tonemappingFilmicPS = "const float A =  0.15;\nconst float B =  0.50;\nconst float C =  0.10;\nconst float D =  0.20;\nconst float E =  0.02;\nconst float F =  0.30;\nconst float W =  11.2;\nuniform float exposure;\nvec3 uncharted2Tonemap(vec3 x) {\n   return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;\n}\nvec3 toneMap(vec3 color) {\n    color = uncharted2Tonemap(color * exposure);\n    vec3 whiteScale = 1.0 / uncharted2Tonemap(vec3(W,W,W));\n    color = color * whiteScale;\n    return color;\n}\n",
        n.dn.tonemappingHejlPS = "uniform float exposure;\nvec3 toneMap(vec3 color) {\n    color *= exposure;\n    const float  A = 0.22, B = 0.3, C = .1, D = 0.2, E = .01, F = 0.3;\n    const float Scl = 1.25;\n    vec3 h = max( vec3(0.0), color - vec3(0.004) );\n    return (h*((Scl*A)*h+Scl*vec3(C*B,C*B,C*B))+Scl*vec3(D*E,D*E,D*E)) / (h*(A*h+vec3(B,B,B))+vec3(D*F,D*F,D*F)) - Scl*vec3(E/F,E/F,E/F);\n}\n",
        n.dn.tonemappingLinearPS = "uniform float exposure;\nvec3 toneMap(vec3 color) {\n    return color * exposure;\n}\n",
        n.dn.tonemappingNonePS = "vec3 toneMap(vec3 color) {\n    return color;\n}\n",
        n.dn.transformVS = "#ifdef PIXELSNAP\n    uniform vec4 uScreenSize;\n#endif\nmat4 getModelMatrix() {\n    #ifdef DYNAMICBATCH\n        return getBoneMatrix(vertex_boneIndices);\n    #elif defined(SKIN)\n        return matrix_model * (getBoneMatrix(vertex_boneIndices.x) * vertex_boneWeights.x +\n               getBoneMatrix(vertex_boneIndices.y) * vertex_boneWeights.y +\n               getBoneMatrix(vertex_boneIndices.z) * vertex_boneWeights.z +\n               getBoneMatrix(vertex_boneIndices.w) * vertex_boneWeights.w);\n    #elif defined(INSTANCING)\n        return mat4(instance_line1, instance_line2, instance_line3, instance_line4);\n    #else\n        return matrix_model;\n    #endif\n}\nvec4 getPosition() {\n    dModelMatrix = getModelMatrix();\n    vec3 localPos = vertex_position;\n    #ifdef NINESLICED\n        // outer and inner vertices are at the same position, scale both\n        localPos.xz *= outerScale;\n        // offset inner vertices inside\n        // (original vertices must be in [-1;1] range)\n        vec2 positiveUnitOffset = clamp(vertex_position.xz, vec2(0.0), vec2(1.0));\n        vec2 negativeUnitOffset = clamp(-vertex_position.xz, vec2(0.0), vec2(1.0));\n        localPos.xz += (-positiveUnitOffset * innerOffset.xy + negativeUnitOffset * innerOffset.zw) * vertex_texCoord0.xy;\n        vTiledUv = (localPos.xz - outerScale + innerOffset.xy) * -0.5 + 1.0; // uv = local pos - inner corner\n        localPos.xz *= -0.5; // move from -1;1 to -0.5;0.5\n        localPos = localPos.xzy;\n    #endif\n    vec4 posW = dModelMatrix * vec4(localPos, 1.0);\n    #ifdef SCREENSPACE\n        posW.zw = vec2(0.0, 1.0);\n    #endif\n    dPositionW = posW.xyz;\n    vec4 screenPos;\n    #ifdef UV1LAYOUT\n        screenPos = vec4(vertex_texCoord1.xy * 2.0 - 1.0, 0.5, 1);\n    #else\n        #ifdef SCREENSPACE\n            screenPos = posW;\n        #else\n            screenPos = matrix_viewProjection * posW;\n        #endif\n        #ifdef PIXELSNAP\n            // snap vertex to a pixel boundary\n            screenPos.xy = (screenPos.xy * 0.5) + 0.5;\n            screenPos.xy *= uScreenSize.xy;\n            screenPos.xy = floor(screenPos.xy);\n            screenPos.xy *= uScreenSize.zw;\n            screenPos.xy = (screenPos.xy * 2.0) - 1.0;\n        #endif\n    #endif\n    return screenPos;\n}\nvec3 getWorldPosition() {\n    return dPositionW;\n}\n",
        n.dn.transformDeclVS = "attribute vec3 vertex_position;\nuniform mat4 matrix_model;\nuniform mat4 matrix_viewProjection;\nvec3 dPositionW;\nmat4 dModelMatrix;\n",
        n.dn.uv0VS = "#ifdef NINESLICED\nvec2 getUv0() {\n    vec2 uv = vertex_position.xz;\n    // offset inner vertices inside\n    // (original vertices must be in [-1;1] range)\n    vec2 positiveUnitOffset = clamp(vertex_position.xz, vec2(0.0), vec2(1.0));\n    vec2 negativeUnitOffset = clamp(-vertex_position.xz, vec2(0.0), vec2(1.0));\n    uv += (-positiveUnitOffset * innerOffset.xy + negativeUnitOffset * innerOffset.zw) * vertex_texCoord0.xy;\n    uv = uv * -0.5 + 0.5;\n    uv = uv * atlasRect.zw + atlasRect.xy;\n    vMask = vertex_texCoord0.xy;\n    return uv;\n}\n#else\nvec2 getUv0() {\n    return vertex_texCoord0;\n}\n#endif\n",
        n.dn.uv1VS = "\nvec2 getUv1() {\n    return vertex_texCoord1;\n}\n",
        n.dn.viewDirPS = "void getViewDir() {\n    dViewDirW = normalize(view_position - vPositionW);\n}\n",
        n.dn.viewNormalVS = "\n#ifndef VIEWMATRIX\n#define VIEWMATRIX\nuniform mat4 matrix_view;\n#endif\nvec3 getViewNormal() {\n    return mat3(matrix_view) * vNormalW;\n}\n",
        n.In = {
            Fr: function(t) {
                return t === n.kr || t === n.Ur ? n.dn.gamma2_2PS : t === n.Vr ? "#define HDR\n" + n.dn.gamma2_2PS : n.dn.gamma1_0PS
            },
            Hr: function(t) {
                return t === n.Gr ? n.dn.tonemappingFilmicPS : t === n.Wr ? n.dn.tonemappingLinearPS : t === n.Yr ? n.dn.tonemappingHejlPS : t === n.Xr ? n.dn.tonemappingAcesPS : t === n.Kr ? n.dn.tonemappingAces2PS : n.dn.tonemappingNonePS
            },
            Qr: function(t) {
                return "linear" === t ? n.dn.fogLinearPS : "exp" === t ? n.dn.fogExpPS : "exp2" === t ? n.dn.fogExp2PS : n.dn.fogNonePS
            },
            Jr: function(t, e) {
                return e || (e = n.dn),
                t.supportsBoneTextures ? e.skinTexVS : "#define BONE_LIMIT " + t.getBoneLimit() + "\n" + e.skinConstVS
            },
            Or: function(t) {
                var e = "precision " + t.precision + " float;\n";
                return t.webgl2 && (e += "#ifdef GL2\nprecision " + t.precision + " sampler2DShadow;\n#endif\n"),
                e
            },
            Er: function(t) {
                return t.webgl2 ? "#version 300 es\n" : ""
            },
            Dr: function() {
                return "void main(void) {gl_FragColor = vec4(0.0);}"
            },
            qr: function() {
                return "void main(void)\n{\n"
            },
            end: function() {
                return "}\n"
            }
        },
        n.In.basic = {
            generateKey: function(t) {
                var e = "basic";
                return t.fog && (e += "_fog"),
                t.alphaTest && (e += "_atst"),
                t.vertexColors && (e += "_vcol"),
                t.diffuseMap && (e += "_diff"),
                e += "_" + t.pass
            },
            En: function(t, e) {
                var i = {
                    vertex_position: n.Yi
                };
                e.skin && (i.vertex_boneWeights = n.Qi,
                i.vertex_boneIndices = n.Ji),
                e.vertexColors && (i.vertex_color = n.qi),
                e.diffuseMap && (i.vertex_texCoord0 = n.SEMANTIC_TEXCOORD0);
                var s = n.dn
                  , r = "";
                r += s.transformDeclVS,
                e.skin ? (r += n.In.Jr(t),
                r += s.transformSkinnedVS) : r += s.transformVS,
                e.vertexColors && (r += "attribute vec4 vertex_color;\n",
                r += "varying vec4 vColor;\n"),
                e.diffuseMap && (r += "attribute vec2 vertex_texCoord0;\n",
                r += "varying vec2 vUv0;\n"),
                e.pass === n.Zr && (r += "varying float vDepth;\n",
                r += "#ifndef VIEWMATRIX\n",
                r += "#define VIEWMATRIX\n",
                r += "uniform mat4 matrix_view;\n",
                r += "#endif\n",
                r += "#ifndef CAMERAPLANES\n",
                r += "#define CAMERAPLANES\n",
                r += "uniform vec4 camera_params;\n\n",
                r += "#endif\n"),
                r += n.In.qr(),
                r += "   gl_Position = getPosition();\n",
                e.pass === n.Zr && (r += "    vDepth = -(matrix_view * vec4(getWorldPosition(),1.0)).z * camera_params.x;\n"),
                e.vertexColors && (r += "    vColor = vertex_color;\n"),
                e.diffuseMap && (r += "    vUv0 = vertex_texCoord0;\n");
                var a = r += n.In.end(), h;
                return r = n.In.Or(t),
                e.vertexColors ? r += "varying vec4 vColor;\n" : r += "uniform vec4 uColor;\n",
                e.diffuseMap && (r += "varying vec2 vUv0;\n",
                r += "uniform sampler2D texture_diffuseMap;\n"),
                e.fog && (r += n.In.Qr(e.fog)),
                e.alphatest && (r += s.alphaTestPS),
                e.pass === n.Zr && (r += "varying float vDepth;\n",
                r += s.packDepthPS),
                r += n.In.qr(),
                e.vertexColors ? r += "    gl_FragColor = vColor;\n" : r += "    gl_FragColor = uColor;\n",
                e.diffuseMap && (r += "    gl_FragColor *= texture2D(texture_diffuseMap, vUv0);\n"),
                e.alphatest && (r += "   alphaTest(gl_FragColor.a);\n"),
                e.pass === n.Tn || (e.pass === n.Zr ? r += "    gl_FragColor = packFloat(vDepth);\n" : e.fog && (r += "   glFragColor.rgb = addFog(gl_FragColor.rgb);\n")),
                {
                    attributes: i,
                    Mr: a,
                    Sr: r += n.In.end()
                }
            }
        },
        n.In.particle = {
            generateKey: function(t) {
                var e = "particle";
                for (var i in t)
                    t.hasOwnProperty(i) && (e += t[i]);
                return e
            },
            _animTex: function(t, e) {
                var i = "";
                return i += t.animTexLoop ? e.particleAnimFrameLoopVS : e.particleAnimFrameClampVS,
                i += e.particleAnimTexVS
            },
            En: function(t, e) {
                var i = n.dn, s = "", r = n.In.Or(t) + "\n", a;
                return t.webgl2 && (s += "#define GL2\n",
                r += "#define GL2\n"),
                s += "#define VERTEXSHADER\n",
                e.animTex && (s += "\nuniform vec4 animTexParams;\n"),
                2 == e.normal && (s += "\nvarying mat3 ParticleMat;\n"),
                1 == e.normal && (s += "\nvarying vec3 Normal;\n"),
                e.soft && (s += "\nvarying float vDepth;\n"),
                e.useCpu ? (e.soft > 0 && (s += i.screenDepthPS),
                s += i.particle_cpuVS,
                e.localSpace && (s += i.particle_localShiftVS),
                e.animTex && (s += this._animTex(e, i)),
                e.alignToMotion && (s += i.particle_pointAlongVS),
                s += e.mesh ? i.particle_meshVS : i.particle_billboardVS,
                1 == e.normal && (s += i.particle_normalVS),
                2 == e.normal && (s += i.particle_TBNVS),
                e.stretch > 0 && (s += i.particle_stretchVS),
                s += i.particle_cpu_endVS,
                e.soft > 0 && (s += i.particle_softVS)) : (s += i.particle_initVS,
                s += e.pack8 ? i.particleInputRgba8PS : i.particleInputFloatPS,
                e.soft > 0 && (s += i.screenDepthPS),
                s += i.particleVS,
                e.localSpace && (s += i.particle_localShiftVS),
                e.animTex && (s += this._animTex(e, i)),
                e.wrap && (s += i.particle_wrapVS),
                e.alignToMotion && (s += i.particle_pointAlongVS),
                s += e.mesh ? i.particle_meshVS : i.particle_billboardVS,
                1 == e.normal && (s += i.particle_normalVS),
                2 == e.normal && (s += i.particle_TBNVS),
                e.stretch > 0 && (s += i.particle_stretchVS),
                s += i.particle_endVS,
                e.soft > 0 && (s += i.particle_softVS)),
                s += "}\n",
                e.normal > 0 && (1 == e.normal ? r += "\nvarying vec3 Normal;\n" : 2 == e.normal && (r += "\nvarying mat3 ParticleMat;\n"),
                r += "\nuniform vec3 lightCube[6];\n"),
                e.soft && (r += "\nvarying float vDepth;\n"),
                0 === e.normal && "none" === e.fog && (e.srgb = !1),
                r += n.In.Fr(e.gamma),
                r += n.In.Hr(e.toneMap),
                "linear" === e.fog ? r += i.fogLinearPS : "exp" === e.fog ? r += i.fogExpPS : "exp2" === e.fog ? r += i.fogExp2PS : r += i.fogNonePS,
                2 == e.normal && (r += "\nuniform sampler2D normalMap;\n"),
                e.soft > 0 && (r += i.screenDepthPS),
                r += i.particlePS,
                e.soft > 0 && (r += i.particle_softPS),
                1 == e.normal && (r += "\nvec3 normal = Normal;\n"),
                2 == e.normal && (r += i.particle_normalMapPS),
                e.normal > 0 && (r += e.halflambert ? i.particle_halflambertPS : i.particle_lambertPS),
                e.normal > 0 && (r += i.particle_lightingPS),
                e.blend == n.$r ? r += i.particle_blendNormalPS : e.blend == n.ta ? r += i.particle_blendAddPS : e.blend == n.ea && (r += i.particle_blendMultiplyPS),
                r += i.particle_endPS,
                {
                    attributes: n.dn.collectAttribs(s),
                    Mr: s,
                    Sr: r
                }
            }
        };
        var gt = function(t, e) {}, pt = function(t, e, i) {
            return "\n#ifdef MAPFLOAT\n" + t + "\n#else\n" + n.dn[e] + "\n#endif\n"
        }, wt = function(t, e, i) {
            return "\n#ifdef MAPCOLOR\n" + t + "\n#else\n" + n.dn[e] + "\n#endif\n"
        }, xt = function(t, e, i) {
            return "\n#ifdef MAPTEXTURE\n" + t + "\n#else\n" + n.dn[e] + "\n#endif\n"
        }, zt = function(t, e, i) {
            return "#undef MAPTEXTURECOLOR\n#ifdef MAPTEXTURE\n#ifdef MAPCOLOR\n#define MAPTEXTURECOLOR\n#endif\n#endif\n#ifdef MAPTEXTURECOLOR\n" + t + "\n#else\n" + n.dn[e] + "\n#endif\n"
        }, _t = function(t, e, i) {
            return "#undef MAPTEXTUREFLOAT\n#ifdef MAPTEXTURE\n#ifdef MAPFLOAT\n#define MAPTEXTUREFLOAT\n#endif\n#endif\n#ifdef MAPTEXTUREFLOAT\n" + t + "\n#else\n" + n.dn[e] + "\n#endif\n"
        }, At = function(t, e, i) {
            return "\n#ifdef MAPVERTEX\n" + t + "\n#else\n" + n.dn[e] + "\n#endif\n"
        }, yt = function(t, e, i) {
            return "#undef MAPVERTEXCOLOR\n#ifdef MAPVERTEX\n#ifdef MAPCOLOR\n#define MAPVERTEXCOLOR\n#endif\n#endif\n#ifdef MAPVERTEXCOLOR\n" + t + "\n#else\n" + n.dn[e] + "\n#endif\n"
        }, Mt = function(t, e, i) {
            return "#undef MAPVERTEXFLOAT\n#ifdef MAPVERTEX\n#ifdef MAPFLOAT\n#define MAPVERTEXFLOAT\n#endif\n#endif\n#ifdef MAPVERTEXFLOAT\n" + t + "\n#else\n" + n.dn[e] + "\n#endif\n"
        }, St = function(t, e, i) {
            return "\n#ifdef SKIN\n" + t + "\n#else\n" + n.dn[e] + "\n#endif\n"
        }, Ct = function(t, e, i) {
            return "\n#ifdef DYNAMICBATCH\n" + t + "\n#else\n" + n.dn[e] + "\n#endif\n"
        }, Ot = function(t, e, i) {
            return "\n#ifdef INSTANCING\n" + t + "\n#else\n" + n.dn[e] + "\n#endif\n"
        }, Et = function(t, e, i) {
            return "\n#ifdef PIXELSNAP\n" + t + "\n#else\n" + n.dn[e] + "\n#endif\n"
        }, Dt = function(t, e, i) {
            return "\n#ifdef SCREENSPACE\n" + t + "\n#else\n" + n.dn[e] + "\n#endif\n"
        }, Tt = function(t, e, i) {
            return "#undef SCREENSPACEBATCH\n#ifdef SCREENSPACE\n#ifdef BATCH\n#define SCREENSPACEBATCH\n#endif\n#endif\n#ifdef SCREENSPACEBATCH\n" + t + "\n#else\n" + n.dn[e] + "\n#endif\n"
        }, Pt = function(t, e, i) {
            return "\n#ifdef UV1LAYOUT\n" + t + "\n#else\n" + n.dn[e] + "\n#endif\n"
        }, Bt, It, jt, Rt, Lt, Nt, Ft, kt, Ut, Vt, Ht, Gt, Wt, Yt, Xt, Kt, Qt, Jt, qt, Zt, $t, te, ee, ie, se, ne, re, ae, he, ce, oe, ue, fe, de, le, be, ve, me;
        n.In.standard = {
            _oldChunkToNew: {
                aoTexPS: {
                    n: "aoPS",
                    f: xt
                },
                aoVertPS: {
                    n: "aoPS",
                    f: At
                },
                diffuseConstPS: {
                    n: "diffusePS",
                    f: wt
                },
                diffuseTexPS: {
                    n: "diffusePS",
                    f: xt
                },
                diffuseTexConstPS: {
                    n: "diffusePS",
                    f: zt
                },
                diffuseVertPS: {
                    n: "diffusePS",
                    f: At
                },
                diffuseVertConstPS: {
                    n: "diffusePS",
                    f: yt
                },
                emissiveConstPS: {
                    n: "emissivePS",
                    f: wt
                },
                emissiveTexPS: {
                    n: "emissivePS",
                    f: xt
                },
                emissiveTexConstPS: {
                    n: "emissivePS",
                    f: zt
                },
                emissiveTexConstFloatPS: {
                    n: "emissivePS",
                    f: _t
                },
                emissiveVertPS: {
                    n: "emissivePS",
                    f: At
                },
                emissiveVertConstPS: {
                    n: "emissivePS",
                    f: yt
                },
                emissiveVertConstFloatPS: {
                    n: "emissivePS",
                    f: Mt
                },
                glossConstPS: {
                    n: "glossPS",
                    f: pt
                },
                glossTexPS: {
                    n: "glossPS",
                    f: xt
                },
                glossTexConstPS: {
                    n: "glossPS",
                    f: _t
                },
                glossVertPS: {
                    n: "glossPS",
                    f: At
                },
                glossVertConstPS: {
                    n: "glossPS",
                    f: Mt
                },
                metalnessConstPS: {
                    n: "metalnessPS",
                    f: pt
                },
                metalnessTexPS: {
                    n: "metalnessPS",
                    f: xt
                },
                metalnessTexConstPS: {
                    n: "metalnessPS",
                    f: _t
                },
                metalnessVertPS: {
                    n: "metalnessPS",
                    f: At
                },
                metalnessVertConstPS: {
                    n: "metalnessPS",
                    f: Mt
                },
                opacityConstPS: {
                    n: "opacityPS",
                    f: pt
                },
                opacityTexPS: {
                    n: "opacityPS",
                    f: xt
                },
                opacityTexConstPS: {
                    n: "opacityPS",
                    f: _t
                },
                opacityVertPS: {
                    n: "opacityPS",
                    f: At
                },
                opacityVertConstPS: {
                    n: "opacityPS",
                    f: Mt
                },
                specularConstPS: {
                    n: "specularPS",
                    f: wt
                },
                specularTexPS: {
                    n: "specularPS",
                    f: xt
                },
                specularTexConstPS: {
                    n: "specularPS",
                    f: zt
                },
                specularVertPS: {
                    n: "specularPS",
                    f: At
                },
                specularVertConstPS: {
                    n: "specularPS",
                    f: yt
                },
                transformBatchSkinnedVS: {
                    n: "transformVS",
                    f: Ct
                },
                transformInstancedVS: {
                    n: "transformVS",
                    f: Ot
                },
                transformPixelSnapVS: {
                    n: "transformVS",
                    f: Et
                },
                transformScreenSpaceVS: {
                    n: "transformVS",
                    f: Dt
                },
                transformScreenSpaceBatchSkinned: {
                    n: "transformVS",
                    f: Tt
                },
                transformSkinned: {
                    n: "transformVS",
                    f: St
                },
                transformUv1: {
                    n: "transformVS",
                    f: Pt
                }
            },
            optionsContext: {},
            optionsContextMin: {},
            generateKey: function(t) {
                var e = function(t) {
                    var e = [];
                    for (var i in t)
                        t.hasOwnProperty(i) && "chunks" !== i && "lights" !== i && e.push(i);
                    return e.sort()
                }, i;
                t === this.optionsContextMin ? (this.propsMin || (this.propsMin = e(t)),
                i = this.propsMin) : t === this.optionsContext ? (this.props || (this.props = e(t)),
                i = this.props) : i = e(t);
                var s = "standard", r;
                for (r = 0; r < i.length; r++)
                    t[i[r]] && (s += i[r] + t[i[r]]);
                if (t.chunks) {
                    var a = [];
                    for (var h in t.chunks)
                        t.chunks.hasOwnProperty(h) && a.push(h + t.chunks[h]);
                    a.sort(),
                    s += a
                }
                if (t.lights)
                    for (r = 0; r < t.lights.length; r++)
                        s += t.lights[r].key;
                return n.hashCode(s)
            },
            _correctChannel: function(t, e) {
                if (n.ia[t] > 0) {
                    if (n.ia[t] < e.length)
                        return e.substring(0, n.ia[t]);
                    if (n.ia[t] > e.length) {
                        for (var i = e, s = i.charAt(i.length - 1), r = n.ia[t] - i.length, a = 0; a < r; a++)
                            i += s;
                        return i
                    }
                    return e
                }
            },
            _setMapTransform: function(t, e, i, s) {
                t[0] += "uniform vec4 texture_" + e + "MapTransform;\n";
                var n = i + 100 * s;
                return t[3][n] || (t[1] += "varying vec2 vUV" + s + "_" + i + ";\n",
                t[2] += "   vUV" + s + "_" + i + " = uv" + s + " * texture_" + e + "MapTransform.xy + texture_" + e + "MapTransform.zw;\n",
                t[3][n] = !0),
                t
            },
            _getUvSourceExpression: function(t, e, i) {
                var s = i[t], r = i[e], a;
                return i.nineSlicedMode === n.SPRITE_RENDERMODE_SLICED ? a = "nineSlicedUv" : i.nineSlicedMode === n.SPRITE_RENDERMODE_TILED ? a = "nineSlicedUv, -1000.0" : (a = 0 === s ? "vUv" + r : "vUV" + r + "_" + s,
                i.heightMap && "heightMapTransform" !== t && (a += " + dUvOffset")),
                a
            },
            _addMapDef: function(t, e) {
                var i = "\n#undef " + t + "\n";
                return e && (i += " #define " + t + "\n"),
                i
            },
            _addMapDefs: function(t, e, i, s) {
                var n = "";
                return n += this._addMapDef("MAPFLOAT", t),
                n += this._addMapDef("MAPCOLOR", e),
                n += this._addMapDef("MAPVERTEX", i),
                n += this._addMapDef("MAPTEXTURE", s)
            },
            _addMap: function(t, e, i, s, n) {
                var r = t + "Map", a = r + "Uv", h = r + "Transform", c = r + "Channel", o = t + "VertexColorChannel", u, f = t + "VertexColor", d = i[t + "Tint"], l = i[f], b = i[r], v = s[e];
                if (b) {
                    var m = this._getUvSourceExpression(h, a, i);
                    if (v = v.replace(/\$UV/g, m).replace(/\$CH/g, i[c]),
                    void 0 !== n) {
                        var g = 0 === n ? "texture2DSRGB" : 1 === n ? "texture2DRGBM" : "texture2D";
                        v = v.replace(/\$texture2DSAMPLE/g, g)
                    }
                }
                l && (v = v.replace(/\$VC/g, i[o]));
                var p = 1 === d
                  , w = 3 === d;
                return (v = this._addMapDefs(p, w, l, b) + v).replace(/\$/g, "")
            },
            _nonPointShadowMapProjection: function(t, e, i) {
                return !e._normalOffsetBias || e._isVsm ? e._type === n.sa ? e._isPcf && (t.webgl2 || t.extStandardDerivatives) ? "       getShadowCoordPerspZbuffer" + i : "       getShadowCoordPersp" + i : "       getShadowCoordOrtho" + i : e._type === n.sa ? e._isPcf && (t.webgl2 || t.extStandardDerivatives) ? "       getShadowCoordPerspZbufferNormalOffset" + i : "       getShadowCoordPerspNormalOffset" + i : "       getShadowCoordOrthoNormalOffset" + i
            },
            na: function(t, e, i) {
                return t.indexOf(i) >= 0 ? "varying " + e + " " + i + ";\n" : ""
            },
            _vsAddTransformCode: function(t, e, i, s) {
                return t += i.transformVS
            },
            _vsAddBaseCode: function(t, e, i, s) {
                return t += i.baseVS,
                s.nineSlicedMode !== n.SPRITE_RENDERMODE_SLICED && s.nineSlicedMode !== n.SPRITE_RENDERMODE_TILED || (t += i.baseNineSlicedVS),
                t
            },
            _fsAddBaseCode: function(t, e, i, s) {
                return t += i.basePS,
                s.nineSlicedMode === n.SPRITE_RENDERMODE_SLICED ? t += i.baseNineSlicedPS : s.nineSlicedMode === n.SPRITE_RENDERMODE_TILED && (t += i.baseNineSlicedTiledPS),
                t
            },
            _fsAddStartCode: function(t, e, i, s) {
                return t += i.startPS,
                s.nineSlicedMode === n.SPRITE_RENDERMODE_SLICED ? t += i.startNineSlicedPS : s.nineSlicedMode === n.SPRITE_RENDERMODE_TILED && (t += i.startNineSlicedTiledPS),
                t
            },
            En: function(t, e) {
                var i, s, r = e.lights.length > 0;
                e.dirLightMap && (r = !0,
                e.useSpecular = !0),
                e.shadingModel === n.ra ? (e.fresnelModel = 0,
                e.specularAntialias = !1,
                e.prefilteredCubemap = !1,
                e.dpAtlas = !1,
                e.ambientSH = !1) : e.fresnelModel = 0 === e.fresnelModel ? n.ha : e.fresnelModel;
                var a = (e.cubeMap || e.prefilteredCubemap && e.useSpecular) && !e.sphereMap && !e.dpAtlas
                  , h = e.sphereMap || a || e.dpAtlas
                  , c = e.useTexCubeLod;
                e.cubeMap && (e.sphereMap = null),
                e.dpAtlas && (e.prefilteredCubemap = null),
                e.useSpecular || (e.specularMap = e.glossMap = null);
                var o = r || h || e.ambientSH || e.prefilteredCubemap || e.heightMap
                  , u = e.pass >= n.On && e.pass <= 17;
                this.options = e;
                var f = "", d = "", l = "", b = n.dn, v, m, g, p = {
                    vertex_position: n.Yi
                };
                if (e.chunks) {
                    var w = {}, x;
                    for (s in b)
                        b.hasOwnProperty(s) && (e.chunks[s] ? ((g = e.chunks[s]).indexOf("vertex_normal") >= 0 && (p.vertex_normal = n.Xi),
                        g.indexOf("vertex_tangent") >= 0 && (p.vertex_tangent = n.Ki),
                        g.indexOf("vertex_texCoord0") >= 0 && (p.vertex_texCoord0 = n.SEMANTIC_TEXCOORD0),
                        g.indexOf("vertex_texCoord1") >= 0 && (p.vertex_texCoord1 = n.SEMANTIC_TEXCOORD1),
                        g.indexOf("vertex_color") >= 0 && (p.vertex_color = n.qi),
                        g.indexOf("vertex_boneWeights") >= 0 && (p.vertex_boneWeights = n.Qi),
                        g.indexOf("vertex_boneIndices") >= 0 && (p.vertex_boneIndices = n.Ji),
                        w[s] = g) : w[s] = b[s]);
                    for (s in e.chunks)
                        (x = this._oldChunkToNew[s]) && (w[x.n] = x.f(e.chunks[s], x.n, s));
                    b = w
                }
                f = this._vsAddBaseCode(f, t, b, e);
                var z = -1;
                if (!e.noShadow && !e.twoSidedLighting) {
                    for (i = 0; i < e.lights.length; i++)
                        if (v = e.lights[i]._type,
                        e.lights[i].castShadows && v === n.ca) {
                            f += "uniform mat4 light" + i + "_shadowMatrixVS;\n",
                            f += "uniform vec3 light" + i + "_shadowParamsVS;\n",
                            f += "uniform vec3 light" + i + (v === n.ca ? "_directionVS" : "_positionVS") + ";\n",
                            z = i;
                            break
                        }
                    z >= 0 && (f += b.shadowCoordVS)
                }
                d += "   vPositionW    = getWorldPosition();\n",
                e.pass === n.Zr && (f += "varying float vDepth;\n",
                f += "#ifndef VIEWMATRIX\n",
                f += "#define VIEWMATRIX\n",
                f += "uniform mat4 matrix_view;\n",
                f += "#endif\n",
                f += "#ifndef CAMERAPLANES\n",
                f += "#define CAMERAPLANES\n",
                f += "uniform vec4 camera_params;\n\n",
                f += "#endif\n",
                d += "    vDepth = -(matrix_view * vec4(vPositionW,1.0)).z * camera_params.x;\n"),
                e.useInstancing && (p.instance_line1 = n.SEMANTIC_TEXCOORD2,
                p.instance_line2 = n.SEMANTIC_TEXCOORD3,
                p.instance_line3 = n.SEMANTIC_TEXCOORD4,
                p.instance_line4 = n.SEMANTIC_TEXCOORD5,
                f += b.instancingVS),
                o && (p.vertex_normal = n.Xi,
                d += "   vNormalW    = dNormalW = getNormal();\n",
                e.sphereMap && t.fragmentUniformsCount <= 16 && (f += b.viewNormalVS,
                d += "   vNormalV    = getViewNormal();\n"),
                (e.heightMap || e.normalMap) && e.hasTangents && (p.vertex_tangent = n.Ki,
                f += b.tangentBinormalVS,
                d += "   vTangentW   = getTangent();\n",
                d += "   vBinormalW  = getBinormal();\n"),
                z >= 0 && ((v = e.lights[z]._type) === n.ca ? d += "   dLightDirNormW = light" + z + "_directionVS;\n" : d += "   getLightDirPoint(light" + z + "_positionVS);\n",
                m = "(light" + z + "_shadowMatrixVS, light" + z + "_shadowParamsVS);\n",
                d += this._nonPointShadowMapProjection(t, e.lights[z], m)));
                var _ = [], A = [], y = 2, M, S, C, O;
                for (s in n.ia)
                    if (S = s + "Map",
                    e[s + "VertexColor"] && (e[M = s + "VertexColorChannel"] = this._correctChannel(s, e[M])),
                    e[S]) {
                        M = S + "Channel",
                        C = S + "Transform",
                        e[O = S + "Uv"] = Math.min(e[O], 1),
                        e[M] = this._correctChannel(s, e[M]);
                        var E = e[O];
                        _[E] = !0,
                        A[E] = A[E] || e[S] && !e[C]
                    }
                for (e.forceUv1 && (_[1] = !0),
                i = 0; i < 2; i++)
                    _[i] && (p["vertex_texCoord" + i] = n["SEMANTIC_TEXCOORD" + i],
                    f += b["uv" + i + "VS"],
                    d += "   vec2 uv" + i + " = getUv" + i + "();\n"),
                    A[i] && (d += "   vUv" + i + " = uv" + i + ";\n");
                var D = [f, l, d, []];
                for (s in n.ia)
                    e[S = s + "Map"] && e[C = S + "Transform"] && (O = S + "Uv",
                    this._setMapTransform(D, s, e[C], e[O]));
                f = D[0],
                l = D[1],
                d = D[2],
                e.vertexColors && (p.vertex_color = n.qi,
                d += "   vVertexColor = vertex_color;\n"),
                e.skin ? (p.vertex_boneWeights = n.Qi,
                p.vertex_boneIndices = n.Ji,
                f += n.In.Jr(t, b),
                f += "#define SKIN\n") : e.useInstancing && (f += "#define INSTANCING\n"),
                e.screenSpace && (f += "#define SCREENSPACE\n"),
                e.pixelSnap && (f += "#define PIXELSNAP\n"),
                f = this._vsAddTransformCode(f, t, b, e),
                o && (f += b.normalVS),
                f += "\n",
                f += b.startVS,
                f += d;
                var T = f += "}"
                  , P = l;
                l = "",
                l += this.na(f, "vec4", "vMainShadowUv"),
                l += this.na(f, "vec4", "vVertexColor"),
                l += this.na(f, "vec3", "vPositionW"),
                l += this.na(f, "vec3", "vNormalV"),
                l += this.na(f, "vec3", "vNormalW"),
                l += this.na(f, "vec3", "vTangentW"),
                l += this.na(f, "vec3", "vBinormalW"),
                l += this.na(f, "vec2", "vUv0"),
                l += this.na(f, "vec2", "vUv1"),
                T = (l += P) + T;
                var B = "", I;
                if (t.webgl2 ? (B = n.In.Er(t),
                b.extensionVS && (B += b.extensionVS + "\n"),
                T = B + b.gles3VS + T) : (b.extensionVS && (B = b.extensionVS + "\n"),
                T = B + T),
                e.forceFragmentPrecision && "highp" != e.forceFragmentPrecision && "mediump" !== e.forceFragmentPrecision && "lowp" !== e.forceFragmentPrecision && (e.forceFragmentPrecision = null),
                e.forceFragmentPrecision && ("highp" === e.forceFragmentPrecision && "highp" !== t.maxPrecision && (e.forceFragmentPrecision = "mediump"),
                "mediump" === e.forceFragmentPrecision && "lowp" === t.maxPrecision && (e.forceFragmentPrecision = "lowp")),
                f = "",
                t.webgl2 && (f += n.In.Er(t)),
                t.extStandardDerivatives && !t.webgl2 && (f += "#extension GL_OES_standard_derivatives : enable\n\n"),
                b.extensionPS && (f += b.extensionPS + "\n"),
                t.webgl2 && (f += b.gles3PS),
                f += e.forceFragmentPrecision ? "precision " + e.forceFragmentPrecision + " float;\n\n" : n.In.Or(t),
                e.pass === n.Tn)
                    return f += "uniform vec4 uColor;",
                    f += l,
                    e.alphaTest && (f += "float dAlpha;\n",
                    f += this._addMap("opacity", "opacityPS", e, b),
                    f += b.alphaTestPS),
                    f += n.In.qr(),
                    e.alphaTest && (f += "   getOpacity();\n",
                    f += "   alphaTest(dAlpha);\n"),
                    f += "    gl_FragColor = uColor;\n",
                    {
                        attributes: p,
                        Mr: T,
                        Sr: f += n.In.end()
                    };
                if (e.pass === n.Zr)
                    return f += "varying float vDepth;\n",
                    f += l,
                    f += b.packDepthPS,
                    e.alphaTest && (f += "float dAlpha;\n",
                    f += this._addMap("opacity", "opacityPS", e, b),
                    f += b.alphaTestPS),
                    f += n.In.qr(),
                    e.alphaTest && (f += "   getOpacity();\n",
                    f += "   alphaTest(dAlpha);\n"),
                    f += "    gl_FragColor = packFloat(vDepth);\n",
                    {
                        attributes: p,
                        Mr: T,
                        Sr: f += n.In.end()
                    };
                if (u) {
                    var j = e.pass - n.On
                      , R = 5
                      , L = j - 5 * (v = Math.floor(j / 5));
                    t.extStandardDerivatives && !t.webgl2 && (f += "uniform vec2 polygonOffset;\n"),
                    L === n.oa ? t.textureFloatHighPrecision ? f += "#define VSM_EXPONENT 15.0\n\n" : f += "#define VSM_EXPONENT 5.54\n\n" : L === n.ua && (f += "#define VSM_EXPONENT 5.54\n\n"),
                    v !== n.ca && (f += "uniform vec3 view_position;\n",
                    f += "uniform float light_radius;\n"),
                    f += l,
                    e.alphaTest && (f += "float dAlpha;\n",
                    f += this._addMap("opacity", "opacityPS", e, b),
                    f += b.alphaTestPS),
                    L !== n.fa || t.webgl2 && v !== n.da ? L === n.la && (f += "vec2 encodeFloatRG( float v ) {\n",
                    f += "    vec2 enc = vec2(1.0, 255.0) * v;\n",
                    f += "    enc = fract(enc);\n",
                    f += "    enc -= enc.yy * vec2(1.0/255.0, 1.0/255.0);\n",
                    f += "    return enc;\n",
                    f += "}\n\n") : f += b.packDepthPS,
                    f += n.In.qr(),
                    e.alphaTest && (f += "   getOpacity();\n",
                    f += "   alphaTest(dAlpha);\n");
                    var N = L === n.la || L === n.ua || L === n.oa;
                    return v === n.da || N && v !== n.ca ? f += "   float depth = min(distance(view_position, vPositionW) / light_radius, 0.99999);\n" : f += "   float depth = gl_FragCoord.z;\n",
                    L !== n.fa || t.webgl2 && v !== n.da ? L === n.fa || L === n.ba ? f += "   gl_FragColor = vec4(1.0);\n" : L === n.la ? f += "   gl_FragColor = vec4(encodeFloatRG(depth), encodeFloatRG(depth*depth));\n" : f += b.storeEVSMPS : t.extStandardDerivatives && !t.webgl2 ? (f += "   float minValue = 2.3374370500153186e-10; //(1.0 / 255.0) / (256.0 * 256.0 * 256.0);\n",
                    f += "   depth += polygonOffset.x * max(abs(dFdx(depth)), abs(dFdy(depth))) + minValue * polygonOffset.y;\n",
                    f += "   gl_FragColor = packFloat(depth);\n") : f += "   gl_FragColor = packFloat(depth);\n",
                    {
                        attributes: p,
                        Mr: T,
                        Sr: f += n.In.end()
                    }
                }
                if (e.customFragmentShader)
                    return {
                        attributes: p,
                        Mr: T,
                        Sr: I = f + e.customFragmentShader,
                        tag: n.gs
                    };
                f += l;
                var F = f = this._fsAddBaseCode(f, t, b, e);
                f = "";
                var k = 0, U = [], V = !1, H = !1, G, W;
                for (i = 0; i < e.lights.length; i++)
                    f += "uniform vec3 light" + i + "_color;\n",
                    (v = (G = e.lights[i])._type) === n.ca ? f += "uniform vec3 light" + i + "_direction;\n" : (f += "uniform vec3 light" + i + "_position;\n",
                    f += "uniform float light" + i + "_radius;\n",
                    v === n.sa && (f += "uniform vec3 light" + i + "_direction;\n",
                    f += "uniform float light" + i + "_innerConeAngle;\n",
                    f += "uniform float light" + i + "_outerConeAngle;\n")),
                    G.castShadows && !e.noShadow && (f += "uniform mat4 light" + i + "_shadowMatrix;\n",
                    v !== n.ca ? f += "uniform vec4 light" + i + "_shadowParams;\n" : f += "uniform vec3 light" + i + "_shadowParams;\n",
                    v === n.da ? f += "uniform samplerCube light" + i + "_shadowMap;\n" : G._isPcf && t.webgl2 ? f += "uniform sampler2DShadow light" + i + "_shadowMap;\n" : f += "uniform sampler2D light" + i + "_shadowMap;\n",
                    k++,
                    U[G._shadowType] = !0,
                    G._isVsm && (V = !0),
                    G._isPcf && (t.webgl2 || t.extStandardDerivatives) && v === n.sa && (H = !0)),
                    G._cookie && (G._cookie._cubemap ? v === n.da && (f += "uniform samplerCube light" + i + "_cookie;\n",
                    f += "uniform float light" + i + "_cookieIntensity;\n",
                    G.castShadows && !e.noShadow || (f += "uniform mat4 light" + i + "_shadowMatrix;\n")) : v === n.sa && (f += "uniform sampler2D light" + i + "_cookie;\n",
                    f += "uniform float light" + i + "_cookieIntensity;\n",
                    G.castShadows && !e.noShadow || (f += "uniform mat4 light" + i + "_shadowMatrix;\n"),
                    G._cookieTransform && (f += "uniform vec4 light" + i + "_cookieMatrix;\n",
                    f += "uniform vec2 light" + i + "_cookieOffset;\n")));
                if (f += "\n",
                W = e.hasTangents ? e.fastTbn ? b.TBNfastPS : b.TBNPS : b.TBNderivativePS,
                o)
                    if (e.normalMap) {
                        f += e.packedNormal ? b.normalXYPS : b.normalXYZPS;
                        var Y = this._getUvSourceExpression("normalMapTransform", "normalMapUv", e);
                        e.needsNormalFloat ? f += (e.fastTbn ? b.normalMapFloatTBNfastPS : b.normalMapFloatPS).replace(/\$UV/g, Y) : f += b.normalMapPS.replace(/\$UV/g, Y),
                        e.hasTangents || (W = W.replace(/\$UV/g, Y)),
                        f += W
                    } else
                        f += b.normalVertexPS;
                if (f += n.In.Fr(e.gamma),
                f += n.In.Hr(e.toneMap),
                f += n.In.Qr(e.fog),
                e.useRgbm && (f += b.rgbmPS),
                (a || e.prefilteredCubemap) && (f += e.fixSeams ? b.fixCubemapSeamsStretchPS : b.fixCubemapSeamsNonePS),
                o && (f += e.cubeMapProjection > 0 ? b.cubeMapProjectBoxPS : b.cubeMapProjectNonePS,
                f += e.skyboxIntensity ? b.envMultiplyPS : b.envConstPS),
                f += this._addMap("diffuse", "diffusePS", e, b),
                (e.blendType !== n.va || e.alphaTest || e.alphaToCoverage) && (f += this._addMap("opacity", "opacityPS", e, b)),
                f += this._addMap("emissive", "emissivePS", e, b, e.emissiveFormat),
                e.useSpecular && (r || h)) {
                    e.specularAntialias && e.normalMap ? e.needsNormalFloat && o ? f += b.specularAaToksvigFloatPS : f += b.specularAaToksvigPS : f += b.specularAaNonePS;
                    var X = e.useMetalness ? "metalness" : "specular";
                    f += this._addMap(X, X + "PS", e, b),
                    f += this._addMap("gloss", "glossPS", e, b),
                    e.fresnelModel > 0 && (e.fresnelModel === n.ma ? f += b.fresnelSimplePS : e.fresnelModel === n.ha ? f += b.fresnelSchlickPS : e.fresnelModel === n.ga && (f += b.fresnelComplexPS))
                }
                if (e.heightMap) {
                    if (!e.normalMap) {
                        var K = this._getUvSourceExpression("heightMapTransform", "heightMapUv", e);
                        e.hasTangents || (W = W.replace(/\$UV/g, K)),
                        f += W
                    }
                    f += this._addMap("height", "parallaxPS", e, b)
                }
                var Q = e.aoMap || e.aoVertexColor;
                Q && (f += this._addMap("ao", "aoPS", e, b),
                e.occludeSpecular && (e.occludeSpecular === n.pa ? f += e.occludeSpecularFloat ? b.aoSpecOccSimplePS : b.aoSpecOccConstSimplePS : f += e.occludeSpecularFloat ? b.aoSpecOccPS : b.aoSpecOccConstPS));
                var J = e.rgbmReflection ? "decodeRGBM" : e.hdrReflection ? "" : "gammaCorrectInput";
                if (e.sphereMap) {
                    var q = t.fragmentUniformsCount > 16 ? b.reflectionSpherePS : b.reflectionSphereLowPS;
                    f += q = q.replace(/\$texture2DSAMPLE/g, e.rgbmReflection ? "texture2DRGBM" : e.hdrReflection ? "texture2D" : "texture2DSRGB")
                } else
                    a ? e.prefilteredCubemap ? f += c ? b.reflectionPrefilteredCubeLodPS.replace(/\$DECODE/g, J) : b.reflectionPrefilteredCubePS.replace(/\$DECODE/g, J) : f += b.reflectionCubePS.replace(/\$textureCubeSAMPLE/g, e.rgbmReflection ? "textureCubeRGBM" : e.hdrReflection ? "textureCube" : "textureCubeSRGB") : e.dpAtlas && (f += b.reflectionDpAtlasPS.replace(/\$texture2DSAMPLE/g, e.rgbmReflection ? "texture2DRGBM" : e.hdrReflection ? "texture2D" : "texture2DSRGB"));
                (a || e.sphereMap || e.dpAtlas) && e.refraction && (f += b.refractionPS),
                k > 0 && (U[n.fa] && (f += b.shadowStandardPS),
                U[n.ba] && (f += b.shadowStandardGL2PS),
                V && (f += b.shadowVSM_commonPS,
                U[n.la] && (f += b.shadowVSM8PS),
                U[n.ua] && (f += t.extTextureHalfFloatLinear ? b.shadowEVSMPS.replace(/\$/g, "16") : b.shadowEVSMnPS.replace(/\$/g, "16")),
                U[n.oa] && (f += t.extTextureFloatLinear ? b.shadowEVSMPS.replace(/\$/g, "32") : b.shadowEVSMnPS.replace(/\$/g, "32"))),
                t.webgl2 || t.extStandardDerivatives || (f += b.biasConstPS),
                f += b.shadowCoordPS + b.shadowCommonPS,
                H && (f += b.shadowCoordPerspZbufferPS),
                z >= 0 && (U[n.fa] && (f += b.shadowStandardVSPS),
                U[n.ba] && (f += b.shadowStandardGL2VSPS),
                V && (U[n.la] && (f += b.shadowVSMVSPS.replace(/\$VSM/g, "VSM8").replace(/\$/g, "8")),
                U[n.ua] && (f += b.shadowVSMVSPS.replace(/\$VSM/g, "VSM16").replace(/\$/g, "16")),
                U[n.oa] && (f += b.shadowVSMVSPS.replace(/\$VSM/g, "VSM32").replace(/\$/g, "32"))))),
                r && (f += b.lightDiffuseLambertPS);
                var Z = !1;
                e.useSpecular ? (r && (f += e.shadingModel === n.ra ? b.lightSpecularPhongPS : b.lightSpecularBlinnPS),
                e.sphereMap || a || e.dpAtlas || e.fresnelModel > 0 ? e.fresnelModel > 0 ? e.conserveEnergy ? f += b.combineDiffuseSpecularPS : f += b.combineDiffuseSpecularNoConservePS : f += b.combineDiffuseSpecularOldPS : e.diffuseMap ? f += b.combineDiffuseSpecularNoReflPS : (f += b.combineDiffuseSpecularNoReflSeparateAmbientPS,
                Z = !0)) : f += b.combineDiffusePS;
                var $ = !0;
                if (e.lightMap || e.lightVertexColor) {
                    var tt = e.dirLightMap ? "lightmapDirPS" : "lightmapSinglePS";
                    f += this._addMap("light", tt, e, b, e.lightMapFormat),
                    $ = e.lightMapWithoutAmbient
                }
                if ($) {
                    var et = e.rgbmAmbient ? "decodeRGBM" : e.hdrAmbient ? "" : "gammaCorrectInput";
                    e.ambientSH ? f += b.ambientSHPS : e.prefilteredCubemap ? f += c ? b.ambientPrefilteredCubeLodPS.replace(/\$DECODE/g, et) : b.ambientPrefilteredCubePS.replace(/\$DECODE/g, et) : f += b.ambientConstantPS
                }
                e.ambientTint && !Z && (f += "uniform vec3 material_ambient;\n"),
                e.alphaTest && (f += b.alphaTestPS),
                e.msdf && (f += b.msdfPS),
                o && (f += b.viewDirPS,
                e.useSpecular && (f += b.reflDirPS));
                var it = !1, st = !1, nt = !1, rt = !1, at = !1, ht;
                f = this._fsAddStartCode(f, t, b, e),
                o && (e.twoSidedLighting ? f += "   dVertexNormalW = gl_FrontFacing ? vNormalW : -vNormalW;\n" : f += "   dVertexNormalW = vNormalW;\n",
                (e.heightMap || e.normalMap) && e.hasTangents && (e.twoSidedLighting ? (f += "   dTangentW = gl_FrontFacing ? vTangentW : -vTangentW;\n",
                f += "   dBinormalW = gl_FrontFacing ? vBinormalW : -vBinormalW;\n") : (f += "   dTangentW = vTangentW;\n",
                f += "   dBinormalW = vBinormalW;\n")));
                var ct = !1;
                if (e.blendType !== n.va || e.alphaTest || e.alphaToCoverage ? e.heightMap && e.opacityMap ? ct = !0 : (f += "   getOpacity();\n",
                e.alphaTest && (f += "   alphaTest(dAlpha);\n")) : f += "   dAlpha = 1.0;\n",
                o && (f += "   getViewDir();\n",
                (e.heightMap || e.normalMap) && (f += "   getTBN();\n"),
                e.heightMap && (f += "   getParallax();\n"),
                ct && (f += "   getOpacity();\n",
                e.alphaTest && (f += "   alphaTest(dAlpha);\n")),
                f += "   getNormal();\n",
                e.useSpecular && (f += "   getReflDir();\n")),
                f += "   getAlbedo();\n",
                (r && e.useSpecular || h) && (f += "   getSpecularity();\n",
                f += "   getGlossiness();\n",
                e.fresnelModel > 0 && (f += "   getFresnel();\n")),
                $ && (f += "   addAmbient();\n"),
                e.ambientTint && !Z && (f += "   dDiffuseLight *= material_ambient;\n"),
                Q && !e.occludeDirect && (f += "    applyAO();\n"),
                (e.lightMap || e.lightVertexColor) && (f += "   addLightMap();\n"),
                r || h) {
                    for ((a || e.sphereMap || e.dpAtlas) && (f += "   addReflection();\n"),
                    e.dirLightMap && (f += "   addDirLightMap();\n"),
                    i = 0; i < e.lights.length; i++) {
                        if (ht = !1,
                        (v = (G = e.lights[i])._type) === n.ca ? (f += "   dLightDirNormW = light" + i + "_direction;\n",
                        f += "   dAtten = 1.0;\n") : (G._cookie && (v !== n.sa || G._cookie._cubemap ? v === n.da && G._cookie._cubemap && (at = !0,
                        ht = !0) : (at = !0,
                        ht = !0)),
                        f += "   getLightDirPoint(light" + i + "_position);\n",
                        it = !0,
                        ht && (v === n.sa ? f += "   dAtten3 = getCookie2D" + (G._cookieFalloff ? "" : "Clip") + (G._cookieTransform ? "Xform" : "") + "(light" + i + "_cookie, light" + i + "_shadowMatrix, light" + i + "_cookieIntensity" + (G._cookieTransform ? ", light" + i + "_cookieMatrix, light" + i + "_cookieOffset" : "") + ")." + G._cookieChannel + ";\n" : f += "   dAtten3 = getCookieCube(light" + i + "_cookie, light" + i + "_shadowMatrix, light" + i + "_cookieIntensity)." + G._cookieChannel + ";\n"),
                        G._falloffMode === n.wa ? (f += "   dAtten = getFalloffLinear(light" + i + "_radius);\n",
                        st = !0) : (f += "   dAtten = getFalloffInvSquared(light" + i + "_radius);\n",
                        nt = !0),
                        f += "   if (dAtten > 0.00001) {\n",
                        v === n.sa && (ht && !G._cookieFalloff || (f += "       dAtten *= getSpotEffect(light" + i + "_direction, light" + i + "_innerConeAngle, light" + i + "_outerConeAngle);\n",
                        rt = !0))),
                        f += "       dAtten *= getLightDiffuse();\n",
                        G.castShadows && !e.noShadow) {
                            var ot = null, ut;
                            G._shadowType === n.la ? (ot = "VSM8",
                            ut = "0.0") : G._shadowType === n.ua ? (ot = "VSM16",
                            ut = "5.54") : G._shadowType === n.oa ? (ot = "VSM32",
                            ut = t.textureFloatHighPrecision ? "15.0" : "5.54") : ot = G._shadowType === n.ba ? "PCF5x5" : "PCF3x3",
                            null !== ot && (v === n.da ? (m = "(light" + i + "_shadowMap, light" + i + "_shadowParams);\n",
                            G._normalOffsetBias && (f += "       normalOffsetPointShadow(light" + i + "_shadowParams);\n"),
                            f += "       dAtten *= getShadowPoint" + ot + m) : (z === i ? ot += "VS" : (m = "(light" + i + "_shadowMatrix, light" + i + "_shadowParams);\n",
                            f += this._nonPointShadowMapProjection(t, e.lights[i], m)),
                            v === n.sa && (ot = "Spot" + ot),
                            f += "       dAtten *= getShadow" + ot + "(light" + i + "_shadowMap, light" + i + "_shadowParams" + (G._isVsm ? ", " + ut : "") + ");\n"))
                        }
                        f += "       dDiffuseLight += dAtten * light" + i + "_color" + (ht ? " * dAtten3" : "") + ";\n",
                        e.useSpecular && (f += "       dAtten *= getLightSpecular();\n",
                        f += "       dSpecularLight += dAtten * light" + i + "_color" + (ht ? " * dAtten3" : "") + ";\n"),
                        v !== n.ca && (f += "   }\n"),
                        f += "\n"
                    }
                    (a || e.sphereMap || e.dpAtlas) && e.refraction && (f += "   addRefraction();\n")
                }
                f += "\n",
                Q && (e.occludeDirect && (f += "    applyAO();\n"),
                e.occludeSpecular && (f += "    occludeSpecular();\n")),
                f += b.endPS,
                e.blendType === n.$r || e.blendType === n.xa || e.alphaToCoverage ? f += b.outputAlphaPS : e.blendType === n.za ? f += b.outputAlphaPremulPS : f += b.outputAlphaOpaquePS,
                e.msdf && (f += "   gl_FragColor = applyMsdf(gl_FragColor);\n"),
                f += "\n",
                f += n.In.end(),
                it && (f = b.lightDirPointPS + f),
                st && (f = b.falloffLinearPS + f),
                nt && (f = b.falloffInvSquaredPS + f),
                rt && (f = b.spotPS + f),
                at && (f = b.cookiePS + f);
                var ft = "";
                return f.includes("dReflection") && (ft += "vec4 dReflection;\n"),
                f.includes("dTBN") && (ft += "mat3 dTBN;\n"),
                f.includes("dAlbedo") && (ft += "vec3 dAlbedo;\n"),
                f.includes("dEmission") && (ft += "vec3 dEmission;\n"),
                f.includes("dNormalW") && (ft += "vec3 dNormalW;\n"),
                f.includes("dVertexNormalW") && (ft += "vec3 dVertexNormalW;\n"),
                f.includes("dTangentW") && (ft += "vec3 dTangentW;\n"),
                f.includes("dBinormalW") && (ft += "vec3 dBinormalW;\n"),
                f.includes("dViewDirW") && (ft += "vec3 dViewDirW;\n"),
                f.includes("dReflDirW") && (ft += "vec3 dReflDirW;\n"),
                f.includes("dDiffuseLight") && (ft += "vec3 dDiffuseLight;\n"),
                f.includes("dSpecularLight") && (ft += "vec3 dSpecularLight;\n"),
                f.includes("dLightDirNormW") && (ft += "vec3 dLightDirNormW;\n"),
                f.includes("dLightDirW") && (ft += "vec3 dLightDirW;\n"),
                f.includes("dLightPosW") && (ft += "vec3 dLightPosW;\n"),
                f.includes("dShadowCoord") && (ft += "vec3 dShadowCoord;\n"),
                f.includes("dNormalMap") && (ft += "vec3 dNormalMap;\n"),
                f.includes("dSpecularity") && (ft += "vec3 dSpecularity;\n"),
                f.includes("dUvOffset") && (ft += "vec2 dUvOffset;\n"),
                f.includes("dGlossiness") && (ft += "float dGlossiness;\n"),
                f.includes("dAlpha") && (ft += "float dAlpha;\n"),
                f.includes("dAtten") && (ft += "float dAtten;\n"),
                f.includes("dAtten3") && (ft += "vec3 dAtten3;\n"),
                f.includes("dAo") && (ft += "float dAo;\n"),
                f.includes("dMsdf") && (ft += "vec4 dMsdf;\n"),
                {
                    attributes: p,
                    Mr: T,
                    Sr: I = f = F + ft + f,
                    tag: n.gs
                }
            }
        },
        n.In.skybox = {
            generateKey: function(t) {
                var e;
                return "skybox" + t.rgbm + " " + t.hdr + " " + t.fixSeams + t.toneMapping + t.gamma + t.useIntensity + t.mip
            },
            En: function(t, e) {
                var i = n.dn
                  , s = [128, 64, 16, 8, 4, 2];
                return {
                    attributes: {
                        aPosition: n.Yi
                    },
                    Mr: i.skyboxVS,
                    Sr: n.In.Or(t) + (e.mip ? i.fixCubemapSeamsStretchPS : i.fixCubemapSeamsNonePS) + (e.useIntensity ? i.envMultiplyPS : i.envConstPS) + n.In.Fr(e.gamma) + n.In.Hr(e.toneMapping) + i.rgbmPS + i.skyboxHDRPS.replace(/\$textureCubeSAMPLE/g, e.rgbm ? "textureCubeRGBM" : e.hdr ? "textureCube" : "textureCubeSRGB").replace(/\$FIXCONST/g, 1 - 1 / s[e.mip] + "")
                }
            }
        },
        Object.assign(n, function() {
            var t = {
                type: n.Gi,
                base: 0,
                count: 4,
                indexed: !1
            }
              , e = function(t) {
                this.device = t,
                this.shader = null,
                this.depthMap = null,
                this.nn = n.Aa(t),
                this.needsDepthBuffer = !1
            };
            function i(t) {
                var e = new n.an(t,[{
                    semantic: n.Yi,
                    components: 2,
                    type: n.He
                }])
                  , i = new n.hn(t,e,4)
                  , s = new n.rn(i);
                return s.element[n.Yi].set(-1, -1),
                s.next(),
                s.element[n.Yi].set(1, -1),
                s.next(),
                s.element[n.Yi].set(-1, 1),
                s.next(),
                s.element[n.Yi].set(1, 1),
                s.end(),
                i
            }
            function s(e, i, s, r, a) {
                var h = e.Jn();
                e.ln(i),
                e.bn();
                var c = null !== i ? i.width : e.width
                  , o = null !== i ? i.height : e.height
                  , u = 0
                  , f = 0;
                a && (u = a.x * c,
                f = a.y * o,
                c *= a.z,
                o *= a.w);
                var d = e.vx
                  , l = e.vy
                  , b = e.vw
                  , v = e.vh;
                e.Xn(u, f, c, o);
                var m = e.sx
                  , g = e.sy
                  , p = e.sw
                  , w = e.sh;
                e.Kn(u, f, c, o);
                var x = e.rr()
                  , z = e.qn()
                  , _ = e.tr()
                  , A = e.getCullMode()
                  , y = e.writeRed
                  , M = e.writeGreen
                  , S = e.writeBlue
                  , C = e.writeAlpha;
                e.hr(!1),
                e.Zn(!1),
                e.er(!1),
                e.Ar(n.Be),
                e.ir(!0, !0, !0, !0),
                e.vn(s, 0),
                e.setShader(r),
                e.draw(t),
                e.hr(x),
                e.Zn(z),
                e.er(_),
                e.Ar(A),
                e.ir(y, M, S, C),
                e.mn(),
                e.ln(h),
                e.bn(),
                e.Xn(d, l, b, v),
                e.Kn(m, g, p, w)
            }
            return Object.assign(e.prototype, {
                render: function(t, e, i) {}
            }),
            {
                ya: e,
                Aa: i,
                Ma: s
            }
        }()),
        function() {
            var t = {
                Sa: 0,
                ta: 1,
                $r: 2,
                va: 3,
                za: 4,
                ea: 5,
                xa: 6,
                Ca: 7,
                Oa: 8,
                Ea: 9,
                Da: 10,
                Ta: "none",
                Pa: "linear",
                Ba: "exp",
                Ia: "exp2",
                ja: 0,
                ha: 2,
                Ra: 0,
                La: 1,
                Na: 2,
                Fa: 15,
                LAYERID_WORLD: 0,
                LAYERID_DEPTH: 1,
                LAYERID_SKYBOX: 2,
                LAYERID_IMMEDIATE: 3,
                LAYERID_UI: 4,
                ca: 0,
                da: 1,
                sa: 2,
                wa: 0,
                ka: 1,
                fa: 0,
                Ua: 0,
                la: 1,
                ua: 2,
                oa: 3,
                ba: 4,
                Va: 0,
                Ha: 1,
                Ga: 0,
                Wa: 1,
                Ya: 2,
                Xa: 3,
                Ka: 0,
                Qa: 1,
                Ja: 0,
                qa: 1,
                Za: 0,
                $a: 1,
                th: 0,
                eh: 1,
                ih: 2,
                nh: 0,
                rh: 1,
                ra: 0,
                ah: 1,
                hh: 0,
                kr: 1,
                Ur: 2,
                Vr: 3,
                Wr: 0,
                Gr: 1,
                Yr: 2,
                Xr: 3,
                Kr: 4,
                oh: 0,
                pa: 1,
                uh: 2,
                fh: 1,
                dh: 2,
                lh: 4,
                bh: 8,
                mh: 16,
                gh: 32,
                ph: 64,
                wh: 128,
                xh: 256,
                zh: 512,
                Ah: 0,
                yh: 1,
                Mh: 2,
                Sh: 0,
                Ch: 1,
                Oh: 2,
                Eh: 0,
                Dh: 1,
                Th: 1,
                Ph: 2,
                Bh: 4,
                Cn: 0,
                Dn: 1,
                Zr: 2,
                On: 3,
                Tn: 18,
                Ih: 0,
                jh: 1,
                Rh: 0,
                Lh: 1,
                Nh: 2,
                Fh: 1024,
                SORTMODE_NONE: 0,
                SORTMODE_MANUAL: 1,
                SORTMODE_MATERIALMESH: 2,
                SORTMODE_BACK2FRONT: 3,
                SORTMODE_FRONT2BACK: 4,
                SORTMODE_CUSTOM: 5,
                COMPUPDATED_INSTANCES: 1,
                COMPUPDATED_LIGHTS: 2,
                COMPUPDATED_CAMERAS: 4,
                COMPUPDATED_BLEND: 8,
                ASPECT_AUTO: 0,
                ASPECT_MANUAL: 1,
                ORIENTATION_HORIZONTAL: 0,
                ORIENTATION_VERTICAL: 1
            };
            Object.assign(n, t),
            n.scene = {},
            Object.assign(n.scene, t)
        }(),
        Object.assign(n, ((Bt = function t() {
            this.root = null,
            this._gravity = new n.ut(0,-9.8,0),
            this._layers = null,
            this._fog = n.Ta,
            this.fogColor = new n.D(0,0,0),
            this.fogStart = 1,
            this.fogEnd = 1e3,
            this.fogDensity = 0,
            this.ambientLight = new n.D(0,0,0),
            this._gammaCorrection = n.hh,
            this._toneMapping = 0,
            this.exposure = 1,
            this._skyboxPrefiltered = [null, null, null, null, null, null],
            this._skyboxCubeMap = null,
            this.skyboxModel = null,
            this._skyboxIntensity = 1,
            this._skyboxMip = 0,
            this._skyboxVisible = !0,
            this.lightmapSizeMultiplier = 1,
            this.lightmapMaxResolution = 2048,
            this.lightmapMode = n.jh,
            this._stats = {
                meshInstances: 0,
                lights: 0,
                dynamicLights: 0,
                bakedLights: 0,
                lastStaticPrepareFullTime: 0,
                lastStaticPrepareSearchTime: 0,
                lastStaticPrepareWriteTime: 0,
                lastStaticPrepareTriAabbTime: 0,
                lastStaticPrepareCombineTime: 0,
                kh: 0
            },
            this.Uh = !0,
            this.updateSkybox = !0,
            this._shaderVersion = 0,
            this._statsUpdated = !1,
            this._models = [],
            this.defaultMaterial = new n.Sn,
            this.defaultMaterial.name = "Default Material",
            this.defaultMaterial.shadingModel = n.ah,
            n.K.attach(this)
        }
        ).prototype.destroy = function() {
            this.root = null,
            this.defaultMaterial.destroy(),
            this.defaultMaterial = null,
            this.off()
        }
        ,
        Object.defineProperty(Bt.prototype, "fog", {
            get: function() {
                return this._fog
            },
            set: function(t) {
                t !== this._fog && (this._fog = t,
                this.Uh = !0)
            }
        }),
        Object.defineProperty(Bt.prototype, "gammaCorrection", {
            get: function() {
                return this._gammaCorrection
            },
            set: function(t) {
                t !== this._gammaCorrection && (this._gammaCorrection = t,
                this.Uh = !0)
            }
        }),
        Object.defineProperty(Bt.prototype, "toneMapping", {
            get: function() {
                return this._toneMapping
            },
            set: function(t) {
                t !== this._toneMapping && (this._toneMapping = t,
                this.Uh = !0)
            }
        }),
        Object.defineProperty(Bt.prototype, "skybox", {
            get: function() {
                return this._skyboxCubeMap
            },
            set: function(t) {
                this._skyboxCubeMap = t,
                this._resetSkyboxModel(),
                this.Uh = !0
            }
        }),
        Object.defineProperty(Bt.prototype, "skyboxIntensity", {
            get: function() {
                return this._skyboxIntensity
            },
            set: function(t) {
                this._skyboxIntensity = t,
                this._resetSkyboxModel(),
                this.Uh = !0
            }
        }),
        Object.defineProperty(Bt.prototype, "skyboxMip", {
            get: function() {
                return this._skyboxMip
            },
            set: function(t) {
                this._skyboxMip = t,
                this._resetSkyboxModel(),
                this.Uh = !0
            }
        }),
        Object.defineProperty(Bt.prototype, "skyboxVisible", {
            get: function() {
                return this._skyboxVisible
            },
            set: function(t) {
                this._skyboxVisible = t,
                this._resetSkyboxModel(),
                this.Uh = !0
            }
        }),
        Object.defineProperty(Bt.prototype, "skyboxPrefiltered128", {
            get: function() {
                return this._skyboxPrefiltered[0]
            },
            set: function(t) {
                this._skyboxPrefiltered[0] !== t && (this._skyboxPrefiltered[0] = t,
                this.Uh = !0)
            }
        }),
        Object.defineProperty(Bt.prototype, "skyboxPrefiltered64", {
            get: function() {
                return this._skyboxPrefiltered[1]
            },
            set: function(t) {
                this._skyboxPrefiltered[1] !== t && (this._skyboxPrefiltered[1] = t,
                this.Uh = !0)
            }
        }),
        Object.defineProperty(Bt.prototype, "skyboxPrefiltered32", {
            get: function() {
                return this._skyboxPrefiltered[2]
            },
            set: function(t) {
                this._skyboxPrefiltered[2] !== t && (this._skyboxPrefiltered[2] = t,
                this.Uh = !0)
            }
        }),
        Object.defineProperty(Bt.prototype, "skyboxPrefiltered16", {
            get: function() {
                return this._skyboxPrefiltered[3]
            },
            set: function(t) {
                this._skyboxPrefiltered[3] !== t && (this._skyboxPrefiltered[3] = t,
                this.Uh = !0)
            }
        }),
        Object.defineProperty(Bt.prototype, "skyboxPrefiltered8", {
            get: function() {
                return this._skyboxPrefiltered[4]
            },
            set: function(t) {
                this._skyboxPrefiltered[4] !== t && (this._skyboxPrefiltered[4] = t,
                this.Uh = !0)
            }
        }),
        Object.defineProperty(Bt.prototype, "skyboxPrefiltered4", {
            get: function() {
                return this._skyboxPrefiltered[5]
            },
            set: function(t) {
                this._skyboxPrefiltered[5] !== t && (this._skyboxPrefiltered[5] = t,
                this.Uh = !0)
            }
        }),
        Object.defineProperty(Bt.prototype, "drawCalls", {
            get: function() {
                var t = this.layers._meshInstances;
                return t.length || (this.layers._update(),
                t = this.layers._meshInstances),
                t
            },
            set: function(t) {}
        }),
        Object.defineProperty(Bt.prototype, "layers", {
            get: function() {
                return this._layers
            },
            set: function(t) {
                var e = this._layers;
                this._layers = t,
                this.fire("set:layers", e, t)
            }
        }),
        Bt.prototype.applySettings = function(t) {
            this._gravity.set(t.physics.gravity[0], t.physics.gravity[1], t.physics.gravity[2]),
            this.ambientLight.set(t.render.global_ambient[0], t.render.global_ambient[1], t.render.global_ambient[2]),
            this._fog = t.render.fog,
            this.fogColor.set(t.render.fog_color[0], t.render.fog_color[1], t.render.fog_color[2]),
            this.fogStart = t.render.fog_start,
            this.fogEnd = t.render.fog_end,
            this.fogDensity = t.render.fog_density,
            this._gammaCorrection = t.render.gamma_correction,
            this._toneMapping = t.render.tonemapping,
            this.lightmapSizeMultiplier = t.render.lightmapSizeMultiplier,
            this.lightmapMaxResolution = t.render.lightmapMaxResolution,
            this.lightmapMode = t.render.lightmapMode,
            this.exposure = t.render.exposure,
            this._skyboxIntensity = void 0 === t.render.skyboxIntensity ? 1 : t.render.skyboxIntensity,
            this._skyboxMip = void 0 === t.render.skyboxMip ? 0 : t.render.skyboxMip,
            this._resetSkyboxModel(),
            this.Uh = !0
        }
        ,
        Bt.prototype._updateSkybox = function(t) {
            if (this._skyboxCubeMap && !this.skyboxModel) {
                var e = new n.Vh, i = this, s;
                if (e.Hh = function(e, s, r, a, h) {
                    var c, o = t.Qn().getProgram("skybox", {
                        rgbm: i._skyboxCubeMap.rgbm,
                        hdr: i._skyboxCubeMap.rgbm || i._skyboxCubeMap.format === n.yi,
                        useIntensity: 1 !== i.skyboxIntensity,
                        mip: i._skyboxCubeMap.fixCubemapSeams ? i.skyboxMip : 0,
                        fixSeams: i._skyboxCubeMap.fixCubemapSeams,
                        gamma: h === n.Dn ? i.gammaCorrection ? n.Vr : n.hh : i.gammaCorrection,
                        toneMapping: h === n.Dn ? n.Wr : i.toneMapping
                    });
                    this.shader = o
                }
                ,
                e.Hh(),
                this._skyboxCubeMap.fixCubemapSeams && i._skyboxMip) {
                    var r, a = this["skyboxPrefiltered" + [null, "64", "16", "8", "4"][i._skyboxMip]];
                    a && (s = a)
                } else
                    s = this._skyboxCubeMap;
                e.setParameter("texture_cubeMap", s),
                e.cull = n.Be;
                var h = this.layers.getLayerById(n.LAYERID_SKYBOX);
                if (h) {
                    var c = new n.Gh
                      , o = n.Wh(t)
                      , u = new n.Yh(c,o,e);
                    u.cull = !1,
                    u._noDepthDrawGl1 = !0;
                    var f = new n.Xh;
                    f.graph = c,
                    f.meshInstances = [u],
                    this.skyboxModel = f,
                    this._skyboxVisible && h.addMeshInstances(f.meshInstances),
                    h.enabled = !0,
                    this.skyLayer = h,
                    this.fire("set:skybox", s)
                }
            }
        }
        ,
        Bt.prototype._resetSkyboxModel = function() {
            this.skyboxModel && (this.skyLayer.removeMeshInstances(this.skyboxModel.meshInstances),
            this.skyLayer.enabled = !1),
            this.skyboxModel = null,
            this.updateSkybox = !0
        }
        ,
        Bt.prototype.setSkybox = function(t) {
            var e;
            t || (t = [null, null, null, null, null, null, null]);
            var i = !1;
            if (this._skyboxCubeMap !== t[0] && (i = !0),
            !i)
                for (e = 0; e < 6 && !i; e++)
                    this._skyboxPrefiltered[e] !== t[e + 1] && (i = !0);
            if (i) {
                for (e = 0; e < 6; e++)
                    this._skyboxPrefiltered[e] = t[e + 1];
                this.skybox = t[0]
            }
        }
        ,
        Bt.prototype.destroy = function() {
            this.skybox = null
        }
        ,
        Bt.prototype.addModel = function(t) {
            if (!this.containsModel(t)) {
                var e = this.layers.getLayerById(n.LAYERID_WORLD);
                e && (e.addMeshInstances(t.meshInstances),
                this._models.push(t))
            }
        }
        ,
        Bt.prototype.addShadowCaster = function(t) {
            var e = this.layers.getLayerById(n.LAYERID_WORLD);
            e && e.addShadowCasters(t.meshInstances)
        }
        ,
        Bt.prototype.removeModel = function(t) {
            var e = this._models.indexOf(t);
            if (-1 !== e) {
                var i = this.layers.getLayerById(n.LAYERID_WORLD);
                if (!i)
                    return;
                i.removeMeshInstances(t.meshInstances),
                this._models.splice(e, 1)
            }
        }
        ,
        Bt.prototype.removeShadowCasters = function(t) {
            var e = this.layers.getLayerById(n.LAYERID_WORLD);
            e && e.removeShadowCasters(t.meshInstances)
        }
        ,
        Bt.prototype.containsModel = function(t) {
            return this._models.indexOf(t) >= 0
        }
        ,
        Bt.prototype.getModels = function(t) {
            return this._models
        }
        ,
        {
            Kh: Bt
        })),
        Object.assign(n, function() {
            for (var t = (new n.zt).mul2((new n.zt).setTranslate(.5, .5, .5), (new n.zt).setScale(.5, .5, .5)), e = {
                r: 1,
                g: 2,
                b: 3,
                a: 4
            }, i = [(new n.bt).vt(0, 90, 180), (new n.bt).vt(0, -90, 180), (new n.bt).vt(90, 0, 0), (new n.bt).vt(-90, 0, 0), (new n.bt).vt(0, 180, 180), (new n.bt).vt(0, 0, 180)], s = 5, r = [{}, {}, {}, {}, {}], a = .01, h = new Float32Array(2), c = {
                x: 1,
                y: 1,
                z: 0,
                w: 0
            }, o = new n.zt, u = new n.zt, f = new n.zt, d = new n.zt, l = new n.zt, b = new n.xt, v = new n.zt, m, g = new n.zt, p = new n.zt, w = new n.zt, x = new n.zt, z = new n.ut, _ = new n.ut, A, y, M = new n.zt, S = new n.zt, C = new n.zt, O = new n.zt, E = new n.ut, D = {
                center: null,
                radius: 0
            }, T, P = new n.jt, B = [0, 0], I, j, R, L, N = {}, F = 25, k, U, V = [], H = 0; H < 8; H++)
                V.push(new n.ut);
            function G(t, e, i) {
                var s = t._nearClip, r = t._fov * Math.PI / 180, a = t._aspect, h = t._projection, c, o;
                return c = (o = h === n.Za ? Math.tan(r / 2) * s : t._orthoHeight) * a,
                i[0].x = c,
                i[0].y = -o,
                i[0].z = -s,
                i[1].x = c,
                i[1].y = o,
                i[1].z = -s,
                i[2].x = -c,
                i[2].y = o,
                i[2].z = -s,
                i[3].x = -c,
                i[3].y = -o,
                i[3].z = -s,
                h === n.Za && (c = (o = Math.tan(r / 2) * e) * a),
                i[4].x = c,
                i[4].y = -o,
                i[4].z = -e,
                i[5].x = c,
                i[5].y = o,
                i[5].z = -e,
                i[6].x = -c,
                i[6].y = o,
                i[6].z = -e,
                i[7].x = -c,
                i[7].y = -o,
                i[7].z = -e,
                i
            }
            var W = [new n.ut, new n.ut, new n.ut, new n.ut, new n.ut, new n.ut, new n.ut, new n.ut];
            function Y(t, e, i, s, n, r, a) {
                W[0].x = W[1].x = W[2].x = W[3].x = e.x,
                W[1].y = W[3].y = W[7].y = W[5].y = e.y,
                W[2].z = W[3].z = W[6].z = W[7].z = e.z,
                W[4].x = W[5].x = W[6].x = W[7].x = i.x,
                W[0].y = W[2].y = W[4].y = W[6].y = i.y,
                W[0].z = W[1].z = W[4].z = W[5].z = i.z;
                for (var h = 9999999999, c = -9999999999, o, u = 0; u < 8; ++u)
                    t.transformPoint(W[u], W[u]),
                    (o = W[u].z) < h && (h = o),
                    o > c && (c = o);
                return {
                    min: h,
                    max: c
                }
            }
            function X(t, e) {
                return e === n.oa ? n.yi : e === n.ua ? n.zi : e === n.ba ? n.Si : e === n.fa && t.webgl2 ? n.Si : n.vi
            }
            function K(t, e) {
                return e !== n.fa || t.webgl2 ? e === n.oa ? t.extTextureFloatLinear ? n.We : n.Ge : e === n.ua ? t.extTextureHalfFloatLinear ? n.We : n.Ge : n.We : n.Ge
            }
            function Q(t, e, i, s) {
                var r = X(t, s)
                  , a = K(t, s)
                  , h = new n.xn(t,{
                    format: r,
                    width: e,
                    height: i,
                    mipmaps: !1,
                    minFilter: a,
                    magFilter: a,
                    addressU: n.Zt,
                    addressV: n.Zt
                });
                return h.name = "shadowmap",
                s === n.ba || s === n.fa && t.webgl2 ? (h.compareOnRead = !0,
                h.compareFunc = n.qe,
                new n.An({
                    depthBuffer: h
                })) : new n.An({
                    colorBuffer: h,
                    depth: !0
                })
            }
            function J(t, e) {
                var i = new n.xn(t,{
                    format: n.vi,
                    width: e,
                    height: e,
                    cubemap: !0,
                    mipmaps: !1,
                    minFilter: n.Ge,
                    magFilter: n.Ge,
                    addressU: n.Zt,
                    addressV: n.Zt
                });
                i.name = "shadowcube";
                for (var s = [], r, a = 0; a < 6; a++)
                    r = new n.An({
                        colorBuffer: i,
                        face: a,
                        depth: !0
                    }),
                    s.push(r);
                return s
            }
            function q(t, e) {
                return Math.exp(-t * t / (2 * e * e))
            }
            function Z(t) {
                t > F && (t = F);
                var e = (t - 1) / 6, i, s, n, r;
                for (r = .5 * (t - 1),
                s = new Array(t),
                n = 0,
                i = 0; i < t; ++i)
                    s[i] = q(i - r, e),
                    n += s[i];
                for (i = 0; i < t; ++i)
                    s[i] /= n;
                return s
            }
            function $(t, e, i) {
                var s = n.Me
                  , r = e === n.ba || e === n.fa && t.webgl2;
                i === n.da && (r = !1),
                r || (s |= n.ye);
                var a = new n.Qh;
                return e >= n.la && e <= n.oa ? (a.clearColor[0] = 0,
                a.clearColor[1] = 0,
                a.clearColor[2] = 0,
                a.clearColor[3] = 0) : (a.clearColor[0] = 1,
                a.clearColor[1] = 1,
                a.clearColor[2] = 1,
                a.clearColor[3] = 1),
                a.clearDepth = 1,
                a.clearFlags = s,
                a.clearStencil = null,
                a._node = new n.Gh,
                a
            }
            function tt(t, e, i, s) {
                s || (s = 0);
                var a = 1e4 * s + e
                  , h = r[i][a];
                return h || (h = Q(t, e, e, i || n.fa),
                r[i][a] = h),
                h
            }
            function et(t, e) {
                var i;
                e._type === n.da ? (e._shadowType > n.fa && (e._shadowType = n.fa),
                e._cacheShadowMap ? (i = N[e._shadowResolution]) || (i = J(t, e._shadowResolution),
                N[e._shadowResolution] = i) : i = J(t, e._shadowResolution),
                e._shadowCamera.renderTarget = i[0],
                e._shadowCubeMap = i) : (i = e._cacheShadowMap ? tt(t, e._shadowResolution, e._shadowType) : Q(t, e._shadowResolution, e._shadowResolution, e._shadowType),
                e._shadowCamera.renderTarget = i),
                e._isCachedShadowMap = e._cacheShadowMap
            }
            function it(t) {
                var i = t.material
                  , s = t.skinInstance ? 10 : 0
                  , n = 0;
                if (i.opacityMap) {
                    var r = i.opacityMapChannel;
                    r && (n = e[r])
                }
                return s + n
            }
            function st(t) {
                this.device = t;
                var e = this.device;
                this._shadowDrawCalls = 0,
                this._forwardDrawCalls = 0,
                this._skinDrawCalls = 0,
                this._camerasRendered = 0,
                this._materialSwitches = 0,
                this._shadowMapUpdates = 0,
                this._shadowMapTime = 0,
                this._depthMapTime = 0,
                this._forwardTime = 0,
                this._cullTime = 0,
                this._sortTime = 0,
                this._skinTime = 0,
                this._morphTime = 0,
                this._instancingTime = 0;
                var i = e.Qn();
                this.library = i;
                var s = e.scope;
                this.projId = s.resolve("matrix_projection"),
                this.viewId = s.resolve("matrix_view"),
                this.viewId3 = s.resolve("matrix_view3"),
                this.viewInvId = s.resolve("matrix_viewInverse"),
                this.viewProjId = s.resolve("matrix_viewProjection"),
                this.viewPos = new Float32Array(3),
                this.viewPosId = s.resolve("view_position"),
                this.nearClipId = s.resolve("camera_near"),
                this.farClipId = s.resolve("camera_far"),
                this.cameraParamsId = s.resolve("camera_params"),
                this.shadowMapLightRadiusId = s.resolve("light_radius"),
                this.fogColorId = s.resolve("fog_color"),
                this.fogStartId = s.resolve("fog_start"),
                this.fogEndId = s.resolve("fog_end"),
                this.fogDensityId = s.resolve("fog_density"),
                this.modelMatrixId = s.resolve("matrix_model"),
                this.normalMatrixId = s.resolve("matrix_normal"),
                this.poseMatrixId = s.resolve("matrix_pose[0]"),
                this.boneTextureId = s.resolve("texture_poseMap"),
                this.boneTextureSizeId = s.resolve("texture_poseMapSize"),
                this.alphaTestId = s.resolve("alpha_ref"),
                this.opacityMapId = s.resolve("texture_opacityMap"),
                this.ambientId = s.resolve("light_globalAmbient"),
                this.exposureId = s.resolve("exposure"),
                this.skyboxIntensityId = s.resolve("skyboxIntensity"),
                this.lightColorId = [],
                this.lightDir = [],
                this.lightDirId = [],
                this.lightShadowMapId = [],
                this.lightShadowMatrixId = [],
                this.lightShadowParamsId = [],
                this.lightShadowMatrixVsId = [],
                this.lightShadowParamsVsId = [],
                this.lightDirVs = [],
                this.lightDirVsId = [],
                this.lightRadiusId = [],
                this.lightPos = [],
                this.lightPosId = [],
                this.lightInAngleId = [],
                this.lightOutAngleId = [],
                this.lightPosVsId = [],
                this.lightCookieId = [],
                this.lightCookieIntId = [],
                this.lightCookieMatrixId = [],
                this.lightCookieOffsetId = [],
                this.depthMapId = s.resolve("uDepthMap"),
                this.screenSizeId = s.resolve("uScreenSize"),
                this._screenSize = new Float32Array(4),
                this.sourceId = s.resolve("source"),
                this.pixelOffsetId = s.resolve("pixelOffset"),
                this.weightId = s.resolve("weight[0]");
                var r = n.dn;
                this.blurVsmShaderCode = [r.blurVSMPS, "#define GAUSS\n" + r.blurVSMPS];
                var a = "#define PACKED\n";
                this.blurPackedVsmShaderCode = [a + this.blurVsmShaderCode[0], a + this.blurVsmShaderCode[1]],
                this.blurVsmShader = [{}, {}],
                this.blurPackedVsmShader = [{}, {}],
                this.blurVsmWeights = {},
                this.polygonOffsetId = s.resolve("polygonOffset"),
                this.polygonOffset = new Float32Array(2),
                this.fogColor = new Float32Array(3),
                this.ambientColor = new Float32Array(3)
            }
            function nt(t, e) {
                t.data[0] = e.data[0],
                t.data[1] = e.data[1],
                t.data[2] = e.data[2],
                t.data[3] = e.data[4],
                t.data[4] = e.data[5],
                t.data[5] = e.data[6],
                t.data[6] = e.data[8],
                t.data[7] = e.data[9],
                t.data[8] = e.data[10]
            }
            return Object.assign(st.prototype, {
                sortCompare: function(t, e) {
                    if (t.layer === e.layer) {
                        if (t.drawOrder && e.drawOrder)
                            return t.drawOrder - e.drawOrder;
                        if (t.zdist && e.zdist)
                            return e.zdist - t.zdist;
                        if (t.zdist2 && e.zdist2)
                            return t.zdist2 - e.zdist2
                    }
                    return e._key[n.Eh] - t._key[n.Eh]
                },
                sortCompareMesh: function(t, e) {
                    if (t.layer === e.layer) {
                        if (t.drawOrder && e.drawOrder)
                            return t.drawOrder - e.drawOrder;
                        if (t.zdist && e.zdist)
                            return e.zdist - t.zdist
                    }
                    return k = t._key[n.Eh],
                    U = e._key[n.Eh],
                    k === U && t.mesh && e.mesh ? e.mesh.id - t.mesh.id : U - k
                },
                depthSortCompare: function(t, e) {
                    return k = t._key[n.Dh],
                    U = e._key[n.Dh],
                    k === U && t.mesh && e.mesh ? e.mesh.id - t.mesh.id : U - k
                },
                lightCompare: function(t, e) {
                    return t.key - e.key
                },
                _isVisible: function(t, e) {
                    return !!e.visible && (e.isVisibleFunc ? e.isVisibleFunc(t) : (T = e.aabb.center,
                    e._aabb._radiusVer !== e._aabbVer && (e._aabb._radius = e._aabb.halfExtents.length(),
                    e._aabb._radiusVer = e._aabbVer),
                    D.radius = e._aabb._radius,
                    D.center = T,
                    t.frustum.Ht(D)))
                },
                getShadowCamera: function(t, e) {
                    var i = e._shadowCamera, s;
                    return null === i ? (i = e._shadowCamera = $(t, e._shadowType, e._type),
                    et(t, e)) : (s = i.renderTarget).width === e._shadowResolution && s.height === e._shadowResolution || et(t, e),
                    i
                },
                updateCameraFrustum: function(t) {
                    if (t.vrDisplay && t.vrDisplay.presenting) {
                        m = t.vrDisplay.combinedProj;
                        var e = t._node.getParent();
                        return e ? l.copy(e.getWorldTransform()).mul(t.vrDisplay.combinedViewInv).invert() : l.copy(t.vrDisplay.combinedView),
                        d.copy(l).invert(),
                        this.viewInvId.setValue(d.data),
                        void t.frustum.update(m, l)
                    }
                    if (m = t.getProjectionMatrix(),
                    t.overrideCalculateProjection && t.calculateProjection(m, n.Rh),
                    t.overrideCalculateTransform)
                        t.calculateTransform(d, n.Rh);
                    else {
                        var i = t._node.getPosition()
                          , s = t._node.getRotation();
                        d.Mt(i, s, n.ut.ONE),
                        this.viewInvId.setValue(d.data)
                    }
                    l.copy(d).invert(),
                    t.frustum.update(m, l)
                },
                setCamera: function(t, e, i, s) {
                    var r = t.vrDisplay;
                    if (r && r.presenting) {
                        if (A = r.leftProj,
                        y = r.rightProj,
                        m = r.combinedProj,
                        t.overrideCalculateProjection && (t.calculateProjection(A, n.Lh),
                        t.calculateProjection(y, n.Nh),
                        t.calculateProjection(m, n.Rh)),
                        t.overrideCalculateTransform)
                            t.calculateTransform(g, n.Lh),
                            t.calculateTransform(p, n.Nh),
                            t.calculateTransform(d, n.Rh),
                            w.copy(g).invert(),
                            x.copy(p).invert(),
                            l.copy(d).invert();
                        else {
                            var a = t._node.getParent();
                            if (a) {
                                var h = a.getWorldTransform();
                                g.mul2(h, r.leftViewInv),
                                p.mul2(h, r.rightViewInv),
                                w.copy(g).invert(),
                                x.copy(p).invert(),
                                l.copy(a.getWorldTransform()).mul(r.combinedViewInv).invert()
                            } else
                                g.copy(r.leftViewInv),
                                p.copy(r.rightViewInv),
                                w.copy(r.leftView),
                                x.copy(r.rightView),
                                l.copy(r.combinedView)
                        }
                        nt(M, w),
                        nt(S, x),
                        C.mul2(A, w),
                        O.mul2(y, x),
                        z.x = g.data[12],
                        z.y = g.data[13],
                        z.z = g.data[14],
                        _.x = p.data[12],
                        _.y = p.data[13],
                        _.z = p.data[14],
                        t.frustum.update(m, l)
                    } else {
                        if (m = t.getProjectionMatrix(),
                        t.overrideCalculateProjection && t.calculateProjection(m, n.Rh),
                        this.projId.setValue(m.data),
                        t.overrideCalculateTransform)
                            t.calculateTransform(d, n.Rh);
                        else {
                            var c = t._node.getPosition()
                              , o = t._node.getRotation();
                            d.Mt(c, o, n.ut.ONE)
                        }
                        this.viewInvId.setValue(d.data),
                        l.copy(d).invert(),
                        this.viewId.setValue(l.data),
                        nt(b, l),
                        this.viewId3.setValue(b.data),
                        v.mul2(m, l),
                        this.viewProjId.setValue(v.data);
                        var u = t._node.getPosition();
                        this.viewPos[0] = u.x,
                        this.viewPos[1] = u.y,
                        this.viewPos[2] = u.z,
                        this.viewPosId.setValue(this.viewPos),
                        t.frustum.update(m, l)
                    }
                    this.nearClipId.setValue(t._nearClip),
                    this.farClipId.setValue(t._farClip),
                    this.cameraParamsId.setValue(t._shaderParams);
                    var f = this.device;
                    f.ln(e),
                    f.bn();
                    var E = t.getRect()
                      , D = e ? e.width : f.width
                      , T = e ? e.height : f.height
                      , P = Math.floor(E.x * D)
                      , B = Math.floor(E.y * T)
                      , I = Math.floor(E.width * D)
                      , j = Math.floor(E.height * T);
                    f.Xn(P, B, I, j),
                    f.Kn(P, B, I, j),
                    i && f.clear(t._clearOptions),
                    E = t._scissorRect,
                    P = Math.floor(E.x * D),
                    B = Math.floor(E.y * T),
                    I = Math.floor(E.width * D),
                    j = Math.floor(E.height * T),
                    f.Kn(P, B, I, j),
                    s && f.Kn(1, 1, D - 2, T - 2)
                },
                dispatchGlobalLights: function(t) {
                    var e;
                    if (this.mainLight = -1,
                    this.ambientColor[0] = t.ambientLight.r,
                    this.ambientColor[1] = t.ambientLight.g,
                    this.ambientColor[2] = t.ambientLight.b,
                    t.gammaCorrection)
                        for (e = 0; e < 3; e++)
                            this.ambientColor[e] = Math.pow(this.ambientColor[e], 2.2);
                    this.ambientId.setValue(this.ambientColor),
                    this.exposureId.setValue(t.exposure),
                    t.skyboxModel && this.skyboxIntensityId.setValue(t.skyboxIntensity)
                },
                _resolveLight: function(t, e) {
                    var i = "light" + e;
                    this.lightColorId[e] = t.resolve(i + "_color"),
                    this.lightDir[e] = new Float32Array(3),
                    this.lightDirId[e] = t.resolve(i + "_direction"),
                    this.lightShadowMapId[e] = t.resolve(i + "_shadowMap"),
                    this.lightShadowMatrixId[e] = t.resolve(i + "_shadowMatrix"),
                    this.lightShadowParamsId[e] = t.resolve(i + "_shadowParams"),
                    this.lightShadowMatrixVsId[e] = t.resolve(i + "_shadowMatrixVS"),
                    this.lightShadowParamsVsId[e] = t.resolve(i + "_shadowParamsVS"),
                    this.lightDirVs[e] = new Float32Array(3),
                    this.lightDirVsId[e] = t.resolve(i + "_directionVS"),
                    this.lightRadiusId[e] = t.resolve(i + "_radius"),
                    this.lightPos[e] = new Float32Array(3),
                    this.lightPosId[e] = t.resolve(i + "_position"),
                    this.lightInAngleId[e] = t.resolve(i + "_innerConeAngle"),
                    this.lightOutAngleId[e] = t.resolve(i + "_outerConeAngle"),
                    this.lightPosVsId[e] = t.resolve(i + "_positionVS"),
                    this.lightCookieId[e] = t.resolve(i + "_cookie"),
                    this.lightCookieIntId[e] = t.resolve(i + "_cookieIntensity"),
                    this.lightCookieMatrixId[e] = t.resolve(i + "_cookieMatrix"),
                    this.lightCookieOffsetId[e] = t.resolve(i + "_cookieOffset")
                },
                dispatchDirectLights: function(t, e, i) {
                    var s = t.length, n, r, a, h = 0;
                    this.mainLight = -1;
                    var c = this.device.scope;
                    for (n = 0; n < s; n++)
                        if (t[n]._mask & i) {
                            if (a = (r = t[n])._node.getWorldTransform(),
                            this.lightColorId[h] || this._resolveLight(c, h),
                            this.lightColorId[h].setValue(e.gammaCorrection ? r._linearFinalColor : r._finalColor),
                            a.getY(r._direction).scale(-1),
                            r._direction.normalize(),
                            this.lightDir[h][0] = r._direction.x,
                            this.lightDir[h][1] = r._direction.y,
                            this.lightDir[h][2] = r._direction.z,
                            this.lightDirId[h].setValue(this.lightDir[h]),
                            r.castShadows) {
                                var o = r._isPcf && this.device.webgl2 ? r._shadowCamera.renderTarget.depthBuffer : r._shadowCamera.renderTarget.colorBuffer, u;
                                r._isVsm ? u = -2e-4 : (u = r.shadowBias / r._shadowCamera._farClip * 100,
                                !this.device.webgl2 && this.device.extStandardDerivatives && (u *= -100));
                                var f = r._isVsm ? r.vsmBias / (r._shadowCamera._farClip / 7) : r._normalOffsetBias;
                                this.lightShadowMapId[h].setValue(o),
                                this.lightShadowMatrixId[h].setValue(r._shadowMatrix.data);
                                var d = r._rendererParams;
                                3 !== d.length && (d.length = 3),
                                d[0] = r._shadowResolution,
                                d[1] = f,
                                d[2] = u,
                                this.lightShadowParamsId[h].setValue(d),
                                this.mainLight < 0 && (this.lightShadowMatrixVsId[h].setValue(r._shadowMatrix.data),
                                this.lightShadowParamsVsId[h].setValue(d),
                                r._direction.normalize(),
                                this.lightDirVs[h][0] = r._direction.x,
                                this.lightDirVs[h][1] = r._direction.y,
                                this.lightDirVs[h][2] = r._direction.z,
                                this.lightDirVsId[h].setValue(this.lightDirVs[h]),
                                this.mainLight = n)
                            }
                            h++
                        }
                    return h
                },
                dispatchPointLight: function(t, e, i, s) {
                    var n = i._node.getWorldTransform();
                    if (this.lightColorId[s] || this._resolveLight(e, s),
                    this.lightRadiusId[s].setValue(i.attenuationEnd),
                    this.lightColorId[s].setValue(t.gammaCorrection ? i._linearFinalColor : i._finalColor),
                    n.getTranslation(i._position),
                    this.lightPos[s][0] = i._position.x,
                    this.lightPos[s][1] = i._position.y,
                    this.lightPos[s][2] = i._position.z,
                    this.lightPosId[s].setValue(this.lightPos[s]),
                    i.castShadows) {
                        var r = i._shadowCamera.renderTarget.colorBuffer;
                        this.lightShadowMapId[s].setValue(r);
                        var a = i._rendererParams;
                        4 !== a.length && (a.length = 4),
                        a[0] = i._shadowResolution,
                        a[1] = i._normalOffsetBias,
                        a[2] = i.shadowBias,
                        a[3] = 1 / i.attenuationEnd,
                        this.lightShadowParamsId[s].setValue(a)
                    }
                    i._cookie && (this.lightCookieId[s].setValue(i._cookie),
                    this.lightShadowMatrixId[s].setValue(n.data),
                    this.lightCookieIntId[s].setValue(i.cookieIntensity))
                },
                dispatchSpotLight: function(e, i, s, r) {
                    var a = s._node.getWorldTransform();
                    if (this.lightColorId[r] || this._resolveLight(i, r),
                    this.lightInAngleId[r].setValue(s._innerConeAngleCos),
                    this.lightOutAngleId[r].setValue(s._outerConeAngleCos),
                    this.lightRadiusId[r].setValue(s.attenuationEnd),
                    this.lightColorId[r].setValue(e.gammaCorrection ? s._linearFinalColor : s._finalColor),
                    a.getTranslation(s._position),
                    this.lightPos[r][0] = s._position.x,
                    this.lightPos[r][1] = s._position.y,
                    this.lightPos[r][2] = s._position.z,
                    this.lightPosId[r].setValue(this.lightPos[r]),
                    a.getY(s._direction).scale(-1),
                    s._direction.normalize(),
                    this.lightDir[r][0] = s._direction.x,
                    this.lightDir[r][1] = s._direction.y,
                    this.lightDir[r][2] = s._direction.z,
                    this.lightDirId[r].setValue(this.lightDir[r]),
                    s.castShadows) {
                        var h;
                        s._isVsm ? h = -2e-4 : (h = 20 * s.shadowBias,
                        !this.device.webgl2 && this.device.extStandardDerivatives && (h *= -100));
                        var c = s._isVsm ? s.vsmBias / (s.attenuationEnd / 7) : s._normalOffsetBias
                          , f = s._isPcf && this.device.webgl2 ? s._shadowCamera.renderTarget.depthBuffer : s._shadowCamera.renderTarget.colorBuffer;
                        this.lightShadowMapId[r].setValue(f),
                        this.lightShadowMatrixId[r].setValue(s._shadowMatrix.data);
                        var d = s._rendererParams;
                        4 !== d.length && (d.length = 4),
                        d[0] = s._shadowResolution,
                        d[1] = c,
                        d[2] = h,
                        d[3] = 1 / s.attenuationEnd,
                        this.lightShadowParamsId[r].setValue(d)
                    }
                    if (s._cookie) {
                        if (this.lightCookieId[r].setValue(s._cookie),
                        !s.castShadows) {
                            var l = this.getShadowCamera(this.device, s)
                              , b = l._node;
                            b.setPosition(s._node.getPosition()),
                            b.setRotation(s._node.getRotation()),
                            b.rotateLocal(-90, 0, 0),
                            l.projection = n.Za,
                            l.aspectRatio = 1,
                            l.fov = 2 * s._outerConeAngle,
                            o.Mt(b.getPosition(), b.getRotation(), n.ut.ONE).invert(),
                            u.mul2(l.getProjectionMatrix(), o),
                            s._shadowMatrix.mul2(t, u)
                        }
                        this.lightShadowMatrixId[r].setValue(s._shadowMatrix.data),
                        this.lightCookieIntId[r].setValue(s.cookieIntensity),
                        s._cookieTransform && (s._cookieTransformUniform[0] = s._cookieTransform.x,
                        s._cookieTransformUniform[1] = s._cookieTransform.y,
                        s._cookieTransformUniform[2] = s._cookieTransform.z,
                        s._cookieTransformUniform[3] = s._cookieTransform.w,
                        this.lightCookieMatrixId[r].setValue(s._cookieTransformUniform),
                        s._cookieOffsetUniform[0] = s._cookieOffset.x,
                        s._cookieOffsetUniform[1] = s._cookieOffset.y,
                        this.lightCookieOffsetId[r].setValue(s._cookieOffsetUniform))
                    }
                },
                dispatchLocalLights: function(t, e, i, s, r) {
                    var a, h, c, o = t[n.da], u = t[n.sa], f = s, d = o.length, l = u.length, b = f, v = this.device.scope;
                    for (a = 0; a < d; a++)
                        (h = o[a])._mask & i && (h.isStatic || (this.dispatchPointLight(e, v, h, b),
                        b++));
                    var m = 0;
                    if (r)
                        for (h = r[m]; h && h._type === n.da; )
                            this.dispatchPointLight(e, v, h, b),
                            b++,
                            h = r[++m];
                    for (a = 0; a < l; a++)
                        (c = u[a])._mask & i && (c.isStatic || (this.dispatchSpotLight(e, v, c, b),
                        b++));
                    if (r)
                        for (c = r[m]; c && c._type === n.sa; )
                            this.dispatchSpotLight(e, v, c, b),
                            b++,
                            c = r[++m]
                },
                cull: function(t, e, i) {
                    var s = 0, r, a, h, c = e.length, o = t.cullingMask || 4294967295;
                    if (!t.frustumCulling) {
                        for (r = 0; r < c; r++)
                            ((a = e[r]).visible || a.command) && (a.mask && 0 == (a.mask & o) || (i[s] = a,
                            s++,
                            a.visibleThisFrame = !0));
                        return s
                    }
                    for (r = 0; r < c; r++)
                        if ((a = e[r]).command)
                            i[s] = a,
                            s++,
                            a.visibleThisFrame = !0;
                        else {
                            if (!a.visible)
                                continue;
                            if (h = !0,
                            a.mask && 0 == (a.mask & o))
                                continue;
                            if (!t._maskOffscreen && a.mask > n.Fh)
                                continue;
                            a.cull && (h = this._isVisible(t, a)),
                            h && (i[s] = a,
                            s++,
                            a.visibleThisFrame = !0)
                        }
                    return s
                },
                cullLights: function(t, e) {
                    var i, s, r;
                    for (i = 0; i < e.length; i++)
                        if (r = (s = e[i])._type,
                        s.castShadows && s._enabled && s.shadowUpdateMode !== n.Sh && r !== n.ca) {
                            if (s.getBoundingSphere(D),
                            !t.frustum.Ht(D))
                                continue;
                            s.visibleThisFrame = !0
                        }
                },
                Jh: function(t) {
                    var e = t.length, i, s;
                    if (0 !== e)
                        for (i = 0; i < e; i++)
                            (s = t[i].skinInstance) && (s.updateMatrices(t[i].node),
                            s._dirty = !0)
                },
                qh: function(t) {
                    var e, i, s = t.length;
                    for (e = 0; e < s; e++)
                        t[e].visibleThisFrame && (i = t[e].skinInstance) && i._dirty && (i.updateMatrixPalette(),
                        i._dirty = !1)
                },
                updateMorphedBounds: function(t) {
                    var e, i, s = t.length;
                    for (e = 0; e < s; e++)
                        (i = t[e].morphInstance) && i._dirty && i.updateBounds(t[e].mesh)
                },
                updateMorphing: function(t) {
                    var e, i, s = t.length;
                    for (e = 0; e < s; e++)
                        t[e].visibleThisFrame && (i = t[e].morphInstance) && i._dirty && (i.update(t[e].mesh),
                        i._dirty = !1)
                },
                setBaseConstants: function(t, e) {
                    t.Ar(e.cull),
                    e.opacityMap && (this.opacityMapId.setValue(e.opacityMap),
                    this.alphaTestId.setValue(e.alphaTest))
                },
                setSkinning: function(t, e, i) {
                    e.skinInstance && (this._skinDrawCalls++,
                    t.supportsBoneTextures ? (I = e.skinInstance.boneTexture,
                    this.boneTextureId.setValue(I),
                    B[0] = I.width,
                    B[1] = I.height,
                    this.boneTextureSizeId.setValue(B)) : this.poseMatrixId.setValue(e.skinInstance.matrixPalette))
                },
                drawInstance: function(t, e, i, s, r) {
                    return (j = e.instancingData) ? (this._instancedDrawCalls++,
                    this._removedByInstancing += j.count,
                    t.vn(j._buffer, 1, j.offset),
                    t.draw(i.Zh[s], j.count),
                    j._buffer === n._autoInstanceBuffer ? (e.instancingData = null,
                    j.count - 1) : void 0) : (R = e.node.worldTransform,
                    this.modelMatrixId.setValue(R.data),
                    r && (L = e.node.normalMatrix,
                    e.node._dirtyNormal && (R.St(L),
                    L.transpose(),
                    e.node._dirtyNormal = !1),
                    this.normalMatrixId.setValue(L.data)),
                    t.setFrontMode(R.getDeterminant() < 0 ? n.FRONTFACE_CW : n.FRONTFACE_CCW),
                    t.draw(i.Zh[s]),
                    0)
                },
                drawInstance2: function(t, e, i, s) {
                    return (j = e.instancingData) ? (this._instancedDrawCalls++,
                    this._removedByInstancing += j.count,
                    t.vn(j._buffer, 1, j.offset),
                    t.draw(i.Zh[s], j.count),
                    j._buffer === n._autoInstanceBuffer ? (e.instancingData = null,
                    j.count - 1) : void 0) : (t.draw(i.Zh[s]),
                    0)
                },
                renderShadows: function(e, s) {
                    var r = this.device, a, f, d, l, b, v, m, g, p, w, x, z, _, A, y, M, S, C, O, E = 1 << n.On, D, T, P;
                    for (a = 0; a < e.length; a++)
                        if (b = (d = e[a])._type,
                        d.castShadows && d._enabled && (d._shadowCamera || this.getShadowCamera(r, d),
                        d.shadowUpdateMode !== n.Sh && d.visibleThisFrame)) {
                            var B;
                            if (m = (v = this.getShadowCamera(r, d))._node,
                            g = 0,
                            p = 1,
                            b === n.ca) {
                                if (d._visibleLength[s] < 0)
                                    continue;
                                S = d._visibleCameraSettings[s],
                                m.setPosition(S.x, S.y, S.z),
                                v.orthoHeight = S.orthoHeight,
                                v.farClip = S.farClip,
                                g = s
                            } else
                                b === n.sa ? (B = m.getPosition(),
                                this.viewPos[0] = B.x,
                                this.viewPos[1] = B.y,
                                this.viewPos[2] = B.z,
                                this.viewPosId.setValue(this.viewPos),
                                this.shadowMapLightRadiusId.setValue(d.attenuationEnd)) : b === n.da && (B = m.getPosition(),
                                this.viewPos[0] = B.x,
                                this.viewPos[1] = B.y,
                                this.viewPos[2] = B.z,
                                this.viewPosId.setValue(this.viewPos),
                                this.shadowMapLightRadiusId.setValue(d.attenuationEnd),
                                p = 6);
                            for (b !== n.da && (o.Mt(m.getPosition(), m.getRotation(), n.ut.ONE).invert(),
                            u.mul2(v.getProjectionMatrix(), o),
                            d._shadowMatrix.mul2(t, u)),
                            r.webgl2 ? b === n.da ? r.sr(!1) : (r.sr(!0),
                            r.nr(-1e3 * d.shadowBias, -1e3 * d.shadowBias)) : r.extStandardDerivatives && (b === n.da ? (this.polygonOffset[0] = 0,
                            this.polygonOffset[1] = 0,
                            this.polygonOffsetId.setValue(this.polygonOffset)) : (this.polygonOffset[0] = -1e3 * d.shadowBias,
                            this.polygonOffset[1] = -1e3 * d.shadowBias,
                            this.polygonOffsetId.setValue(this.polygonOffset))),
                            d.shadowUpdateMode === n.Ch && (d.shadowUpdateMode = n.Sh),
                            this._shadowMapUpdates += p,
                            r.hr(!1),
                            r.er(!0),
                            r.Zn(!0),
                            d._isPcf && r.webgl2 && b !== n.da ? r.ir(!1, !1, !1, !1) : r.ir(!0, !0, !0, !0),
                            g ? p = g + 1 : g = 0; g < p; ) {
                                for (b === n.da && (m.setRotation(i[g]),
                                v.renderTarget = d._shadowCubeMap[g]),
                                this.setCamera(v, v.renderTarget, !0, b !== n.da),
                                C = d._visibleList[g],
                                O = d._visibleLength[g],
                                x = (w = d._shadowType) + 5 * b,
                                f = 0,
                                z = O; f < z; f++) {
                                    if (A = (_ = C[f]).mesh,
                                    y = _.material,
                                    this.setBaseConstants(r, y),
                                    this.setSkinning(r, _, y),
                                    y.dirty && (y.updateUniforms(),
                                    y.dirty = !1),
                                    y.chunks) {
                                        for (D in P = y.parameters)
                                            (T = P[D]).passFlags & E && (T.scopeId || (T.scopeId = r.scope.resolve(D)),
                                            T.scopeId.setValue(T.data));
                                        for (D in P = _.parameters)
                                            (T = P[D]).passFlags & E && (T.scopeId || (T.scopeId = r.scope.resolve(D)),
                                            T.scopeId.setValue(T.data))
                                    }
                                    (l = _._shader[n.On + x]) || (this.Hh(_, _._shaderDefs, null, n.On + x),
                                    l = _._shader[n.On + x],
                                    _._key[n.Dh] = it(_)),
                                    r.setShader(l),
                                    M = _.renderStyle,
                                    r.vn(_.morphInstance && _.morphInstance.$h ? _.morphInstance.$h : A.nn, 0),
                                    r.yr(A.cn[M]),
                                    f += this.drawInstance(r, _, A, M),
                                    this._shadowDrawCalls++
                                }
                                g++,
                                b === n.ca && (d._visibleLength[s] = -1)
                            }
                            if (d._isVsm) {
                                var I = d._vsmBlurSize;
                                if (I > 1) {
                                    var j = v.renderTarget
                                      , R = tt(r, d._shadowResolution, d._shadowType, 1)
                                      , L = d._shadowType === n.la
                                      , N = d.vsmBlurMode
                                      , F = (L ? this.blurPackedVsmShader : this.blurVsmShader)[N][I];
                                    if (!F) {
                                        this.blurVsmWeights[I] = Z(I);
                                        var k = n.dn.fullscreenQuadVS
                                          , U = "#define SAMPLES " + I + "\n";
                                        U += L ? this.blurPackedVsmShaderCode[N] : this.blurVsmShaderCode[N];
                                        var V = "blurVsm" + N + I + L;
                                        F = n.dn.createShaderFromCode(this.device, k, U, V),
                                        L ? this.blurPackedVsmShader[N][I] = F : this.blurVsmShader[N][I] = F
                                    }
                                    c.z = d._shadowResolution - 2,
                                    c.w = c.z,
                                    this.sourceId.setValue(j.colorBuffer),
                                    h[0] = 1 / d._shadowResolution,
                                    h[1] = 0,
                                    this.pixelOffsetId.setValue(h),
                                    N === n.Ha && this.weightId.setValue(this.blurVsmWeights[I]),
                                    n.Bn(r, R, F, null, c),
                                    this.sourceId.setValue(R.colorBuffer),
                                    h[1] = h[0],
                                    h[0] = 0,
                                    this.pixelOffsetId.setValue(h),
                                    n.Bn(r, j, F, null, c)
                                }
                            }
                        }
                    r.webgl2 ? r.sr(!1) : r.extStandardDerivatives && (this.polygonOffset[0] = 0,
                    this.polygonOffset[1] = 0,
                    this.polygonOffsetId.setValue(this.polygonOffset))
                },
                Hh: function(t, e, i, s, n) {
                    t.material._scene = this.scene,
                    t.material.Hh(this.device, this.scene, e, i, s, n),
                    t._shader[s] = t.material.shader
                },
                renderForward: function(t, e, i, s, r, a, h, c) {
                    var o = this.device, u = this.scene, f = t.vrDisplay, d = 1 << r, l = c ? c._lightHash : 0, b, v, m, E, D, T, P, B, I, j = null, R, L, N, F, k, U, V, H, G = .5 * o.width;
                    for (b = 0; b < i; b++)
                        if (v = e[b],
                        !a || !v.mask || a & v.mask)
                            if (v.command)
                                v.command();
                            else {
                                if (m = v.mesh,
                                E = v.material,
                                D = v._shaderDefs,
                                P = v.mask,
                                this.setSkinning(o, v, E),
                                E && E === j && D !== R && (j = null),
                                (v.isStatic || N) && (j = null),
                                E !== j) {
                                    for (F in this._materialSwitches++,
                                    E.dirty && (E.updateUniforms(),
                                    E.dirty = !1),
                                    v._shader[r] && v._shaderDefs === D && v._lightHash === l || (v.isStatic ? this.Hh(v, D, v._staticLightList, r, s) : (T = r + "_" + D + "_" + l,
                                    v._shader[r] = E.variants[T],
                                    v._shader[r] || (this.Hh(v, D, null, r, s),
                                    E.variants[T] = v._shader[r])),
                                    v._shaderDefs = D,
                                    v._lightHash = l),
                                    o.setShader(v._shader[r]),
                                    U = E.parameters)
                                        (k = U[F]).passFlags & d && (k.scopeId || (k.scopeId = o.scope.resolve(F)),
                                        k.scopeId.setValue(k.data));
                                    j && P === L || (I = this.dispatchDirectLights(s[n.ca], u, P),
                                    this.dispatchLocalLights(s, u, P, I, v._staticLightList)),
                                    this.alphaTestId.setValue(E.alphaTest),
                                    o.hr(E.blend),
                                    E.blend && (E.Gn ? (o.wr(E.kn, E.Un, E.Vn, E.Hn),
                                    o.zr(E.blendEquation, E.Wn)) : (o.pr(E.kn, E.Un),
                                    o.xr(E.blendEquation))),
                                    o.ir(E.redWrite, E.greenWrite, E.blueWrite, E.alphaWrite),
                                    t._cullFaces ? t._flipFaces ? o.Ar(E.cull > 0 ? E.cull === n.je ? n.Ie : n.je : 0) : o.Ar(E.cull) : o.Ar(n.Be),
                                    o.er(E.depthWrite),
                                    o.Zn(E.depthTest),
                                    o.setAlphaToCoverage(E.alphaToCoverage),
                                    E.depthBias || E.slopeDepthBias ? (o.sr(!0),
                                    o.nr(E.depthBias, E.slopeDepthBias)) : o.sr(!1)
                                }
                                for (F in V = v.stencilFront || E.stencilFront,
                                H = v.stencilBack || E.stencilBack,
                                V || H ? (o.cr(!0),
                                V === H ? (o.ur(V.func, V.ref, V.readMask),
                                o.br(V.fail, V.zfail, V.zpass, V.writeMask)) : (V ? (o.dr(V.func, V.ref, V.readMask),
                                o.mr(V.fail, V.zfail, V.zpass, V.writeMask)) : (o.dr(n.ni, 0, 255),
                                o.mr(n.ps, n.ps, n.ec, 255)),
                                H ? (o.lr(H.func, H.ref, H.readMask),
                                o.gr(H.fail, H.zfail, H.zpass, H.writeMask)) : (o.lr(n.ni, 0, 255),
                                o.gr(n.ps, n.ps, n.ps, 255)))) : o.cr(!1),
                                U = v.parameters)
                                    (k = U[F]).passFlags & d && (k.scopeId || (k.scopeId = o.scope.resolve(F)),
                                    k.scopeId.setValue(k.data));
                                if (o.vn(v.morphInstance && v.morphInstance.$h ? v.morphInstance.$h : m.nn, 0),
                                B = v.renderStyle,
                                o.yr(m.cn[B]),
                                h && h(v, b),
                                f && f.presenting ? (o.Xn(0, 0, G, o.height),
                                this.projId.setValue(A.data),
                                this.viewInvId.setValue(g.data),
                                this.viewId.setValue(w.data),
                                this.viewId3.setValue(M.data),
                                this.viewProjId.setValue(C.data),
                                this.viewPos[0] = z.x,
                                this.viewPos[1] = z.y,
                                this.viewPos[2] = z.z,
                                this.viewPosId.setValue(this.viewPos),
                                b += this.drawInstance(o, v, m, B, !0),
                                this._forwardDrawCalls++,
                                o.Xn(G, 0, G, o.height),
                                this.projId.setValue(y.data),
                                this.viewInvId.setValue(p.data),
                                this.viewId.setValue(x.data),
                                this.viewId3.setValue(S.data),
                                this.viewProjId.setValue(O.data),
                                this.viewPos[0] = _.x,
                                this.viewPos[1] = _.y,
                                this.viewPos[2] = _.z,
                                this.viewPosId.setValue(this.viewPos),
                                b += this.drawInstance2(o, v, m, B),
                                this._forwardDrawCalls++) : (b += this.drawInstance(o, v, m, B, !0),
                                this._forwardDrawCalls++),
                                b < i - 1 && e[b + 1].material === E)
                                    for (F in U)
                                        (k = E.parameters[F]) && (k.scopeId || (k.scopeId = o.scope.resolve(F)),
                                        k.scopeId.setValue(k.data));
                                j = E,
                                R = D,
                                L = P,
                                N = v.isStatic
                            }
                    o.mn()
                },
                setupInstancing: function(t) {
                    if (!n.ic) {
                        var e = [{
                            semantic: n.SEMANTIC_TEXCOORD2,
                            components: 4,
                            type: n.He
                        }, {
                            semantic: n.SEMANTIC_TEXCOORD3,
                            components: 4,
                            type: n.He
                        }, {
                            semantic: n.SEMANTIC_TEXCOORD4,
                            components: 4,
                            type: n.He
                        }, {
                            semantic: n.SEMANTIC_TEXCOORD5,
                            components: 4,
                            type: n.He
                        }];
                        n.ic = new n.an(t,e)
                    }
                    t.enableAutoInstancing && (n._autoInstanceBuffer || (n._autoInstanceBuffer = new n.hn(t,n.ic,t.autoInstancingMaxObjects,n.ze),
                    n._autoInstanceBufferData = new Float32Array(n._autoInstanceBuffer.lock())))
                },
                revertStaticMeshes: function(t) {
                    var e, i = t, s = i.length, n, r = [], a;
                    for (e = 0; e < s; e++)
                        (n = i[e])._staticSource ? n._staticSource !== a && (r.push(n._staticSource),
                        a = n._staticSource) : r.push(n);
                    for (t.length = r.length,
                    e = 0; e < r.length; e++)
                        t[e] = r[e]
                },
                prepareStaticMeshes: function(t, e) {
                    var i, s, r, a, h, c, o = this.device, u = this.scene, f = t, d = f.length, l, b, v = [], m, g, p, w, x, z, _, A, y, M, S, C, O, E, T, P, B, I, j, R = new n.ut, L = new n.ut, N = new n.jt, F = new n.zt, k = [], U, V, H, G, W, Y, X, K = [], Q, J = [], q = [], Z, $;
                    for (i = 0; i < d; i++)
                        if ((l = f[i]).isStatic) {
                            for (Q = l.aabb,
                            q.length = 0,
                            X = n.da; X <= n.sa; X++)
                                for (s = 0; s < e.length; s++)
                                    if ((b = e[s])._type === X && b._enabled && b._mask & l.mask && b.isStatic) {
                                        if (K[s] || (K[s] = new n.jt,
                                        b._node.getWorldTransform(),
                                        b.getBoundingSphere(D),
                                        K[s].center.copy(D.center),
                                        K[s].halfExtents.x = D.radius,
                                        K[s].halfExtents.y = D.radius,
                                        K[s].halfExtents.z = D.radius),
                                        !K[s].Rt(Q))
                                            continue;
                                        q.push(s)
                                    }
                            if (0 === q.length) {
                                v.push(l);
                                continue
                            }
                            for (H = (m = l.mesh).nn,
                            g = 2 === (V = m.cn[l.renderStyle]).bytesPerIndex ? new Uint16Array(V.lock()) : new Uint32Array(V.lock()),
                            w = m.Zh[l.renderStyle].count / 3,
                            A = m.Zh[l.renderStyle].base,
                            x = H.format.elements,
                            z = H.format.size / 4,
                            p = new Float32Array(H.storage),
                            r = 0; r < x.length; r++)
                                x[r].name === n.Yi && (_ = x[r].offset / 4);
                            for (k.length = w,
                            r = 0; r < w; r++)
                                k[r] = 0;
                            for (U = !1,
                            J.length = 6 * w,
                            r = 0; r < w; r++) {
                                for (C = Number.MAX_VALUE,
                                O = Number.MAX_VALUE,
                                E = Number.MAX_VALUE,
                                T = -Number.MAX_VALUE,
                                P = -Number.MAX_VALUE,
                                B = -Number.MAX_VALUE,
                                a = 0; a < 3; a++)
                                    (y = p[c = (c = g[3 * r + a + A]) * z + _]) < C && (C = y),
                                    (M = p[c + 1]) < O && (O = M),
                                    (S = p[c + 2]) < E && (E = S),
                                    y > T && (T = y),
                                    M > P && (P = M),
                                    S > B && (B = S);
                                J[c = 6 * r] = C,
                                J[c + 1] = O,
                                J[c + 2] = E,
                                J[c + 3] = T,
                                J[c + 4] = P,
                                J[c + 5] = B
                            }
                            for (h = 0; h < q.length; h++)
                                for (b = e[s = q[h]],
                                F.copy(l.node.worldTransform).invert(),
                                N.kt(K[s], F),
                                I = N.getMin(),
                                j = N.getMax(),
                                Z = 1 << h,
                                r = 0; r < w; r++)
                                    J[c = 6 * r] <= j.x && J[c + 3] >= I.x && J[c + 1] <= j.y && J[c + 4] >= I.y && J[c + 2] <= j.z && J[c + 5] >= I.z && (k[r] |= Z,
                                    U = !0);
                            if (U) {
                                for (G = {},
                                r = 0; r < w; r++)
                                    s = 3 * r + A,
                                    G[W = k[r]] || (G[W] = []),
                                    (Y = G[W]).push(g[s]),
                                    Y.push(g[s + 1]),
                                    Y.push(g[s + 2]);
                                for (W in G) {
                                    Y = G[W];
                                    var tt = new n.un(o,V.format,Y.length,V.usage), et;
                                    for ((2 === tt.bytesPerIndex ? new Uint16Array(tt.lock()) : new Uint32Array(tt.lock())).set(Y),
                                    tt.unlock(),
                                    C = Number.MAX_VALUE,
                                    O = Number.MAX_VALUE,
                                    E = Number.MAX_VALUE,
                                    T = -Number.MAX_VALUE,
                                    P = -Number.MAX_VALUE,
                                    B = -Number.MAX_VALUE,
                                    r = 0; r < Y.length; r++)
                                        (y = p[(c = Y[r]) * z + _]) < C && (C = y),
                                        (M = p[c * z + _ + 1]) < O && (O = M),
                                        (S = p[c * z + _ + 2]) < E && (E = S),
                                        y > T && (T = y),
                                        M > P && (P = M),
                                        S > B && (B = S);
                                    R.set(C, O, E),
                                    L.set(T, P, B);
                                    var it = new n.jt;
                                    it.setMinMax(R, L);
                                    var st = new n.Mesh;
                                    st.nn = H,
                                    st.cn[0] = tt,
                                    st.Zh[0].type = n.Hi,
                                    st.Zh[0].base = 0,
                                    st.Zh[0].count = Y.length,
                                    st.Zh[0].indexed = !0,
                                    st.aabb = it;
                                    var nt = new n.Yh(l.node,st,l.material);
                                    for (nt.isStatic = l.isStatic,
                                    nt.visible = l.visible,
                                    nt.layer = l.layer,
                                    nt.castShadow = l.castShadow,
                                    nt._receiveShadow = l._receiveShadow,
                                    nt.cull = l.cull,
                                    nt.pick = l.pick,
                                    nt.mask = l.mask,
                                    nt.parameters = l.parameters,
                                    nt._shaderDefs = l._shaderDefs,
                                    nt._staticSource = l,
                                    l._staticLightList ? nt._staticLightList = l._staticLightList : nt._staticLightList = [],
                                    r = 0; r < q.length; r++)
                                        W & (Z = 1 << r) && ($ = e[q[r]],
                                        nt._staticLightList.indexOf($) < 0 && nt._staticLightList.push($));
                                    nt._staticLightList.sort(this.lightCompare),
                                    v.push(nt)
                                }
                            } else
                                v.push(l)
                        } else
                            v.push(l);
                    for (t.length = v.length,
                    i = 0; i < v.length; i++)
                        t[i] = v[i]
                },
                Uh: function(t) {
                    var e, i = [];
                    for (e = 0; e < t.length; e++) {
                        var s = t[e];
                        void 0 !== s.material && -1 === i.indexOf(s.material) && i.push(s.material)
                    }
                    for (e = 0; e < i.length; e++) {
                        var r = i[e];
                        r.Hh !== n.Vh.prototype.Hh && (r.clearVariants(),
                        r.shader = null)
                    }
                },
                updateLitShaders: function(t) {
                    for (var e = 0; e < t.length; e++) {
                        var i = t[e];
                        if (void 0 !== i.material) {
                            var s = i.material;
                            if (s.Hh !== n.Vh.prototype.Hh) {
                                if (!1 === s.useLighting || s.emitter && !s.emitter.lighting)
                                    continue;
                                s.clearVariants(),
                                s.shader = null
                            }
                        }
                    }
                },
                beginFrame: function(t) {
                    var e = this.device, i = this.scene, s = t._meshInstances, r = t._lights, a;
                    i.updateSkybox && (i._updateSkybox(e),
                    i.updateSkybox = !1),
                    i.Uh ? (this.Uh(s),
                    i.Uh = !1,
                    i.updateLitShaders = !1,
                    i._shaderVersion++) : i.updateLitShaders && (this.updateLitShaders(s),
                    i.updateLitShaders = !1,
                    i._shaderVersion++),
                    this.Jh(s),
                    this.updateMorphedBounds(s);
                    var h = s.length;
                    for (a = 0; a < h; a++)
                        s[a].visibleThisFrame = !1;
                    for (h = r.length,
                    a = 0; a < h; a++)
                        r[a].visibleThisFrame = r[a]._type === n.ca
                },
                beginLayers: function(t) {
                    var e = this.scene, i = t.layerList.length, s, r, a, h = this.scene._shaderVersion, c;
                    for (r = 0; r < i; r++)
                        t.layerList[r]._postRenderCounter = 0;
                    for (r = 0; r < i; r++) {
                        for ((s = t.layerList[r])._shaderVersion = h,
                        s._preRenderCalledForCameras = 0,
                        s._postRenderCalledForCameras = 0,
                        c = t.subLayerList[r],
                        s._postRenderCounter |= c ? 2 : 1,
                        s._postRenderCounterMax = s._postRenderCounter,
                        a = 0; a < s.cameras.length; a++)
                            s.instances.visibleOpaque[a] || (s.instances.visibleOpaque[a] = new n.VisibleInstanceList),
                            s.instances.visibleTransparent[a] || (s.instances.visibleTransparent[a] = new n.VisibleInstanceList),
                            s.instances.visibleOpaque[a].done = !1,
                            s.instances.visibleTransparent[a].done = !1;
                        s.cameras.length < s.instances.visibleOpaque.length && s.instances.visibleOpaque.splice(s.cameras.length, 1),
                        s.cameras.length < s.instances.visibleTransparent.length && s.instances.visibleTransparent.splice(s.cameras.length, 1),
                        s._needsStaticPrepare && s._staticLightHash && (s._staticPrepareDone && (this.revertStaticMeshes(s.opaqueMeshInstances),
                        this.revertStaticMeshes(s.transparentMeshInstances)),
                        this.prepareStaticMeshes(s.opaqueMeshInstances, s._lights),
                        this.prepareStaticMeshes(s.transparentMeshInstances, s._lights),
                        t._dirty = !0,
                        e.Uh = !0,
                        s._needsStaticPrepare = !1,
                        s._staticPrepareDone = !0)
                    }
                },
                cullLocalShadowmap: function(t, e) {
                    var s, r, a, h, c, o, u, f, d, l, b, v;
                    if ((r = t._type) !== n.ca)
                        for (t.visibleThisFrame = !0,
                        (a = this.getShadowCamera(this.device, t)).projection = n.Za,
                        a.nearClip = t.attenuationEnd / 1e3,
                        a.farClip = t.attenuationEnd,
                        a.aspectRatio = 1,
                        r === n.sa ? (a.fov = 2 * t._outerConeAngle,
                        c = 1) : (a.fov = 90,
                        c = 6),
                        h = a._node,
                        v = t._node,
                        h.setPosition(v.getPosition()),
                        r === n.sa && (h.setRotation(v.getRotation()),
                        h.rotateLocal(-90, 0, 0)),
                        o = 0; o < c; o++) {
                            for (r === n.da && (h.setRotation(i[o]),
                            a.renderTarget = t._shadowCubeMap[o]),
                            this.updateCameraFrustum(a),
                            (d = t._visibleList[o]) || (d = t._visibleList[o] = []),
                            t._visibleLength[o] = 0,
                            l = 0,
                            s = 0,
                            u = e.length; s < u; s++)
                                b = !0,
                                (f = e[s]).cull && (b = this._isVisible(a, f)),
                                b && (d[l] = f,
                                l++,
                                f.visibleThisFrame = !0);
                            t._visibleLength[o] = l,
                            d.length !== l && (d.length = l),
                            d.sort(this.depthSortCompare)
                        }
                },
                cullDirectionalShadowmap: function(t, e, i, s) {
                    var r, a, h, c, u, d, l, b, v, m, g, p, w, x, z, _, A, y, M, S, C, O, D, T = this.device;
                    for (t.visibleThisFrame = !0,
                    h = (a = this.getShadowCamera(T, t))._node,
                    c = t._node,
                    h.setPosition(c.getPosition()),
                    h.setRotation(c.getRotation()),
                    h.rotateLocal(-90, 0, 0),
                    G(i, t.shadowDistance || i._farClip, V),
                    u = E.sub2(V[0], V[6]).length(),
                    u = Math.max(u, E.sub2(V[4], V[6]).length()),
                    o.copy(h.getWorldTransform()).invert(),
                    f.copy(o).mul(i._node.worldTransform),
                    r = 0; r < 8; r++)
                        f.transformPoint(V[r], V[r]);
                    for (g = p = w = 1e6,
                    x = z = _ = -1e6,
                    r = 0; r < 8; r++)
                        (m = V[r]).x < g && (g = m.x),
                        m.x > x && (x = m.x),
                        m.y < p && (p = m.y),
                        m.y > z && (z = m.y),
                        m.z < w && (w = m.z),
                        m.z > _ && (_ = m.z);
                    for (b = u / t._shadowResolution,
                    v = .5 * (u - (x - g)),
                    g = Math.floor((g - v) / b) * b,
                    v = .5 * (u - (z - p)),
                    A = .5 * ((x = g + u) + g),
                    y = .5 * ((z = (p = Math.floor((p - v) / b) * b) + u) + p),
                    h.translateLocal(A, y, 1e5),
                    a.projection = n.$a,
                    a.nearClip = 0,
                    a.farClip = 2e5,
                    a.aspectRatio = 1,
                    a.orthoHeight = .5 * u,
                    this.updateCameraFrustum(a),
                    O = !0,
                    (l = t._visibleList[s]) || (l = t._visibleList[s] = []),
                    d = t._visibleLength[s] = 0,
                    r = 0,
                    S = e.length; r < S; r++)
                        M = !0,
                        (C = e[r]).cull && (M = this._isVisible(a, C)),
                        M && (l[d] = C,
                        d++,
                        C.visibleThisFrame = !0,
                        D = C.aabb,
                        O ? (P.copy(D),
                        O = !1) : P.add(D));
                    t._visibleLength[s] = d,
                    l.length !== d && (l.length = d),
                    l.sort(this.depthSortCompare);
                    var B = Y(o, P.getMin(), P.getMax(), g, x, p, z);
                    _ = B.max,
                    B.min > w && (w = B.min),
                    h.setPosition(c.getPosition()),
                    h.translateLocal(A, y, _ + .01),
                    a.farClip = _ - w;
                    var I = t._visibleCameraSettings[s];
                    I || (I = t._visibleCameraSettings[s] = {});
                    var j = h.getPosition();
                    I.x = j.x,
                    I.y = j.y,
                    I.z = j.z,
                    I.orthoHeight = a.orthoHeight,
                    I.farClip = a.farClip
                },
                gpuUpdate: function(t) {
                    this.qh(t),
                    this.updateMorphing(t)
                },
                clearView: function(t, e, i) {
                    t = t.camera;
                    var s = this.device;
                    s.ln(e),
                    s.bn(),
                    s.ir(!0, !0, !0, !0),
                    s.er(!0);
                    var n = t.getRect()
                      , r = e ? e.width : s.width
                      , a = e ? e.height : s.height
                      , h = Math.floor(n.x * r)
                      , c = Math.floor(n.y * a)
                      , o = Math.floor(n.width * r)
                      , u = Math.floor(n.height * a);
                    s.Xn(h, c, o, u),
                    s.Kn(h, c, o, u),
                    s.clear(i || t._clearOptions)
                },
                setSceneConstants: function() {
                    var t, e = this.device, i = this.scene;
                    if (this.dispatchGlobalLights(i),
                    i.fog !== n.Ta) {
                        if (this.fogColor[0] = i.fogColor.r,
                        this.fogColor[1] = i.fogColor.g,
                        this.fogColor[2] = i.fogColor.b,
                        i.gammaCorrection)
                            for (t = 0; t < 3; t++)
                                this.fogColor[t] = Math.pow(this.fogColor[t], 2.2);
                        this.fogColorId.setValue(this.fogColor),
                        i.fog === n.Pa ? (this.fogStartId.setValue(i.fogStart),
                        this.fogEndId.setValue(i.fogEnd)) : this.fogDensityId.setValue(i.fogDensity)
                    }
                    this._screenSize[0] = e.width,
                    this._screenSize[1] = e.height,
                    this._screenSize[2] = 1 / e.width,
                    this._screenSize[3] = 1 / e.height,
                    this.screenSizeId.setValue(this._screenSize)
                },
                renderComposition: function(t) {
                    var e = this.device, i, s = t._renderedRt, r = t._renderedByCam, a = t._renderedLayer, h, c, o, u, f, d, l, b, v, m, g;
                    this.beginLayers(t),
                    t._update() & n.COMPUPDATED_LIGHTS && (this.scene.updateLitShaders = !0),
                    this.beginFrame(t),
                    this.setSceneConstants();
                    var p = 0, w, x, z, _, A;
                    for (h = 0; h < t.layerList.length; h++)
                        if ((c = t.layerList[h]).enabled && t.subLayerEnabled[h])
                            for (o = t.subLayerList[h],
                            w = c.instances,
                            u = c.cameras,
                            f = 0; f < u.length; f++)
                                if (i = u[f]) {
                                    for (i.frameBegin(c.renderTarget),
                                    x = o ? c.transparentMeshInstances : c.opaqueMeshInstances,
                                    b = !1,
                                    v = !1,
                                    l = 0; l < p; l++)
                                        if (r[l] === i && (b = !0,
                                        a[l] === c)) {
                                            v = !0;
                                            break
                                        }
                                    b || (this.updateCameraFrustum(i.camera),
                                    this._camerasRendered++),
                                    v || this.cullLights(i.camera, c._lights),
                                    b && v || (r[p] = i,
                                    a[p] = c,
                                    p++),
                                    (z = o ? w.visibleTransparent[f] : w.visibleOpaque[f]).done || (c.onPreCull && c.onPreCull(f),
                                    z.length = this.cull(i.camera, x, z.list),
                                    z.done = !0,
                                    c.onPostCull && c.onPostCull(f)),
                                    i.frameEnd()
                                }
                    for (h = 0; h < t._lights.length; h++)
                        (_ = t._lights[h]).visibleThisFrame && _._type !== n.ca && _.castShadows && _._enabled && _.shadowUpdateMode !== n.Sh && (A = t._lightShadowCasters[h],
                        this.cullLocalShadowmap(_, A));
                    p = 0;
                    var y = -1, M, S, C, O;
                    for (h = 0; h < t._lights.length; h++)
                        if ((_ = t._lights[h])._type === n.ca && (y++,
                        _.castShadows && _._enabled && _.shadowUpdateMode !== n.Sh))
                            for (A = t._lightShadowCasters[h],
                            u = t._globalLightCameras[y],
                            f = 0; f < u.length; f++)
                                this.cullDirectionalShadowmap(_, A, u[f].camera, t._globalLightCameraIds[y][f]);
                    for (this.gpuUpdate(t._meshInstances),
                    this.renderShadows(t._sortedLights[n.sa]),
                    this.renderShadows(t._sortedLights[n.da]),
                    p = 0,
                    h = 0; h < t._renderList.length; h++)
                        if ((c = t.layerList[t._renderList[h]]).enabled && t.subLayerEnabled[t._renderList[h]]) {
                            if (w = c.instances,
                            o = t.subLayerList[t._renderList[h]],
                            M = t._renderListCamera[h],
                            (i = c.cameras[M]) && i.frameBegin(c.renderTarget),
                            !o && c.onPreRenderOpaque ? c.onPreRenderOpaque(M) : o && c.onPreRenderTransparent && c.onPreRenderTransparent(M),
                            c._preRenderCalledForCameras & 1 << M || (c.onPreRender && c.onPreRender(M),
                            c._preRenderCalledForCameras |= 1 << M,
                            c.overrideClear && this.clearView(i, c.renderTarget, c._clearOptions)),
                            i) {
                                for (d = c.renderTarget,
                                m = !1,
                                l = 0; l < p; l++)
                                    if (s[l] === d && r[l] === i) {
                                        m = !0;
                                        break
                                    }
                                m || (c.overrideClear || this.clearView(i, c.renderTarget),
                                s[p] = d,
                                r[p] = i,
                                p++),
                                this.renderShadows(c._sortedLights[n.ca], M),
                                c._sortVisible(o, i.node, M),
                                z = o ? w.visibleTransparent[M] : w.visibleOpaque[M],
                                this.scene._activeCamera = i.camera,
                                this.setCamera(i.camera, c.renderTarget),
                                this.renderForward(i.camera, z.list, z.length, c._sortedLights, c.shaderPass, c.cullingMask, c.onDrawCall, c),
                                e.ir(!0, !0, !0, !0),
                                e.cr(!1),
                                e.setAlphaToCoverage(!1),
                                e.sr(!1),
                                i.frameEnd()
                            }
                            !o && c.onPostRenderOpaque ? c.onPostRenderOpaque(M) : o && c.onPostRenderTransparent && c.onPostRenderTransparent(M),
                            !c.onPostRender || c._postRenderCalledForCameras & 1 << M || (c._postRenderCounter &= ~(o ? 2 : 1),
                            0 === c._postRenderCounter && (c.onPostRender(M),
                            c._postRenderCalledForCameras |= 1 << M,
                            c._postRenderCounter = c._postRenderCounterMax))
                        }
                }
            }),
            {
                sc: st,
                rc: Z
            }
        }()),
        Object.assign(n, (It = new n.zt,
        jt = new n.ut,
        Rt = new n.bt,
        Lt = new n.bt,
        Nt = new n.ut,
        Ft = new n.ut,
        kt = function t(e) {
            this.name = "string" == typeof e ? e : "Untitled",
            this.tags = new n.Tags(this),
            this._labels = {},
            this.localPosition = new n.ut(0,0,0),
            this.localRotation = new n.bt(0,0,0,1),
            this.localScale = new n.ut(1,1,1),
            this.localEulerAngles = new n.ut(0,0,0),
            this.position = new n.ut(0,0,0),
            this.rotation = new n.bt(0,0,0,1),
            this.eulerAngles = new n.ut(0,0,0),
            this.localTransform = new n.zt,
            this._dirtyLocal = !1,
            this._aabbVer = 0,
            this.worldTransform = new n.zt,
            this._dirtyWorld = !1,
            this.normalMatrix = new n.xt,
            this._dirtyNormal = !0,
            this._right = null,
            this._up = null,
            this._forward = null,
            this._parent = null,
            this._children = [],
            this._graphDepth = 0,
            this._enabled = !0,
            this._enabledInHierarchy = !1,
            this.scaleCompensation = !1
        }
        ,
        Object.defineProperty(kt.prototype, "right", {
            get: function() {
                return this._right || (this._right = new n.ut),
                this.getWorldTransform().getX(this._right).normalize()
            }
        }),
        Object.defineProperty(kt.prototype, "up", {
            get: function() {
                return this._up || (this._up = new n.ut),
                this.getWorldTransform().getY(this._up).normalize()
            }
        }),
        Object.defineProperty(kt.prototype, "forward", {
            get: function() {
                return this._forward || (this._forward = new n.ut),
                this.getWorldTransform().getZ(this._forward).normalize().scale(-1)
            }
        }),
        Object.defineProperty(kt.prototype, "enabled", {
            get: function() {
                return this._enabled && this._enabledInHierarchy
            },
            set: function(t) {
                this._enabled !== t && (this._enabled = t,
                this._parent && !this._parent.enabled || this._notifyHierarchyStateChanged(this, t))
            }
        }),
        Object.defineProperty(kt.prototype, "parent", {
            get: function() {
                return this._parent
            }
        }),
        Object.defineProperty(kt.prototype, "root", {
            get: function() {
                var t = this._parent;
                if (!t)
                    return this;
                for (; t._parent; )
                    t = t._parent;
                return t
            }
        }),
        Object.defineProperty(kt.prototype, "children", {
            get: function() {
                return this._children
            }
        }),
        Object.defineProperty(kt.prototype, "graphDepth", {
            get: function() {
                return this._graphDepth
            }
        }),
        Object.assign(kt.prototype, {
            _notifyHierarchyStateChanged: function(t, e) {
                t._onHierarchyStateChanged(e);
                for (var i = t._children, s = 0, n = i.length; s < n; s++)
                    i[s]._enabled && this._notifyHierarchyStateChanged(i[s], e)
            },
            _onHierarchyStateChanged: function(t) {
                this._enabledInHierarchy = t
            },
            _cloneInternal: function(t) {
                t.name = this.name;
                for (var e = this.tags._list, i = 0; i < e.length; i++)
                    t.tags.add(e[i]);
                t._labels = Object.assign({}, this._labels),
                t.localPosition.copy(this.localPosition),
                t.localRotation.copy(this.localRotation),
                t.localScale.copy(this.localScale),
                t.localEulerAngles.copy(this.localEulerAngles),
                t.position.copy(this.position),
                t.rotation.copy(this.rotation),
                t.eulerAngles.copy(this.eulerAngles),
                t.localTransform.copy(this.localTransform),
                t._dirtyLocal = this._dirtyLocal,
                t.worldTransform.copy(this.worldTransform),
                t._dirtyWorld = this._dirtyWorld,
                t._dirtyNormal = this._dirtyNormal,
                t._aabbVer = this._aabbVer + 1,
                t._enabled = this._enabled,
                t.scaleCompensation = this.scaleCompensation,
                t._enabledInHierarchy = !1
            },
            clone: function() {
                var t = new n.Gh;
                return this._cloneInternal(t),
                t
            },
            find: function(t, e) {
                var i = [], s = this._children.length, n, r;
                if (t instanceof Function) {
                    var a = t;
                    for (n = 0; n < s; n++)
                        a(this._children[n]) && i.push(this._children[n]),
                        (r = this._children[n].find(a)).length && (i = i.concat(r))
                } else {
                    var h;
                    for (this[t] && (h = this[t]instanceof Function ? this[t]() : this[t]) === e && i.push(this),
                    n = 0; n < s; ++n)
                        (r = this._children[n].find(t, e)).length && (i = i.concat(r))
                }
                return i
            },
            findOne: function(t, e) {
                var i, s = this._children.length, n = null;
                if (t instanceof Function) {
                    var r = t;
                    if (n = r(this))
                        return this;
                    for (i = 0; i < s; i++)
                        if (n = this._children[i].findOne(r))
                            return this._children[i]
                } else {
                    var a;
                    if (this[t] && (a = this[t]instanceof Function ? this[t]() : this[t]) === e)
                        return this;
                    for (i = 0; i < s; i++)
                        if (null !== (n = this._children[i].findOne(t, e)))
                            return n
                }
                return null
            },
            findByTag: function() {
                var t = this.tags._processArguments(arguments);
                return this._findByTag(t)
            },
            _findByTag: function(t) {
                var e = [], i, s = this._children.length, n;
                for (i = 0; i < s; i++)
                    this._children[i].tags._has(t) && e.push(this._children[i]),
                    (n = this._children[i]._findByTag(t)).length && (e = e.concat(n));
                return e
            },
            findByName: function(t) {
                if (this.name === t)
                    return this;
                for (var e = 0; e < this._children.length; e++) {
                    var i = this._children[e].findByName(t);
                    if (null !== i)
                        return i
                }
                return null
            },
            findByPath: function(t) {
                for (var e = t.split("/"), i = this, s = null, n = 0, r = e.length; n < r && i; n++) {
                    var a = e[n];
                    s = null;
                    for (var h = i._children, c = 0, o = h.length; c < o; c++)
                        if (h[c].name == a) {
                            s = h[c];
                            break
                        }
                    i = s
                }
                return s
            },
            getPath: function() {
                var t = this._parent;
                if (t) {
                    for (var e = this.name, i = "{0}/{1}"; t && t._parent; )
                        e = n.string.format(i, t.name, e),
                        t = t._parent;
                    return e
                }
                return ""
            },
            getRoot: function() {
                var t = this._parent;
                if (!t)
                    return this;
                for (; t._parent; )
                    t = t._parent;
                return t
            },
            getParent: function() {
                return this._parent
            },
            isDescendantOf: function(t) {
                for (var e = this._parent; e; ) {
                    if (e === t)
                        return !0;
                    e = e._parent
                }
                return !1
            },
            isAncestorOf: function(t) {
                return t.isDescendantOf(this)
            },
            getChildren: function() {
                return this._children
            },
            getEulerAngles: function() {
                return this.getWorldTransform().getEulerAngles(this.eulerAngles),
                this.eulerAngles
            },
            getLocalEulerAngles: function() {
                return this.localRotation.getEulerAngles(this.localEulerAngles),
                this.localEulerAngles
            },
            getLocalPosition: function() {
                return this.localPosition
            },
            getLocalRotation: function() {
                return this.localRotation
            },
            getLocalScale: function() {
                return this.localScale
            },
            getLocalTransform: function() {
                return this._dirtyLocal && (this.localTransform.Mt(this.localPosition, this.localRotation, this.localScale),
                this._dirtyLocal = !1),
                this.localTransform
            },
            getName: function() {
                return this.name
            },
            getPosition: function() {
                return this.getWorldTransform().getTranslation(this.position),
                this.position
            },
            getRotation: function() {
                return this.rotation.Ct(this.getWorldTransform()),
                this.rotation
            },
            getWorldTransform: function() {
                return this._dirtyLocal || this._dirtyWorld ? (this._parent && this._parent.getWorldTransform(),
                this._sync(),
                this.worldTransform) : this.worldTransform
            },
            reparent: function(t, e) {
                var i = this._parent;
                i && i.removeChild(this),
                t && (e >= 0 ? t.ac(this, e) : t.addChild(this))
            },
            setLocalEulerAngles: function(t, e, i) {
                t instanceof n.ut ? this.localRotation.vt(t.x, t.y, t.z) : this.localRotation.vt(t, e, i),
                this._dirtyLocal || this._dirtifyLocal()
            },
            setLocalPosition: function(t, e, i) {
                t instanceof n.ut ? this.localPosition.copy(t) : this.localPosition.set(t, e, i),
                this._dirtyLocal || this._dirtifyLocal()
            },
            setLocalRotation: function(t, e, i, s) {
                t instanceof n.bt ? this.localRotation.copy(t) : this.localRotation.set(t, e, i, s),
                this._dirtyLocal || this._dirtifyLocal()
            },
            setLocalScale: function(t, e, i) {
                t instanceof n.ut ? this.localScale.copy(t) : this.localScale.set(t, e, i),
                this._dirtyLocal || this._dirtifyLocal()
            },
            setName: function(t) {
                this.name = t
            },
            _dirtifyLocal: function() {
                this._dirtyLocal || (this._dirtyLocal = !0,
                this._dirtyWorld || this._dirtifyWorld())
            },
            _dirtifyWorld: function() {
                if (!this._dirtyWorld) {
                    this._dirtyWorld = !0;
                    for (var t = 0; t < this._children.length; t++)
                        this._children[t]._dirtyWorld || this._children[t]._dirtifyWorld()
                }
                this._dirtyNormal = !0,
                this._aabbVer++
            },
            setPosition: (Wt = new n.ut,
            Yt = new n.zt,
            function(t, e, i) {
                t instanceof n.ut ? Wt.copy(t) : Wt.set(t, e, i),
                null === this._parent ? this.localPosition.copy(Wt) : (Yt.copy(this._parent.getWorldTransform()).invert(),
                Yt.transformPoint(Wt, this.localPosition)),
                this._dirtyLocal || this._dirtifyLocal()
            }
            ),
            setRotation: (Ht = new n.bt,
            Gt = new n.bt,
            function(t, e, i, s) {
                if (t instanceof n.bt ? Ht.copy(t) : Ht.set(t, e, i, s),
                null === this._parent)
                    this.localRotation.copy(Ht);
                else {
                    var r = this._parent.getRotation();
                    Gt.copy(r).invert(),
                    this.localRotation.copy(Gt).mul(Ht)
                }
                this._dirtyLocal || this._dirtifyLocal()
            }
            ),
            setEulerAngles: function() {
                var t = new n.bt;
                return function(e, i, s) {
                    if (e instanceof n.ut ? this.localRotation.vt(e.x, e.y, e.z) : this.localRotation.vt(e, i, s),
                    null !== this._parent) {
                        var r = this._parent.getRotation();
                        t.copy(r).invert(),
                        this.localRotation.mul2(t, this.localRotation)
                    }
                    this._dirtyLocal || this._dirtifyLocal()
                }
            }(),
            addChild: function(t) {
                if (null !== t._parent)
                    throw new Error("GraphNode is already parented");
                this._children.push(t),
                this._onInsertChild(t)
            },
            addChildAndSaveTransform: function(t) {
                var e = t.getPosition()
                  , i = t.getRotation()
                  , s = t._parent;
                s && s.removeChild(t),
                void 0 === this.tmpMat4 && (this.tmpMat4 = new n.zt,
                this.tmpQuat = new n.bt),
                t.setPosition(this.tmpMat4.copy(this.worldTransform).invert().transformPoint(e)),
                t.setRotation(this.tmpQuat.copy(this.getRotation()).invert().mul(i)),
                this._children.push(t),
                this._onInsertChild(t)
            },
            ac: function(t, e) {
                if (null !== t._parent)
                    throw new Error("GraphNode is already parented");
                this._children.splice(e, 0, t),
                this._onInsertChild(t)
            },
            _onInsertChild: function(t) {
                t._parent = this;
                var e = t._enabled && this.enabled;
                t._enabledInHierarchy !== e && (t._enabledInHierarchy = e,
                t._notifyHierarchyStateChanged(t, e)),
                t._updateGraphDepth(),
                t._dirtifyWorld(),
                t.fire && t.fire("insert", this),
                this.fire && this.fire("childinsert", t)
            },
            _updateGraphDepth: function() {
                this._parent ? this._graphDepth = this._parent._graphDepth + 1 : this._graphDepth = 0;
                for (var t = 0, e = this._children.length; t < e; t++)
                    this._children[t]._updateGraphDepth()
            },
            removeChild: function(t) {
                var e, i = this._children.length;
                for (e = 0; e < i; ++e)
                    if (this._children[e] === t)
                        return this._children.splice(e, 1),
                        t._parent = null,
                        void (this.fire && this.fire("childremove", t))
            },
            addLabel: function(t) {
                this._labels[t] = !0
            },
            getLabels: function() {
                return Object.keys(this._labels)
            },
            hasLabel: function(t) {
                return !!this._labels[t]
            },
            removeLabel: function(t) {
                delete this._labels[t]
            },
            findByLabel: function(t, e) {
                var i, s = this._children.length;
                for (e = e || [],
                this.hasLabel(t) && e.push(this),
                i = 0; i < s; ++i)
                    e = this._children[i].findByLabel(t, e);
                return e
            },
            _sync: function() {
                if (this._dirtyLocal && (this.localTransform.Mt(this.localPosition, this.localRotation, this.localScale),
                this._dirtyLocal = !1),
                this._dirtyWorld) {
                    if (null === this._parent)
                        this.worldTransform.copy(this.localTransform);
                    else if (this.scaleCompensation) {
                        var t, e = this._parent, i = this.localScale, s = e;
                        if (s) {
                            for (; s && s.scaleCompensation; )
                                s = s._parent;
                            s && (s = s._parent) && (t = s.worldTransform.getScale(),
                            Nt.mul2(t, this.localScale),
                            i = Nt)
                        }
                        Lt.Ct(e.worldTransform),
                        Rt.mul2(Lt, this.localRotation);
                        var n = e.worldTransform;
                        e.scaleCompensation && (Ft.mul2(t, e.getLocalScale()),
                        It.Mt(e.worldTransform.getTranslation(jt), Lt, Ft),
                        n = It),
                        n.transformPoint(this.localPosition, jt),
                        this.worldTransform.Mt(jt, Rt, i)
                    } else
                        this.worldTransform.mul2(this._parent.worldTransform, this.localTransform);
                    this._dirtyWorld = !1
                }
            },
            syncHierarchy: function() {
                if (this._enabled) {
                    (this._dirtyLocal || this._dirtyWorld) && this._sync();
                    for (var t = this._children, e = 0, i = t.length; e < i; e++)
                        t[e].syncHierarchy()
                }
            },
            lookAt: function() {
                var t = new n.zt
                  , e = new n.ut
                  , i = new n.ut
                  , s = new n.bt;
                return function(r, a, h, c, o, u) {
                    if (r instanceof n.ut)
                        e.copy(r),
                        a instanceof n.ut ? i.copy(a) : i.copy(n.ut.UP);
                    else {
                        if (void 0 === h)
                            return;
                        e.set(r, a, h),
                        void 0 !== c ? i.set(c, o, u) : i.copy(n.ut.UP)
                    }
                    t.setLookAt(this.getPosition(), e, i),
                    s.Ct(t),
                    this.setRotation(s)
                }
            }(),
            translate: (Vt = new n.ut,
            function(t, e, i) {
                t instanceof n.ut ? Vt.copy(t) : Vt.set(t, e, i),
                Vt.add(this.getPosition()),
                this.setPosition(Vt)
            }
            ),
            translateLocal: function() {
                var t = new n.ut;
                return function(e, i, s) {
                    e instanceof n.ut ? t.copy(e) : t.set(e, i, s),
                    this.localRotation.ft(t, t),
                    this.localPosition.add(t),
                    this._dirtyLocal || this._dirtifyLocal()
                }
            }(),
            rotate: function() {
                var t = new n.bt
                  , e = new n.bt;
                return function(i, s, r) {
                    if (i instanceof n.ut ? t.vt(i.x, i.y, i.z) : t.vt(i, s, r),
                    null === this._parent)
                        this.localRotation.mul2(t, this.localRotation);
                    else {
                        var a = this.getRotation()
                          , h = this._parent.getRotation();
                        e.copy(h).invert(),
                        t.mul2(e, t),
                        this.localRotation.mul2(t, a)
                    }
                    this._dirtyLocal || this._dirtifyLocal()
                }
            }(),
            rotateLocal: (Ut = new n.bt,
            function(t, e, i) {
                t instanceof n.ut ? Ut.vt(t.x, t.y, t.z) : Ut.vt(t, e, i),
                this.localRotation.mul(Ut),
                this._dirtyLocal || this._dirtifyLocal()
            }
            )
        }),
        {
            Gh: kt
        })),
        Object.assign(n, (Xt = new n.ut,
        Kt = new n.ut,
        Qt = new n.ut,
        Jt = new n.zt,
        qt = function() {
            this._projection = n.Za,
            this._nearClip = .1,
            this._farClip = 1e4,
            this._shaderParams = new Float32Array(4),
            this._fov = 45,
            this._orthoHeight = 10,
            this._aspect = 16 / 9,
            this._aspectRatioMode = n.ASPECT_AUTO,
            this._horizontalFov = !1,
            this.frustumCulling = !1,
            this.cullingMask = 4294967295,
            this._renderDepthRequests = 0,
            this._projMatDirty = !0,
            this._projMat = new n.zt,
            this._viewMat = new n.zt,
            this._viewProjMat = new n.zt,
            this.vrDisplay = null,
            this._rect = {
                x: 0,
                y: 0,
                width: 1,
                height: 1
            },
            this._scissorRect = {
                x: 0,
                y: 0,
                width: 1,
                height: 1
            },
            this.frustum = new n.Gt(this._projMat,this._viewMat),
            this.renderTarget = null,
            this._depthTarget = null,
            this._clearOptions = {
                color: [.5, .5, .5, 1],
                depth: 1,
                stencil: 0,
                flags: n.ye | n.Me | n.Se
            },
            this._node = null,
            this.calculateTransform = null,
            this.overrideCalculateTransform = !1,
            this.calculateProjection = null,
            this.overrideCalculateProjection = !1,
            this._cullFaces = !0,
            this._flipFaces = !1,
            this._component = null
        }
        ,
        Object.assign(qt.prototype, {
            clone: function() {
                var t = new n.Qh;
                return t.projection = this._projection,
                t.nearClip = this._nearClip,
                t.farClip = this._farClip,
                t._shaderParams = this._shaderParams.slice(),
                t.fov = this._fov,
                t.aspectRatio = this._aspect,
                t._aspectRatioMode = this._aspectRatioMode,
                t.renderTarget = this.renderTarget,
                t.setClearOptions(this.getClearOptions()),
                t.frustumCulling = this.frustumCulling,
                t.cullingMask = this.cullingMask,
                t
            },
            hc: function(t, e, i, s) {
                void 0 === s && (s = new n.ut);
                var r = this.getProjectionMatrix()
                  , a = this._node.getWorldTransform();
                this._viewMat.copy(a).invert(),
                this._viewProjMat.mul2(r, this._viewMat),
                this._viewProjMat.transformPoint(t, s);
                var h = this._viewProjMat.data
                  , c = t.x * h[3] + t.y * h[7] + t.z * h[11] + 1 * h[15];
                return s.x = .5 * (s.x / c + 1) * e,
                s.y = .5 * (1 - s.y / c) * i,
                s
            },
            screenToWorld: function(t, e, i, s, r, a) {
                void 0 === a && (a = new n.ut);
                var h = this.getProjectionMatrix()
                  , c = this._node.getWorldTransform();
                if (this._viewMat.copy(c).invert(),
                this._viewProjMat.mul2(h, this._viewMat),
                Jt.copy(this._viewProjMat).invert(),
                this._projection === n.Za) {
                    Kt.set(t / s * 2 - 1, (r - e) / r * 2 - 1, 1),
                    Jt.transformPoint(Kt, Qt);
                    var o = Kt.x * Jt.data[3] + Kt.y * Jt.data[7] + Kt.z * Jt.data[11] + Jt.data[15];
                    Qt.scale(1 / o);
                    var u = i / this._farClip;
                    a.st(this._node.getPosition(), Qt, u)
                } else {
                    var f = this._farClip - this._nearClip;
                    Xt.set(t / s, (r - e) / r, i / f),
                    Xt.scale(2),
                    Xt.sub(n.ut.ONE),
                    Jt.transformPoint(Xt, a)
                }
                return a
            },
            getClearOptions: function() {
                return this._clearOptions
            },
            getProjectionMatrix: function() {
                if (this._projMatDirty) {
                    if (this._projection === n.Za)
                        this._projMat.setPerspective(this._fov, this._aspect, this._nearClip, this._farClip, this._horizontalFov);
                    else {
                        var t = this._orthoHeight
                          , e = t * this._aspect;
                        this._projMat.setOrtho(-e, e, -t, t, this._nearClip, this._farClip)
                    }
                    var i = this._nearClip
                      , s = this._farClip;
                    this._shaderParams[0] = 1 / s,
                    this._shaderParams[1] = s,
                    this._shaderParams[2] = (1 - s / i) / 2,
                    this._shaderParams[3] = (1 + s / i) / 2,
                    this._projMatDirty = !1
                }
                return this._projMat
            },
            getRect: function() {
                return this._rect
            },
            setClearOptions: function(t) {
                this._clearOptions.color[0] = t.color[0],
                this._clearOptions.color[1] = t.color[1],
                this._clearOptions.color[2] = t.color[2],
                this._clearOptions.color[3] = t.color[3],
                this._clearOptions.depth = t.depth,
                this._clearOptions.stencil = t.stencil,
                this._clearOptions.flags = t.flags
            },
            setRect: function(t, e, i, s) {
                this._rect.x = t,
                this._rect.y = e,
                this._rect.width = i,
                this._rect.height = s
            },
            cc: function(t, e, i, s) {
                this._scissorRect.x = t,
                this._scissorRect.y = e,
                this._scissorRect.width = i,
                this._scissorRect.height = s
            },
            requestDepthMap: function() {
                this._renderDepthRequests++
            },
            releaseDepthMap: function() {
                this._renderDepthRequests--
            }
        }),
        Object.defineProperty(qt.prototype, "aspectRatio", {
            get: function() {
                return this._aspect
            },
            set: function(t) {
                this._aspect !== t && (this._aspect = t,
                this._projMatDirty = !0)
            }
        }),
        Object.defineProperty(qt.prototype, "projection", {
            get: function() {
                return this._projection
            },
            set: function(t) {
                this._projection !== t && (this._projection = t,
                this._projMatDirty = !0)
            }
        }),
        Object.defineProperty(qt.prototype, "nearClip", {
            get: function() {
                return this._nearClip
            },
            set: function(t) {
                this._nearClip !== t && (this._nearClip = t,
                this._projMatDirty = !0)
            }
        }),
        Object.defineProperty(qt.prototype, "farClip", {
            get: function() {
                return this._farClip
            },
            set: function(t) {
                this._farClip !== t && (this._farClip = t,
                this._projMatDirty = !0)
            }
        }),
        Object.defineProperty(qt.prototype, "fov", {
            get: function() {
                return this._fov
            },
            set: function(t) {
                this._fov !== t && (this._fov = t,
                this._projMatDirty = !0)
            }
        }),
        Object.defineProperty(qt.prototype, "horizontalFov", {
            get: function() {
                return this._horizontalFov
            },
            set: function(t) {
                this._horizontalFov !== t && (this._horizontalFov = t,
                this._projMatDirty = !0)
            }
        }),
        Object.defineProperty(qt.prototype, "orthoHeight", {
            get: function() {
                return this._orthoHeight
            },
            set: function(t) {
                this._orthoHeight !== t && (this._orthoHeight = t,
                this._projMatDirty = !0)
            }
        }),
        Object.defineProperty(qt.prototype, "clearColor", {
            get: function() {
                return this._clearOptions.color
            },
            set: function(t) {
                this._clearOptions.color[0] = t[0],
                this._clearOptions.color[1] = t[1],
                this._clearOptions.color[2] = t[2],
                this._clearOptions.color[3] = t[3]
            }
        }),
        Object.defineProperty(qt.prototype, "clearDepth", {
            get: function() {
                return this._clearOptions.depth
            },
            set: function(t) {
                this._clearOptions.depth = t
            }
        }),
        Object.defineProperty(qt.prototype, "clearStencil", {
            get: function() {
                return this._clearOptions.stencil
            },
            set: function(t) {
                this._clearOptions.stencil = t
            }
        }),
        Object.defineProperty(qt.prototype, "clearFlags", {
            get: function() {
                return this._clearOptions.flags
            },
            set: function(t) {
                this._clearOptions.flags = t
            }
        }),
        {
            Qh: qt
        })),
        Object.assign(n, (Zt = new n.ut,
        $t = new n.ut,
        te = new n.ut,
        ee = {
            r: 0,
            g: 1,
            b: 2,
            a: 3
        },
        ie = function t() {
            this._type = n.ca,
            this._color = new n.D(.8,.8,.8),
            this._intensity = 1,
            this._castShadows = !1,
            this._enabled = !1,
            this._mask = 1,
            this.isStatic = !1,
            this.key = 0,
            this.bakeDir = !0,
            this.attenuationStart = 10,
            this.attenuationEnd = 10,
            this._falloffMode = 0,
            this._shadowType = n.fa,
            this._vsmBlurSize = 11,
            this.vsmBlurMode = n.Ha,
            this.vsmBias = .0025,
            this._cookie = null,
            this.cookieIntensity = 1,
            this._cookieFalloff = !0,
            this._cookieChannel = "rgb",
            this._cookieTransform = null,
            this._cookieTransformUniform = new Float32Array(4),
            this._cookieOffset = null,
            this._cookieOffsetUniform = new Float32Array(2),
            this._cookieTransformSet = !1,
            this._cookieOffsetSet = !1,
            this._innerConeAngle = 40,
            this._outerConeAngle = 45,
            this._finalColor = new Float32Array([.8, .8, .8]);
            var e = Math.pow(this._finalColor[0], 2.2);
            this._linearFinalColor = new Float32Array([e, e, e]),
            this._position = new n.ut(0,0,0),
            this._direction = new n.ut(0,0,0),
            this._innerConeAngleCos = Math.cos(this._innerConeAngle * Math.PI / 180),
            this._outerConeAngleCos = Math.cos(this._outerConeAngle * Math.PI / 180),
            this._shadowCamera = null,
            this._shadowMatrix = new n.zt,
            this.shadowDistance = 40,
            this._shadowResolution = 1024,
            this.shadowBias = -5e-4,
            this._normalOffsetBias = 0,
            this.shadowUpdateMode = n.Oh,
            this._scene = null,
            this._node = null,
            this._rendererParams = [],
            this._isVsm = !1,
            this._isPcf = !0,
            this._cacheShadowMap = !1,
            this._isCachedShadowMap = !1,
            this._visibleLength = [0],
            this._visibleList = [[]],
            this._visibleCameraSettings = []
        }
        ,
        Object.assign(ie.prototype, {
            destroy: function() {
                this._destroyShadowMap()
            },
            clone: function() {
                var t = new n.oc;
                return t.type = this._type,
                t.setColor(this._color),
                t.intensity = this._intensity,
                t.castShadows = this.castShadows,
                t.enabled = this._enabled,
                t.attenuationStart = this.attenuationStart,
                t.attenuationEnd = this.attenuationEnd,
                t.falloffMode = this._falloffMode,
                t.shadowType = this._shadowType,
                t.vsmBlurSize = this._vsmBlurSize,
                t.vsmBlurMode = this.vsmBlurMode,
                t.vsmBias = this.vsmBias,
                t.shadowUpdateMode = this.shadowUpdateMode,
                t.mask = this._mask,
                t.innerConeAngle = this._innerConeAngle,
                t.outerConeAngle = this._outerConeAngle,
                t.shadowBias = this.shadowBias,
                t.normalOffsetBias = this._normalOffsetBias,
                t.shadowResolution = this._shadowResolution,
                t.shadowDistance = this.shadowDistance,
                t
            },
            getColor: function() {
                return this._color
            },
            getBoundingSphere: function(t) {
                if (this._type === n.sa) {
                    var e = this.attenuationEnd
                      , i = this._outerConeAngle
                      , s = Math.cos(i * n.I.q)
                      , r = this._node;
                    Zt.copy(r.up),
                    Zt.scale(.5 * -e * s),
                    Zt.add(r.getPosition()),
                    t.center = Zt,
                    $t.copy(r.up),
                    $t.scale(-e),
                    te.copy(r.right),
                    te.scale(Math.sin(i * n.I.q) * e),
                    $t.add(te),
                    t.radius = .5 * $t.length()
                } else
                    this._type === n.da && (t.center = this._node.getPosition(),
                    t.radius = this.attenuationEnd)
            },
            getBoundingBox: function(t) {
                if (this._type === n.sa) {
                    var e = this.attenuationEnd
                      , i = this._outerConeAngle
                      , s = this._node
                      , r = Math.abs(Math.sin(i * n.I.q) * e);
                    t.center.set(0, .5 * -e, 0),
                    t.halfExtents.set(r, .5 * e, r),
                    t.kt(t, s.getWorldTransform())
                } else
                    this._type === n.da && (t.center.copy(this._node.getPosition()),
                    t.halfExtents.set(this.attenuationEnd, this.attenuationEnd, this.attenuationEnd))
            },
            _updateFinalColor: function() {
                var t = this._color
                  , e = t.r
                  , i = t.g
                  , s = t.b
                  , n = this._intensity
                  , r = this._finalColor
                  , a = this._linearFinalColor;
                r[0] = e * n,
                r[1] = i * n,
                r[2] = s * n,
                n >= 1 ? (a[0] = Math.pow(e, 2.2) * n,
                a[1] = Math.pow(i, 2.2) * n,
                a[2] = Math.pow(s, 2.2) * n) : (a[0] = Math.pow(r[0], 2.2),
                a[1] = Math.pow(r[1], 2.2),
                a[2] = Math.pow(r[2], 2.2))
            },
            setColor: function() {
                var t, e, i;
                1 === arguments.length ? (t = arguments[0].r,
                e = arguments[0].g,
                i = arguments[0].b) : 3 === arguments.length && (t = arguments[0],
                e = arguments[1],
                i = arguments[2]),
                this._color.set(t, e, i),
                this._updateFinalColor()
            },
            _destroyShadowMap: function() {
                if (this._shadowCamera) {
                    if (!this._isCachedShadowMap) {
                        var t = this._shadowCamera.renderTarget, e;
                        if (t)
                            if (t.length)
                                for (e = 0; e < t.length; e++)
                                    t[e].colorBuffer && t[e].colorBuffer.destroy(),
                                    t[e].destroy();
                            else
                                t.colorBuffer && t.colorBuffer.destroy(),
                                t.depthBuffer && t.depthBuffer.destroy(),
                                t.destroy()
                    }
                    this._shadowCamera.renderTarget = null,
                    this._shadowCamera = null,
                    this._shadowCubeMap = null,
                    this.shadowUpdateMode === n.Sh && (this.shadowUpdateMode = n.Ch)
                }
            },
            updateShadow: function() {
                this.shadowUpdateMode !== n.Oh && (this.shadowUpdateMode = n.Ch)
            },
            updateKey: function() {
                var t = this._type << 29 | (this._castShadows ? 1 : 0) << 28 | this._shadowType << 25 | this._falloffMode << 23 | (0 !== this._normalOffsetBias ? 1 : 0) << 22 | (this._cookie ? 1 : 0) << 21 | (this._cookieFalloff ? 1 : 0) << 20 | ee[this._cookieChannel.charAt(0)] << 18 | (this._cookieTransform ? 1 : 0) << 12;
                3 === this._cookieChannel.length && (t |= ee[this._cookieChannel.charAt(1)] << 16,
                t |= ee[this._cookieChannel.charAt(2)] << 14),
                t !== this.key && null !== this._scene && (this._scene.layers._dirtyLights = !0),
                this.key = t
            }
        }),
        Object.defineProperty(ie.prototype, "enabled", {
            get: function() {
                return this._type
            },
            set: function(t) {
                this._type !== t && (this._enabled = t)
            }
        }),
        Object.defineProperty(ie.prototype, "type", {
            get: function() {
                return this._type
            },
            set: function(t) {
                if (this._type !== t) {
                    this._type = t,
                    this._destroyShadowMap(),
                    this.updateKey();
                    var e = this._shadowType;
                    this._shadowType = null,
                    this.shadowType = e
                }
            }
        }),
        Object.defineProperty(ie.prototype, "mask", {
            get: function() {
                return this._mask
            },
            set: function(t) {
                this._mask !== t && (this._mask = t)
            }
        }),
        Object.defineProperty(ie.prototype, "shadowType", {
            get: function() {
                return this._shadowType
            },
            set: function(t) {
                if (this._shadowType !== t) {
                    var e = n.Ir.getApplication().Br;
                    this._type === n.da && (t = n.fa),
                    t !== n.ba || e.webgl2 || (t = n.fa),
                    t !== n.oa || e.textureFloatRenderable || (t = n.ua),
                    t !== n.ua || e.textureHalfFloatRenderable || (t = n.la),
                    this._isVsm = t >= n.la && t <= n.oa,
                    this._isPcf = t === n.ba || t === n.fa,
                    this._shadowType = t,
                    this._destroyShadowMap(),
                    this.updateKey()
                }
            }
        }),
        Object.defineProperty(ie.prototype, "castShadows", {
            get: function() {
                return this._castShadows && this._mask !== n.Bh && 0 !== this._mask
            },
            set: function(t) {
                this._castShadows !== t && (this._castShadows = t,
                this.updateKey())
            }
        }),
        Object.defineProperty(ie.prototype, "shadowResolution", {
            get: function() {
                return this._shadowResolution
            },
            set: function(t) {
                if (this._shadowResolution !== t) {
                    var e = n.Ir.getApplication().Br;
                    t = this._type === n.da ? Math.min(t, e.maxCubeMapSize) : Math.min(t, e.maxTextureSize),
                    this._shadowResolution = t
                }
            }
        }),
        Object.defineProperty(ie.prototype, "vsmBlurSize", {
            get: function() {
                return this._vsmBlurSize
            },
            set: function(t) {
                this._vsmBlurSize !== t && (t % 2 == 0 && t++,
                this._vsmBlurSize = t)
            }
        }),
        Object.defineProperty(ie.prototype, "normalOffsetBias", {
            get: function() {
                return this._normalOffsetBias
            },
            set: function(t) {
                this._normalOffsetBias !== t && ((!this._normalOffsetBias && t || this._normalOffsetBias && !t) && this.updateKey(),
                this._normalOffsetBias = t)
            }
        }),
        Object.defineProperty(ie.prototype, "falloffMode", {
            get: function() {
                return this._falloffMode
            },
            set: function(t) {
                this._falloffMode !== t && (this._falloffMode = t,
                this.updateKey())
            }
        }),
        Object.defineProperty(ie.prototype, "innerConeAngle", {
            get: function() {
                return this._innerConeAngle
            },
            set: function(t) {
                this._innerConeAngle !== t && (this._innerConeAngle = t,
                this._innerConeAngleCos = Math.cos(t * Math.PI / 180))
            }
        }),
        Object.defineProperty(ie.prototype, "outerConeAngle", {
            get: function() {
                return this._outerConeAngle
            },
            set: function(t) {
                this._outerConeAngle !== t && (this._outerConeAngle = t,
                this._outerConeAngleCos = Math.cos(t * Math.PI / 180))
            }
        }),
        Object.defineProperty(ie.prototype, "intensity", {
            get: function() {
                return this._intensity
            },
            set: function(t) {
                this._intensity !== t && (this._intensity = t,
                this._updateFinalColor())
            }
        }),
        Object.defineProperty(ie.prototype, "cookie", {
            get: function() {
                return this._cookie
            },
            set: function(t) {
                this._cookie !== t && (this._cookie = t,
                this.updateKey())
            }
        }),
        Object.defineProperty(ie.prototype, "cookieFalloff", {
            get: function() {
                return this._cookieFalloff
            },
            set: function(t) {
                this._cookieFalloff !== t && (this._cookieFalloff = t,
                this.updateKey())
            }
        }),
        Object.defineProperty(ie.prototype, "cookieChannel", {
            get: function() {
                return this._cookieChannel
            },
            set: function(t) {
                if (this._cookieChannel !== t) {
                    if (t.length < 3)
                        for (var e = t.charAt(t.length - 1), i = 3 - t.length, s = 0; s < i; s++)
                            t += e;
                    this._cookieChannel = t,
                    this.updateKey()
                }
            }
        }),
        Object.defineProperty(ie.prototype, "cookieTransform", {
            get: function() {
                return this._cookieTransform
            },
            set: function(t) {
                this._cookieTransform !== t && (this._cookieTransform = t,
                this._cookieTransformSet = !!t,
                t && !this._cookieOffset && (this.cookieOffset = new n.pt,
                this._cookieOffsetSet = !1),
                this.updateKey())
            }
        }),
        Object.defineProperty(ie.prototype, "cookieOffset", {
            get: function() {
                return this._cookieOffset
            },
            set: function(t) {
                var e;
                this._cookieOffset !== t && ((this._cookieTransformSet || t) && !t && this._cookieOffset ? this._cookieOffset.set(0, 0) : this._cookieOffset = t,
                this._cookieOffsetSet = !!t,
                t && !this._cookieTransform && (this.cookieTransform = new n.wt(1,1,0,0),
                this._cookieTransformSet = !1),
                this.updateKey())
            }
        }),
        {
            oc: ie
        })),
        Object.assign(n, (se = 0,
        ne = function t() {
            this.name = "Untitled",
            this.id = se++,
            this._shader = null,
            this.variants = {},
            this.parameters = {},
            this.alphaTest = 0,
            this.alphaToCoverage = !1,
            this.blend = !1,
            this.kn = n.ee,
            this.Un = n.te,
            this.blendEquation = n.be,
            this.Gn = !1,
            this.Vn = n.ee,
            this.Hn = n.te,
            this.Wn = n.be,
            this.cull = n.Ie,
            this.depthTest = !0,
            this.depthWrite = !0,
            this.stencilFront = null,
            this.stencilBack = null,
            this.depthBias = 0,
            this.slopeDepthBias = 0,
            this.redWrite = !0,
            this.greenWrite = !0,
            this.blueWrite = !0,
            this.alphaWrite = !0,
            this.meshInstances = [],
            this._shaderVersion = 0,
            this._scene = null,
            this._dirtyBlend = !1,
            this.dirty = !0
        }
        ,
        Object.defineProperty(ne.prototype, "shader", {
            get: function() {
                return this._shader
            },
            set: function(t) {
                this._shader && this._shader._refCount--,
                this._shader = t,
                t && t._refCount++
            }
        }),
        Object.defineProperty(ne.prototype, "blendType", {
            get: function() {
                return this.blend || this.kn !== n.ee || this.Un !== n.te || this.blendEquation !== n.be ? this.blend && this.kn === n.he && this.Un === n.ue && this.blendEquation === n.be ? n.$r : this.blend && this.kn === n.ee && this.Un === n.ee && this.blendEquation === n.be ? n.ta : this.blend && this.kn === n.he && this.Un === n.ee && this.blendEquation === n.be ? n.xa : this.blend && this.kn === n.re && this.Un === n.ie && this.blendEquation === n.be ? n.Ca : this.blend && this.kn === n.ae && this.Un === n.ee && this.blendEquation === n.be ? n.Oa : this.blend && this.kn === n.ee && this.Un === n.ee && this.blendEquation === n.pe ? n.Ea : this.blend && this.kn === n.ee && this.Un === n.ee && this.blendEquation === n.we ? n.Da : this.blend && this.kn === n.re && this.Un === n.te && this.blendEquation === n.be ? n.ea : this.blend && this.kn === n.ee && this.Un === n.ue && this.blendEquation === n.be ? n.za : n.$r : n.va
            },
            set: function(t) {
                var e = this.blend !== n.va;
                switch (t) {
                case n.va:
                    this.blend = !1,
                    this.kn = n.ee,
                    this.Un = n.te,
                    this.blendEquation = n.be;
                    break;
                case n.$r:
                    this.blend = !0,
                    this.kn = n.he,
                    this.Un = n.ue,
                    this.blendEquation = n.be;
                    break;
                case n.za:
                    this.blend = !0,
                    this.kn = n.ee,
                    this.Un = n.ue,
                    this.blendEquation = n.be;
                    break;
                case n.ta:
                    this.blend = !0,
                    this.kn = n.ee,
                    this.Un = n.ee,
                    this.blendEquation = n.be;
                    break;
                case n.xa:
                    this.blend = !0,
                    this.kn = n.he,
                    this.Un = n.ee,
                    this.blendEquation = n.be;
                    break;
                case n.Ca:
                    this.blend = !0,
                    this.kn = n.re,
                    this.Un = n.ie,
                    this.blendEquation = n.be;
                    break;
                case n.Oa:
                    this.blend = !0,
                    this.kn = n.ae,
                    this.Un = n.ee,
                    this.blendEquation = n.be;
                    break;
                case n.ea:
                    this.blend = !0,
                    this.kn = n.re,
                    this.Un = n.te,
                    this.blendEquation = n.be;
                    break;
                case n.Ea:
                    this.blend = !0,
                    this.kn = n.ee,
                    this.Un = n.ee,
                    this.blendEquation = n.pe;
                    break;
                case n.Da:
                    this.blend = !0,
                    this.kn = n.ee,
                    this.Un = n.ee,
                    this.blendEquation = n.we
                }
                e !== (this.blend !== n.va) && (this._scene ? this._scene.layers._dirtyBlend = !0 : this._dirtyBlend = !0),
                this._updateMeshInstanceKeys()
            }
        }),
        ne.prototype._cloneInternal = function(t) {
            t.name = this.name,
            t.shader = this.shader,
            t.alphaTest = this.alphaTest,
            t.alphaToCoverage = this.alphaToCoverage,
            t.blend = this.blend,
            t.kn = this.kn,
            t.Un = this.Un,
            t.blendEquation = this.blendEquation,
            t.Gn = this.Gn,
            t.Vn = this.Vn,
            t.Hn = this.Hn,
            t.Wn = this.Wn,
            t.cull = this.cull,
            t.depthTest = this.depthTest,
            t.depthWrite = this.depthWrite,
            t.depthBias = this.depthBias,
            t.slopeDepthBias = this.slopeDepthBias,
            this.stencilFront && (t.stencilFront = this.stencilFront.clone()),
            this.stencilBack && (this.stencilFront === this.stencilBack ? t.stencilBack = t.stencilFront : t.stencilBack = this.stencilBack.clone()),
            t.redWrite = this.redWrite,
            t.greenWrite = this.greenWrite,
            t.blueWrite = this.blueWrite,
            t.alphaWrite = this.alphaWrite
        }
        ,
        ne.prototype.clone = function() {
            var t = new n.Vh;
            return this._cloneInternal(t),
            t
        }
        ,
        ne.prototype._updateMeshInstanceKeys = function() {
            var t, e = this.meshInstances;
            for (t = 0; t < e.length; t++)
                e[t].updateKey()
        }
        ,
        ne.prototype.updateUniforms = function() {}
        ,
        ne.prototype.Hh = function(t, e, i) {}
        ,
        ne.prototype.update = function() {
            this.dirty = !0
        }
        ,
        ne.prototype.clearParameters = function() {
            this.parameters = {}
        }
        ,
        ne.prototype.getParameters = function() {
            return this.parameters
        }
        ,
        ne.prototype.clearVariants = function() {
            var t, e;
            for (var i in this.variants)
                this.variants.hasOwnProperty(i) && this.variants[i]._refCount--;
            this.variants = {};
            for (var s = 0; s < this.meshInstances.length; s++)
                for (t = this.meshInstances[s],
                e = 0; e < t._shader.length; e++)
                    t._shader[e] = null
        }
        ,
        ne.prototype.getParameter = function(t) {
            return this.parameters[t]
        }
        ,
        ne.prototype.setParameter = function(t, e, i) {
            if (void 0 === i && (i = -524285),
            void 0 === e && "object" == typeof t) {
                var s = t;
                if (s.length) {
                    for (var n = 0; n < s.length; n++)
                        this.setParameter(s[n]);
                    return
                }
                t = s.name,
                e = s.value
            }
            var r = this.parameters[t];
            r ? (r.data = e,
            r.passFlags = i) : this.parameters[t] = {
                scopeId: null,
                data: e,
                passFlags: i
            }
        }
        ,
        ne.prototype.deleteParameter = function(t) {
            this.parameters[t] && delete this.parameters[t]
        }
        ,
        ne.prototype.setParameters = function() {
            for (var t in this.parameters) {
                var e = this.parameters[t];
                e.scopeId.setValue(e.data)
            }
        }
        ,
        ne.prototype.destroy = function() {
            var t, e, i;
            for (var s in this.shader && (this.shader._refCount--,
            this.shader._refCount < 1 && this.shader.destroy()),
            this.variants)
                if (this.variants.hasOwnProperty(s)) {
                    if ((t = this.variants[s]) === this.shader)
                        continue;
                    t._refCount--,
                    t._refCount < 1 && t.destroy()
                }
            this.variants = {},
            this.shader = null;
            for (var r = 0; r < this.meshInstances.length; r++) {
                for (e = this.meshInstances[r],
                i = 0; i < e._shader.length; i++)
                    e._shader[i] = null;
                e._material = null;
                var a = n.getDefaultMaterial();
                this !== a && (e.material = a)
            }
        }
        ,
        ne.prototype.toJSON = function() {
            var t = ["alphaTest", "alphaToCoverage", "alphaWrite", "blendType", "blueWrite", "cull", "depthBias", "depthTest", "depthWrite", "greenWrite", "name", "redWrite", "shader", "slopeDepthBias", "stencilBack", "stencilFront"]
              , e = i.call(new ne);
            function i(i) {
                var s = {}
                  , n = this;
                return void 0 === i && (i = {}),
                t.forEach(function(t) {
                    s[t] = n[t]
                }),
                i.diff && t.forEach(function(t) {
                    var i, n;
                    e[t] === s[t] && delete s[t]
                }),
                s
            }
            return i
        }(),
        {
            Vh: ne
        })),
        Object.assign(n, (((re = function() {
            n.Vh.call(this),
            this.color = new n.D(1,1,1,1),
            this.colorUniform = new Float32Array(4),
            this.colorMap = null,
            this.vertexColors = !1
        }
        ).prototype = Object.create(n.Vh.prototype)).constructor = re,
        Object.assign(re.prototype, {
            clone: function() {
                var t = new n.uc;
                return n.Vh.prototype._cloneInternal.call(this, t),
                t.color.copy(this.color),
                t.colorMap = this.colorMap,
                t.vertexColors = this.vertexColors,
                t
            },
            updateUniforms: function() {
                this.clearParameters(),
                this.colorUniform[0] = this.color.r,
                this.colorUniform[1] = this.color.g,
                this.colorUniform[2] = this.color.b,
                this.colorUniform[3] = this.color.a,
                this.setParameter("uColor", this.colorUniform),
                this.colorMap && this.setParameter("texture_diffuseMap", this.colorMap)
            },
            Hh: function(t, e, i, s, n, r) {
                var a = {
                    skin: !!this.meshInstances[0].skinInstance,
                    vertexColors: this.vertexColors,
                    diffuseMap: this.colorMap,
                    pass: n
                }
                  , h = t.Qn();
                this.shader = h.getProgram("basic", a)
            }
        }),
        {
            uc: re
        })),
        Object.assign(n, (((ae = function() {
            n.Vh.call(this)
        }
        ).prototype = Object.create(n.Vh.prototype)).constructor = ae,
        Object.assign(ae.prototype, {
            clone: function() {
                var t = new n.fc;
                return n.Vh.prototype._cloneInternal.call(this, t),
                t
            },
            Hh: function(t) {
                var e = {
                    skin: !!this.meshInstances[0].skinInstance
                }
                  , i = t.Qn();
                this.shader = i.getProgram("depth", e)
            }
        }),
        {
            fc: ae
        })),
        Object.assign(n, function() {
            var t = function() {
                n.Vh.call(this),
                this._assetReferences = {},
                this._validator = null,
                this.shaderOptBuilder = new n.StandardMaterialOptionsBuilder,
                this.reset()
            };
            (t.prototype = Object.create(n.Vh.prototype)).constructor = t;
            var e = [], i = [], s = [], r = [], a = {}, h = function(i, r, h, c, o) {
                var u = "_" + r + "Map"
                  , f = u + "Tiling"
                  , d = u + "Offset"
                  , l = u.substring(1) + "Transform"
                  , b = l + "Uniform"
                  , v = u + "Uv"
                  , m = u + "Channel"
                  , g = "_" + r + "VertexColor"
                  , p = "_" + r + "VertexColorChannel";
                if (i[u] = null,
                i[f] = new n.pt(1,1),
                i[d] = new n.pt(0,0),
                i[l] = null,
                i[b] = null,
                i[v] = h,
                c > 0) {
                    var w = o || (c > 1 ? "rgb" : "g");
                    i[m] = w,
                    i[p] = w
                }
                i[g] = !1,
                n.ia || (n.ia = []),
                n.ia[r] = c,
                Object.defineProperty(t.prototype, u.substring(1), {
                    get: function() {
                        return this[u]
                    },
                    set: function(t) {
                        var e = this[u];
                        !!e ^ !!t && (this.dirtyShader = !0),
                        e && t && (e.rgbm === t.rgbm && e.fixCubemapSeams === t.fixCubemapSeams && e.format === t.format || (this.dirtyShader = !0)),
                        this[u] = t
                    }
                });
                var x = f.substring(1)
                  , z = d.substring(1);
                Object.defineProperty(t.prototype, x, {
                    get: function() {
                        return this[f]
                    },
                    set: function(t) {
                        this.dirtyShader = !0,
                        this[f] = t
                    }
                }),
                a[x] = function(t, e, i) {
                    var s = t._updateMapTransform(i ? t[l] : null, e, t[d]);
                    return {
                        name: "texture_" + l,
                        value: s.data
                    }
                }
                ,
                Object.defineProperty(t.prototype, z, {
                    get: function() {
                        return this[d]
                    },
                    set: function(t) {
                        this.dirtyShader = !0,
                        this[d] = t
                    }
                }),
                a[z] = function(t, e, i) {
                    var s = t._updateMapTransform(i ? t[l] : null, t[f], e);
                    return {
                        name: "texture_" + l,
                        value: s.data
                    }
                }
                ,
                Object.defineProperty(t.prototype, v.substring(1), {
                    get: function() {
                        return this[v]
                    },
                    set: function(t) {
                        this[v] !== t && (this.dirtyShader = !0),
                        this[v] = t
                    }
                }),
                Object.defineProperty(t.prototype, m.substring(1), {
                    get: function() {
                        return this[m]
                    },
                    set: function(t) {
                        this[m] !== t && (this.dirtyShader = !0),
                        this[m] = t
                    }
                }),
                Object.defineProperty(t.prototype, g.substring(1), {
                    get: function() {
                        return this[g]
                    },
                    set: function(t) {
                        this.dirtyShader = !0,
                        this[g] = t
                    }
                }),
                Object.defineProperty(t.prototype, p.substring(1), {
                    get: function() {
                        return this[p]
                    },
                    set: function(t) {
                        this[p] !== t && (this.dirtyShader = !0),
                        this[p] = t
                    }
                }),
                e.push(u.substring(1)),
                e.push(f.substring(1)),
                e.push(d.substring(1)),
                e.push(v.substring(1)),
                e.push(m.substring(1)),
                e.push(g.substring(1)),
                e.push(p.substring(1)),
                s.push(l)
            }, c = [], o = function(i, s, h, o) {
                var u = "_" + s
                  , f = s + "Uniform"
                  , d = s + "Intensity"
                  , l = "_" + d;
                i[u] = h,
                i[f] = new Float32Array(3),
                Object.defineProperty(t.prototype, s, {
                    get: function() {
                        return this.dirtyColor = !0,
                        this.dirtyShader = !0,
                        this[u]
                    },
                    set: function(t) {
                        var e = this[u], i, s;
                        (0 === e.r && 0 === e.g && 0 === e.b || 1 === e.r && 1 === e.g && 1 === e.b) ^ (0 === t.r && 0 === t.g && 0 === t.b || 1 === t.r && 1 === t.g && 1 === t.b) && (this.dirtyShader = !0),
                        this.dirtyColor = !0,
                        this[u] = t
                    }
                }),
                e.push(s),
                r.push(f),
                c.push(s),
                a[s] = function(t, e, i) {
                    var r = i ? t[f] : new Float32Array(3), a = !1, h;
                    t.useGammaTonemap && (a = (t._scene || n.Ir.getApplication().scene).gammaCorrection);
                    for (var c = 0; c < 3; c++)
                        r[c] = a ? Math.pow(e.data[c], 2.2) : e.data[c],
                        o && (r[c] *= t[l]);
                    return {
                        name: "material_" + s,
                        value: r
                    }
                }
                ,
                o && (i[l] = 1,
                Object.defineProperty(t.prototype, d, {
                    get: function() {
                        return this[l]
                    },
                    set: function(t) {
                        var e = this[l], i, s;
                        (0 === e || 1 === e) ^ (0 === t || 1 === t) && (this.dirtyShader = !0),
                        this.dirtyColor = !0,
                        this[l] = t
                    }
                }),
                e.push(d),
                a[d] = function(t, e, i) {
                    var r = i ? t[f] : new Float32Array(3), a = !1, h;
                    t.useGammaTonemap && (a = (t._scene || n.Ir.getApplication().scene).gammaCorrection);
                    for (var c = 0; c < 3; c++)
                        r[c] = a ? Math.pow(t[u].data[c], 2.2) : t[u].data[c],
                        r[c] *= t[l];
                    return {
                        name: "material_" + s,
                        value: r
                    }
                }
                )
            }, u = function(i, s, n, r) {
                var h = "_" + s;
                i[h] = n,
                Object.defineProperty(t.prototype, s, {
                    get: function() {
                        return this[h]
                    },
                    set: function(t) {
                        var e = this[h], i, s;
                        e !== t && (this[h] = t,
                        (0 === e || 1 === e || (0 === t || 1 === t)) && (this.dirtyShader = !0))
                    }
                }),
                e.push(s),
                a[s] = void 0 !== r ? r : function(t, e, i) {
                    return {
                        name: "material_" + s,
                        value: e
                    }
                }
            }, f = function(i, s, n) {
                var r = "_" + s;
                i[r] = null,
                Object.defineProperty(t.prototype, s, {
                    get: function() {
                        return this[r]
                    },
                    set: function(t) {
                        var e;
                        !!this[r] ^ !!t && (this.dirtyShader = !0),
                        this[r] = t
                    }
                }),
                e.push(s),
                a[s] = n
            }, d = function(e, i, s) {
                Object.defineProperty(t.prototype, s, {
                    get: function() {
                        return this[i]
                    },
                    set: function(t) {
                        this[i] = t
                    }
                })
            }, l = function(i) {
                Object.defineProperty(t.prototype, "chunks", {
                    get: function() {
                        return this.dirtyShader = !0,
                        this._chunks
                    },
                    set: function(t) {
                        this.dirtyShader = !0,
                        this._chunks = t
                    }
                }),
                e.push("chunks")
            }, b = function(i, s, n) {
                var r = "_" + s;
                i[r] = n,
                Object.defineProperty(t.prototype, s, {
                    get: function() {
                        return this[r]
                    },
                    set: function(t) {
                        this[r] !== t && (this.dirtyShader = !0),
                        this[r] = t
                    }
                }),
                e.push(s)
            }, v = function() {}, m, g;
            return v.prototype.copy = function(t) {
                for (var e in t)
                    t.hasOwnProperty(e) && "copy" !== e && (this[e] = t[e])
            }
            ,
            Object.assign(t.prototype, {
                reset: function() {
                    var t;
                    for (t = 0; t < e.length; t++) {
                        var n = i[t];
                        this[e[t]] = n && n.clone ? n.clone() : n
                    }
                    for (t = 0; t < s.length; t++)
                        this[s[t]] = null;
                    for (t = 0; t < r.length; t++)
                        this[r[t]] = new Float32Array(3);
                    this._chunks = new v,
                    this.cubeMapMinUniform = new Float32Array(3),
                    this.cubeMapMaxUniform = new Float32Array(3)
                },
                clone: function() {
                    var t = new n.Sn, i;
                    n.Vh.prototype._cloneInternal.call(this, t);
                    for (var s = 0; s < e.length; s++)
                        void 0 !== this[i = e[s]] && (this[i] && this[i].copy ? t[i] ? t[i].copy(this[i]) : t[i] = this[i].clone() : t[i] = this[i]);
                    return t
                },
                _updateMapTransform: function(t, e, i) {
                    return (t = t || new n.wt).set(e.x, e.y, i.x, i.y),
                    1 === t.x && 1 === t.y && 0 === t.z && 0 === t.w ? null : t
                },
                _setParameter: function(t, e) {
                    this.parameters[t] || this._propsSet.push(t),
                    this.setParameter(t, e)
                },
                _clearParameters: function() {
                    for (var t = this._propsSet, e = 0; e < t.length; e++)
                        delete this.parameters[t[e]];
                    this._propsSet = []
                },
                _updateMap: function(t) {
                    var e = t + "Map";
                    if (this[e]) {
                        this._setParameter("texture_" + e, this[e]);
                        var i = e + "Transform"
                          , s = e + "TransformUniform";
                        this[i] || (this[s] = new Float32Array(4)),
                        this[i] = this._updateMapTransform(this[i], this[e + "Tiling"], this[e + "Offset"]),
                        this[i] && (this[s][0] = this[i].x,
                        this[s][1] = this[i].y,
                        this[s][2] = this[i].z,
                        this[s][3] = this[i].w,
                        this._setParameter("texture_" + i, this[s]))
                    }
                },
                getUniform: function(t, e, i) {
                    var s = a[t];
                    return s ? s(this, e, i) : null
                },
                updateUniforms: function() {
                    var t;
                    for (var e in this._clearParameters(),
                    this._setParameter("material_ambient", this.ambientUniform),
                    this.diffuseMap && !this.diffuseTint || this._setParameter("material_diffuse", this.diffuseUniform),
                    this.useMetalness ? (!this.metalnessMap || this.metalness < 1) && this._setParameter("material_metalness", this.metalness) : this.specularMap && !this.specularTint || this._setParameter("material_specular", this.specularUniform),
                    t = this.getUniform("shininess", this.shininess, !0),
                    this._setParameter(t.name, t.value),
                    this.emissiveMap && !this.emissiveTint || this._setParameter("material_emissive", this.emissiveUniform),
                    this.emissiveMap && this._setParameter("material_emissiveIntensity", this.emissiveIntensity),
                    this.refraction > 0 && (this._setParameter("material_refraction", this.refraction),
                    this._setParameter("material_refractionIndex", this.refractionIndex)),
                    this._setParameter("material_opacity", this.opacity),
                    this.occludeSpecular && this._setParameter("material_occludeSpecularIntensity", this.occludeSpecularIntensity),
                    this.cubeMapProjection === n.rh && this._setParameter(this.getUniform("cubeMapProjectionBox", this.cubeMapProjectionBox, !0)),
                    n.ia)
                        this._updateMap(e);
                    this.ambientSH && this._setParameter("ambientSH[0]", this.ambientSH),
                    this.normalMap && this._setParameter("material_bumpiness", this.bumpiness),
                    this.heightMap && (t = this.getUniform("heightMapFactor", this.heightMapFactor, !0),
                    this._setParameter(t.name, t.value)),
                    this.cubeMap && this._setParameter("texture_cubeMap", this.cubeMap),
                    this.prefilteredCubeMap128 ? this._setParameter("texture_prefilteredCubeMap128", this.prefilteredCubeMap128) : this._scene && this._scene._skyboxPrefiltered[0] && this._setParameter("texture_prefilteredCubeMap128", this._scene._skyboxPrefiltered[0]),
                    this.prefilteredCubeMap64 ? this._setParameter("texture_prefilteredCubeMap64", this.prefilteredCubeMap64) : this._scene && this._scene._skyboxPrefiltered[1] && this._setParameter("texture_prefilteredCubeMap64", this._scene._skyboxPrefiltered[1]),
                    this.prefilteredCubeMap32 ? this._setParameter("texture_prefilteredCubeMap32", this.prefilteredCubeMap32) : this._scene && this._scene._skyboxPrefiltered[2] && this._setParameter("texture_prefilteredCubeMap32", this._scene._skyboxPrefiltered[2]),
                    this.prefilteredCubeMap16 ? this._setParameter("texture_prefilteredCubeMap16", this.prefilteredCubeMap16) : this._scene && this._scene._skyboxPrefiltered[3] && this._setParameter("texture_prefilteredCubeMap16", this._scene._skyboxPrefiltered[3]),
                    this.prefilteredCubeMap8 ? this._setParameter("texture_prefilteredCubeMap8", this.prefilteredCubeMap8) : this._scene && this._scene._skyboxPrefiltered[4] && this._setParameter("texture_prefilteredCubeMap8", this._scene._skyboxPrefiltered[4]),
                    this.prefilteredCubeMap4 ? this._setParameter("texture_prefilteredCubeMap4", this.prefilteredCubeMap4) : this._scene && this._scene._skyboxPrefiltered[5] && this._setParameter("texture_prefilteredCubeMap4", this._scene._skyboxPrefiltered[5]),
                    this.sphereMap && this._setParameter("texture_sphereMap", this.sphereMap),
                    this.dpAtlas && this._setParameter("texture_sphereMap", this.dpAtlas),
                    this._setParameter("material_reflectivity", this.reflectivity),
                    !this.dirtyShader && this._scene || (this.shader = null,
                    this.clearVariants()),
                    this._processColor()
                },
                _processColor: function() {
                    var t, e;
                    if (this.dirtyColor && (this._scene || !this.useGammaTonemap)) {
                        var i = !1;
                        for (this.useGammaTonemap && (i = this._scene.gammaCorrection),
                        e = 0; e < c.length; e++) {
                            var s = this["_" + c[e]]
                              , n = this[c[e] + "Uniform"];
                            i ? (n[0] = Math.pow(s.r, 2.2),
                            n[1] = Math.pow(s.g, 2.2),
                            n[2] = Math.pow(s.b, 2.2)) : (n[0] = s.r,
                            n[1] = s.g,
                            n[2] = s.b)
                        }
                        for (t = 0; t < 3; t++)
                            this.emissiveUniform[t] *= this.emissiveIntensity;
                        this.dirtyColor = !1
                    }
                },
                Hh: function(t, e, i, s, r, a) {
                    !this._colorProcessed && this._scene && (this._colorProcessed = !0,
                    this._processColor());
                    var h = t.useTexCubeLod, c = !t.extTextureLod, o, u, f, d, l, b;
                    this.useSkybox && (o = e._skyboxPrefiltered[0],
                    u = e._skyboxPrefiltered[1],
                    f = e._skyboxPrefiltered[2],
                    d = e._skyboxPrefiltered[3],
                    l = e._skyboxPrefiltered[4],
                    b = e._skyboxPrefiltered[5]);
                    var v = this.prefilteredCubeMap128 || o
                      , m = this.prefilteredCubeMap64 || u
                      , g = this.prefilteredCubeMap32 || f
                      , p = this.prefilteredCubeMap16 || d
                      , w = this.prefilteredCubeMap8 || l
                      , x = this.prefilteredCubeMap4 || b;
                    if (v) {
                        var z = v && m && g && p && w && x;
                        if (c && z) {
                            if (!v.dpAtlas) {
                                var _ = [v, m, g, p, w, x];
                                v.dpAtlas = n.Nr(t, _),
                                v.sh = n.Rr(p)
                            }
                            this.dpAtlas = v.dpAtlas,
                            this.ambientSH = v.sh,
                            this._setParameter("ambientSH[0]", this.ambientSH),
                            this._setParameter("texture_sphereMap", this.dpAtlas)
                        } else
                            h ? v.pn.length < 6 ? z && this._setParameter("texture_prefilteredCubeMap128", v) : this._setParameter("texture_prefilteredCubeMap128", v) : z && (this._setParameter("texture_prefilteredCubeMap128", v),
                            this._setParameter("texture_prefilteredCubeMap64", m),
                            this._setParameter("texture_prefilteredCubeMap32", g),
                            this._setParameter("texture_prefilteredCubeMap16", p),
                            this._setParameter("texture_prefilteredCubeMap8", w),
                            this._setParameter("texture_prefilteredCubeMap4", x))
                    }
                    var A = n.In.standard
                      , y = r > n.Dn && r <= n.Tn
                      , M = y ? A.optionsContextMin : A.optionsContext;
                    y ? this.shaderOptBuilder.updateMinRef(M, t, e, this, i, s, r, a, v) : this.shaderOptBuilder.updateRef(M, t, e, this, i, s, r, a, v),
                    this.onUpdateShader && (M = this.onUpdateShader(M));
                    var S = t.Qn();
                    this.shader = S.getProgram("standard", M),
                    i || (this.clearVariants(),
                    this.variants[0] = this.shader),
                    this.dirtyShader = !1
                }
            }),
            function(t) {
                t.dirtyShader = !0,
                t.dirtyColor = !0,
                t._scene = null,
                t._colorProcessed = !1,
                o(t, "ambient", new n.D(.7,.7,.7)),
                o(t, "diffuse", new n.D(1,1,1)),
                o(t, "specular", new n.D(0,0,0)),
                o(t, "emissive", new n.D(0,0,0), !0),
                u(t, "shininess", 25, function(t, e) {
                    var i;
                    return {
                        name: "material_shininess",
                        value: i = t.shadingModel === n.ra ? Math.pow(2, .01 * e * 11) : .01 * e
                    }
                }),
                u(t, "heightMapFactor", 1, function(t, e) {
                    return {
                        name: "material_heightMapFactor",
                        value: .025 * e
                    }
                }),
                u(t, "opacity", 1),
                u(t, "alphaTest", 0),
                u(t, "bumpiness", 1),
                u(t, "reflectivity", 1),
                u(t, "occludeSpecularIntensity", 1),
                u(t, "refraction", 0),
                u(t, "refractionIndex", 1 / 1.5),
                u(t, "metalness", 1),
                u(t, "aoUvSet", 0, null),
                f(t, "ambientSH", function(t, e, i) {
                    return {
                        name: "ambientSH[0]",
                        value: e
                    }
                }),
                f(t, "cubeMapProjectionBox", function(t, e, i) {
                    var s = i ? t.cubeMapMinUniform : new Float32Array(3)
                      , n = i ? t.cubeMapMaxUniform : new Float32Array(3);
                    return s[0] = e.center.x - e.halfExtents.x,
                    s[1] = e.center.y - e.halfExtents.y,
                    s[2] = e.center.z - e.halfExtents.z,
                    n[0] = e.center.x + e.halfExtents.x,
                    n[1] = e.center.y + e.halfExtents.y,
                    n[2] = e.center.z + e.halfExtents.z,
                    [{
                        name: "envBoxMin",
                        value: s
                    }, {
                        name: "envBoxMax",
                        value: n
                    }]
                }),
                l(t),
                b(t, "ambientTint", !1),
                b(t, "diffuseTint", !1),
                b(t, "specularTint", !1),
                b(t, "emissiveTint", !1),
                b(t, "fastTbn", !1),
                b(t, "specularAntialias", !1),
                b(t, "useMetalness", !1),
                b(t, "occludeDirect", !1),
                b(t, "normalizeNormalMap", !0),
                b(t, "conserveEnergy", !0),
                b(t, "occludeSpecular", n.pa),
                b(t, "shadingModel", n.ah),
                b(t, "fresnelModel", n.ja),
                b(t, "cubeMapProjection", n.nh),
                b(t, "customFragmentShader", null),
                b(t, "forceFragmentPrecision", null),
                b(t, "useFog", !0),
                b(t, "useLighting", !0),
                b(t, "useGammaTonemap", !0),
                b(t, "useSkybox", !0),
                b(t, "forceUv1", !1),
                b(t, "pixelSnap", !1),
                b(t, "twoSidedLighting", !1),
                b(t, "nineSlicedMode", n.SPRITE_RENDERMODE_SLICED),
                h(t, "diffuse", 0, 3),
                h(t, "specular", 0, 3),
                h(t, "emissive", 0, 3),
                h(t, "normal", 0, -1),
                h(t, "metalness", 0, 1),
                h(t, "gloss", 0, 1),
                h(t, "opacity", 0, 1, "a"),
                h(t, "height", 0, 1),
                h(t, "ao", 0, 1),
                h(t, "light", 1, 3),
                h(t, "msdf", 0, 3),
                f(t, "cubeMap"),
                f(t, "sphereMap"),
                f(t, "dpAtlas"),
                f(t, "prefilteredCubeMap128"),
                f(t, "prefilteredCubeMap64"),
                f(t, "prefilteredCubeMap32"),
                f(t, "prefilteredCubeMap16"),
                f(t, "prefilteredCubeMap8"),
                f(t, "prefilteredCubeMap4"),
                d(t, "diffuseTint", "diffuseMapTint"),
                d(t, "specularTint", "specularMapTint"),
                d(t, "emissiveTint", "emissiveMapTint"),
                d(t, "aoVertexColor", "aoMapVertexColor"),
                d(t, "diffuseVertexColor", "diffuseMapVertexColor"),
                d(t, "specularVertexColor", "specularMapVertexColor"),
                d(t, "emissiveVertexColor", "emissiveMapVertexColor"),
                d(t, "metalnessVertexColor", "metalnessMapVertexColor"),
                d(t, "glossVertexColor", "glossMapVertexColor"),
                d(t, "opacityVertexColor", "opacityMapVertexColor"),
                d(t, "lightVertexColor", "lightMapVertexColor");
                for (var s = 0; s < e.length; s++)
                    i[s] = t[e[s]];
                t._propsSet = []
            }(t.prototype),
            {
                Sn: t,
                STANDARD_MATERIAL_TEXTURE_FIELDS: ["aoMap", "diffuseMap", "glossMap", "metalnessMap", "specularMap", "emissiveMap", "opacityMap", "lightMap", "normalMap", "heightMap", "sphereMap", "cubeMap"]
            }
        }()),
        function() {
            var t, e;
            for (t in n.Sn.PARAMETER_TYPES = {
                name: "string",
                chunks: "chunks",
                mappingFormat: "string",
                _engine: "boolean",
                ambient: "rgb",
                ambientTint: "boolean",
                aoVertexColor: "boolean",
                aoVertexColorChannel: "string",
                aoMap: "texture",
                aoMapChannel: "string",
                aoMapUv: "number",
                aoMapTiling: "vec2",
                aoMapOffset: "vec2",
                diffuse: "rgb",
                diffuseTint: "boolean",
                diffuseVertexColor: "boolean",
                diffuseVertexColorChannel: "string",
                diffuseMap: "texture",
                diffuseMapChannel: "string",
                diffuseMapUv: "number",
                diffuseMapTiling: "vec2",
                diffuseMapOffset: "vec2",
                specular: "rgb",
                specularTint: "boolean",
                specularVertexColor: "boolean",
                specularVertexColorChannel: "string",
                specularMap: "texture",
                specularMapChannel: "string",
                specularMapUv: "number",
                specularMapTiling: "vec2",
                specularMapOffset: "vec2",
                specularAntialias: "boolean",
                occludeSpecular: "enum:occludeSpecular",
                useMetalness: "boolean",
                metalness: "number",
                metalnessTint: "boolean",
                metalnessVertexColor: "boolean",
                metalnessVertexColorChannel: "string",
                metalnessMap: "texture",
                metalnessMapChannel: "string",
                metalnessMapUv: "number",
                metalnessMapTiling: "vec2",
                metalnessMapOffset: "vec2",
                conserveEnergy: "boolean",
                shininess: "number",
                glossVertexColor: "boolean",
                glossVertexColorChannel: "string",
                glossMap: "texture",
                glossMapChannel: "string",
                glossMapUv: "number",
                glossMapTiling: "vec2",
                glossMapOffset: "vec2",
                fresnelModel: "number",
                emissive: "rgb",
                emissiveTint: "boolean",
                emissiveVertexColor: "boolean",
                emissiveVertexColorChannel: "string",
                emissiveMap: "texture",
                emissiveMapChannel: "string",
                emissiveMapUv: "number",
                emissiveMapTiling: "vec2",
                emissiveMapOffset: "vec2",
                emissiveIntensity: "number",
                normalMap: "texture",
                normalMapTiling: "vec2",
                normalMapOffset: "vec2",
                normalMapUv: "number",
                bumpiness: "number",
                heightMap: "texture",
                heightMapChannel: "string",
                heightMapUv: "number",
                heightMapTiling: "vec2",
                heightMapOffset: "vec2",
                heightMapFactor: "number",
                alphaToCoverage: "boolean",
                alphaTest: "number",
                opacity: "number",
                opacityVertexColor: "boolean",
                opacityVertexColorChannel: "string",
                opacityMap: "texture",
                opacityMapChannel: "string",
                opacityMapUv: "number",
                opacityMapTiling: "vec2",
                opacityMapOffset: "vec2",
                reflectivity: "number",
                refraction: "number",
                refractionIndex: "number",
                sphereMap: "texture",
                cubeMap: "cubemap",
                cubeMapProjection: "number",
                cubeMapProjectionBox: "boundingbox",
                lightVertexColor: "boolean",
                lightVertexColorChannel: "string",
                lightMap: "texture",
                lightMapChannel: "string",
                lightMapUv: "number",
                lightMapTiling: "vec2",
                lightMapOffset: "vec2",
                depthTest: "boolean",
                depthWrite: "boolean",
                depthBias: "number",
                slopeDepthBias: "number",
                cull: "enum:cull",
                blendType: "enum:blendType",
                shadingModel: "enum:shadingModel",
                useFog: "boolean",
                useLighting: "boolean",
                useSkybox: "boolean",
                useGammaTonemap: "boolean",
                prefilteredCubeMap128: "texture",
                prefilteredCubeMap64: "texture",
                prefilteredCubeMap32: "texture",
                prefilteredCubeMap16: "texture",
                prefilteredCubeMap8: "texture",
                prefilteredCubeMap4: "texture"
            },
            n.Sn.TEXTURE_PARAMETERS = [],
            n.Sn.PARAMETER_TYPES)
                "texture" === (e = n.Sn.PARAMETER_TYPES[t]) && n.Sn.TEXTURE_PARAMETERS.push(t);
            for (t in n.Sn.CUBEMAP_PARAMETERS = [],
            n.Sn.PARAMETER_TYPES)
                "cubemap" === (e = n.Sn.PARAMETER_TYPES[t]) && n.Sn.CUBEMAP_PARAMETERS.push(t)
        }(),
        Object.assign(n, ((he = function() {
            this.removeInvalid = !0,
            this.valid = !0,
            this.enumValidators = {
                occludeSpecular: this._createEnumValidator([n.oh, n.pa, n.uh]),
                cull: this._createEnumValidator([n.Be, n.Ie, n.je, n.Re]),
                blendType: this._createEnumValidator([n.Sa, n.ta, n.$r, n.va, n.za, n.ea, n.xa, n.Ca, n.Oa, n.Ea, n.Da]),
                shadingModel: this._createEnumValidator([n.ra, n.ah])
            }
        }
        ).prototype.setInvalid = function(t, e) {
            this.valid = !1,
            this.removeInvalid && delete e[t]
        }
        ,
        he.prototype.validate = function(t) {
            var e = n.Sn.PARAMETER_TYPES, i, s, r = "path" === t.mappingFormat;
            for (var a in t)
                if (i = e[a]) {
                    if (i.startsWith("enum")) {
                        var h = i.split(":")[1];
                        this.enumValidators[h] && (this.enumValidators[h](t[a]) || this.setInvalid(a, t))
                    } else if ("number" === i)
                        "number" != typeof t[a] && this.setInvalid(a, t);
                    else if ("boolean" === i)
                        "boolean" != typeof t[a] && this.setInvalid(a, t);
                    else if ("string" === i)
                        "string" != typeof t[a] && this.setInvalid(a, t);
                    else if ("vec2" === i)
                        t[a]instanceof Array && 2 === t[a].length || this.setInvalid(a, t);
                    else if ("rgb" === i)
                        t[a]instanceof Array && 3 === t[a].length || this.setInvalid(a, t);
                    else if ("texture" === i)
                        r ? "string" == typeof t[a] || t[null === a] || t[a]instanceof n.xn || this.setInvalid(a, t) : "number" == typeof t[a] || null === t[a] || t[a]instanceof n.xn || this.setInvalid(a, t);
                    else if ("boundingbox" === i) {
                        if (null === t[a])
                            continue;
                        t[a].center && t[a].center instanceof Array && 3 === t[a].center.length || this.setInvalid(a, t),
                        t[a].halfExtents && t[a].halfExtents instanceof Array && 3 === t[a].halfExtents.length || this.setInvalid(a, t)
                    } else if ("cubemap" === i)
                        "number" == typeof t[a] || null === t[a] || void 0 === t[a] || t[a]instanceof n.xn && t[a].cubemap || this.setInvalid(a, t);
                    else if ("chunks" === i) {
                        var c = Object.keys(t[a]);
                        for (s = 0; s < c.length; s++)
                            "string" != typeof t[a][c[s]] && this.setInvalid(c[s], t[a])
                    }
                } else
                    this.valid = !1;
            return t.validated = !0,
            this.valid
        }
        ,
        he.prototype._createEnumValidator = function(t) {
            return function(e) {
                return t.indexOf(e) >= 0
            }
        }
        ,
        {
            StandardMaterialValidator: he
        })),
        Object.assign(n, ((ce = function() {
            this._mapXForms = null
        }
        ).prototype.updateMinRef = function(t, e, i, s, n, r, a, h, c) {
            this._updateSharedOptions(t, s, n, a),
            this._updateMinOptions(t, s),
            this._updateUVOptions(t, s, n, !0)
        }
        ,
        ce.prototype.updateRef = function(t, e, i, s, r, a, h, c, o) {
            this._updateSharedOptions(t, s, r, h),
            t.useTexCubeLod = e.useTexCubeLod,
            this._updateEnvOptions(t, s, i, o),
            this._updateMaterialOptions(t, s),
            h === n.Dn && (t.gamma && (t.gamma = n.Vr),
            t.toneMap = n.Wr),
            t.hasTangents = r && s.normalMap && 0 != (r & n.zh),
            this._updateLightOptions(t, s, r, c, a),
            this._updateUVOptions(t, s, r, !1)
        }
        ,
        ce.prototype._updateSharedOptions = function(t, e, i, s) {
            t.pass = s,
            t.alphaTest = e.alphaTest > 0,
            t.forceFragmentPrecision = e.forceFragmentPrecision || "",
            t.chunks = e.chunks || "",
            t.blendType = e.blendType,
            t.forceUv1 = e.forceUv1,
            t.screenSpace = i && 0 != (i & n.xh),
            t.skin = i && 0 != (i & n.dh),
            t.useInstancing = i && 0 != (i & n.gh)
        }
        ,
        ce.prototype._updateUVOptions = function(t, e, i, s) {
            var r = !1
              , a = !1
              , h = !1;
            for (var c in i && (r = 0 != (i & n.lh),
            a = 0 != (i & n.bh),
            h = 0 != (i & n.mh)),
            t.vertexColors = !1,
            this._mapXForms = [],
            n.ia)
                this._updateTexOptions(t, e, c, r, a, h, s);
            this._mapXForms = null
        }
        ,
        ce.prototype._updateMinOptions = function(t, e) {
            t.opacityTint = 1 !== e.opacity && e.blendType !== n.va,
            t.lights = []
        }
        ,
        ce.prototype._updateMaterialOptions = function(t, e) {
            var i = 1 === e.diffuse.r && 1 === e.diffuse.g && 1 === e.diffuse.b || !e.diffuseTint && (e.diffuseMap || e.diffuseVertexColor) ? 0 : 3
              , s = !1
              , r = !!(e.useMetalness || e.specularMap || e.sphereMap || e.cubeMap || e.dpAtlas);
            (r = r || !!e.useMetalness || !(0 === e.specular.r && 0 === e.specular.g && 0 === e.specular.b)) && (!e.specularTint && (e.specularMap || e.specularVertexColor) || e.useMetalness || (s = 1 !== e.specular.r || 1 !== e.specular.g || 1 !== e.specular.b));
            var a = e.emissiveMap ? 0 : 3;
            a || (a = (a = (1 !== e.emissive.r || 1 !== e.emissive.g || 1 !== e.emissive.b || 1 !== e.emissiveIntensity) && e.emissiveTint) ? 3 : 1 !== e.emissiveIntensity ? 1 : 0),
            t.opacityTint = 1 !== e.opacity && e.blendType !== n.va ? 1 : 0,
            t.blendMapsWithColors = !0,
            t.ambientTint = e.ambientTint,
            t.diffuseTint = i,
            t.specularTint = s ? 3 : 0,
            t.metalnessTint = e.useMetalness && e.metalness < 1 ? 1 : 0,
            t.glossTint = 1,
            t.emissiveTint = a,
            t.alphaToCoverage = e.alphaToCoverage,
            t.needsNormalFloat = e.normalizeNormalMap,
            t.sphereMap = !!e.sphereMap,
            t.cubeMap = !!e.cubeMap,
            t.dpAtlas = !!e.dpAtlas,
            t.ambientSH = !!e.ambientSH,
            t.useSpecular = r,
            t.emissiveFormat = e.emissiveMap ? e.emissiveMap.rgbm ? 1 : e.emissiveMap.format === n.yi ? 2 : 0 : null,
            t.lightMapFormat = e.lightMap ? e.lightMap.rgbm ? 1 : e.lightMap.format === n.yi ? 2 : 0 : null,
            t.specularAntialias = e.specularAntialias,
            t.conserveEnergy = e.conserveEnergy,
            t.occludeSpecular = e.occludeSpecular,
            t.occludeSpecularFloat = 1 !== e.occludeSpecularIntensity,
            t.occludeDirect = e.occludeDirect,
            t.shadingModel = e.shadingModel,
            t.fresnelModel = e.fresnelModel,
            t.packedNormal = !!e.normalMap && e.normalMap.format === n.wi,
            t.fastTbn = e.fastTbn,
            t.cubeMapProjection = e.cubeMapProjection,
            t.customFragmentShader = e.customFragmentShader,
            t.refraction = !!e.refraction,
            t.useMetalness = e.useMetalness,
            t.msdf = !!e.msdfMap,
            t.twoSidedLighting = e.twoSidedLighting,
            t.pixelSnap = e.pixelSnap,
            t.nineSlicedMode = e.nineSlicedMode || 0,
            t.aoMapUv = e.aoUvSet
        }
        ,
        ce.prototype._updateEnvOptions = function(t, e, i, s) {
            var r = !!s && s.rgbm || !!e.cubeMap && e.cubeMap.rgbm || !!e.dpAtlas && e.dpAtlas.rgbm, a = !!s && (s.rgbm || s.format === n.yi) || !!e.cubeMap && (e.cubeMap.rgbm || e.cubeMap.format === n.yi) || !!e.dpAtlas && (e.dpAtlas.rgbm || e.dpAtlas.format === n.yi), h = !(!s || e.cubeMap || e.sphereMap || e.dpAtlas) && s.rgbm || !!e.cubeMap && e.cubeMap.rgbm || !!e.sphereMap && e.sphereMap.rgbm || !!e.dpAtlas && e.dpAtlas.rgbm, c = !(!s || e.cubeMap || e.sphereMap || e.dpAtlas) && (s.rgbm || s.format === n.yi) || !!e.cubeMap && (e.cubeMap.rgbm || e.cubeMap.format === n.yi) || !!e.sphereMap && (e.sphereMap.rgbm || e.sphereMap.format === n.yi) || !!e.dpAtlas && (e.dpAtlas.rgbm || e.dpAtlas.format === n.yi), o;
            e.useSkybox && i._skyboxPrefiltered && (o = i._skyboxPrefiltered[0]),
            t.fog = e.useFog ? i.fog : "none",
            t.gamma = e.useGammaTonemap ? i.gammaCorrection : n.hh,
            t.toneMap = e.useGammaTonemap ? i.toneMapping : -1,
            t.rgbmAmbient = r,
            t.hdrAmbient = a,
            t.rgbmReflection = h,
            t.hdrReflection = c,
            t.useRgbm = h || r || !!e.emissiveMap && e.emissiveMap.rgbm || !!e.lightMap && e.lightMap.rgbm,
            t.fixSeams = s ? s.fixCubemapSeams : !!e.cubeMap && e.cubeMap.fixCubemapSeams,
            t.prefilteredCubemap = !!s,
            t.skyboxIntensity = s && o && s === o && 1 !== i.skyboxIntensity
        }
        ,
        ce.prototype._updateLightOptions = function(t, e, i, s, r) {
            if (t.lightMap = !1,
            t.lightMapChannel = "",
            t.lightMapUv = 0,
            t.lightMapTransform = 0,
            t.lightMapWithoutAmbient = !1,
            t.dirLightMap = !1,
            i && (t.noShadow = 0 != (i & n.fh),
            0 != (i & n.ph) && (t.lightMapFormat = 1,
            t.lightMap = !0,
            t.lightMapChannel = "rgb",
            t.lightMapUv = 1,
            t.lightMapTransform = 0,
            t.lightMapWithoutAmbient = !e.lightMap,
            t.useRgbm = !0,
            0 != (i & n.wh) && (t.dirLightMap = !0))),
            e.useLighting) {
                var a = []
                  , h = i ? i >> 16 : 1;
                s && (this._collectLights(n.ca, s[n.ca], a, h),
                this._collectLights(n.da, s[n.da], a, h, r),
                this._collectLights(n.sa, s[n.sa], a, h, r)),
                t.lights = a
            } else
                t.lights = [];
            0 === t.lights.length && (t.noShadow = !0)
        }
        ,
        ce.prototype._updateTexOptions = function(t, e, i, s, r, a, h) {
            var c = i + "Map"
              , o = i + "VertexColor"
              , u = i + "VertexColorChannel"
              , f = c + "Channel"
              , d = c + "Transform"
              , l = c + "Uv";
            "light" !== i && (t[c] = !1,
            t[f] = "",
            t[d] = 0,
            t[l] = 0),
            t[o] = !1,
            t[u] = "";
            var b = "opacity" === i;
            if (b && e.blendType === n.va && 0 === e.alphaTest && !e.alphaToCoverage)
                return t;
            if ((!h || b) && ("height" !== i && e[o] && a && (t[o] = e[o],
            t[u] = e[u],
            t.vertexColors = !0),
            e[c])) {
                var v = !0;
                0 !== e[l] || s || (v = !1),
                1 !== e[l] || r || (v = !1),
                v && (t[c] = !!e[c],
                t[d] = this._getMapTransformID(e[d], e[l]),
                t[f] = e[f],
                t[l] = e[l])
            }
        }
        ,
        ce.prototype._collectLights = function(t, e, i, s, r) {
            var a, h;
            for (h = 0; h < e.length; h++)
                if ((a = e[h])._enabled && a._mask & s) {
                    if (t !== n.ca && a.isStatic)
                        continue;
                    i.push(a)
                }
            if (r)
                for (h = 0; h < r.length; h++)
                    (a = r[h])._type === t && i.push(a)
        }
        ,
        ce.prototype._getMapTransformID = function(t, e) {
            if (!t)
                return 0;
            var i, s;
            for (this._mapXForms[e] || (this._mapXForms[e] = []),
            i = 0; i < this._mapXForms[e].length; i++) {
                if (s = !0,
                this._mapXForms[e][i][0] != t.x) {
                    s = !1;
                    break
                }
                if (this._mapXForms[e][i][1] != t.y) {
                    s = !1;
                    break
                }
                if (this._mapXForms[e][i][2] != t.z) {
                    s = !1;
                    break
                }
                if (this._mapXForms[e][i][3] != t.w) {
                    s = !1;
                    break
                }
                if (s)
                    return i + 1
            }
            var n = this._mapXForms[e].length;
            return this._mapXForms[e][n] = [],
            this._mapXForms[e][n][0] = t.x,
            this._mapXForms[e][n][1] = t.y,
            this._mapXForms[e][n][2] = t.z,
            this._mapXForms[e][n][3] = t.w,
            n + 1
        }
        ,
        {
            StandardMaterialOptionsBuilder: ce
        })),
        Object.assign(n, function() {
            var t = 0
              , e = new n.jt
              , i = function() {
                this._refCount = 0,
                this.id = t++,
                this.nn = null,
                this.cn = [null],
                this.Zh = [{
                    type: 0,
                    base: 0,
                    count: 0
                }],
                this.skin = null,
                this.morph = null,
                this._aabb = new n.jt,
                this.boneAabb = null
            };
            Object.defineProperty(i.prototype, "aabb", {
                get: function() {
                    return this.morph ? this.morph.aabb : this._aabb
                },
                set: function(t) {
                    this.morph ? (this._aabb = this.morph._baseAabb = t,
                    this.morph._calculateAabb()) : this._aabb = t
                }
            });
            var s = function t(e, i, s) {
                this._key = [0, 0],
                this._shader = [null, null, null],
                this.isStatic = !1,
                this._staticLightList = null,
                this._staticSource = null,
                this.node = e,
                this._mesh = i,
                i._refCount++,
                this.material = s,
                this._shaderDefs = n.Th << 16,
                this._shaderDefs |= i.nn.format.hasUv0 ? n.lh : 0,
                this._shaderDefs |= i.nn.format.hasUv1 ? n.bh : 0,
                this._shaderDefs |= i.nn.format.hasColor ? n.mh : 0,
                this._shaderDefs |= i.nn.format.hasTangents ? n.zh : 0,
                this._lightHash = 0,
                this.visible = !0,
                this.layer = n.Fa,
                this.renderStyle = n.th,
                this.castShadow = !1,
                this._receiveShadow = !0,
                this._screenSpace = !1,
                this._noDepthDrawGl1 = !1,
                this.cull = !0,
                this.pick = !0,
                this._updateAabb = !0,
                this._updateAabbFunc = null,
                this.updateKey(),
                this._skinInstance = null,
                this.morphInstance = null,
                this.instancingData = null,
                this.aabb = new n.jt,
                this._boneAabb = null,
                this._aabbVer = -1,
                this.drawOrder = 0,
                this.visibleThisFrame = 0,
                this.isVisibleFunc = null,
                this.parameters = {},
                this.stencilFront = null,
                this.stencilBack = null
            };
            s.prototype.Nt = function() {
                var t = new n.Qt
                  , e = new n.ut
                  , i = new n.jt
                  , s = [new n.ut, new n.ut, new n.ut]
                  , r = new n.ut
                  , a = new n.ut
                  , h = new n.ut
                  , c = new n.zt
                  , o = new n.zt
                  , u = new n.ut
                  , f = new n.ut
                  , d = new n.D(1,0,0,1);
                function l(i, s, d, l, b, v, m) {
                    var g = i.material.cull === n.Ie || i.material.cull === n.Re, p;
                    return null === (p = i.skinInstance ? d.Kt(l, b, v, g, m) : t.Kt(l, b, v, g, m)) ? null : (r.sub2(b, l),
                    a.sub2(v, l),
                    h.cross(r, a).normalize(),
                    u.copy(p),
                    f.copy(p),
                    i.skinInstance ? c.transformPoint(u, u) : (o.transformPoint(f, f),
                    o.transformPoint(l, l),
                    o.transformPoint(b, b),
                    o.transformPoint(v, v),
                    o.ft(h, h)),
                    e.sub2(f, d.origin),
                    {
                        index: s,
                        distance: e.length(),
                        point: f.clone(),
                        localPoint: u.clone(),
                        normal: h.clone(),
                        vertices: [l.clone(), b.clone(), v.clone()],
                        meshInstance: i
                    })
                }
                return function e(r, a) {
                    if (i.copy(this.aabb),
                    !1 === i.Nt(r))
                        return null;
                    var h = this.mesh.nn, u = this.mesh.cn[0], f = this.mesh.Zh[0].base, d = this.mesh.Zh[0].count, b = new Float32Array(h.lock()), v = new Uint8Array(h.lock()), m = 2 === u.bytesPerIndex ? new Uint16Array(u.lock()) : new Uint32Array(u.lock()), g = h.format.elements, p = h.numVertices, w = h.format.size, x, z, _, A, y = 0, M = 0, S = 0, C = null;
                    for (x = 0; x < g.length; x++)
                        g[x].name === n.Yi ? y = g[x].offset : g[x].name === n.Ji ? M = g[x].offset : g[x].name === n.Qi && (S = g[x].offset);
                    var O = y / 4
                      , E = S / 4
                      , D = w / 4;
                    if (a = void 0 === a ? [] : a,
                    t.origin.copy(r.origin),
                    t.direction.copy(r.direction),
                    o.copy(this.node.getWorldTransform()),
                    c.copy(o).invert(),
                    c.transformPoint(t.origin, t.origin),
                    c.ft(t.direction, t.direction),
                    this.skinInstance) {
                        var T = [0, 0, 0, 0]
                          , P = [0, 0, 0, 0]
                          , B = this.skinInstance.matrices
                          , I = [new n.ut, new n.ut, new n.ut, new n.ut];
                        for (x = f; x < f + d; x += 3) {
                            for (z = 0; z < 3; z++) {
                                for (A = m[x + z],
                                _ = 0; _ < 4; _++)
                                    T[_] = v[A * w + M + _],
                                    P[_] = b[A * D + O + E + _];
                                for (A = A * D + O,
                                s[z].set(b[A], b[A + 1], b[A + 2]),
                                _ = 0; _ < 4; _++)
                                    B[T[_]].transformPoint(s[z], I[_]),
                                    I[_].scale(P[_]);
                                s[z].copy(I[0]).add(I[1]).add(I[2]).add(I[3]),
                                o.transformPoint(s[z], s[z])
                            }
                            (C = l(this, x, r, s[0], s[1], s[2])) && a.push(C)
                        }
                    } else
                        for (x = f; x < f + d; x += 3) {
                            for (z = 0; z < 3; z++)
                                A = m[x + z] * D + O,
                                s[z].set(b[A], b[A + 1], b[A + 2]);
                            (C = l(this, x, r, s[0], s[1], s[2])) && a.push(C)
                        }
                    return h.unlock(),
                    u.unlock(),
                    a.length > 0 ? a : null
                }
            }(),
            Object.defineProperty(s.prototype, "mesh", {
                get: function() {
                    return this._mesh
                },
                set: function(t) {
                    this._mesh && this._mesh._refCount--,
                    this._mesh = t,
                    t && t._refCount++
                }
            }),
            Object.defineProperty(s.prototype, "aabb", {
                get: function() {
                    var t;
                    if (!this._updateAabb)
                        return this._aabb;
                    if (this._updateAabbFunc)
                        return this._updateAabbFunc(this._aabb);
                    if (this.skinInstance) {
                        var i = this.mesh.skin.boneNames.length, s, r;
                        if (!this.mesh.boneAabb) {
                            this.mesh.boneAabb = [],
                            this.mesh.boneUsed = [];
                            var a = this.mesh.nn.format.elements, h = this.mesh.nn.numVertices, c = this.mesh.nn.format.size, o, u, f, d, l, b, v;
                            for (r = 0; r < a.length; r++)
                                a[r].name === n.Yi ? u = a[r].offset : a[r].name === n.Ji ? f = a[r].offset : a[r].name === n.Qi && (d = a[r].offset);
                            var m = new Uint8Array(this.mesh.nn.storage), g = new Float32Array(this.mesh.nn.storage), p = u / 4, w = d / 4, x = c / 4, z, _, A, y, M, S = [], C = [];
                            for (s = this.mesh.boneUsed,
                            r = 0; r < i; r++)
                                S[r] = new n.ut(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),
                                C[r] = new n.ut(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);
                            for (l = 0; l < h; l++)
                                for (b = 0; b < 4; b++)
                                    g[l * x + w + b] > 0 && (o = m[l * c + f + b],
                                    A = g[l * x + p],
                                    y = g[l * x + p + 1],
                                    M = g[l * x + p + 2],
                                    z = C[o],
                                    (_ = S[o]).x > A && (_.x = A),
                                    _.y > y && (_.y = y),
                                    _.z > M && (_.z = M),
                                    z.x < A && (z.x = A),
                                    z.y < y && (z.y = y),
                                    z.z < M && (z.z = M),
                                    s[o] = !0);
                            if (this.morphInstance) {
                                var O, E = this.morphInstance.morph._targets, D = new Float32Array(3 * h), T = new Float32Array(3 * h), P, B, I, j, R, L, N, F;
                                for (l = 0; l < h; l++)
                                    D[3 * l] = T[3 * l] = g[l * x + p],
                                    D[3 * l + 1] = T[3 * l + 1] = g[l * x + p + 1],
                                    D[3 * l + 2] = T[3 * l + 2] = g[l * x + p + 2];
                                for (v = 0; v < E.length; v++)
                                    for (N = (L = (R = E[v]).indices).length,
                                    F = R.deltaPositions,
                                    b = 0; b < N; b++)
                                        O = L[b],
                                        B = F[3 * b],
                                        I = F[3 * b + 1],
                                        j = F[3 * b + 2],
                                        B < 0 ? D[3 * O] += B : T[3 * O] += B,
                                        I < 0 ? D[3 * O + 1] += I : T[3 * O + 1] += I,
                                        j < 0 ? D[3 * O + 2] += j : T[3 * O + 2] += j;
                                for (v = 0; v < E.length; v++)
                                    for (N = (L = (R = E[v]).indices).length,
                                    F = R.deltaPositions,
                                    b = 0; b < N; b++)
                                        for (O = L[b],
                                        P = 0; P < 4; P++)
                                            g[O * x + w + P] > 0 && (z = C[o = m[O * c + f + P]],
                                            _ = S[o],
                                            A = D[3 * O],
                                            y = D[3 * O + 1],
                                            M = D[3 * O + 2],
                                            _.x > A && (_.x = A),
                                            _.y > y && (_.y = y),
                                            _.z > M && (_.z = M),
                                            A = T[3 * O],
                                            y = T[3 * O + 1],
                                            M = T[3 * O + 2],
                                            z.x < A && (z.x = A),
                                            z.y < y && (z.y = y),
                                            z.z < M && (z.z = M))
                            }
                            for (r = 0; r < i; r++)
                                (t = new n.jt).setMinMax(S[r], C[r]),
                                this.mesh.boneAabb.push(t)
                        }
                        if (!this._boneAabb)
                            for (this._boneAabb = [],
                            r = 0; r < this.mesh.boneAabb.length; r++)
                                this._boneAabb[r] = new n.jt;
                        for (s = this.mesh.boneUsed,
                        r = 0; r < this.mesh.boneAabb.length; r++)
                            s[r] && this._boneAabb[r].kt(this.mesh.boneAabb[r], this.skinInstance.matrices[r]);
                        var k = this.node.getWorldTransform()
                          , U = !0;
                        for (r = 0; r < this.mesh.boneAabb.length; r++)
                            s[r] && (U ? (e.center.copy(this._boneAabb[r].center),
                            e.halfExtents.copy(this._boneAabb[r].halfExtents),
                            U = !1) : e.add(this._boneAabb[r]));
                        this._aabb.kt(e, k)
                    } else
                        this.node._aabbVer !== this._aabbVer && (t = this.mesh ? this.mesh.aabb : this._aabb,
                        this.mesh || (t.center.set(0, 0, 0),
                        t.halfExtents.set(0, 0, 0)),
                        this._aabb.kt(t, this.node.getWorldTransform()),
                        this._aabbVer = this.node._aabbVer);
                    return this._aabb
                },
                set: function(t) {
                    this._aabb = t
                }
            }),
            Object.defineProperty(s.prototype, "material", {
                get: function() {
                    return this._material
                },
                set: function(t) {
                    var e;
                    for (e = 0; e < this._shader.length; e++)
                        this._shader[e] = null;
                    if (this._material) {
                        var i = this._material.meshInstances;
                        -1 !== (e = i.indexOf(this)) && i.splice(e, 1)
                    }
                    var s = !!this._material && this._material.blendType !== n.va
                      , r = this._material;
                    if (this._material = t,
                    this._material && (this._material.meshInstances.push(this),
                    this.updateKey()),
                    t && t.blendType !== n.va !== s) {
                        var a = t._scene;
                        !a && r && r._scene && (a = r._scene),
                        a ? a.layers._dirtyBlend = !0 : t._dirtyBlend = !0
                    }
                }
            }),
            Object.defineProperty(s.prototype, "layer", {
                get: function() {
                    return this._layer
                },
                set: function(t) {
                    this._layer = t,
                    this.updateKey()
                }
            }),
            Object.defineProperty(s.prototype, "receiveShadow", {
                get: function() {
                    return this._receiveShadow
                },
                set: function(t) {
                    this._receiveShadow = t,
                    this._shaderDefs = t ? this._shaderDefs & ~n.fh : this._shaderDefs | n.fh,
                    this._shader[n.Cn] = null,
                    this._shader[n.Dn] = null
                }
            }),
            Object.defineProperty(s.prototype, "skinInstance", {
                get: function() {
                    return this._skinInstance
                },
                set: function(t) {
                    this._skinInstance = t,
                    this._shaderDefs = t ? this._shaderDefs | n.dh : this._shaderDefs & ~n.dh;
                    for (var e = 0; e < this._shader.length; e++)
                        this._shader[e] = null
                }
            }),
            Object.defineProperty(s.prototype, "screenSpace", {
                get: function() {
                    return this._screenSpace
                },
                set: function(t) {
                    this._screenSpace = t,
                    this._shaderDefs = t ? this._shaderDefs | n.xh : this._shaderDefs & ~n.xh,
                    this._shader[n.Cn] = null
                }
            }),
            Object.defineProperty(s.prototype, "key", {
                get: function() {
                    return this._key[n.Eh]
                },
                set: function(t) {
                    this._key[n.Eh] = t
                }
            }),
            Object.defineProperty(s.prototype, "mask", {
                get: function() {
                    return this._shaderDefs >> 16
                },
                set: function(t) {
                    var e = 65535 & this._shaderDefs;
                    this._shaderDefs = e | t << 16,
                    this._shader[n.Cn] = null,
                    this._shader[n.Dn] = null
                }
            }),
            Object.assign(s.prototype, {
                syncAabb: function() {},
                updateKey: function() {
                    var t = this.material;
                    this._key[n.Eh] = h(this.layer, t.alphaToCoverage || t.alphaTest ? n.$r : t.blendType, !1, t.id)
                },
                setParameter: n.Vh.prototype.setParameter,
                setParameters: n.Vh.prototype.setParameters,
                deleteParameter: n.Vh.prototype.deleteParameter,
                getParameter: n.Vh.prototype.getParameter,
                getParameters: n.Vh.prototype.getParameters,
                clearParameters: n.Vh.prototype.clearParameters
            });
            var r = function(t, e, i) {
                this._key = [],
                this._key[n.Eh] = h(t, e, !0, 0),
                this.command = i
            };
            Object.defineProperty(r.prototype, "key", {
                get: function() {
                    return this._key[n.Eh]
                },
                set: function(t) {
                    this._key[n.Eh] = t
                }
            });
            var a = function(t, e, i) {
                i = i || 16,
                this.buffer = new Float32Array(t * i),
                this.count = t,
                this.offset = 0,
                this.usage = e ? n.ze : n.xe,
                this._buffer = null
            };
            function h(t, e, i, s) {
                return (15 & t) << 27 | (e === n.va ? 1 : 0) << 26 | (i ? 1 : 0) << 25 | (33554431 & s) << 0
            }
            return Object.assign(a.prototype, {
                update: function() {
                    this._buffer && this._buffer.setData(this.buffer)
                }
            }),
            {
                dc: r,
                Mesh: i,
                Yh: s,
                lc: a,
                bc: h
            }
        }()),
        Object.assign(n, (oe = new n.zt,
        ue = function(t, e, i) {
            this.device = t,
            this.inverseBindPose = e,
            this.boneNames = i
        }
        ,
        fe = function(t) {
            this.skin = t,
            this._dirty = !0,
            this.bones = [];
            var e = t.inverseBindPose.length, i = t.device, s;
            i.supportsBoneTextures ? (s = e > 256 ? 64 : e > 64 ? 32 : e > 16 ? 16 : 8,
            this.boneTexture = new n.xn(i,{
                width: s,
                height: s,
                format: n.yi,
                mipmaps: !1,
                minFilter: n.Ge,
                magFilter: n.Ge
            }),
            this.boneTexture.name = "skin",
            this.matrixPalette = this.boneTexture.lock()) : this.matrixPalette = new Float32Array(16 * e),
            this.matrices = [];
            for (var r = 0; r < e; r++)
                this.matrices[r] = new n.zt
        }
        ,
        Object.assign(fe.prototype, {
            updateMatrices: function(t) {
                oe.copy(t.getWorldTransform()).invert();
                for (var e = this.bones.length - 1; e >= 0; e--)
                    this.matrices[e].mul2(oe, this.bones[e].getWorldTransform()),
                    this.matrices[e].mul2(this.matrices[e], this.skin.inverseBindPose[e])
            },
            updateMatrixPalette: function() {
                for (var t, e = this.matrixPalette, i, s = this.bones.length - 1; s >= 0; s--)
                    t = this.matrices[s].data,
                    e[i = 16 * s] = t[0],
                    e[i + 1] = t[1],
                    e[i + 2] = t[2],
                    e[i + 3] = t[3],
                    e[i + 4] = t[4],
                    e[i + 5] = t[5],
                    e[i + 6] = t[6],
                    e[i + 7] = t[7],
                    e[i + 8] = t[8],
                    e[i + 9] = t[9],
                    e[i + 10] = t[10],
                    e[i + 11] = t[11],
                    e[i + 12] = t[12],
                    e[i + 13] = t[13],
                    e[i + 14] = t[14],
                    e[i + 15] = t[15];
                this.skin.device.supportsBoneTextures && (this.boneTexture.lock(),
                this.boneTexture.unlock())
            }
        }),
        {
            vc: ue,
            mc: fe
        })),
        Object.assign(n, function() {
            function t() {
                this.index = 0,
                this.boneIndices = [0, 0, 0, 0]
            }
            function e() {
                this.partition = 0,
                this.vertexStart = 0,
                this.vertexCount = 0,
                this.indexStart = 0,
                this.indexCount = 0,
                this.boneIndices = [],
                this.vertices = [],
                this.indices = [],
                this.indexMap = {}
            }
            function i(t) {
                var e, i = t.vertices, s = t.skins, n = t.meshes, r = t.meshInstances;
                for (e = 0; e < n.length; e++)
                    n[e].vertices = i[n[e].vertices],
                    void 0 !== n[e].skin && (n[e].skin = s[n[e].skin]);
                for (e = 0; e < r.length; e++)
                    r[e].mesh = n[r[e].mesh]
            }
            function s(t) {
                var e, i = t.vertices, s = t.skins, n = t.meshes, r = t.meshInstances;
                for (e = 0; e < n.length; e++)
                    n[e].vertices = i.indexOf(n[e].vertices),
                    void 0 !== n[e].skin && (n[e].skin = s.indexOf(n[e].skin));
                for (e = 0; e < r.length; e++)
                    r[e].mesh = n.indexOf(r[e].mesh)
            }
            function n(n, r, a) {
                var h, c, o, u;
                i(n);
                var f = n.vertices, d = n.skins, l, b = n.meshes, v = n.meshInstances, m = function(e) {
                    var i = new t;
                    return i.index = e,
                    i
                };
                for (h = d.length - 1; h >= 0; h--)
                    if (d[h].boneNames.length > a) {
                        var g = d.splice(h, 1)[0]
                          , p = [];
                        for (c = 0; c < b.length; c++)
                            b[c].skin === g && p.push(b[c]);
                        for (c = 0; c < p.length; c++)
                            -1 !== (u = b.indexOf(p[c])) && b.splice(u, 1);
                        if (0 === p.length)
                            throw new Error("partitionSkin: There should be at least one mesh that references a skin");
                        var w = p[0].vertices, x;
                        for (c = 1; c < p.length; c++)
                            if (p[c].vertices !== w)
                                throw new Error("partitionSkin: All meshes that share a skin should also share the same vertex buffer");
                        var z = []
                          , _ = []
                          , A = []
                          , y = 0;
                        for (c = 0; c < p.length; c++) {
                            for (var M = (l = p[c]).indices, S = l.base; S < l.base + l.count; ) {
                                u = M[S++],
                                _[0] = m(u),
                                A[0] = u,
                                u = M[S++],
                                _[1] = m(u),
                                A[1] = u,
                                u = M[S++],
                                _[2] = m(u),
                                A[2] = u;
                                for (var C = !1, O = y; O < z.length; O++)
                                    if ((x = z[O]).addPrimitive(_, A, w, a)) {
                                        C = !0;
                                        break
                                    }
                                C || ((x = new e).originalMesh = l,
                                x.addPrimitive(_, A, w, a),
                                z.push(x))
                            }
                            y = z.length
                        }
                        var E = []
                          , D = [];
                        for (c = 0; c < z.length; c++)
                            if ((x = z[c]).vertices.length && x.indices.length) {
                                var T = E.length, P = x.vertices.length, B = D.length, I = x.indices.length, j, R;
                                for (x.partition = c,
                                x.vertexStart = T,
                                x.vertexCount = P,
                                x.indexStart = B,
                                x.indexCount = I,
                                j = 0,
                                R = T; j < P; )
                                    E[R++] = x.vertices[j++];
                                for (j = 0,
                                R = B; j < I; )
                                    D[R++] = x.indices[j++] + T
                            }
                        var L = [], N, F, k, U;
                        for (c = 0; c < z.length; c++) {
                            x = z[c];
                            var V = []
                              , H = [];
                            for (o = 0; o < x.boneIndices.length; o++)
                                V.push(g.inverseBindMatrices[x.boneIndices[o]]),
                                H.push(g.boneNames[x.boneIndices[o]]);
                            var G = {
                                inverseBindMatrices: V,
                                boneNames: H
                            };
                            L.push(G),
                            d.push(G)
                        }
                        var W = {};
                        for (F in w)
                            W[F] = {
                                components: w[F].components,
                                data: [],
                                type: w[F].type
                            };
                        for (F in w)
                            if ("blendIndices" === F) {
                                var Y = W[F].data;
                                for (c = 0; c < E.length; c++) {
                                    var X = E[c].boneIndices;
                                    Y.push(X[0], X[1], X[2], X[3])
                                }
                            } else
                                for (k = (N = w[F]).data,
                                U = N.components,
                                c = 0; c < E.length; c++)
                                    for (u = E[c].index,
                                    o = 0; o < U; o++)
                                        W[F].data.push(k[u * U + o]);
                        for (f[f.indexOf(w)] = W,
                        c = 0; c < z.length; c++)
                            for (x = z[c],
                            l = {
                                aabb: {
                                    min: [0, 0, 0],
                                    max: [0, 0, 0]
                                },
                                vertices: W,
                                skin: L[c],
                                indices: D.splice(0, x.indexCount),
                                type: "triangles",
                                base: 0,
                                count: x.indexCount
                            },
                            b.push(l),
                            o = v.length - 1; o >= 0; o--)
                                v[o].mesh === x.originalMesh && (v.push({
                                    mesh: l,
                                    node: v[o].node
                                }),
                                r && r.push({
                                    material: r[o].material,
                                    path: r[o].path
                                }));
                        for (c = 0; c < z.length; c++)
                            for (x = z[c],
                            o = v.length - 1; o >= 0; o--)
                                v[o].mesh === x.originalMesh && (v.splice(o, 1),
                                r && r.splice(o, 1))
                    }
                s(n)
            }
            return Object.assign(e.prototype, {
                addVertex: function(t, e, i) {
                    var s = -1;
                    if (void 0 !== this.indexMap[e])
                        s = this.indexMap[e],
                        this.indices.push(s);
                    else {
                        for (var n = 0; n < 4; n++)
                            if (0 !== i.blendWeight.data[4 * e + n]) {
                                var r = i.blendIndices.data[4 * t.index + n];
                                t.boneIndices[n] = this.getBoneRemap(r)
                            }
                        s = this.vertices.length,
                        this.indices.push(s),
                        this.vertices.push(t),
                        this.indexMap[e] = s
                    }
                },
                addPrimitive: function(t, e, i, s) {
                    var n, r, a = [], h = 0, c = t.length;
                    for (n = 0; n < c; n++)
                        for (var o, u = t[n].index, f = 0; f < 4; f++)
                            if (i.blendWeight.data[4 * u + f] > 0) {
                                var d = i.blendIndices.data[4 * u + f], l = !0, b;
                                for (r = 0; r < h; r++)
                                    if (a[r] == d) {
                                        l = !1;
                                        break
                                    }
                                if (l)
                                    a[h] = d,
                                    h += -1 === this.getBoneRemap(d) ? 1 : 0
                            }
                    if (this.boneIndices.length + h > s)
                        return !1;
                    for (n = 0; n < h; n++)
                        this.boneIndices.push(a[n]);
                    for (n = 0; n < c; n++)
                        this.addVertex(t[n], e[n], i);
                    return !0
                },
                getBoneRemap: function(t) {
                    for (var e = 0; e < this.boneIndices.length; e++)
                        if (this.boneIndices[e] === t)
                            return e;
                    return -1
                }
            }),
            {
                gc: n
            }
        }()),
        Object.assign(n, function() {
            var t = new n.ut
              , e = new n.ut
              , i = function(t) {
                if (t.indices)
                    this.indices = t.indices;
                else {
                    var e = t.deltaPositions;
                    this.indices = [],
                    this.indices.length = e.length;
                    for (var i = 0; i < e.length; i++)
                        this.indices[i] = i
                }
                this.deltaPositions = t.deltaPositions,
                this.deltaNormals = t.deltaNormals,
                this.deltaTangents = t.deltaTangents,
                this.name = t.name,
                this.aabb = t.aabb
            }
              , s = function(t) {
                this.aabb = new n.jt,
                this._baseBuffer = null,
                this._baseAabb = null,
                this._targets = t,
                this._dirty = !0,
                this._aabbDirty = !0,
                this._baseData = null,
                this._offsetPF = 0,
                this._offsetNF = 0,
                this._offsetTF = 0,
                this._vertSizeF = 0
            };
            Object.assign(s.prototype, {
                _setBaseMesh: function(t) {
                    this._baseBuffer = t.nn,
                    this._baseAabb = t._aabb,
                    this._baseData = new Float32Array(this._baseBuffer.storage);
                    for (var e = -1, i = -1, s = -1, r = this._baseBuffer.format.elements, a = this._baseBuffer.format.size, h = 0; h < r.length; h++)
                        r[h].name === n.Yi ? e = r[h].offset : r[h].name === n.Xi ? i = r[h].offset : r[h].name === n.Ki && (s = r[h].offset);
                    this._offsetPF = e / 4,
                    this._offsetNF = i / 4,
                    this._offsetTF = s / 4,
                    this._vertSizeF = a / 4,
                    this._dirty = !0
                },
                _calculateAabb: function() {
                    if (this._baseBuffer) {
                        var i, s, n, r, a, h, c, o, u;
                        this.aabb.copy(this._baseAabb);
                        var f = this._vertSizeF
                          , d = this._offsetPF
                          , l = this._baseData;
                        for (s = 0; s < this._targets.length; s++) {
                            if (!(r = this._targets[s]).aabb && r.indices.length > 0) {
                                for (r.aabb = this.aabb.clone(),
                                t.set(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE),
                                e.set(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE),
                                i = r.indices.length,
                                n = 0; n < i; n++)
                                    c = l[h = (a = r.indices[n]) * f + d] + r.deltaPositions[3 * n],
                                    o = l[h + 1] + r.deltaPositions[3 * n + 1],
                                    u = l[h + 2] + r.deltaPositions[3 * n + 2],
                                    t.x > c && (t.x = c),
                                    t.y > o && (t.y = o),
                                    t.z > u && (t.z = u),
                                    e.x < c && (e.x = c),
                                    e.y < o && (e.y = o),
                                    e.z < u && (e.z = u);
                                r.aabb.setMinMax(t, e)
                            }
                            r.aabb && this.aabb.add(r.aabb)
                        }
                        this._aabbDirty = !1
                    }
                },
                addTarget: function(t) {
                    this._targets.push(t),
                    this._aabbDirty = !0
                },
                removeTarget: function(t) {
                    var e = this._targets.indexOf(t);
                    -1 !== e && (this._targets.splice(e, 1),
                    this._aabbDirty = !0)
                },
                getTarget: function(t) {
                    return this._targets[t]
                }
            });
            var r = function(t) {
                this.morph = t,
                this.$h = null,
                this._vertexData = null,
                this._weights = [],
                this._dirty = !0
            };
            return Object.assign(r.prototype, {
                _setBaseMesh: function(t) {
                    this.destroy(),
                    this.$h = new n.hn(this.morph._baseBuffer.device,this.morph._baseBuffer.format,this.morph._baseBuffer.numVertices,n.ze,this.morph._baseBuffer.storage.slice(0)),
                    this._vertexData = new Float32Array(this.$h.storage),
                    this._weights = [],
                    this._weights.length = this.morph._targets.length;
                    for (var e = 0; e < this.morph._targets.length; e++)
                        this._weights[e] = 0;
                    this._dirty = !0
                },
                destroy: function() {
                    this.$h && (this.$h.destroy(),
                    this.$h = null)
                },
                getWeight: function(t) {
                    return this._weights[t]
                },
                setWeight: function(t, e) {
                    this._weights[t] = e,
                    this._dirty = !0
                },
                updateBounds: function(t) {
                    this.morph._baseBuffer !== t.nn && this.morph._setBaseMesh(t),
                    this._vertexData || this._setBaseMesh(t),
                    this.morph._aabbDirty && this.morph._calculateAabb()
                },
                update: function(t) {
                    var e, i;
                    this.morph._baseBuffer !== t.nn && this.morph._setBaseMesh(t),
                    this._vertexData || this._setBaseMesh(t);
                    var s = this.morph._targets, n = this._weights, r, a, h, c, o, u, f = this.morph._vertSizeF, d = this.morph._offsetPF, l = this.morph._offsetNF, b = this.morph._offsetTF, v = this._vertexData;
                    v.set(this.morph._baseData);
                    for (var m = 0; m < s.length; m++)
                        if (0 !== (a = n[m]))
                            for (e = (r = s[m]).indices.length,
                            h = 0; h < e; h++)
                                o = 3 * h,
                                v[c = (i = r.indices[h]) * f + d] += r.deltaPositions[o] * a,
                                v[c + 1] += r.deltaPositions[o + 1] * a,
                                v[c + 2] += r.deltaPositions[o + 2] * a,
                                r.deltaNormals && (v[c = i * f + l] += r.deltaNormals[o] * a,
                                v[c + 1] += r.deltaNormals[o + 1] * a,
                                v[c + 2] += r.deltaNormals[o + 2] * a,
                                r.deltaTangents && (u = 4 * h,
                                v[c = i * f + b] += r.deltaTangents[u] * a,
                                v[c + 1] += r.deltaTangents[u + 1] * a,
                                v[c + 2] += r.deltaTangents[u + 2] * a,
                                v[c + 3] += r.deltaTangents[u + 3] * a,
                                v[c + 3] = v[c + 3] > 0 ? 1 : -1));
                    this.$h.unlock()
                }
            }),
            {
                pc: i,
                wc: s,
                xc: r
            }
        }()),
        Object.assign(n, (de = function t() {
            this.graph = null,
            this.meshInstances = [],
            this.skinInstances = [],
            this.morphInstances = [],
            this.cameras = [],
            this.lights = [],
            this._shadersVersion = 0
        }
        ,
        Object.assign(de.prototype, {
            getGraph: function() {
                return this.graph
            },
            setGraph: function(t) {
                this.graph = t
            },
            getCameras: function() {
                return this.cameras
            },
            setCameras: function(t) {
                this.cameras = t
            },
            getLights: function() {
                return this.lights
            },
            setLights: function(t) {
                this.lights = t
            },
            getMaterials: function() {
                var t, e = [];
                for (t = 0; t < this.meshInstances.length; t++) {
                    var i = this.meshInstances[t];
                    -1 === e.indexOf(i.material) && e.push(i.material)
                }
                return e
            },
            clone: function() {
                var t, e, i = [], s = [], r = function(t) {
                    var e = t.clone();
                    i.push(t),
                    s.push(e);
                    for (var n = 0; n < t._children.length; n++)
                        e.addChild(r(t._children[n]));
                    return e
                }, a = r(this.graph), h = [], c = [], o = [];
                for (t = 0; t < this.skinInstances.length; t++) {
                    var u = this.skinInstances[t].skin
                      , f = new n.mc(u)
                      , d = [];
                    for (e = 0; e < u.boneNames.length; e++) {
                        var l = u.boneNames[e]
                          , b = a.findByName(l);
                        d.push(b)
                    }
                    f.bones = d,
                    c.push(f)
                }
                for (t = 0; t < this.morphInstances.length; t++) {
                    var v = this.morphInstances[t].morph
                      , m = new n.xc(v);
                    o.push(m)
                }
                for (t = 0; t < this.meshInstances.length; t++) {
                    var g = this.meshInstances[t]
                      , p = i.indexOf(g.node)
                      , w = new n.Yh(s[p],g.mesh,g.material);
                    if (g.skinInstance) {
                        var x = this.skinInstances.indexOf(g.skinInstance);
                        w.skinInstance = c[x]
                    }
                    if (g.morphInstance) {
                        var z = this.morphInstances.indexOf(g.morphInstance);
                        w.morphInstance = o[z]
                    }
                    h.push(w)
                }
                var _ = new n.Xh;
                return _.graph = a,
                _.meshInstances = h,
                _.skinInstances = c,
                _.morphInstances = o,
                _.getGraph().syncHierarchy(),
                _
            },
            destroy: function() {
                for (var t = this.meshInstances, e, i, s, n, r, a, h, c, o = 0; o < t.length; o++) {
                    if ((i = (e = t[o]).mesh) && (i._refCount--,
                    i._refCount < 1)) {
                        for (i.nn && (c = c || i.nn.device,
                        i.nn.destroy(),
                        i.nn = null),
                        h = 0; h < i.cn.length; h++)
                            c = c || i.cn.device,
                            (r = i.cn[h]) && r.destroy();
                        i.cn.length = 0
                    }
                    (s = e.skinInstance) && (a = s.boneTexture) && a.destroy(),
                    e.skinInstance = null,
                    (n = e.morphInstance) && n.destroy(),
                    e.morphInstance = null,
                    e.material = null
                }
            },
            generateWireframe: function() {
                var t, e, i, s, r, a, h, c, o, u, f, d, l = [];
                for (t = 0; t < this.meshInstances.length; t++)
                    a = this.meshInstances[t].mesh,
                    -1 === l.indexOf(a) && l.push(a);
                var b = [[0, 1], [1, 2], [2, 0]];
                for (t = 0; t < l.length; t++) {
                    h = (a = l[t]).Zh[n.th].base,
                    c = a.Zh[n.th].count,
                    o = a.cn[n.th],
                    f = new Uint16Array(o.lock());
                    var v = {}
                      , m = [];
                    for (e = h; e < h + c; e += 3)
                        for (i = 0; i < 3; i++) {
                            var g = (s = f[e + b[i][0]]) > (r = f[e + b[i][1]]) ? r << 16 | s : s << 16 | r;
                            void 0 === v[g] && (v[g] = 0,
                            m.push(s, r))
                        }
                    o.unlock(),
                    u = new n.un(o.device,n.ai,m.length),
                    (d = new Uint16Array(u.lock())).set(m),
                    u.unlock(),
                    a.Zh[n.eh] = {
                        type: n.ki,
                        base: 0,
                        count: m.length,
                        indexed: !0
                    },
                    a.cn[n.eh] = u
                }
            }
        }),
        {
            Xh: de
        })),
        Object.assign(n, function() {
            var t = [[-1, -1], [1, -1], [1, 1], [-1, 1]]
              , e = function(t, e, i, s, r, a, h) {
                r || (r = n.yi);
                var c = n.Ge;
                h && r === n.vi && (c = n.We);
                var o = new n.xn(t,{
                    width: e,
                    height: i,
                    format: r,
                    cubemap: !1,
                    mipmaps: !1,
                    minFilter: c,
                    magFilter: c,
                    addressU: n.Zt,
                    addressV: n.Zt
                });
                o.name = "PSTexture";
                var u = o.lock();
                if (r === n.vi) {
                    for (var f = new Uint8Array(s.length), d = 0; d < s.length; d++)
                        f[d] = s[d] * a * 255;
                    s = f
                }
                return u.set(s),
                o.unlock(),
                o
            };
            function i(t) {
                return t - Math.floor(t)
            }
            function s(t) {
                var e = i(t)
                  , s = i(255 * t)
                  , n = i(65025 * t)
                  , r = i(160581375 * t);
                return [e -= s / 255, s -= n / 255, n -= r / 255, r -= r / 255]
            }
            function r(t) {
                var e = i(t)
                  , s = i(255 * t);
                return [e -= s / 255, s -= s / 255]
            }
            function a(t) {
                return Math.max(Math.min(t, 1), 0)
            }
            function h(t, e) {
                return t - e * Math.floor(t / e)
            }
            var c = new n.Et([0, 0, 1, 0]), o = new n.Et([0, 1, 1, 1]), u = new n.It([0, 0, 1, 0],[0, 0, 1, 0],[0, 0, 1, 0]), f = new n.It([0, 1, 1, 1],[0, 1, 1, 1],[0, 1, 1, 1]), d = 2, l = 4, b = new n.ut, v = new n.ut, m = new n.ut, g = new n.ut, p = new n.ut, w = new n.ut, x = new n.ut, z = new n.ut, _ = new n.ut, A = new n.zt, y = new n.xt, M = new n.xt, S = 1, C, O = new n.zt, E = new n.ut, D = new n.ut, T = new n.ut, P = new n.ut, B = new n.ut, I, j;
            function R(t, e) {
                void 0 !== j[t] && null !== j[t] ? I[t] = j[t] : I[t] = e
            }
            function L(t, e, i) {
                var s;
                return (255 * t << 16 | 255 * e << 8 | 255 * i) / (1 << 24)
            }
            function N(t, e) {
                for (var i = t.length / 3, s = new Array(4 * i), n = 0; n < i; n++)
                    s[4 * n] = t[3 * n],
                    s[4 * n + 1] = t[3 * n + 1],
                    s[4 * n + 2] = t[3 * n + 2],
                    s[4 * n + 3] = L(e[3 * n], e[3 * n + 1], e[3 * n + 2]);
                return s
            }
            function F(t, e) {
                for (var i = new Array(4 * e.length), s = 0; s < e.length; s++)
                    i[4 * s] = t[3 * s],
                    i[4 * s + 1] = t[3 * s + 1],
                    i[4 * s + 2] = t[3 * s + 2],
                    i[4 * s + 3] = e[s];
                return i
            }
            function k(t, e, i, s, n) {
                for (var r = new Array(4 * t.length), a = 0; a < t.length; a++)
                    r[4 * a] = t[a],
                    r[4 * a + 1] = e[a],
                    r[4 * a + 2] = 0,
                    r[4 * a + 3] = L(i[a], s[a], n[a]);
                return r
            }
            var U = function(t, i) {
                this.Br = t;
                var s = t
                  , r = 32;
                if (this.precision = 32,
                this._addTimeTime = 0,
                !U.DEFAULT_PARAM_TEXTURE) {
                    var h = 16, d = 8.5, l = new Float32Array(1024), b, v, m, g, p, w;
                    for (v = 0; v < 16; v++)
                        for (b = 0; b < 16; b++)
                            m = b + 1 - 8.5,
                            g = v + 1 - 8.5,
                            w = a(1 - a(Math.sqrt(m * m + g * g) / 16) - .5),
                            l[4 * (p = 16 * v + b)] = 1,
                            l[4 * p + 1] = 1,
                            l[4 * p + 2] = 1,
                            l[4 * p + 3] = w;
                    U.DEFAULT_PARAM_TEXTURE = e(s, 16, 16, l, n.vi, 1, !0),
                    U.DEFAULT_PARAM_TEXTURE.minFilter = n.We,
                    U.DEFAULT_PARAM_TEXTURE.magFilter = n.We
                }
                I = this,
                j = i,
                R("numParticles", 1),
                this.numParticles > t.maxTextureSize && (this.numParticles = t.maxTextureSize),
                R("rate", 1),
                R("rate2", this.rate),
                R("lifetime", 50),
                R("emitterExtents", new n.ut(0,0,0)),
                R("emitterRadius", 0),
                R("emitterShape", n.Ja),
                R("initialVelocity", 1),
                R("wrap", !1),
                R("localSpace", !1),
                R("wrapBounds", null),
                R("colorMap", U.DEFAULT_PARAM_TEXTURE),
                R("normalMap", null),
                R("loop", !0),
                R("preWarm", !1),
                R("sort", n.Ga),
                R("mode", n.Ka),
                R("scene", null),
                R("lighting", !1),
                R("halfLambert", !1),
                R("intensity", 1),
                R("stretch", 0),
                R("alignToMotion", !1),
                R("depthSoftening", 0),
                R("mesh", null),
                R("depthWrite", !1),
                R("noFog", !1),
                R("blendType", n.$r),
                R("node", null),
                R("startAngle", 0),
                R("startAngle2", this.startAngle),
                R("animTilesX", 1),
                R("animTilesY", 1),
                R("animNumFrames", 1),
                R("animSpeed", 1),
                R("animLoop", !0),
                this.frameRandomUniform = new Float32Array(3),
                this.emitterPosUniform = new Float32Array(3),
                this.wrapBoundsUniform = new Float32Array(3),
                this.emitterScaleUniform = new Float32Array([1, 1, 1]),
                R("colorGraph", f),
                R("colorGraph2", this.colorGraph),
                R("scaleGraph", o),
                R("scaleGraph2", this.scaleGraph),
                R("alphaGraph", o),
                R("alphaGraph2", this.alphaGraph),
                R("localVelocityGraph", u),
                R("localVelocityGraph2", this.localVelocityGraph),
                R("velocityGraph", u),
                R("velocityGraph2", this.velocityGraph),
                R("rotationSpeedGraph", c),
                R("rotationSpeedGraph2", this.rotationSpeedGraph),
                this.constantParticleTexIN = s.scope.resolve("particleTexIN"),
                this.constantParticleTexOUT = s.scope.resolve("particleTexOUT"),
                this.constantEmitterPos = s.scope.resolve("emitterPos"),
                this.constantEmitterScale = s.scope.resolve("emitterScale"),
                this.constantSpawnBounds = s.scope.resolve("spawnBounds"),
                this.constantSpawnBoundsSphere = s.scope.resolve("spawnBoundsSphere"),
                this.constantInitialVelocity = s.scope.resolve("initialVelocity"),
                this.constantFrameRandom = s.scope.resolve("frameRandom"),
                this.constantDelta = s.scope.resolve("delta"),
                this.constantRate = s.scope.resolve("rate"),
                this.constantRateDiv = s.scope.resolve("rateDiv"),
                this.constantLifetime = s.scope.resolve("lifetime"),
                this.constantLightCube = s.scope.resolve("lightCube[0]"),
                this.constantGraphSampleSize = s.scope.resolve("graphSampleSize"),
                this.constantGraphNumSamples = s.scope.resolve("graphNumSamples"),
                this.constantInternalTex0 = s.scope.resolve("internalTex0"),
                this.constantInternalTex1 = s.scope.resolve("internalTex1"),
                this.constantInternalTex2 = s.scope.resolve("internalTex2"),
                this.constantEmitterMatrix = s.scope.resolve("emitterMatrix"),
                this.constantNumParticles = s.scope.resolve("numParticles"),
                this.constantNumParticlesPot = s.scope.resolve("numParticlesPot"),
                this.constantLocalVelocityDivMult = s.scope.resolve("localVelocityDivMult"),
                this.constantVelocityDivMult = s.scope.resolve("velocityDivMult"),
                this.constantRotSpeedDivMult = s.scope.resolve("rotSpeedDivMult"),
                this.constantSeed = s.scope.resolve("seed"),
                this.constantStartAngle = s.scope.resolve("startAngle"),
                this.constantStartAngle2 = s.scope.resolve("startAngle2"),
                this.constantOutBoundsMul = s.scope.resolve("outBoundsMul"),
                this.constantOutBoundsAdd = s.scope.resolve("outBoundsAdd"),
                this.constantInBoundsSize = s.scope.resolve("inBoundsSize"),
                this.constantInBoundsCenter = s.scope.resolve("inBoundsCenter"),
                this.constantMaxVel = s.scope.resolve("maxVel"),
                this.lightCube = new Float32Array(18),
                this.lightCubeDir = new Array(6),
                this.lightCubeDir[0] = new n.ut(-1,0,0),
                this.lightCubeDir[1] = new n.ut(1,0,0),
                this.lightCubeDir[2] = new n.ut(0,-1,0),
                this.lightCubeDir[3] = new n.ut(0,1,0),
                this.lightCubeDir[4] = new n.ut(0,0,-1),
                this.lightCubeDir[5] = new n.ut(0,0,1),
                this.animParams = new Float32Array(4),
                this.internalTex0 = null,
                this.internalTex1 = null,
                this.internalTex2 = null,
                this.internalTex3 = null,
                this.vbToSort = null,
                this.vbOld = null,
                this.particleDistance = null,
                this.camera = null,
                this.swapTex = !1,
                this.useMesh = !0,
                this.useCpu = !1,
                this.pack8 = !0,
                this.localBounds = new n.jt,
                this.worldBoundsNoTrail = new n.jt,
                this.worldBoundsTrail = [new n.jt, new n.jt],
                this.worldBounds = new n.jt,
                this.inBoundsCenterUniform = new Float32Array(3),
                this.worldBoundsSize = new n.ut,
                this.inBoundsSizeUniform = new Float32Array(3),
                this.prevWorldBoundsSize = new n.ut,
                this.prevWorldBoundsCenter = new n.ut,
                this.worldBoundsMul = new n.ut,
                this.worldBoundsMulUniform = new Float32Array(3),
                this.worldBoundsAdd = new n.ut,
                this.worldBoundsAddUniform = new Float32Array(3),
                this.timeToSwitchBounds = 0,
                this.shaderParticleUpdateRespawn = null,
                this.shaderParticleUpdateNoRespawn = null,
                this.shaderParticleUpdateOnStop = null,
                this.numParticleVerts = 0,
                this.numParticleIndices = 0,
                this.material = null,
                this.meshInstance = null,
                this.seed = 0,
                this.fixedTimeStep = 1 / 60,
                this.maxSubSteps = 10,
                this.simTime = 0,
                this.simTimeTotal = 0,
                this.beenReset = !1,
                this._layer = null,
                this.rebuild()
            };
            function V(t) {
                var e = Math.max(t.rate, t.rate2) * t.numParticles + t.lifetime;
                return Date.now() + 1e3 * e
            }
            function H(t, e) {
                for (var i = new Float32Array(t.length), s = 0; s < t.length; s++)
                    i[s] = t[s] - e[s];
                return i
            }
            function G(t, e) {
                var i, s, n = e.length, r = t.length / n;
                for (i = 0; i < r; i++)
                    for (s = 0; s < n; s++) {
                        var a = Math.abs(t[i * n + s]);
                        e[s] = Math.max(e[s], a)
                    }
            }
            function W(t, e) {
                var i = e.length, s, n, r = t.length / i;
                for (s = 0; s < r; s++)
                    for (n = 0; n < i; n++)
                        t[s * i + n] /= e[n],
                        t[s * i + n] *= .5,
                        t[s * i + n] += .5
            }
            function Y(t, e, i) {
                var s = H(e, t);
                return G(s, i),
                W(s, i),
                s
            }
            function X(t, e) {
                e.data[0] = t.data[0],
                e.data[1] = t.data[1],
                e.data[2] = t.data[2],
                e.data[3] = t.data[4],
                e.data[4] = t.data[5],
                e.data[5] = t.data[6],
                e.data[6] = t.data[8],
                e.data[7] = t.data[9],
                e.data[8] = t.data[10]
            }
            return Object.assign(U.prototype, {
                onChangeCamera: function() {
                    this.regenShader(),
                    this.resetMaterial()
                },
                calculateBoundsMad: function() {
                    this.worldBoundsMul.x = 1 / this.worldBoundsSize.x,
                    this.worldBoundsMul.y = 1 / this.worldBoundsSize.y,
                    this.worldBoundsMul.z = 1 / this.worldBoundsSize.z,
                    this.worldBoundsAdd.copy(this.worldBounds.center).mul(this.worldBoundsMul).scale(-1),
                    this.worldBoundsAdd.x += .5,
                    this.worldBoundsAdd.y += .5,
                    this.worldBoundsAdd.z += .5
                },
                calculateWorldBounds: function() {
                    if (this.node) {
                        this.prevWorldBoundsSize.copy(this.worldBoundsSize),
                        this.prevWorldBoundsCenter.copy(this.worldBounds.center),
                        this.worldBoundsNoTrail.kt(this.localBounds, this.node.getWorldTransform()),
                        this.worldBoundsTrail[0].add(this.worldBoundsNoTrail);
                        var t = this.simTimeTotal;
                        if (t > this.timeToSwitchBounds) {
                            var e = this.worldBoundsTrail[0];
                            this.worldBoundsTrail[0] = this.worldBoundsTrail[1],
                            this.worldBoundsTrail[1] = e,
                            this.worldBoundsTrail[0].copy(this.worldBoundsNoTrail),
                            this.timeToSwitchBounds = t + this.lifetime
                        }
                        this.worldBounds.copy(this.worldBoundsTrail[0]),
                        this.worldBounds.add(this.worldBoundsTrail[1]),
                        this.worldBoundsSize.copy(this.worldBounds.halfExtents).scale(2),
                        this.meshInstance.mesh.aabb = this.worldBounds,
                        this.meshInstance._aabbVer = 1 - this.meshInstance._aabbVer,
                        this.pack8 && this.calculateBoundsMad()
                    }
                },
                calculateLocalBounds: function() {
                    var t = Number.MAX_VALUE, e = Number.MAX_VALUE, i = Number.MAX_VALUE, s = -Number.MAX_VALUE, r = -Number.MAX_VALUE, a = -Number.MAX_VALUE, h = 0, c = this.lifetime / this.precision, o = [this.qVelocity, this.qVelocity2, this.qLocalVelocity, this.qLocalVelocity2], u = [0, 0, 0, 0], f = [0, 0, 0, 0], d = [0, 0, 0, 0], l, b, v, m, g, p;
                    for (l = 0; l < this.precision + 1; l++) {
                        for (v = Math.min(l, this.precision - 1),
                        b = 0; b < 4; b++)
                            t > (m = o[b][3 * v] * c + u[b]) && (t = m),
                            e > (g = o[b][3 * v + 1] * c + f[b]) && (e = g),
                            i > (p = o[b][3 * v + 2] * c + d[b]) && (i = p),
                            s < m && (s = m),
                            r < g && (r = g),
                            a < p && (a = p),
                            u[b] = m,
                            f[b] = g,
                            d[b] = p;
                        h = Math.max(h, this.qScale[v])
                    }
                    this.emitterShape === n.Ja ? (s < (m = .5 * this.emitterExtents.x) && (s = m),
                    r < (g = .5 * this.emitterExtents.y) && (r = g),
                    a < (p = .5 * this.emitterExtents.z) && (a = p),
                    t > (m = -m) && (t = m),
                    e > (g = -g) && (e = g),
                    i > (p = -p) && (i = p)) : (s < (m = this.emitterRadius) && (s = m),
                    r < (g = this.emitterRadius) && (r = g),
                    a < (p = this.emitterRadius) && (a = p),
                    t > (m = -m) && (t = m),
                    e > (g = -g) && (e = g),
                    i > (p = -p) && (i = p)),
                    P.x = t - h,
                    P.y = e - h,
                    P.z = i - h,
                    B.x = s + h,
                    B.y = r + h,
                    B.z = a + h,
                    this.localBounds.setMinMax(P, B)
                },
                rebuild: function() {
                    var t, i = this.Br, s;
                    (null === this.colorMap && (this.colorMap = U.DEFAULT_PARAM_TEXTURE),
                    this.spawnBounds = this.emitterShape === n.Ja ? this.emitterExtents : this.emitterRadius,
                    this.useCpu = this.useCpu || this.sort > n.Ga || i.maxVertexTextures <= 1 || i.fragmentUniformsCount < 64 || i.forceCpuParticles || !i.jn,
                    this._destroyResources(),
                    this.pack8 = (this.pack8 || !i.textureFloatRenderable) && !this.useCpu,
                    d = this.useCpu || this.pack8 ? 4 : 2,
                    this.useMesh = !1,
                    this.mesh) && (this.numParticles * this.mesh.nn.numVertices > 65535 || (this.useMesh = !0));
                    this.numParticlesPot = n.I.ht(this.numParticles),
                    this.rebuildGraphs(),
                    this.calculateLocalBounds(),
                    this.node && (this.worldBounds.kt(this.localBounds, this.node.getWorldTransform()),
                    this.worldBoundsTrail[0].copy(this.worldBounds),
                    this.worldBoundsTrail[1].copy(this.worldBounds),
                    this.worldBoundsSize.copy(this.worldBounds.halfExtents).scale(2),
                    this.prevWorldBoundsSize.copy(this.worldBoundsSize),
                    this.prevWorldBoundsCenter.copy(this.worldBounds.center),
                    this.pack8 && this.calculateBoundsMad()),
                    this.vbToSort = new Array(this.numParticles),
                    this.particleDistance = new Float32Array(this.numParticles),
                    this.frameRandomUniform[0] = Math.random(),
                    this.frameRandomUniform[1] = Math.random(),
                    this.frameRandomUniform[2] = Math.random(),
                    this.particleTex = new Float32Array(this.numParticlesPot * d * 4);
                    var r = null === this.node || this.localSpace ? n.ut.ZERO : this.node.getPosition();
                    for (this.emitterShape === n.Ja && (null === this.node ? O.Mt(n.ut.ZERO, n.bt.IDENTITY, this.spawnBounds) : O.Mt(n.ut.ZERO, this.node.getRotation(), T.copy(this.spawnBounds).mul(this.node.localScale))),
                    t = 0; t < this.numParticles; t++)
                        this.calcSpawnPosition(r, t),
                        this.useCpu && (this.particleTex[4 * t + 3 + 2 * this.numParticlesPot * 4] = 1);
                    for (this.particleTexStart = new Float32Array(this.numParticlesPot * d * 4),
                    t = 0; t < this.particleTexStart.length; t++)
                        this.particleTexStart[t] = this.particleTex[t];
                    this.useCpu || (this.pack8 ? (this.particleTexIN = e(i, this.numParticlesPot, d, this.particleTex, n.vi, 1, !1),
                    this.particleTexOUT = e(i, this.numParticlesPot, d, this.particleTex, n.vi, 1, !1),
                    this.particleTexStart = e(i, this.numParticlesPot, d, this.particleTexStart, n.vi, 1, !1)) : (this.particleTexIN = e(i, this.numParticlesPot, d, this.particleTex),
                    this.particleTexOUT = e(i, this.numParticlesPot, d, this.particleTex),
                    this.particleTexStart = e(i, this.numParticlesPot, d, this.particleTexStart)),
                    this.rtParticleTexIN = new n.An(i,this.particleTexIN,{
                        depth: !1
                    }),
                    this.rtParticleTexOUT = new n.An(i,this.particleTexOUT,{
                        depth: !1
                    }),
                    this.swapTex = !1);
                    var a = n.dn
                      , h = a.particleUpdaterInitPS + (this.pack8 ? a.particleInputRgba8PS + a.particleOutputRgba8PS : a.particleInputFloatPS + a.particleOutputFloatPS) + (this.emitterShape === n.Ja ? a.particleUpdaterAABBPS : a.particleUpdaterSpherePS) + a.particleUpdaterStartPS
                      , c = h + a.particleUpdaterRespawnPS + a.particleUpdaterEndPS
                      , o = h + a.particleUpdaterNoRespawnPS + a.particleUpdaterEndPS
                      , u = h + a.particleUpdaterOnStopPS + a.particleUpdaterEndPS;
                    this.shaderParticleUpdateRespawn = a.createShaderFromCode(i, a.fullscreenQuadVS, c, "fsQuad0" + this.emitterShape + this.pack8),
                    this.shaderParticleUpdateNoRespawn = a.createShaderFromCode(i, a.fullscreenQuadVS, o, "fsQuad1" + this.emitterShape + this.pack8),
                    this.shaderParticleUpdateOnStop = a.createShaderFromCode(i, a.fullscreenQuadVS, u, "fsQuad2" + this.emitterShape + this.pack8),
                    this.numParticleVerts = this.useMesh ? this.mesh.nn.numVertices : 4,
                    this.numParticleIndices = this.useMesh ? this.mesh.cn[0].numIndices : 6,
                    this._allocate(this.numParticles);
                    var f = new n.Mesh;
                    f.nn = this.nn,
                    f.cn[0] = this.cn,
                    f.Zh[0].type = n.Hi,
                    f.Zh[0].base = 0,
                    f.Zh[0].count = this.numParticles * this.numParticleIndices,
                    f.Zh[0].indexed = !0,
                    this.material = new n.Vh,
                    this.material.cullMode = n.Be,
                    this.material.alphaWrite = !1,
                    this.material.blend = !0,
                    this.material.blendType = this.blendType,
                    this.material.depthWrite = this.depthWrite,
                    this.material.emitter = this,
                    this.regenShader(),
                    this.resetMaterial();
                    var l = !this.meshInstance || this.meshInstance.visible;
                    this.meshInstance = new n.Yh(this.node,f,this.material),
                    this.meshInstance.pick = !1,
                    this.meshInstance.updateKey(),
                    this.meshInstance.cull = !0,
                    this.meshInstance._noDepthDrawGl1 = !0,
                    this.meshInstance.aabb = this.worldBounds,
                    this.meshInstance._updateAabb = !1,
                    this.meshInstance.visible = l,
                    this._initializeTextures(),
                    this.addTime(0),
                    this.preWarm && this.prewarm(this.lifetime),
                    this.resetTime()
                },
                _isAnimated: function() {
                    return this.animNumFrames >= 1 && (this.animTilesX > 1 || this.animTilesY > 1) && (this.colorMap && this.colorMap !== U.DEFAULT_PARAM_TEXTURE || this.normalMap)
                },
                calcSpawnPosition: function(t, e) {
                    var i = Math.random(), a = Math.random(), h = Math.random(), c = Math.random(), o, u;
                    if (this.useCpu && (this.particleTex[4 * e + 0 + 2 * this.numParticlesPot * 4] = i,
                    this.particleTex[4 * e + 1 + 2 * this.numParticlesPot * 4] = a,
                    this.particleTex[4 * e + 2 + 2 * this.numParticlesPot * 4] = h),
                    E.x = i - .5,
                    E.y = a - .5,
                    E.z = h - .5,
                    this.emitterShape === n.Ja ? D.copy(t).add(O.transformPoint(E)) : (E.normalize(),
                    D.copy(t).add(E.scale(c * this.spawnBounds))),
                    this.pack8) {
                        var f = (D.x - this.worldBounds.center.x) / this.worldBoundsSize.x + .5
                          , d = (D.y - this.worldBounds.center.y) / this.worldBoundsSize.y + .5
                          , l = (D.z - this.worldBounds.center.z) / this.worldBoundsSize.z + .5
                          , b = n.I.st(this.startAngle * n.I.q, this.startAngle2 * n.I.q, i);
                        b = b % (2 * Math.PI) / (2 * Math.PI);
                        var v = r(f);
                        this.particleTex[4 * e] = v[0],
                        this.particleTex[4 * e + 1] = v[1];
                        var m = r(d);
                        this.particleTex[4 * e + 2] = m[0],
                        this.particleTex[4 * e + 3] = m[1];
                        var g = r(l);
                        this.particleTex[4 * e + 0 + 4 * this.numParticlesPot] = g[0],
                        this.particleTex[4 * e + 1 + 4 * this.numParticlesPot] = g[1];
                        var p = r(b);
                        this.particleTex[4 * e + 2 + 4 * this.numParticlesPot] = p[0],
                        this.particleTex[4 * e + 3 + 4 * this.numParticlesPot] = p[1];
                        var w = 1;
                        this.particleTex[4 * e + 3 + 4 * this.numParticlesPot * 2] = 1,
                        u = -(o = n.I.st(this.rate, this.rate2, i)) * e;
                        var x = Math.max(this.lifetime, (this.numParticles - 1) * Math.max(this.rate, this.rate2)), z, _ = s(u = (u + x) / (x + (this.lifetime + 1)));
                        this.particleTex[4 * e + 0 + 4 * this.numParticlesPot * 3] = _[0],
                        this.particleTex[4 * e + 1 + 4 * this.numParticlesPot * 3] = _[1],
                        this.particleTex[4 * e + 2 + 4 * this.numParticlesPot * 3] = _[2],
                        this.particleTex[4 * e + 3 + 4 * this.numParticlesPot * 3] = _[3]
                    } else
                        this.particleTex[4 * e] = D.x,
                        this.particleTex[4 * e + 1] = D.y,
                        this.particleTex[4 * e + 2] = D.z,
                        this.particleTex[4 * e + 3] = n.I.st(this.startAngle * n.I.q, this.startAngle2 * n.I.q, i),
                        u = -(o = n.I.st(this.rate, this.rate2, i)) * e,
                        this.particleTex[4 * e + 3 + 4 * this.numParticlesPot] = u
                },
                rebuildGraphs: function() {
                    var t = this.precision, i = this.Br, s;
                    for (this.qLocalVelocity = this.localVelocityGraph.quantize(t),
                    this.qVelocity = this.velocityGraph.quantize(t),
                    this.qColor = this.colorGraph.quantize(t),
                    this.qRotSpeed = this.rotationSpeedGraph.quantize(t),
                    this.qScale = this.scaleGraph.quantize(t),
                    this.qAlpha = this.alphaGraph.quantize(t),
                    this.qLocalVelocity2 = this.localVelocityGraph2.quantize(t),
                    this.qVelocity2 = this.velocityGraph2.quantize(t),
                    this.qColor2 = this.colorGraph2.quantize(t),
                    this.qRotSpeed2 = this.rotationSpeedGraph2.quantize(t),
                    this.qScale2 = this.scaleGraph2.quantize(t),
                    this.qAlpha2 = this.alphaGraph2.quantize(t),
                    s = 0; s < t; s++)
                        this.qRotSpeed[s] *= n.I.q,
                        this.qRotSpeed2[s] *= n.I.q;
                    if (this.localVelocityUMax = new Float32Array(3),
                    this.velocityUMax = new Float32Array(3),
                    this.colorUMax = new Float32Array(3),
                    this.rotSpeedUMax = [0],
                    this.scaleUMax = [0],
                    this.alphaUMax = [0],
                    this.qLocalVelocityDiv = Y(this.qLocalVelocity, this.qLocalVelocity2, this.localVelocityUMax),
                    this.qVelocityDiv = Y(this.qVelocity, this.qVelocity2, this.velocityUMax),
                    this.qColorDiv = Y(this.qColor, this.qColor2, this.colorUMax),
                    this.qRotSpeedDiv = Y(this.qRotSpeed, this.qRotSpeed2, this.rotSpeedUMax),
                    this.qScaleDiv = Y(this.qScale, this.qScale2, this.scaleUMax),
                    this.qAlphaDiv = Y(this.qAlpha, this.qAlpha2, this.alphaUMax),
                    this.pack8) {
                        var r = [0, 0, 0];
                        G(this.qVelocity, r);
                        var a = [0, 0, 0];
                        G(this.qVelocity2, a);
                        var h = [0, 0, 0];
                        G(this.qLocalVelocity, h);
                        var c = [0, 0, 0];
                        G(this.qLocalVelocity2, c);
                        var o = Math.max(r[0], a[0]);
                        o = Math.max(o, r[1]),
                        o = Math.max(o, a[1]),
                        o = Math.max(o, r[2]),
                        o = Math.max(o, a[2]);
                        var u = Math.max(h[0], c[0]);
                        u = Math.max(u, h[1]),
                        u = Math.max(u, c[1]),
                        u = Math.max(u, h[2]),
                        u = Math.max(u, c[2]),
                        this.maxVel = o + u
                    }
                    this.useCpu || (this.internalTex0 = e(i, t, 1, N(this.qLocalVelocity, this.qLocalVelocityDiv)),
                    this.internalTex1 = e(i, t, 1, N(this.qVelocity, this.qVelocityDiv)),
                    this.internalTex2 = e(i, t, 1, k(this.qRotSpeed, this.qScale, this.qScaleDiv, this.qRotSpeedDiv, this.qAlphaDiv))),
                    this.internalTex3 = e(i, t, 1, F(this.qColor, this.qAlpha), n.vi, 1, !0)
                },
                _initializeTextures: function() {
                    this.colorMap && (this.material.setParameter("colorMap", this.colorMap),
                    this.lighting && this.normalMap && this.material.setParameter("normalMap", this.normalMap))
                },
                regenShader: function() {
                    var t = this.Br.Qn()
                      , e = null !== this.normalMap;
                    this.normalOption = 0,
                    this.lighting && (this.normalOption = e ? 2 : 1),
                    this.material.Hh = function() {
                        this.emitter.scene && this.emitter.camera != this.emitter.scene._activeCamera && (this.emitter.camera = this.emitter.scene._activeCamera,
                        this.emitter.onChangeCamera());
                        var e = t.getProgram("particle", {
                            useCpu: this.emitter.useCpu,
                            normal: this.emitter.normalOption,
                            halflambert: this.emitter.halfLambert,
                            stretch: this.emitter.stretch,
                            alignToMotion: this.emitter.alignToMotion,
                            soft: this.emitter.depthSoftening,
                            mesh: this.emitter.useMesh,
                            gamma: this.emitter.scene ? this.emitter.scene.gammaCorrection : 0,
                            toneMap: this.emitter.scene ? this.emitter.scene.toneMapping : 0,
                            fog: this.emitter.scene && !this.emitter.noFog ? this.emitter.scene.fog : "none",
                            wrap: this.emitter.wrap && this.emitter.wrapBounds,
                            localSpace: this.emitter.localSpace,
                            blend: this.blendType,
                            animTex: this.emitter._isAnimated(),
                            animTexLoop: this.emitter.animLoop,
                            pack8: this.emitter.pack8
                        });
                        this.shader = e
                    }
                    ,
                    this.material.Hh()
                },
                resetMaterial: function() {
                    var t = this.material;
                    t.setParameter("stretch", this.stretch),
                    this._isAnimated() && t.setParameter("animTexParams", this.animParams),
                    t.setParameter("colorMult", this.intensity),
                    this.useCpu || (t.setParameter("internalTex0", this.internalTex0),
                    t.setParameter("internalTex1", this.internalTex1),
                    t.setParameter("internalTex2", this.internalTex2)),
                    t.setParameter("internalTex3", this.internalTex3),
                    t.setParameter("numParticles", this.numParticles),
                    t.setParameter("numParticlesPot", this.numParticlesPot),
                    t.setParameter("lifetime", this.lifetime),
                    t.setParameter("rate", this.rate),
                    t.setParameter("rateDiv", this.rate2 - this.rate),
                    t.setParameter("seed", this.seed),
                    t.setParameter("scaleDivMult", this.scaleUMax[0]),
                    t.setParameter("alphaDivMult", this.alphaUMax[0]),
                    t.setParameter("graphNumSamples", this.precision),
                    t.setParameter("graphSampleSize", 1 / this.precision),
                    t.setParameter("emitterScale", new Float32Array([1, 1, 1])),
                    this.pack8 && (this.inBoundsSizeUniform[0] = this.worldBoundsSize.x,
                    this.inBoundsSizeUniform[1] = this.worldBoundsSize.y,
                    this.inBoundsSizeUniform[2] = this.worldBoundsSize.z,
                    t.setParameter("inBoundsSize", this.inBoundsSizeUniform),
                    this.inBoundsCenterUniform[0] = this.worldBounds.center.x,
                    this.inBoundsCenterUniform[1] = this.worldBounds.center.y,
                    this.inBoundsCenterUniform[2] = this.worldBounds.center.z,
                    t.setParameter("inBoundsCenter", this.inBoundsCenterUniform),
                    t.setParameter("maxVel", this.maxVel)),
                    this.wrap && this.wrapBounds && (this.wrapBoundsUniform[0] = this.wrapBounds.x,
                    this.wrapBoundsUniform[1] = this.wrapBounds.y,
                    this.wrapBoundsUniform[2] = this.wrapBounds.z,
                    t.setParameter("wrapBounds", this.wrapBoundsUniform)),
                    this.colorMap && t.setParameter("colorMap", this.colorMap),
                    this.lighting && this.normalMap && t.setParameter("normalMap", this.normalMap),
                    this.depthSoftening > 0 && t.setParameter("softening", 1 / (this.depthSoftening * this.depthSoftening * 100)),
                    this.stretch > 0 && (t.cull = n.Be)
                },
                _allocate: function(e) {
                    var i = e * this.numParticleVerts, s = e * this.numParticleIndices, r, a, h;
                    if (void 0 === this.nn || this.nn.getNumVertices() !== i) {
                        this.useCpu ? (r = [{
                            semantic: n.Zi,
                            components: 4,
                            type: n.He
                        }, {
                            semantic: n.$i,
                            components: 4,
                            type: n.He
                        }, {
                            semantic: n.es,
                            components: 4,
                            type: n.He
                        }, {
                            semantic: n.ss,
                            components: 2,
                            type: n.He
                        }],
                        a = new n.an(this.Br,r),
                        this.nn = new n.hn(this.Br,a,i,n.ze),
                        this.cn = new n.un(this.Br,n.ai,s)) : (r = [{
                            semantic: n.Zi,
                            components: 4,
                            type: n.He
                        }],
                        a = new n.an(this.Br,r),
                        this.nn = new n.hn(this.Br,a,i,n.ze),
                        this.cn = new n.un(this.Br,n.ai,s));
                        var c = new Float32Array(this.nn.lock()), o, u, f;
                        for (this.useMesh && (u = (o = new Float32Array(this.mesh.nn.lock())).length / this.mesh.nn.numVertices),
                        h = 0; h < i; h++) {
                            if (f = Math.floor(h / this.numParticleVerts),
                            this.useMesh) {
                                var d = h % this.numParticleVerts;
                                c[4 * h] = o[d * u],
                                c[4 * h + 1] = o[d * u + 1],
                                c[4 * h + 2] = o[d * u + 2]
                            } else {
                                var l = h % 4;
                                c[4 * h] = t[l][0],
                                c[4 * h + 1] = t[l][1],
                                c[4 * h + 2] = 0
                            }
                            c[4 * h + 3] = f
                        }
                        this.useCpu && (this.vbCPU = new Float32Array(c),
                        this.vbOld = new Float32Array(this.vbCPU.length)),
                        this.nn.unlock(),
                        this.useMesh && this.mesh.nn.unlock();
                        var b = 0
                          , v = new Uint16Array(this.cn.lock());
                        for (this.useMesh && (o = new Uint16Array(this.mesh.cn[0].lock())),
                        h = 0; h < e; h++)
                            if (this.useMesh)
                                for (var m = 0; m < this.numParticleIndices; m++)
                                    v[h * this.numParticleIndices + m] = o[m] + h * this.numParticleVerts;
                            else {
                                var g = 4 * h;
                                v[b++] = g,
                                v[b++] = g + 1,
                                v[b++] = g + 2,
                                v[b++] = g,
                                v[b++] = g + 2,
                                v[b++] = g + 3
                            }
                        this.cn.unlock(),
                        this.useMesh && this.mesh.cn[0].unlock()
                    }
                },
                reset: function() {
                    if (this.beenReset = !0,
                    this.seed = Math.random(),
                    this.material.setParameter("seed", this.seed),
                    this.useCpu)
                        for (var t = 0; t < this.particleTexStart.length; t++)
                            this.particleTex[t] = this.particleTexStart[t];
                    else
                        this._initializeTextures();
                    this.resetTime();
                    var e = this.loop;
                    this.loop = !0,
                    this.addTime(0),
                    this.loop = e,
                    this.preWarm && this.prewarm(this.lifetime)
                },
                prewarm: function(t) {
                    for (var e = t / this.lifetime, i = Math.min(Math.floor(e * this.precision), this.precision), s = t / i, n = 0; n < i; n++)
                        this.addTime(s)
                },
                resetTime: function() {
                    this.endTime = V(this)
                },
                finishFrame: function() {
                    this.useCpu && this.nn.unlock()
                },
                addTime: function(t, e) {
                    var i, s, r, c, o, u = this.Br, f;
                    if (this.simTimeTotal += t,
                    this.calculateWorldBounds(),
                    this._isAnimated()) {
                        var d = this.animParams;
                        d[0] = 1 / this.animTilesX,
                        d[1] = 1 / this.animTilesY,
                        d[2] = this.animNumFrames * this.animSpeed,
                        d[3] = this.animNumFrames - 1
                    }
                    this.scene && this.camera != this.scene._activeCamera && (this.camera = this.scene._activeCamera,
                    this.onChangeCamera()),
                    this.emitterShape === n.Ja && (null === this.meshInstance.node ? O.Mt(n.ut.ZERO, n.bt.IDENTITY, this.emitterExtents) : O.Mt(n.ut.ZERO, this.meshInstance.node.getRotation(), T.copy(this.emitterExtents).mul(this.meshInstance.node.localScale)));
                    var l = null === this.meshInstance.node ? n.ut.ONE : this.meshInstance.node.localScale;
                    if (this.emitterScaleUniform[0] = l.x,
                    this.emitterScaleUniform[1] = l.y,
                    this.emitterScaleUniform[2] = l.z,
                    this.material.setParameter("emitterScale", this.emitterScaleUniform),
                    this.localSpace && this.meshInstance.node && (f = this.meshInstance.node.getPosition(),
                    this.emitterPosUniform[0] = f.x,
                    this.emitterPosUniform[1] = f.y,
                    this.emitterPosUniform[2] = f.z,
                    this.material.setParameter("emitterPos", this.emitterPosUniform)),
                    this.useCpu) {
                        var D = new Float32Array(this.nn.lock());
                        if (this.meshInstance.node) {
                            var P = this.meshInstance.node.worldTransform;
                            for (o = 0; o < 12; o++)
                                A.data[o] = P.data[o];
                            C = this.meshInstance.node.localScale,
                            S = Math.max(Math.max(C.x, C.y), C.z)
                        }
                        f = null === this.meshInstance.node || this.localSpace ? n.ut.ZERO : this.meshInstance.node.getPosition();
                        var B = this.camera ? this.camera._node.getPosition() : n.ut.ZERO, I = 14, j, R, L, N, F, k, U, V = this.precision - 1;
                        for (c = 0; c < this.numParticles; c++) {
                            var H = Math.floor(this.vbCPU[c * this.numParticleVerts * 4 + 3])
                              , G = this.particleTex[4 * H + 0 + 2 * this.numParticlesPot * 4];
                            p.x = G,
                            p.y = this.particleTex[4 * H + 1 + 2 * this.numParticlesPot * 4],
                            p.z = this.particleTex[4 * H + 2 + 2 * this.numParticlesPot * 4];
                            var W = this.rate + (this.rate2 - this.rate) * G
                              , Y = this.lifetime
                              , K = this.particleTex[4 * H + 3 + 4 * this.numParticlesPot] + t
                              , Q = a(K / Y)
                              , J = 0
                              , q = 0
                              , Z = 0
                              , $ = K > 0 && K < Y;
                            $ ? (r = Q * V,
                            j = Math.floor(r),
                            R = Math.ceil(r),
                            r %= 1,
                            L = (i = this.qRotSpeed[j]) + ((s = this.qRotSpeed[R]) - i) * r,
                            N = (i = this.qRotSpeed2[j]) + ((s = this.qRotSpeed2[R]) - i) * r,
                            J = (i = this.qScale[j]) + ((s = this.qScale[R]) - i) * r,
                            F = (i = this.qScale2[j]) + ((s = this.qScale2[R]) - i) * r,
                            k = (i = this.qAlpha[j]) + ((s = this.qAlpha[R]) - i) * r,
                            U = (i = this.qAlpha2[j]) + ((s = this.qAlpha2[R]) - i) * r,
                            j *= 3,
                            R *= 3,
                            i = this.qLocalVelocity[j],
                            s = this.qLocalVelocity[R],
                            v.x = i + (s - i) * r,
                            i = this.qLocalVelocity[j + 1],
                            s = this.qLocalVelocity[R + 1],
                            v.y = i + (s - i) * r,
                            i = this.qLocalVelocity[j + 2],
                            s = this.qLocalVelocity[R + 2],
                            v.z = i + (s - i) * r,
                            i = this.qLocalVelocity2[j],
                            s = this.qLocalVelocity2[R],
                            g.x = i + (s - i) * r,
                            i = this.qLocalVelocity2[j + 1],
                            s = this.qLocalVelocity2[R + 1],
                            g.y = i + (s - i) * r,
                            i = this.qLocalVelocity2[j + 2],
                            s = this.qLocalVelocity2[R + 2],
                            g.z = i + (s - i) * r,
                            i = this.qVelocity[j],
                            s = this.qVelocity[R],
                            b.x = i + (s - i) * r,
                            i = this.qVelocity[j + 1],
                            s = this.qVelocity[R + 1],
                            b.y = i + (s - i) * r,
                            i = this.qVelocity[j + 2],
                            s = this.qVelocity[R + 2],
                            b.z = i + (s - i) * r,
                            i = this.qVelocity2[j],
                            s = this.qVelocity2[R],
                            m.x = i + (s - i) * r,
                            i = this.qVelocity2[j + 1],
                            s = this.qVelocity2[R + 1],
                            m.y = i + (s - i) * r,
                            i = this.qVelocity2[j + 2],
                            s = this.qVelocity2[R + 2],
                            m.z = i + (s - i) * r,
                            v.x += (g.x - v.x) * p.x,
                            v.y += (g.y - v.y) * p.y,
                            v.z += (g.z - v.z) * p.z,
                            this.initialVelocity > 0 && (this.emitterShape === n.qa ? (E.copy(p).scale(2).sub(n.ut.ONE).normalize(),
                            v.add(E.scale(this.initialVelocity))) : v.add(n.ut.FORWARD.scale(this.initialVelocity))),
                            b.x += (m.x - b.x) * p.x,
                            b.y += (m.y - b.y) * p.y,
                            b.z += (m.z - b.z) * p.z,
                            L += (N - L) * p.y,
                            J = (J + 1e4 * G % 1 * (F - J)) * S,
                            q = 1e3 * G % 1 * (U - k),
                            this.meshInstance.node && A.transformPoint(v, v),
                            v.add(b.mul(C)),
                            _.copy(v),
                            w.x = this.particleTex[4 * H],
                            w.y = this.particleTex[4 * H + 1],
                            w.z = this.particleTex[4 * H + 2],
                            x.copy(w).add(v.scale(t)),
                            z.copy(x),
                            this.particleTex[4 * H] = z.x,
                            this.particleTex[4 * H + 1] = z.y,
                            this.particleTex[4 * H + 2] = z.z,
                            this.particleTex[4 * H + 3] += L * t,
                            this.wrap && this.wrapBounds && (z.sub(f),
                            z.x = h(z.x, this.wrapBounds.x) - .5 * this.wrapBounds.x,
                            z.y = h(z.y, this.wrapBounds.y) - .5 * this.wrapBounds.y,
                            z.z = h(z.z, this.wrapBounds.z) - .5 * this.wrapBounds.z,
                            z.add(f)),
                            this.sort > 0 && (1 === this.sort ? (T.copy(z).sub(B),
                            this.particleDistance[H] = -(T.x * T.x + T.y * T.y + T.z * T.z)) : 2 === this.sort ? this.particleDistance[H] = K : 3 === this.sort && (this.particleDistance[H] = -K))) : this.calcSpawnPosition(f, H),
                            e ? K < 0 && (this.particleTex[4 * H + 3 + 2 * this.numParticlesPot * 4] = -1) : (K >= Y && (K -= Math.max(Y, (this.numParticles - 1) * W),
                            this.particleTex[4 * H + 3 + 2 * this.numParticlesPot * 4] = this.loop ? 1 : -1),
                            K < 0 && this.loop && (this.particleTex[4 * H + 3 + 2 * this.numParticlesPot * 4] = 1)),
                            this.particleTex[4 * H + 3 + 2 * this.numParticlesPot * 4] < 0 && ($ = !1),
                            this.particleTex[4 * H + 3 + 4 * this.numParticlesPot] = K;
                            for (var tt = 0; tt < this.numParticleVerts; tt++) {
                                var et = this.vbCPU[c * this.numParticleVerts * 4 + 4 * tt]
                                  , it = this.vbCPU[c * this.numParticleVerts * 4 + 4 * tt + 1]
                                  , st = this.vbCPU[c * this.numParticleVerts * 4 + 4 * tt + 2];
                                $ || (et = it = st = 0);
                                var nt = c * this.numParticleVerts * 14 + 14 * tt;
                                D[nt] = z.x,
                                D[nt + 1] = z.y,
                                D[nt + 2] = z.z,
                                D[nt + 3] = Q,
                                D[nt + 4] = this.alignToMotion ? 0 : this.particleTex[4 * H + 3],
                                D[nt + 5] = J,
                                D[nt + 6] = q,
                                D[nt + 7] = _.x,
                                D[nt + 8] = et,
                                D[nt + 9] = it,
                                D[nt + 10] = st,
                                D[nt + 11] = _.y,
                                D[nt + 12] = _.z
                            }
                        }
                        if (this.sort > n.Ga && this.camera) {
                            var rt = this.particleDistance;
                            for (c = 0; c < this.numParticles; c++)
                                this.vbToSort[c] = [c, rt[Math.floor(this.vbCPU[c * this.numParticleVerts * 4 + 3])]];
                            for (this.vbOld.set(this.vbCPU),
                            this.vbToSort.sort(function(t, e) {
                                return t[1] - e[1]
                            }),
                            c = 0; c < this.numParticles; c++) {
                                var at = this.vbToSort[c][0] * this.numParticleVerts * 4
                                  , ht = c * this.numParticleVerts * 4;
                                for (o = 0; o < 4 * this.numParticleVerts; o++)
                                    this.vbCPU[ht + o] = this.vbOld[at + o]
                            }
                        }
                    } else {
                        if (u.hr(!1),
                        u.ir(!0, !0, !0, !0),
                        u.Ar(n.Be),
                        u.Zn(!1),
                        u.er(!1),
                        this.frameRandomUniform[0] = Math.random(),
                        this.frameRandomUniform[1] = Math.random(),
                        this.frameRandomUniform[2] = Math.random(),
                        this.constantGraphSampleSize.setValue(1 / this.precision),
                        this.constantGraphNumSamples.setValue(this.precision),
                        this.constantNumParticles.setValue(this.numParticles),
                        this.constantNumParticlesPot.setValue(this.numParticlesPot),
                        this.constantInternalTex0.setValue(this.internalTex0),
                        this.constantInternalTex1.setValue(this.internalTex1),
                        this.constantInternalTex2.setValue(this.internalTex2),
                        this.pack8) {
                            this.worldBoundsMulUniform[0] = this.worldBoundsMul.x,
                            this.worldBoundsMulUniform[1] = this.worldBoundsMul.y,
                            this.worldBoundsMulUniform[2] = this.worldBoundsMul.z,
                            this.constantOutBoundsMul.setValue(this.worldBoundsMulUniform),
                            this.worldBoundsAddUniform[0] = this.worldBoundsAdd.x,
                            this.worldBoundsAddUniform[1] = this.worldBoundsAdd.y,
                            this.worldBoundsAddUniform[2] = this.worldBoundsAdd.z,
                            this.constantOutBoundsAdd.setValue(this.worldBoundsAddUniform),
                            this.inBoundsSizeUniform[0] = this.prevWorldBoundsSize.x,
                            this.inBoundsSizeUniform[1] = this.prevWorldBoundsSize.y,
                            this.inBoundsSizeUniform[2] = this.prevWorldBoundsSize.z,
                            this.constantInBoundsSize.setValue(this.inBoundsSizeUniform),
                            this.inBoundsCenterUniform[0] = this.prevWorldBoundsCenter.x,
                            this.inBoundsCenterUniform[1] = this.prevWorldBoundsCenter.y,
                            this.inBoundsCenterUniform[2] = this.prevWorldBoundsCenter.z,
                            this.constantInBoundsCenter.setValue(this.inBoundsCenterUniform);
                            var ct = this.maxVel * Math.max(Math.max(l.x, l.y), l.z);
                            ct = Math.max(ct, 1),
                            this.constantMaxVel.setValue(ct)
                        }
                        f = null === this.meshInstance.node || this.localSpace ? n.ut.ZERO : this.meshInstance.node.getPosition();
                        var ot = null === this.meshInstance.node ? n.zt.IDENTITY : this.meshInstance.node.getWorldTransform();
                        this.emitterShape === n.Ja ? (X(O, y),
                        this.constantSpawnBounds.setValue(y.data)) : this.constantSpawnBoundsSphere.setValue(this.emitterRadius),
                        this.constantInitialVelocity.setValue(this.initialVelocity),
                        X(ot, M),
                        this.emitterPosUniform[0] = f.x,
                        this.emitterPosUniform[1] = f.y,
                        this.emitterPosUniform[2] = f.z,
                        this.constantEmitterPos.setValue(this.emitterPosUniform),
                        this.constantFrameRandom.setValue(this.frameRandomUniform),
                        this.constantDelta.setValue(t),
                        this.constantRate.setValue(this.rate),
                        this.constantRateDiv.setValue(this.rate2 - this.rate),
                        this.constantStartAngle.setValue(this.startAngle * n.I.q),
                        this.constantStartAngle2.setValue(this.startAngle2 * n.I.q),
                        this.constantSeed.setValue(this.seed),
                        this.constantLifetime.setValue(this.lifetime),
                        this.emitterScaleUniform[0] = l.x,
                        this.emitterScaleUniform[1] = l.y,
                        this.emitterScaleUniform[2] = l.z,
                        this.constantEmitterScale.setValue(this.emitterScaleUniform),
                        this.constantEmitterMatrix.setValue(M.data),
                        this.constantLocalVelocityDivMult.setValue(this.localVelocityUMax),
                        this.constantVelocityDivMult.setValue(this.velocityUMax),
                        this.constantRotSpeedDivMult.setValue(this.rotSpeedUMax[0]);
                        var ut = this.swapTex ? this.particleTexOUT : this.particleTexIN;
                        ut = this.beenReset ? this.particleTexStart : ut;
                        var ft = this.swapTex ? this.particleTexIN : this.particleTexOUT;
                        this.constantParticleTexIN.setValue(ut),
                        e ? n.Bn(u, this.swapTex ? this.rtParticleTexIN : this.rtParticleTexOUT, this.shaderParticleUpdateOnStop) : n.Bn(u, this.swapTex ? this.rtParticleTexIN : this.rtParticleTexOUT, this.loop ? this.shaderParticleUpdateRespawn : this.shaderParticleUpdateNoRespawn),
                        this.constantParticleTexOUT.setValue(ft),
                        this.material.setParameter("particleTexOUT", ut),
                        this.material.setParameter("particleTexIN", ft),
                        this.beenReset = !1,
                        this.swapTex = !this.swapTex,
                        u.Zn(!0),
                        u.er(!0)
                    }
                    this.loop || Date.now() > this.endTime && (this.onFinished && this.onFinished(),
                    this.meshInstance.visible = !1)
                },
                _destroyResources: function() {
                    this.particleTexIN && (this.particleTexIN.destroy(),
                    this.particleTexIN = null),
                    this.particleTexOUT && (this.particleTexOUT.destroy(),
                    this.particleTexOUT = null),
                    this.particleTexStart && this.particleTexStart.destroy && (this.particleTexStart.destroy(),
                    this.particleTexStart = null),
                    this.rtParticleTexIN && (this.rtParticleTexIN.destroy(),
                    this.rtParticleTexIN = null),
                    this.rtParticleTexOUT && (this.rtParticleTexOUT.destroy(),
                    this.rtParticleTexOUT = null),
                    this.internalTex0 && (this.internalTex0.destroy(),
                    this.internalTex0 = null),
                    this.internalTex1 && (this.internalTex1.destroy(),
                    this.internalTex1 = null),
                    this.internalTex2 && (this.internalTex2.destroy(),
                    this.internalTex2 = null),
                    this.internalTex3 && (this.internalTex3.destroy(),
                    this.internalTex3 = null),
                    this.nn && (this.nn.destroy(),
                    this.nn = void 0),
                    this.cn && (this.cn.destroy(),
                    this.cn = void 0),
                    this.material && (this.material.destroy(),
                    this.material = null)
                },
                destroy: function() {
                    this.camera = null,
                    this._destroyResources()
                }
            }),
            {
                zc: U
            }
        }()),
        Object.assign(n, (le = !1,
        be = !1,
        ve = !1,
        (me = function(t, e, i) {
            t instanceof n.zn && (t = n.Ir.getApplication(),
            le || (le = !0)),
            this.app = t,
            this.device = t.Br;
            var s = this.device;
            this.library = s.Qn(),
            this.pickColor = new Float32Array(4),
            this.pickColor[3] = 1,
            this.scene = null,
            this.drawCalls = [],
            this.layer = null,
            this.layerComp = null,
            this.clearOptions = {
                color: [1, 1, 1, 1],
                depth: 1,
                flags: n.ye | n.Me
            };
            var r = this;
            this._clearDepthOptions = {
                depth: 1,
                flags: n.Me
            },
            this.clearDepthCommand = new n.dc(0,0,function() {
                s.clear(r._clearDepthOptions)
            }
            ),
            this.resize(e, i),
            this._ignoreOpacityFor = null
        }
        ).prototype.getSelection = function(t, e, i, s) {
            var n = this.device;
            if ("object" == typeof t) {
                var r = t;
                t = r.x,
                e = r.y,
                i = r.width,
                s = r.height
            } else
                e = this.layer.renderTarget.height - (e + (s || 1));
            i = i || 1,
            s = s || 1;
            var a = n.renderTarget;
            n.ln(this.layer.renderTarget),
            n.bn();
            var h = new Uint8Array(4 * i * s);
            n.readPixels(t, e, i, s, h),
            n.mn(),
            n.ln(a);
            for (var c = [], o = this.layer.instances.visibleOpaque[0].list, u, f, d, l, b = 0; b < i * s; b++)
                if (16777215 != (l = (u = h[4 * b + 0]) << 16 | (f = h[4 * b + 1]) << 8 | (d = h[4 * b + 2]))) {
                    var v = o[l];
                    -1 === c.indexOf(v) && c.push(v)
                }
            return c
        }
        ,
        me.prototype.prepare = function(t, e, i) {
            var s = this.device, r, a, h = this;
            t instanceof n.Qh && (t = t._component),
            this.scene = e;
            var c = null, o = null, u, f, d;
            if (i instanceof n.Layer ? c = i : o = i,
            !this.layer) {
                var l = s.scope.resolve("uColor");
                this.layer = new n.Layer({
                    name: "Picker",
                    shaderPass: n.Tn,
                    opaqueSortMode: n.SORTMODE_NONE,
                    onEnable: function() {
                        if (!this.renderTarget) {
                            var t = new n.xn(s,{
                                format: n.vi,
                                width: h.width,
                                height: h.height
                            });
                            t.name = "pick",
                            t.minFilter = n.Ge,
                            t.magFilter = n.Ge,
                            t.addressU = n.Zt,
                            t.addressV = n.Zt,
                            this.renderTarget = new n.An(s,t,{
                                depth: !0
                            })
                        }
                    },
                    onDisable: function() {
                        this.renderTarget && (this.renderTarget._colorBuffer.destroy(),
                        this.renderTarget.destroy(),
                        this.renderTarget = null)
                    },
                    onDrawCall: function(t, e) {
                        h.pickColor[0] = (e >> 16 & 255) / 255,
                        h.pickColor[1] = (e >> 8 & 255) / 255,
                        h.pickColor[2] = (255 & e) / 255,
                        l.setValue(h.pickColor),
                        s.hr(!1)
                    }
                }),
                this.layerComp = new n.LayerComposition,
                this.layerComp.pushOpaque(this.layer),
                this.meshInstances = this.layer.opaqueMeshInstances,
                this._instancesVersion = -1
            }
            if (c) {
                if (this._instancesVersion !== c._version) {
                    for (this.layer.clearMeshInstances(),
                    f = (u = c.instances.opaqueMeshInstances).length,
                    a = 0; a < f; a++)
                        (d = u[a]).pick && this.meshInstances.push(d);
                    for (f = (u = c.instances.transparentMeshInstances).length,
                    a = 0; a < f; a++)
                        (d = u[a]).pick && this.meshInstances.push(d);
                    this._instancesVersion = c._version
                }
            } else {
                this.layer.clearMeshInstances();
                var b = e.layers.layerList, v = e.layers.subLayerEnabled, m = e.layers.subLayerList, g, p, w;
                for (r = 0; r < b.length; r++)
                    b[r].overrideClear && b[r]._clearDepthBuffer && (b[r]._pickerCleared = !1);
                for (r = 0; r < b.length; r++)
                    if ((g = b[r]).renderTarget === o && g.enabled && v[r] && !((p = g.cameras.indexOf(t)) < 0))
                        for (g.overrideClear && g._clearDepthBuffer && !g._pickerCleared && (this.meshInstances.push(this.clearDepthCommand),
                        g._pickerCleared = !0),
                        f = (u = (w = m[r]) ? g.instances.transparentMeshInstances : g.instances.opaqueMeshInstances).length,
                        a = 0; a < f; a++)
                            (d = u[a]).pick && this.meshInstances.push(d)
            }
            this.layer.cameras[0] !== t && (this.layer.clearCameras(),
            this.layer.addCamera(t)),
            this.onLayerPreRender(this.layer, c, o),
            this.app.renderer.renderComposition(this.layerComp),
            this.onLayerPostRender(this.layer)
        }
        ,
        me.prototype.onLayerPreRender = function(t, e, i) {
            this.width === t.renderTarget.width && this.height === t.renderTarget.height || (t.onDisable(),
            t.onEnable()),
            t.oldClear = t.cameras[0].camera._clearOptions,
            t.oldAspectMode = t.cameras[0].aspectRatioMode,
            t.oldAspect = t.cameras[0].aspectRatio,
            t.cameras[0].camera._clearOptions = this.clearOptions,
            t.cameras[0].aspectRatioMode = n.ASPECT_MANUAL;
            var s = i || (e ? e.renderTarget : null);
            t.cameras[0].aspectRatio = t.cameras[0].calculateAspectRatio(s),
            this.app.renderer.updateCameraFrustum(t.cameras[0].camera)
        }
        ,
        me.prototype.onLayerPostRender = function(t) {
            t.cameras[0].camera._clearOptions = t.oldClear,
            t.cameras[0].aspectRatioMode = t.oldAspectMode,
            t.cameras[0].aspectRatio = t.oldAspect
        }
        ,
        me.prototype.resize = function(t, e) {
            this.width = t,
            this.height = e
        }
        ,
        Object.defineProperty(me.prototype, "renderTarget", {
            get: function() {
                return this.layer.renderTarget
            }
        }),
        {
            Picker: me
        }));
        var ge = 4 / 64, pe = .875, we, xe, ze, _e, Ae, ye, Me, Se, Ce, Oe, Ee, De, Te, Pe, Be, Ie, je, Re, Le, Ne, Fe, ke, Ue, Ve, He, Ge, We, Ye, Xe, Ke, Qe, Je, qe, Ze, $e, ti, ei, ii, si, ni, ri, ai, hi, ci, oi, ui, fi, di, li, bi, vi, mi, gi, pi, wi, xi, zi, _i, Ai, yi, Mi, Si, Ci, Oi, Ei, Di, Ti, Pi, Bi, Ii, ji, Ri, Li, Ni, Fi, ki, Ui, Vi, Hi, Gi, Wi, Yi, Xi, Ki, Qi, Ji, qi, Zi, $i, ts, es, is, ss, ns, rs, as, hs, cs, os, us, fs, ds, ls, bs, vs, ms, gs, ps, ws, xs, zs, _s, As, ys, Ms, Ss, Cs, Os, Es, Ds, Ts, Ps, Bs, Is, js, Rs, Ls, Ns, Fs, ks, Us, Vs, Hs, Gs, Ws, Ys, Xs, Ks, Qs, Js, qs, Zs, $s, tn, en, sn, nn, rn, an, hn, cn, on, un, fn, dn, ln, bn, vn, mn, gn, pn, wn, xn, zn, _n, An, yn, Mn, Sn, Cn, On, En, Dn, Tn, Pn, Bn, In, jn, Rn, Ln, Nn, Fn, kn, Un, Vn, Hn, Gn, Wn, Yn, Xn, Kn, Qn, Jn, qn, Zn, $n, tr, er, ir, sr, nr, rr, ar, hr, cr, or, ur, fr, dr, lr, br, vr, mr, gr, pr, wr, xr, zr, _r, Ar, yr, Mr, Sr, Cr, Or, Er, Dr, Tr, Pr, Br, Ir, jr, Rr, Lr, Nr, Fr, kr, Ur, Vr, Hr, Gr, Wr, Yr;
        return n.Ac = function(t, e) {
            var i = e.length / 3, s = t.length / 3, r, a, h, c, o = new n.ut, u = new n.ut, f = new n.ut, d = new n.ut, l = new n.ut, b = new n.ut, v = [];
            for (c = 0; c < t.length; c++)
                v[c] = 0;
            for (c = 0; c < i; c++)
                r = e[3 * c],
                a = e[3 * c + 1],
                h = e[3 * c + 2],
                o.set(t[3 * r], t[3 * r + 1], t[3 * r + 2]),
                u.set(t[3 * a], t[3 * a + 1], t[3 * a + 2]),
                f.set(t[3 * h], t[3 * h + 1], t[3 * h + 2]),
                d.sub2(u, o),
                l.sub2(f, o),
                b.cross(d, l).normalize(),
                v[3 * r] += b.x,
                v[3 * r + 1] += b.y,
                v[3 * r + 2] += b.z,
                v[3 * a] += b.x,
                v[3 * a + 1] += b.y,
                v[3 * a + 2] += b.z,
                v[3 * h] += b.x,
                v[3 * h + 1] += b.y,
                v[3 * h + 2] += b.z;
            for (c = 0; c < s; c++) {
                var m = v[3 * c]
                  , g = v[3 * c + 1]
                  , p = v[3 * c + 2]
                  , w = 1 / Math.sqrt(m * m + g * g + p * p);
                v[3 * c] *= w,
                v[3 * c + 1] *= w,
                v[3 * c + 2] *= w
            }
            return v
        }
        ,
        n.yc = function(t, e, i, s) {
            var r = s.length / 3, a = t.length / 3, h, c, o, u, f, d, l, b, v, m, g, p, w, x, z = new n.ut, _ = new n.ut, A = new n.ut, y = new n.ut, M = new n.ut, S = new n.pt, C = new n.pt, O = new n.pt, E, D = new Float32Array(3 * a), T = new Float32Array(3 * a), P, B, I, j, R = [], L = 0;
            for (E = 0; E < r; E++)
                B = 3 * (h = s[P = 3 * E]),
                I = 3 * (c = s[P + 1]),
                j = 3 * (o = s[P + 2]),
                A.set(t[B], t[B + 1], t[B + 2]),
                y.set(t[I], t[I + 1], t[I + 2]),
                M.set(t[j], t[j + 1], t[j + 2]),
                S.set(i[2 * h], i[2 * h + 1]),
                C.set(i[2 * c], i[2 * c + 1]),
                O.set(i[2 * o], i[2 * o + 1]),
                u = y.x - A.x,
                f = M.x - A.x,
                d = y.y - A.y,
                l = M.y - A.y,
                b = y.z - A.z,
                v = M.z - A.z,
                m = C.x - S.x,
                g = O.x - S.x,
                p = C.y - S.y,
                0 == (L = m * (w = O.y - S.y) - g * p) ? (z.set(0, 1, 0),
                _.set(1, 0, 0)) : (x = 1 / L,
                z.set((w * u - p * f) * x, (w * d - p * l) * x, (w * b - p * v) * x),
                _.set((m * f - g * u) * x, (m * l - g * d) * x, (m * v - g * b) * x)),
                D[B + 0] += z.x,
                D[B + 1] += z.y,
                D[B + 2] += z.z,
                D[I + 0] += z.x,
                D[I + 1] += z.y,
                D[I + 2] += z.z,
                D[j + 0] += z.x,
                D[j + 1] += z.y,
                D[j + 2] += z.z,
                T[B + 0] += _.x,
                T[B + 1] += _.y,
                T[B + 2] += _.z,
                T[I + 0] += _.x,
                T[I + 1] += _.y,
                T[I + 2] += _.z,
                T[j + 0] += _.x,
                T[j + 1] += _.y,
                T[j + 2] += _.z;
            p = new n.ut,
            w = new n.ut;
            var N = new n.ut
              , F = new n.ut;
            for (E = 0; E < a; E++) {
                P = 3 * E,
                B = 4 * E,
                N.set(e[P], e[P + 1], e[P + 2]),
                p.set(D[P], D[P + 1], D[P + 2]),
                w.set(T[P], T[P + 1], T[P + 2]);
                var k = N.dot(p);
                F.copy(N).scale(k),
                F.sub2(p, F).normalize(),
                R[B] = F.x,
                R[B + 1] = F.y,
                R[B + 2] = F.z,
                F.cross(N, p),
                R[B + 3] = F.dot(w) < 0 ? -1 : 1
            }
            return R
        }
        ,
        n.Mc = function(t, e, i) {
            var s = i && void 0 !== i.normals ? i.normals : null
              , r = i && void 0 !== i.tangents ? i.tangents : null
              , a = i && void 0 !== i.colors ? i.colors : null
              , h = i && void 0 !== i.uvs ? i.uvs : null
              , c = i && void 0 !== i.uvs1 ? i.uvs1 : null
              , o = i && void 0 !== i.indices ? i.indices : null
              , u = i && void 0 !== i.blendIndices ? i.blendIndices : null
              , f = i && void 0 !== i.blendWeights ? i.blendWeights : null
              , d = [{
                semantic: n.Yi,
                components: 3,
                type: n.He
            }];
            null !== s && d.push({
                semantic: n.Xi,
                components: 3,
                type: n.He
            }),
            null !== r && d.push({
                semantic: n.Ki,
                components: 4,
                type: n.He
            }),
            null !== a && d.push({
                semantic: n.qi,
                components: 4,
                type: n.Ne,
                normalize: !0
            }),
            null !== h && d.push({
                semantic: n.SEMANTIC_TEXCOORD0,
                components: 2,
                type: n.He
            }),
            null !== c && d.push({
                semantic: n.SEMANTIC_TEXCOORD1,
                components: 2,
                type: n.He
            }),
            null !== u && d.push({
                semantic: n.Ji,
                components: 2,
                type: n.Ne
            }),
            null !== f && d.push({
                semantic: n.Qi,
                components: 2,
                type: n.He
            });
            for (var l = new n.an(t,d), b = e.length / 3, v = new n.hn(t,l,b), m = new n.rn(v), g = 0; g < b; g++)
                m.element[n.Yi].set(e[3 * g], e[3 * g + 1], e[3 * g + 2]),
                null !== s && m.element[n.Xi].set(s[3 * g], s[3 * g + 1], s[3 * g + 2]),
                null !== r && m.element[n.Ki].set(r[4 * g], r[4 * g + 1], r[4 * g + 2], r[4 * g + 3]),
                null !== a && m.element[n.qi].set(a[4 * g], a[4 * g + 1], a[4 * g + 2], a[4 * g + 3]),
                null !== h && m.element[n.SEMANTIC_TEXCOORD0].set(h[2 * g], h[2 * g + 1]),
                null !== c && m.element[n.SEMANTIC_TEXCOORD1].set(c[2 * g], c[2 * g + 1]),
                null !== u && m.element[n.Ji].set(u[2 * g], u[2 * g + 1]),
                null !== f && m.element[n.Qi].set(f[2 * g], f[2 * g + 1]),
                m.next();
            m.end();
            var p = null, w = null !== o, x;
            w && (p = new n.un(t,n.ai,o.length),
            new Uint16Array(p.lock()).set(o),
            p.unlock());
            var z = new n.jt;
            z.compute(e);
            var _ = new n.Mesh;
            return _.nn = v,
            _.cn[0] = p,
            _.Zh[0].type = n.Hi,
            _.Zh[0].base = 0,
            _.Zh[0].count = w ? o.length : b,
            _.Zh[0].indexed = w,
            _.aabb = z,
            _
        }
        ,
        n.Sc = function(t, e) {
            var i = e && void 0 !== e.tubeRadius ? e.tubeRadius : .2, s = e && void 0 !== e.ringRadius ? e.ringRadius : .3, r = e && void 0 !== e.segments ? e.segments : 30, a = e && void 0 !== e.sides ? e.sides : 20, h = !(!e || void 0 === e.yc) && e.yc, c, o, u, f, d, l, b, v, m, g, p = [], w = [], x = [], z = [];
            for (c = 0; c <= a; c++)
                for (o = 0; o <= r; o++) {
                    var _, A, y, M;
                    if (u = Math.cos(2 * Math.PI * o / r) * (s + i * Math.cos(2 * Math.PI * c / a)),
                    f = Math.sin(2 * Math.PI * c / a) * i,
                    d = Math.sin(2 * Math.PI * o / r) * (s + i * Math.cos(2 * Math.PI * c / a)),
                    l = Math.cos(2 * Math.PI * o / r) * Math.cos(2 * Math.PI * c / a),
                    b = Math.sin(2 * Math.PI * c / a),
                    v = Math.sin(2 * Math.PI * o / r) * Math.cos(2 * Math.PI * c / a),
                    m = c / a,
                    g = 1 - o / r,
                    p.push(u, f, d),
                    w.push(l, b, v),
                    x.push(m, g),
                    c < a && o < r)
                        _ = c * (r + 1) + o,
                        A = (c + 1) * (r + 1) + o,
                        y = c * (r + 1) + (o + 1),
                        M = (c + 1) * (r + 1) + (o + 1),
                        z.push(_, A, y),
                        z.push(A, M, y)
                }
            var S = {
                normals: w,
                uvs: x,
                indices: z
            };
            return h && (S.tangents = n.yc(p, w, x, z)),
            n.Mc(t, p, S)
        }
        ,
        n.Cc = function(t, e, i, s, r, a) {
            var h, c, o, u, f, d, l, b = new n.ut, v = new n.ut, m = new n.ut, g, p, w, x = [], z = [], _ = [], A = [], y = [], M, S, C, O, E, D, T, P, B, I, j;
            if (i > 0)
                for (h = 0; h <= s; h++)
                    for (c = 0; c <= r; c++) {
                        M = c / r * 2 * Math.PI - Math.PI,
                        C = Math.sin(M),
                        S = Math.cos(M),
                        p = new n.ut(C * t,-i / 2,S * t),
                        g = new n.ut(C * e,i / 2,S * e),
                        b.st(p, g, h / s),
                        v.sub2(g, p).normalize(),
                        w = new n.ut(S,0,-C),
                        m.cross(w, v).normalize(),
                        x.push(b.x, b.y, b.z),
                        z.push(m.x, m.y, m.z),
                        d = c / r,
                        l = h / s,
                        _.push(d, l);
                        var R = l;
                        l = d,
                        d = R,
                        d = .875 * (d /= 3) + 4 / 64,
                        l = .875 * l + 4 / 64,
                        A.push(d, l),
                        h < s && c < r && (T = h * (r + 1) + c,
                        P = h * (r + 1) + (c + 1),
                        B = (h + 1) * (r + 1) + c,
                        I = (h + 1) * (r + 1) + (c + 1),
                        y.push(T, P, B),
                        y.push(P, I, B))
                    }
            if (a) {
                var L, N, F = Math.floor(r / 2), k = r, U = i / 2;
                for (L = 0; L <= F; L++)
                    for (M = L * Math.PI * .5 / F,
                    C = Math.sin(M),
                    S = Math.cos(M),
                    N = 0; N <= k; N++)
                        O = 2 * N * Math.PI / k - Math.PI / 2,
                        E = Math.sin(O),
                        o = (D = Math.cos(O)) * C,
                        u = S,
                        f = E * C,
                        d = 1 - N / k,
                        l = 1 - L / F,
                        x.push(o * e, u * e + U, f * e),
                        z.push(o, u, f),
                        _.push(d, l),
                        d = .875 * (d /= 3) + 4 / 64,
                        l = .875 * (l /= 3) + 4 / 64,
                        d += 1 / 3,
                        A.push(d, l);
                for (j = (s + 1) * (r + 1),
                L = 0; L < F; ++L)
                    for (N = 0; N < k; ++N)
                        P = (T = L * (k + 1) + N) + k + 1,
                        y.push(j + T + 1, j + P, j + T),
                        y.push(j + T + 1, j + P + 1, j + P);
                for (L = 0; L <= F; L++)
                    for (M = .5 * Math.PI + L * Math.PI * .5 / F,
                    C = Math.sin(M),
                    S = Math.cos(M),
                    N = 0; N <= k; N++)
                        O = 2 * N * Math.PI / k - Math.PI / 2,
                        E = Math.sin(O),
                        o = (D = Math.cos(O)) * C,
                        u = S,
                        f = E * C,
                        d = 1 - N / k,
                        l = 1 - L / F,
                        x.push(o * e, u * e - U, f * e),
                        z.push(o, u, f),
                        _.push(d, l),
                        d = .875 * (d /= 3) + 4 / 64,
                        l = .875 * (l /= 3) + 4 / 64,
                        d += 2 / 3,
                        A.push(d, l);
                for (j = (s + 1) * (r + 1) + (k + 1) * (F + 1),
                L = 0; L < F; ++L)
                    for (N = 0; N < k; ++N)
                        P = (T = L * (k + 1) + N) + k + 1,
                        y.push(j + T + 1, j + P, j + T),
                        y.push(j + T + 1, j + P + 1, j + P)
            } else {
                if (j = (s + 1) * (r + 1),
                t > 0)
                    for (h = 0; h < r; h++)
                        M = h / r * 2 * Math.PI,
                        u = -i / 2,
                        d = 1 - ((o = Math.sin(M)) + 1) / 2,
                        l = ((f = Math.cos(M)) + 1) / 2,
                        x.push(o * t, u, f * t),
                        z.push(0, -1, 0),
                        _.push(d, l),
                        d = .875 * (d /= 3) + 4 / 64,
                        l = .875 * (l /= 3) + 4 / 64,
                        d += 1 / 3,
                        A.push(d, l),
                        h > 1 && y.push(j, j + h, j + h - 1);
                if (j += r,
                e > 0)
                    for (h = 0; h < r; h++)
                        M = h / r * 2 * Math.PI,
                        u = i / 2,
                        d = 1 - ((o = Math.sin(M)) + 1) / 2,
                        l = ((f = Math.cos(M)) + 1) / 2,
                        x.push(o * e, u, f * e),
                        z.push(0, 1, 0),
                        _.push(d, l),
                        d = .875 * (d /= 3) + 4 / 64,
                        l = .875 * (l /= 3) + 4 / 64,
                        d += 2 / 3,
                        A.push(d, l),
                        h > 1 && y.push(j, j + h - 1, j + h)
            }
            return {
                positions: x,
                normals: z,
                uvs: _,
                uvs1: A,
                indices: y
            }
        }
        ,
        n.Oc = function(t, e) {
            var i = e && (e.radius || e.baseRadius);
            i = void 0 !== i ? i : .5;
            var s = e && void 0 !== e.height ? e.height : 1
              , r = e && void 0 !== e.heightSegments ? e.heightSegments : 5
              , a = e && void 0 !== e.capSegments ? e.capSegments : 20
              , h = !(!e || void 0 === e.yc) && e.yc
              , c = n.Cc(i, i, s, r, a, !1);
            return h && (c.tangents = n.yc(c.positions, c.normals, c.uvs, c.indices)),
            n.Mc(t, c.positions, c)
        }
        ,
        n.Ec = function(t, e) {
            var i = e && void 0 !== e.radius ? e.radius : .3
              , s = e && void 0 !== e.height ? e.height : 1
              , r = e && void 0 !== e.heightSegments ? e.heightSegments : 1
              , a = e && void 0 !== e.sides ? e.sides : 20
              , h = !(!e || void 0 === e.yc) && e.yc
              , c = n.Cc(i, i, s - 2 * i, r, a, !0);
            return h && (c.tangents = n.yc(c.positions, c.normals, c.uvs, c.indices)),
            n.Mc(t, c.positions, c)
        }
        ,
        n.Dc = function(t, e) {
            var i = e && void 0 !== e.baseRadius ? e.baseRadius : .5
              , s = e && void 0 !== e.peakRadius ? e.peakRadius : 0
              , r = e && void 0 !== e.height ? e.height : 1
              , a = e && void 0 !== e.heightSegments ? e.heightSegments : 5
              , h = e && void 0 !== e.capSegments ? e.capSegments : 18
              , c = !(!e || void 0 === e.yc) && e.yc
              , o = n.Cc(i, s, r, a, h, !1);
            return c && (o.tangents = n.yc(o.positions, o.normals, o.uvs, o.indices)),
            n.Mc(t, o.positions, o)
        }
        ,
        n.Tc = function(t, e) {
            var i = e && void 0 !== e.radius ? e.radius : .5, s = e && void 0 !== e.latitudeBands ? e.latitudeBands : 16, r = e && void 0 !== e.longitudeBands ? e.longitudeBands : 16, a = !(!e || void 0 === e.yc) && e.yc, h, c, o, u, f, d, l, b, v, m, g, p, w, x, z, _ = [], A = [], y = [], M = [];
            for (c = 0; c <= s; c++)
                for (o = c * Math.PI / s,
                u = Math.sin(o),
                f = Math.cos(o),
                h = 0; h <= r; h++)
                    d = 2 * h * Math.PI / r - Math.PI / 2,
                    l = Math.sin(d),
                    g = (b = Math.cos(d)) * u,
                    p = f,
                    w = l * u,
                    x = 1 - h / r,
                    z = 1 - c / s,
                    _.push(g * i, p * i, w * i),
                    A.push(g, p, w),
                    y.push(x, z);
            for (c = 0; c < s; ++c)
                for (h = 0; h < r; ++h)
                    m = (v = c * (r + 1) + h) + r + 1,
                    M.push(v + 1, m, v),
                    M.push(v + 1, m + 1, m);
            var S = {
                normals: A,
                uvs: y,
                uvs1: y,
                indices: M
            };
            return a && (S.tangents = n.yc(_, A, y, M)),
            n.Mc(t, _, S)
        }
        ,
        n.Pc = function(t, e) {
            var i = e && void 0 !== e.halfExtents ? e.halfExtents : new n.pt(.5,.5), s = e && void 0 !== e.widthSegments ? e.widthSegments : 5, r = e && void 0 !== e.lengthSegments ? e.lengthSegments : 5, a = !(!e || void 0 === e.yc) && e.yc, h, c, o, u, f, d, l, b = [], v = [], m = [], g = [], p = 0;
            for (h = 0; h <= s; h++)
                for (c = 0; c <= r; c++)
                    o = -i.x + 2 * i.x * h / s,
                    u = 0,
                    f = -(-i.y + 2 * i.y * c / r),
                    d = h / s,
                    l = c / r,
                    b.push(o, 0, f),
                    v.push(0, 1, 0),
                    m.push(d, l),
                    h < s && c < r && (g.push(p + r + 1, p + 1, p),
                    g.push(p + r + 1, p + r + 2, p + 1)),
                    p++;
            var w = {
                normals: v,
                uvs: m,
                uvs1: m,
                indices: g
            };
            return a && (w.tangents = n.yc(b, v, m, g)),
            n.Mc(t, b, w)
        }
        ,
        n.Wh = function(t, e) {
            var i = e && void 0 !== e.halfExtents ? e.halfExtents : new n.ut(.5,.5,.5), s = e && void 0 !== e.widthSegments ? e.widthSegments : 1, r = e && void 0 !== e.lengthSegments ? e.lengthSegments : 1, a = e && void 0 !== e.heightSegments ? e.heightSegments : 1, h = !(!e || void 0 === e.yc) && e.yc, c = [new n.ut(-i.x,-i.y,i.z), new n.ut(i.x,-i.y,i.z), new n.ut(i.x,i.y,i.z), new n.ut(-i.x,i.y,i.z), new n.ut(i.x,-i.y,-i.z), new n.ut(-i.x,-i.y,-i.z), new n.ut(-i.x,i.y,-i.z), new n.ut(i.x,i.y,-i.z)], o = [[0, 1, 3], [4, 5, 7], [3, 2, 6], [1, 0, 4], [1, 4, 2], [5, 0, 6]], u = [[0, 0, 1], [0, 0, -1], [0, 1, 0], [0, -1, 0], [1, 0, 0], [-1, 0, 0]], f, d = 1, l = 2, b = 3, v = 4, m = 5, g = [], p = [], w = [], x = [], z = [], _ = 0, A = function(t, e, i) {
                var s, r, a, h;
                for (a = 0; a <= e; a++)
                    for (h = 0; h <= i; h++) {
                        var f = new n.ut
                          , d = new n.ut
                          , l = new n.ut
                          , b = new n.ut;
                        f.st(c[o[t][0]], c[o[t][1]], a / e),
                        d.st(c[o[t][0]], c[o[t][2]], h / i),
                        l.sub2(d, c[o[t][0]]),
                        b.add2(f, l),
                        s = a / e,
                        r = h / i,
                        g.push(b.x, b.y, b.z),
                        p.push(u[t][0], u[t][1], u[t][2]),
                        w.push(s, r),
                        s = .875 * (s /= 3) + 4 / 64,
                        r = .875 * (r /= 3) + 4 / 64,
                        s += t % 3 / 3,
                        r += Math.floor(t / 3) / 3,
                        x.push(s, r),
                        a < e && h < i && (z.push(_ + i + 1, _ + 1, _),
                        z.push(_ + i + 1, _ + i + 2, _ + 1)),
                        _++
                    }
            };
            A(0, s, a),
            A(d, s, a),
            A(l, s, r),
            A(b, s, r),
            A(v, r, a),
            A(m, r, a);
            var y = {
                normals: p,
                uvs: w,
                uvs1: x,
                indices: z
            };
            return h && (y.tangents = n.yc(g, p, w, z)),
            n.Mc(t, g, y)
        }
        ,
        n.getDefaultMaterial = function() {
            return n.Ir.getApplication().scene.defaultMaterial
        }
        ,
        Object.assign(n, function() {
            var t, e, i, s;
            function r(t, e) {
                return t.drawOrder - e.drawOrder
            }
            function a(i, s) {
                return t = i._key[n.Eh],
                e = s._key[n.Eh],
                t === e && i.mesh && s.mesh ? s.mesh.id - i.mesh.id : e - t
            }
            function h(t, e) {
                return e.zdist - t.zdist
            }
            function c(t, e) {
                return t.zdist - e.zdist
            }
            var o = [null, r, a, h, c];
            function u(t, e) {
                return t.priority - e.priority
            }
            function f(t, e) {
                return e.key - t.key
            }
            var d = 0
              , l = function() {
                this.list = [],
                this.length = 0,
                this.done = !1
            }
              , b = function() {
                this.opaqueMeshInstances = [],
                this.transparentMeshInstances = [],
                this.shadowCasters = [],
                this.visibleOpaque = [],
                this.visibleTransparent = []
            };
            b.prototype.clearVisibleLists = function(t) {
                this.visibleOpaque[t] && (this.visibleOpaque[t].length = 0,
                this.visibleOpaque[t].list.length = 0),
                this.visibleTransparent[t] && (this.visibleTransparent[t].length = 0,
                this.visibleTransparent[t].list.length = 0)
            }
            ;
            var v = function(t) {
                void 0 !== (t = t || {}).id ? (this.id = t.id,
                d = Math.max(this.id + 1, d)) : this.id = d++,
                this.name = t.name,
                this._enabled = void 0 === t.enabled || t.enabled,
                this._refCounter = this._enabled ? 1 : 0,
                this.opaqueSortMode = void 0 === t.opaqueSortMode ? n.SORTMODE_MATERIALMESH : t.opaqueSortMode,
                this.transparentSortMode = void 0 === t.transparentSortMode ? n.SORTMODE_BACK2FRONT : t.transparentSortMode,
                this.renderTarget = t.renderTarget,
                this.shaderPass = void 0 === t.shaderPass ? n.Cn : t.shaderPass,
                this.passThrough = void 0 !== t.passThrough && t.passThrough,
                this.overrideClear = void 0 !== t.overrideClear && t.overrideClear,
                this._clearColor = new n.D(0,0,0,1),
                t.clearColor && this._clearColor.copy(t.clearColor),
                this._clearColorBuffer = void 0 !== t.clearColorBuffer && t.clearColorBuffer,
                this._clearDepthBuffer = void 0 !== t.clearDepthBuffer && t.clearDepthBuffer,
                this._clearStencilBuffer = void 0 !== t.clearStencilBuffer && t.clearStencilBuffer,
                this._clearOptions = {
                    color: [this._clearColor.r, this._clearColor.g, this._clearColor.b, this._clearColor.a],
                    depth: 1,
                    stencil: 0,
                    flags: (this._clearColorBuffer ? n.ye : 0) | (this._clearDepthBuffer ? n.Me : 0) | (this._clearStencilBuffer ? n.Se : 0)
                },
                this.onPreCull = t.onPreCull,
                this.onPreRender = t.onPreRender,
                this.onPreRenderOpaque = t.onPreRenderOpaque,
                this.onPreRenderTransparent = t.onPreRenderTransparent,
                this.onPostCull = t.onPostCull,
                this.onPostRender = t.onPostRender,
                this.onPostRenderOpaque = t.onPostRenderOpaque,
                this.onPostRenderTransparent = t.onPostRenderTransparent,
                this.onDrawCall = t.onDrawCall,
                this.onEnable = t.onEnable,
                this.onDisable = t.onDisable,
                this._enabled && this.onEnable && this.onEnable(),
                this.layerReference = t.layerReference,
                this.instances = t.layerReference ? t.layerReference.instances : new b,
                this.cullingMask = t.cullingMask ? t.cullingMask : 4294967295,
                this.opaqueMeshInstances = this.instances.opaqueMeshInstances,
                this.transparentMeshInstances = this.instances.transparentMeshInstances,
                this.shadowCasters = this.instances.shadowCasters,
                this.customSortCallback = null,
                this.customCalculateSortValues = null,
                this._lightComponents = [],
                this._lights = [],
                this._sortedLights = [[], [], []],
                this.cameras = [],
                this._dirty = !1,
                this._dirtyLights = !1,
                this._dirtyCameras = !1,
                this._cameraHash = 0,
                this._lightHash = 0,
                this._staticLightHash = 0,
                this._needsStaticPrepare = !0,
                this._staticPrepareDone = !1,
                this._shaderVersion = -1,
                this._version = 0,
                this._lightCube = null
            };
            return Object.defineProperty(v.prototype, "enabled", {
                get: function() {
                    return this._enabled
                },
                set: function(t) {
                    t !== this._enabled && (this._enabled = t,
                    t ? (this.incrementCounter(),
                    this.onEnable && this.onEnable()) : (this.decrementCounter(),
                    this.onDisable && this.onDisable()))
                }
            }),
            Object.defineProperty(v.prototype, "clearColor", {
                get: function() {
                    return this._clearColor
                },
                set: function(t) {
                    this._clearColor.copy(t)
                }
            }),
            v.prototype._updateClearFlags = function() {
                var t = 0;
                this._clearColorBuffer && (t |= n.ye),
                this._clearDepthBuffer && (t |= n.Me),
                this._clearStencilBuffer && (t |= n.Se),
                this._clearOptions.flags = t
            }
            ,
            Object.defineProperty(v.prototype, "clearColorBuffer", {
                get: function() {
                    return this._clearColorBuffer
                },
                set: function(t) {
                    this._clearColorBuffer = t,
                    this._updateClearFlags()
                }
            }),
            Object.defineProperty(v.prototype, "clearDepthBuffer", {
                get: function() {
                    return this._clearDepthBuffer
                },
                set: function(t) {
                    this._clearDepthBuffer = t,
                    this._updateClearFlags()
                }
            }),
            Object.defineProperty(v.prototype, "clearStencilBuffer", {
                get: function() {
                    return this._clearStencilBuffer
                },
                set: function(t) {
                    this._clearStencilBuffer = t,
                    this._updateClearFlags()
                }
            }),
            v.prototype.incrementCounter = function() {
                0 === this._refCounter && (this._enabled = !0,
                this.onEnable && this.onEnable()),
                this._refCounter++
            }
            ,
            v.prototype.decrementCounter = function() {
                if (1 === this._refCounter)
                    this._enabled = !1,
                    this.onDisable && this.onDisable();
                else if (0 === this._refCounter)
                    return;
                this._refCounter--
            }
            ,
            v.prototype.addMeshInstances = function(t, e) {
                for (var i = this._shaderVersion, s, r, a, h = this.shadowCasters, c = 0; c < t.length; c++)
                    (r = (a = (s = t[c]).material).blendType === n.va ? this.opaqueMeshInstances : this.transparentMeshInstances).indexOf(s) < 0 && r.push(s),
                    !e && s.castShadow && h.indexOf(s) < 0 && h.push(s),
                    !this.passThrough && i >= 0 && a._shaderVersion !== i && (a.Hh !== n.Vh.prototype.Hh && (a.clearVariants(),
                    a.shader = null),
                    a._shaderVersion = i);
                this.passThrough || (this._dirty = !0)
            }
            ,
            v.prototype.removeMeshInstances = function(t, e) {
                var i, s, n, r, a, h, c, o = this.opaqueMeshInstances, u = this.transparentMeshInstances, f = this.shadowCasters;
                for (i = 0; i < t.length; i++) {
                    for (n = t[i],
                    r = -1,
                    a = 0,
                    h = o.length,
                    s = 0; s < h; s++) {
                        if ((c = o[s]) === n) {
                            r = s,
                            a = 1;
                            break
                        }
                        if (c._staticSource === n)
                            r < 0 && (r = s),
                            a++;
                        else if (r >= 0)
                            break
                    }
                    for (r >= 0 && o.splice(r, a),
                    r = -1,
                    a = 0,
                    h = u.length,
                    s = 0; s < h; s++) {
                        if ((c = u[s]) === n) {
                            r = s,
                            a = 1;
                            break
                        }
                        if (c._staticSource === n)
                            r < 0 && (r = s),
                            a++;
                        else if (r >= 0)
                            break
                    }
                    r >= 0 && u.splice(r, a),
                    e || (s = f.indexOf(n)) >= 0 && f.splice(s, 1)
                }
                this._dirty = !0
            }
            ,
            v.prototype.clearMeshInstances = function(t) {
                (0 !== this.opaqueMeshInstances.length || 0 !== this.transparentMeshInstances.length || !t && 0 !== this.shadowCasters.length) && (this.opaqueMeshInstances.length = 0,
                this.transparentMeshInstances.length = 0,
                t || (this.shadowCasters.length = 0),
                this.passThrough || (this._dirty = !0))
            }
            ,
            v.prototype.addLight = function(t) {
                this._lightComponents.indexOf(t) >= 0 || (this._lightComponents.push(t),
                this._lights.push(t.light),
                this._dirtyLights = !0,
                this._generateLightHash())
            }
            ,
            v.prototype.removeLight = function(t) {
                var e = this._lightComponents.indexOf(t);
                e < 0 || (this._lightComponents.splice(e, 1),
                e = this._lights.indexOf(t.light),
                this._lights.splice(e, 1),
                this._dirtyLights = !0,
                this._generateLightHash())
            }
            ,
            v.prototype.clearLights = function() {
                this._lightComponents.length = 0,
                this._lights.length = 0,
                this._dirtyLights = !0
            }
            ,
            v.prototype.addShadowCasters = function(t) {
                for (var e, i = this.shadowCasters, s = 0; s < t.length; s++)
                    (e = t[s]).castShadow && i.indexOf(e) < 0 && i.push(e);
                this._dirtyLights = !0
            }
            ,
            v.prototype.removeShadowCasters = function(t) {
                for (var e, i = this.shadowCasters, s = 0; s < t.length; s++)
                    (e = i.indexOf(t[s])) >= 0 && i.splice(e, 1);
                this._dirtyLights = !0
            }
            ,
            v.prototype._generateLightHash = function() {
                if (this._lights.length > 0) {
                    this._lights.sort(f);
                    for (var t = "", e = "", i = 0; i < this._lights.length; i++)
                        this._lights[i].isStatic ? e += this._lights[i].key : t += this._lights[i].key;
                    0 === t.length ? this._lightHash = 0 : this._lightHash = n.hashCode(t),
                    0 === e.length ? this._staticLightHash = 0 : this._staticLightHash = n.hashCode(e)
                } else
                    this._lightHash = 0,
                    this._staticLightHash = 0
            }
            ,
            v.prototype._generateCameraHash = function() {
                if (this.cameras.length > 1) {
                    this.cameras.sort(u);
                    for (var t = "", e = 0; e < this.cameras.length; e++)
                        t += this.cameras[e].Bc.getGuid();
                    this._cameraHash = n.hashCode(t)
                } else
                    this._cameraHash = 0;
                this._dirtyCameras = !0
            }
            ,
            v.prototype.addCamera = function(t) {
                this.cameras.indexOf(t) >= 0 || (this.cameras.push(t),
                this._generateCameraHash())
            }
            ,
            v.prototype.removeCamera = function(t) {
                var e = this.cameras.indexOf(t);
                e < 0 || (this.cameras.splice(e, 1),
                this._generateCameraHash(),
                this.instances.clearVisibleLists(e))
            }
            ,
            v.prototype.clearCameras = function() {
                this.cameras.length = 0,
                this._cameraHash = 0,
                this._dirtyCameras = !0
            }
            ,
            v.prototype._sortCameras = function() {
                this._generateCameraHash()
            }
            ,
            v.prototype.Ic = function(t, e, i, s) {
                var r, a, h, c, o, u;
                for (r = 0; r < e; r++)
                    (a = t[r]).command || a.layer <= n.Na || (c = (h = a.aabb.center).x - i.x,
                    o = h.y - i.y,
                    u = h.z - i.z,
                    a.zdist = c * s.x + o * s.y + u * s.z)
            }
            ,
            v.prototype._sortVisible = function(t, e, r) {
                var a = this.instances
                  , h = t ? this.transparentSortMode : this.opaqueSortMode;
                if (h !== n.SORTMODE_NONE) {
                    var c = t ? a.visibleTransparent[r] : a.visibleOpaque[r];
                    h === n.SORTMODE_CUSTOM ? (i = e.getPosition(),
                    s = e.forward,
                    this.customCalculateSortValues && this.customCalculateSortValues(c.list, c.length, i, s),
                    c.list.length !== c.length && (c.list.length = c.length),
                    this.customSortCallback && c.list.sort(this.customSortCallback)) : (h !== n.SORTMODE_BACK2FRONT && h !== n.SORTMODE_FRONT2BACK || (i = e.getPosition(),
                    s = e.forward,
                    this.Ic(c.list, c.length, i, s)),
                    c.list.length !== c.length && (c.list.length = c.length),
                    c.list.sort(o[h]))
                }
            }
            ,
            {
                Layer: v,
                InstanceList: b,
                VisibleInstanceList: l
            }
        }()),
        Object.assign(n, ((we = function() {
            this.layerList = [],
            this.subLayerList = [],
            this.subLayerEnabled = [],
            this._opaqueOrder = {},
            this._transparentOrder = {},
            this._dirty = !1,
            this._dirtyBlend = !1,
            this._dirtyLights = !1,
            this._dirtyCameras = !1,
            this._meshInstances = [],
            this._lights = [],
            this.cameras = [],
            this._sortedLights = [[], [], []],
            this._lightShadowCasters = [],
            this._globalLightCameras = [],
            this._globalLightCameraIds = [],
            this._renderedRt = [],
            this._renderedByCam = [],
            this._renderedLayer = [],
            this._renderList = [],
            this._renderListCamera = [],
            n.K.attach(this)
        }
        ).prototype._sortLights = function(t) {
            var e, i = t._lights;
            t._sortedLights[n.ca].length = 0,
            t._sortedLights[n.da].length = 0,
            t._sortedLights[n.sa].length = 0;
            for (var s = 0; s < i.length; s++)
                (e = i[s])._enabled && t._sortedLights[e._type].push(e)
        }
        ,
        we.prototype._update = function() {
            var t, e, i, s, r, a = this.layerList.length, h = 0, c, o, u, f, d, l;
            if (!this._dirty || !this._dirtyLights || !this._dirtyCameras)
                for (t = 0; t < a; t++)
                    (r = this.layerList[t])._dirty && (this._dirty = !0),
                    r._dirtyLights && (this._dirtyLights = !0),
                    r._dirtyCameras && (this._dirtyCameras = !0);
            if (this._dirty) {
                var b;
                for (h |= n.COMPUPDATED_INSTANCES,
                this._meshInstances.length = 0,
                t = 0; t < a; t++)
                    if (!(r = this.layerList[t]).passThrough) {
                        for (c = r.opaqueMeshInstances,
                        e = 0; e < c.length; e++)
                            b = c[e],
                            this._meshInstances.indexOf(b) < 0 && (this._meshInstances.push(b),
                            b.material && b.material._dirtyBlend && (this._dirtyBlend = !0,
                            b.material._dirtyBlend = !1));
                        for (c = r.transparentMeshInstances,
                        e = 0; e < c.length; e++)
                            b = c[e],
                            this._meshInstances.indexOf(b) < 0 && (this._meshInstances.push(b),
                            b.material && b.material._dirtyBlend && (this._dirtyBlend = !0,
                            b.material._dirtyBlend = !1))
                    }
                for (t = 0; t < a; t++)
                    this.layerList[t]._dirty = !1,
                    this.layerList[t]._version++
            }
            if (this._dirtyBlend) {
                var v, m, g, p;
                for (h |= n.COMPUPDATED_BLEND,
                t = 0; t < a; t++)
                    if (!(r = this.layerList[t]).passThrough) {
                        for (v = r.opaqueMeshInstances,
                        m = r.transparentMeshInstances,
                        g = [],
                        p = [],
                        e = 0; e < v.length; e++)
                            v[e].material && v[e].material.blendType !== n.va ? p.push(v[e]) : g.push(v[e]);
                        for (e = 0; e < m.length; e++)
                            m[e].material && m[e].material.blendType !== n.va ? p.push(m[e]) : g.push(m[e]);
                        for (r.opaqueMeshInstances.length = g.length,
                        e = 0; e < g.length; e++)
                            r.opaqueMeshInstances[e] = g[e];
                        for (r.transparentMeshInstances.length = p.length,
                        e = 0; e < p.length; e++)
                            r.transparentMeshInstances[e] = p[e]
                    }
                this._dirtyBlend = !1
            }
            if (this._dirty = !1,
            this._dirtyLights)
                for (h |= n.COMPUPDATED_LIGHTS,
                this._lights.length = 0,
                this._lightShadowCasters.length = 0,
                t = 0; t < a; t++)
                    for (c = (r = this.layerList[t])._lights,
                    e = 0; e < c.length; e++)
                        f = c[e],
                        (u = this._lights.indexOf(f)) < 0 && (this._lights.push(f),
                        u = this._lights.length - 1),
                        (o = this._lightShadowCasters[u]) || (this._lightShadowCasters[u] = o = []);
            if (this._dirtyLights)
                for (this._sortLights(this),
                this._dirtyLights = !1,
                t = 0; t < a; t++)
                    r = this.layerList[t],
                    this._sortLights(r),
                    r._dirtyLights = !1;
            if (h)
                for (t = 0; t < a; t++)
                    for (c = (r = this.layerList[t])._lights,
                    e = 0; e < c.length; e++) {
                        f = c[e],
                        u = this._lights.indexOf(f),
                        o = this._lightShadowCasters[u];
                        var w = r.shadowCasters;
                        for (i = 0; i < o.length; )
                            this._meshInstances.indexOf(o[i]) < 0 ? (o[i] = o[o.length - 1],
                            o.length -= 1) : i++;
                        for (i = 0; i < w.length; i++)
                            o.indexOf(w[i]) < 0 && o.push(w[i])
                    }
            if (h & n.COMPUPDATED_LIGHTS || this._dirtyCameras) {
                this._globalLightCameras.length = 0;
                var x = this._sortedLights[n.ca];
                for (s = 0; s < x.length; s++)
                    for (f = x[s],
                    this._globalLightCameras[s] = [],
                    t = 0; t < a; t++)
                        if (!((r = this.layerList[t])._sortedLights[n.ca].indexOf(f) < 0))
                            for (i = 0; i < r.cameras.length; i++)
                                this._globalLightCameras[s].indexOf(r.cameras[i]) >= 0 || this._globalLightCameras[s].push(r.cameras[i])
            }
            if (this._dirtyCameras) {
                for (h |= n.COMPUPDATED_CAMERAS,
                this.cameras.length = 0,
                t = 0; t < a; t++)
                    for (r = this.layerList[t],
                    e = 0; e < r.cameras.length; e++)
                        d = r.cameras[e],
                        (l = this.cameras.indexOf(d)) < 0 && (l = this.cameras.length,
                        this.cameras.push(d));
                var z, _, A, y;
                this._renderList.length = 0,
                this._renderListCamera.length = 0;
                var M = 0;
                for (t = 0; t < a; t++)
                    if (M)
                        M--;
                    else if (0 !== (r = this.layerList[t]).cameras.length || r.isPostEffect)
                        if (0 === (z = r._cameraHash))
                            this._renderList.push(t),
                            this._renderListCamera.push(0);
                        else {
                            for (A = 1,
                            e = t + 1; e < a; e++) {
                                if (z !== (_ = this.layerList[e]._cameraHash)) {
                                    A = e - t - 1;
                                    break
                                }
                                e === a - 1 && (A = e - t)
                            }
                            if (1 === A)
                                for (y = 0; y < r.cameras.length; y++)
                                    this._renderList.push(t),
                                    this._renderListCamera.push(y);
                            else {
                                for (y = 0,
                                y = 0; y < r.cameras.length; y++)
                                    for (e = 0; e <= A; e++)
                                        this._renderList.push(t + e),
                                        this._renderListCamera.push(y);
                                M = A
                            }
                        }
                for (this._dirtyCameras = !1,
                t = 0; t < a; t++)
                    this.layerList[t]._dirtyCameras = !1
            }
            if (h & n.COMPUPDATED_LIGHTS || h & n.COMPUPDATED_CAMERAS)
                for (this._globalLightCameraIds.length = 0,
                s = 0; s < this._globalLightCameras.length; s++) {
                    for (c = [],
                    t = 0; t < this._globalLightCameras[s].length; t++)
                        (l = this.cameras.indexOf(this._globalLightCameras[s][t])) < 0 || c.push(l);
                    this._globalLightCameraIds.push(c)
                }
            return h
        }
        ,
        we.prototype._isLayerAdded = function(t) {
            return this.layerList.indexOf(t) >= 0
        }
        ,
        we.prototype._isSublayerAdded = function(t, e) {
            for (var i = 0; i < this.layerList.length; i++)
                if (this.layerList[i] === t && this.subLayerList[i] === e)
                    return !0;
            return !1
        }
        ,
        we.prototype.push = function(t) {
            this._isLayerAdded(t) || (this.layerList.push(t),
            this.layerList.push(t),
            this._opaqueOrder[t.id] = this.subLayerList.push(!1) - 1,
            this._transparentOrder[t.id] = this.subLayerList.push(!0) - 1,
            this.subLayerEnabled.push(!0),
            this.subLayerEnabled.push(!0),
            this._dirty = !0,
            this._dirtyLights = !0,
            this._dirtyCameras = !0,
            this.fire("add", t))
        }
        ,
        we.prototype.insert = function(t, e) {
            if (!this._isLayerAdded(t)) {
                this.layerList.splice(e, 0, t, t),
                this.subLayerList.splice(e, 0, !1, !0);
                var i = this.layerList.length;
                this._updateOpaqueOrder(e, i - 1),
                this._updateTransparentOrder(e, i - 1),
                this.subLayerEnabled.splice(e, 0, !0, !0),
                this._dirty = !0,
                this._dirtyLights = !0,
                this._dirtyCameras = !0,
                this.fire("add", t)
            }
        }
        ,
        we.prototype.remove = function(t) {
            var e = this.layerList.indexOf(t);
            for (delete this._opaqueOrder[e],
            delete this._transparentOrder[e]; e >= 0; )
                this.layerList.splice(e, 1),
                this.subLayerList.splice(e, 1),
                this.subLayerEnabled.splice(e, 1),
                e = this.layerList.indexOf(t),
                this._dirty = !0,
                this._dirtyLights = !0,
                this._dirtyCameras = !0,
                this.fire("remove", t);
            var i = this.layerList.length;
            this._updateOpaqueOrder(0, i - 1),
            this._updateTransparentOrder(0, i - 1)
        }
        ,
        we.prototype.pushOpaque = function(t) {
            this._isSublayerAdded(t, !1) || (this.layerList.push(t),
            this._opaqueOrder[t.id] = this.subLayerList.push(!1) - 1,
            this.subLayerEnabled.push(!0),
            this._dirty = !0,
            this._dirtyLights = !0,
            this._dirtyCameras = !0,
            this.fire("add", t))
        }
        ,
        we.prototype.insertOpaque = function(t, e) {
            if (!this._isSublayerAdded(t, !1)) {
                this.layerList.splice(e, 0, t),
                this.subLayerList.splice(e, 0, !1);
                var i = this.subLayerList.length;
                this._updateOpaqueOrder(e, i - 1),
                this.subLayerEnabled.splice(e, 0, !0),
                this._dirty = !0,
                this._dirtyLights = !0,
                this._dirtyCameras = !0,
                this.fire("add", t)
            }
        }
        ,
        we.prototype.removeOpaque = function(t) {
            for (var e = 0, i = this.layerList.length; e < i; e++)
                if (this.layerList[e] === t && !this.subLayerList[e])
                    return this.layerList.splice(e, 1),
                    this.subLayerList.splice(e, 1),
                    i--,
                    this._updateOpaqueOrder(e, i - 1),
                    this.subLayerEnabled.splice(e, 1),
                    this._dirty = !0,
                    this._dirtyLights = !0,
                    this._dirtyCameras = !0,
                    void (this.layerList.indexOf(t) < 0 && this.fire("remove", t))
        }
        ,
        we.prototype.pushTransparent = function(t) {
            this._isSublayerAdded(t, !0) || (this.layerList.push(t),
            this._transparentOrder[t.id] = this.subLayerList.push(!0) - 1,
            this.subLayerEnabled.push(!0),
            this._dirty = !0,
            this._dirtyLights = !0,
            this._dirtyCameras = !0,
            this.fire("add", t))
        }
        ,
        we.prototype.insertTransparent = function(t, e) {
            if (!this._isSublayerAdded(t, !0)) {
                this.layerList.splice(e, 0, t),
                this.subLayerList.splice(e, 0, !0);
                var i = this.subLayerList.length;
                this._updateTransparentOrder(e, i - 1),
                this.subLayerEnabled.splice(e, 0, !0),
                this._dirty = !0,
                this._dirtyLights = !0,
                this._dirtyCameras = !0,
                this.fire("add", t)
            }
        }
        ,
        we.prototype.removeTransparent = function(t) {
            for (var e = 0, i = this.layerList.length; e < i; e++)
                if (this.layerList[e] === t && this.subLayerList[e])
                    return this.layerList.splice(e, 1),
                    this.subLayerList.splice(e, 1),
                    i--,
                    this._updateTransparentOrder(e, i - 1),
                    this.subLayerEnabled.splice(e, 1),
                    this._dirty = !0,
                    this._dirtyLights = !0,
                    this._dirtyCameras = !0,
                    void (this.layerList.indexOf(t) < 0 && this.fire("remove", t))
        }
        ,
        we.prototype._getSublayerIndex = function(t, e) {
            var i = this.layerList.indexOf(t);
            if (i < 0)
                return -1;
            if (this.subLayerList[i] !== e) {
                if ((i = this.layerList.indexOf(t, i + 1)) < 0)
                    return -1;
                if (this.subLayerList[i] !== e)
                    return -1
            }
            return i
        }
        ,
        we.prototype.getOpaqueIndex = function(t) {
            return this._getSublayerIndex(t, !1)
        }
        ,
        we.prototype.getTransparentIndex = function(t) {
            return this._getSublayerIndex(t, !0)
        }
        ,
        we.prototype.getLayerById = function(t) {
            for (var e = 0; e < this.layerList.length; e++)
                if (this.layerList[e].id === t)
                    return this.layerList[e];
            return null
        }
        ,
        we.prototype.getLayerByName = function(t) {
            for (var e = 0; e < this.layerList.length; e++)
                if (this.layerList[e].name === t)
                    return this.layerList[e];
            return null
        }
        ,
        we.prototype._updateOpaqueOrder = function(t, e) {
            for (var i = t; i <= e; i++)
                !1 === this.subLayerList[i] && (this._opaqueOrder[this.layerList[i].id] = i)
        }
        ,
        we.prototype._updateTransparentOrder = function(t, e) {
            for (var i = t; i <= e; i++)
                !0 === this.subLayerList[i] && (this._transparentOrder[this.layerList[i].id] = i)
        }
        ,
        we.prototype._sortLayersDescending = function(t, e, i) {
            var s = 0
              , n = 0
              , r = 0
              , a = -1
              , h = -1;
            for (s = 0,
            n = t.length; s < n; s++)
                r = t[s],
                i.hasOwnProperty(r) && (a = Math.max(a, i[r]));
            for (s = 0,
            n = e.length; s < n; s++)
                r = e[s],
                i.hasOwnProperty(r) && (h = Math.max(h, i[r]));
            return -1 === a && -1 !== h ? 1 : -1 === h && -1 !== a ? -1 : h - a
        }
        ,
        we.prototype.sortTransparentLayers = function(t, e) {
            return this._sortLayersDescending(t, e, this._transparentOrder)
        }
        ,
        we.prototype.sortOpaqueLayers = function(t, e) {
            return this._sortLayersDescending(t, e, this._opaqueOrder)
        }
        ,
        {
            LayerComposition: we
        })),
        Object.assign(n, function() {
            n.SPRITE_RENDERMODE_SIMPLE = 0,
            n.SPRITE_RENDERMODE_SLICED = 1,
            n.SPRITE_RENDERMODE_TILED = 2;
            var t = [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1]
              , e = [0, 1, 3, 2, 3, 1]
              , i = function(t, e) {
                this._device = t,
                this._pixelsPerUnit = e && void 0 !== e.pixelsPerUnit ? e.pixelsPerUnit : 1,
                this._renderMode = e && void 0 !== e.renderMode ? e.renderMode : n.SPRITE_RENDERMODE_SIMPLE,
                this._atlas = e && void 0 !== e.atlas ? e.atlas : null,
                this._frameKeys = e && void 0 !== e.frameKeys ? e.frameKeys : null,
                this._meshes = [],
                this._updatingProperties = !1,
                this._meshesDirty = !1,
                n.K.attach(this),
                this._atlas && this._frameKeys && this._createMeshes()
            };
            return i.prototype._createMeshes = function() {
                var t, e;
                for (t = 0,
                e = this._meshes.length; t < e; t++) {
                    var i = this._meshes[t];
                    if (i) {
                        i.nn.destroy();
                        for (var s = 0, r = i.cn.length; s < r; s++)
                            i.cn[s].destroy()
                    }
                }
                var a = this._frameKeys.length;
                this._meshes = new Array(a);
                var h = this.renderMode === n.SPRITE_RENDERMODE_SLICED || this._renderMode === n.SPRITE_RENDERMODE_TILED ? this._create9SliceMesh : this._createSimpleMesh;
                for (t = 0; t < a; t++) {
                    var c = this._atlas.frames[this._frameKeys[t]];
                    this._meshes[t] = c ? h.call(this, c) : null
                }
                this.fire("set:meshes")
            }
            ,
            i.prototype._createSimpleMesh = function(i) {
                var s = i.rect, r = this._atlas.texture.width, a = this._atlas.texture.height, h = s.z / this._pixelsPerUnit, c = s.w / this._pixelsPerUnit, o = i.pivot.x, u = i.pivot.y, f = [-o * h, -u * c, 0, (1 - o) * h, -u * c, 0, (1 - o) * h, (1 - u) * c, 0, -o * h, (1 - u) * c, 0], d = s.x / r, l = s.y / a, b = (s.x + s.z) / r, v = (s.y + s.w) / a, m = [d, l, b, l, b, v, d, v], g;
                return n.Mc(this._device, f, {
                    uvs: m,
                    normals: t,
                    indices: e
                })
            }
            ,
            i.prototype._create9SliceMesh = function() {
                var t = n.pt.ONE, e = 3, i = 3, s, r, a, h, c, o, u, f = [], d = [], l = [], b = [], v = 0;
                for (s = 0; s <= 3; s++)
                    for (o = 0 === s || 3 === s ? 0 : 1,
                    r = 0; r <= 3; r++)
                        a = -t.x + 2 * t.x * (s <= 1 ? 0 : 3) / 3,
                        h = 0,
                        c = -(-t.y + 2 * t.y * (r <= 1 ? 0 : 3) / 3),
                        u = 0 === r || 3 === r ? 0 : 1,
                        f.push(-a, 0, c),
                        d.push(0, 1, 0),
                        l.push(o, u),
                        s < 3 && r < 3 && (b.push(v + 3 + 1, v + 1, v),
                        b.push(v + 3 + 1, v + 3 + 2, v + 1)),
                        v++;
                var m = {
                    normals: d,
                    uvs: l,
                    indices: b
                };
                return n.Mc(this._device, f, m)
            }
            ,
            i.prototype._onSetFrames = function(t) {
                this._updatingProperties ? this._meshesDirty = !0 : this._createMeshes()
            }
            ,
            i.prototype._onFrameChanged = function(t, e) {
                var i = this._frameKeys.indexOf(t);
                i < 0 || (e ? this.renderMode === n.SPRITE_RENDERMODE_SIMPLE && (this._meshes[i] = this._createSimpleMesh(e)) : this._meshes[i] = null,
                this.fire("set:meshes"))
            }
            ,
            i.prototype._onFrameRemoved = function(t) {
                var e = this._frameKeys.indexOf(t);
                e < 0 || (this._meshes[e] = null,
                this.fire("set:meshes"))
            }
            ,
            i.prototype.startUpdate = function() {
                this._updatingProperties = !0,
                this._meshesDirty = !1
            }
            ,
            i.prototype.endUpdate = function() {
                this._updatingProperties = !1,
                this._meshesDirty && this._atlas && this._frameKeys && this._createMeshes(),
                this._meshesDirty = !1
            }
            ,
            i.prototype.destroy = function() {
                var t, e;
                for (t = 0,
                e = this._meshes.length; t < e; t++) {
                    var i = this._meshes[t];
                    if (i) {
                        i.nn.destroy();
                        for (var s = 0, n = i.cn.length; s < n; s++)
                            i.cn[s].destroy()
                    }
                }
                this._meshes.length = 0
            }
            ,
            Object.defineProperty(i.prototype, "frameKeys", {
                get: function() {
                    return this._frameKeys
                },
                set: function(t) {
                    this._frameKeys = t,
                    this._atlas && this._frameKeys && (this._updatingProperties ? this._meshesDirty = !0 : this._createMeshes()),
                    this.fire("set:frameKeys", t)
                }
            }),
            Object.defineProperty(i.prototype, "atlas", {
                get: function() {
                    return this._atlas
                },
                set: function(t) {
                    t !== this._atlas && (this._atlas && (this._atlas.off("set:frames", this._onSetFrames, this),
                    this._atlas.off("set:frame", this._onFrameChanged, this),
                    this._atlas.off("remove:frame", this._onFrameRemoved, this)),
                    this._atlas = t,
                    this._atlas && this._frameKeys && (this._atlas.on("set:frames", this._onSetFrames, this),
                    this._atlas.on("set:frame", this._onFrameChanged, this),
                    this._atlas.on("remove:frame", this._onFrameRemoved, this),
                    this._updatingProperties ? this._meshesDirty = !0 : this._createMeshes()),
                    this.fire("set:atlas", t))
                }
            }),
            Object.defineProperty(i.prototype, "pixelsPerUnit", {
                get: function() {
                    return this._pixelsPerUnit
                },
                set: function(t) {
                    this._pixelsPerUnit !== t && (this._pixelsPerUnit = t,
                    this.fire("set:pixelsPerUnit", t),
                    this._atlas && this._frameKeys && this.renderMode === n.SPRITE_RENDERMODE_SIMPLE && (this._updatingProperties ? this._meshesDirty = !0 : this._createMeshes()))
                }
            }),
            Object.defineProperty(i.prototype, "renderMode", {
                get: function() {
                    return this._renderMode
                },
                set: function(t) {
                    if (this._renderMode !== t) {
                        var e = this._renderMode;
                        this._renderMode = t,
                        this.fire("set:renderMode", t),
                        e !== n.SPRITE_RENDERMODE_SIMPLE && t !== n.SPRITE_RENDERMODE_SIMPLE || this._atlas && this._frameKeys && (this._updatingProperties ? this._meshesDirty = !0 : this._createMeshes())
                    }
                }
            }),
            Object.defineProperty(i.prototype, "meshes", {
                get: function() {
                    return this._meshes
                }
            }),
            {
                Sprite: i
            }
        }()),
        Object.assign(n, function() {
            var t = function() {
                this._index = [],
                this._values = []
            };
            t.prototype.runSync = function() {
                for (var t = 0, e = this._values.length; t < e; t++)
                    this._values[t].syncHierarchy();
                this._values.length = 0,
                this._index.length = 0
            }
            ,
            t.prototype.erase = function(t) {
                var e = this._values.indexOf(t);
                e >= 0 && (this._index.splice(e, 1),
                this._values.splice(e, 1))
            }
            ;
            var e = function(t, i, s, n) {
                if (i === s)
                    return i;
                var r = Math.floor((i + s) / 2);
                return t[r] > n ? e(t, i, r, n) : t[r] < n ? e(t, r + 1, s, n) : r
            };
            return t.prototype.push = function(t, i) {
                var s = e(this._index, 0, this._index.length, t);
                this._values.splice(s, 0, i),
                this._index.splice(s, 0, t)
            }
            ,
            {
                SyncQueue: t
            }
        }()),
        Object.assign(n, ((xe = function() {
            this._texture = null,
            this._frames = null,
            n.K.attach(this)
        }
        ).prototype.setFrame = function(t, e) {
            var i = this._frames[t];
            i ? (i.rect.copy(e.rect),
            i.pivot.copy(e.pivot),
            i.border.copy(e.border)) : (i = {
                rect: e.rect.clone(),
                pivot: e.pivot.clone(),
                border: e.border.clone()
            },
            this._frames[t] = i),
            this.fire("set:frame", t.toString(), i)
        }
        ,
        xe.prototype.removeFrame = function(t) {
            var e = this._frames[t];
            e && (delete this._frames[t],
            this.fire("remove:frame", t.toString(), e))
        }
        ,
        xe.prototype.destroy = function() {
            this._texture && this._texture.destroy()
        }
        ,
        Object.defineProperty(xe.prototype, "texture", {
            get: function() {
                return this._texture
            },
            set: function(t) {
                this._texture = t,
                this.fire("set:texture", t)
            }
        }),
        Object.defineProperty(xe.prototype, "frames", {
            get: function() {
                return this._frames
            },
            set: function(t) {
                this._frames = t,
                this.fire("set:frames", t)
            }
        }),
        {
            TextureAtlas: xe
        })),
        Object.assign(n, ((ze = function(t) {
            this.func = void 0 === t.func ? n.ni : t.func,
            this.ref = t.ref || 0,
            this.readMask = void 0 === t.readMask ? 255 : t.readMask,
            this.writeMask = void 0 === t.writeMask ? 255 : t.writeMask,
            this.fail = t.fail || n.ps,
            this.zfail = t.zfail || n.ps,
            this.zpass = t.zpass || n.ps
        }
        ).prototype.clone = function() {
            var t;
            return new n.jc({
                func: this.func,
                ref: this.ref,
                readMask: this.readMask,
                writeMask: this.writeMask,
                fail: this.fail,
                zfail: this.zfail,
                zpass: this.zpass
            })
        }
        ,
        {
            jc: ze
        })),
        Object.assign(n, (_e = function t(e, i, s, n) {
            this.time = e,
            this.position = i,
            this.rotation = s,
            this.scale = n
        }
        ,
        Ae = function t() {
            this._name = "",
            this._keys = []
        }
        ,
        (ye = function t() {
            this.name = "",
            this.duration = 0,
            this._nodes = [],
            this._nodeDict = {}
        }
        ).prototype.getDuration = function() {
            return this.duration
        }
        ,
        ye.prototype.getName = function() {
            return this.name
        }
        ,
        ye.prototype.getNode = function(t) {
            return this._nodeDict[t]
        }
        ,
        Object.defineProperty(ye.prototype, "nodes", {
            get: function() {
                return this._nodes
            }
        }),
        ye.prototype.getNodes = function() {
            return this._nodes
        }
        ,
        ye.prototype.setDuration = function(t) {
            this.duration = t
        }
        ,
        ye.prototype.setName = function(t) {
            this.name = t
        }
        ,
        ye.prototype.addNode = function(t) {
            this._nodes.push(t),
            this._nodeDict[t._name] = t
        }
        ,
        {
            Rc: ye,
            Lc: _e,
            Node: Ae
        })),
        Object.assign(n, function() {
            function t() {
                this._written = !1,
                this._name = "",
                this._keyFrames = [],
                this._quat = new n.bt,
                this._pos = new n.ut,
                this._scale = new n.ut,
                this._targetNode = null
            }
            Object.assign(t.prototype, {
                getTarget: function() {
                    return this._targetNode
                },
                setTarget: function(t) {
                    this._targetNode = t
                }
            });
            var e = function e(i) {
                this._animation = null,
                this._time = 0,
                this.looping = !0,
                this._interpolatedKeys = [],
                this._interpolatedKeyDict = {},
                this._currKeyIndices = {},
                this.graph = null;
                var s = this;
                function n(e) {
                    var i = new t;
                    i._name = e.name,
                    s._interpolatedKeys.push(i),
                    s._interpolatedKeyDict[e.name] = i,
                    s._currKeyIndices[e.name] = 0;
                    for (var r = 0; r < e._children.length; r++)
                        n(e._children[r])
                }
                n(i)
            };
            return e.prototype.addTime = function(t) {
                if (null !== this._animation) {
                    var e, i, s, n, r, a, h, c, o = this._animation._nodes, u = this._animation.duration, f = !1, d = !1;
                    if (this._time === u && !this.looping)
                        return void (null != this.animationComponent && this.animationComponent.onAnimationEnd());
                    if (this._time += t,
                    this._time > u)
                        for (f = !0,
                        this._time = this.looping ? 0 : u,
                        e = 0; e < o.length; e++)
                            s = (i = o[e])._name,
                            this._currKeyIndices[s] = 0;
                    else if (this._time < 0)
                        for (d = !0,
                        this._time = this.looping ? u : 0,
                        e = 0; e < o.length; e++)
                            s = (i = o[e])._name,
                            this._currKeyIndices[s] = i._keys.length - 2;
                    var l = t >= 0 ? 1 : -1, b;
                    for (e = 0; e < o.length; e++)
                        if (s = (i = o[e])._name,
                        n = i._keys,
                        void 0 !== (r = this._interpolatedKeyDict[s])) {
                            if (b = !1,
                            1 !== n.length)
                                for (var v = this._currKeyIndices[s]; v < n.length - 1 && v >= 0; v += l)
                                    if (a = n[v],
                                    h = n[v + 1],
                                    a.time <= this._time && h.time >= this._time) {
                                        c = (this._time - a.time) / (h.time - a.time),
                                        r._pos.st(a.position, h.position, c),
                                        r._quat.Ot(a.rotation, h.rotation, c),
                                        r._scale.st(a.scale, h.scale, c),
                                        r._written = !0,
                                        this._currKeyIndices[s] = v,
                                        b = !0;
                                        break
                                    }
                            (1 === n.length || !b && 0 === this._time && this.looping) && (r._pos.copy(n[0].position),
                            r._quat.copy(n[0].rotation),
                            r._scale.copy(n[0].scale),
                            r._written = !0)
                        }
                    f && null != this.animationComponent && this.animationComponent.onAnimationEnd(),
                    d && null != this.animationComponent && this.animationComponent.onAnimationStart()
                }
            }
            ,
            e.prototype.blend = function(t, e, i) {
                for (var s = this._interpolatedKeys.length, n = 0; n < s; n++) {
                    var r = t._interpolatedKeys[n]
                      , a = e._interpolatedKeys[n]
                      , h = this._interpolatedKeys[n];
                    r._written && a._written ? (h._quat.Ot(r._quat, e._interpolatedKeys[n]._quat, i),
                    h._pos.st(r._pos, e._interpolatedKeys[n]._pos, i),
                    h._scale.st(r._scale, a._scale, i),
                    h._written = !0) : r._written ? (h._quat.copy(r._quat),
                    h._pos.copy(r._pos),
                    h._scale.copy(r._scale),
                    h._written = !0) : a._written && (h._quat.copy(a._quat),
                    h._pos.copy(a._pos),
                    h._scale.copy(a._scale),
                    h._written = !0)
                }
            }
            ,
            Object.defineProperty(e.prototype, "animation", {
                get: function() {
                    return this._animation
                },
                set: function(t) {
                    this._animation = t,
                    this.currentTime = 0
                }
            }),
            e.prototype.getAnimation = function() {
                return this._animation
            }
            ,
            Object.defineProperty(e.prototype, "currentTime", {
                get: function() {
                    return this._time
                },
                set: function(t) {
                    this._time = t;
                    for (var e = this._interpolatedKeys.length, i = 0; i < e; i++) {
                        var s, n = this._interpolatedKeys[i]._name;
                        this._currKeyIndices[n] = 0
                    }
                    this.addTime(0),
                    this.updateGraph()
                }
            }),
            e.prototype.getCurrentTime = function() {
                return this._time
            }
            ,
            e.prototype.setCurrentTime = function(t) {
                this.currentTime = t
            }
            ,
            Object.defineProperty(e.prototype, "numNodes", {
                get: function() {
                    return this._interpolatedKeys.length
                }
            }),
            e.prototype.getNumNodes = function() {
                return this._interpolatedKeys.length
            }
            ,
            e.prototype.setAnimation = function(t) {
                this.animation = t
            }
            ,
            e.prototype.setGraph = function(t) {
                var e;
                if (this.graph = t,
                t)
                    for (e = 0; e < this._interpolatedKeys.length; e++) {
                        var i = this._interpolatedKeys[e]
                          , s = t.findByName(i._name);
                        this._interpolatedKeys[e].setTarget(s)
                    }
                else
                    for (e = 0; e < this._interpolatedKeys.length; e++)
                        this._interpolatedKeys[e].setTarget(null)
            }
            ,
            e.prototype.updateGraph = function() {
                if (this.graph)
                    for (var t = 0; t < this._interpolatedKeys.length; t++) {
                        var e = this._interpolatedKeys[t];
                        if (e._written) {
                            var i = e.getTarget();
                            i.localPosition.copy(e._pos),
                            i.localRotation.copy(e._quat),
                            i.localScale.copy(e._scale),
                            i._dirtyLocal || i._dirtifyLocal(),
                            e._written = !1
                        }
                    }
            }
            ,
            e.prototype.setLooping = function(t) {
                this.looping = t
            }
            ,
            e.prototype.getLooping = function() {
                return this.looping
            }
            ,
            {
                Nc: e
            }
        }()),
        Object.assign(n, function() {
            function t() {
                return "undefined" != typeof Audio
            }
            function e() {
                return !("undefined" == typeof AudioContext && "undefined" == typeof webkitAudioContext)
            }
            var i = function(i) {
                if ((e() || i.forceWebAudioApi) && ("undefined" != typeof AudioContext ? this.context = new AudioContext : "undefined" != typeof webkitAudioContext && (this.context = new webkitAudioContext),
                this.context)) {
                    var s = this.context;
                    if (this.resumeContext = function() {
                        this.context.resume(),
                        window.removeEventListener("mousedown", this.resumeContext),
                        window.removeEventListener("touchend", this.resumeContext)
                    }
                    .bind(this),
                    window.addEventListener("mousedown", this.resumeContext),
                    window.addEventListener("touchend", this.resumeContext),
                    n.platform.ios) {
                        var r = function() {
                            var t = s.createBuffer(1, 1, 44100)
                              , e = s.createBufferSource();
                            e.buffer = t,
                            e.connect(s.destination),
                            e.start(0),
                            e.disconnect(),
                            window.removeEventListener("touchend", r)
                        };
                        window.addEventListener("touchend", r)
                    }
                }
                t(),
                this.listener = new n.Listener(this),
                this._volume = 1,
                this.suspended = !1,
                n.K.attach(this)
            };
            return i.hasAudio = t,
            i.hasAudioContext = e,
            Object.assign(i.prototype, {
                suspend: function() {
                    this.suspended = !0,
                    this.fire("suspend")
                },
                resume: function() {
                    this.suspended = !1,
                    this.fire("resume")
                },
                destroy: function() {
                    window.removeEventListener("mousedown", this.resumeContext),
                    window.removeEventListener("touchend", this.resumeContext),
                    this.fire("destroy"),
                    this.context && this.context.close && (this.context.close(),
                    this.context = null)
                },
                getListener: function() {
                    return this.listener
                },
                getVolume: function() {
                    return this.volume
                },
                setVolume: function(t) {
                    this.volume = t
                },
                playSound: function(t, e) {
                    e = e || {};
                    var i = null;
                    return n.Fc && (i = new n.Fc(this,t,e)).play(),
                    i
                },
                playSound3d: function(t, e, i) {
                    i = i || {};
                    var s = null;
                    return n.kc && ((s = new n.kc(this,t,i)).setPosition(e),
                    i.volume && s.setVolume(i.volume),
                    i.loop && s.setLoop(i.loop),
                    i.maxDistance && s.setMaxDistance(i.maxDistance),
                    i.minDistance && s.setMinDistance(i.minDistance),
                    i.rollOffFactor && s.setRollOffFactor(i.rollOffFactor),
                    i.distanceModel && s.setDistanceModel(i.distanceModel),
                    s.play()),
                    s
                }
            }),
            Object.defineProperty(i.prototype, "volume", {
                get: function() {
                    return this._volume
                },
                set: function(t) {
                    t = n.I.clamp(t, 0, 1),
                    this._volume = t,
                    this.fire("volumechange", t)
                }
            }),
            n.Uc = i,
            {
                Vc: i
            }
        }()),
        Object.assign(n, (Me = function(t) {
            t instanceof Audio ? this.audio = t : this.buffer = t
        }
        ,
        Object.defineProperty(Me.prototype, "duration", {
            get: function() {
                var t = 0;
                return this.buffer ? t = this.buffer.duration : this.audio && (t = this.audio.duration),
                t || 0
            }
        }),
        {
            Hc: Me
        })),
        Object.assign(n, (Se = function(t) {
            this.position = new n.ut,
            this.velocity = new n.ut,
            this.orientation = new n.zt,
            n.Uc.hasAudioContext() && (this.listener = t.context.listener)
        }
        ,
        Object.assign(Se.prototype, {
            getPosition: function() {
                return this.position
            },
            setPosition: function(t) {
                this.position.copy(t),
                this.listener && this.listener.setPosition(t.x, t.y, t.z)
            },
            getVelocity: function() {
                return this.velocity
            },
            setVelocity: function(t) {
                this.velocity.copy(t),
                this.listener && this.listener.setPosition(t.x, t.y, t.z)
            },
            setOrientation: function(t) {
                this.orientation.copy(t),
                this.listener && this.listener.setOrientation(-t.data[8], -t.data[9], -t.data[10], t.data[4], t.data[5], t.data[6])
            },
            getOrientation: function() {
                return this.orientation
            }
        }),
        {
            Listener: Se
        })),
        Object.assign(n, (Oe = 0,
        Ee = 1,
        De = 2,
        Te = function(t, e) {
            return t % e || 0
        }
        ,
        n.Vc.hasAudioContext() ? (Ce = function(t, e, i) {
            n.K.attach(this),
            i = i || {},
            this._volume = void 0 !== i.volume ? n.I.clamp(Number(i.volume) || 0, 0, 1) : 1,
            this._pitch = void 0 !== i.pitch ? Math.max(.01, Number(i.pitch) || 0) : 1,
            this._loop = !(void 0 === i.loop || !i.loop),
            this._sound = e,
            this._state = 2,
            this._suspended = !1,
            this._suspendEndEvent = !1,
            this._suspendInstanceEvents = !1,
            this._startTime = Math.max(0, Number(i.startTime) || 0),
            this._duration = Math.max(0, Number(i.duration) || 0),
            this._startedAt = 0,
            this._startOffset = null,
            this._currentTime = 0,
            this._currentOffset = 0,
            this._playWhenLoaded = !0,
            this._manager = t,
            this._inputNode = null,
            this._connectorNode = null,
            this._firstNode = null,
            this._lastNode = null,
            this._initializeNodes(),
            this._onPlayCallback = i.onPlay,
            this._onPauseCallback = i.onPause,
            this._onResumeCallback = i.onResume,
            this._onStopCallback = i.onStop,
            this._onEndCallback = i.onEnd,
            this._endedHandler = this._onEnded.bind(this),
            this.source = null
        }
        ,
        Object.assign(Ce.prototype, {
            _initializeNodes: function() {
                this.gain = this._manager.context.createGain(),
                this._inputNode = this.gain,
                this._connectorNode = this.gain,
                this._connectorNode.connect(this._manager.context.destination)
            },
            play: function() {
                2 !== this._state && this.stop(),
                this.source || this._createSource();
                var t = Te(this._startOffset, this.duration);
                return t = Te(this._startTime + t, this._sound.duration),
                this._startOffset = null,
                this._duration ? this.source.start(0, t, this._duration) : this.source.start(0, t),
                this._startedAt = this._manager.context.currentTime,
                this._currentTime = 0,
                this._currentOffset = t,
                this._state = 0,
                this._playWhenLoaded = !1,
                this.volume = this._volume,
                this.loop = this._loop,
                this.pitch = this._pitch,
                this._manager.on("volumechange", this._onManagerVolumeChange, this),
                this._manager.on("suspend", this._onManagerSuspend, this),
                this._manager.on("resume", this._onManagerResume, this),
                this._manager.on("destroy", this._onManagerDestroy, this),
                this._manager.suspended && this._onManagerSuspend(),
                this._suspendInstanceEvents || this._onPlay(),
                !0
            },
            pause: function() {
                return !(0 !== this._state || !this.source || (this._updateCurrentTime(),
                this._state = 1,
                this._suspendEndEvent = !0,
                this.source.stop(0),
                this.source = null,
                this._playWhenLoaded = !1,
                this._startOffset = null,
                this._suspendInstanceEvents || this._onPause(),
                0))
            },
            resume: function() {
                if (1 !== this._state)
                    return !1;
                this.source || this._createSource();
                var t = this.currentTime;
                return null !== this._startOffset && (t = Te(this._startOffset, this.duration),
                t = Te(this._startTime + t, this._sound.duration),
                this._startOffset = null),
                this._duration ? this.source.start(0, t, this._duration) : this.source.start(0, t),
                this._state = 0,
                this._startedAt = this._manager.context.currentTime,
                this._currentOffset = t,
                this.volume = this._volume,
                this.loop = this._loop,
                this.pitch = this._pitch,
                this._playWhenLoaded = !1,
                this._suspendInstanceEvents || this._onResume(),
                !0
            },
            stop: function() {
                return !(2 === this._state || !this.source || (this._manager.off("volumechange", this._onManagerVolumeChange, this),
                this._manager.off("suspend", this._onManagerSuspend, this),
                this._manager.off("resume", this._onManagerResume, this),
                this._manager.off("destroy", this._onManagerDestroy, this),
                this._startedAt = 0,
                this._currentTime = 0,
                this._currentOffset = 0,
                this._startOffset = null,
                this._playWhenLoaded = !1,
                this._suspendEndEvent = !0,
                0 === this._state && this.source.stop(0),
                this.source = null,
                this._state = 2,
                this._suspendInstanceEvents || this._onStop(),
                0))
            },
            setExternalNodes: function(t, e) {
                if (t) {
                    e || (e = t);
                    var i = this._manager.context.destination;
                    this._firstNode !== t && (this._firstNode ? this._connectorNode.disconnect(this._firstNode) : this._connectorNode.disconnect(i),
                    this._firstNode = t,
                    this._connectorNode.connect(t)),
                    this._lastNode !== e && (this._lastNode && this._lastNode.disconnect(i),
                    this._lastNode = e,
                    this._lastNode.connect(i))
                }
            },
            clearExternalNodes: function() {
                var t = this._manager.context.destination;
                this._firstNode && (this._connectorNode.disconnect(this._firstNode),
                this._firstNode = null),
                this._lastNode && (this._lastNode.disconnect(t),
                this._lastNode = null),
                this._connectorNode.connect(t)
            },
            getExternalNodes: function() {
                return [this._firstNode, this._lastNode]
            },
            _createSource: function() {
                if (!this._sound)
                    return null;
                var t = this._manager.context;
                return this._sound.buffer && (this.source = t.createBufferSource(),
                this.source.buffer = this._sound.buffer,
                this.source.connect(this._inputNode),
                this.source.onended = this._endedHandler,
                this.source.loopStart = Te(this._startTime, this.source.buffer.duration),
                this._duration && (this.source.loopEnd = Math.max(this.source.loopStart, Te(this._startTime + this._duration, this.source.buffer.duration)))),
                this.source
            },
            _updateCurrentTime: function() {
                this._currentTime = Te((this._manager.context.currentTime - this._startedAt) * this._pitch + this._currentOffset, this.duration)
            },
            _onManagerDestroy: function() {
                this.source && 0 === this._state && (this.source.stop(0),
                this.source = null)
            }
        }),
        Object.defineProperty(Ce.prototype, "volume", {
            get: function() {
                return this._volume
            },
            set: function(t) {
                t = n.I.clamp(t, 0, 1),
                this._volume = t,
                this.gain && (this.gain.gain.value = t * this._manager.volume)
            }
        }),
        Object.defineProperty(Ce.prototype, "pitch", {
            get: function() {
                return this._pitch
            },
            set: function(t) {
                this._currentOffset = this.currentTime,
                this._startedAt = this._manager.context.currentTime,
                this._pitch = Math.max(Number(t) || 0, .01),
                this.source && (this.source.playbackRate.value = this._pitch)
            }
        }),
        Object.defineProperty(Ce.prototype, "loop", {
            get: function() {
                return this._loop
            },
            set: function(t) {
                this._loop = !!t,
                this.source && (this.source.loop = this._loop)
            }
        }),
        Object.defineProperty(Ce.prototype, "sound", {
            get: function() {
                return this._sound
            },
            set: function(t) {
                this._sound = t,
                2 !== this._state ? this.stop() : this._createSource()
            }
        }),
        Object.defineProperty(Ce.prototype, "currentTime", {
            get: function() {
                return null !== this._startOffset ? this._startOffset : 1 === this._state ? this._currentTime : 2 !== this._state && this.source ? (this._updateCurrentTime(),
                this._currentTime) : 0
            },
            set: function(t) {
                if (!(t < 0))
                    if (0 === this._state) {
                        this.stop();
                        var e = this._suspendInstanceEvents;
                        this._suspendInstanceEvents = !0,
                        this._startOffset = t,
                        this.play(),
                        this._suspendInstanceEvents = e
                    } else
                        this._startOffset = t,
                        this._currentTime = t
            }
        })) : n.Vc.hasAudio() ? (Ce = function(t, e, i) {
            n.K.attach(this),
            i = i || {},
            this._volume = void 0 !== i.volume ? n.I.clamp(Number(i.volume) || 0, 0, 1) : 1,
            this._pitch = void 0 !== i.pitch ? Math.max(.01, Number(i.pitch) || 0) : 1,
            this._loop = !(void 0 === i.loop || !i.loop),
            this._sound = e,
            this._state = 2,
            this._suspended = !1,
            this._suspendEndEvent = !1,
            this._suspendInstanceEvents = !1,
            this._playWhenLoaded = !0,
            this._startTime = Math.max(0, Number(i.startTime) || 0),
            this._duration = Math.max(0, Number(i.duration) || 0),
            this._startOffset = null,
            this._isReady = !1,
            this._manager = t,
            this._loadedMetadataHandler = this._onLoadedMetadata.bind(this),
            this._timeUpdateHandler = this._onTimeUpdate.bind(this),
            this._endedHandler = this._onEnded.bind(this),
            this._onPlayCallback = i.onPlay,
            this._onPauseCallback = i.onPause,
            this._onResumeCallback = i.onResume,
            this._onStopCallback = i.onStop,
            this._onEndCallback = i.onEnd,
            this.source = null,
            this._createSource()
        }
        ,
        Object.assign(Ce.prototype, {
            play: function() {
                return 2 !== this._state && this.stop(),
                !(!this.source && !this._createSource() || (this.volume = this._volume,
                this.pitch = this._pitch,
                this.loop = this._loop,
                this.source.play(),
                this._state = 0,
                this._playWhenLoaded = !1,
                this._manager.on("volumechange", this._onManagerVolumeChange, this),
                this._manager.on("suspend", this._onManagerSuspend, this),
                this._manager.on("resume", this._onManagerResume, this),
                this._manager.on("destroy", this._onManagerDestroy, this),
                this._manager.suspended && this._onManagerSuspend(),
                this._suspendInstanceEvents || this._onPlay(),
                0))
            },
            pause: function() {
                return !(!this.source || 0 !== this._state || (this._suspendEndEvent = !0,
                this.source.pause(),
                this._playWhenLoaded = !1,
                this._state = 1,
                this._startOffset = null,
                this._suspendInstanceEvents || this._onPause(),
                0))
            },
            resume: function() {
                return !(!this.source || 1 !== this._state || (this._state = 0,
                this._playWhenLoaded = !1,
                this.source.paused && (this.source.play(),
                this._suspendInstanceEvents || this._onResume()),
                0))
            },
            stop: function() {
                return !(!this.source || 2 === this._state || (this._manager.off("volumechange", this._onManagerVolumeChange, this),
                this._manager.off("suspend", this._onManagerSuspend, this),
                this._manager.off("resume", this._onManagerResume, this),
                this._manager.off("destroy", this._onManagerDestroy, this),
                this._suspendEndEvent = !0,
                this.source.pause(),
                this._playWhenLoaded = !1,
                this._state = 2,
                this._startOffset = null,
                this._suspendInstanceEvents || this._onStop(),
                0))
            },
            setExternalNodes: function() {},
            clearExternalNodes: function() {},
            getExternalNodes: function() {
                return [null, null]
            },
            _onLoadedMetadata: function() {
                this.source.removeEventListener("loadedmetadata", this._loadedMetadataHandler),
                this._isReady = !0;
                var t = Te(this._startOffset, this.duration);
                t = Te(this._startTime + t, this._sound.duration),
                this._startOffset = null,
                this.source.currentTime = t
            },
            _createSource: function() {
                return this._sound && this._sound.audio && (this._isReady = !1,
                this.source = this._sound.audio.cloneNode(!0),
                this.source.addEventListener("loadedmetadata", this._loadedMetadataHandler),
                this.source.addEventListener("timeupdate", this._timeUpdateHandler),
                this.source.onended = this._endedHandler),
                this.source
            },
            _onTimeUpdate: function() {
                this._duration && this.source.currentTime > Te(this._startTime + this._duration, this.source.duration) && (this.loop ? this.source.currentTime = Te(this._startTime, this.source.duration) : (this.source.removeEventListener("timeupdate", this._timeUpdateHandler),
                this.source.pause(),
                this._onEnded()))
            },
            _onManagerDestroy: function() {
                this.source && this.source.pause()
            }
        }),
        Object.defineProperty(Ce.prototype, "volume", {
            get: function() {
                return this._volume
            },
            set: function(t) {
                t = n.I.clamp(t, 0, 1),
                this._volume = t,
                this.source && (this.source.volume = t * this._manager.volume)
            }
        }),
        Object.defineProperty(Ce.prototype, "pitch", {
            get: function() {
                return this._pitch
            },
            set: function(t) {
                this._pitch = Math.max(Number(t) || 0, .01),
                this.source && (this.source.playbackRate = this._pitch)
            }
        }),
        Object.defineProperty(Ce.prototype, "loop", {
            get: function() {
                return this._loop
            },
            set: function(t) {
                this._loop = !!t,
                this.source && (this.source.loop = this._loop)
            }
        }),
        Object.defineProperty(Ce.prototype, "sound", {
            get: function() {
                return this._sound
            },
            set: function(t) {
                this.stop(),
                this._sound = t
            }
        }),
        Object.defineProperty(Ce.prototype, "currentTime", {
            get: function() {
                return null !== this._startOffset ? this._startOffset : 2 !== this._state && this.source ? this.source.currentTime - this._startTime : 0
            },
            set: function(t) {
                t < 0 || (this._startOffset = t,
                this.source && this._isReady && (this.source.currentTime = Te(this._startTime + Te(t, this.duration), this._sound.duration),
                this._startOffset = null))
            }
        })) : Ce = function() {}
        ,
        Object.assign(Ce.prototype, {
            _onPlay: function() {
                this.fire("play"),
                this._onPlayCallback && this._onPlayCallback(this)
            },
            _onPause: function() {
                this.fire("pause"),
                this._onPauseCallback && this._onPauseCallback(this)
            },
            _onResume: function() {
                this.fire("resume"),
                this._onResumeCallback && this._onResumeCallback(this)
            },
            _onStop: function() {
                this.fire("stop"),
                this._onStopCallback && this._onStopCallback(this)
            },
            _onEnded: function() {
                this._suspendEndEvent ? this._suspendEndEvent = !1 : (this.fire("end"),
                this._onEndCallback && this._onEndCallback(this),
                this.stop())
            },
            _onManagerVolumeChange: function() {
                this.volume = this._volume
            },
            _onManagerSuspend: function() {
                0 !== this._state || this._suspended || (this._suspended = !0,
                this.pause())
            },
            _onManagerResume: function() {
                this._suspended && (this._suspended = !1,
                this.resume())
            }
        }),
        Object.defineProperty(Ce.prototype, "startTime", {
            get: function() {
                return this._startTime
            },
            set: function(t) {
                this._startTime = Math.max(0, Number(t) || 0);
                var e = 0 === this._state;
                this.stop(),
                e && this.play()
            }
        }),
        Object.defineProperty(Ce.prototype, "duration", {
            get: function() {
                return this._sound ? this._duration ? Te(this._duration, this._sound.duration) : this._sound.duration : 0
            },
            set: function(t) {
                this._duration = Math.max(0, Number(t) || 0);
                var e = 0 === this._state;
                this.stop(),
                e && this.play()
            }
        }),
        Object.defineProperty(Ce.prototype, "isPlaying", {
            get: function() {
                return 0 === this._state
            }
        }),
        Object.defineProperty(Ce.prototype, "isPaused", {
            get: function() {
                return 1 === this._state
            }
        }),
        Object.defineProperty(Ce.prototype, "isStopped", {
            get: function() {
                return 2 === this._state
            }
        }),
        Object.defineProperty(Ce.prototype, "isSuspended", {
            get: function() {
                return this._suspended
            }
        }),
        {
            Gc: Ce
        })),
        Object.assign(n, function() {
            var t = 1e4, e;
            if (n.Vc.hasAudioContext())
                (e = function(t, e, i) {
                    n.Gc.call(this, t, e, i),
                    i = i || {},
                    this._position = new n.ut,
                    i.position && (this.position = i.position),
                    this._velocity = new n.ut,
                    i.velocity && (this.velocity = i.velocity),
                    this.maxDistance = void 0 !== i.maxDistance ? Number(i.maxDistance) : 1e4,
                    this.refDistance = void 0 !== i.refDistance ? Number(i.refDistance) : 1,
                    this.rollOffFactor = void 0 !== i.rollOffFactor ? Number(i.rollOffFactor) : 1,
                    this.distanceModel = void 0 !== i.distanceModel ? i.distanceModel : n.Wc
                }
                ).prototype = Object.create(n.Gc.prototype),
                e.prototype.constructor = e,
                Object.assign(e.prototype, {
                    _initializeNodes: function() {
                        this.gain = this._manager.context.createGain(),
                        this.panner = this._manager.context.createPanner(),
                        this.panner.connect(this.gain),
                        this._inputNode = this.panner,
                        this._connectorNode = this.gain,
                        this._connectorNode.connect(this._manager.context.destination)
                    }
                }),
                Object.defineProperty(e.prototype, "position", {
                    get: function() {
                        return this._position
                    },
                    set: function(t) {
                        this._position.copy(t),
                        this.panner.setPosition(t.x, t.y, t.z)
                    }
                }),
                Object.defineProperty(e.prototype, "velocity", {
                    get: function() {
                        return this._velocity
                    },
                    set: function(t) {
                        this._velocity.copy(t),
                        this.panner.setVelocity(t.x, t.y, t.z)
                    }
                }),
                Object.defineProperty(e.prototype, "maxDistance", {
                    get: function() {
                        return this.panner.maxDistance
                    },
                    set: function(t) {
                        this.panner.maxDistance = t
                    }
                }),
                Object.defineProperty(e.prototype, "refDistance", {
                    get: function() {
                        return this.panner.refDistance
                    },
                    set: function(t) {
                        this.panner.refDistance = t
                    }
                }),
                Object.defineProperty(e.prototype, "rollOffFactor", {
                    get: function() {
                        return this.panner.rolloffFactor
                    },
                    set: function(t) {
                        this.panner.rolloffFactor = t
                    }
                }),
                Object.defineProperty(e.prototype, "distanceModel", {
                    get: function() {
                        return this.panner.distanceModel
                    },
                    set: function(t) {
                        this.panner.distanceModel = t
                    }
                });
            else if (n.Vc.hasAudio()) {
                var i = new n.ut
                  , s = function(t, e, s, r, a, h) {
                    var c = (i = i.sub2(t, e)).length();
                    if (c < s)
                        return 1;
                    if (c > r)
                        return 0;
                    var o = 0;
                    return h === n.Wc ? o = 1 - a * (c - s) / (r - s) : h === n.Yc ? o = s / (s + a * (c - s)) : h === n.Xc && (o = Math.pow(c / s, -a)),
                    n.I.clamp(o, 0, 1)
                };
                (e = function(t, e, i) {
                    n.Gc.call(this, t, e, i),
                    i = i || {},
                    this._position = new n.ut,
                    i.position && (this.position = i.position),
                    this._velocity = new n.ut,
                    i.velocity && (this.velocity = i.velocity),
                    this._maxDistance = void 0 !== i.maxDistance ? Number(i.maxDistance) : 1e4,
                    this._refDistance = void 0 !== i.refDistance ? Number(i.refDistance) : 1,
                    this._rollOffFactor = void 0 !== i.rollOffFactor ? Number(i.rollOffFactor) : 1,
                    this._distanceModel = void 0 !== i.distanceModel ? i.distanceModel : n.Wc
                }
                ).prototype = Object.create(n.Gc.prototype),
                e.prototype.constructor = e,
                Object.defineProperty(e.prototype, "position", {
                    get: function() {
                        return this._position
                    },
                    set: function(t) {
                        if (this._position.copy(t),
                        this.source) {
                            var e, i = this._manager.listener.getPosition(), n = s(i, this._position, this.refDistance, this.maxDistance, this.rollOffFactor, this.distanceModel), r = this.volume;
                            this.source.volume = r * n * this._manager.volume
                        }
                    }
                }),
                Object.defineProperty(e.prototype, "velocity", {
                    get: function() {
                        return this._velocity
                    },
                    set: function(t) {
                        this._velocity.copy(t)
                    }
                }),
                Object.defineProperty(e.prototype, "maxDistance", {
                    get: function() {
                        return this._maxDistance
                    },
                    set: function(t) {
                        this._maxDistance = t
                    }
                }),
                Object.defineProperty(e.prototype, "refDistance", {
                    get: function() {
                        return this._refDistance
                    },
                    set: function(t) {
                        this._refDistance = t
                    }
                }),
                Object.defineProperty(e.prototype, "rollOffFactor", {
                    get: function() {
                        return this._rollOffFactor
                    },
                    set: function(t) {
                        this._rollOffFactor = t
                    }
                }),
                Object.defineProperty(e.prototype, "distanceModel", {
                    get: function() {
                        return this._distanceModel
                    },
                    set: function(t) {
                        this._distanceModel = t
                    }
                })
            } else
                e = function() {}
                ;
            return {
                Kc: e
            }
        }()),
        Object.assign(n, (n.Uc.hasAudioContext() ? (Pe = function(t, e, i) {
            i = i || {},
            this.volume = void 0 === i.volume ? 1 : i.volume,
            this.loop = void 0 !== i.loop && i.loop,
            this.pitch = void 0 === i.pitch ? 1 : i.pitch,
            this.sound = e,
            this.paused = !1,
            this.suspended = !1,
            this.startTime = 0,
            this.startOffset = 0,
            this.manager = t,
            this.source = null;
            var s = t.context;
            this.gain = s.createGain()
        }
        ,
        Object.assign(Pe.prototype, {
            play: function() {
                if (this.source)
                    throw new Error("Call stop() before calling play()");
                this._createSource(),
                this.source && (this.startTime = this.manager.context.currentTime,
                this.source.start(0, this.startOffset % this.source.buffer.duration),
                this.setVolume(this.volume),
                this.setLoop(this.loop),
                this.setPitch(this.pitch),
                this.manager.on("volumechange", this.onManagerVolumeChange, this),
                this.manager.on("suspend", this.onManagerSuspend, this),
                this.manager.on("resume", this.onManagerResume, this),
                this.manager.suspended && this.onManagerSuspend())
            },
            pause: function() {
                this.source && (this.paused = !0,
                this.startOffset += this.manager.context.currentTime - this.startTime,
                this.source.stop(0),
                this.source = null)
            },
            unpause: function() {
                !this.source && this.paused && (this._createSource(),
                this.source && (this.startTime = this.manager.context.currentTime,
                this.source.start(0, this.startOffset % this.source.buffer.duration),
                this.setVolume(this.volume),
                this.setLoop(this.loop),
                this.setPitch(this.pitch),
                this.paused = !1))
            },
            stop: function() {
                this.source && (this.source.stop(0),
                this.source = null),
                this.manager.off("volumechange", this.onManagerVolumeChange, this),
                this.manager.off("suspend", this.onManagerSuspend, this),
                this.manager.off("resume", this.onManagerResume, this)
            },
            setLoop: function(t) {
                this.loop = t,
                this.source && (this.source.loop = t)
            },
            setVolume: function(t) {
                t = n.I.clamp(t, 0, 1),
                this.volume = t,
                this.gain && (this.gain.gain.value = t * this.manager.volume)
            },
            setPitch: function(t) {
                this.pitch = t,
                this.source && (this.source.playbackRate.value = t)
            },
            isPlaying: function() {
                return !this.paused && this.source.playbackState === this.source.PLAYING_STATE
            },
            getDuration: function() {
                return this.source ? this.source.buffer.duration : 0
            },
            _createSource: function() {
                var t = this.manager.context;
                this.sound.buffer && (this.source = t.createBufferSource(),
                this.source.buffer = this.sound.buffer,
                this.source.connect(this.gain),
                this.gain.connect(t.destination),
                this.loop || (this.source.onended = this.pause.bind(this)))
            }
        })) : n.Uc.hasAudio() ? (Pe = function(t, e, i) {
            this.volume = i.volume || 1,
            this.loop = i.loop || !1,
            this.sound = e,
            this.pitch = void 0 !== i.pitch ? i.pitch : 1,
            this.paused = !1,
            this.suspended = !1,
            this.manager = t,
            e.audio && (this.source = e.audio.cloneNode(!1),
            this.source.pause())
        }
        ,
        Object.assign(Pe.prototype, {
            play: function() {
                this.source && (this.paused = !1,
                this.setVolume(this.volume),
                this.setLoop(this.loop),
                this.setPitch(this.pitch),
                this.source.play()),
                this.manager.on("volumechange", this.onManagerVolumeChange, this),
                this.manager.on("suspend", this.onManagerSuspend, this),
                this.manager.on("resume", this.onManagerResume, this),
                this.manager.suspended && this.onManagerSuspend()
            },
            pause: function() {
                this.source && (this.paused = !0,
                this.source.pause())
            },
            unpause: function() {
                this.source && (this.paused = !1,
                this.source.play())
            },
            stop: function() {
                this.source && this.source.pause(),
                this.manager.off("volumechange", this.onManagerVolumeChange, this),
                this.manager.off("suspend", this.onManagerSuspend, this),
                this.manager.off("resume", this.onManagerResume, this)
            },
            setVolume: function(t) {
                t = n.I.clamp(t, 0, 1),
                this.volume = t,
                this.source && (this.source.volume = t * this.manager.volume)
            },
            setLoop: function(t) {
                this.loop = t,
                this.source && (this.source.loop = t)
            },
            setPitch: function(t) {
                this.pitch = t,
                this.source && (this.source.playbackRate = t)
            },
            getDuration: function() {
                return this.source && !isNaN(this.source.duration) ? this.source.duration : 0
            },
            isPlaying: function() {
                return !this.source.paused
            }
        })) : Pe = function() {}
        ,
        Object.assign(Pe.prototype, {
            getVolume: function() {
                return this.volume
            },
            getLoop: function() {
                return this.loop
            },
            getPitch: function() {
                return this.pitch
            },
            onManagerVolumeChange: function() {
                this.setVolume(this.getVolume())
            },
            onManagerSuspend: function() {
                this.isPlaying() && !this.suspended && (this.suspended = !0,
                this.pause())
            },
            onManagerResume: function() {
                this.suspended && (this.suspended = !1,
                this.unpause())
            }
        }),
        {
            Fc: Pe
        })),
        Object.assign(n, function() {
            var t = 1e4, e;
            if (n.Uc.hasAudioContext())
                (e = function(t, e, i) {
                    n.Fc.call(this, t, e, i),
                    this.position = new n.ut,
                    this.velocity = new n.ut;
                    var s = t.context;
                    this.panner = s.createPanner()
                }
                ).prototype = Object.create(n.Fc.prototype),
                e.prototype.constructor = e,
                Object.assign(e.prototype, {
                    getPosition: function() {
                        return this.position
                    },
                    setPosition: function(t) {
                        this.position.copy(t),
                        this.panner.setPosition(t.x, t.y, t.z)
                    },
                    getVelocity: function() {
                        return this.velocity
                    },
                    setVelocity: function(t) {
                        this.velocity.copy(t),
                        this.panner.setVelocity(t.x, t.y, t.z)
                    },
                    getMaxDistance: function() {
                        return this.panner.maxDistance
                    },
                    setMaxDistance: function(t) {
                        this.panner.maxDistance = t
                    },
                    getMinDistance: function() {
                        return this.panner.refDistance
                    },
                    setMinDistance: function(t) {
                        this.panner.refDistance = t
                    },
                    getRollOffFactor: function() {
                        return this.panner.rolloffFactor
                    },
                    setRollOffFactor: function(t) {
                        this.panner.rolloffFactor = t
                    },
                    getDistanceModel: function() {
                        return this.pannel.distanceModel
                    },
                    setDistanceModel: function(t) {
                        this.panner.distanceModel = t
                    },
                    _createSource: function() {
                        var t = this.manager.context;
                        this.source = t.createBufferSource(),
                        this.source.buffer = this.sound.buffer,
                        this.source.connect(this.panner),
                        this.panner.connect(this.gain),
                        this.gain.connect(t.destination),
                        this.loop || (this.source.onended = this.pause.bind(this))
                    }
                });
            else if (n.Uc.hasAudio()) {
                var i = new n.ut
                  , s = function(t, e, s, r, a, h) {
                    var c = (i = i.sub2(t, e)).length();
                    if (c < s)
                        return 1;
                    if (c > r)
                        return 0;
                    var o = 0;
                    return h === n.Wc ? o = 1 - a * (c - s) / (r - s) : h === n.Yc ? o = s / (s + a * (c - s)) : h === n.Xc && (o = Math.pow(c / s, -a)),
                    n.I.clamp(o, 0, 1)
                };
                (e = function(t, e) {
                    n.Fc.call(this, t, e),
                    this.position = new n.ut,
                    this.velocity = new n.ut,
                    this.maxDistance = 1e4,
                    this.minDistance = 1,
                    this.rollOffFactor = 1,
                    this.distanceModel = n.Yc
                }
                ).prototype = Object.create(n.Fc.prototype),
                e.prototype.constructor = e,
                Object.assign(e.prototype, {
                    getPosition: function() {
                        return this.position
                    },
                    setPosition: function(t) {
                        if (this.position.copy(t),
                        this.source) {
                            var e, i = this.manager.listener.getPosition(), n = s(i, this.position, this.minDistance, this.maxDistance, this.rollOffFactor, this.distanceModel), r = this.getVolume();
                            this.source.volume = r * n
                        }
                    },
                    getVelocity: function() {
                        return this.velocity
                    },
                    setVelocity: function(t) {
                        this.velocity.copy(t)
                    },
                    getMaxDistance: function() {
                        return this.maxDistance
                    },
                    setMaxDistance: function(t) {
                        this.maxDistance = t
                    },
                    getMinDistance: function() {
                        return this.minDistance
                    },
                    setMinDistance: function(t) {
                        this.minDistance = t
                    },
                    getRollOffFactor: function() {
                        return this.rollOffFactor
                    },
                    setRollOffFactor: function(t) {
                        this.rollOffFactor = t
                    },
                    getDistanceModel: function() {
                        return this.distanceModel
                    },
                    setDistanceModel: function(t) {
                        this.distanceModel = t
                    }
                })
            } else
                e = function() {}
                ;
            return {
                kc: e
            }
        }()),
        function() {
            var t = {
                Qc: "mouse",
                Jc: "keyboard",
                qc: "gamepad",
                Zc: "mousex",
                $c: "mousey",
                eo: "padlx",
                io: "padly",
                so: "padrx",
                no: "padry",
                ro: "key",
                ao: "keydown",
                ho: "keyup",
                co: "mousedown",
                oo: "mousemove",
                uo: "mouseup",
                fo: "mousewheel",
                do: "touchstart",
                lo: "touchend",
                bo: "touchmove",
                vo: "touchcancel",
                mo: 8,
                po: 9,
                wo: 13,
                xo: 13,
                zo: 16,
                Ao: 17,
                yo: 18,
                Mo: 19,
                So: 20,
                Co: 27,
                Oo: 32,
                Eo: 33,
                Do: 34,
                To: 35,
                Po: 36,
                Bo: 37,
                Io: 38,
                jo: 39,
                Ro: 40,
                Lo: 44,
                No: 45,
                Fo: 46,
                ko: 48,
                Uo: 49,
                Vo: 50,
                Ho: 51,
                Go: 52,
                Wo: 53,
                Yo: 54,
                Xo: 55,
                Ko: 56,
                Qo: 57,
                Jo: 59,
                qo: 61,
                Zo: 65,
                $o: 66,
                tu: 67,
                eu: 68,
                iu: 69,
                su: 70,
                nu: 71,
                ru: 72,
                au: 73,
                hu: 74,
                cu: 75,
                ou: 76,
                uu: 77,
                fu: 78,
                du: 79,
                lu: 80,
                bu: 81,
                vu: 82,
                mu: 83,
                gu: 84,
                pu: 85,
                wu: 86,
                xu: 87,
                zu: 88,
                _u: 89,
                Au: 90,
                yu: 91,
                Mu: 93,
                Su: 96,
                Cu: 97,
                Ou: 98,
                Eu: 99,
                Du: 100,
                Tu: 101,
                Pu: 102,
                Bu: 103,
                Iu: 104,
                ju: 105,
                Ru: 106,
                Lu: 107,
                Nu: 108,
                Fu: 109,
                ku: 110,
                Uu: 111,
                Vu: 112,
                Hu: 113,
                Gu: 114,
                Wu: 115,
                Yu: 116,
                Xu: 117,
                Ku: 118,
                Qu: 119,
                Ju: 120,
                qu: 121,
                Zu: 122,
                $u: 123,
                tf: 188,
                ef: 190,
                if: 191,
                sf: 219,
                nf: 220,
                rf: 221,
                af: 224,
                hf: -1,
                cf: 0,
                uf: 1,
                ff: 2,
                df: 0,
                lf: 1,
                bf: 2,
                vf: 3,
                mf: 0,
                gf: 1,
                pf: 2,
                wf: 3,
                xf: 4,
                zf: 5,
                Af: 6,
                yf: 7,
                Mf: 8,
                Sf: 9,
                Cf: 10,
                Of: 11,
                Ef: 12,
                Df: 13,
                Tf: 14,
                Pf: 15,
                Bf: 16,
                If: 0,
                jf: 1,
                Rf: 2,
                Lf: 3
            };
            Object.assign(n, t),
            n.input = {},
            Object.assign(n.input, t)
        }(),
        Object.assign(n, (Be = function(t, e) {
            var i = {
                x: 0,
                y: 0
            };
            if (e) {
                if (e instanceof Be)
                    throw Error("Expected MouseEvent");
                i = t._getTargetCoords(e)
            } else
                e = {};
            if (i)
                this.x = i.x,
                this.y = i.y;
            else {
                if (!n.Nf.isPointerLocked())
                    return;
                this.x = 0,
                this.y = 0
            }
            e.detail ? this.wheel = -1 * e.detail : e.wheelDelta ? this.wheel = e.wheelDelta / 120 : this.wheel = 0,
            n.Nf.isPointerLocked() ? (this.dx = e.movementX || e.webkitMovementX || e.mozMovementX || 0,
            this.dy = e.movementY || e.webkitMovementY || e.mozMovementY || 0) : (this.dx = this.x - t._lastX,
            this.dy = this.y - t._lastY),
            "mousedown" === e.type || "mouseup" === e.type ? this.button = e.button : this.button = n.hf,
            this.buttons = t._buttons.slice(0),
            this.element = e.target,
            this.ctrlKey = e.ctrlKey || !1,
            this.altKey = e.altKey || !1,
            this.shiftKey = e.shiftKey || !1,
            this.metaKey = e.metaKey || !1,
            this.event = e
        }
        ,
        (Ie = function(t) {
            this._lastX = 0,
            this._lastY = 0,
            this._buttons = [!1, !1, !1],
            this._lastbuttons = [!1, !1, !1],
            this._isPaused = !1,
            this._upHandler = this._handleUp.bind(this),
            this._downHandler = this._handleDown.bind(this),
            this._moveHandler = this._handleMove.bind(this),
            this._wheelHandler = this._handleWheel.bind(this),
            this._contextMenuHandler = function(t) {
                t.preventDefault()
            }
            ,
            this._target = null,
            this._attached = !1,
            this.attach(t),
            n.K.attach(this)
        }
        ).isPointerLocked = function() {
            return !!(document.pointerLockElement || document.mozPointerLockElement || document.webkitPointerLockElement)
        }
        ,
        Object.assign(Ie.prototype, {
            pause: function() {
                this._isPaused = !0
            },
            continue: function() {
                this._isPaused = !1
            },
            attach: function(t) {
                this._target = t,
                this._attached || (this._attached = !0,
                window.addEventListener("mouseup", this._upHandler, !1),
                window.addEventListener("mousedown", this._downHandler, !1),
                window.addEventListener("mousemove", this._moveHandler, !1),
                window.addEventListener("mousewheel", this._wheelHandler, !1),
                window.addEventListener("DOMMouseScroll", this._wheelHandler, !1))
            },
            detach: function() {
                this._attached && (this._attached = !1,
                this._target = null,
                window.removeEventListener("mouseup", this._upHandler),
                window.removeEventListener("mousedown", this._downHandler),
                window.removeEventListener("mousemove", this._moveHandler),
                window.removeEventListener("mousewheel", this._wheelHandler),
                window.removeEventListener("DOMMouseScroll", this._wheelHandler))
            },
            disableContextMenu: function() {
                this._target && this._target.addEventListener("contextmenu", this._contextMenuHandler)
            },
            enableContextMenu: function() {
                this._target && this._target.removeEventListener("contextmenu", this._contextMenuHandler)
            },
            enablePointerLock: function(t, e) {
                if (document.body.requestPointerLock) {
                    var i = function() {
                        t(),
                        document.removeEventListener("pointerlockchange", i)
                    }
                      , s = function() {
                        e(),
                        document.removeEventListener("pointerlockerror", s)
                    };
                    t && document.addEventListener("pointerlockchange", i, !1),
                    e && document.addEventListener("pointerlockerror", s, !1),
                    document.body.requestPointerLock()
                } else
                    e && e()
            },
            disablePointerLock: function(t) {
                if (document.exitPointerLock) {
                    var e = function() {
                        t(),
                        document.removeEventListener("pointerlockchange", e)
                    };
                    t && document.addEventListener("pointerlockchange", e, !1),
                    document.exitPointerLock()
                }
            },
            update: function() {
                this._lastbuttons[0] = this._buttons[0],
                this._lastbuttons[1] = this._buttons[1],
                this._lastbuttons[2] = this._buttons[2]
            },
            isPressed: function(t) {
                return this._buttons[t]
            },
            wasPressed: function(t) {
                return this._buttons[t] && !this._lastbuttons[t]
            },
            wasReleased: function(t) {
                return !this._buttons[t] && this._lastbuttons[t]
            },
            _handleUp: function(t) {
                if (!this._isPaused) {
                    this._buttons[t.button] = !1;
                    var e = new Be(this,t);
                    e.event && this.fire(n.uo, e)
                }
            },
            _handleDown: function(t) {
                if (!this._isPaused) {
                    this._buttons[t.button] = !0;
                    var e = new Be(this,t);
                    e.event && this.fire(n.co, e)
                }
            },
            _handleMove: function(t) {
                if (!this._isPaused) {
                    var e = new Be(this,t);
                    e.event && (this.fire(n.oo, e),
                    this._lastX = e.x,
                    this._lastY = e.y)
                }
            },
            _handleWheel: function(t) {
                if (!this._isPaused) {
                    var e = new Be(this,t);
                    e.event && this.fire(n.fo, e)
                }
            },
            _getTargetCoords: function(t) {
                var e = this._target.getBoundingClientRect()
                  , i = Math.floor(e.left)
                  , s = Math.floor(e.top);
                return t.clientX < i || t.clientX >= i + this._target.clientWidth || t.clientY < s || t.clientY >= s + this._target.clientHeight ? null : {
                    x: t.clientX - i,
                    y: t.clientY - s
                }
            }
        }),
        {
            Nf: Ie,
            MouseEvent: Be
        })),
        Object.assign(n, function() {
            var t = function(t, e) {
                e ? (this.key = e.keyCode,
                this.element = e.target,
                this.event = e) : (this.key = null,
                this.element = null,
                this.event = null)
            }
              , e = new t;
            function i(t) {
                return e.key = t.keyCode,
                e.element = t.target,
                e.event = t,
                e
            }
            function s(t) {
                return "string" == typeof t ? t.toUpperCase().charCodeAt(0) : t
            }
            var r = {
                9: "Tab",
                13: "Enter",
                16: "Shift",
                17: "Control",
                18: "Alt",
                27: "Escape",
                37: "Left",
                38: "Up",
                39: "Right",
                40: "Down",
                46: "Delete",
                91: "Win"
            }
              , a = function(t, e) {
                e = e || {},
                this._element = null,
                this._isPaused = !1,
                this._keyDownHandler = this._handleKeyDown.bind(this),
                this._keyUpHandler = this._handleKeyUp.bind(this),
                this._keyPressHandler = this._handleKeyPress.bind(this),
                n.K.attach(this),
                this._keymap = {},
                this._lastmap = {},
                t && this.attach(t),
                this.preventDefault = e.preventDefault || !1,
                this.stopPropagation = e.stopPropagation || !1
            };
            return a.prototype.pause = function() {
                this._isPaused = !0
            }
            ,
            a.prototype.continue = function() {
                this._isPaused = !1
            }
            ,
            a.prototype.attach = function(t) {
                this._element && this.detach(),
                this._element = t,
                this._element.addEventListener("keydown", this._keyDownHandler, !1),
                this._element.addEventListener("keypress", this._keyPressHandler, !1),
                this._element.addEventListener("keyup", this._keyUpHandler, !1)
            }
            ,
            a.prototype.detach = function() {
                this._element.removeEventListener("keydown", this._keyDownHandler),
                this._element.removeEventListener("keypress", this._keyPressHandler),
                this._element.removeEventListener("keyup", this._keyUpHandler),
                this._element = null
            }
            ,
            a.prototype.toKeyIdentifier = function(t) {
                var e, i, n;
                t = s(t);
                var a = r[t.toString()];
                if (a)
                    return a;
                for (n = (i = t.toString(16).toUpperCase()).length,
                e = 0; e < 4 - n; e++)
                    i = "0" + i;
                return "U+" + i
            }
            ,
            a.prototype._handleKeyDown = function(t) {
                if (!this._isPaused) {
                    var e = t.keyCode || t.charCode;
                    if (void 0 !== e) {
                        var s = this.toKeyIdentifier(e);
                        this._keymap[s] = !0,
                        this.fire("keydown", i(t)),
                        this.preventDefault && t.preventDefault(),
                        this.stopPropagation && t.stopPropagation()
                    }
                }
            }
            ,
            a.prototype._handleKeyUp = function(t) {
                if (!this._isPaused) {
                    var e = t.keyCode || t.charCode;
                    if (void 0 !== e) {
                        var s = this.toKeyIdentifier(e);
                        delete this._keymap[s],
                        this.fire("keyup", i(t)),
                        this.preventDefault && t.preventDefault(),
                        this.stopPropagation && t.stopPropagation()
                    }
                }
            }
            ,
            a.prototype._handleKeyPress = function(t) {
                this.fire("keypress", i(t)),
                this.preventDefault && t.preventDefault(),
                this.stopPropagation && t.stopPropagation()
            }
            ,
            a.prototype.update = function() {
                var t;
                for (t in this._lastmap)
                    delete this._lastmap[t];
                for (t in this._keymap)
                    this._keymap.hasOwnProperty(t) && (this._lastmap[t] = this._keymap[t])
            }
            ,
            a.prototype.isPressed = function(t) {
                var e = s(t)
                  , i = this.toKeyIdentifier(e);
                return !!this._keymap[i]
            }
            ,
            a.prototype.wasPressed = function(t) {
                var e = s(t)
                  , i = this.toKeyIdentifier(e);
                return !!this._keymap[i] && !this._lastmap[i]
            }
            ,
            a.prototype.wasReleased = function(t) {
                var e = s(t)
                  , i = this.toKeyIdentifier(e);
                return !this._keymap[i] && !!this._lastmap[i]
            }
            ,
            {
                Ff: a,
                KeyboardEvent: t
            }
        }()),
        Object.assign(n, (je = function() {
            this.gamepadsSupported = !!navigator.getGamepads || !!navigator.webkitGetGamepads,
            this.current = [],
            this.previous = [],
            this.deadZone = .25
        }
        ,
        Re = {
            DEFAULT: {
                buttons: ["PAD_FACE_1", "PAD_FACE_2", "PAD_FACE_3", "PAD_FACE_4", "PAD_L_SHOULDER_1", "PAD_R_SHOULDER_1", "PAD_L_SHOULDER_2", "PAD_R_SHOULDER_2", "PAD_SELECT", "PAD_START", "PAD_L_STICK_BUTTON", "PAD_R_STICK_BUTTON", "PAD_UP", "PAD_DOWN", "PAD_LEFT", "PAD_RIGHT", "PAD_VENDOR"],
                axes: ["PAD_L_STICK_X", "PAD_L_STICK_Y", "PAD_R_STICK_X", "PAD_R_STICK_Y"]
            },
            PS3: {
                buttons: ["PAD_FACE_1", "PAD_FACE_2", "PAD_FACE_4", "PAD_FACE_3", "PAD_L_SHOULDER_1", "PAD_R_SHOULDER_1", "PAD_L_SHOULDER_2", "PAD_R_SHOULDER_2", "PAD_SELECT", "PAD_START", "PAD_L_STICK_BUTTON", "PAD_R_STICK_BUTTON", "PAD_UP", "PAD_DOWN", "PAD_LEFT", "PAD_RIGHT", "PAD_VENDOR"],
                axes: ["PAD_L_STICK_X", "PAD_L_STICK_Y", "PAD_R_STICK_X", "PAD_R_STICK_Y"]
            }
        },
        Le = {
            "Product: 0268": "PS3"
        },
        Object.assign(je.prototype, {
            update: function() {
                var t, e, i, s, n;
                for (t = 0,
                i = this.current.length; t < i; t++)
                    for (n = (s = this.current[t].pad.buttons).length,
                    e = 0; e < n; e++)
                        void 0 === this.previous[t] && (this.previous[t] = []),
                        this.previous[t][e] = s[e].pressed;
                var r = this.poll();
                for (t = 0,
                i = r.length; t < i; t++)
                    this.current[t] = r[t]
            },
            poll: function() {
                var t = [];
                if (this.gamepadsSupported) {
                    var e = navigator.getGamepads ? navigator.getGamepads() : navigator.webkitGetGamepads(), i, s = e.length;
                    for (i = 0; i < s; i++)
                        e[i] && t.push({
                            map: this.getMap(e[i]),
                            pad: e[i]
                        })
                }
                return t
            },
            getMap: function(t) {
                for (var e in Le)
                    if (t.id.indexOf(e) >= 0)
                        return Re[Le[e]];
                return Re.DEFAULT
            },
            isPressed: function(t, e) {
                if (!this.current[t])
                    return !1;
                var i = this.current[t].map.buttons[e];
                return this.current[t].pad.buttons[n[i]].pressed
            },
            wasPressed: function(t, e) {
                if (!this.current[t])
                    return !1;
                var i = this.current[t].map.buttons[e]
                  , s = n[i];
                return this.current[t].pad.buttons[s].pressed && !this.previous[t][s]
            },
            getAxis: function(t, e) {
                if (!this.current[t])
                    return !1;
                var i = this.current[t].map.axes[e]
                  , s = this.current[t].pad.axes[n[i]];
                return Math.abs(s) < this.deadZone && (s = 0),
                s
            }
        }),
        {
            kf: je
        })),
        Object.assign(n, function() {
            var t = function(t) {
                var e = n.Uf(t);
                this.id = t.identifier,
                this.x = e.x,
                this.y = e.y,
                this.target = t.target,
                this.touch = t
            }
              , e = function(e, i) {
                if (this.element = i.target,
                this.event = i,
                this.touches = [],
                this.changedTouches = [],
                i) {
                    var s, n = i.touches.length;
                    for (s = 0; s < n; s++)
                        this.touches.push(new t(i.touches[s]));
                    for (n = i.changedTouches.length,
                    s = 0; s < n; s++)
                        this.changedTouches.push(new t(i.changedTouches[s]))
                }
            };
            Object.assign(e.prototype, {
                getTouchById: function(t, e) {
                    var i, s = e.length;
                    for (i = 0; i < s; i++)
                        if (e[i].id === t)
                            return e[i];
                    return null
                }
            });
            var i = function(t) {
                this._element = null,
                this._isPaused = !1,
                this._startHandler = this._handleTouchStart.bind(this),
                this._endHandler = this._handleTouchEnd.bind(this),
                this._moveHandler = this._handleTouchMove.bind(this),
                this._cancelHandler = this._handleTouchCancel.bind(this),
                this.attach(t),
                n.K.attach(this)
            };
            return Object.assign(i.prototype, {
                pause: function() {
                    this._isPaused = !0
                },
                continue: function() {
                    this._isPaused = !1
                },
                attach: function(t) {
                    this._element && this.detach(),
                    this._element = t,
                    this._element.addEventListener("touchstart", this._startHandler, !1),
                    this._element.addEventListener("touchend", this._endHandler, !1),
                    this._element.addEventListener("touchmove", this._moveHandler, !1),
                    this._element.addEventListener("touchcancel", this._cancelHandler, !1)
                },
                detach: function() {
                    this._element && (this._element.removeEventListener("touchstart", this._startHandler, !1),
                    this._element.removeEventListener("touchend", this._endHandler, !1),
                    this._element.removeEventListener("touchmove", this._moveHandler, !1),
                    this._element.removeEventListener("touchcancel", this._cancelHandler, !1)),
                    this._element = null
                },
                _handleTouchStart: function(t) {
                    this._isPaused || this.fire("touchstart", new e(this,t))
                },
                _handleTouchEnd: function(t) {
                    this._isPaused || this.fire("touchend", new e(this,t))
                },
                _handleTouchMove: function(t) {
                    this._isPaused || (t.preventDefault(),
                    this.fire("touchmove", new e(this,t)))
                },
                _handleTouchCancel: function(t) {
                    this._isPaused || this.fire("touchcancel", new e(this,t))
                }
            }),
            {
                Uf: function(t) {
                    for (var e = 0, i = 0, s = t.target; !(s instanceof HTMLElement); )
                        s = s.parentNode;
                    var n = s;
                    do {
                        e += n.offsetLeft - n.scrollLeft,
                        i += n.offsetTop - n.scrollTop,
                        n = n.offsetParent
                    } while (n);return {
                        x: t.pageX - e,
                        y: t.pageY - i
                    }
                },
                Vf: i,
                TouchEvent: e
            }
        }()),
        Object.assign(n, ((Ne = function(t, e) {
            e = e || {},
            this._keyboard = e.keyboard || null,
            this._mouse = e.mouse || null,
            this._gamepads = e.gamepads || null,
            this._element = null,
            this._actions = {},
            this._axes = {},
            this._axesValues = {},
            t && this.attach(t)
        }
        ).prototype.attach = function(t) {
            this._element = t,
            this._keyboard && this._keyboard.attach(t),
            this._mouse && this._mouse.attach(t)
        }
        ,
        Ne.prototype.detach = function() {
            this._keyboard && this._keyboard.detach(),
            this._mouse && this._mouse.detach(),
            this._element = null
        }
        ,
        Ne.prototype.disableContextMenu = function() {
            this._mouse || this._enableMouse(),
            this._mouse.disableContextMenu()
        }
        ,
        Ne.prototype.enableContextMenu = function() {
            this._mouse || this._enableMouse(),
            this._mouse.enableContextMenu()
        }
        ,
        Ne.prototype.update = function(t) {
            for (var e in this._keyboard && this._keyboard.update(t),
            this._mouse && this._mouse.update(t),
            this._gamepads && this._gamepads.update(t),
            this._axesValues = {},
            this._axes)
                this._axesValues[e] = []
        }
        ,
        Ne.prototype.registerKeys = function(t, e) {
            if (this._keyboard || this._enableKeyboard(),
            this._actions[t])
                throw new Error(n.string.format("Action: {0} already registered", t));
            if (void 0 === e)
                throw new Error("Invalid button");
            e.length || (e = [e]),
            this._actions[t] ? this._actions[t].push({
                type: n.Jc,
                keys: e
            }) : this._actions[t] = [{
                type: n.Jc,
                keys: e
            }]
        }
        ,
        Ne.prototype.registerMouse = function(t, e) {
            if (this._mouse || this._enableMouse(),
            void 0 === e)
                throw new Error("Invalid button");
            this._actions[t] ? this._actions[t].push({
                type: n.Qc,
                button: e
            }) : this._actions[t] = [{
                type: n.Qc,
                button: -e
            }]
        }
        ,
        Ne.prototype.registerPadButton = function(t, e, i) {
            if (void 0 === i)
                throw new Error("Invalid button");
            this._actions[t] ? this._actions[t].push({
                type: n.qc,
                button: i,
                pad: e
            }) : this._actions[t] = [{
                type: n.qc,
                button: i,
                pad: e
            }]
        }
        ,
        Ne.prototype.registerAxis = function(t) {
            var e = t.name;
            this._axes[e] || (this._axes[e] = []);
            var i = this._axes[e].push(e);
            (t = t || {}).pad = t.pad || n.df;
            var s = function(s, r, a, h) {
                switch (r) {
                case "mousex":
                    s._mouse.on(n.oo, function(t) {
                        s._axesValues[e][i] = t.dx / 10
                    });
                    break;
                case "mousey":
                    s._mouse.on(n.oo, function(t) {
                        s._axesValues[e][i] = t.dy / 10
                    });
                    break;
                case "key":
                    s._axes[e].push(function() {
                        return s._keyboard.isPressed(h) ? a : 0
                    });
                    break;
                case "padrx":
                    s._axes[e].push(function() {
                        return s._gamepads.getAxis(t.pad, n.Rf)
                    });
                    break;
                case "padry":
                    s._axes[e].push(function() {
                        return s._gamepads.getAxis(t.pad, n.Lf)
                    });
                    break;
                case "padlx":
                    s._axes[e].push(function() {
                        return s._gamepads.getAxis(t.pad, n.If)
                    });
                    break;
                case "padly":
                    s._axes[e].push(function() {
                        return s._gamepads.getAxis(t.pad, n.jf)
                    });
                    break;
                default:
                    throw new Error("Unknown axis")
                }
            };
            s(this, t.positive, 1, t.positiveKey),
            (t.negativeKey || t.negative !== t.positive) && s(this, t.negative, -1, t.negativeKey)
        }
        ,
        Ne.prototype.isPressed = function(t) {
            if (!this._actions[t])
                return !1;
            var e, i = 0, s = this._actions[t].length;
            for (i = 0; i < s; ++i)
                switch ((e = this._actions[t][i]).type) {
                case n.Jc:
                    if (this._keyboard) {
                        var r, a = e.keys.length;
                        for (r = 0; r < a; r++)
                            if (this._keyboard.isPressed(e.keys[r]))
                                return !0
                    }
                    break;
                case n.Qc:
                    if (this._mouse && this._mouse.isPressed(e.button))
                        return !0;
                    break;
                case n.qc:
                    if (this._gamepads && this._gamepads.isPressed(e.pad, e.button))
                        return !0
                }
            return !1
        }
        ,
        Ne.prototype.wasPressed = function(t) {
            if (!this._actions[t])
                return !1;
            var e = 0
              , i = this._actions[t].length;
            for (e = 0; e < i; ++e) {
                var s = this._actions[t][e];
                switch (s.type) {
                case n.Jc:
                    if (this._keyboard) {
                        var r, a = s.keys.length;
                        for (r = 0; r < a; r++)
                            if (this._keyboard.wasPressed(s.keys[r]))
                                return !0
                    }
                    break;
                case n.Qc:
                    if (this._mouse && this._mouse.wasPressed(s.button))
                        return !0;
                    break;
                case n.qc:
                    if (this._gamepads && this._gamepads.wasPressed(s.pad, s.button))
                        return !0
                }
            }
            return !1
        }
        ,
        Ne.prototype.getAxis = function(t) {
            var e = 0;
            if (this._axes[t]) {
                var i, s = this._axes[t].length;
                for (i = 0; i < s; i++)
                    if ("function" === n.type(this._axes[t][i])) {
                        var r = this._axes[t][i]();
                        Math.abs(r) > Math.abs(e) && (e = r)
                    } else
                        this._axesValues[t] && Math.abs(this._axesValues[t][i]) > Math.abs(e) && (e = this._axesValues[t][i])
            }
            return e
        }
        ,
        Ne.prototype._enableMouse = function() {
            if (this._mouse = new n.Nf,
            !this._element)
                throw new Error("Controller must be attached to an Element");
            this._mouse.attach(this._element)
        }
        ,
        Ne.prototype._enableKeyboard = function() {
            if (this._keyboard = new n.Ff,
            !this._element)
                throw new Error("Controller must be attached to an Element");
            this._keyboard.attach(this._element)
        }
        ,
        {
            Hf: Ne
        })),
        Object.assign(n, function() {
            var t, e, i = new n.ut, s = new n.ut, r = new n.ut, a = new n.ut, h = new n.ut, c = new n.ut, o = new n.ut, u = new n.ut, f = new n.ut, d = new n.pt, l = new n.ut, b = new n.ut, v = new n.ut, m = new n.ut, g = new n.ut, p = new n.ut, w = new n.ut, x = new n.ut, z = new n.wt, _ = function(t, e, i) {
                return f.cross(t, e).dot(i)
            }, A = function(t, e, i) {
                var s;
                if (r.sub2(e, t),
                a.sub2(i[0], t),
                h.sub2(i[1], t),
                c.sub2(i[2], t),
                u.cross(c, r),
                a.dot(u) >= 0) {
                    if (-h.dot(u) < 0)
                        return !1;
                    if (_(r, h, a) < 0)
                        return !1
                } else {
                    if (o.sub2(i[3], t),
                    o.dot(u) < 0)
                        return !1;
                    if (_(r, a, o) < 0)
                        return !1
                }
                return !(r.sub2(i[0], i[2]).lengthSq() < 1e-8) && !(r.sub2(i[1], i[3]).lengthSq() < 1e-8)
            }, y = function(t, e, i) {
                this.event = t,
                this.element = e,
                this.camera = i,
                this._stopPropagation = !1
            };
            Object.assign(y.prototype, {
                stopPropagation: function() {
                    this._stopPropagation = !0,
                    this.event.stopImmediatePropagation(),
                    this.event.stopPropagation()
                }
            });
            var M = function(t, e, i, s, r, a, h) {
                y.call(this, t, e, i),
                this.x = s,
                this.y = r,
                this.ctrlKey = t.ctrlKey || !1,
                this.altKey = t.altKey || !1,
                this.shiftKey = t.shiftKey || !1,
                this.metaKey = t.metaKey || !1,
                this.button = t.button,
                n.Nf.isPointerLocked() ? (this.dx = t.movementX || t.webkitMovementX || t.mozMovementX || 0,
                this.dy = t.movementY || t.webkitMovementY || t.mozMovementY || 0) : (this.dx = s - a,
                this.dy = r - h),
                t.detail ? this.wheel = -1 * t.detail : t.wheelDelta ? this.wheel = t.wheelDelta / 120 : this.wheel = 0
            };
            (M.prototype = Object.create(y.prototype)).constructor = M;
            var S = function(t, e, i, s, n, r) {
                y.call(this, t, e, i),
                this.touches = t.touches,
                this.changedTouches = t.changedTouches,
                this.x = s,
                this.y = n
            };
            (S.prototype = Object.create(y.prototype)).constructor = S;
            var C = function(t, e) {
                this._app = null,
                this._attached = !1,
                this._target = null,
                this._enabled = !0,
                this._lastX = 0,
                this._lastY = 0,
                this._upHandler = this._handleUp.bind(this),
                this._downHandler = this._handleDown.bind(this),
                this._moveHandler = this._handleMove.bind(this),
                this._wheelHandler = this._handleWheel.bind(this),
                this._touchstartHandler = this._handleTouchStart.bind(this),
                this._touchendHandler = this._handleTouchEnd.bind(this),
                this._touchcancelHandler = this._touchendHandler,
                this._touchmoveHandler = this._handleTouchMove.bind(this),
                this._sortHandler = this._sortElements.bind(this),
                this._elements = [],
                this._hoveredElement = null,
                this._pressedElement = null,
                this._touchedElements = {},
                this._touchesForWhichTouchLeaveHasFired = {},
                this._useMouse = !e || !1 !== e.useMouse,
                this._useTouch = !e || !1 !== e.useTouch,
                n.platform.touch && (this._clickedEntities = {}),
                this.attach(t, e)
            };
            return Object.assign(C.prototype, {
                attach: function(t) {
                    this._attached && (this._attached = !1,
                    this.detach()),
                    this._target = t,
                    this._attached = !0,
                    this._useMouse && (window.addEventListener("mouseup", this._upHandler, {
                        passive: !0
                    }),
                    window.addEventListener("mousedown", this._downHandler, {
                        passive: !0
                    }),
                    window.addEventListener("mousemove", this._moveHandler, {
                        passive: !0
                    }),
                    window.addEventListener("mousewheel", this._wheelHandler, {
                        passive: !0
                    }),
                    window.addEventListener("DOMMouseScroll", this._wheelHandler, {
                        passive: !0
                    })),
                    this._useTouch && n.platform.touch && (this._target.addEventListener("touchstart", this._touchstartHandler, {
                        passive: !0
                    }),
                    this._target.addEventListener("touchend", this._touchendHandler, !1),
                    this._target.addEventListener("touchmove", this._touchmoveHandler, !1),
                    this._target.addEventListener("touchcancel", this._touchcancelHandler, !1))
                },
                detach: function() {
                    this._attached && (this._attached = !1,
                    this._useMouse && (window.removeEventListener("mouseup", this._upHandler, !1),
                    window.removeEventListener("mousedown", this._downHandler, !1),
                    window.removeEventListener("mousemove", this._moveHandler, !1),
                    window.removeEventListener("mousewheel", this._wheelHandler, !1),
                    window.removeEventListener("DOMMouseScroll", this._wheelHandler, !1)),
                    this._useTouch && (this._target.removeEventListener("touchstart", this._touchstartHandler, !1),
                    this._target.removeEventListener("touchend", this._touchendHandler, !1),
                    this._target.removeEventListener("touchmove", this._touchmoveHandler, !1),
                    this._target.removeEventListener("touchcancel", this._touchcancelHandler, !1)),
                    this._target = null)
                },
                addElement: function(t) {
                    -1 === this._elements.indexOf(t) && this._elements.push(t)
                },
                removeElement: function(t) {
                    var e = this._elements.indexOf(t);
                    -1 !== e && this._elements.splice(e, 1)
                },
                _handleUp: function(e) {
                    this._enabled && (n.Nf.isPointerLocked() || (this._calcMouseCoords(e),
                    null !== t && this._onElementMouseEvent(e)))
                },
                _handleDown: function(e) {
                    this._enabled && (n.Nf.isPointerLocked() || (this._calcMouseCoords(e),
                    null !== t && this._onElementMouseEvent(e)))
                },
                _handleMove: function(i) {
                    this._enabled && (this._calcMouseCoords(i),
                    null !== t && (this._onElementMouseEvent(i),
                    this._lastX = t,
                    this._lastY = e))
                },
                _handleWheel: function(e) {
                    this._enabled && (this._calcMouseCoords(e),
                    null !== t && this._onElementMouseEvent(e))
                },
                _determineTouchedElements: function(t) {
                    var e = {}, i = this.app.systems.camera.cameras, s, n, r;
                    for (s = i.length - 1; s >= 0; s--) {
                        var a = i[s]
                          , h = 0;
                        for (n = 0,
                        r = t.changedTouches.length; n < r; n++)
                            if (e[t.changedTouches[n].identifier])
                                h++;
                            else {
                                var c = this._calcTouchCoords(t.changedTouches[n])
                                  , o = this._getTargetElement(a, c.x, c.y);
                                o && (h++,
                                e[t.changedTouches[n].identifier] = {
                                    element: o,
                                    camera: a,
                                    x: c.x,
                                    y: c.y
                                })
                            }
                        if (h === r)
                            break
                    }
                    return e
                },
                _handleTouchStart: function(t) {
                    if (this._enabled) {
                        for (var e = this._determineTouchedElements(t), i = 0, s = t.changedTouches.length; i < s; i++) {
                            var n = t.changedTouches[i]
                              , r = e[n.identifier]
                              , a = this._touchedElements[n.identifier];
                            !r || a && r.element === a.element || (this._fireEvent(t.type, new S(t,r.element,r.camera,r.x,r.y,this)),
                            this._touchesForWhichTouchLeaveHasFired[n.identifier] = !1)
                        }
                        for (var h in e)
                            this._touchedElements[h] = e[h]
                    }
                },
                _handleTouchEnd: function(t) {
                    if (this._enabled) {
                        var e = this.app.systems.camera.cameras;
                        for (var i in this._clickedEntities)
                            delete this._clickedEntities[i];
                        for (var s = 0, n = t.changedTouches.length; s < n; s++) {
                            var r = t.changedTouches[s]
                              , a = this._touchedElements[r.identifier];
                            if (a) {
                                var h = a.element
                                  , c = a.camera
                                  , o = a.x
                                  , u = a.y;
                                if (delete this._touchedElements[r.identifier],
                                delete this._touchesForWhichTouchLeaveHasFired[r.identifier],
                                this._fireEvent(t.type, new S(t,h,c,o,u,this)),
                                0 === t.touches.length)
                                    for (var f = this._calcTouchCoords(r), d = e.length - 1; d >= 0; d--) {
                                        var l;
                                        this._getTargetElement(e[d], f.x, f.y) === h && (this._clickedEntities[h.Bc.getGuid()] || (this._fireEvent("click", new S(t,h,c,o,u,this)),
                                        this._clickedEntities[h.Bc.getGuid()] = !0))
                                    }
                            }
                        }
                    }
                },
                _handleTouchMove: function(t) {
                    if (t.preventDefault(),
                    this._enabled)
                        for (var e = this._determineTouchedElements(t), i = 0, s = t.changedTouches.length; i < s; i++) {
                            var n = t.changedTouches[i]
                              , r = e[n.identifier]
                              , a = this._touchedElements[n.identifier];
                            if (a) {
                                var h = this._calcTouchCoords(n);
                                r && r.element === a.element || this._touchesForWhichTouchLeaveHasFired[n.identifier] || (this._fireEvent("touchleave", new S(t,a.element,a.camera,h.x,h.y,this)),
                                this._touchesForWhichTouchLeaveHasFired[n.identifier] = !0),
                                this._fireEvent("touchmove", new S(t,a.element,a.camera,h.x,h.y,this))
                            }
                        }
                },
                _onElementMouseEvent: function(i) {
                    var s, r = this._hoveredElement;
                    this._hoveredElement = null;
                    for (var a = this.app.systems.camera.cameras, h, c = a.length - 1; c >= 0 && (h = a[c],
                    !(s = this._getTargetElement(h, t, e))); c--)
                        ;
                    s && (this._fireEvent(i.type, new M(i,s,h,t,e,this._lastX,this._lastY)),
                    this._hoveredElement = s,
                    i.type === n.co && (this._pressedElement = s)),
                    r !== this._hoveredElement && (r && this._fireEvent("mouseleave", new M(i,r,h,t,e,this._lastX,this._lastY)),
                    this._hoveredElement && this._fireEvent("mouseenter", new M(i,this._hoveredElement,h,t,e,this._lastX,this._lastY))),
                    i.type === n.uo && this._pressedElement && (this._pressedElement === this._hoveredElement ? (this._pressedElement = null,
                    this._clickedEntities && this._clickedEntities[this._hoveredElement.Bc.getGuid()] || this._fireEvent("click", new M(i,this._hoveredElement,h,t,e,this._lastX,this._lastY))) : this._pressedElement = null)
                },
                _fireEvent: function(t, e) {
                    for (var i = e.element; i.fire(t, e),
                    !e._stopPropagation && i.Bc.parent && (i = i.Bc.parent.element); )
                        ;
                },
                _calcMouseCoords: function(i) {
                    var s = this._target.getBoundingClientRect()
                      , n = Math.floor(s.left)
                      , r = Math.floor(s.top);
                    i.clientX < n || i.clientX >= n + this._target.clientWidth || i.clientY < r || i.clientY >= r + this._target.clientHeight ? (t = null,
                    e = null) : (t = i.clientX - n,
                    e = i.clientY - r)
                },
                _calcTouchCoords: function(t) {
                    for (var e = 0, i = 0, s = t.target; !(s instanceof HTMLElement); )
                        s = s.parentNode;
                    var n = s;
                    do {
                        e += n.offsetLeft - n.scrollLeft,
                        i += n.offsetTop - n.scrollTop,
                        n = n.offsetParent
                    } while (n);return {
                        x: t.pageX - e,
                        y: t.pageY - i
                    }
                },
                _sortElements: function(t, e) {
                    var i = this.app.scene.layers.sortTransparentLayers(t.layers, e.layers);
                    return 0 !== i ? i : t.screen && !e.screen ? -1 : !t.screen && e.screen ? 1 : t.screen || e.screen ? t.screen.screen.screenSpace && !e.screen.screen.screenSpace ? -1 : e.screen.screen.screenSpace && !t.screen.screen.screenSpace ? 1 : e.drawOrder - t.drawOrder : 0
                },
                _getTargetElement: function(t, e, i) {
                    var s = null;
                    this._elements.sort(this._sortHandler);
                    for (var n = 0, r = this._elements.length; n < r; n++) {
                        var a = this._elements[n];
                        if (a.screen && a.screen.screen.screenSpace) {
                            if (this._checkElement2d(e, i, a, t)) {
                                s = a;
                                break
                            }
                        } else if (this._checkElement3d(e, i, a, t)) {
                            s = a;
                            break
                        }
                    }
                    return s
                },
                _buildHitCorners: function(t, e, i, s) {
                    var n = e, r;
                    if (t.Bc && t.Bc.button) {
                        var a = t.Bc.button.hitPadding || z;
                        l.copy(t.Bc.up),
                        b.copy(l).scale(-1),
                        m.copy(t.Bc.right),
                        v.copy(m).scale(-1),
                        l.scale(a.w * s),
                        b.scale(a.y * s),
                        m.scale(a.z * i),
                        v.scale(a.x * i),
                        g.copy(n[0]).add(b).add(v),
                        p.copy(n[1]).add(b).add(m),
                        w.copy(n[2]).add(l).add(m),
                        x.copy(n[3]).add(l).add(v),
                        n = [g, p, w, x]
                    }
                    return n
                },
                _calculateScaleToScreen: function(t) {
                    var e = t.Bc
                      , i = t.screen.screen.scale;
                    for (d.set(i, i); e && !e.screen; )
                        d.mul(e.getLocalScale()),
                        e = e.parent;
                    return d
                },
                _checkElement2d: function(t, e, n, r) {
                    var a;
                    if (n.maskedBy && !this._checkElement2d(t, e, n.maskedBy.element, r))
                        return !1;
                    var h = this.app.Br.width
                      , c = this.app.Br.height
                      , o = r.rect.z * h
                      , u = r.rect.w * c
                      , f = r.rect.x * h
                      , d = f + o
                      , l = (1 - r.rect.y) * c
                      , b = l - u
                      , v = t * h / this._target.clientWidth
                      , m = e * c / this._target.clientHeight;
                    if (v >= f && v <= d && m <= l && m >= b) {
                        v = h * (v - f) / o,
                        m = c - (m = c * (m - b) / u);
                        var g = this._calculateScaleToScreen(n)
                          , p = this._buildHitCorners(n, n.screenCorners, g.x, g.y);
                        if (i.set(v, m, 1),
                        s.set(v, m, -1),
                        A(i, s, p))
                            return !0
                    }
                    return !1
                },
                _checkElement3d: function(t, e, n, r) {
                    var a;
                    if (n.maskedBy && !this._checkElement3d(t, e, n.maskedBy.element, r))
                        return !1;
                    var h = this._target.clientWidth
                      , c = this._target.clientHeight
                      , o = r.rect.z * h
                      , u = r.rect.w * c
                      , f = r.rect.x * h
                      , d = f + o
                      , l = (1 - r.rect.y) * c
                      , b = l - u
                      , v = t
                      , m = e;
                    if (t >= f && t <= d && e <= l && m >= b) {
                        v = h * (v - f) / o,
                        m = c * (m - b) / u;
                        var g = n.Bc.getWorldTransform().getScale()
                          , p = this._buildHitCorners(n, n.worldCorners, g.x, g.y)
                          , w = i
                          , x = s;
                        if (r.screenToWorld(v, m, r.nearClip, w),
                        r.screenToWorld(v, m, r.farClip, x),
                        A(w, x, p))
                            return !0
                    }
                    return !1
                }
            }),
            Object.defineProperty(C.prototype, "enabled", {
                get: function() {
                    return this._enabled
                },
                set: function(t) {
                    this._enabled = t
                }
            }),
            Object.defineProperty(C.prototype, "app", {
                get: function() {
                    return this._app || n.app
                },
                set: function(t) {
                    this._app = t
                }
            }),
            {
                Gf: C,
                Wf: y,
                Yf: M,
                Xf: S
            }
        }()),
        Object.assign(n, ((Fe = function(t) {
            n.K.attach(this);
            var e = this;
            this.isSupported = Fe.isSupported,
            this.usesPolyfill = Fe.usesPolyfill,
            window.InitializeWebVRPolyfill && window.InitializeWebVRPolyfill(),
            this._index = {},
            this.displays = [],
            this.display = null,
            this._app = t,
            this._onDisplayConnect = this._onDisplayConnect.bind(this),
            this._onDisplayDisconnect = this._onDisplayDisconnect.bind(this),
            e._attach(),
            this._getDisplays(function(t, i) {
                if (t)
                    e.fire("error", t);
                else {
                    for (var s = 0; s < i.length; s++)
                        e._addDisplay(i[s]);
                    e.fire("ready", e.displays)
                }
            })
        }
        ).isSupported = !!navigator.getVRDisplays,
        Fe.usesPolyfill = !!window.InitializeWebVRPolyfill,
        Object.assign(Fe.prototype, {
            _attach: function() {
                window.addEventListener("vrdisplayconnect", this._onDisplayConnect),
                window.addEventListener("vrdisplaydisconnect", this._onDisplayDisconnect)
            },
            _detach: function() {
                window.removeEventListener("vrdisplayconnect", this._onDisplayConnect),
                window.removeEventListener("vrdisplaydisconnect", this._onDisplayDisconnect)
            },
            destroy: function() {
                this._detach()
            },
            poll: function() {
                var t = this.displays.length;
                if (t)
                    for (var e = 0; e < t; e++)
                        this.displays[e]._camera && this.displays[e].poll()
            },
            _getDisplays: function(t) {
                navigator.getVRDisplays ? navigator.getVRDisplays().then(function(e) {
                    t && t(null, e)
                }) : t && t(new Error("WebVR not supported"))
            },
            _addDisplay: function(t) {
                if (!this._index[t.displayId]) {
                    var e = new n.Kf(this._app,t);
                    this._index[e.id] = e,
                    this.displays.push(e),
                    this.display || (this.display = e),
                    this.fire("displayconnect", e)
                }
            },
            _onDisplayConnect: function(t) {
                t.detail && t.detail.display ? this._addDisplay(t.detail.display) : this._addDisplay(t.display)
            },
            _onDisplayDisconnect: function(t) {
                var e;
                e = t.detail && t.detail.display ? t.detail.display.displayId : t.display.displayId;
                var i = this._index[e];
                if (i) {
                    i.destroy(),
                    delete this._index[i.id];
                    var s = this.displays.indexOf(i);
                    this.displays.splice(s, 1),
                    this.display === i && (this.displays.length ? this.display = this.displays[0] : this.display = null),
                    this.fire("displaydisconnect", i)
                }
            }
        }),
        {
            Qf: Fe
        })),
        Object.assign(n, (ke = function(t, e) {
            var i = this;
            this._app = t,
            this._device = t.Br,
            this.id = e.displayId,
            this._frameData = null,
            window.VRFrameData && (this._frameData = new window.VRFrameData),
            this.display = e,
            this._camera = null,
            this.sitToStandInv = new n.zt,
            this.leftView = new n.zt,
            this.leftProj = new n.zt,
            this.leftViewInv = new n.zt,
            this.leftPos = new n.ut,
            this.rightView = new n.zt,
            this.rightProj = new n.zt,
            this.rightViewInv = new n.zt,
            this.rightPos = new n.ut,
            this.combinedPos = new n.ut,
            this.combinedView = new n.zt,
            this.combinedProj = new n.zt,
            this.combinedViewInv = new n.zt,
            this.combinedFov = 0,
            this.combinedAspect = 0,
            this.presenting = !1,
            i._presentChange = function(t) {
                var e;
                if ((e = t.display ? t.display : t.detail && t.detail.display ? t.detail.display : t.detail && t.detail.vrdisplay ? t.detail.vrdisplay : i.display) === i.display) {
                    if (i.presenting = i.display && i.display.isPresenting,
                    i.presenting) {
                        var s = i.display.getEyeParameters("left")
                          , r = i.display.getEyeParameters("right")
                          , a = 2 * Math.max(s.renderWidth, r.renderWidth)
                          , h = Math.max(s.renderHeight, r.renderHeight);
                        i._app.Br.setResolution(a, h),
                        i._app._allowResize = !1
                    } else
                        i._app.setCanvasResolution(n.Jf),
                        i._app._allowResize = !0;
                    i.fire("beforepresentchange", i),
                    i.fire("presentchange", i)
                }
            }
            ,
            window.addEventListener("vrdisplaypresentchange", i._presentChange, !1),
            n.K.attach(this)
        }
        ,
        Object.assign(ke.prototype, {
            destroy: function() {
                window.removeEventListener("vrdisplaypresentchange", self._presentChange),
                this._camera && (this._camera.vrDisplay = null),
                this._camera = null
            },
            poll: function() {
                if (this.display) {
                    this.display.getFrameData(this._frameData),
                    this.leftProj.data = this._frameData.leftProjectionMatrix,
                    this.rightProj.data = this._frameData.rightProjectionMatrix;
                    var t = this.display.stageParameters;
                    t ? (this.sitToStandInv.set(t.sittingToStandingTransform).invert(),
                    this.combinedView.set(this._frameData.leftViewMatrix),
                    this.leftView.mul2(this.combinedView, this.sitToStandInv),
                    this.combinedView.set(this._frameData.rightViewMatrix),
                    this.rightView.mul2(this.combinedView, this.sitToStandInv)) : (this.leftView.set(this._frameData.leftViewMatrix),
                    this.rightView.set(this._frameData.rightViewMatrix));
                    var e = this.leftProj.data[3] + this.leftProj.data[0]
                      , i = this.leftProj.data[11] + this.leftProj.data[8]
                      , s = 1 / Math.sqrt(e * e + i * i);
                    e *= s,
                    i *= s;
                    var r = -Math.atan2(i, e);
                    e = this.rightProj.data[3] + this.rightProj.data[0],
                    i = this.rightProj.data[11] + this.rightProj.data[8],
                    e *= s = 1 / Math.sqrt(e * e + i * i),
                    i *= s,
                    r = Math.max(r, -Math.atan2(i, e)),
                    r *= 2,
                    this.combinedFov = r;
                    var a = this.rightProj.data[5] / this.rightProj.data[0];
                    this.combinedAspect = a;
                    var h = this.combinedView;
                    h.copy(this.leftView),
                    h.invert(),
                    this.leftViewInv.copy(h);
                    var c = this.combinedPos;
                    c.x = this.leftPos.x = h.data[12],
                    c.y = this.leftPos.y = h.data[13],
                    c.z = this.leftPos.z = h.data[14],
                    h.copy(this.rightView),
                    h.invert(),
                    this.rightViewInv.copy(h);
                    var o = c.x - h.data[12]
                      , u = c.y - h.data[13]
                      , f = c.z - h.data[14]
                      , d = Math.sqrt(o * o + u * u + f * f);
                    this.rightPos.x = h.data[12],
                    this.rightPos.y = h.data[13],
                    this.rightPos.z = h.data[14],
                    c.x += h.data[12],
                    c.y += h.data[13],
                    c.z += h.data[14],
                    c.x *= .5,
                    c.y *= .5,
                    c.z *= .5;
                    var l = .5 * Math.PI
                      , b = .5 * r
                      , v = Math.PI - (l + b)
                      , m = .5 * d * Math.sin(v)
                      , g = h.data[8]
                      , p = h.data[9]
                      , w = h.data[10];
                    h.data[12] = c.x + g * m,
                    h.data[13] = c.y + p * m,
                    h.data[14] = c.z + w * m,
                    this.combinedViewInv.copy(h),
                    h.invert(),
                    this.combinedProj.setPerspective(r * n.I.tt, a, this.display.depthNear + m, this.display.depthFar + m, !0)
                }
            },
            requestPresent: function(t) {
                this.display ? this.presenting ? t && t(new Error("VrDisplay already presenting")) : this.display.requestPresent([{
                    source: this._device.canvas
                }]).then(function() {
                    t && t()
                }, function(e) {
                    t && t(e)
                }) : t && t(new Error("No VrDisplay to requestPresent"))
            },
            exitPresent: function(t) {
                this.display || t && t(new Error("No VrDisplay to exitPresent")),
                this.presenting ? this.display.exitPresent().then(function() {
                    t && t()
                }, function() {
                    t && t(new Error("exitPresent failed"))
                }) : t && t(new Error("VrDisplay not presenting"))
            },
            requestAnimationFrame: function(t) {
                this.display && this.display.requestAnimationFrame(t)
            },
            submitFrame: function() {
                this.display && this.display.submitFrame()
            },
            reset: function() {
                this.display && this.display.resetPose()
            },
            setClipPlanes: function(t, e) {
                this.display && (this.display.depthNear = t,
                this.display.depthFar = e)
            },
            getFrameData: function() {
                if (this.display)
                    return this._frameData
            }
        }),
        Object.defineProperty(ke.prototype, "capabilities", {
            get: function() {
                return this.display ? this.display.capabilities : {}
            }
        }),
        {
            Kf: ke
        })),
        Object.assign(n, ((Ue = function t() {}
        ).ContentType = {
            FORM_URLENCODED: "application/x-www-form-urlencoded",
            GIF: "image/gif",
            JPEG: "image/jpeg",
            DDS: "image/dds",
            GTC: "image/gtc",
            JSON: "application/json",
            PNG: "image/png",
            TEXT: "text/plain",
            XML: "application/xml",
            WAV: "audio/x-wav",
            OGG: "audio/ogg",
            MP3: "audio/mpeg",
            MP4: "audio/mp4",
            AAC: "audio/aac",
            BIN: "application/octet-stream"
        },
        Ue.ResponseType = {
            TEXT: "text",
            ARRAY_BUFFER: "arraybuffer",
            BLOB: "blob",
            DOCUMENT: "document"
        },
        Ue.binaryExtensions = [".model", ".wav", ".ogg", ".mp3", ".mp4", ".m4a", ".aac", ".dds", ".gtc"],
        Object.assign(Ue.prototype, {
            ContentType: Ue.ContentType,
            ResponseType: Ue.ResponseType,
            binaryExtensions: Ue.binaryExtensions,
            get: function(t, e, i) {
                return "function" == typeof e && (i = e,
                e = {}),
                this.request("GET", t, e, i)
            },
            post: function(t, e, i, s) {
                return "function" == typeof i && (s = i,
                i = {}),
                i.postdata = e,
                this.request("POST", t, i, s)
            },
            put: function(t, e, i, s) {
                return "function" == typeof i && (s = i,
                i = {}),
                i.postdata = e,
                this.request("PUT", t, i, s)
            },
            del: function(t, e, i) {
                return "function" == typeof e && (i = e,
                e = {}),
                this.request("DELETE", t, e, i)
            },
            request: function(t, e, i, s) {
                var r, a, h, c, o, u = !1;
                if ("function" == typeof i && (s = i,
                i = {}),
                i.callback = s,
                null == i.async && (i.async = !0),
                null == i.headers && (i.headers = {}),
                null != i.postdata)
                    if (i.postdata instanceof Document)
                        c = i.postdata;
                    else if (i.postdata instanceof FormData)
                        c = i.postdata;
                    else if (i.postdata instanceof Object) {
                        var f = i.headers["Content-Type"];
                        switch (void 0 === f && (i.headers["Content-Type"] = Ue.ContentType.FORM_URLENCODED,
                        f = i.headers["Content-Type"]),
                        f) {
                        case Ue.ContentType.FORM_URLENCODED:
                            c = "";
                            var d = !0;
                            for (var l in i.postdata)
                                i.postdata.hasOwnProperty(l) && (d ? d = !1 : c += "&",
                                c += escape(l) + "=" + escape(i.postdata[l]));
                            break;
                        default:
                        case Ue.ContentType.JSON:
                            null == f && (i.headers["Content-Type"] = Ue.ContentType.JSON),
                            c = JSON.stringify(i.postdata)
                        }
                    } else
                        c = i.postdata;
                for (var b in o || (o = new XMLHttpRequest),
                !1 === i.cache && (h = n.time.now(),
                (r = new n.URI(e)).query ? r.query = r.query + "&ts=" + h : r.query = "ts=" + h,
                e = r.toString()),
                i.query && (r = new n.URI(e),
                a = n.extend(r.getQuery(), i.query),
                r.setQuery(a),
                e = r.toString()),
                o.open(t, e, i.async),
                o.withCredentials = void 0 !== i.withCredentials && i.withCredentials,
                o.responseType = i.responseType || this._guessResponseType(e),
                i.headers)
                    i.headers.hasOwnProperty(b) && o.setRequestHeader(b, i.headers[b]);
                o.onreadystatechange = function() {
                    this._onReadyStateChange(t, e, i, o)
                }
                .bind(this),
                o.onerror = function() {
                    this._onError(t, e, i, o),
                    u = !0
                }
                .bind(this);
                try {
                    o.send(c)
                } catch (t) {
                    u || i.error(o.status, o, t)
                }
                return o
            },
            _guessResponseType: function(t) {
                var e = new n.URI(t)
                  , i = n.path.getExtension(e.path);
                return Ue.binaryExtensions.indexOf(i) >= 0 ? Ue.ResponseType.ARRAY_BUFFER : ".xml" === i ? Ue.ResponseType.DOCUMENT : Ue.ResponseType.TEXT
            },
            _isBinaryContentType: function(t) {
                var e;
                return [Ue.ContentType.MP4, Ue.ContentType.WAV, Ue.ContentType.OGG, Ue.ContentType.MP3, Ue.ContentType.BIN, Ue.ContentType.DDS, Ue.ContentType.GTC].indexOf(t) >= 0
            },
            _onReadyStateChange: function(t, e, i, s) {
                if (4 === s.readyState)
                    switch (s.status) {
                    case 0:
                        "/" != e[0] && this._onSuccess(t, e, i, s);
                        break;
                    case 200:
                    case 201:
                    case 206:
                    case 304:
                        this._onSuccess(t, e, i, s);
                        break;
                    default:
                        this._onError(t, e, i, s)
                    }
            },
            _onSuccess: function(t, e, i, s) {
                var n, r, a, h;
                (r = s.getResponseHeader("Content-Type")) && (a = (h = r.split(";"))[0].trim()),
                n = a === this.ContentType.JSON || e.split("?")[0].endsWith(".json") ? JSON.parse(s.responseText) : this._isBinaryContentType(a) ? s.response : s.responseType === Ue.ResponseType.ARRAY_BUFFER ? s.response : s.responseType === Ue.ResponseType.DOCUMENT || a === this.ContentType.XML ? s.responseXML : s.responseText,
                i.callback(null, n)
            },
            _onError: function(t, e, i, s) {
                i.callback(s.status, null)
            }
        }),
        {
            Http: Ue,
            http: new Ue
        })),
        Object.assign(n, ((Ve = function(t) {
            n.K.attach(this),
            this.app = t,
            this._scripts = {},
            this._list = []
        }
        ).prototype.destroy = function() {
            this.app = null,
            this.off()
        }
        ,
        Ve.prototype.add = function(t) {
            var e = this;
            return this._scripts.hasOwnProperty(t.__name) ? (setTimeout(function() {
                if (t.prototype.swap) {
                    var i = e._scripts[t.__name]
                      , s = e._list.indexOf(i);
                    e._list[s] = t,
                    e._scripts[t.__name] = t,
                    e.fire("swap", t.__name, t),
                    e.fire("swap:" + t.__name, t)
                }
            }),
            !1) : (this._scripts[t.__name] = t,
            this._list.push(t),
            this.fire("add", t.__name, t),
            this.fire("add:" + t.__name, t),
            setTimeout(function() {
                if (e._scripts.hasOwnProperty(t.__name) && e.app && e.app.systems && e.app.systems.script) {
                    var i = e.app.systems.script._components, s, n, r, a = [], h = [];
                    for (i.loopIndex = 0; i.loopIndex < i.length; i.loopIndex++) {
                        var c = i.items[i.loopIndex];
                        c._scriptsIndex[t.__name] && c._scriptsIndex[t.__name].awaiting && (c._scriptsData && c._scriptsData[t.__name] && (r = c._scriptsData[t.__name].attributes),
                        (n = c.create(t.__name, {
                            preloading: !0,
                            ind: c._scriptsIndex[t.__name].ind,
                            attributes: r
                        })) && a.push(n))
                    }
                    for (s = 0; s < a.length; s++)
                        a[s].__initializeAttributes();
                    for (s = 0; s < a.length; s++)
                        a[s].enabled && (a[s]._initialized = !0,
                        h.push(a[s]),
                        a[s].initialize && a[s].initialize());
                    for (s = 0; s < h.length; s++)
                        h[s].enabled && !h[s]._postInitialized && (h[s]._postInitialized = !0,
                        h[s].postInitialize && h[s].postInitialize())
                }
            }),
            !0)
        }
        ,
        Ve.prototype.remove = function(t) {
            if ("function" == typeof t && (t = t.__name),
            !this._scripts.hasOwnProperty(t))
                return !1;
            var e = this._scripts[t];
            delete this._scripts[t];
            var i = this._list.indexOf(e);
            return this._list.splice(i, 1),
            this.fire("remove", t, e),
            this.fire("remove:" + t, e),
            !0
        }
        ,
        Ve.prototype.get = function(t) {
            return this._scripts[t] || null
        }
        ,
        Ve.prototype.has = function(t) {
            return this._scripts.hasOwnProperty(t)
        }
        ,
        Ve.prototype.list = function() {
            return this._list
        }
        ,
        {
            qf: Ve
        })),
        Object.assign(n, function() {
            var t = ["x", "y", "z", "w"]
              , e = function(e, i, s, r) {
                var a;
                switch (i.type) {
                case "boolean":
                    return !!s;
                case "number":
                    if ("number" == typeof s)
                        return s;
                    if ("string" == typeof s) {
                        var h = parseInt(s, 10);
                        return isNaN(h) ? null : h
                    }
                    return "boolean" == typeof s ? 0 + s : null;
                case "json":
                    if ("object" == typeof s)
                        return s;
                    try {
                        return JSON.parse(s)
                    } catch (t) {
                        return null
                    }
                case "asset":
                    return s instanceof n.Zf ? s : "number" == typeof s ? e.assets.get(s) || null : "string" == typeof s && e.assets.get(parseInt(s, 10)) || null;
                case "entity":
                    return s instanceof n.Gh ? s : "string" == typeof s ? e.root.findByGuid(s) : null;
                case "rgb":
                case "rgba":
                    if (s instanceof n.D)
                        return r instanceof n.D ? (r.copy(s),
                        r) : s.clone();
                    if (s instanceof Array && s.length >= 3 && s.length <= 4) {
                        for (a = 0; a < s.length; a++)
                            if ("number" != typeof s[a])
                                return null;
                        return r || (r = new n.D),
                        r.r = s[0],
                        r.g = s[1],
                        r.b = s[2],
                        r.a = 3 === s.length ? 1 : s[3],
                        r
                    }
                    return "string" == typeof s && /#([0-9abcdef]{2}){3,4}/i.test(s) ? (r || (r = new n.D),
                    r.fromString(s),
                    r) : null;
                case "vec2":
                case "vec3":
                case "vec4":
                    var c = parseInt(i.type.slice(3), 10);
                    if (s instanceof n["Vec" + c])
                        return r instanceof n["Vec" + c] ? (r.copy(s),
                        r) : s.clone();
                    if (s instanceof Array && s.length === c) {
                        for (a = 0; a < s.length; a++)
                            if ("number" != typeof s[a])
                                return null;
                        for (r || (r = new n["Vec" + c]),
                        a = 0; a < c; a++)
                            r[t[a]] = s[a];
                        return r
                    }
                    return null;
                case "curve":
                    if (s) {
                        var o, u;
                        if (s instanceof n.Et || s instanceof n.It)
                            o = s.clone();
                        else
                            (o = new (s.keys[0]instanceof Array ? n.It : n.Et)(s.keys)).type = s.type;
                        return o
                    }
                }
                return s
            }
              , i = function(t) {
                this.scriptType = t,
                this.index = {}
            };
            i.prototype.add = function(t, i) {
                this.index[t] || n.td.$f[t] || (this.index[t] = i,
                Object.defineProperty(this.scriptType.prototype, t, {
                    get: function() {
                        return this.__attributes[t]
                    },
                    set: function(s) {
                        var n = this.__attributes[t], r, a;
                        if (i.array) {
                            if (this.__attributes[t] = [],
                            s)
                                for (r = 0,
                                a = s.length; r < a; r++)
                                    this.__attributes[t].push(e(this.app, i, s[r], n ? n[r] : null))
                        } else
                            this.__attributes[t] = e(this.app, i, s, n);
                        this.fire("attr", t, this.__attributes[t], n),
                        this.fire("attr:" + t, this.__attributes[t], n)
                    }
                }))
            }
            ,
            i.prototype.remove = function(t) {
                return !!this.index[t] && (delete this.index[t],
                delete this.scriptType.prototype[t],
                !0)
            }
            ,
            i.prototype.has = function(t) {
                return !!this.index[t]
            }
            ,
            i.prototype.get = function(t) {
                return this.index[t] || null
            }
            ;
            var s = function(t, e) {
                if (n.script.legacy)
                    return null;
                if (s.reservedScripts[t])
                    throw new Error("script name: '" + t + "' is reserved, please change script name");
                var r = function(t) {
                    n.K.attach(this),
                    this.app = t.app,
                    this.Bc = t.Bc,
                    this._enabled = "boolean" != typeof t.enabled || t.enabled,
                    this._enabledOld = this.enabled,
                    this.__destroyed = !1,
                    this.__attributes = {},
                    this.__attributesRaw = t.attributes || null,
                    this.__scriptType = r,
                    this.__executionOrder = -1
                }, a;
                return r.__name = t,
                r.attributes = new i(r),
                r.prototype.__initializeAttributes = function(t) {
                    if (t || this.__attributesRaw) {
                        for (var e in r.attributes.index)
                            this.__attributesRaw && this.__attributesRaw.hasOwnProperty(e) ? this[e] = this.__attributesRaw[e] : this.__attributes.hasOwnProperty(e) || (r.attributes.index[e].hasOwnProperty("default") ? this[e] = r.attributes.index[e].default : this[e] = null);
                        this.__attributesRaw = null
                    }
                }
                ,
                r.extend = function(t) {
                    for (var e in t)
                        t.hasOwnProperty(e) && (r.prototype[e] = t[e])
                }
                ,
                Object.defineProperty(r.prototype, "enabled", {
                    get: function() {
                        return this._enabled && !this._destroyed && this.Bc.script.enabled && this.Bc.enabled
                    },
                    set: function(t) {
                        this._enabled = !!t,
                        this.enabled !== this._enabledOld && (this._enabledOld = this.enabled,
                        this.fire(this.enabled ? "enable" : "disable"),
                        this.fire("state", this.enabled),
                        !this._initialized && this.enabled && (this._initialized = !0,
                        this.__initializeAttributes(!0),
                        this.initialize && this.Bc.script._scriptMethod(this, n.ed.scriptMethods.initialize)),
                        this._initialized && !this._postInitialized && this.enabled && !this.Bc.script._beingEnabled && (this._postInitialized = !0,
                        this.postInitialize && this.Bc.script._scriptMethod(this, n.ed.scriptMethods.postInitialize)))
                    }
                }),
                (e ? e.scripts : n.Ir.getApplication().scripts).add(r),
                n.sd._push(r),
                r
            };
            s.reservedScripts = ["system", "entity", "create", "destroy", "swap", "move", "scripts", "_scripts", "_scriptsIndex", "_scriptsData", "enabled", "_oldState", "onEnable", "onDisable", "onPostStateChange", "_onSetEnabled", "_checkState", "_onBeforeRemove", "_onInitializeAttributes", "_onInitialize", "_onPostInitialize", "_onUpdate", "_onPostUpdate", "_callbacks", "has", "on", "off", "fire", "once", "hasEvent"];
            var r = {}, a;
            for (a = 0; a < s.reservedScripts.length; a++)
                r[s.reservedScripts[a]] = 1;
            s.reservedScripts = r,
            s.$f = ["app", "entity", "enabled", "_enabled", "_enabledOld", "_destroyed", "__attributes", "__attributesRaw", "__scriptType", "__executionOrder", "_callbacks", "has", "on", "off", "fire", "once", "hasEvent"];
            var h = {};
            for (a = 0; a < s.$f.length; a++)
                h[s.$f[a]] = 1;
            return s.$f = h,
            {
                td: s
            }
        }()),
        n.script = (He = !1,
        Ge = !1,
        We = {
            app: null,
            create: function(t, e) {
                if (He) {
                    var i = e(n.script.app);
                    i._pcScriptName = t,
                    n.sd._push(i),
                    this.fire("created", t, e)
                }
            },
            attribute: function(t, e, i, s) {},
            createLoadingScreen: function(t) {
                var e;
                Ge || (Ge = !0,
                t(n.Ir.getApplication()))
            }
        },
        Object.defineProperty(We, "legacy", {
            get: function() {
                return He
            },
            set: function(t) {
                He = t
            }
        }),
        n.K.attach(We),
        We),
        Object.assign(n, function() {
            var t = function(e, i) {
                i = i || {},
                n.K.attach(this),
                t._applications[e.id] = this,
                t._currentApplication = this,
                this._time = 0,
                this.timeScale = 1,
                this.maxDeltaTime = .1,
                this.frame = 0,
                this.nd = !0,
                this.rd = !1,
                this.useLegacyScriptAttributeCloning = n.script.legacy,
                this._librariesLoaded = !1,
                this._fillMode = n.ad,
                this._resolutionMode = n.od,
                this._allowResize = !0,
                this._textureResolution = i.textureResolution || "HD",
                this.context = this,
                this.autoOptimizeRender = i.autoOptimizeRender || !1,
                this.enableGTC = i.enableGTC || !1,
                this.Br = new n.zn(e,i.ud),
                this.stats = new n.fd(this.Br),
                this._audioManager = new n.Vc(i),
                this.loader = new n.dd,
                this._entityIndex = {},
                this.scene = new n.Kh,
                this.root = new n.Entity(this),
                this.root._enabledInHierarchy = !0,
                this._enableList = [],
                this._enableList.size = 0,
                this.assets = new n.ld(this.loader),
                i.assetPrefix && (this.assets.prefix = i.assetPrefix),
                i.enableGTC && (this.assets.useTextureCompression = i.enableGTC),
                this.scriptsOrder = i.scriptsOrder || [],
                this.scripts = new n.qf(this),
                this._sceneRegistry = new n.SceneRegistry(this);
                var r = this;
                this.defaultLayerWorld = new n.Layer({
                    name: "World",
                    id: n.LAYERID_WORLD
                }),
                this.Br.webgl2 ? (this.defaultLayerDepth = new n.Layer({
                    enabled: !1,
                    name: "Depth",
                    id: n.LAYERID_DEPTH,
                    onEnable: function() {
                        if (!this.renderTarget) {
                            var t = new n.xn(r.Br,{
                                format: n.Ci,
                                width: r.Br.width,
                                height: r.Br.height
                            });
                            t.name = "rt-depth2",
                            t.minFilter = n.Ge,
                            t.magFilter = n.Ge,
                            t.addressU = n.Zt,
                            t.addressV = n.Zt,
                            this.renderTarget = new n.An({
                                colorBuffer: null,
                                depthBuffer: t,
                                autoResolve: !1
                            }),
                            r.Br.scope.resolve("uDepthMap").setValue(t)
                        }
                    },
                    onDisable: function() {
                        this.renderTarget && (this.renderTarget._depthBuffer.destroy(),
                        this.renderTarget.destroy(),
                        this.renderTarget = null)
                    },
                    onPreRenderOpaque: function(t) {
                        var e = r.Br.gl;
                        this.srcFbo = e.getParameter(e.FRAMEBUFFER_BINDING),
                        this.renderTarget && this.renderTarget.width === r.Br.width && this.renderTarget.height === r.Br.height || (this.onDisable(),
                        this.onEnable()),
                        this.oldClear = this.cameras[t].camera._clearOptions,
                        this.cameras[t].camera._clearOptions = this.depthClearOptions
                    },
                    onPostRenderOpaque: function(t) {
                        if (this.renderTarget) {
                            this.cameras[t].camera._clearOptions = this.oldClear;
                            var e = r.Br.gl;
                            r.Br.ln(this.renderTarget),
                            r.Br.bn(),
                            e.bindFramebuffer(e.READ_FRAMEBUFFER, this.srcFbo),
                            e.bindFramebuffer(e.DRAW_FRAMEBUFFER, this.renderTarget._glFrameBuffer),
                            e.blitFramebuffer(0, 0, this.renderTarget.width, this.renderTarget.height, 0, 0, this.renderTarget.width, this.renderTarget.height, e.DEPTH_BUFFER_BIT, e.NEAREST)
                        }
                    }
                }),
                this.defaultLayerDepth.depthClearOptions = {
                    flags: 0
                }) : (this.defaultLayerDepth = new n.Layer({
                    enabled: !1,
                    name: "Depth",
                    id: n.LAYERID_DEPTH,
                    shaderPass: n.Zr,
                    onEnable: function() {
                        if (!this.renderTarget) {
                            var t = new n.xn(r.Br,{
                                format: n.vi,
                                width: r.Br.width,
                                height: r.Br.height
                            });
                            t.name = "rt-depth1",
                            t.minFilter = n.Ge,
                            t.magFilter = n.Ge,
                            t.addressU = n.Zt,
                            t.addressV = n.Zt,
                            this.renderTarget = new n.An(r.Br,t,{
                                depth: !0,
                                stencil: r.Br.supportsStencil
                            }),
                            r.Br.scope.resolve("uDepthMap").setValue(t)
                        }
                    },
                    onDisable: function() {
                        this.renderTarget && (this.renderTarget._colorBuffer.destroy(),
                        this.renderTarget.destroy(),
                        this.renderTarget = null)
                    },
                    onPostCull: function(t) {
                        for (var e = this.instances.visibleOpaque[t], i = e.list, s = 0, n = r.scene.layers.layerList, a = r.scene.layers.subLayerEnabled, h = r.scene.layers.subLayerList, c = r.defaultLayerWorld.renderTarget, o = this.cameras[t], u, f, d, l, b, v, m, g = 0; g < n.length && (u = n[g]) !== this; g++)
                            if (u.renderTarget === c && u.enabled && a[g] && !((l = u.cameras.indexOf(o)) < 0))
                                for (b = (d = (m = h[g]) ? u.instances.visibleTransparent[l] : u.instances.visibleOpaque[l]).length,
                                d = d.list,
                                f = 0; f < b; f++)
                                    (v = d[f]).material && v.material.depthWrite && !v._noDepthDrawGl1 && (i[s] = v,
                                    s++);
                        e.length = s
                    },
                    onPreRenderOpaque: function(t) {
                        this.renderTarget && this.renderTarget.width === r.Br.width && this.renderTarget.height === r.Br.height || (this.onDisable(),
                        this.onEnable()),
                        this.oldClear = this.cameras[t].camera._clearOptions,
                        this.cameras[t].camera._clearOptions = this.rgbaDepthClearOptions
                    },
                    onDrawCall: function() {
                        r.Br.ir(!0, !0, !0, !0)
                    },
                    onPostRenderOpaque: function(t) {
                        this.renderTarget && (this.cameras[t].camera._clearOptions = this.oldClear)
                    }
                }),
                this.defaultLayerDepth.rgbaDepthClearOptions = {
                    color: [254 / 255, 254 / 255, 254 / 255, 254 / 255],
                    depth: 1,
                    flags: n.ye | n.Me
                }),
                this.defaultLayerSkybox = new n.Layer({
                    enabled: !1,
                    name: "Skybox",
                    id: n.LAYERID_SKYBOX,
                    opaqueSortMode: n.SORTMODE_NONE
                }),
                this.defaultLayerUi = new n.Layer({
                    enabled: !0,
                    name: "UI",
                    id: n.LAYERID_UI,
                    transparentSortMode: n.SORTMODE_MANUAL,
                    passThrough: !0
                }),
                this.defaultLayerImmediate = new n.Layer({
                    enabled: !0,
                    name: "Immediate",
                    id: n.LAYERID_IMMEDIATE,
                    opaqueSortMode: n.SORTMODE_NONE,
                    passThrough: !0
                }),
                this.defaultLayerComposition = new n.LayerComposition,
                this.defaultLayerComposition.pushOpaque(this.defaultLayerWorld),
                this.defaultLayerComposition.pushOpaque(this.defaultLayerDepth),
                this.defaultLayerComposition.pushOpaque(this.defaultLayerSkybox),
                this.defaultLayerComposition.pushTransparent(this.defaultLayerWorld),
                this.defaultLayerComposition.pushOpaque(this.defaultLayerImmediate),
                this.defaultLayerComposition.pushTransparent(this.defaultLayerImmediate),
                this.defaultLayerComposition.pushTransparent(this.defaultLayerUi),
                this.scene.layers = this.defaultLayerComposition,
                this._immediateLayer = this.defaultLayerImmediate,
                this.scene.on("set:layers", function(t, e) {
                    for (var i = e.layerList, s, a = 0; a < i.length; a++)
                        switch ((s = i[a]).id) {
                        case n.LAYERID_DEPTH:
                            s.onEnable = r.defaultLayerDepth.onEnable,
                            s.onDisable = r.defaultLayerDepth.onDisable,
                            s.onPreRenderOpaque = r.defaultLayerDepth.onPreRenderOpaque,
                            s.onPostRenderOpaque = r.defaultLayerDepth.onPostRenderOpaque,
                            s.depthClearOptions = r.defaultLayerDepth.depthClearOptions,
                            s.rgbaDepthClearOptions = r.defaultLayerDepth.rgbaDepthClearOptions,
                            s.shaderPass = r.defaultLayerDepth.shaderPass,
                            s.onPostCull = r.defaultLayerDepth.onPostCull,
                            s.onDrawCall = r.defaultLayerDepth.onDrawCall;
                            break;
                        case n.LAYERID_UI:
                            s.passThrough = r.defaultLayerUi.passThrough;
                            break;
                        case n.LAYERID_IMMEDIATE:
                            s.passThrough = r.defaultLayerImmediate.passThrough
                        }
                }),
                this.renderer = new n.sc(this.Br),
                this.renderer.scene = this.scene,
                this.lightmapper = new n.bd(this.Br,this.root,this.scene,this.renderer,this.assets),
                this.once("prerender", this._firstBake, this),
                this.batcher = new n.vd(this.Br,this.root,this.scene),
                this.once("prerender", this._firstBatch, this),
                this.keyboard = i.keyboard || null,
                this.mouse = i.mouse || null,
                this.touch = i.touch || null,
                this.gamepads = i.gamepads || null,
                this.elementInput = i.elementInput || null,
                this.elementInput && (this.elementInput.app = this),
                this.vr = null,
                i.vr && this._onVrChange(i.vr),
                this._inTools = !1,
                this._skyboxLast = 0,
                this._scriptPrefix = i.scriptPrefix || "",
                this.loader.md("animation", new n.gd),
                this.loader.md("model", new n.pd(this.Br,this.scene.defaultMaterial)),
                this.loader.md("material", new n.wd(this)),
                this.loader.md("texture", new n.xd(this.Br,this.assets,this.loader)),
                this.loader.md("text", new n.zd),
                this.loader.md("json", new n.Ad),
                this.loader.md("audio", new n.yd(this._audioManager)),
                this.loader.md("script", new n.sd(this)),
                this.loader.md("scene", new n.Md(this)),
                this.loader.md("cubemap", new n.Sd(this.Br,this.assets,this.loader)),
                this.loader.md("html", new n.Cd),
                this.loader.md("css", new n.Od),
                this.loader.md("shader", new n.Ed),
                this.loader.md("hierarchy", new n.Dd(this)),
                this.loader.md("scenesettings", new n.Td(this)),
                this.loader.md("folder", new n.Pd),
                this.loader.md("font", new n.Bd(this.loader)),
                this.loader.md("binary", new n.Id),
                this.loader.md("textureatlas", new n.TextureAtlasHandler(this.loader)),
                this.loader.md("sprite", new n.SpriteHandler(this.assets,this.Br)),
                this.systems = new n.jd,
                this.systems.add(new n.Rd(this)),
                this.systems.add(new n.Ld(this)),
                this.systems.add(new n.Nd(this)),
                this.systems.add(new n.Fd(this)),
                this.systems.add(new n.kd(this)),
                this.systems.add(new n.Ud(this)),
                n.script.legacy ? this.systems.add(new n.Vd(this)) : this.systems.add(new n.Hd(this)),
                this.systems.add(new n.Gd(this,this._audioManager)),
                this.systems.add(new n.Wd(this,this._audioManager)),
                this.systems.add(new n.Yd(this,this._audioManager)),
                this.systems.add(new n.Xd(this)),
                this.systems.add(new n.Kd(this)),
                this.systems.add(new n.Qd(this)),
                this.systems.add(new n.Jd(this)),
                this.systems.add(new n.qd(this)),
                this.systems.add(new n.Zd(this)),
                this.systems.add(new n.$d(this)),
                this.systems.add(new n.tl(this)),
                this.systems.add(new n.il(this)),
                this.systems.add(new n.sl(this)),
                i.withHelpers && (this.nl = new n.CameraHelper(this),
                this.rl = new n.al(this),
                this.hl = new n.cl(this),
                this.ol = new n.ul(this),
                this.fl = new n.LightHelper(this),
                this.dl = new n.ll(this),
                this.bl = new n.vl(this),
                this.ml = new n.pl(this),
                this.outline = new n.wl(this),
                this.xl = new n.zl(this)),
                this._visibilityChangeHandler = this.onVisibilityChange.bind(this),
                void 0 !== document.hidden ? (this._hiddenAttr = "hidden",
                document.addEventListener("visibilitychange", this._visibilityChangeHandler, !1)) : void 0 !== document.mozHidden ? (this._hiddenAttr = "mozHidden",
                document.addEventListener("mozvisibilitychange", this._visibilityChangeHandler, !1)) : void 0 !== document.msHidden ? (this._hiddenAttr = "msHidden",
                document.addEventListener("msvisibilitychange", this._visibilityChangeHandler, !1)) : void 0 !== document.webkitHidden && (this._hiddenAttr = "webkitHidden",
                document.addEventListener("webkitvisibilitychange", this._visibilityChangeHandler, !1)),
                this.tick = s(this),
                n.app = this
            };
            t._currentApplication = null,
            t._applications = {},
            t.getApplication = function(e) {
                return e ? t._applications[e] : t._currentApplication
            }
            ;
            var e = function(t) {
                this.length = t,
                this.count = 0,
                this.inc = function() {
                    this.count++
                }
                ,
                this.done = function() {
                    return this.count === this.length
                }
            };
            Object.assign(t.prototype, {
                configure: function(t, e) {
                    var i = this;
                    n.http.get(t, function(t, s) {
                        if (t)
                            e(t);
                        else {
                            var n = s.application_properties
                              , r = s.scenes
                              , a = s.assets;
                            i.Al(n, function(t) {
                                i._onVrChange(n.vr),
                                i._parseScenes(r),
                                i._parseAssets(a),
                                e(t || null)
                            })
                        }
                    })
                },
                loadAssets: function(t, i) {
                    var s = this;
                    s.fire("load:start");
                    var n = new e(t.length), r = !1, a = function() {
                        s.Br && !r && n.done() && (r = !0,
                        s.fire("load:end"),
                        i())
                    }, h = t.length, c = function() {
                        return n.count
                    }, o;
                    if (n.length) {
                        var u = function(t) {
                            n.inc(),
                            s.fire("load:progress", c() / h),
                            n.done() && a()
                        }
                          , f = function(t, e) {
                            n.inc(),
                            s.fire("load:progress", c() / h),
                            n.done() && a()
                        };
                        for (o = 0; o < t.length; o++)
                            t[o].loaded ? (n.inc(),
                            s.fire("load:progress", c() / h),
                            n.done() && a()) : (t[o].once("load", u),
                            t[o].once("error", f),
                            this.assets.load(t[o]))
                    } else
                        a()
                },
                preload: function(t) {
                    var i = this;
                    i.fire("preload:start");
                    var s = this.assets.list({
                        preload: !0
                    }), r = new e(s.length), a = !1, h = function() {
                        i.Br && !a && r.done() && (a = !0,
                        i.fire("preload:end"),
                        t())
                    }, c = s.length, o = function() {
                        return r.count
                    }, u, f;
                    if (r.length) {
                        var d = 1 / c
                          , l = function(t, e) {
                            var s = o() / c;
                            if (e.lengthComputable)
                                s += e.loaded / e.total * d;
                            else {
                                var n = ~~e.target.getResponseHeader("content-length") || 0;
                                n && (String(e.target.getResponseHeader("content-encoding")).indexOf("gzip") > -1 && (n *= 2),
                                s += Math.min(1, e.loaded / n) * d)
                            }
                            i.fire("preload:progress", s)
                        }
                          , b = function(t) {
                            r.inc(),
                            i.fire("preload:progress", o() / c),
                            r.done() && h()
                        }
                          , v = function(t, e) {
                            r.inc(),
                            i.fire("preload:progress", o() / c),
                            r.done() && h()
                        }
                          , m = n.STANDARD_MATERIAL_TEXTURE_FIELDS
                          , g = {};
                        for (s.filter(function(t) {
                            return "material" === t.type
                        }).forEach(function(t) {
                            var e = t.data;
                            m.forEach(function(t) {
                                "number" == typeof e[t] && (g[e[t]] = !0)
                            })
                        }),
                        u = 0; u < s.length; u++)
                            !1 === (f = s[u]).loaded || !1 === f.loaded.default ? (f.on("progress", l),
                            f.once("load", b),
                            f.once("error", v),
                            "texture" !== f.type ? this.assets.load(f) : n.app.enableGTC && g[f.id] || this.assets.load(f)) : (r.inc(),
                            i.fire("preload:progress", o() / c),
                            r.done() && h())
                    } else
                        h()
                },
                getSceneUrl: function(t) {
                    var e = this._sceneRegistry.find(t);
                    return e ? e.url : null
                },
                yl: function(t, e) {
                    this._sceneRegistry.yl(t, e)
                },
                Ml: function(t, e) {
                    this._sceneRegistry.Ml(t, e)
                },
                Sl: function(t, e) {
                    this._sceneRegistry.Sl(t, e)
                },
                _preloadScripts: function(t, i) {
                    if (n.script.legacy) {
                        var s = this;
                        s.systems.script.preloading = !0;
                        var r = this._getScriptReferences(t), a = 0, h = r.length, c = new e(h), o, u = /^http(s)?:\/\//;
                        if (h) {
                            var f = function(t, e) {
                                c.inc(),
                                c.done() && (s.systems.script.preloading = !1,
                                i())
                            };
                            for (a = 0; a < h; a++)
                                o = r[a],
                                !u.test(o.toLowerCase()) && s._scriptPrefix && (o = n.path.join(s._scriptPrefix, r[a])),
                                this.loader.load(o, "script", f)
                        } else
                            s.systems.script.preloading = !1,
                            i()
                    } else
                        i()
                },
                Al: function(t, e) {
                    var i, s;
                    if (t.useDevicePixelRatio || (t.useDevicePixelRatio = t.use_device_pixel_ratio),
                    t.resolutionMode || (t.resolutionMode = t.resolution_mode),
                    t.fillMode || (t.fillMode = t.fill_mode),
                    t.vrPolyfillUrl || (t.vrPolyfillUrl = t.vr_polyfill_url),
                    this._width = t.width,
                    this._height = t.height,
                    t.useDevicePixelRatio && (this.Br.maxPixelRatio = window.devicePixelRatio),
                    this.setCanvasResolution(t.resolutionMode, this._width, this._height),
                    this.setCanvasFillMode(t.fillMode, this._width, this._height),
                    t.vr && t.vrPolyfillUrl && (n.Qf.isSupported && !n.platform.android || t.libraries.push(t.vrPolyfillUrl)),
                    t.layers && t.layerOrder) {
                        var r = new n.LayerComposition
                          , a = {};
                        for (var h in t.layers) {
                            var c = t.layers[h];
                            c.id = parseInt(h, 10),
                            c.enabled = c.id !== n.LAYERID_DEPTH,
                            a[h] = new n.Layer(c)
                        }
                        for (i = 0,
                        s = t.layerOrder.length; i < s; i++) {
                            var o = t.layerOrder[i]
                              , u = a[o.layer];
                            u && (o.transparent ? r.pushTransparent(u) : r.pushOpaque(u),
                            r.subLayerEnabled[i] = o.enabled)
                        }
                        this.scene.layers = r
                    }
                    if (t.batchGroups)
                        for (i = 0,
                        s = t.batchGroups.length; i < s; i++) {
                            var f = t.batchGroups[i];
                            this.batcher.addGroup(f.name, f.dynamic, f.maxAabbSize, f.id, f.layers)
                        }
                    this._loadLibraries(t.libraries, e)
                },
                _loadLibraries: function(t, e) {
                    var i = t.length
                      , s = i
                      , r = this
                      , a = /^http(s)?:\/\//;
                    if (i)
                        for (var h = function(t, i) {
                            s--,
                            t ? e(t) : 0 === s && (r.onLibrariesLoaded(),
                            e(null))
                        }, c = 0; c < i; ++c) {
                            var o = t[c];
                            !a.test(o.toLowerCase()) && r._scriptPrefix && (o = n.path.join(r._scriptPrefix, o)),
                            this.loader.load(o, "script", h)
                        }
                    else
                        e(null)
                },
                addAssets: function(t) {
                    this._parseAssets(t)
                },
                addAsset: function(t, e, i, s, r) {
                    var a = new n.Zf(t,e,i,s);
                    return a.preload = r,
                    this.assets.add(a),
                    a
                },
                _parseScenes: function(t) {
                    if (t)
                        for (var e = 0; e < t.length; e++)
                            this._sceneRegistry.add(t[e].name, t[e].url)
                },
                _parseAssets: function(t) {
                    var e, i, s = [], r = {};
                    if (n.script.legacy)
                        for (i in t)
                            s.push(t[i]);
                    else {
                        for (e = 0; e < this.scriptsOrder.length; e++)
                            t[i = this.scriptsOrder[e]] && (r[i] = !0,
                            s.push(t[i]));
                        for (i in t)
                            r[i] || s.push(t[i])
                    }
                    for (e = 0; e < s.length; e++) {
                        var a = s[e]
                          , h = new n.Zf(a.name,a.type,a.file,a.data);
                        h.id = parseInt(a.id, 10),
                        h.preload = !!a.preload && a.preload,
                        h.tags.add(a.tags),
                        this.assets.add(h)
                    }
                },
                _getScriptReferences: function(t) {
                    var e, i, s = [];
                    t.settings.priority_scripts && (s = t.settings.priority_scripts);
                    var n = []
                      , r = {};
                    for (e = 0; e < s.length; e++)
                        n.push(s[e]),
                        r[s[e]] = !0;
                    var a = t.entities;
                    for (i in a)
                        if (a[i].components.script) {
                            var h = a[i].components.script.scripts;
                            for (e = 0; e < h.length; e++)
                                r[h[e].url] || (n.push(h[e].url),
                                r[h[e].url] = !0)
                        }
                    return n
                },
                start: function() {
                    this.frame = 0,
                    this.fire("start", {
                        timestamp: n.now(),
                        target: this
                    }),
                    this._librariesLoaded || this.onLibrariesLoaded(),
                    n.Cl.initialize(this.root),
                    this.fire("initialize"),
                    n.Cl.postInitialize(this.root),
                    this.fire("postinitialize"),
                    this.tick()
                },
                update: function(t) {
                    this.frame++,
                    this.Br.updateClientRect(),
                    this.vr && this.vr.poll(),
                    n.script.legacy && n.Cl.fixedUpdate(1 / 60, this._inTools),
                    n.Cl.update(t, this._inTools),
                    n.Cl.postUpdate(t, this._inTools),
                    this.fire("update", t),
                    this.controller && this.controller.update(t),
                    this.mouse && this.mouse.update(t),
                    this.keyboard && this.keyboard.update(t),
                    this.gamepads && this.gamepads.update(t)
                },
                render: function() {
                    this.fire("prerender"),
                    this.root.syncHierarchy(),
                    this.batcher.updateAll(),
                    n._skipRenderCounter = 0,
                    this.renderer.renderComposition(this.scene.layers),
                    this.fire("postrender")
                },
                _fillFrameStats: function(t, e, i) {
                    var s = this.stats.frame;
                    s.dt = e,
                    s.ms = i,
                    t > s._timeToCountFrames ? (s.fps = s._fpsAccum,
                    s._fpsAccum = 0,
                    s._timeToCountFrames = t + 1e3) : s._fpsAccum++,
                    s.cameras = this.renderer._camerasRendered,
                    s.materials = this.renderer._materialSwitches,
                    s.shaders = this.Br._shaderSwitchesPerFrame,
                    s.shadowMapUpdates = this.renderer._shadowMapUpdates,
                    s.shadowMapTime = this.renderer._shadowMapTime,
                    s.depthMapTime = this.renderer._depthMapTime,
                    s.forwardTime = this.renderer._forwardTime;
                    var r = this.Br._primsPerFrame;
                    s.triangles = r[n.Hi] / 3 + Math.max(r[n.Gi] - 2, 0) + Math.max(r[n.Wi] - 2, 0),
                    s.cullTime = this.renderer._cullTime,
                    s.sortTime = this.renderer._sortTime,
                    s.skinTime = this.renderer._skinTime,
                    s.morphTime = this.renderer._morphTime,
                    s.instancingTime = this.renderer._instancingTime,
                    s.otherPrimitives = 0;
                    for (var a = 0; a < r.length; a++)
                        a < n.Hi && (s.otherPrimitives += r[a]),
                        r[a] = 0;
                    this.renderer._camerasRendered = 0,
                    this.renderer._materialSwitches = 0,
                    this.renderer._shadowMapUpdates = 0,
                    this.Br._shaderSwitchesPerFrame = 0,
                    this.renderer._cullTime = 0,
                    this.renderer._sortTime = 0,
                    this.renderer._skinTime = 0,
                    this.renderer._morphTime = 0,
                    this.renderer._instancingTime = 0,
                    this.renderer._shadowMapTime = 0,
                    this.renderer._depthMapTime = 0,
                    this.renderer._forwardTime = 0,
                    (s = this.stats.drawCalls).forward = this.renderer._forwardDrawCalls,
                    s.culled = this.renderer._numDrawCallsCulled,
                    s.depth = 0,
                    s.shadow = this.renderer._shadowDrawCalls,
                    s.skinned = this.renderer._skinDrawCalls,
                    s.immediate = 0,
                    s.instanced = 0,
                    s.removedByInstancing = 0,
                    s.total = this.Br._drawCallsPerFrame,
                    s.misc = s.total - (s.forward + s.shadow),
                    this.renderer._depthDrawCalls = 0,
                    this.renderer._shadowDrawCalls = 0,
                    this.renderer._forwardDrawCalls = 0,
                    this.renderer._numDrawCallsCulled = 0,
                    this.renderer._skinDrawCalls = 0,
                    this.renderer._immediateRendered = 0,
                    this.renderer._instancedDrawCalls = 0,
                    this.renderer._removedByInstancing = 0,
                    this.Br._drawCallsPerFrame = 0,
                    this.stats.misc.renderTargetCreationTime = this.Br.renderTargetCreationTime,
                    (s = this.stats.particles).updatesPerFrame = s._updatesPerFrame,
                    s.frameTime = s._frameTime,
                    s._updatesPerFrame = 0,
                    s._frameTime = 0
                },
                setCanvasFillMode: function(t, e, i) {
                    this._fillMode = t,
                    this.Cr(e, i)
                },
                setCanvasResolution: function(t, e, i) {
                    this._resolutionMode = t,
                    t === n.Jf && void 0 === e && (e = this.Br.canvas.clientWidth,
                    i = this.Br.canvas.clientHeight),
                    this.Br.Cr(e, i)
                },
                isFullscreen: function() {
                    return !!document.fullscreenElement
                },
                enableFullscreen: function(t, e, i) {
                    t = t || this.Br.canvas;
                    var s = function() {
                        e(),
                        document.removeEventListener("fullscreenchange", s)
                    }
                      , n = function() {
                        i(),
                        document.removeEventListener("fullscreenerror", n)
                    };
                    e && document.addEventListener("fullscreenchange", s, !1),
                    i && document.addEventListener("fullscreenerror", n, !1),
                    t.requestFullscreen ? t.requestFullscreen(Element.ALLOW_KEYBOARD_INPUT) : i()
                },
                disableFullscreen: function(t) {
                    var e = function() {
                        t(),
                        document.removeEventListener("fullscreenchange", e)
                    };
                    t && document.addEventListener("fullscreenchange", e, !1),
                    document.exitFullscreen()
                },
                isHidden: function() {
                    return document[this._hiddenAttr]
                },
                onVisibilityChange: function() {
                    this.isHidden() ? this._audioManager.suspend() : this._audioManager.resume()
                },
                Cr: function(t, e) {
                    if (this._allowResize) {
                        var i = window.innerWidth
                          , s = window.innerHeight;
                        if (navigator.isCocoonJS)
                            t = i,
                            e = s,
                            this.Br.Cr(t, e);
                        else {
                            if (this._fillMode === n.ad) {
                                var r = this.Br.canvas.width / this.Br.canvas.height, a;
                                r > i / s ? e = (t = i) / r : t = (e = s) * r
                            } else
                                this._fillMode === n.Ol && (t = i,
                                e = s);
                            this.Br.canvas.style.width = t + "px",
                            this.Br.canvas.style.height = e + "px",
                            this._resolutionMode === n.Jf && this.setCanvasResolution(n.Jf)
                        }
                        return {
                            width: t,
                            height: e
                        }
                    }
                },
                onLibrariesLoaded: function() {
                    this._librariesLoaded = !0,
                    this.systems.rigidbody.El(),
                    this.systems.collision.El()
                },
                Dl: function(t) {
                    var e;
                    if (this.systems.rigidbody && "undefined" != typeof Ammo) {
                        var i = t.physics.gravity;
                        this.systems.rigidbody.setGravity(i[0], i[1], i[2])
                    }
                    this.scene.applySettings(t),
                    t.render.hasOwnProperty("skybox") && (t.render.skybox ? (e = this.assets.get(t.render.skybox)) ? this.setSkybox(e) : this.assets.once("add:" + t.render.skybox, this.setSkybox, this) : this.setSkybox(null))
                },
                setSkybox: function(t) {
                    if (t) {
                        if (this._skyboxLast === t.id)
                            return void (0 !== this.scene.skyboxMip || t.loadFaces ? this._onSkyboxChange(t) : this._skyboxLoad(t));
                        this._skyboxLast && (this.assets.off("add:" + this._skyboxLast, this.setSkybox, this),
                        this.assets.off("load:" + this._skyboxLast, this._onSkyboxChange, this),
                        this.assets.off("remove:" + this._skyboxLast, this._skyboxRemove, this)),
                        this._skyboxLast = t.id,
                        this.assets.on("load:" + t.id, this._onSkyboxChange, this),
                        this.assets.once("remove:" + t.id, this._skyboxRemove, this),
                        t.resource && this.scene.setSkybox(t.resources),
                        this._skyboxLoad(t)
                    } else {
                        if (!this._skyboxLast)
                            return;
                        this._skyboxRemove({
                            id: this._skyboxLast
                        })
                    }
                },
                _onVrChange: function(t) {
                    t ? this.vr || (this.vr = new n.Qf(this)) : this.vr && (this.vr.destroy(),
                    this.vr = null)
                },
                _onSkyboxChange: function(t) {
                    this.scene.setSkybox(t.resources)
                },
                _skyboxLoad: function(t) {
                    0 === this.scene.skyboxMip && (t.loadFaces = !0),
                    this.assets.load(t),
                    this._onSkyboxChange(t)
                },
                _skyboxRemove: function(t) {
                    this._skyboxLast && (this.assets.off("add:" + t.id, this.setSkybox, this),
                    this.assets.off("load:" + t.id, this._onSkyboxChange, this),
                    this.assets.off("remove:" + t.id, this._skyboxRemove, this),
                    this.scene.setSkybox(null),
                    this._skyboxLast = null)
                },
                _firstBake: function() {
                    this.lightmapper.bake(null, this.scene.lightmapMode)
                },
                _firstBatch: function() {
                    this.scene._needsStaticPrepare && (this.renderer.prepareStaticMeshes(this.Br, this.scene),
                    this.scene._needsStaticPrepare = !1),
                    this.batcher.generate()
                },
                destroy: function() {
                    var e, i, s = this.Br.canvas.id;
                    this.off("librariesloaded"),
                    document.removeEventListener("visibilitychange", this._visibilityChangeHandler, !1),
                    document.removeEventListener("mozvisibilitychange", this._visibilityChangeHandler, !1),
                    document.removeEventListener("msvisibilitychange", this._visibilityChangeHandler, !1),
                    document.removeEventListener("webkitvisibilitychange", this._visibilityChangeHandler, !1),
                    this._visibilityChangeHandler = null,
                    this.onVisibilityChange = null,
                    this.root.destroy(),
                    this.root = null,
                    this.mouse && (this.mouse.off(),
                    this.mouse.detach(),
                    this.mouse = null),
                    this.keyboard && (this.keyboard.off(),
                    this.keyboard.detach(),
                    this.keyboard = null),
                    this.touch && (this.touch.off(),
                    this.touch.detach(),
                    this.touch = null),
                    this.elementInput && (this.elementInput.detach(),
                    this.elementInput = null),
                    this.controller && (this.controller = null);
                    var r = this.systems.list;
                    for (e = 0,
                    i = r.length; e < i; e++)
                        r[e].destroy();
                    n.Cl.destroy();
                    var a = this.assets.list();
                    for (e = 0; e < a.length; e++)
                        a[e].unload(),
                        a[e].off();
                    for (var h in this.assets.off(),
                    this.loader.Tl("script")._cache) {
                        var c = this.loader.Tl("script")._cache[h]
                          , o = c.parentNode;
                        o && o.removeChild(c)
                    }
                    this.loader.Tl("script")._cache = {},
                    this.loader.destroy(),
                    this.loader = null,
                    this.scene.destroy(),
                    this.scene = null,
                    this.systems = [],
                    this.context = null,
                    this.scripts.destroy(),
                    this.scripts = null,
                    this._sceneRegistry.destroy(),
                    this._sceneRegistry = null,
                    this.lightmapper.destroy(),
                    this.lightmapper = null,
                    this.batcher.destroyManager(),
                    this.batcher = null,
                    this._entityIndex = {},
                    this.defaultLayerDepth.onPreRenderOpaque = null,
                    this.defaultLayerDepth.onPostRenderOpaque = null,
                    this.defaultLayerDepth.onDisable = null,
                    this.defaultLayerDepth.onEnable = null,
                    this.defaultLayerDepth = null,
                    this.defaultLayerWorld = null,
                    n.Tr(),
                    this.Br.destroy(),
                    this.Br = null,
                    this.renderer = null,
                    this.tick = null,
                    this.off(),
                    this._audioManager && (this._audioManager.destroy(),
                    this._audioManager = null),
                    n.http = new n.Http,
                    n.script.app = null,
                    n.zc.DEFAULT_PARAM_TEXTURE = null,
                    t._applications[s] = null,
                    t._currentApplication === this && (t._currentApplication = null)
                }
            });
            var i = {}
              , s = function(e) {
                var s = e;
                return function(e) {
                    if (s.Br) {
                        t._currentApplication = s,
                        n.app = s;
                        var r = e || n.now(), a, h = (r - (s._time || r)) / 1e3;
                        h = n.I.clamp(h, 0, s.maxDeltaTime),
                        h *= s.timeScale,
                        s._time = r,
                        s.vr && s.vr.display ? s.vr.display.requestAnimationFrame(s.tick) : window.requestAnimationFrame(s.tick),
                        s.Br.contextLost || (s.update(h),
                        (s.nd || s.rd) && (s.render(),
                        s.rd = !1),
                        i.timestamp = n.now(),
                        i.target = s,
                        s.fire("frameend", i),
                        s.fire("frameEnd", i),
                        s.vr && s.vr.display && s.vr.display.presenting && s.vr.display.submitFrame())
                    }
                }
            };
            return Object.defineProperty(t.prototype, "textureResolution", {
                get: function() {
                    return this._textureResolution
                },
                set: function(t) {
                    this._textureResolution = t;
                    var e = t
                      , i = {}
                      , s = this.assets;
                    switch (t) {
                    case "256":
                    case 256:
                        e = 256;
                        break;
                    case "512":
                    case 512:
                        e = 512;
                        break;
                    case "ld":
                    case "LD":
                    case "1024":
                    case 1024:
                        e = 1024;
                        break;
                    case "sd":
                    case "SD":
                    case "2048":
                    case 2048:
                        e = 2048;
                        break;
                    case "hd":
                    case "HD":
                    case "4096":
                    case 4096:
                        e = 4096
                    }
                    for (var r in s.filter(function(t) {
                        return "material" === t.type && t.resource
                    }).forEach(function(t) {
                        var e = t.resource
                          , s = t.data;
                        n.STANDARD_MATERIAL_TEXTURE_FIELDS.forEach(function(n) {
                            "number" == typeof s[n] && (i[s[n]] || (i[s[n]] = []),
                            i[s[n]].push({
                                materialAsset: t.id,
                                field: n,
                                channel: e[n + "Channel"]
                            }))
                        })
                    }),
                    i) {
                        var a = i[r]
                          , h = s.get(r);
                        a.forEach(function(t) {
                            var i = s.get(t.materialAsset)
                              , n = h.getPreferredAsset({
                                preferredSize: e,
                                channel: t.channel
                            })
                              , r = i.resource;
                            n.ready(function(e) {
                                r[t.field] = n.resource,
                                r.update()
                            }),
                            s.load(n)
                        })
                    }
                }
            }),
            {
                Pl: "NONE",
                Ol: "FILL_WINDOW",
                ad: "KEEP_ASPECT",
                Jf: "AUTO",
                od: "FIXED",
                Ir: t
            }
        }()),
        n.fd = function(t) {
            this.frame = {
                fps: 0,
                ms: 0,
                dt: 0,
                updateStart: 0,
                updateTime: 0,
                renderStart: 0,
                renderTime: 0,
                physicsStart: 0,
                physicsTime: 0,
                cullTime: 0,
                sortTime: 0,
                skinTime: 0,
                morphTime: 0,
                instancingTime: 0,
                triangles: 0,
                otherPrimitives: 0,
                shaders: 0,
                materials: 0,
                cameras: 0,
                shadowMapUpdates: 0,
                shadowMapTime: 0,
                depthMapTime: 0,
                forwardTime: 0,
                _timeToCountFrames: 0,
                _fpsAccum: 0
            },
            this.drawCalls = {
                forward: 0,
                depth: 0,
                shadow: 0,
                immediate: 0,
                misc: 0,
                total: 0,
                skinned: 0,
                instanced: 0,
                removedByInstancing: 0
            },
            this.misc = {
                renderTargetCreationTime: 0
            },
            this.particles = {
                updatesPerFrame: 0,
                _updatesPerFrame: 0,
                frameTime: 0,
                _frameTime: 0
            },
            this.vram = t._vram,
            this.shaders = t._shaderStats,
            Object.defineProperty(this.vram, "totalUsed", {
                get: function() {
                    return this.tex + this.vb + this.ib
                }
            }),
            Object.defineProperty(this, "scene", {
                get: function() {
                    return n.Ir._currentApplication.scene._stats
                }
            }),
            Object.defineProperty(this, "lightmapper", {
                get: function() {
                    return n.Ir._currentApplication.lightmapper._stats
                }
            }),
            Object.defineProperty(this, "batcher", {
                get: function() {
                    return n.Ir._currentApplication.batcher._stats
                }
            }),
            n.K.attach(this)
        }
        ,
        Object.assign(n, (Ye = function(t, e) {
            this.name = t,
            this.url = e
        }
        ,
        (Xe = function(t) {
            this._app = t,
            this._list = [],
            this._index = {},
            this._urlIndex = {}
        }
        ).prototype.destroy = function() {
            this._app = null
        }
        ,
        Xe.prototype.list = function() {
            return this._list
        }
        ,
        Xe.prototype.add = function(t, e) {
            if (this._index.hasOwnProperty(t))
                return !1;
            var i = new n.SceneRegistryItem(t,e)
              , s = this._list.push(i);
            return this._index[i.name] = s - 1,
            this._urlIndex[i.url] = s - 1,
            !0
        }
        ,
        Xe.prototype.find = function(t) {
            return this._index.hasOwnProperty(t) ? this._list[this._index[t]] : null
        }
        ,
        Xe.prototype.findByUrl = function(t) {
            return this._urlIndex.hasOwnProperty(t) ? this._list[this._urlIndex[t]] : null
        }
        ,
        Xe.prototype.remove = function(t) {
            if (this._index.hasOwnProperty(t)) {
                var e = this._index[t]
                  , i = this._list[e];
                for (delete this._urlIndex[i.url],
                delete this._index[t],
                this._list.splice(e, 1),
                e = 0; e < this._list.length; e++)
                    i = this._list[e],
                    this._index[i.name] = e,
                    this._urlIndex[i.url] = e
            }
        }
        ,
        Xe.prototype.yl = function(t, e) {
            var i = this
              , s = this._app.loader.Tl("hierarchy");
            this._app.assets && this._app.assets.prefix && !n.Bl.test(t) && (t = n.path.join(this._app.assets.prefix, t)),
            s.load(t, function(r, a) {
                if (r)
                    e && e(r);
                else {
                    var h = function() {
                        i._app.systems.script.preloading = !0;
                        var h = s.open(t, a);
                        i._app.systems.script.preloading = !1,
                        i._app.loader.clearCache(t, "hierarchy"),
                        i._app.root.addChild(h),
                        n.Cl.initialize(h),
                        n.Cl.postInitialize(h),
                        e && e(r, h)
                    };
                    i._app._preloadScripts(a, h)
                }
            })
        }
        ,
        Xe.prototype.Ml = function(t, e) {
            var i = this;
            this._app.assets && this._app.assets.prefix && !n.Bl.test(t) && (t = n.path.join(this._app.assets.prefix, t)),
            this._app.loader.load(t, "scenesettings", function(t, s) {
                t ? e && e(t) : (i._app.Dl(s),
                e && e(null))
            })
        }
        ,
        Xe.prototype.Sl = function(t, e) {
            var i = this
              , s = this._app.loader.Tl("scene");
            this._app.assets && this._app.assets.prefix && !n.Bl.test(t) && (t = n.path.join(this._app.assets.prefix, t)),
            s.load(t, function(n, r) {
                if (n)
                    e && e(n);
                else {
                    var a = function() {
                        i._app.systems.script.preloading = !0;
                        var n = s.open(t, r);
                        i._app.systems.script.preloading = !1,
                        i._app.loader.clearCache(t, "scene"),
                        i._app.loader.patch({
                            resource: n,
                            type: "scene"
                        }, i._app.assets),
                        i._app.root.addChild(n.root),
                        i._app.systems.rigidbody && "undefined" != typeof Ammo && i._app.systems.rigidbody.setGravity(n._gravity.x, n._gravity.y, n._gravity.z),
                        e && e(null, n)
                    };
                    i._app._preloadScripts(r, a)
                }
            })
        }
        ,
        {
            SceneRegistry: Xe,
            SceneRegistryItem: Ye
        })),
        Object.assign(n, (Ke = function() {
            this.list = []
        }
        ,
        Object.assign(Ke.prototype, {
            add: function(t) {
                var e = t.id;
                if (this[e])
                    throw new Error(n.string.format("ComponentSystem name '{0}' already registered or not allowed", e));
                this[e] = t,
                this.list.push(t)
            },
            remove: function(t) {
                var e = t.id;
                if (!this[e])
                    throw new Error(n.string.format("No ComponentSystem named '{0}' registered", e));
                delete this[e];
                var i = this.list.indexOf(this[e]);
                -1 !== i && this.list.splice(i, 1)
            }
        }),
        {
            jd: Ke
        })),
        Object.assign(n, function() {
            var t = function(t) {
                this.app = t,
                this.store = {},
                this.schema = [],
                n.K.attach(this)
            };
            function e(t, e) {
                if (!t)
                    return t;
                switch (e) {
                case "rgb":
                    return t instanceof n.D ? t.clone() : new n.D(t[0],t[1],t[2]);
                case "rgba":
                    return t instanceof n.D ? t.clone() : new n.D(t[0],t[1],t[2],t[3]);
                case "vec2":
                    return t instanceof n.pt ? t.clone() : new n.pt(t[0],t[1]);
                case "vec3":
                    return t instanceof n.ut ? t.clone() : new n.ut(t[0],t[1],t[2]);
                case "vec4":
                    return t instanceof n.wt ? t.clone() : new n.wt(t[0],t[1],t[2],t[3]);
                case "boolean":
                case "number":
                case "string":
                case "entity":
                    return t;
                default:
                    throw new Error("Could not convert unhandled type: " + e)
                }
            }
            return Object.assign(t, {
                _helper: function(t, e) {
                    for (var i = 0, s = t.length; i < s; i++)
                        t[i].f.call(t[i].s, e)
                },
                initialize: function(t) {
                    this._helper(this._init, t)
                },
                postInitialize: function(t) {
                    this._helper(this._postInit, t)
                },
                update: function(t, e) {
                    this._helper(e ? this._toolsUpdate : this._update, t)
                },
                fixedUpdate: function(t, e) {
                    this._helper(this._fixedUpdate, t)
                },
                postUpdate: function(t, e) {
                    this._helper(this._postUpdate, t)
                },
                _init: [],
                _postInit: [],
                _toolsUpdate: [],
                _update: [],
                _fixedUpdate: [],
                _postUpdate: [],
                bind: function(t, e, i) {
                    switch (t) {
                    case "initialize":
                        this._init.push({
                            f: e,
                            s: i
                        });
                        break;
                    case "postInitialize":
                        this._postInit.push({
                            f: e,
                            s: i
                        });
                        break;
                    case "update":
                        this._update.push({
                            f: e,
                            s: i
                        });
                        break;
                    case "postUpdate":
                        this._postUpdate.push({
                            f: e,
                            s: i
                        });
                        break;
                    case "fixedUpdate":
                        this._fixedUpdate.push({
                            f: e,
                            s: i
                        });
                        break;
                    case "toolsUpdate":
                        this._toolsUpdate.push({
                            f: e,
                            s: i
                        })
                    }
                },
                _erase: function(t, e, i) {
                    for (var s = 0; s < t.length; s++)
                        t[s].f === e && t[s].s === i && t.splice(s--, 1)
                },
                unbind: function(t, e, i) {
                    switch (t) {
                    case "initialize":
                        this._erase(this._init, e, i);
                        break;
                    case "postInitialize":
                        this._erase(this._postInit, e, i);
                        break;
                    case "update":
                        this._erase(this._update, e, i);
                        break;
                    case "postUpdate":
                        this._erase(this._postUpdate, e, i);
                        break;
                    case "fixedUpdate":
                        this._erase(this._fixedUpdate, e, i);
                        break;
                    case "toolsUpdate":
                        this._erase(this._toolsUpdate, e, i)
                    }
                }
            }),
            t.prototype = {
                Il: function(t, e) {
                    var i = new this.ComponentType(this,t)
                      , s = new this.DataType;
                    return e = e || {},
                    this.store[t.getGuid()] = {
                        Bc: t,
                        data: s
                    },
                    t[this.id] = i,
                    t.c[this.id] = i,
                    this.jl(i, e, []),
                    this.fire("add", t, i),
                    i
                },
                Rl: function(t) {
                    var e = this.store[t.getGuid()]
                      , i = t.c[this.id];
                    this.fire("beforeremove", t, i),
                    delete this.store[t.getGuid()],
                    delete t[this.id],
                    delete t.c[this.id],
                    this.fire("remove", t, e.data)
                },
                cloneComponent: function(t, e) {
                    var i = this.store[t.getGuid()];
                    return this.Il(e, i.data)
                },
                jl: function(t, i, s) {
                    var n, r, a, h;
                    i = i || {};
                    for (var c = 0, o = s.length; c < o; c++)
                        "object" == typeof (n = s[c]) ? (r = n.name,
                        a = n.type) : (r = n,
                        a = void 0),
                        void 0 !== (h = i[r]) ? (void 0 !== a && (h = e(h, a)),
                        t[r] = h) : t[r] = t.data[r];
                    t.enabled && t.Bc.enabled && t.onEnable()
                },
                getPropertiesOfType: function(t) {
                    var e = [], i;
                    return (this.schema || []).forEach(function(i) {
                        i && "object" == typeof i && i.type === t && e.push(i)
                    }),
                    e
                },
                destroy: function() {
                    this.off()
                }
            },
            n.K.attach(t),
            t.destroy = function() {
                t.off("initialize"),
                t.off("postInitialize"),
                t.off("toolsUpdate"),
                t.off("update"),
                t.off("fixedUpdate"),
                t.off("postUpdate")
            }
            ,
            {
                Cl: t
            }
        }()),
        Object.assign(n, ((Qe = function(t, e) {
            this.system = t,
            this.Bc = e,
            n.K.attach(this),
            this.system.schema && !this._accessorsBuilt && this.buildAccessors(this.system.schema),
            this.on("set", function(t, e, i) {
                this.fire("set_" + t, t, e, i)
            }),
            this.on("set_enabled", this.onSetEnabled, this)
        }
        )._buildAccessors = function(t, e) {
            e.forEach(function(e) {
                var i = "object" == typeof e ? e.name : e;
                Object.defineProperty(t, i, {
                    get: function() {
                        return this.data[i]
                    },
                    set: function(t) {
                        var e = this.data
                          , s = e[i];
                        e[i] = t,
                        this.fire("set", i, s, t)
                    },
                    configurable: !0
                })
            }),
            t._accessorsBuilt = !0
        }
        ,
        Qe.prototype = {
            buildAccessors: function(t) {
                Qe._buildAccessors(this, t)
            },
            onSetEnabled: function(t, e, i) {
                e !== i && this.Bc.enabled && (i ? this.onEnable() : this.onDisable())
            },
            onEnable: function() {},
            onDisable: function() {},
            onPostStateChange: function() {}
        },
        Object.defineProperty(Qe.prototype, "data", {
            get: function() {
                var t = this.system.store[this.Bc.getGuid()];
                return t ? t.data : null
            }
        }),
        {
            Component: Qe
        })),
        Object.assign(n, {
            Ll: function() {}
        }),
        Object.assign(n, (((qe = function(t, e) {
            n.Component.call(this, t, e),
            this.animationsIndex = {},
            this.on("set_animations", this.onSetAnimations, this),
            this.on("set_assets", this.onSetAssets, this),
            this.on("set_loop", this.onSetLoop, this)
        }
        ).prototype = Object.create(n.Component.prototype)).constructor = qe,
        Object.assign(qe.prototype, {
            play: function(t, e) {
                if (this.data.animations[t] && this.enabled && this.Bc.enabled) {
                    e = e || 0;
                    var i = this.data;
                    i.prevAnim = i.currAnim,
                    i.currAnim = t,
                    i.model && (i.blending = e > 0 && i.prevAnim,
                    i.blending ? (i.blendTime = e,
                    i.blendTimeRemaining = e,
                    i.fromSkel.animation = i.animations[i.prevAnim],
                    i.fromSkel.addTime(i.skeleton._time),
                    i.toSkel.animation = i.animations[i.currAnim]) : i.skeleton.animation = i.animations[i.currAnim]),
                    i.playing = !0
                }
            },
            getAnimation: function(t) {
                return this.data.animations[t]
            },
            setModel: function(t) {
                var e = this.data;
                if (t) {
                    var i = t.getGraph();
                    e.fromSkel = new n.Nc(i),
                    e.toSkel = new n.Nc(i),
                    e.skeleton = new n.Nc(i),
                    e.skeleton.looping = e.loop,
                    e.skeleton.setGraph(i),
                    e.skeleton.animationComponent = this
                }
                e.model = t,
                e.animations && e.currAnim && e.animations[e.currAnim] && this.play(e.currAnim)
            },
            loadAnimationAssets: function(t) {
                if (t && t.length) {
                    var e = this, i = this.system.app.assets, s, n = t.length, r = function(t) {
                        e.animations[t.name] = t.resource,
                        e.animationsIndex[t.id] = t.name,
                        e.animations = e.animations
                    }, a = function(t) {
                        t.off("change", e.onAssetChanged, e),
                        t.on("change", e.onAssetChanged, e),
                        t.off("remove", e.onAssetRemoved, e),
                        t.on("remove", e.onAssetRemoved, e),
                        t.resource ? r(t) : (t.once("load", r, e),
                        e.enabled && e.Bc.enabled && i.load(t))
                    };
                    for (s = 0; s < n; s++) {
                        var h = i.get(t[s]);
                        h ? a(h) : i.on("add:" + t[s], a)
                    }
                }
            },
            onAssetChanged: function(t, e, i, s) {
                "resource" === e && (i ? (this.animations[t.name] = i,
                this.animationsIndex[t.id] = t.name,
                this.data.currAnim === t.name && this.data.playing && this.data.enabled && this.Bc.enabled && this.play(t.name, 0)) : (delete this.animations[t.name],
                delete this.animationsIndex[t.id]))
            },
            onAssetRemoved: function(t) {
                t.off("remove", this.onAssetRemoved, this),
                this.animations && this.animations[t.name] && (delete this.animations[t.name],
                delete this.animationsIndex[t.id],
                this.data.currAnim === t.name && this._stopCurrentAnimation())
            },
            _stopCurrentAnimation: function() {
                this.data.playing = !1,
                this.data.skeleton && (this.data.skeleton.currentTime = 0)
            },
            onSetAnimations: function(t, e, i) {
                var s = this.data
                  , n = this.Bc.model;
                if (n) {
                    var r = n.model;
                    r && r !== s.model && this.Bc.animation.setModel(r)
                }
                if (!s.currAnim && s.activate && s.enabled && this.Bc.enabled)
                    for (var a in s.animations) {
                        this.play(a, 0);
                        break
                    }
            },
            onSetAssets: function(t, e, i) {
                if (e && e.length)
                    for (var s = 0; s < e.length; s++)
                        if (e[s]) {
                            var r = this.system.app.assets.get(e[s]);
                            if (r) {
                                r.off("change", this.onAssetChanged, this),
                                r.off("remove", this.onAssetRemoved, this);
                                var a = this.animationsIndex[r.id];
                                this.data.currAnim === a && this._stopCurrentAnimation(),
                                delete this.animations[a],
                                delete this.animationsIndex[r.id]
                            }
                        }
                var h = i.map(function(t) {
                    return t instanceof n.Zf ? t.id : t
                });
                this.loadAnimationAssets(h)
            },
            onSetLoop: function(t, e, i) {
                this.data.skeleton && (this.data.skeleton.looping = this.data.loop)
            },
            onSetCurrentTime: function(t, e, i) {
                this.data.skeleton.currentTime = i,
                this.data.skeleton.addTime(0),
                this.data.skeleton.updateGraph()
            },
            onEnable: function() {
                n.Component.prototype.onEnable.call(this);
                var t = this.data.assets
                  , e = this.system.app.assets;
                if (t)
                    for (var i = 0, s = t.length; i < s; i++) {
                        var r = t[i];
                        r instanceof n.Zf || (r = e.get(r)),
                        r && !r.resource && e.load(r)
                    }
                if (this.data.activate && !this.data.currAnim)
                    for (var a in this.data.animations) {
                        this.play(a, 0);
                        break
                    }
            },
            onBeforeRemove: function() {
                for (var t = 0; t < this.assets.length; t++) {
                    var e = this.system.app.assets.get(this.assets[t]);
                    e && (e.off("change", this.onAssetChanged, this),
                    e.off("remove", this.onAssetRemoved, this))
                }
                delete this.data.animation,
                delete this.data.skeleton,
                delete this.data.fromSkel,
                delete this.data.toSkel
            },
            onAnimationEnd: function() {
                this.fire("end", this.skeleton._time)
            }
        }),
        Object.defineProperties(qe.prototype, {
            currentTime: {
                get: function() {
                    return this.data.skeleton._time
                },
                set: function(t) {
                    this.data.skeleton.currentTime = t,
                    this.data.skeleton.addTime(0),
                    this.data.skeleton.updateGraph()
                }
            },
            duration: {
                get: function() {
                    return this.data.animations[this.data.currAnim].duration
                }
            }
        }),
        {
            Nl: qe
        })),
        Object.assign(n, (Ze = ["enabled", "assets", "speed", "loop", "activate", "animations", "skeleton", "model", "prevAnim", "currAnim", "fromSkel", "toSkel", "blending", "blendTimeRemaining", "playing"],
        (($e = function t(e) {
            n.Cl.call(this, e),
            this.id = "animation",
            this.description = "Specifies the animation assets that can run on the model specified by the Entity's model Component.",
            this.ComponentType = n.Nl,
            this.DataType = n.Fl,
            this.schema = Ze,
            this.on("beforeremove", this.onBeforeRemove, this),
            this.on("update", this.onUpdate, this),
            n.Cl.bind("update", this.onUpdate, this)
        }
        ).prototype = Object.create(n.Cl.prototype)).constructor = $e,
        n.Component._buildAccessors(n.Nl.prototype, Ze),
        Object.assign($e.prototype, {
            jl: function(t, e, i) {
                i = ["activate", "enabled", "loop", "speed", "assets"],
                n.Cl.prototype.jl.call(this, t, e, i)
            },
            cloneComponent: function(t, e) {
                var i;
                this.Il(e, {}),
                e.animation.assets = t.animation.assets.slice(),
                e.animation.data.speed = t.animation.speed,
                e.animation.data.loop = t.animation.loop,
                e.animation.data.activate = t.animation.activate,
                e.animation.data.enabled = t.animation.enabled;
                var s = {}
                  , n = t.animation.animations;
                for (i in n)
                    n.hasOwnProperty(i) && (s[i] = n[i]);
                e.animation.animations = s;
                var r = {}
                  , a = t.animation.animationsIndex;
                for (i in a)
                    a.hasOwnProperty(i) && (r[i] = a[i]);
                e.animation.animationsIndex = r
            },
            onBeforeRemove: function(t, e) {
                e.onBeforeRemove()
            },
            onUpdate: function(t) {
                var e = this.store;
                for (var i in e)
                    if (e.hasOwnProperty(i)) {
                        var s = e[i]
                          , n = s.data;
                        if (n.enabled && n.playing && s.Bc.enabled) {
                            var r = n.skeleton;
                            if (null !== r && null !== n.model) {
                                if (n.blending) {
                                    n.blendTimeRemaining -= t,
                                    n.blendTimeRemaining < 0 && (n.blendTimeRemaining = 0);
                                    var a = 1 - n.blendTimeRemaining / n.blendTime;
                                    r.blend(n.fromSkel, n.toSkel, a)
                                } else {
                                    var h = t * n.speed;
                                    r.addTime(h),
                                    r._time !== r._animation.duration || n.loop || (n.playing = !1)
                                }
                                n.blending && 0 === n.blendTimeRemaining && (n.blending = !1,
                                r.animation = n.toSkel._animation),
                                r.updateGraph()
                            }
                        }
                    }
            }
        }),
        {
            Nd: $e
        })),
        Object.assign(n, {
            Fl: function() {
                this.assets = [],
                this.speed = 1,
                this.loop = !0,
                this.activate = !0,
                this.enabled = !0,
                this.animations = {},
                this.skeleton = null,
                this.model = null,
                this.prevAnim = null,
                this.currAnim = null,
                this.fromSkel = null,
                this.toSkel = null,
                this.blending = !1,
                this.blendTime = 0,
                this.blendTimeRemaining = 0,
                this.playing = !1
            }
        }),
        Object.assign(n, (((ei = function t(e, i) {
            n.Component.call(this, e, i),
            this._type = "asset",
            this._asset = null,
            this._model = null,
            this._mapping = {},
            this._castShadows = !0,
            this._receiveShadows = !0,
            this._materialAsset = null,
            this._material = e.defaultMaterial,
            this._castShadowsLightmap = !0,
            this._lightmapped = !1,
            this._lightmapSizeMultiplier = 1,
            this._isStatic = !1,
            this._layers = [n.LAYERID_WORLD],
            this._batchGroupId = -1,
            this._area = null,
            this._assetOld = 0,
            this._materialEvents = null,
            this._dirtyModelAsset = !1,
            this._dirtyMaterialAsset = !1,
            this._clonedModel = !1
        }
        ).prototype = Object.create(n.Component.prototype)).constructor = ei,
        Object.assign(ei.prototype, {
            setVisible: function(t) {
                this.enabled = t
            },
            addModelToLayers: function() {
                for (var t, e = this.system.app.scene.layers, i = 0; i < this._layers.length; i++)
                    (t = e.getLayerById(this._layers[i])) && t.addMeshInstances(this.meshInstances)
            },
            removeModelFromLayers: function(t) {
                for (var e, i = this.system.app.scene.layers, s = 0; s < this._layers.length; s++)
                    (e = i.getLayerById(this._layers[s])) && e.removeMeshInstances(t.meshInstances)
            },
            onRemove: function() {
                this.asset = null,
                this.materialAsset = null,
                this._unsetMaterialEvents()
            },
            onLayersChanged: function(t, e) {
                this.addModelToLayers(),
                t.off("add", this.onLayerAdded, this),
                t.off("remove", this.onLayerRemoved, this),
                e.on("add", this.onLayerAdded, this),
                e.on("remove", this.onLayerRemoved, this)
            },
            onLayerAdded: function(t) {
                var e;
                this.layers.indexOf(t.id) < 0 || t.addMeshInstances(this.meshInstances)
            },
            onLayerRemoved: function(t) {
                var e;
                this.layers.indexOf(t.id) < 0 || t.removeMeshInstances(this.meshInstances)
            },
            _setMaterialEvent: function(t, e, i, s) {
                var n = e + ":" + i;
                this.system.app.assets.on(n, s, this),
                this._materialEvents || (this._materialEvents = []),
                this._materialEvents[t] || (this._materialEvents[t] = {}),
                this._materialEvents[t][n] = {
                    id: i,
                    handler: s
                }
            },
            _unsetMaterialEvents: function() {
                var t = this.system.app.assets
                  , e = this._materialEvents;
                if (e) {
                    for (var i = 0, s = e.length; i < s; i++)
                        if (e[i]) {
                            var n = e[i];
                            for (var r in n)
                                t.off(r, n[r].handler, this)
                        }
                    this._materialEvents = null
                }
            },
            kl: function(t) {
                var e = null, i;
                if (isNaN(parseInt(t, 10))) {
                    if (this.asset) {
                        var s = this._getMaterialAssetUrl(t);
                        s && (e = this.system.app.assets.getByUrl(s))
                    }
                } else
                    e = this.system.app.assets.get(t);
                return e
            },
            _getMaterialAssetUrl: function(t) {
                if (!this.asset)
                    return null;
                var e = this.system.app.assets.get(this.asset);
                if (!e)
                    return null;
                var i = e.getFileUrl()
                  , s = n.path.getDirectory(i);
                return n.path.join(s, t)
            },
            _loadAndSetMeshInstanceMaterial: function(t, e, i) {
                var s = this.system.app.assets;
                t && t && (t.resource ? (e.material = t.resource,
                this._setMaterialEvent(i, "remove", t.id, function() {
                    e.material = this.system.defaultMaterial
                })) : (this._setMaterialEvent(i, "load", t.id, function(s) {
                    e.material = s.resource,
                    this._setMaterialEvent(i, "remove", t.id, function() {
                        e.material = this.system.defaultMaterial
                    })
                }),
                this.enabled && this.Bc.enabled && s.load(t)))
            },
            onEnable: function() {
                var t = this.system.app
                  , e = t.scene;
                e.on("set:layers", this.onLayersChanged, this),
                e.layers && (e.layers.on("add", this.onLayerAdded, this),
                e.layers.on("remove", this.onLayerRemoved, this));
                var i = "asset" === this._type, s;
                if (this._model ? this.addModelToLayers() : i && this._asset && (s = t.assets.get(this._asset)) && s.resource !== this._model && this._bindModelAsset(s),
                this._materialAsset && (s = t.assets.get(this._materialAsset)) && s.resource !== this._material && this._bindMaterialAsset(s),
                i && this._mapping)
                    for (var n in this._mapping)
                        this._mapping[n] && (s = this.kl(this._mapping[n])) && !s.resource && t.assets.load(s)
            },
            onDisable: function() {
                var t = this.system.app
                  , e = t.scene;
                e.off("set:layers", this.onLayersChanged, this),
                e.layers && (e.layers.off("add", this.onLayerAdded, this),
                e.layers.off("remove", this.onLayerRemoved, this)),
                this.batchGroupId >= 0 && t.batcher.markGroupDirty(this.batchGroupId),
                this._model && this.removeModelFromLayers(this._model)
            },
            hide: function() {
                if (this._model) {
                    var t, e, i = this._model.meshInstances;
                    for (t = 0,
                    e = i.length; t < e; t++)
                        i[t].visible = !1
                }
            },
            show: function() {
                if (this._model) {
                    var t, e, i = this._model.meshInstances;
                    for (t = 0,
                    e = i.length; t < e; t++)
                        i[t].visible = !0
                }
            },
            _bindMaterialAsset: function(t) {
                if (t.on("load", this._onMaterialAssetLoad, this),
                t.on("unload", this._onMaterialAssetUnload, this),
                t.on("remove", this._onMaterialAssetRemove, this),
                t.on("change", this._onMaterialAssetChange, this),
                t.resource)
                    this._onMaterialAssetLoad(t);
                else {
                    if (!this.enabled || !this.Bc.enabled)
                        return;
                    this.system.app.assets.load(t)
                }
            },
            _unbindMaterialAsset: function(t) {
                t.off("load", this._onMaterialAssetLoad, this),
                t.off("unload", this._onMaterialAssetUnload, this),
                t.off("remove", this._onMaterialAssetRemove, this),
                t.off("change", this._onMaterialAssetChange, this)
            },
            _onMaterialAssetAdd: function(t) {
                this.system.app.assets.off("add:" + t.id, this._onMaterialAssetAdd, this),
                this._materialAsset === t.id && this._bindMaterialAsset(t)
            },
            _onMaterialAssetLoad: function(t) {
                this.material = t.resource
            },
            _onMaterialAssetUnload: function(t) {
                this.material = this.system.defaultMaterial
            },
            _onMaterialAssetRemove: function(t) {
                this._onMaterialAssetUnload(t)
            },
            _onMaterialAssetChange: function(t) {},
            _bindModelAsset: function(t) {
                if (this._unbindModelAsset(t),
                t.on("load", this._onModelAssetLoad, this),
                t.on("unload", this._onModelAssetUnload, this),
                t.on("change", this._onModelAssetChange, this),
                t.on("remove", this._onModelAssetRemove, this),
                t.resource)
                    this._onModelAssetLoad(t);
                else {
                    if (!this.enabled || !this.Bc.enabled)
                        return;
                    this.system.app.assets.load(t)
                }
            },
            _unbindModelAsset: function(t) {
                t.off("load", this._onModelAssetLoad, this),
                t.off("unload", this._onModelAssetUnload, this),
                t.off("change", this._onModelAssetChange, this),
                t.off("remove", this._onModelAssetRemove, this)
            },
            _onModelAssetAdded: function(t) {
                this.system.app.assets.off("add:" + t.id, this._onModelAssetAdd, this),
                t.id === this._asset && this._bindModelAsset(t)
            },
            _onModelAssetLoad: function(t) {
                this.model = t.resource.clone(),
                this._clonedModel = !0
            },
            _onModelAssetUnload: function(t) {
                this.model = null
            },
            _onModelAssetChange: function(t, e, i, s) {
                "data" === e && (this.mapping = this._mapping)
            },
            _onModelAssetRemove: function(t) {
                this.model = null
            }
        }),
        Object.defineProperty(ei.prototype, "meshInstances", {
            get: function() {
                return this._model ? this._model.meshInstances : null
            },
            set: function(t) {
                this._model && (this._model.meshInstances = t)
            }
        }),
        Object.defineProperty(ei.prototype, "type", {
            get: function() {
                return this._type
            },
            set: function(t) {
                if (this._type !== t) {
                    var e = null;
                    if (this._area = null,
                    this._type = t,
                    "asset" === t)
                        null !== this._asset ? this._bindModelAsset(this._asset) : this.model = null;
                    else {
                        var i = this.system
                          , s = i.app.Br;
                        switch (t) {
                        case "box":
                            i.box || (i.box = n.Wh(s, {
                                halfExtents: new n.ut(.5,.5,.5)
                            })),
                            e = i.box,
                            this._area = {
                                x: 2,
                                y: 2,
                                z: 2,
                                uv: 2 / 3
                            };
                            break;
                        case "capsule":
                            i.capsule || (i.capsule = n.Ec(s, {
                                radius: .5,
                                height: 2
                            })),
                            e = i.capsule,
                            this._area = {
                                x: 2 * Math.PI,
                                y: Math.PI,
                                z: 2 * Math.PI,
                                uv: 1 / 3 + 1 / 3 / 3 * 2
                            };
                            break;
                        case "cone":
                            i.cone || (i.cone = n.Dc(s, {
                                baseRadius: .5,
                                peakRadius: 0,
                                height: 1
                            })),
                            e = i.cone,
                            this._area = {
                                x: 2.54,
                                y: 2.54,
                                z: 2.54,
                                uv: 1 / 3 + 1 / 3 / 3
                            };
                            break;
                        case "cylinder":
                            i.cylinder || (i.cylinder = n.Oc(s, {
                                radius: .5,
                                height: 1
                            })),
                            e = i.cylinder,
                            this._area = {
                                x: Math.PI,
                                y: 1.58,
                                z: Math.PI,
                                uv: 1 / 3 + 1 / 3 / 3 * 2
                            };
                            break;
                        case "plane":
                            i.plane || (i.plane = n.Pc(s, {
                                halfExtents: new n.pt(.5,.5),
                                widthSegments: 1,
                                lengthSegments: 1
                            })),
                            e = i.plane,
                            this._area = {
                                x: 0,
                                y: 1,
                                z: 0,
                                uv: 1
                            };
                            break;
                        case "sphere":
                            i.sphere || (i.sphere = n.Tc(s, {
                                radius: .5
                            })),
                            e = i.sphere,
                            this._area = {
                                x: Math.PI,
                                y: Math.PI,
                                z: Math.PI,
                                uv: 1
                            };
                            break;
                        default:
                            throw new Error("Invalid model type: " + t)
                        }
                        var r = new n.Gh
                          , a = new n.Xh;
                        a.graph = r,
                        a.meshInstances = [new n.Yh(r,e,this._material)],
                        i._inTools && a.generateWireframe(),
                        this.model = a,
                        this._asset = null
                    }
                }
            }
        }),
        Object.defineProperty(ei.prototype, "asset", {
            get: function() {
                return this._asset
            },
            set: function(t) {
                var e = this.system.app.assets
                  , i = t;
                if (t instanceof n.Zf && (i = t.id),
                this._asset !== i) {
                    if (this._asset) {
                        e.off("add:" + this._asset, this._onModelAssetAdded, this);
                        var s = e.get(this._asset);
                        s && this._unbindModelAsset(s)
                    }
                    if (this._asset = i,
                    this._asset) {
                        var r = e.get(this._asset);
                        r ? this._bindModelAsset(r) : (this.model = null,
                        e.on("add:" + this._asset, this._onModelAssetAdded, this))
                    } else
                        this.model = null
                }
            }
        }),
        Object.defineProperty(ei.prototype, "model", {
            get: function() {
                return this._model
            },
            set: function(t) {
                if (this._model !== t && (this._model && (this.removeModelFromLayers(this._model),
                this.Bc.removeChild(this._model.getGraph()),
                delete this._model._entity,
                this._clonedModel && (this._model.destroy(),
                this._clonedModel = !1)),
                this._model = t,
                this._model)) {
                    for (var e = this._model.meshInstances, i = 0; i < e.length; i++)
                        e[i].castShadow = this._castShadows,
                        e[i].receiveShadow = this._receiveShadows,
                        e[i].isStatic = this._isStatic;
                    this.lightmapped = this._lightmapped,
                    this.Bc.addChild(this._model.graph),
                    this.enabled && this.Bc.enabled && this.addModelToLayers(),
                    this._model._entity = this.Bc,
                    this.Bc.animation && this.Bc.animation.setModel(this._model),
                    "asset" === this.type ? this.mapping = this._mapping : this._unsetMaterialEvents()
                }
            }
        }),
        Object.defineProperty(ei.prototype, "lightmapped", {
            get: function() {
                return this._lightmapped
            },
            set: function(t) {
                var e, i, s;
                if (t !== this._lightmapped && (this._lightmapped = t,
                this._model)) {
                    var r = this._model.meshInstances;
                    if (t)
                        for (e = 0; e < r.length; e++)
                            s = (i = r[e]).mask,
                            i.mask = (s | n.Ph) & ~(n.Th | n.Bh);
                    else
                        for (e = 0; e < r.length; e++)
                            (i = r[e]).deleteParameter("texture_lightMap"),
                            i.deleteParameter("texture_dirLightMap"),
                            i._shaderDefs &= ~n.ph,
                            s = i.mask,
                            i.mask = (s | n.Th) & ~(n.Ph | n.Bh)
                }
            }
        }),
        Object.defineProperty(ei.prototype, "castShadows", {
            get: function() {
                return this._castShadows
            },
            set: function(t) {
                if (this._castShadows !== t) {
                    var e, i, s = this._model;
                    if (s) {
                        var n = this.layers
                          , r = this.system.app.scene;
                        if (this._castShadows && !t)
                            for (i = 0; i < n.length; i++)
                                (e = this.system.app.scene.layers.getLayerById(this.layers[i])) && e.removeShadowCasters(s.meshInstances);
                        var a = s.meshInstances;
                        for (i = 0; i < a.length; i++)
                            a[i].castShadow = t;
                        if (!this._castShadows && t)
                            for (i = 0; i < n.length; i++)
                                (e = r.layers.getLayerById(n[i])) && e.addShadowCasters(s.meshInstances)
                    }
                    this._castShadows = t
                }
            }
        }),
        Object.defineProperty(ei.prototype, "receiveShadows", {
            get: function() {
                return this._receiveShadows
            },
            set: function(t) {
                if (this._receiveShadows !== t && (this._receiveShadows = t,
                this._model))
                    for (var e = this._model.meshInstances, i = 0, s = e.length; i < s; i++)
                        e[i].receiveShadow = t
            }
        }),
        Object.defineProperty(ei.prototype, "castShadowsLightmap", {
            get: function() {
                return this._castShadowsLightmap
            },
            set: function(t) {
                this._castShadowsLightmap = t
            }
        }),
        Object.defineProperty(ei.prototype, "lightmapSizeMultiplier", {
            get: function() {
                return this._lightmapSizeMultiplier
            },
            set: function(t) {
                this._lightmapSizeMultiplier = t
            }
        }),
        Object.defineProperty(ei.prototype, "isStatic", {
            get: function() {
                return this._isStatic
            },
            set: function(t) {
                var e, i;
                if (this._isStatic !== t && (this._isStatic = t,
                this._model)) {
                    var s = this._model.meshInstances;
                    for (e = 0; e < s.length; e++)
                        (i = s[e]).isStatic = t
                }
            }
        }),
        Object.defineProperty(ei.prototype, "layers", {
            get: function() {
                return this._layers
            },
            set: function(t) {
                var e, i, s = this.system.app.scene.layers;
                if (this.meshInstances)
                    for (e = 0; e < this._layers.length; e++)
                        (i = s.getLayerById(this._layers[e])) && i.removeMeshInstances(this.meshInstances);
                for (this._layers.length = 0,
                e = 0; e < t.length; e++)
                    this._layers[e] = t[e];
                if (this.enabled && this.Bc.enabled && this.meshInstances)
                    for (e = 0; e < this._layers.length; e++)
                        (i = s.getLayerById(this._layers[e])) && i.addMeshInstances(this.meshInstances)
            }
        }),
        Object.defineProperty(ei.prototype, "batchGroupId", {
            get: function() {
                return this._batchGroupId
            },
            set: function(t) {
                if (this._batchGroupId !== t) {
                    var e = this.system.app.batcher;
                    this._batchGroupId >= 0 && e.markGroupDirty(this._batchGroupId),
                    t >= 0 && e.markGroupDirty(t),
                    t < 0 && this._batchGroupId >= 0 && this.enabled && this.Bc.enabled && this.addModelToLayers(),
                    this._batchGroupId = t
                }
            }
        }),
        Object.defineProperty(ei.prototype, "materialAsset", {
            get: function() {
                return this._materialAsset
            },
            set: function(t) {
                var e = t;
                t instanceof n.Zf && (e = t.id);
                var i = this.system.app.assets;
                if (e !== this._materialAsset) {
                    if (this._materialAsset) {
                        i.off("add:" + this._materialAsset, this._onMaterialAdded, this);
                        var s = i.get(this._materialAsset);
                        s && this._unbindMaterialAsset(s)
                    }
                    if (this._materialAsset = e,
                    this._materialAsset) {
                        var r = i.get(this._materialAsset);
                        r ? this._bindMaterialAsset(r) : (this.material = this.system.defaultMaterial,
                        i.on("add:" + this._materialAsset, this._onMaterialAdded, this))
                    } else
                        this.material = this.system.defaultMaterial
                }
            }
        }),
        Object.defineProperty(ei.prototype, "material", {
            get: function() {
                return this._material
            },
            set: function(t) {
                if (this._material !== t) {
                    this._material = t;
                    var e = this._model;
                    if (e && "asset" !== this._type)
                        for (var i = e.meshInstances, s = 0, n = i.length; s < n; s++)
                            i[s].material = t
                }
            }
        }),
        Object.defineProperty(ei.prototype, "mapping", {
            get: function() {
                return this._mapping
            },
            set: function(t) {
                if ("asset" === this._type && (this._unsetMaterialEvents(),
                t || (t = {}),
                this._mapping = t,
                this._model))
                    for (var e = this._model.meshInstances, i = this.asset ? this.system.app.assets.get(this.asset) : null, s = i ? i.data.mapping : null, n = null, r = 0, a = e.length; r < a; r++)
                        if (void 0 !== t[r])
                            t[r] ? (n = this.system.app.assets.get(t[r]),
                            this._loadAndSetMeshInstanceMaterial(n, e[r], r)) : e[r].material = this.system.defaultMaterial;
                        else if (s)
                            if (s[r] && (s[r].material || s[r].path)) {
                                if (void 0 !== s[r].material)
                                    n = this.system.app.assets.get(s[r].material);
                                else if (void 0 !== s[r].path) {
                                    var h = this._getMaterialAssetUrl(s[r].path);
                                    h && (n = this.system.app.assets.getByUrl(h))
                                }
                                this._loadAndSetMeshInstanceMaterial(n, e[r], r)
                            } else
                                e[r].material = this.system.defaultMaterial
            }
        }),
        {
            Ul: ei
        })),
        Object.assign(n, function() {
            var t = ["enabled"]
              , e = function e(i) {
                n.Cl.call(this, i),
                this.id = "model",
                this.description = "Renders a 3D model at the location of the Entity.",
                this.ComponentType = n.Ul,
                this.DataType = n.Vl,
                this.schema = t,
                this.box = null,
                this.capsule = null,
                this.cone = null,
                this.cylinder = null,
                this.plane = null,
                this.sphere = null,
                this.defaultMaterial = i.scene.defaultMaterial,
                this.on("beforeremove", this.onRemove, this)
            };
            return (e.prototype = Object.create(n.Cl.prototype)).constructor = e,
            n.Component._buildAccessors(n.Ul.prototype, t),
            Object.assign(e.prototype, {
                jl: function(t, e, i) {
                    i = ["material", "materialAsset", "asset", "castShadows", "receiveShadows", "castShadowsLightmap", "lightmapped", "lightmapSizeMultiplier", "type", "mapping", "layers", "isStatic", "batchGroupId"],
                    null !== e.batchGroupId && void 0 !== e.batchGroupId || (e.batchGroupId = -1),
                    e.layers && e.layers.length && (e.layers = e.layers.slice(0));
                    for (var s = 0; s < i.length; s++)
                        e.hasOwnProperty(i[s]) && (t[i[s]] = e[i[s]]);
                    n.Cl.prototype.jl.call(this, t, e, ["enabled"])
                },
                cloneComponent: function(t, e) {
                    var i = {
                        type: t.model.type,
                        asset: t.model.asset,
                        castShadows: t.model.castShadows,
                        receiveShadows: t.model.receiveShadows,
                        castShadowsLightmap: t.model.castShadowsLightmap,
                        lightmapped: t.model.lightmapped,
                        lightmapSizeMultiplier: t.model.lightmapSizeMultiplier,
                        isStatic: t.model.isStatic,
                        enabled: t.model.enabled,
                        layers: t.model.layers,
                        batchGroupId: t.model.batchGroupId,
                        mapping: n.extend({}, t.model.mapping)
                    }
                      , s = t.model.materialAsset;
                    s instanceof n.Zf || null == s || (s = this.app.assets.get(s));
                    var r = t.model.material;
                    r && r !== this.defaultMaterial && s && r !== s.resource || (i.materialAsset = s);
                    var a = this.Il(e, i);
                    if (t.model.model && "asset" === t.model.type && !t.model.asset && (a.model = t.model.model.clone(),
                    a._clonedModel = !0),
                    i.materialAsset || (a.material = r),
                    t.model.model)
                        for (var h = t.model.model.meshInstances, c = a.model.meshInstances, o = 0; o < h.length; o++)
                            c[o].mask = h[o].mask,
                            c[o].material = h[o].material,
                            c[o].layer = h[o].layer,
                            c[o].receiveShadow = h[o].receiveShadow
                },
                onRemove: function(t, e) {
                    e.onRemove()
                }
            }),
            {
                Fd: e
            }
        }()),
        Object.assign(n, {
            Vl: function() {
                this.enabled = !0
            }
        }),
        Object.assign(n, (((si = function t(e, i) {
            n.Component.call(this, e, i),
            this.on("set_aspectRatioMode", this.onSetAspectRatioMode, this),
            this.on("set_aspectRatio", this.onSetAspectRatio, this),
            this.on("set_camera", this.onSetCamera, this),
            this.on("set_clearColor", this.onSetClearColor, this),
            this.on("set_fov", this.onSetFov, this),
            this.on("set_orthoHeight", this.onSetOrthoHeight, this),
            this.on("set_nearClip", this.onSetNearClip, this),
            this.on("set_farClip", this.onSetFarClip, this),
            this.on("set_projection", this.onSetProjection, this),
            this.on("set_priority", this.onSetPriority, this),
            this.on("set_clearColorBuffer", this.updateClearFlags, this),
            this.on("set_clearDepthBuffer", this.updateClearFlags, this),
            this.on("set_clearStencilBuffer", this.updateClearFlags, this),
            this.on("set_renderTarget", this.onSetRenderTarget, this),
            this.on("set_rect", this.onSetRect, this),
            this.on("set_scissorRect", this.onSetScissorRect, this),
            this.on("set_horizontalFov", this.onSetHorizontalFov, this),
            this.on("set_frustumCulling", this.onSetFrustumCulling, this),
            this.on("set_calculateTransform", this.onSetCalculateTransform, this),
            this.on("set_calculateProjection", this.onSetCalculateProjection, this),
            this.on("set_cullFaces", this.onSetCullFaces, this),
            this.on("set_flipFaces", this.onSetFlipFaces, this),
            this.on("set_layers", this.onSetLayers, this)
        }
        ).prototype = Object.create(n.Component.prototype)).constructor = si,
        Object.defineProperty(si.prototype, "projectionMatrix", {
            get: function() {
                return this.data.camera.getProjectionMatrix()
            }
        }),
        Object.defineProperty(si.prototype, "viewMatrix", {
            get: function() {
                var t;
                return this.data.camera._node.getWorldTransform().clone().invert()
            }
        }),
        Object.defineProperty(si.prototype, "frustum", {
            get: function() {
                return this.data.camera.frustum
            }
        }),
        Object.defineProperty(si.prototype, "vrDisplay", {
            get: function() {
                return this.data.camera.vrDisplay
            },
            set: function(t) {
                this.data.camera.vrDisplay = t,
                t && (t._camera = this.data.camera)
            }
        }),
        Object.defineProperty(si.prototype, "node", {
            get: function() {
                return this.data.camera._node
            }
        }),
        Object.assign(si.prototype, {
            screenToWorld: function(t, e, i, s) {
                var n = this.system.app.Br;
                return this.data.camera.screenToWorld(t, e, i, n.clientRect.width, n.clientRect.height, s)
            },
            hc: function(t, e) {
                var i = this.system.app.Br;
                return this.data.camera.hc(t, i.clientRect.width, i.clientRect.height, e)
            },
            onSetAspectRatioMode: function(t, e, i) {
                this.data.camera.aspectRatioMode = i
            },
            onSetAspectRatio: function(t, e, i) {
                this.data.camera.aspectRatio = i
            },
            onSetCamera: function(t, e, i) {
                e && (e._node = null),
                i._node = this.Bc
            },
            onSetClearColor: function(t, e, i) {
                var s = this.data.camera.clearColor;
                s[0] = i.r,
                s[1] = i.g,
                s[2] = i.b,
                s[3] = i.a
            },
            onSetFov: function(t, e, i) {
                this.data.camera.fov = i
            },
            onSetOrthoHeight: function(t, e, i) {
                this.data.camera.orthoHeight = i
            },
            onSetNearClip: function(t, e, i) {
                this.data.camera.nearClip = i
            },
            onSetFarClip: function(t, e, i) {
                this.data.camera.farClip = i
            },
            onSetHorizontalFov: function(t, e, i) {
                this.data.camera.horizontalFov = i
            },
            onSetFrustumCulling: function(t, e, i) {
                this.data.camera.frustumCulling = i
            },
            onSetCalculateTransform: function(t, e, i) {
                this._calculateTransform = i,
                this.camera.overrideCalculateTransform = !!i
            },
            onSetCalculateProjection: function(t, e, i) {
                this._calculateProjection = i,
                this.camera._projMatDirty = !0,
                this.camera.overrideCalculateProjection = !!i
            },
            onSetCullFaces: function(t, e, i) {
                this.camera._cullFaces = i
            },
            onSetFlipFaces: function(t, e, i) {
                this.camera._flipFaces = i
            },
            onSetProjection: function(t, e, i) {
                this.data.camera.projection = i
            },
            onSetPriority: function(t, e, i) {
                for (var s, n = 0; n < this.layers.length; n++)
                    (s = this.system.app.scene.layers.getLayerById(this.layers[n])) && s._sortCameras()
            },
            onSetLayers: function(t, e, i) {
                var s, n;
                for (s = 0; s < e.length; s++)
                    (n = this.system.app.scene.layers.getLayerById(e[s])) && n.removeCamera(this);
                if (this.enabled && this.Bc.enabled)
                    for (s = 0; s < i.length; s++)
                        (n = this.system.app.scene.layers.getLayerById(i[s])) && n.addCamera(this)
            },
            addCameraToLayers: function() {
                for (var t, e = 0; e < this.layers.length; e++)
                    (t = this.system.app.scene.layers.getLayerById(this.layers[e])) && t.addCamera(this)
            },
            removeCameraFromLayers: function() {
                for (var t, e = 0; e < this.layers.length; e++)
                    (t = this.system.app.scene.layers.getLayerById(this.layers[e])) && t.removeCamera(this)
            },
            onLayersChanged: function(t, e) {
                this.addCameraToLayers(),
                t.off("add", this.onLayerAdded, this),
                t.off("remove", this.onLayerRemoved, this),
                e.on("add", this.onLayerAdded, this),
                e.on("remove", this.onLayerRemoved, this)
            },
            onLayerAdded: function(t) {
                var e;
                this.layers.indexOf(t.id) < 0 || t.addCamera(this)
            },
            onLayerRemoved: function(t) {
                var e;
                this.layers.indexOf(t.id) < 0 || t.removeCamera(this)
            },
            updateClearFlags: function() {
                var t = 0;
                this.clearColorBuffer && (t |= n.ye),
                this.clearDepthBuffer && (t |= n.Me),
                this.clearStencilBuffer && (t |= n.Se),
                this.data.camera.clearFlags = t
            },
            onSetRenderTarget: function(t, e, i) {
                this.data.camera.renderTarget = i
            },
            onSetRect: function(t, e, i) {
                this.data.camera.setRect(i.x, i.y, i.z, i.w)
            },
            onSetScissorRect: function(t, e, i) {
                this.data.camera.cc(i.x, i.y, i.z, i.w)
            },
            onEnable: function() {
                this.system.addCamera(this),
                this.system.app.scene.on("set:layers", this.onLayersChanged, this),
                this.system.app.scene.layers && (this.system.app.scene.layers.on("add", this.onLayerAdded, this),
                this.system.app.scene.layers.on("remove", this.onLayerRemoved, this)),
                this.enabled && this.Bc.enabled && this.addCameraToLayers(),
                this.postEffects.enable()
            },
            onDisable: function() {
                this.postEffects.disable(),
                this.removeCameraFromLayers(),
                this.system.app.scene.off("set:layers", this.onLayersChanged, this),
                this.system.app.scene.layers && (this.system.app.scene.layers.off("add", this.onLayerAdded, this),
                this.system.app.scene.layers.off("remove", this.onLayerRemoved, this)),
                this.system.removeCamera(this)
            },
            onRemove: function() {
                this.off()
            },
            calculateAspectRatio: function(t) {
                var e = t || this.system.app.Br
                  , i = this.rect;
                return e.width * i.z / (e.height * i.w)
            },
            frameBegin: function(t) {
                this.aspectRatioMode === n.ASPECT_AUTO && (this.aspectRatio = this.calculateAspectRatio(t)),
                this.data.isRendering = !0
            },
            frameEnd: function() {
                this.data.isRendering = !1
            },
            enterVr: function(t, e) {
                if (t instanceof Function && !e && (e = t,
                t = null),
                this.system.app.vr)
                    if (t || (t = this.system.app.vr.display),
                    t) {
                        var i = this;
                        t.capabilities.canPresent ? t.requestPresent(function(s) {
                            s || (i.vrDisplay = t,
                            i.vrDisplay.once("beforepresentchange", function(t) {
                                t.presenting || (i.vrDisplay = null)
                            })),
                            e(s)
                        }) : (i.vrDisplay = t,
                        e())
                    } else
                        e("No pc.VrDisplay to present");
                else
                    e("VrManager not created. Enable VR in project settings.")
            },
            exitVr: function(t) {
                if (this.vrDisplay)
                    if (this.vrDisplay.capabilities.canPresent) {
                        var e = this.vrDisplay;
                        this.vrDisplay = null,
                        e.exitPresent(t)
                    } else
                        this.vrDisplay = null,
                        t();
                else
                    t("Not presenting VR")
            }
        }),
        {
            CameraComponent: si
        })),
        Object.assign(n, function() {
            var t = ["enabled", "clearColorBuffer", "clearColor", "clearDepthBuffer", "clearStencilBuffer", "frustumCulling", "projection", "fov", "orthoHeight", "nearClip", "farClip", "priority", "rect", "scissorRect", "camera", "aspectRatio", "aspectRatioMode", "horizontalFov", "model", "renderTarget", "calculateTransform", "calculateProjection", "cullFaces", "flipFaces", "layers"]
              , e = function(e) {
                n.Cl.call(this, e),
                this.id = "camera",
                this.description = "Renders the scene from the location of the Entity.",
                this.ComponentType = n.CameraComponent,
                this.DataType = n.CameraComponentData,
                this.schema = t,
                this.cameras = [],
                this.on("beforeremove", this.onBeforeRemove, this),
                this.on("remove", this.onRemove, this),
                n.Cl.bind("update", this.onUpdate, this)
            };
            return (e.prototype = Object.create(n.Cl.prototype)).constructor = e,
            n.Component._buildAccessors(n.CameraComponent.prototype, t),
            Object.assign(e.prototype, {
                jl: function(t, e, i) {
                    for (var s = {}, r = 0, a = (i = ["postEffects", "enabled", "model", "camera", "aspectRatio", "aspectRatioMode", "horizontalFov", "renderTarget", "clearColor", "fov", "orthoHeight", "nearClip", "farClip", "projection", "priority", "clearColorBuffer", "clearDepthBuffer", "clearStencilBuffer", "frustumCulling", "rect", "scissorRect", "calculateTransform", "calculateProjection", "cullFaces", "flipFaces", "layers"]).length; r < a; r++) {
                        var h = i[r];
                        s[h] = e[h]
                    }
                    if (s.layers && "array" === n.type(s.layers) && (s.layers = s.layers.slice(0)),
                    s.clearColor && "array" === n.type(s.clearColor)) {
                        var c = s.clearColor;
                        s.clearColor = new n.D(c[0],c[1],c[2],c[3])
                    }
                    if (s.rect && "array" === n.type(s.rect)) {
                        var o = s.rect;
                        s.rect = new n.wt(o[0],o[1],o[2],o[3])
                    }
                    if (s.scissorRect && "array" === n.type(s.scissorRect)) {
                        var u = s.scissorRect;
                        s.scissorRect = new n.wt(u[0],u[1],u[2],u[3])
                    }
                    s.activate && (s.enabled = s.activate),
                    s.camera = new n.Qh,
                    s._node = t.Bc,
                    s.camera._component = t;
                    var f = t;
                    s.camera.calculateTransform = function(t, e) {
                        return f._calculateTransform ? f._calculateTransform(t, e) : null
                    }
                    ,
                    s.camera.calculateProjection = function(t, e) {
                        return f._calculateProjection ? f._calculateProjection(t, e) : null
                    }
                    ,
                    s.postEffects = new n.Hl(this.app,t),
                    n.Cl.prototype.jl.call(this, t, s, i)
                },
                onBeforeRemove: function(t, e) {
                    this.removeCamera(e),
                    e.onRemove()
                },
                onRemove: function(t, e) {
                    e.camera = null
                },
                onUpdate: function(t) {
                    var e = this.store, i, s, n, r;
                    if (this.app.vr)
                        for (var a in e)
                            r = (n = (s = (i = e[a]).data).camera).vrDisplay,
                            s.enabled && i.Bc.enabled && r && (r.setClipPlanes(n._nearClip, n._farClip),
                            n._node && (n._node.localTransform.copy(r.combinedViewInv),
                            n._node._dirtyLocal = !1,
                            n._node._dirtifyWorld()))
                },
                addCamera: function(t) {
                    this.cameras.push(t),
                    this.sortCamerasByPriority()
                },
                removeCamera: function(t) {
                    var e = this.cameras.indexOf(t);
                    e >= 0 && (this.cameras.splice(e, 1),
                    this.sortCamerasByPriority())
                },
                sortCamerasByPriority: function() {
                    this.cameras.sort(function(t, e) {
                        return t.priority - e.priority
                    })
                }
            }),
            {
                kd: e
            }
        }()),
        Object.assign(n, {
            CameraComponentData: function() {
                this.clearColor = new n.D(.722,.722,.722,1),
                this.clearColorBuffer = !0,
                this.clearDepthBuffer = !0,
                this.clearStencilBuffer = !0,
                this.nearClip = .1,
                this.farClip = 1e3,
                this.fov = 45,
                this.orthoHeight = 100,
                this.projection = n.Za,
                this.priority = 0,
                this.rect = new n.wt(0,0,1,1),
                this.scissorRect = new n.wt(0,0,1,1),
                this.enabled = !0,
                this.frustumCulling = !1,
                this.cullFaces = !0,
                this.flipFaces = !1,
                this.layers = [n.LAYERID_WORLD, n.LAYERID_DEPTH, n.LAYERID_SKYBOX, n.LAYERID_UI, n.LAYERID_IMMEDIATE],
                this.camera = null,
                this.aspectRatio = 16 / 9,
                this.aspectRatioMode = n.ASPECT_AUTO,
                this.renderTarget = null,
                this.postEffects = null,
                this.isRendering = !1,
                this.calculateTransform = null,
                this.calculateProjection = null
            }
        }),
        Object.assign(n, function() {
            function t(t, e) {
                var i = this;
                this.app = t,
                this.camera = e,
                this.effects = [],
                this.enabled = !1,
                this.depthTarget = null,
                this.renderTargetScale = 1,
                this.resizeTimeout = null,
                this.resizeLast = 0,
                this._resizeTimeoutCallback = function() {
                    i.resizeRenderTargets()
                }
                ,
                e.on("set_rect", this.onCameraRectChanged, this),
                this._origOverrideClear = !1,
                this._origClearColorBuffer = !1,
                this._origDepthColorBuffer = !1,
                this._origStencilColorBuffer = !1
            }
            return Object.assign(t.prototype, {
                _createOffscreenTarget: function(t, e) {
                    var i = this.camera.rect
                      , s = Math.floor(i.z * this.app.Br.width * this.renderTargetScale)
                      , r = Math.floor(i.w * this.app.Br.height * this.renderTargetScale)
                      , a = this.app.Br
                      , h = e ? a.getHdrFormat() : n.vi
                      , c = new n.xn(a,{
                        format: h,
                        width: s,
                        height: r
                    });
                    return c.name = "posteffect",
                    c.minFilter = n.Ge,
                    c.magFilter = n.Ge,
                    c.addressU = n.Zt,
                    c.addressV = n.Zt,
                    new n.An(this.app.Br,c,{
                        depth: t
                    })
                },
                _resizeOffscreenTarget: function(t) {
                    var e = this.camera.rect
                      , i = Math.floor(e.z * this.app.Br.width * this.renderTargetScale)
                      , s = Math.floor(e.w * this.app.Br.height * this.renderTargetScale)
                      , r = this.app.Br
                      , a = t.colorBuffer.format;
                    t._colorBuffer.destroy();
                    var h = new n.xn(r,{
                        format: a,
                        width: i,
                        height: s
                    });
                    h.name = "posteffect",
                    h.minFilter = n.Ge,
                    h.magFilter = n.Ge,
                    h.addressU = n.Zt,
                    h.addressV = n.Zt,
                    t._colorBuffer = h,
                    t.destroy()
                },
                Gl: function(t) {
                    this.renderTargetScale = t,
                    this.resizeRenderTargets()
                },
                addEffect: function(t) {
                    var e = 0 === this.effects.length
                      , i = this.effects
                      , s = {
                        effect: t,
                        inputTarget: this._createOffscreenTarget(e, t.hdr),
                        outputTarget: null
                    };
                    if (!this.layer) {
                        this.layer = new n.Layer({
                            opaqueSortMode: n.SORTMODE_NONE,
                            transparentSortMode: n.SORTMODE_NONE,
                            passThrough: !0,
                            name: "PostEffectQueue",
                            renderTarget: this.camera.renderTarget,
                            clear: !1,
                            onPostRender: function() {
                                for (var t = 0; t < this._commandList.length; t++)
                                    this._commandList[t]()
                            }
                        });
                        var r = this.app.scene.layers.layerList, a = 0, h, c = r.length - 1;
                        for (h = c; h >= 0; h--)
                            if (r[h].id === n.LAYERID_UI) {
                                c = h - 1,
                                this._origOverrideClear = r[h].overrideClear,
                                this._origClearColorBuffer = r[h].clearColorBuffer,
                                this._origDepthColorBuffer = r[h].clearDepthBuffer,
                                this._origStencilColorBuffer = r[h].clearStencilBuffer,
                                r[h].overrideClear = !0,
                                r[h].clearColorBuffer = !1,
                                r[h].clearDepthBuffer = this.camera.clearDepthBuffer,
                                r[h].clearStencilBuffer = this.camera.clearStencilBuffer;
                                break
                            }
                        for (h = c; h >= 0; h--)
                            r[h].cameras.indexOf(this.camera) >= 0 && (0 === a && (a = h + 1),
                            r[h].renderTarget = s.inputTarget);
                        this.app.scene.layers.insertOpaque(this.layer, a),
                        this.layer._commandList = [],
                        this.layer.isPostEffect = !0
                    }
                    i.push(s);
                    var o = i.length;
                    o > 1 && (i[o - 2].outputTarget = s.inputTarget),
                    this.enable()
                },
                removeEffect: function(t) {
                    for (var e = -1, i = 0, s = this.effects.length; i < s; i++)
                        if (this.effects[i].effect === t) {
                            e = i;
                            break
                        }
                    e >= 0 && (e > 0 ? this.effects[e - 1].outputTarget = e + 1 < this.effects.length ? this.effects[e + 1].inputTarget : null : this.effects.length > 1 && (this.effects[1].inputTarget._depth || (this.effects[1].inputTarget.destroy(),
                    this.effects[1].inputTarget = this._createOffscreenTarget(!0, this.effects[1].hdr)),
                    this.camera.renderTarget = this.effects[1].inputTarget),
                    this.effects[e].inputTarget.destroy(),
                    this.effects.splice(e, 1)),
                    this.enabled && t.needsDepthBuffer && this.camera.camera.releaseDepthMap(),
                    0 === this.effects.length && this.disable()
                },
                requestDepthMap: function() {
                    for (var t = 0, e = this.effects.length; t < e; t++) {
                        var i;
                        this.effects[t].effect.needsDepthBuffer && this.camera.camera.requestDepthMap()
                    }
                },
                releaseDepthMap: function() {
                    for (var t = 0, e = this.effects.length; t < e; t++) {
                        var i;
                        this.effects[t].effect.needsDepthBuffer && this.camera.camera.releaseDepthMap()
                    }
                },
                destroy: function() {
                    for (var t = 0, e = this.effects.length; t < e; t++)
                        this.effects[t].inputTarget.destroy();
                    this.effects.length = 0,
                    this.disable()
                },
                enable: function() {
                    if (!this.enabled && this.effects.length) {
                        this.enabled = !0;
                        var t = this;
                        this.requestDepthMap(),
                        this.app.Br.on("resizecanvas", this._onCanvasResized, this),
                        this.command = function() {
                            if (t.enabled) {
                                var e = null
                                  , i = t.effects.length;
                                if (i) {
                                    t.layer.renderTarget = t.effects[0].inputTarget;
                                    for (var s = 0; s < i; s++) {
                                        var n = t.effects[s];
                                        s === i - 1 && (e = t.camera.rect),
                                        n.effect.render(n.inputTarget, n.outputTarget, e)
                                    }
                                }
                            }
                        }
                        ,
                        this.layer._commandList.push(this.command)
                    }
                },
                disable: function() {
                    if (this.enabled) {
                        this.enabled = !1,
                        this.app.Br.off("resizecanvas", this._onCanvasResized, this),
                        this.camera.renderTarget = null,
                        this.releaseDepthMap();
                        var t = this.layer._commandList.indexOf(this.command);
                        t >= 0 && this.layer._commandList.splice(t, 1);
                        var e = this.app.scene.layers.layerList
                          , i = e.length - 1;
                        for (t = 0; t <= e.length; t++)
                            if (e[t].id === n.LAYERID_UI) {
                                i = t - 1,
                                e[t].overrideClear = this._origOverrideClear,
                                e[t].clearColorBuffer = this._origClearColorBuffer,
                                e[t].clearDepthBuffer = this._origDepthColorBuffer,
                                e[t].clearStencilBuffer = this._origStencilColorBuffer;
                                break
                            }
                        for (t = i; t >= 0; t--)
                            e[t].cameras.indexOf(this.camera) >= 0 && (e[t].renderTarget = void 0);
                        this.app.scene.layers.removeOpaque(this.layer),
                        this.layer = null
                    }
                },
                _onCanvasResized: function(t, e) {
                    var i = this.camera.rect
                      , s = this.app.Br;
                    this.camera.camera.aspectRatio = s.width * i.z / (s.height * i.w),
                    this.resizeTimeout || (n.now() - this.resizeLast > 100 ? this.resizeRenderTargets() : this.resizeTimeout = setTimeout(this._resizeTimeoutCallback, 100))
                },
                resizeRenderTargets: function() {
                    this.resizeTimeout && (clearTimeout(this.resizeTimeout),
                    this.resizeTimeout = null),
                    this.resizeLast = n.now();
                    for (var t = this.camera.rect, e = Math.floor(t.z * this.app.Br.width * this.renderTargetScale), i = Math.floor(t.w * this.app.Br.height * this.renderTargetScale), s = this.effects, r = 0, a = s.length; r < a; r++) {
                        var h = s[r];
                        h.inputTarget.width === e && h.inputTarget.height === i || this._resizeOffscreenTarget(h.inputTarget)
                    }
                },
                onCameraRectChanged: function(t, e, i) {
                    this.enabled && this.resizeRenderTargets()
                }
            }),
            {
                Hl: t
            }
        }()),
        Object.assign(n, function() {
            var t = [null, null], e = null, i, s = new n.wt, r = new Float32Array(4), a = [], h = !1, c = !1, o = !1, u = /uniform[ \t\n\r]+\S+[ \t\n\r]+\S+[ \t\n\r]*;/g, f = /\S+[ \t\n\r]*;/, d = /[ \t\n\r]*;/, l = /(float|int|bool|vec2|vec3|vec4|struct)([ \t\n\r]+[^;]+[ \t\n\r]*,*)+;/g, b = /(float|int|bool|vec2|vec3|vec4|struct|,|;|\{|\})/g, v = /(uniform|varying|in|out)[ \t\n\r]+(float|int|bool|vec2|vec3|vec4|struct)([ \t\n\r]+[^;]+[ \t\n\r]*,*)+;/g, m = /(float|int|bool|vec2|vec3|vec4|struct|uniform|varying|in|out|,|;|\{|\})/g, g = /#version/g, p = /out highp vec4 pc_fragColor;/g, w = /#define gl_FragColor/g, x = /gl_FragColor/g, z = /uniform[ \t\n\r]+sampler2D[ \t\n\r]+uColorBuffer;/g, _ = /(varying|in)[ \t\n\r]+vec2[ \t\n\r]+vUv0;/g, A = /(texture2D|texture)[ \t\n\r]*\([ \t\n\r]*uColorBuffer/g, y = /void[ \t\n\r]+main/g, M = function(e, i, s) {
                var r = new n.xn(i,{
                    format: s,
                    width: i.width,
                    height: i.height
                });
                r.name = "posteffect-pass",
                r.minFilter = n.Ge,
                r.magFilter = n.Ge,
                r.addressU = n.Zt,
                r.addressV = n.Zt,
                t[e]._colorBuffer = r
            }, S = function(e) {
                t[e].colorBuffer.destroy(),
                t[e].destroy()
            }, C = function(t) {
                for (var e = t.match(u) || [], i, s, n, r = [], a = 0; a < e.length; a++)
                    i = e[a].search(f),
                    s = e[a].search(d),
                    "uColorBuffer" !== (n = e[a].substr(i, s - i)) && r.push(n);
                return r
            }, O = function(t, e, i, s) {
                var n = C(s.definition.Sr), r, a, h, c, o;
                if (0 === n.length)
                    return !1;
                for (r = 0; r < i; r++)
                    for (a = 0; a < n.length; a++)
                        for (o = n[a],
                        c = C(t[e[r]].shader.definition.Sr),
                        h = 0; h < c.length; h++)
                            if (c[h] === o)
                                return !0;
                return !1
            }, E = function(t, e) {
                var i = t.length, s, n = 0, r = 0, a = 0, h = 0, c = "", o, u;
                for (o = 0; o < i; o++)
                    "{" === (s = t.charAt(o)) ? (0 === a && (n = o),
                    a++) : "}" === s && (1 === a && (r = o,
                    c += t.substr(h, n - h + 1),
                    h = r),
                    a--);
                var f = null, d = (c += t.substr(h, t.length - h + 1)).match(l) || [], g, p;
                for (o = 0; o < d.length; o++)
                    for (g = d[o].split(","),
                    u = 0; u < g.length; u++)
                        p = g[u].replace(b, "").trim(),
                        e.indexOf(p) >= 0 ? (f || (f = []),
                        f.push(p)) : e.push(p);
                var w = c.match(v) || [], x;
                for (o = 0; o < w.length; o++)
                    for (g = w[o].split(","),
                    u = 0; u < g.length; u++)
                        p = g[u].replace(m, "").trim(),
                        (x = e.indexOf(p)) >= 0 && e.splice(x, 1);
                return f
            };
            function D(u, f) {
                this.app = u,
                this.srcRenderTarget = f.srcRenderTarget,
                this.hdr = f.hdr,
                this.blending = f.blending,
                this.shader = f.shader,
                this.setup = f.setup;
                var d = this
                  , l = u.Br;
                if (this.layer = new n.Layer({
                    opaqueSortMode: n.SORTMODE_NONE,
                    transparentSortMode: n.SORTMODE_NONE,
                    passThrough: !0,
                    name: f.name,
                    onPostRender: function() {
                        if (d.srcRenderTarget ? (s.x = d.srcRenderTarget.width,
                        s.y = d.srcRenderTarget.height,
                        s.z = 1 / d.srcRenderTarget.width,
                        s.w = 1 / d.srcRenderTarget.height) : (s.x = l.width,
                        s.y = l.height,
                        s.z = 1 / l.width,
                        s.w = 1 / l.height),
                        r[0] = s.x,
                        r[1] = s.y,
                        r[2] = s.z,
                        r[3] = s.w,
                        i.setValue(r),
                        this._postEffectCombined && this._postEffectCombined < 0)
                            d.setup && d.setup(l, d, s, null, this.renderTarget);
                        else {
                            var a;
                            (a = this._postEffectCombinedSrc ? this._postEffectCombinedSrc : d.srcRenderTarget ? d.srcRenderTarget : t[this._backbufferRtId])._samples > 1 && a.resolve(!0, !1);
                            var h = a._colorBuffer;
                            h.magFilter = (this._postEffectCombinedShader ? this._postEffectCombinedBilinear : this.postEffectBilinear) ? n.We : n.Ge,
                            e.setValue(h),
                            d.setup && d.setup(l, d, s, a, this.renderTarget);
                            var c = this._postEffectCombinedShader ? this._postEffectCombinedShader : this.shader;
                            if (c && n.Bn(l, this.renderTarget, c, null, null, d.blending),
                            !d.srcRenderTarget)
                                for (var o = u.scene.layers.layerList, f = 0; f < o.length && o[f] !== d.layer; f++)
                                    o[f].renderTarget !== t[0] && o[f].renderTarget !== t[1] || (o[f].renderTarget = null)
                        }
                    }
                }),
                this.layer._generateCameraHash(),
                this.layer.isPostEffect = !0,
                this.layer.unmodifiedUvs = f.unmodifiedUvs,
                this.layer.postEffectBilinear = f.bilinear,
                this.layer.postEffect = this,
                this.layer.shader = f.shader,
                this.layer.renderTarget = f.destRenderTarget,
                !e) {
                    e = l.scope.resolve("uColorBuffer"),
                    i = l.scope.resolve("uScreenSize");
                    for (var b = l.supportsMsaa ? 4 : 1, v = 0; v < 2; v++)
                        t[v] = new n.An({
                            depth: !0,
                            stencil: l.supportsStencil,
                            samples: b,
                            autoResolve: !1
                        }),
                        t[v].name = "backbuffer" + v;
                    u.on("prerender", function() {
                        var e = u.scene.layers.layerList, i, s, r = 0, f = 0;
                        h = !1,
                        c = !1,
                        o = !1;
                        var d = n.vi;
                        if (u.scene.layers._dirty) {
                            var b = 0, v = !1, m, C;
                            for (i = 0; i < e.length; i++)
                                if (v = !1,
                                e[i].isPostEffect && (0 === b || e[i].unmodifiedUvs && e[i].shader && !O(e, a, b, e[i].shader)) ? (a[b] = i,
                                b++,
                                i === e.length - 1 && (v = !0)) : b > 0 && (v = !0),
                                v) {
                                    if (b > 1) {
                                        var D = "post_", T;
                                        for (s = 0; s < b; s++)
                                            D += (T = e[a[s]]).name ? T.name : T.id,
                                            s < b - 1 && (D += "_");
                                        var P = l.programLib._cache[D];
                                        if (!P) {
                                            var B, I = "vec4 shaderOutput;\n", j = "void main() {\n", R = [];
                                            for (s = 0; s < b; s++) {
                                                if (B = (B = e[a[s]].shader.definition.Sr + "\n").replace(g, "//").replace(p, "//").replace(w, "//").replace(x, "shaderOutput"),
                                                s > 0 && (B = B.replace(z, "//").replace(_, "//").replace(A, "shaderOutput;//")),
                                                B = B.replace(y, "void main" + s),
                                                m = E(B, R))
                                                    for (C = 0; C < m.length; C++)
                                                        B = B.replace(new RegExp("\\b" + m[C] + "\\b","g"), m[C] + "NNNN" + s);
                                                I += B,
                                                j += "main" + s + "();\n"
                                            }
                                            j += "gl_FragColor = shaderOutput;\n}\n",
                                            P = n.dn.createShaderFromCode(l, n.dn.fullscreenQuadVS, I + j, D)
                                        }
                                        for (s = 0; s < b; s++)
                                            e[a[s]]._postEffectCombined = s === b - 1 ? 1 : -1;
                                        e[a[b - 1]]._postEffectCombinedShader = P,
                                        e[a[b - 1]]._postEffectCombinedBilinear = e[a[0]].postEffectBilinear,
                                        e[a[b - 1]]._postEffectCombinedSrc = e[a[0]].postEffect.srcRenderTarget
                                    }
                                    a[0] = i,
                                    b = 1
                                }
                        }
                        for (i = 0; i < e.length; i++) {
                            if (e[i].isPostEffect && (!e[i].postEffect.srcRenderTarget && !e[i]._postEffectCombined || !e[i].postEffect._postEffectCombinedSrc && e[i]._postEffectCombined >= 0)) {
                                for (s = i - 1; s >= r; s--)
                                    e[s].renderTarget || (e[s].renderTarget = t[f]);
                                e[i]._backbufferRtId = f,
                                r = i,
                                h = !0,
                                1 === f && (c = !0),
                                e[i].postEffect.hdr && (d = l.webgl2 && l.textureFloatRenderable ? n.Oi : l.extTextureHalfFloatLinear && l.textureHalfFloatRenderable ? n.zi : n.vi),
                                e[i].postEffect.shader && !e[i].renderTarget && (f = 1 - f)
                            } else
                                e[i].isPostEffect || e[i].renderTarget || !h || (e[i].renderTarget = t[f]);
                            e[i].isPostEffect && !e[i].renderTarget && (o = !0)
                        }
                        h && (t[0].colorBuffer ? t[0].width === l.width && t[0].height === l.height && t[0]._colorBuffer._format === d || (S(0),
                        M(0, l, d)) : M(0, l, d)),
                        c && (t[1].colorBuffer ? t[1].width === l.width && t[1].height === l.height && t[1]._colorBuffer._format === d || (S(1),
                        M(1, l, d)) : M(1, l, d))
                    }, this),
                    u.on("postrender", function() {
                        var e = u.Br;
                        if (h && !o) {
                            for (var i = u.scene.layers.layerList, s, n = i.length - 1; n >= 0 && ((s = i[n].renderTarget) !== t[0] && s !== t[1]); n--)
                                ;
                            s && (s._samples > 1 && s.resolve(!0, !1),
                            e.copyRenderTarget(s, null, !0, !1))
                        }
                    }, this)
                }
            }
            return D.prototype.addToComposition = function(t) {
                this.app.scene.layers.insertTransparent(this.layer, t)
            }
            ,
            {
                Wl: D
            }
        }()),
        Object.assign(n, function() {
            var t = function t(e, i) {
                n.Component.call(this, e, i),
                this._cookieAsset = null,
                this._cookieAssetId = null,
                this._cookieAssetAdd = !1,
                this._cookieMatrix = null
            };
            (t.prototype = Object.create(n.Component.prototype)).constructor = t;
            var e = [], i = [], s = function(s, n, r, a) {
                var h = t.prototype;
                e.push(s),
                i.push(n),
                Object.defineProperty(h, s, {
                    get: function() {
                        return this.data[s]
                    },
                    set: function(t) {
                        var e = this.data
                          , i = e[s];
                        (a || i !== t) && (e[s] = t,
                        r && r.call(this, t, i))
                    },
                    configurable: !0
                })
            }, r;
            return function() {
                s("enabled", !0, function(t, e) {
                    this.onSetEnabled(null, e, t)
                }),
                s("light", null),
                s("type", "directional", function(t, e) {
                    this.system.changeType(this, e, t),
                    this.refreshProperties()
                }),
                s("color", new n.D(1,1,1), function(t, e) {
                    this.light.setColor(t)
                }, !0),
                s("intensity", 1, function(t, e) {
                    this.light.intensity = t
                }),
                s("castShadows", !1, function(t, e) {
                    this.light.castShadows = t
                }),
                s("shadowDistance", 40, function(t, e) {
                    this.light.shadowDistance = t
                }),
                s("shadowResolution", 1024, function(t, e) {
                    this.light.shadowResolution = t
                }),
                s("shadowBias", .05, function(t, e) {
                    this.light.shadowBias = -.01 * t
                }),
                s("normalOffsetBias", 0, function(t, e) {
                    this.light.normalOffsetBias = t
                }),
                s("range", 10, function(t, e) {
                    this.light.attenuationEnd = t
                }),
                s("innerConeAngle", 40, function(t, e) {
                    this.light.innerConeAngle = t
                }),
                s("outerConeAngle", 45, function(t, e) {
                    this.light.outerConeAngle = t
                }),
                s("falloffMode", n.wa, function(t, e) {
                    this.light.falloffMode = t
                }),
                s("shadowType", n.fa, function(t, e) {
                    this.light.shadowType = t
                }),
                s("vsmBlurSize", 11, function(t, e) {
                    this.light.vsmBlurSize = t
                }),
                s("vsmBlurMode", n.Ha, function(t, e) {
                    this.light.vsmBlurMode = t
                }),
                s("vsmBias", .0025, function(t, e) {
                    this.light.vsmBias = t
                }),
                s("cookieAsset", null, function(t, e) {
                    if (!this._cookieAssetId || !(t instanceof n.Zf && t.id === this._cookieAssetId || t === this._cookieAssetId))
                        if (this.onCookieAssetRemove(),
                        this._cookieAssetId = null,
                        t instanceof n.Zf)
                            this.data.cookieAsset = t.id,
                            this._cookieAssetId = t.id,
                            this.onCookieAssetAdd(t);
                        else if ("number" == typeof t) {
                            this._cookieAssetId = t;
                            var i = this.system.app.assets.get(t);
                            i ? this.onCookieAssetAdd(i) : (this._cookieAssetAdd = !0,
                            this.system.app.assets.on("add:" + this._cookieAssetId, this.onCookieAssetAdd, this))
                        }
                }),
                s("cookie", null, function(t, e) {
                    this.light.cookie = t
                }),
                s("cookieIntensity", 1, function(t, e) {
                    this.light.cookieIntensity = t
                }),
                s("cookieFalloff", !0, function(t, e) {
                    this.light.cookieFalloff = t
                }),
                s("cookieChannel", "rgb", function(t, e) {
                    this.light.cookieChannel = t
                }),
                s("cookieAngle", 0, function(t, e) {
                    if (0 !== t || null !== this.cookieScale) {
                        this._cookieMatrix || (this._cookieMatrix = new n.wt);
                        var i = 1
                          , s = 1;
                        this.cookieScale && (i = this.cookieScale.x,
                        s = this.cookieScale.y);
                        var r = Math.cos(t * n.I.q)
                          , a = Math.sin(t * n.I.q);
                        this._cookieMatrix.set(r / i, -a / i, a / s, r / s),
                        this.light.cookieTransform = this._cookieMatrix
                    } else
                        this.light.cookieTransform = null
                }),
                s("cookieScale", null, function(t, e) {
                    if (null !== t || 0 !== this.cookieAngle) {
                        this._cookieMatrix || (this._cookieMatrix = new n.wt);
                        var i = t.x
                          , s = t.y
                          , r = Math.cos(this.cookieAngle * n.I.q)
                          , a = Math.sin(this.cookieAngle * n.I.q);
                        this._cookieMatrix.set(r / i, -a / i, a / s, r / s),
                        this.light.cookieTransform = this._cookieMatrix
                    } else
                        this.light.cookieTransform = null
                }, !0),
                s("cookieOffset", null, function(t, e) {
                    this.light.cookieOffset = t
                }, !0),
                s("shadowUpdateMode", n.Oh, function(t, e) {
                    this.light.shadowUpdateMode = t
                }),
                s("mask", 1, function(t, e) {
                    this.light.mask = t
                }),
                s("affectDynamic", !0, function(t, e) {
                    t ? this.light.mask |= n.Th : this.light.mask &= ~n.Th,
                    this.light.mask = this.light._mask
                }),
                s("affectLightmapped", !1, function(t, e) {
                    t ? (this.light.mask |= n.Ph,
                    this.bake && (this.light.mask &= ~n.Bh)) : (this.light.mask &= ~n.Ph,
                    this.bake && (this.light.mask |= n.Bh)),
                    this.light.mask = this.light._mask
                }),
                s("bake", !1, function(t, e) {
                    t ? (this.light.mask |= n.Bh,
                    this.affectLightmapped && (this.light.mask &= ~n.Ph)) : (this.light.mask &= ~n.Bh,
                    this.affectLightmapped && (this.light.mask |= n.Ph)),
                    this.light.mask = this.light._mask
                }),
                s("bakeDir", !0, function(t, e) {
                    this.light.bakeDir = t
                }),
                s("isStatic", !1, function(t, e) {
                    this.light.isStatic = t
                }),
                s("layers", [n.LAYERID_WORLD], function(t, e) {
                    var i, s;
                    for (i = 0; i < e.length; i++)
                        (s = this.system.app.scene.layers.getLayerById(e[i])) && s.removeLight(this);
                    for (i = 0; i < t.length; i++)
                        (s = this.system.app.scene.layers.getLayerById(t[i])) && this.enabled && this.Bc.enabled && s.addLight(this)
                })
            }(),
            Object.defineProperty(t.prototype, "enable", {
                get: function() {
                    return this.enabled
                },
                set: function(t) {
                    this.enabled = t
                }
            }),
            Object.assign(t.prototype, {
                addLightToLayers: function() {
                    for (var t, e = 0; e < this.layers.length; e++)
                        (t = this.system.app.scene.layers.getLayerById(this.layers[e])) && t.addLight(this)
                },
                removeLightFromLayers: function() {
                    for (var t, e = 0; e < this.layers.length; e++)
                        (t = this.system.app.scene.layers.getLayerById(this.layers[e])) && t.removeLight(this)
                },
                onLayersChanged: function(t, e) {
                    this.enabled && this.Bc.enabled && this.addLightToLayers(),
                    t.off("add", this.onLayerAdded, this),
                    t.off("remove", this.onLayerRemoved, this),
                    e.on("add", this.onLayerAdded, this),
                    e.on("remove", this.onLayerRemoved, this)
                },
                onLayerAdded: function(t) {
                    var e;
                    this.layers.indexOf(t.id) < 0 || this.enabled && this.Bc.enabled && t.addLight(this)
                },
                onLayerRemoved: function(t) {
                    var e;
                    this.layers.indexOf(t.id) < 0 || t.removeLight(this)
                },
                refreshProperties: function() {
                    for (var t, i = 0; i < e.length; i++)
                        this[t = e[i]] = this[t];
                    this.enabled && this.Bc.enabled && this.onEnable()
                },
                updateShadow: function() {
                    this.light.updateShadow()
                },
                onCookieAssetSet: function() {
                    var t = !1;
                    "cubemap" !== this._cookieAsset.type || this._cookieAsset.loadFaces || (this._cookieAsset.loadFaces = !0,
                    t = !0),
                    this._cookieAsset.resource && !t || this.system.app.assets.load(this._cookieAsset),
                    this._cookieAsset.resource && this.onCookieAssetLoad()
                },
                onCookieAssetAdd: function(t) {
                    this._cookieAssetId === t.id && (this._cookieAsset = t,
                    this.light._enabled && this.onCookieAssetSet(),
                    this._cookieAsset.on("load", this.onCookieAssetLoad, this),
                    this._cookieAsset.on("remove", this.onCookieAssetRemove, this))
                },
                onCookieAssetLoad: function() {
                    this._cookieAsset && this._cookieAsset.resource && (this.cookie = this._cookieAsset.resource)
                },
                onCookieAssetRemove: function() {
                    this._cookieAssetId && (this._cookieAssetAdd && (this.system.app.assets.off("add:" + this._cookieAssetId, this.onCookieAssetAdd, this),
                    this._cookieAssetAdd = !1),
                    this._cookieAsset && (this._cookieAsset.off("load", this.onCookieAssetLoad, this),
                    this._cookieAsset.off("remove", this.onCookieAssetRemove, this),
                    this._cookieAsset = null),
                    this.cookie = null)
                },
                onEnable: function() {
                    this.light.enabled = !0,
                    this.system.app.scene.on("set:layers", this.onLayersChanged, this),
                    this.system.app.scene.layers && (this.system.app.scene.layers.on("add", this.onLayerAdded, this),
                    this.system.app.scene.layers.on("remove", this.onLayerRemoved, this)),
                    this.enabled && this.Bc.enabled && this.addLightToLayers(),
                    this._cookieAsset && !this.cookie && this.onCookieAssetSet()
                },
                onDisable: function() {
                    this.light.enabled = !1,
                    this.system.app.scene.off("set:layers", this.onLayersChanged, this),
                    this.system.app.scene.layers && (this.system.app.scene.layers.off("add", this.onLayerAdded, this),
                    this.system.app.scene.layers.off("remove", this.onLayerRemoved, this)),
                    this.removeLightFromLayers()
                }
            }),
            {
                LightComponent: t,
                Yl: e,
                Xl: i
            }
        }()),
        Object.assign(n, (ri = {
            directional: n.ca,
            point: n.da,
            spot: n.sa
        },
        ((ai = function(t) {
            n.Cl.call(this, t),
            this.id = "light",
            this.description = "Enables the Entity to emit light.",
            this.ComponentType = n.LightComponent,
            this.DataType = n.LightComponentData
        }
        ).prototype = Object.create(n.Cl.prototype)).constructor = ai,
        Object.assign(ai.prototype, {
            jl: function(t, e) {
                for (var i = n.Yl, s = {}, r = 0, a = i.length; r < a; r++) {
                    var h = i[r];
                    s[h] = e[h]
                }
                s.type || (s.type = t.data.type),
                t.data.type = s.type,
                s.layers && "array" === n.type(s.layers) && (s.layers = s.layers.slice(0)),
                s.color && "array" === n.type(s.color) && (s.color = new n.D(s.color[0],s.color[1],s.color[2])),
                s.cookieOffset && s.cookieOffset instanceof Array && (s.cookieOffset = new n.pt(s.cookieOffset[0],s.cookieOffset[1])),
                s.cookieScale && s.cookieScale instanceof Array && (s.cookieScale = new n.pt(s.cookieScale[0],s.cookieScale[1])),
                s.enable && (s.enabled = s.enable);
                var c = new n.oc;
                c.type = ri[s.type],
                c._node = t.Bc,
                c._scene = this.app.scene,
                t.data.light = c,
                n.Cl.prototype.jl.call(this, t, s, i)
            },
            Rl: function(t) {
                var e;
                t.light.data.light.destroy(),
                n.Cl.prototype.Rl.call(this, t)
            },
            cloneComponent: function(t, e) {
                for (var i = t.light, s = [], r, a = n.Yl, h = 0; h < a.length; h++)
                    "light" !== (r = a[h]) && (i[r] && i[r].clone ? s[r] = i[r].clone() : s[r] = i[r]);
                this.Il(e, s)
            },
            changeType: function(t, e, i) {
                e !== i && (t.light.type = ri[i])
            }
        }),
        {
            Ud: ai
        })),
        Object.assign(n, {
            LightComponentData: function() {
                for (var t = n.Yl, e = n.Xl, i, s = 0; s < t.length; s++)
                    (i = e[s]) && i.clone ? this[t[s]] = i.clone() : this[t[s]] = i
            }
        }),
        Object.assign(n, (((ci = function t(e, i) {
            n.Component.call(this, e, i),
            this._scripts = [],
            this._updateList = new n.SortedLoopArray({
                sortBy: "__executionOrder"
            }),
            this._postUpdateList = new n.SortedLoopArray({
                sortBy: "__executionOrder"
            }),
            this._scriptsIndex = {},
            this._destroyedScripts = [],
            this._destroyed = !1,
            this._scriptsData = null,
            this._oldState = !0,
            this._enabled = !0,
            this._beingEnabled = !1,
            this._isLoopingThroughScripts = !1,
            this._executionOrder = -1,
            this.on("set_enabled", this._onSetEnabled, this)
        }
        ).prototype = Object.create(n.Component.prototype)).constructor = ci,
        ci.scriptMethods = {
            initialize: "initialize",
            postInitialize: "postInitialize",
            update: "update",
            postUpdate: "postUpdate",
            swap: "swap"
        },
        Object.assign(ci.prototype, {
            onEnable: function() {
                this._beingEnabled = !0,
                this._checkState(),
                this.Bc._beingEnabled || this.onPostStateChange(),
                this._beingEnabled = !1
            },
            onDisable: function() {
                this._checkState()
            },
            onPostStateChange: function() {
                for (var t, e = this._beginLooping(), i = 0, s = this.scripts.length; i < s; i++)
                    (t = this.scripts[i])._initialized && !t._postInitialized && t.enabled && (t._postInitialized = !0,
                    t.postInitialize && this._scriptMethod(t, ci.scriptMethods.postInitialize));
                this._endLooping(e)
            },
            _beginLooping: function() {
                var t = this._isLoopingThroughScripts;
                return this._isLoopingThroughScripts = !0,
                t
            },
            _endLooping: function(t) {
                this._isLoopingThroughScripts = t,
                this._isLoopingThroughScripts || this._removeDestroyedScripts()
            },
            _onSetEnabled: function(t, e, i) {
                this._beingEnabled = !0,
                this._checkState(),
                this._beingEnabled = !1
            },
            _checkState: function() {
                var t = this.enabled && this.Bc.enabled;
                if (t !== this._oldState) {
                    this._oldState = t,
                    this.fire(t ? "enable" : "disable"),
                    this.fire("state", t),
                    t ? this.system._addComponentToEnabled(this) : this.system._removeComponentFromEnabled(this);
                    for (var e = this._beginLooping(), i, s = 0, n = this.scripts.length; s < n; s++)
                        (i = this.scripts[s]).enabled = i._enabled;
                    this._endLooping(e)
                }
            },
            _onBeforeRemove: function() {
                this.fire("remove");
                for (var t = this._beginLooping(), e = 0; e < this.scripts.length; e++) {
                    var i = this.scripts[e];
                    i && this.destroy(i.__scriptType.__name)
                }
                this._endLooping(t)
            },
            _removeDestroyedScripts: function() {
                var t = this._destroyedScripts.length;
                if (t) {
                    var e;
                    for (e = 0; e < t; e++) {
                        var i = this._destroyedScripts[e];
                        this._removeScriptInstance(i)
                    }
                    this._destroyedScripts.length = 0,
                    this._resetExecutionOrder(0, this._scripts.length)
                }
            },
            _onInitializeAttributes: function() {
                for (var t = 0, e = this.scripts.length; t < e; t++)
                    this.scripts[t].__initializeAttributes()
            },
            _scriptMethod: function(t, e, i) {
                try {
                    t[e](i)
                } catch (i) {
                    t.enabled = !1,
                    !t._callbacks || t._callbacks.error,
                    t.fire("error", i, e),
                    this.fire("error", t, i, e)
                }
            },
            _onInitialize: function() {
                for (var t, e = this._scripts, i = this._beginLooping(), s = 0, n = e.length; s < n; s++)
                    !(t = e[s])._initialized && t.enabled && (t._initialized = !0,
                    t.initialize && this._scriptMethod(t, ci.scriptMethods.initialize));
                this._endLooping(i)
            },
            _onPostInitialize: function() {
                this.onPostStateChange()
            },
            _onUpdate: function(t) {
                var e = this
                  , i = this._updateList;
                if (i.length) {
                    var s, n = this._beginLooping();
                    for (i.loopIndex = 0; i.loopIndex < i.length; i.loopIndex++)
                        (s = i.items[i.loopIndex]).enabled && this._scriptMethod(s, ci.scriptMethods.update, t);
                    this._endLooping(n)
                }
            },
            _onPostUpdate: function(t) {
                var e = this
                  , i = this._postUpdateList;
                if (i.length) {
                    var s = this._beginLooping(), n;
                    for (i.loopIndex = 0; i.loopIndex < i.length; i.loopIndex++)
                        (n = i.items[i.loopIndex]).enabled && this._scriptMethod(n, ci.scriptMethods.postUpdate, t);
                    this._endLooping(s)
                }
            },
            _insertScriptInstance: function(t, e, i) {
                -1 === e ? (this._scripts.push(t),
                t.__executionOrder = i,
                t.update && this._updateList.append(t),
                t.postUpdate && this._postUpdateList.append(t)) : (this._scripts.splice(e, 0, t),
                t.__executionOrder = e,
                this._resetExecutionOrder(e + 1, i + 1),
                t.update && this._updateList.insert(t),
                t.postUpdate && this._postUpdateList.insert(t))
            },
            _removeScriptInstance: function(t) {
                var e = this._scripts.indexOf(t);
                return -1 === e ? e : (this._scripts.splice(e, 1),
                t.update && this._updateList.remove(t),
                t.postUpdate && this._postUpdateList.remove(t),
                e)
            },
            _resetExecutionOrder: function(t, e) {
                for (var i = t; i < e; i++)
                    this._scripts[i].__executionOrder = i
            },
            has: function(t) {
                var e = t;
                return "string" == typeof e && (e = this.system.app.scripts.get(e)),
                !!this._scriptsIndex[e.__name]
            },
            create: function(t, e) {
                var i = this;
                e = e || {};
                var s = t
                  , n = t;
                if ("string" == typeof s ? s = this.system.app.scripts.get(s) : s && (n = s.__name),
                s) {
                    if (!this._scriptsIndex[s.__name] || !this._scriptsIndex[s.__name].instance) {
                        var r = new s({
                            app: this.system.app,
                            Bc: this.Bc,
                            enabled: !e.hasOwnProperty("enabled") || e.enabled,
                            attributes: e.attributes || null
                        })
                          , a = this._scripts.length
                          , h = -1;
                        return "number" == typeof e.ind && -1 !== e.ind && a > e.ind && (h = e.ind),
                        this._insertScriptInstance(r, h, a),
                        this._scriptsIndex[s.__name] = {
                            instance: r,
                            onSwap: function() {
                                i.swap(s.__name)
                            }
                        },
                        this[s.__name] = r,
                        e.preloading || r.__initializeAttributes(),
                        this.fire("create", s.__name, r),
                        this.fire("create:" + s.__name, r),
                        this.system.app.scripts.on("swap:" + s.__name, this._scriptsIndex[s.__name].onSwap),
                        e.preloading || (r.enabled && !r._initialized && (r._initialized = !0,
                        r.initialize && this._scriptMethod(r, ci.scriptMethods.initialize)),
                        r.enabled && !r._postInitialized && (r._postInitialized = !0,
                        r.postInitialize && this._scriptMethod(r, ci.scriptMethods.postInitialize))),
                        r
                    }
                } else
                    this._scriptsIndex[n] = {
                        awaiting: !0,
                        ind: this._scripts.length
                    };
                return null
            },
            destroy: function(t) {
                var e = t
                  , i = t;
                "string" == typeof i && (i = this.system.app.scripts.get(i)) && (e = i.__name);
                var s = this._scriptsIndex[e];
                if (delete this._scriptsIndex[e],
                !s)
                    return !1;
                if (s.instance && !s.instance._destroyed)
                    if (s.instance.enabled = !1,
                    s.instance._destroyed = !0,
                    this._isLoopingThroughScripts)
                        this._destroyedScripts.push(s.instance);
                    else {
                        var n = this._removeScriptInstance(s.instance);
                        n >= 0 && this._resetExecutionOrder(n, this._scripts.length)
                    }
                return this.system.app.scripts.off("swap:" + e, s.onSwap),
                delete this[e],
                this.fire("destroy", e, s.instance || null),
                this.fire("destroy:" + e, s.instance || null),
                s.instance && s.instance.fire("destroy"),
                !0
            },
            swap: function(t) {
                var e = t;
                "string" == typeof e && (e = this.system.app.scripts.get(e));
                var i = this._scriptsIndex[e.__name];
                if (!i || !i.instance)
                    return !1;
                var s = i.instance
                  , n = this._scripts.indexOf(s)
                  , r = new e({
                    app: this.system.app,
                    Bc: this.Bc,
                    enabled: s.enabled,
                    attributes: s.__attributes
                });
                return !!r.swap && (r.__initializeAttributes(),
                this._scripts[n] = r,
                this._scriptsIndex[e.__name].instance = r,
                this[e.__name] = r,
                r.__executionOrder = n,
                s.update && this._updateList.remove(s),
                s.postUpdate && this._postUpdateList.remove(s),
                r.update && this._updateList.insert(r),
                r.postUpdate && this._postUpdateList.insert(r),
                this._scriptMethod(r, ci.scriptMethods.swap, s),
                this.fire("swap", e.__name, r),
                this.fire("swap:" + e.__name, r),
                !0)
            },
            resolveDuplicatedEntityReferenceProperties: function(t, e) {
                var i = this.Bc.script;
                for (var s in t._scriptsIndex) {
                    var r = this.system.app.scripts.get(s);
                    if (r) {
                        var a = t._scriptsIndex[s];
                        if (a && a.instance) {
                            var h = i[s].__attributesRaw
                              , c = i[s].__attributes;
                            if (h || c) {
                                var o = a.instance.__attributes;
                                for (var u in o)
                                    if (o[u]) {
                                        var f = r.attributes.get(u);
                                        if (f && "entity" === f.type)
                                            if (f.array) {
                                                var d = o[u]
                                                  , l = d.length;
                                                if (!l)
                                                    continue;
                                                for (var b = d.slice(), v = 0; v < l; v++) {
                                                    var m = b[v]instanceof n.Entity ? b[v].getGuid() : b[v];
                                                    e[m] && (b[v] = h ? e[m].getGuid() : e[m])
                                                }
                                                h ? h[u] = b : c[u] = b
                                            } else {
                                                var g = o[u];
                                                if (g instanceof n.Entity)
                                                    g = g.getGuid();
                                                else if ("string" != typeof g)
                                                    continue;
                                                e[g] && (h ? h[u] = e[g].getGuid() : c[u] = e[g])
                                            }
                                    }
                            }
                        }
                    }
                }
            },
            move: function(t, e) {
                var i = this._scripts.length;
                if (e >= i || e < 0)
                    return !1;
                var s = t;
                "string" != typeof s && (s = t.__name);
                var n = this._scriptsIndex[s];
                if (!n || !n.instance)
                    return !1;
                var r = this._scripts.indexOf(n.instance);
                return -1 !== r && r !== e && (this._scripts.splice(e, 0, this._scripts.splice(r, 1)[0]),
                this._resetExecutionOrder(0, i),
                this._updateList.sort(),
                this._postUpdateList.sort(),
                this.fire("move", s, n.instance, e, r),
                this.fire("move:" + s, n.instance, e, r),
                !0)
            }
        }),
        Object.defineProperty(ci.prototype, "enabled", {
            get: function() {
                return this._enabled
            },
            set: function(t) {
                var e = this._enabled;
                this._enabled = t,
                this.fire("set", "enabled", e, t)
            }
        }),
        Object.defineProperty(ci.prototype, "scripts", {
            get: function() {
                return this._scripts
            },
            set: function(t) {
                for (var e in this._scriptsData = t,
                t)
                    if (t.hasOwnProperty(e)) {
                        var i = this._scriptsIndex[e];
                        if (i && ("boolean" == typeof t[e].enabled && (i.enabled = !!t[e].enabled),
                        "object" == typeof t[e].attributes))
                            for (var s in t[e].attributes)
                                if (!n.td.$f[s]) {
                                    if (!i.__attributes.hasOwnProperty(s)) {
                                        var r = this.system.app.scripts.get(e);
                                        r && r.attributes.add(s, {})
                                    }
                                    i[s] = t[e].attributes[s]
                                }
                    }
            }
        }),
        {
            ed: ci
        })),
        Object.assign(n, (oi = "_onInitializeAttributes",
        ui = "_onInitialize",
        fi = "_onPostInitialize",
        di = "_onUpdate",
        li = "_onPostUpdate",
        bi = 0,
        ((vi = function t(e) {
            n.Cl.call(this, e),
            this.id = "script",
            this.app = e,
            this.ComponentType = n.ed,
            this.DataType = n.Kl,
            this._components = new n.SortedLoopArray({
                sortBy: "_executionOrder"
            }),
            this._enabledComponents = new n.SortedLoopArray({
                sortBy: "_executionOrder"
            }),
            this.preloading = !0,
            this.on("beforeremove", this._onBeforeRemove, this),
            n.Cl.bind("initialize", this._onInitialize, this),
            n.Cl.bind("postInitialize", this._onPostInitialize, this),
            n.Cl.bind("update", this._onUpdate, this),
            n.Cl.bind("postUpdate", this._onPostUpdate, this)
        }
        ).prototype = Object.create(n.Cl.prototype)).constructor = vi,
        Object.assign(vi.prototype, {
            jl: function(t, e) {
                if (t._executionOrder = bi++,
                this._components.append(t),
                bi > Number.MAX_SAFE_INTEGER && this._resetExecutionOrder(),
                t.enabled = !e.hasOwnProperty("enabled") || !!e.enabled,
                t.enabled && t.Bc.enabled && this._enabledComponents.append(t),
                e.hasOwnProperty("order") && e.hasOwnProperty("scripts")) {
                    t._scriptsData = e.scripts;
                    for (var i = 0; i < e.order.length; i++)
                        t.create(e.order[i], {
                            enabled: e.scripts[e.order[i]].enabled,
                            attributes: e.scripts[e.order[i]].attributes,
                            preloading: this.preloading
                        })
                }
            },
            cloneComponent: function(t, e) {
                var i, s, n = [], r = {};
                for (i = 0; i < t.script._scripts.length; i++) {
                    var a = t.script._scripts[i]
                      , h = a.__scriptType.__name;
                    n.push(h);
                    var c = {};
                    for (s in a.__attributes)
                        c[s] = a.__attributes[s];
                    r[h] = {
                        enabled: a._enabled,
                        attributes: c
                    }
                }
                for (s in t.script._scriptsIndex)
                    s.awaiting && n.splice(s.ind, 0, s);
                var o = {
                    enabled: t.script.enabled,
                    order: n,
                    scripts: r
                };
                return this.Il(e, o)
            },
            _resetExecutionOrder: function() {
                bi = 0;
                for (var t = 0, e = this._components.length; t < e; t++)
                    this._components.items[t]._executionOrder = bi++
            },
            _callComponentMethod: function(t, e, i) {
                for (t.loopIndex = 0; t.loopIndex < t.length; t.loopIndex++)
                    t.items[t.loopIndex][e](i)
            },
            _onInitialize: function() {
                this.preloading = !1,
                this._callComponentMethod(this._components, "_onInitializeAttributes"),
                this._callComponentMethod(this._enabledComponents, "_onInitialize")
            },
            _onPostInitialize: function() {
                this._callComponentMethod(this._enabledComponents, "_onPostInitialize")
            },
            _onUpdate: function(t) {
                this._callComponentMethod(this._enabledComponents, "_onUpdate", t)
            },
            _onPostUpdate: function(t) {
                this._callComponentMethod(this._enabledComponents, "_onPostUpdate", t)
            },
            _addComponentToEnabled: function(t) {
                this._enabledComponents.insert(t)
            },
            _removeComponentFromEnabled: function(t) {
                this._enabledComponents.remove(t)
            },
            _onBeforeRemove: function(t, e) {
                var i;
                this._components.items.indexOf(e) >= 0 && e._onBeforeRemove(),
                this._removeComponentFromEnabled(e),
                this._components.remove(e)
            }
        }),
        {
            Hd: vi
        })),
        Object.assign(n, {
            Kl: function() {
                this.enabled = !0
            }
        }),
        Object.assign(n, (((gi = function t(e, i) {
            n.Component.call(this, e, i),
            this.on("set_scripts", this.onSetScripts, this)
        }
        ).prototype = Object.create(n.Component.prototype)).constructor = gi,
        Object.assign(gi.prototype, {
            send: function(t, e) {
                var i = n.M(arguments).slice(2), s = this.Bc.script.instances, r;
                if (s && s[t] && (r = s[t].instance[e]))
                    return r.apply(s[t].instance, i)
            },
            onEnable: function() {
                this.data.areScriptsLoaded && !this.system.preloading && (this.data.initialized ? this.system._enableScriptComponent(this) : this.system._initializeScriptComponent(this),
                this.data.postInitialized || this.system._postInitializeScriptComponent(this))
            },
            onDisable: function() {
                this.system._disableScriptComponent(this)
            },
            onSetScripts: function(t, e, i) {
                if (!this.system._inTools || this.runInTools) {
                    if (this._updateScriptAttributes(e, i))
                        return;
                    this.enabled && this.system._disableScriptComponent(this),
                    this.system._destroyScriptComponent(this),
                    this.data.areScriptsLoaded = !1;
                    var s, n = i.map(function(t) {
                        return t.url
                    });
                    if (this._loadFromCache(n))
                        return;
                    this._loadScripts(n)
                }
            },
            _updateScriptAttributes: function(t, e) {
                var i = !0;
                if (t.length !== e.length)
                    i = !1;
                else {
                    var s, n = e.length;
                    for (s = 0; s < n; s++)
                        if (t[s].url !== e[s].url) {
                            i = !1;
                            break
                        }
                }
                if (i)
                    for (var r in this.instances)
                        this.instances.hasOwnProperty(r) && this.system._updateAccessors(this.Bc, this.instances[r]);
                return i
            },
            _loadFromCache: function(t) {
                var e, i, s = [], r = this.system.app._scriptPrefix || "", a = /^http(s)?:\/\//i;
                for (e = 0,
                i = t.length; e < i; e++) {
                    var h = t[e];
                    a.test(h) || (h = n.path.join(r, h));
                    var c = this.system.app.loader.getFromCache(h, "script");
                    if (!c)
                        return !1;
                    s.push(c)
                }
                for (e = 0,
                i = s.length; e < i; e++) {
                    var o = s[e];
                    if (!0 !== o && o && this.Bc.script && !this.Bc.script.instances[o._pcScriptName]) {
                        var u = new o(this.Bc);
                        this.system._preRegisterInstance(this.Bc, t[e], o._pcScriptName, u)
                    }
                }
                return this.data && (this.data.areScriptsLoaded = !0),
                this.system.preloading || (this.system.onInitialize(this.Bc),
                this.system.onPostInitialize(this.Bc)),
                !0
            },
            _loadScripts: function(t) {
                var e = t.length
                  , i = this.system.app._scriptPrefix || "";
                t.forEach(function(t) {
                    var s = null
                      , r = null;
                    t.toLowerCase().startsWith("http://") || t.toLowerCase().startsWith("https://") ? (r = t,
                    s = t) : (r = t,
                    s = n.path.join(i, t)),
                    this.system.app.loader.load(s, "script", function(t, i) {
                        if (e--,
                        !t && i && this.Bc.script && !this.Bc.script.instances[i._pcScriptName]) {
                            var s = new i(this.Bc);
                            this.system._preRegisterInstance(this.Bc, r, i._pcScriptName, s)
                        }
                        0 === e && (this.data.areScriptsLoaded = !0,
                        this.system.preloading || (this.system.onInitialize(this.Bc),
                        this.system.onPostInitialize(this.Bc)))
                    }
                    .bind(this))
                }
                .bind(this))
            }
        }),
        {
            Ql: gi
        })),
        Object.assign(n, function() {
            var t = ["enabled", "scripts", "instances", "runInTools"]
              , e = "initialize"
              , i = "postInitialize"
              , s = "update"
              , r = "postUpdate"
              , a = "fixedUpdate"
              , h = "toolsUpdate"
              , c = "onEnable"
              , o = "onDisable"
              , u = function c(o) {
                n.Cl.call(this, o),
                this.id = "script",
                this.description = "Allows the Entity to run JavaScript fragments to implement custom behavior.",
                this.ComponentType = n.Ql,
                this.DataType = n.Jl,
                this.schema = t,
                this.preloading = !1,
                this.instancesWithUpdate = [],
                this.instancesWithFixedUpdate = [],
                this.instancesWithPostUpdate = [],
                this.instancesWithToolsUpdate = [],
                this.on("beforeremove", this.onBeforeRemove, this),
                n.Cl.bind(e, this.onInitialize, this),
                n.Cl.bind(i, this.onPostInitialize, this),
                n.Cl.bind(s, this.onUpdate, this),
                n.Cl.bind(a, this.onFixedUpdate, this),
                n.Cl.bind(r, this.onPostUpdate, this),
                n.Cl.bind(h, this.onToolsUpdate, this)
            };
            return (u.prototype = Object.create(n.Cl.prototype)).constructor = u,
            n.Component._buildAccessors(n.Ql.prototype, t),
            Object.assign(u.prototype, {
                jl: function(t, e, i) {
                    i = ["runInTools", "enabled", "scripts"],
                    e.scripts && e.scripts.length && e.scripts.forEach(function(t) {
                        if (t.attributes && "array" === n.type(t.attributes)) {
                            for (var e = {}, i = 0; i < t.attributes.length; i++)
                                e[t.attributes[i].name] = t.attributes[i];
                            t.attributes = e
                        }
                    }),
                    n.Cl.prototype.jl.call(this, t, e, i)
                },
                cloneComponent: function(t, e) {
                    for (var i = this.store[t.getGuid()], s = {
                        runInTools: i.data.runInTools,
                        scripts: [],
                        enabled: i.data.enabled
                    }, r = i.data.scripts, a = 0, h = r.length; a < h; a++) {
                        var c = r[a].attributes;
                        c && delete r[a].attributes,
                        s.scripts.push(n.extend({}, r[a])),
                        c && (s.scripts[a].attributes = this._cloneAttributes(c),
                        r[a].attributes = c)
                    }
                    return this.Il(e, s)
                },
                onBeforeRemove: function(t, e) {
                    e.enabled && this._disableScriptComponent(e),
                    this._destroyScriptComponent(e)
                },
                onInitialize: function(t) {
                    if (this._registerInstances(t),
                    t.enabled) {
                        t.script && t.script.enabled && this._initializeScriptComponent(t.script);
                        var e = t._children, i, s = e.length;
                        for (i = 0; i < s; i++)
                            e[i]instanceof n.Entity && this.onInitialize(e[i])
                    }
                },
                onPostInitialize: function(t) {
                    if (t.enabled) {
                        t.script && t.script.enabled && this._postInitializeScriptComponent(t.script);
                        var e = t._children, i, s = e.length;
                        for (i = 0; i < s; i++)
                            e[i]instanceof n.Entity && this.onPostInitialize(e[i])
                    }
                },
                _callInstancesMethod: function(t, e) {
                    var i = t.data.instances;
                    for (var s in i)
                        if (i.hasOwnProperty(s)) {
                            var n = i[s].instance;
                            n[e] && n[e]()
                        }
                },
                _initializeScriptComponent: function(t) {
                    this._callInstancesMethod(t, e),
                    t.data.initialized = !0,
                    t.enabled && t.Bc.enabled && this._enableScriptComponent(t)
                },
                _enableScriptComponent: function(t) {
                    this._callInstancesMethod(t, c)
                },
                _disableScriptComponent: function(t) {
                    this._callInstancesMethod(t, o)
                },
                _destroyScriptComponent: function(t) {
                    var e, i = t.data.instances;
                    for (var s in i)
                        if (i.hasOwnProperty(s)) {
                            var n = i[s].instance;
                            n.destroy && n.destroy(),
                            n.update && (e = this.instancesWithUpdate.indexOf(n)) >= 0 && this.instancesWithUpdate.splice(e, 1),
                            n.fixedUpdate && (e = this.instancesWithFixedUpdate.indexOf(n)) >= 0 && this.instancesWithFixedUpdate.splice(e, 1),
                            n.postUpdate && (e = this.instancesWithPostUpdate.indexOf(n)) >= 0 && this.instancesWithPostUpdate.splice(e, 1),
                            n.toolsUpdate && (e = this.instancesWithToolsUpdate.indexOf(n)) >= 0 && this.instancesWithToolsUpdate.splice(e, 1),
                            t.instances[s].instance === t[s] && delete t[s],
                            delete t.instances[s]
                        }
                },
                _postInitializeScriptComponent: function(t) {
                    this._callInstancesMethod(t, i),
                    t.data.postInitialized = !0
                },
                _updateInstances: function(t, e, i) {
                    for (var s, n = 0, r = e.length; n < r; n++)
                        (s = e[n]) && s.Bc && s.Bc.enabled && s.Bc.script.enabled && s[t](i)
                },
                onUpdate: function(t) {
                    this._updateInstances(s, this.instancesWithUpdate, t)
                },
                onFixedUpdate: function(t) {
                    this._updateInstances(a, this.instancesWithFixedUpdate, t)
                },
                onPostUpdate: function(t) {
                    this._updateInstances(r, this.instancesWithPostUpdate, t)
                },
                onToolsUpdate: function(t) {
                    this._updateInstances(h, this.instancesWithToolsUpdate, t)
                },
                broadcast: function(t, e) {
                    var i = n.M(arguments).slice(2), s, r, a, h = this.store;
                    for (s in h)
                        h.hasOwnProperty(s) && (r = h[s].data).instances[t] && (a = r.instances[t].instance[e]) && a.apply(r.instances[t].instance, i)
                },
                _preRegisterInstance: function(t, e, i, s) {
                    if (t.script) {
                        if (t.script.data._instances = t.script.data._instances || {},
                        t.script.data._instances[i])
                            throw Error(n.string.format("Script name collision '{0}'. Scripts from '{1}' and '{2}' {{3}}", i, e, t.script.data._instances[i].url, t.getGuid()));
                        t.script.data._instances[i] = {
                            url: e,
                            name: i,
                            instance: s
                        }
                    }
                },
                _registerInstances: function(t) {
                    var e, i, s;
                    if (t.script && t.script.data._instances) {
                        for (s in t.script.instances = t.script.data._instances,
                        t.script.instances) {
                            if (i = (e = t.script.instances[s]).instance,
                            n.K.attach(i),
                            i.update && this.instancesWithUpdate.push(i),
                            i.fixedUpdate && this.instancesWithFixedUpdate.push(i),
                            i.postUpdate && this.instancesWithPostUpdate.push(i),
                            i.toolsUpdate && this.instancesWithToolsUpdate.push(i),
                            t.script.scripts && this._createAccessors(t, e),
                            t.script[s])
                                throw Error(n.string.format("Script with name '{0}' is already attached to Script Component", s));
                            t.script[s] = i
                        }
                        delete t.script.data._instances
                    }
                    var r = t._children, a, h = r.length;
                    for (a = 0; a < h; a++)
                        r[a]instanceof n.Entity && this._registerInstances(r[a])
                },
                _cloneAttributes: function(t) {
                    var e = {};
                    for (var i in t)
                        if (t.hasOwnProperty(i))
                            if ("entity" !== t[i].type)
                                e[i] = n.extend({}, t[i]);
                            else {
                                var s = t[i].value;
                                delete t[i].value,
                                e[i] = n.extend({}, t[i]),
                                e[i].value = s,
                                t[i].value = s
                            }
                    return e
                },
                _createAccessors: function(t, e) {
                    var i = this, s, n = t.script.scripts.length, r = e.url;
                    for (s = 0; s < n; s++) {
                        var a = t.script.scripts[s];
                        if (a.url === r) {
                            var h = a.attributes;
                            if (a.name && h) {
                                for (var c in h)
                                    h.hasOwnProperty(c) && this._createAccessor(h[c], e);
                                t.script.data.attributes[a.name] = this._cloneAttributes(h)
                            }
                            break
                        }
                    }
                },
                _createAccessor: function(t, e) {
                    var i = this;
                    t = {
                        name: t.name,
                        value: t.value,
                        type: t.type
                    },
                    i._convertAttributeValue(t),
                    Object.defineProperty(e.instance, t.name, {
                        get: function() {
                            return t.value
                        },
                        set: function(s) {
                            var n = t.value;
                            t.value = s,
                            i._convertAttributeValue(t),
                            e.instance.fire("set", t.name, n, t.value)
                        },
                        configurable: !0
                    })
                },
                _updateAccessors: function(t, e) {
                    var i = this, s, n = t.script.scripts.length, r, a = e.url, h, c, o, u, f, d;
                    for (s = 0; s < n; s++)
                        if ((c = (h = t.script).scripts[s]).url === a) {
                            if (o = c.name,
                            u = c.attributes,
                            o) {
                                if (u)
                                    for (r in u)
                                        u.hasOwnProperty(r) && this._createAccessor(u[r], e);
                                if (f = h.data.attributes[o])
                                    for (r in f)
                                        d = f[r],
                                        r in u ? u[r].value !== d.value && e.instance.onAttributeChanged && e.instance.onAttributeChanged(d.name, d.value, u[r].value) : delete e.instance[d.name];
                                u ? h.data.attributes[o] = this._cloneAttributes(u) : delete h.data.attributes[o]
                            }
                            break
                        }
                },
                _convertAttributeValue: function(t) {
                    if ("rgb" === t.type || "rgba" === t.type)
                        "array" === n.type(t.value) && (t.value = 3 === t.value.length ? new n.D(t.value[0],t.value[1],t.value[2]) : new n.D(t.value[0],t.value[1],t.value[2],t.value[3]));
                    else if ("vec2" === t.type)
                        "array" === n.type(t.value) && (t.value = new n.pt(t.value[0],t.value[1]));
                    else if ("vec3" === t.type || "vector" === t.type)
                        "array" === n.type(t.value) && (t.value = new n.ut(t.value[0],t.value[1],t.value[2]));
                    else if ("vec4" === t.type)
                        "array" === n.type(t.value) && (t.value = new n.wt(t.value[0],t.value[1],t.value[2],t.value[3]));
                    else if ("entity" === t.type)
                        null !== t.value && "string" == typeof t.value && (t.value = this.app.root.findByGuid(t.value));
                    else if ("curve" === t.type || "colorcurve" === t.type) {
                        var e = t.value.keys[0]instanceof Array ? n.It : n.Et;
                        t.value = new e(t.value.keys),
                        t.value.type = t.value.type
                    }
                }
            }),
            {
                Vd: u
            }
        }()),
        Object.assign(n, {
            Jl: function() {
                this.scripts = [],
                this.enabled = !0,
                this.instances = {},
                this._instances = {},
                this.runInTools = !1,
                this.attributes = {},
                this.initialized = !1,
                this.postInitialized = !1,
                this.areScriptsLoaded = !1
            }
        }),
        Object.assign(n, {
            Wc: "linear",
            Yc: "inverse",
            Xc: "exponential"
        }),
        Object.assign(n, (wi = {
            volume: 0,
            pitch: 0,
            loop: !1,
            startTime: 0,
            duration: 0,
            position: new n.ut,
            maxDistance: 0,
            refDistance: 0,
            rollOffFactor: 0,
            distanceModel: 0,
            onPlay: null,
            onPause: null,
            onResume: null,
            onStop: null,
            onEnd: null
        },
        xi = function(t, e, i) {
            i = i || {},
            this._component = t,
            this._assets = t.system.app.assets,
            this._manager = t.system.manager,
            this._name = e || "Untitled",
            this._volume = void 0 !== i.volume ? n.I.clamp(Number(i.volume) || 0, 0, 1) : 1,
            this._pitch = void 0 !== i.pitch ? Math.max(.01, Number(i.pitch) || 0) : 1,
            this._loop = !(void 0 === i.loop || !i.loop),
            this._duration = i.duration > 0 ? i.duration : null,
            this._startTime = Math.max(0, Number(i.startTime) || 0),
            this._overlap = !!i.overlap,
            this._autoPlay = !!i.autoPlay,
            this._firstNode = null,
            this._lastNode = null,
            this._asset = i.asset,
            this._asset instanceof n.Zf && (this._asset = this._asset.id),
            this._onInstancePlayHandler = this._onInstancePlay.bind(this),
            this._onInstancePauseHandler = this._onInstancePause.bind(this),
            this._onInstanceResumeHandler = this._onInstanceResume.bind(this),
            this._onInstanceStopHandler = this._onInstanceStop.bind(this),
            this._onInstanceEndHandler = this._onInstanceEnd.bind(this),
            this.instances = [],
            n.K.attach(this)
        }
        ,
        Object.assign(xi.prototype, {
            play: function() {
                this.overlap || !this.isPlaying && !this.isPaused || this.stop();
                var t = this._createInstance();
                if (this.instances.push(t),
                this.isLoaded)
                    t.play();
                else {
                    var e = function(e) {
                        var i = t._playWhenLoaded;
                        t.sound = e,
                        i && t.play()
                    };
                    this.off("load", e),
                    this.once("load", e),
                    this.load()
                }
                return t
            },
            pause: function() {
                for (var t = !1, e = this.instances, i = 0, s = e.length; i < s; i++)
                    e[i].pause() && (t = !0);
                return t
            },
            resume: function() {
                for (var t = !1, e = this.instances, i = 0, s = e.length; i < s; i++)
                    e[i].resume() && (t = !0);
                return t
            },
            stop: function() {
                for (var t = !1, e = this.instances, i = 0, s = e.length; i < s; i++)
                    e[i].stop() && (t = !0);
                return e.length = 0,
                t
            },
            load: function() {
                if (this._hasAsset()) {
                    var t = this._assets.get(this._asset);
                    if (!t)
                        return this._assets.off("add:" + this._asset, this._onAssetAdd, this),
                        void this._assets.once("add:" + this._asset, this._onAssetAdd, this);
                    if (t.off("remove", this._onAssetRemoved, this),
                    t.on("remove", this._onAssetRemoved, this),
                    !t.resource)
                        return t.off("load", this._onAssetLoad, this),
                        t.once("load", this._onAssetLoad, this),
                        void this._assets.load(t);
                    this.fire("load", t.resource)
                }
            },
            setExternalNodes: function(t, e) {
                if (t && (e || (e = t),
                this._firstNode = t,
                this._lastNode = e,
                !this._overlap))
                    for (var i = this.instances, s = 0, n = i.length; s < n; s++)
                        i[s].setExternalNodes(t, e)
            },
            clearExternalNodes: function() {
                if (this._firstNode = null,
                this._lastNode = null,
                !this._overlap)
                    for (var t = this.instances, e = 0, i = t.length; e < i; e++)
                        t[e].clearExternalNodes()
            },
            getExternalNodes: function() {
                return [this._firstNode, this._lastNode]
            },
            _hasAsset: function() {
                return null != this._asset
            },
            _createInstance: function() {
                var t = null
                  , e = this._component
                  , i = null;
                if (this._hasAsset()) {
                    var s = this._assets.get(this._asset);
                    s && (i = s.resource)
                }
                var r = wi;
                return r.volume = this._volume * e.volume,
                r.pitch = this._pitch * e.pitch,
                r.loop = this._loop,
                r.startTime = this._startTime,
                r.duration = this._duration,
                r.onPlay = this._onInstancePlayHandler,
                r.onPause = this._onInstancePauseHandler,
                r.onResume = this._onInstanceResumeHandler,
                r.onStop = this._onInstanceStopHandler,
                r.onEnd = this._onInstanceEndHandler,
                e.positional ? (r.position.copy(e.Bc.getPosition()),
                r.maxDistance = e.maxDistance,
                r.refDistance = e.refDistance,
                r.rollOffFactor = e.rollOffFactor,
                r.distanceModel = e.distanceModel,
                t = new n.Kc(this._manager,i,r)) : t = new n.Gc(this._manager,i,r),
                this._firstNode && t.setExternalNodes(this._firstNode, this._lastNode),
                t
            },
            _onInstancePlay: function(t) {
                this.fire("play", t),
                this._component.fire("play", this, t)
            },
            _onInstancePause: function(t) {
                this.fire("pause", t),
                this._component.fire("pause", this, t)
            },
            _onInstanceResume: function(t) {
                this.fire("resume", t),
                this._component.fire("resume", this, t)
            },
            _onInstanceStop: function(t) {
                this.fire("stop", t),
                this._component.fire("stop", this, t)
            },
            _onInstanceEnd: function(t) {
                var e = this.instances.indexOf(t);
                -1 !== e && this.instances.splice(e, 1),
                this.fire("end", t),
                this._component.fire("end", this, t)
            },
            _onAssetAdd: function(t) {
                this.load()
            },
            _onAssetLoad: function(t) {
                this.load()
            },
            _onAssetRemoved: function(t) {
                t.off("remove", this._onAssetRemoved, this),
                this._assets.off("add:" + t.id, this._onAssetAdd, this),
                this.stop()
            },
            updatePosition: function(t) {
                for (var e = this.instances, i = 0, s = e.length; i < s; i++)
                    e[i].position = t
            }
        }),
        Object.defineProperty(xi.prototype, "name", {
            get: function() {
                return this._name
            },
            set: function(t) {
                this._name = t
            }
        }),
        Object.defineProperty(xi.prototype, "volume", {
            get: function() {
                return this._volume
            },
            set: function(t) {
                if (this._volume = n.I.clamp(Number(t) || 0, 0, 1),
                !this._overlap)
                    for (var e = this.instances, i = 0, s = e.length; i < s; i++)
                        e[i].volume = this._volume * this._component.volume
            }
        }),
        Object.defineProperty(xi.prototype, "pitch", {
            get: function() {
                return this._pitch
            },
            set: function(t) {
                if (this._pitch = Math.max(Number(t) || 0, .01),
                !this._overlap)
                    for (var e = this.instances, i = 0, s = e.length; i < s; i++)
                        e[i].pitch = this.pitch * this._component.pitch
            }
        }),
        Object.defineProperty(xi.prototype, "loop", {
            get: function() {
                return this._loop
            },
            set: function(t) {
                this._loop = !!t;
                for (var e = this.instances, i = 0, s = e.length; i < s; i++)
                    e[i].loop = this._loop
            }
        }),
        Object.defineProperty(xi.prototype, "autoPlay", {
            get: function() {
                return this._autoPlay
            },
            set: function(t) {
                this._autoPlay = !!t
            }
        }),
        Object.defineProperty(xi.prototype, "overlap", {
            get: function() {
                return this._overlap
            },
            set: function(t) {
                this._overlap = !!t
            }
        }),
        Object.defineProperty(xi.prototype, "startTime", {
            get: function() {
                return this._startTime
            },
            set: function(t) {
                if (this._startTime = Math.max(0, Number(t) || 0),
                !this._overlap)
                    for (var e = this.instances, i = 0, s = e.length; i < s; i++)
                        e[i].startTime = this._startTime
            }
        }),
        Object.defineProperty(xi.prototype, "duration", {
            get: function() {
                var t = 0;
                if (this._hasAsset()) {
                    var e = this._assets.get(this._asset);
                    t = e.resource ? e.resource.duration : 0
                }
                return null != this._duration ? this._duration % (t || 1) : t
            },
            set: function(t) {
                if (this._duration = Math.max(0, Number(t) || 0) || null,
                !this._overlap)
                    for (var e = this.instances, i = 0, s = e.length; i < s; i++)
                        e[i].duration = this._duration
            }
        }),
        Object.defineProperty(xi.prototype, "asset", {
            get: function() {
                return this._asset
            },
            set: function(t) {
                var e = this._asset;
                if (e) {
                    this._assets.off("add:" + e, this._onAssetAdd, this);
                    var i = this._assets.get(e);
                    i && i.off("remove", this._onAssetRemoved, this)
                }
                this._asset = t,
                this._asset instanceof n.Zf && (this._asset = this._asset.id),
                this._hasAsset() && this._component.enabled && this._component.Bc.enabled && this.load()
            }
        }),
        Object.defineProperty(xi.prototype, "isLoaded", {
            get: function() {
                if (this._hasAsset()) {
                    var t = this._assets.get(this._asset);
                    if (t)
                        return !!t.resource
                }
                return !1
            }
        }),
        Object.defineProperty(xi.prototype, "isPlaying", {
            get: function() {
                for (var t = this.instances, e = 0, i = t.length; e < i; e++)
                    if (t[e].isPlaying)
                        return !0;
                return !1
            }
        }),
        Object.defineProperty(xi.prototype, "isPaused", {
            get: function() {
                var t = this.instances
                  , e = t.length;
                if (0 === e)
                    return !1;
                for (var i = 0; i < e; i++)
                    if (!t[i].isPaused)
                        return !1;
                return !0
            }
        }),
        Object.defineProperty(xi.prototype, "isStopped", {
            get: function() {
                for (var t = this.instances, e = 0, i = t.length; e < i; e++)
                    if (!t[e].isStopped)
                        return !1;
                return !0
            }
        }),
        {
            ql: xi
        })),
        Object.assign(n, (((zi = function(t, e) {
            n.Component.call(this, t, e),
            this.on("set_slots", this.onSetSlots, this),
            this.on("set_volume", this.onSetVolume, this),
            this.on("set_pitch", this.onSetPitch, this),
            this.on("set_refDistance", this.onSetRefDistance, this),
            this.on("set_maxDistance", this.onSetMaxDistance, this),
            this.on("set_rollOffFactor", this.onSetRollOffFactor, this),
            this.on("set_distanceModel", this.onSetDistanceModel, this),
            this.on("set_positional", this.onSetPositional, this)
        }
        ).prototype = Object.create(n.Component.prototype)).constructor = zi,
        Object.assign(zi.prototype, {
            onSetSlots: function(t, e, i) {
                var s;
                if (e)
                    for (s in e)
                        e[s].stop();
                var r = {};
                for (s in i)
                    i[s]instanceof n.ql ? r[i[s].name] = i[s] : i[s].name && (r[i[s].name] = new n.ql(this,i[s].name,i[s]));
                this.data.slots = r,
                this.enabled && this.Bc.enabled && this.onEnable()
            },
            onSetVolume: function(t, e, i) {
                var s = this.data.slots;
                for (var n in s) {
                    var r = s[n];
                    if (!r.overlap)
                        for (var a = r.instances, h = 0, c = a.length; h < c; h++)
                            a[h].volume = r.volume * i
                }
            },
            onSetPitch: function(t, e, i) {
                var s = this.data.slots;
                for (var n in s) {
                    var r = s[n];
                    if (!r.overlap)
                        for (var a = r.instances, h = 0, c = a.length; h < c; h++)
                            a[h].pitch = r.pitch * i
                }
            },
            onSetRefDistance: function(t, e, i) {
                var s = this.data.slots;
                for (var n in s) {
                    var r = s[n];
                    if (!r.overlap)
                        for (var a = r.instances, h = 0, c = a.length; h < c; h++)
                            a[h].refDistance = i
                }
            },
            onSetMaxDistance: function(t, e, i) {
                var s = this.data.slots;
                for (var n in s) {
                    var r = s[n];
                    if (!r.overlap)
                        for (var a = r.instances, h = 0, c = a.length; h < c; h++)
                            a[h].maxDistance = i
                }
            },
            onSetRollOffFactor: function(t, e, i) {
                var s = this.data.slots;
                for (var n in s) {
                    var r = s[n];
                    if (!r.overlap)
                        for (var a = r.instances, h = 0, c = a.length; h < c; h++)
                            a[h].rollOffFactor = i
                }
            },
            onSetDistanceModel: function(t, e, i) {
                var s = this.data.slots;
                for (var n in s) {
                    var r = s[n];
                    if (!r.overlap)
                        for (var a = r.instances, h = 0, c = a.length; h < c; h++)
                            a[h].distanceModel = i
                }
            },
            onSetPositional: function(t, e, i) {
                var s = this.data.slots;
                for (var n in s) {
                    var r = s[n];
                    if (!r.overlap)
                        for (var a = r.instances, h = 0, c = a.length; h < c; h++) {
                            var o = a[h].isPlaying || a[h].isSuspended
                              , u = a[h].currentTime;
                            o && a[h].stop(),
                            a[h] = r._createInstance(),
                            o && (a[h].play(),
                            a[h].currentTime = u)
                        }
                }
            },
            onEnable: function() {
                if (!this.system._inTools) {
                    var t = this.data.slots
                      , e = this.data.playingBeforeDisable;
                    for (var i in t) {
                        var s = t[i];
                        s.autoPlay && s.isStopped ? s.play() : e[i] ? s.resume() : s.isLoaded || s.load()
                    }
                }
            },
            onDisable: function() {
                var t = this.data.slots
                  , e = {};
                for (var i in t)
                    t[i].overlap || t[i].isPlaying && (t[i].pause(),
                    e[i] = !0);
                this.data.playingBeforeDisable = e
            },
            onRemove: function() {
                this.off()
            },
            addSlot: function(t, e) {
                var i = this.data.slots;
                if (i[t])
                    return null;
                var s = new n.ql(this,t,e);
                return i[t] = s,
                s.autoPlay && this.enabled && this.Bc.enabled && s.play(),
                s
            },
            removeSlot: function(t) {
                var e = this.data.slots;
                e[t] && (e[t].stop(),
                delete e[t])
            },
            slot: function(t) {
                return this.data.slots[t]
            },
            play: function(t) {
                if (!this.enabled || !this.Bc.enabled)
                    return null;
                var e = this.slots[t];
                return e ? e.play() : (u("Trying to play sound slot with name " + t + " which does not exist"),
                null)
            },
            pause: function(t) {
                var e, i = this.data.slots;
                if (t) {
                    if (!(e = i[t]))
                        return void u("Trying to pause sound slot with name " + t + " which does not exist");
                    e.pause()
                } else
                    for (var s in i)
                        i[s].pause()
            },
            resume: function(t) {
                var e, i = this.data.slots;
                if (t) {
                    if (!(e = i[t]))
                        return void u("Trying to resume sound slot with name " + t + " which does not exist");
                    e.isPaused && e.resume()
                } else
                    for (var s in i)
                        i[s].resume()
            },
            stop: function(t) {
                var e, i = this.data.slots;
                if (t) {
                    if (!(e = i[t]))
                        return void u("Trying to stop sound slot with name " + t + " which does not exist");
                    e.stop()
                } else
                    for (var s in i)
                        i[s].stop()
            }
        }),
        {
            Zl: zi
        })),
        Object.assign(n, function() {
            var t = ["enabled", "volume", "pitch", "positional", "refDistance", "maxDistance", "rollOffFactor", "distanceModel", "slots"]
              , e = function(e, i) {
                n.Cl.call(this, e),
                this.id = "sound",
                this.description = "Allows an Entity to play sounds",
                this.ComponentType = n.Zl,
                this.DataType = n.$l,
                this.schema = t,
                this.manager = i,
                n.Cl.bind("update", this.onUpdate, this),
                this.on("beforeremove", this.onBeforeRemove, this)
            };
            return (e.prototype = Object.create(n.Cl.prototype)).constructor = e,
            n.Component._buildAccessors(n.Zl.prototype, t),
            Object.assign(e.prototype, {
                jl: function(t, e, i) {
                    i = ["volume", "pitch", "positional", "refDistance", "maxDistance", "rollOffFactor", "distanceModel", "slots", "enabled"],
                    n.Cl.prototype.jl.call(this, t, e, i)
                },
                cloneComponent: function(t, e) {
                    var i, s = t.sound.data, r = {};
                    for (i in s)
                        s.hasOwnProperty(i) && (r[i] = s[i]);
                    for (i in r.slots = {},
                    s.slots) {
                        var a = s.slots[i];
                        a instanceof n.ql ? r.slots[i] = {
                            name: a.name,
                            volume: a.volume,
                            pitch: a.pitch,
                            loop: a.loop,
                            duration: a.duration,
                            startTime: a.startTime,
                            overlap: a.overlap,
                            autoPlay: a.autoPlay,
                            asset: a.asset
                        } : r.slots[i] = a
                    }
                    return r.playingBeforeDisable = {},
                    this.Il(e, r)
                },
                onUpdate: function(t) {
                    var e = this.store;
                    for (var i in e)
                        if (e.hasOwnProperty(i)) {
                            var s = e[i]
                              , n = s.Bc
                              , r = s.data;
                            if (r.enabled && n.enabled && r.positional) {
                                var a = n.getPosition()
                                  , h = r.slots;
                                for (var c in h)
                                    h[c].updatePosition(a)
                            }
                        }
                },
                onBeforeRemove: function(t, e) {
                    var i = e.slots;
                    for (var s in i)
                        i[s].overlap || i[s].stop();
                    e.onRemove()
                }
            }),
            Object.defineProperty(e.prototype, "volume", {
                get: function() {
                    return this.manager.volume
                },
                set: function(t) {
                    this.manager.volume = t
                }
            }),
            Object.defineProperty(e.prototype, "context", {
                get: function() {
                    return n.Vc.hasAudioContext() ? this.manager.context : null
                }
            }),
            {
                Wd: e
            }
        }()),
        n.$l = function t() {
            this.enabled = !0,
            this.volume = 1,
            this.pitch = 1,
            this.positional = !0,
            this.refDistance = 1,
            this.maxDistance = 1e4,
            this.rollOffFactor = 1,
            this.distanceModel = n.Wc,
            this.slots = {},
            this.playingBeforeDisable = {}
        }
        ,
        Object.assign(n, (((_i = function(t, e) {
            n.Component.call(this, t, e),
            this.on("set_assets", this.onSetAssets, this),
            this.on("set_loop", this.onSetLoop, this),
            this.on("set_volume", this.onSetVolume, this),
            this.on("set_pitch", this.onSetPitch, this),
            this.on("set_minDistance", this.onSetMinDistance, this),
            this.on("set_maxDistance", this.onSetMaxDistance, this),
            this.on("set_rollOffFactor", this.onSetRollOffFactor, this),
            this.on("set_distanceModel", this.onSetDistanceModel, this),
            this.on("set_3d", this.onSet3d, this)
        }
        ).prototype = Object.create(n.Component.prototype)).constructor = _i,
        Object.assign(_i.prototype, {
            play: function(t) {
                if (this.enabled && this.Bc.enabled) {
                    var e;
                    this.channel && this.stop();
                    var i = this.data;
                    if (i.sources[t])
                        if (i["3d"]) {
                            var s = this.Bc.getPosition();
                            e = this.system.manager.playSound3d(i.sources[t], s, i),
                            i.currentSource = t,
                            i.channel = e
                        } else
                            e = this.system.manager.playSound(i.sources[t], i),
                            i.currentSource = t,
                            i.channel = e
                }
            },
            pause: function() {
                this.channel && this.channel.pause()
            },
            unpause: function() {
                this.channel && this.channel.paused && this.channel.unpause()
            },
            stop: function() {
                this.channel && (this.channel.stop(),
                this.channel = null)
            },
            onSetAssets: function(t, e, i) {
                var s = [], r, a = i.length;
                if (e && e.length)
                    for (r = 0; r < e.length; r++)
                        if (e[r]) {
                            var h = this.system.app.assets.get(e[r]);
                            h && (h.off("change", this.onAssetChanged, this),
                            h.off("remove", this.onAssetRemoved, this),
                            this.currentSource === h.name && this.stop())
                        }
                if (a)
                    for (r = 0; r < a; r++)
                        e.indexOf(i[r]) < 0 && (i[r]instanceof n.Zf ? s.push(i[r].id) : s.push(i[r]));
                !this.system._inTools && s.length && this.loadAudioSourceAssets(s)
            },
            onAssetChanged: function(t, e, i, s) {
                var n;
                "resource" === e && this.data.sources && (this.data.sources[t.name] = i,
                this.data.currentSource === t.name && this.channel && (this.channel.paused ? (this.play(t.name),
                this.pause()) : this.play(t.name)))
            },
            onAssetRemoved: function(t) {
                t.off("remove", this.onAssetRemoved, this),
                this.data.sources[t.name] && (delete this.data.sources[t.name],
                this.data.currentSource === t.name && (this.stop(),
                this.data.currentSource = null))
            },
            onSetLoop: function(t, e, i) {
                e != i && this.channel && this.channel.setLoop(i)
            },
            onSetVolume: function(t, e, i) {
                e != i && this.channel && this.channel.setVolume(i)
            },
            onSetPitch: function(t, e, i) {
                e != i && this.channel && this.channel.setPitch(i)
            },
            onSetMaxDistance: function(t, e, i) {
                e != i && this.channel instanceof n.kc && this.channel.setMaxDistance(i)
            },
            onSetMinDistance: function(t, e, i) {
                e != i && this.channel instanceof n.kc && this.channel.setMinDistance(i)
            },
            onSetRollOffFactor: function(t, e, i) {
                e != i && this.channel instanceof n.kc && this.channel.setRollOffFactor(i)
            },
            onSetDistanceModel: function(t, e, i) {
                e !== i && this.channel instanceof n.kc && this.channel.setDistanceModel(i)
            },
            onSet3d: function(t, e, i) {
                if (e !== i && this.system.initialized && this.currentSource) {
                    var s = !1
                      , n = !1;
                    this.channel && (s = this.channel.paused,
                    n = this.channel.suspended),
                    this.play(this.currentSource),
                    this.channel && (this.channel.paused = s,
                    this.channel.suspended = n)
                }
            },
            onEnable: function() {
                var t = this.data.assets;
                if (t)
                    for (var e = this.system.app.assets, i = 0, s = t.length; i < s; i++) {
                        var r = t[i];
                        r instanceof n.Zf || (r = e.get(r)),
                        r && !r.resource && e.load(r)
                    }
                this.system.initialized && (this.data.activate && !this.channel ? this.play(this.currentSource) : this.unpause())
            },
            onDisable: function() {
                this.pause()
            },
            loadAudioSourceAssets: function(t) {
                var e = this
                  , i = t.map(function(t) {
                    return this.system.app.assets.get(t)
                }, this)
                  , s = {}
                  , n = null
                  , r = i.length
                  , a = function(t) {
                    r--
                }
                  , h = function() {
                    this.data.sources = s,
                    this.data.currentSource = n,
                    this.enabled && this.activate && n && this.onEnable()
                }
                .bind(this);
                i.forEach(function(i, c) {
                    i ? (n = n || i.name,
                    i.off("change", this.onAssetChanged, this),
                    i.on("change", this.onAssetChanged, this),
                    i.off("remove", this.onAssetRemoved, this),
                    i.on("remove", this.onAssetRemoved, this),
                    i.off("error", a, this),
                    i.on("error", a, this),
                    i.ready(function(t) {
                        s[t.name] = t.resource,
                        0 == --r && h()
                    }),
                    !i.resource && e.enabled && e.Bc.enabled && this.system.app.assets.load(i)) : (0 == --r && h(),
                    this.system.app.assets.on("add:" + t[c], function(t) {
                        t.ready(function(t) {
                            e.data.sources[t.name] = t.resource
                        }),
                        t.resource || e.system.app.assets.load(t)
                    }))
                }, this)
            }
        }),
        {
            tb: _i
        })),
        Object.assign(n, function() {
            var t = ["enabled", "assets", "volume", "pitch", "loop", "activate", "3d", "minDistance", "maxDistance", "rollOffFactor", "distanceModel", "sources", "currentSource", "channel"]
              , e = function(e, i) {
                n.Cl.call(this, e),
                this.id = "audiosource",
                this.description = "Specifies audio assets that can be played at the position of the Entity.",
                this.ComponentType = n.tb,
                this.DataType = n.eb,
                this.schema = t,
                this.manager = i,
                this.initialized = !1,
                n.Cl.bind("initialize", this.onInitialize, this),
                n.Cl.bind("update", this.onUpdate, this),
                this.on("remove", this.onRemove, this)
            };
            return (e.prototype = Object.create(n.Cl.prototype)).constructor = e,
            n.Component._buildAccessors(n.tb.prototype, t),
            Object.assign(e.prototype, {
                jl: function(t, e, i) {
                    i = ["activate", "volume", "pitch", "loop", "3d", "minDistance", "maxDistance", "rollOffFactor", "distanceModel", "enabled", "assets"],
                    n.Cl.prototype.jl.call(this, t, e, i),
                    t.paused = !(t.enabled && t.activate)
                },
                onInitialize: function(t) {
                    t.audiosource && t.enabled && t.audiosource.enabled && t.audiosource.activate && t.audiosource.play(t.audiosource.currentSource);
                    var e = t._children, i, s = e.length;
                    for (i = 0; i < s; i++)
                        e[i]instanceof n.Entity && this.onInitialize(e[i]);
                    this.initialized = !0
                },
                onUpdate: function(t) {
                    var e = this.store;
                    for (var i in e)
                        if (e.hasOwnProperty(i)) {
                            var s = e[i]
                              , r = s.Bc
                              , a = s.data;
                            if (a.enabled && r.enabled && a.channel instanceof n.kc) {
                                var h = r.getPosition();
                                a.channel.setPosition(h)
                            }
                        }
                },
                onRemove: function(t, e) {
                    e.channel && (e.channel.stop(),
                    e.channel = null)
                },
                setVolume: function(t) {
                    this.manager.setVolume(t)
                }
            }),
            {
                Gd: e
            }
        }()),
        n.eb = function t() {
            this.enabled = !0,
            this.assets = [],
            this.activate = !0,
            this.volume = 1,
            this.pitch = 1,
            this.loop = !1,
            this["3d"] = !0,
            this.minDistance = 1,
            this.maxDistance = 1e4,
            this.rollOffFactor = 1,
            this.distanceModel = n.Yc,
            this.paused = !0,
            this.sources = {},
            this.currentSource = null,
            this.channel = null
        }
        ,
        Object.assign(n, (((Ai = function(t, e) {
            n.Component.call(this, t, e)
        }
        ).prototype = Object.create(n.Component.prototype)).constructor = Ai,
        Object.assign(Ai.prototype, {
            setCurrentListener: function() {
                if (this.enabled && this.Bc.audiolistener && this.Bc.enabled) {
                    this.system.current = this.Bc;
                    var t = this.system.current.getPosition();
                    this.system.manager.listener.setPosition(t)
                }
            },
            onEnable: function() {
                this.setCurrentListener()
            },
            onDisable: function() {
                this.system.current === this.Bc && (this.system.current = null)
            }
        }),
        {
            sb: Ai
        })),
        Object.assign(n, function() {
            var t = ["enabled"]
              , e = function(e, i) {
                n.Cl.call(this, e),
                this.id = "audiolistener",
                this.description = "Specifies the location of the listener for 3D audio playback.",
                this.ComponentType = n.sb,
                this.DataType = n.nb,
                this.schema = t,
                this.manager = i,
                this.current = null,
                n.Cl.bind("update", this.onUpdate, this)
            };
            return (e.prototype = Object.create(n.Cl.prototype)).constructor = e,
            n.Component._buildAccessors(n.sb.prototype, t),
            Object.assign(e.prototype, {
                jl: function(t, e, i) {
                    i = ["enabled"],
                    n.Cl.prototype.jl.call(this, t, e, i)
                },
                onUpdate: function(t) {
                    if (this.current) {
                        var e = this.current.getPosition();
                        this.manager.listener.setPosition(e);
                        var i = this.current.getWorldTransform();
                        this.manager.listener.setOrientation(i)
                    }
                }
            }),
            {
                Yd: e
            }
        }()),
        Object.assign(n, {
            nb: function() {
                this.enabled = !0
            }
        }),
        Object.assign(n, {
            rb: "static",
            ab: "dynamic",
            hb: "kinematic",
            cb: 1,
            ob: 2,
            ub: 4,
            fb: 1,
            lb: 2,
            bb: 3,
            mb: 4,
            gb: 5,
            pb: 0,
            wb: 1,
            xb: 1,
            zb: 2,
            Ab: 4,
            yb: 8,
            Mb: 16,
            Sb: 32,
            Cb: 64,
            Ob: 128,
            Eb: 256,
            Db: 512,
            Tb: 1024,
            Pb: 2048,
            Bb: 4096,
            Ib: 8192,
            Rb: 16384,
            Lb: 0,
            Nb: 65535,
            Fb: 2,
            kb: 65533,
            Ub: 65529
        }),
        Object.assign(n, (((Di = function t(e, i) {
            n.Component.call(this, e, i),
            "undefined" == typeof Ammo || Mi || (Mi = new Ammo.btTransform,
            Si = new Ammo.btVector3,
            Ci = new Ammo.btVector3,
            Oi = new Ammo.btQuaternion,
            Ei = new Ammo.btVector3(0,0,0)),
            this.on("set_mass", this.onSetMass, this),
            this.on("set_linearDamping", this.onSetLinearDamping, this),
            this.on("set_angularDamping", this.onSetAngularDamping, this),
            this.on("set_linearFactor", this.onSetLinearFactor, this),
            this.on("set_angularFactor", this.onSetAngularFactor, this),
            this.on("set_friction", this.onSetFriction, this),
            this.on("set_restitution", this.onSetRestitution, this),
            this.on("set_type", this.onSetType, this),
            this.on("set_group", this.onSetGroupOrMask, this),
            this.on("set_mask", this.onSetGroupOrMask, this),
            this.on("set_body", this.onSetBody, this),
            this._displacement = new n.ut(0,0,0),
            this._linearVelocity = new n.ut(0,0,0),
            this._angularVelocity = new n.ut(0,0,0)
        }
        ).prototype = Object.create(n.Component.prototype)).constructor = Di,
        Object.defineProperty(Di.prototype, "bodyType", {
            get: function() {
                return this.type
            },
            set: function(t) {
                this.type = t
            }
        }),
        Object.defineProperty(Di.prototype, "linearVelocity", {
            get: function() {
                if (!this.isKinematic() && this.body) {
                    var t = this.body.getLinearVelocity();
                    this._linearVelocity.set(t.x(), t.y(), t.z())
                }
                return this._linearVelocity
            },
            set: function(t) {
                this.activate(),
                this.isKinematic() || this.body && (Si.setValue(t.x, t.y, t.z),
                this.body.setLinearVelocity(Si)),
                this._linearVelocity.copy(t)
            }
        }),
        Object.defineProperty(Di.prototype, "angularVelocity", {
            get: function() {
                if (!this.isKinematic() && this.body) {
                    var t = this.body.getAngularVelocity();
                    this._angularVelocity.set(t.x(), t.y(), t.z())
                }
                return this._angularVelocity
            },
            set: function(t) {
                this.activate(),
                this.isKinematic() || this.body && (Si.setValue(t.x, t.y, t.z),
                this.body.setAngularVelocity(Si)),
                this._angularVelocity.copy(t)
            }
        }),
        Object.assign(Di.prototype, {
            createBody: function() {
                var t = this.Bc, e;
                if (t.collision && (e = t.collision.shape,
                t.trigger && (t.trigger.destroy(),
                delete t.trigger)),
                e) {
                    this.body && (this.system.removeBody(this.body),
                    Ammo.destroy(this.body));
                    var i = this.isStaticOrKinematic()
                      , s = i ? 0 : this.mass
                      , r = new Ammo.btVector3(0,0,0);
                    i || e.calculateLocalInertia(s, r);
                    var a = t.getPosition()
                      , h = t.getRotation();
                    Oi.setValue(h.x, h.y, h.z, h.w);
                    var c = new Ammo.btTransform;
                    c.setIdentity(),
                    c.getOrigin().setValue(a.x, a.y, a.z),
                    c.setRotation(Oi);
                    var o = new Ammo.btDefaultMotionState(c), u = new Ammo.btRigidBodyConstructionInfo(s,o,e,r), f = new Ammo.btRigidBody(u), d;
                    f.setRestitution(this.restitution),
                    f.setFriction(this.friction),
                    f.setDamping(this.linearDamping, this.angularDamping),
                    d = this.linearFactor,
                    Si.setValue(d.x, d.y, d.z),
                    f.setLinearFactor(Si),
                    d = this.angularFactor,
                    Si.setValue(d.x, d.y, d.z),
                    f.setAngularFactor(Si),
                    f.Bc = t,
                    this.isKinematic() && (f.setCollisionFlags(f.getCollisionFlags() | n.ob),
                    f.setActivationState(n.mb)),
                    t.rigidbody.body = f,
                    this.enabled && this.Bc.enabled && this.enableSimulation()
                }
            },
            isActive: function() {
                return !!this.body && this.body.isActive()
            },
            activate: function() {
                this.body && this.body.activate()
            },
            enableSimulation: function() {
                if (this.Bc.collision && this.Bc.collision.enabled && !this.data.simulationEnabled) {
                    var t = this.body;
                    t && (this.system.addBody(t, this.group, this.mask),
                    this.isKinematic() ? (t.forceActivationState(n.mb),
                    t.activate()) : (t.forceActivationState(n.Vb),
                    this.syncEntityToBody()),
                    this.data.simulationEnabled = !0)
                }
            },
            disableSimulation: function() {
                var t = this.body;
                t && this.data.simulationEnabled && (this.system.removeBody(t),
                t.forceActivationState(n.gb),
                this.data.simulationEnabled = !1)
            },
            applyForce: function() {
                var t, e, i, s, n, r;
                switch (arguments.length) {
                case 1:
                    t = arguments[0].x,
                    e = arguments[0].y,
                    i = arguments[0].z;
                    break;
                case 2:
                    t = arguments[0].x,
                    e = arguments[0].y,
                    i = arguments[0].z,
                    s = arguments[1].x,
                    n = arguments[1].y,
                    r = arguments[1].z;
                    break;
                case 3:
                    t = arguments[0],
                    e = arguments[1],
                    i = arguments[2];
                    break;
                case 6:
                    t = arguments[0],
                    e = arguments[1],
                    i = arguments[2],
                    s = arguments[3],
                    n = arguments[4],
                    r = arguments[5]
                }
                var a = this.body;
                a && (a.activate(),
                Si.setValue(t, e, i),
                void 0 !== s ? (Ci.setValue(s, n, r),
                a.applyForce(Si, Ci)) : a.applyForce(Si, Ei))
            },
            applyTorque: function() {
                var t, e, i;
                switch (arguments.length) {
                case 1:
                    t = arguments[0].x,
                    e = arguments[0].y,
                    i = arguments[0].z;
                    break;
                case 3:
                    t = arguments[0],
                    e = arguments[1],
                    i = arguments[2];
                    break;
                default:
                    return
                }
                var s = this.body;
                s && (s.activate(),
                Si.setValue(t, e, i),
                s.applyTorque(Si))
            },
            applyImpulse: function() {
                var t, e, i, s, n, r;
                switch (arguments.length) {
                case 1:
                    t = arguments[0].x,
                    e = arguments[0].y,
                    i = arguments[0].z;
                    break;
                case 2:
                    t = arguments[0].x,
                    e = arguments[0].y,
                    i = arguments[0].z,
                    s = arguments[1].x,
                    n = arguments[1].y,
                    r = arguments[1].z;
                    break;
                case 3:
                    t = arguments[0],
                    e = arguments[1],
                    i = arguments[2];
                    break;
                case 6:
                    t = arguments[0],
                    e = arguments[1],
                    i = arguments[2],
                    s = arguments[3],
                    n = arguments[4],
                    r = arguments[5];
                    break;
                default:
                    return
                }
                var a = this.body;
                a && (a.activate(),
                Si.setValue(t, e, i),
                void 0 !== s ? (Ci.setValue(s, n, r),
                a.applyImpulse(Si, Ci)) : a.applyImpulse(Si, Ei))
            },
            applyTorqueImpulse: function() {
                var t, e, i;
                switch (arguments.length) {
                case 1:
                    t = arguments[0].x,
                    e = arguments[0].y,
                    i = arguments[0].z;
                    break;
                case 3:
                    t = arguments[0],
                    e = arguments[1],
                    i = arguments[2];
                    break;
                default:
                    return
                }
                var s = this.body;
                s && (s.activate(),
                Si.setValue(t, e, i),
                s.applyTorqueImpulse(Si))
            },
            isStatic: function() {
                return this.type === n.rb
            },
            isStaticOrKinematic: function() {
                return this.type === n.rb || this.type === n.hb
            },
            isKinematic: function() {
                return this.type === n.hb
            },
            syncEntityToBody: function() {
                var t = this.body;
                if (t) {
                    var e = this.Bc.getPosition()
                      , i = this.Bc.getRotation()
                      , s = t.getWorldTransform();
                    if (s.getOrigin().setValue(e.x, e.y, e.z),
                    Oi.setValue(i.x, i.y, i.z, i.w),
                    s.setRotation(Oi),
                    this.isKinematic()) {
                        var n = this.body.getMotionState();
                        n && n.setWorldTransform(s)
                    }
                    t.activate()
                }
            },
            syncBodyToEntity: function() {
                var t = this.body;
                if (t.isActive()) {
                    var e = t.getMotionState();
                    if (e) {
                        e.getWorldTransform(Mi);
                        var i = Mi.getOrigin()
                          , s = Mi.getRotation();
                        this.Bc.setPosition(i.x(), i.y(), i.z()),
                        this.Bc.setRotation(s.x(), s.y(), s.z(), s.w())
                    }
                }
            },
            teleport: function() {
                arguments.length < 3 ? (arguments[0] && this.Bc.setPosition(arguments[0]),
                arguments[1] && (arguments[1]instanceof n.bt ? this.Bc.setRotation(arguments[1]) : this.Bc.setEulerAngles(arguments[1]))) : (6 === arguments.length && this.Bc.setEulerAngles(arguments[3], arguments[4], arguments[5]),
                this.Bc.setPosition(arguments[0], arguments[1], arguments[2])),
                this.syncEntityToBody()
            },
            _updateKinematic: function(t) {
                if (this._displacement.copy(this._linearVelocity).scale(t),
                this.Bc.translate(this._displacement),
                this._displacement.copy(this._angularVelocity).scale(t),
                this.Bc.rotate(this._displacement.x, this._displacement.y, this._displacement.z),
                this.body.getMotionState()) {
                    var e = this.Bc.getPosition()
                      , i = this.Bc.getRotation();
                    Mi.getOrigin().setValue(e.x, e.y, e.z),
                    Oi.setValue(i.x, i.y, i.z, i.w),
                    Mi.setRotation(Oi),
                    this.body.getMotionState().setWorldTransform(Mi)
                }
            },
            onEnable: function() {
                this.body || this.createBody(),
                this.enableSimulation()
            },
            onDisable: function() {
                this.disableSimulation()
            },
            onSetMass: function(t, e, i) {
                var s = this.data.body;
                if (s) {
                    var n = this.enabled && this.Bc.enabled;
                    n && this.disableSimulation();
                    var r = i
                      , a = new Ammo.btVector3(0,0,0);
                    s.getCollisionShape().calculateLocalInertia(r, a),
                    s.setMassProps(r, a),
                    s.updateInertiaTensor(),
                    n && this.enableSimulation()
                }
            },
            onSetLinearDamping: function(t, e, i) {
                var s = this.data.body;
                s && s.setDamping(i, this.data.angularDamping)
            },
            onSetAngularDamping: function(t, e, i) {
                var s = this.data.body;
                s && s.setDamping(this.data.linearDamping, i)
            },
            onSetLinearFactor: function(t, e, i) {
                var s = this.data.body;
                s && (Si.setValue(i.x, i.y, i.z),
                s.setLinearFactor(Si))
            },
            onSetAngularFactor: function(t, e, i) {
                var s = this.data.body;
                s && (Si.setValue(i.x, i.y, i.z),
                s.setAngularFactor(Si))
            },
            onSetFriction: function(t, e, i) {
                var s = this.data.body;
                s && s.setFriction(i)
            },
            onSetRestitution: function(t, e, i) {
                var s = this.data.body;
                s && s.setRestitution(i)
            },
            onSetType: function(t, e, i) {
                i !== e && (this.disableSimulation(),
                i === n.ab ? (this.data.group = n.xb,
                this.data.mask = n.Nb) : i === n.hb ? (this.data.group = n.Ab,
                this.data.mask = n.Nb) : (this.data.group = n.zb,
                this.data.mask = n.kb),
                this.createBody())
            },
            onSetGroupOrMask: function(t, e, i) {
                var s;
                i !== e && this.enabled && this.Bc.enabled && (this.disableSimulation(),
                this.enableSimulation())
            },
            onSetBody: function(t, e, i) {
                this.body && this.data.simulationEnabled && this.body.activate()
            }
        }),
        {
            Hb: Di
        })),
        Object.assign(n, function() {
            var t, e, i = {}, s = {}, r = !1, a = function t(e, i, s) {
                this.Bc = e,
                this.point = i,
                this.normal = s
            }, h = function t(e, i, s) {
                0 === arguments.length ? (this.a = null,
                this.b = null,
                this.localPointA = new n.ut,
                this.localPointB = new n.ut,
                this.pointA = new n.ut,
                this.pointB = new n.ut,
                this.normal = new n.ut) : (this.a = e,
                this.b = i,
                this.localPointA = s.localPoint,
                this.localPointB = s.localPointOther,
                this.pointA = s.point,
                this.pointB = s.pointOther,
                this.normal = s.normal)
            }, c = function t(e, i, s, r, a) {
                0 === arguments.length ? (this.localPoint = new n.ut,
                this.localPointOther = new n.ut,
                this.point = new n.ut,
                this.pointOther = new n.ut,
                this.normal = new n.ut) : (this.localPoint = e,
                this.localPointOther = i,
                this.point = s,
                this.pointOther = r,
                this.normal = a)
            }, o = function t(e, i) {
                this.other = e,
                this.contacts = i
            }, u = ["enabled", "type", "mass", "linearDamping", "angularDamping", "linearFactor", "angularFactor", "friction", "restitution", "group", "mask", "body"], f = function t(e) {
                n.Cl.call(this, e),
                this.id = "rigidbody",
                this.description = "Adds the entity to the scene's physical simulation.",
                this._stats = e.stats.frame,
                this.ComponentType = n.Hb,
                this.DataType = n.Gb,
                this.contactPointPool = new n.J(c,1),
                this.contactResultPool = new n.J(o,1),
                this.singleContactResultPool = new n.J(h,1),
                this.schema = u,
                this.maxSubSteps = 10,
                this.fixedTimeStep = 1 / 60,
                this.on("remove", this.onRemove, this)
            };
            return (f.prototype = Object.create(n.Cl.prototype)).constructor = f,
            n.Component._buildAccessors(n.Hb.prototype, u),
            Object.assign(f.prototype, {
                El: function() {
                    if ("undefined" != typeof Ammo) {
                        var i = new Ammo.btDefaultCollisionConfiguration
                          , s = new Ammo.btCollisionDispatcher(i)
                          , r = new Ammo.btDbvtBroadphase
                          , a = new Ammo.btSequentialImpulseConstraintSolver;
                        this.dynamicsWorld = new Ammo.btDiscreteDynamicsWorld(s,r,a,i),
                        this._ammoGravity = new Ammo.btVector3(0,-9.82,0),
                        this.dynamicsWorld.setGravity(this._ammoGravity),
                        t = new Ammo.btVector3,
                        e = new Ammo.btVector3,
                        n.Cl.bind("update", this.onUpdate, this)
                    } else
                        n.Cl.unbind("update", this.onUpdate, this)
                },
                jl: function(t, e, i) {
                    for (var s = {}, r = 0, a = (i = ["enabled", "mass", "linearDamping", "angularDamping", "linearFactor", "angularFactor", "friction", "restitution", "type", "group", "mask"]).length; r < a; r++) {
                        var h = i[r];
                        s[h] = e[h]
                    }
                    e.bodyType && (s.type = e.bodyType),
                    s.linearFactor && "array" === n.type(s.linearFactor) && (s.linearFactor = new n.ut(s.linearFactor[0],s.linearFactor[1],s.linearFactor[2])),
                    s.angularFactor && "array" === n.type(s.angularFactor) && (s.angularFactor = new n.ut(s.angularFactor[0],s.angularFactor[1],s.angularFactor[2])),
                    n.Cl.prototype.jl.call(this, t, s, i)
                },
                cloneComponent: function(t, e) {
                    var i = {
                        enabled: t.rigidbody.enabled,
                        mass: t.rigidbody.mass,
                        linearDamping: t.rigidbody.linearDamping,
                        angularDamping: t.rigidbody.angularDamping,
                        linearFactor: [t.rigidbody.linearFactor.x, t.rigidbody.linearFactor.y, t.rigidbody.linearFactor.z],
                        angularFactor: [t.rigidbody.angularFactor.x, t.rigidbody.angularFactor.y, t.rigidbody.angularFactor.z],
                        friction: t.rigidbody.friction,
                        restitution: t.rigidbody.restitution,
                        type: t.rigidbody.type,
                        group: t.rigidbody.group,
                        mask: t.rigidbody.mask
                    };
                    this.Il(e, i)
                },
                onRemove: function(t, e) {
                    e.body && (this.removeBody(e.body),
                    Ammo.destroy(e.body)),
                    e.body = null
                },
                addBody: function(t, e, i) {
                    return void 0 !== e && void 0 !== i ? this.dynamicsWorld.addRigidBody(t, e, i) : this.dynamicsWorld.addRigidBody(t),
                    t
                },
                removeBody: function(t) {
                    this.dynamicsWorld.removeRigidBody(t)
                },
                addConstraint: function(t) {
                    return this.dynamicsWorld.addConstraint(t),
                    t
                },
                removeConstraint: function(t) {
                    this.dynamicsWorld.removeConstraint(t)
                },
                setGravity: function() {
                    var t, e, i;
                    1 === arguments.length ? (t = arguments[0].x,
                    e = arguments[0].y,
                    i = arguments[0].z) : (t = arguments[0],
                    e = arguments[1],
                    i = arguments[2]),
                    this._ammoGravity.setValue(t, e, i),
                    this.dynamicsWorld.setGravity(this._ammoGravity)
                },
                raycastFirst: function(i, s) {
                    var h = null;
                    t.setValue(i.x, i.y, i.z),
                    e.setValue(s.x, s.y, s.z);
                    var c = new Ammo.ClosestRayResultCallback(t,e);
                    if (this.dynamicsWorld.rayTest(t, e, c),
                    c.hasHit()) {
                        var o = c.get_m_collisionObject()
                          , u = Ammo.castObject(o, Ammo.btRigidBody);
                        if (u) {
                            var f = c.get_m_hitPointWorld(), d = c.get_m_hitNormalWorld(), l;
                            if (h = new a(u.Bc,new n.ut(f.x(),f.y(),f.z()),new n.ut(d.x(),d.y(),d.z())),
                            arguments.length > 2)
                                (0,
                                arguments[2])(h),
                                r || (r = !0)
                        }
                    }
                    return Ammo.destroy(c),
                    h
                },
                _storeCollision: function(t, e) {
                    var n = !1
                      , r = t.getGuid();
                    return i[r] = i[r] || {
                        others: [],
                        Bc: t
                    },
                    i[r].others.indexOf(e) < 0 && (i[r].others.push(e),
                    n = !0),
                    s[r] = s[r] || {
                        others: [],
                        Bc: t
                    },
                    s[r].others.push(e),
                    n
                },
                _createContactPointFromAmmo: function(t) {
                    var e = this.contactPointPool.allocate();
                    return e.localPoint.set(t.get_m_localPointA().x(), t.get_m_localPointA().y(), t.get_m_localPointA().z()),
                    e.localPointOther.set(t.get_m_localPointB().x(), t.get_m_localPointB().y(), t.get_m_localPointB().z()),
                    e.point.set(t.getPositionWorldOnA().x(), t.getPositionWorldOnA().y(), t.getPositionWorldOnA().z()),
                    e.pointOther.set(t.getPositionWorldOnB().x(), t.getPositionWorldOnB().y(), t.getPositionWorldOnB().z()),
                    e.normal.set(t.get_m_normalWorldOnB().x(), t.get_m_normalWorldOnB().y(), t.get_m_normalWorldOnB().z()),
                    e
                },
                _createReverseContactPointFromAmmo: function(t) {
                    var e = this.contactPointPool.allocate();
                    return e.localPointOther.set(t.get_m_localPointA().x(), t.get_m_localPointA().y(), t.get_m_localPointA().z()),
                    e.localPoint.set(t.get_m_localPointB().x(), t.get_m_localPointB().y(), t.get_m_localPointB().z()),
                    e.pointOther.set(t.getPositionWorldOnA().x(), t.getPositionWorldOnA().y(), t.getPositionWorldOnA().z()),
                    e.point.set(t.getPositionWorldOnB().x(), t.getPositionWorldOnB().y(), t.getPositionWorldOnB().z()),
                    e.normal.set(t.get_m_normalWorldOnB().x(), t.get_m_normalWorldOnB().y(), t.get_m_normalWorldOnB().z()),
                    e
                },
                _createSingleContactResult: function(t, e, i) {
                    var s = this.singleContactResultPool.allocate();
                    return s.a = t,
                    s.b = e,
                    s.localPointA = i.localPoint,
                    s.localPointB = i.localPointOther,
                    s.pointA = i.point,
                    s.pointB = i.pointOther,
                    s.normal = i.normal,
                    s
                },
                _createContactResult: function(t, e) {
                    var i = this.contactResultPool.allocate();
                    return i.other = t,
                    i.contacts = e,
                    i
                },
                _cleanOldCollisions: function() {
                    for (var t in i)
                        if (i.hasOwnProperty(t)) {
                            for (var e = i[t].Bc, n = e.collision, r = i[t].others, a, h = r.length; h--; ) {
                                var c = r[h];
                                (!s[t] || s[t].others.indexOf(c) < 0) && (r.splice(h, 1),
                                n && c.collision && (e.rigidbody && c.rigidbody ? n.fire("collisionend", c) : e.trigger && n.fire("triggerleave", c)))
                            }
                            0 === r.length && delete i[t]
                        }
                },
                onUpdate: function(t) {
                    this.dynamicsWorld.stepSimulation(t, this.maxSubSteps, this.fixedTimeStep);
                    var e = this.store;
                    for (var i in e)
                        if (e.hasOwnProperty(i)) {
                            var r = e[i].Bc
                              , a = e[i].data;
                            a.body && a.body.isActive() && a.enabled && r.enabled && (a.type === n.ab ? r.rigidbody.syncBodyToEntity() : a.type === n.hb && r.rigidbody._updateKinematic(t))
                        }
                    var h = this.dynamicsWorld.getDispatcher(), c = h.getNumManifolds(), o, u;
                    for (s = {},
                    o = 0; o < c; o++) {
                        var f = h.getManifoldByIndexInternal(o)
                          , d = f.getBody0()
                          , l = f.getBody1()
                          , b = Ammo.castObject(d, Ammo.btRigidBody)
                          , v = Ammo.castObject(l, Ammo.btRigidBody)
                          , m = b.Bc
                          , g = v.Bc;
                        if (m && g) {
                            var p = d.getCollisionFlags(), w = l.getCollisionFlags(), x = f.getNumContacts(), z = [], _ = [], A, y, M;
                            if (x > 0)
                                if (p & n.ub || w & n.ub)
                                    y = !!m.collision && (m.collision.hasEvent("triggerenter") || m.collision.hasEvent("triggerleave")),
                                    M = !!g.collision && (g.collision.hasEvent("triggerenter") || g.collision.hasEvent("triggerleave")),
                                    y && (A = this._storeCollision(m, g)) && (!m.collision || w & n.ub || m.collision.fire("triggerenter", g)),
                                    M && (A = this._storeCollision(g, m)) && (!g.collision || p & n.ub || g.collision.fire("triggerenter", m));
                                else {
                                    y = !!m.collision && (m.collision.hasEvent("collisionstart") || m.collision.hasEvent("collisionend") || m.collision.hasEvent("contact")),
                                    M = !!g.collision && (g.collision.hasEvent("collisionstart") || g.collision.hasEvent("collisionend") || g.collision.hasEvent("contact"));
                                    var S = this.hasEvent("contact");
                                    if (S || y || M) {
                                        for (u = 0; u < x; u++) {
                                            var C = f.getContactPoint(u)
                                              , O = this._createContactPointFromAmmo(C)
                                              , E = null;
                                            if ((y || M) && (E = this._createReverseContactPointFromAmmo(C),
                                            z.push(O),
                                            _.push(E)),
                                            S) {
                                                var D = this._createSingleContactResult(m, g, O);
                                                this.fire("contact", D)
                                            }
                                        }
                                        if (y) {
                                            var T = this._createContactResult(g, z);
                                            m.collision && m.collision.fire("contact", T),
                                            (A = this._storeCollision(m, g)) && m.collision && m.collision.fire("collisionstart", T)
                                        }
                                        if (M) {
                                            var P = this._createContactResult(m, _);
                                            g.collision && g.collision.fire("contact", P),
                                            (A = this._storeCollision(g, m)) && g.collision && g.collision.fire("collisionstart", P)
                                        }
                                    }
                                }
                        }
                    }
                    this._cleanOldCollisions(),
                    this.contactPointPool.freeAll(),
                    this.contactResultPool.freeAll(),
                    this.singleContactResultPool.freeAll()
                }
            }),
            {
                Wb: "static",
                Yb: "dynamic",
                Xb: "kinematic",
                Kb: 1,
                Qb: 2,
                Jb: 4,
                qb: 1,
                Zb: 2,
                $b: 3,
                tv: 4,
                ev: 5,
                Rd: f
            }
        }()),
        Object.assign(n, {
            Gb: function() {
                this.enabled = !0,
                this.mass = 1,
                this.linearDamping = 0,
                this.angularDamping = 0,
                this.linearFactor = new n.ut(1,1,1),
                this.angularFactor = new n.ut(1,1,1),
                this.friction = .5,
                this.restitution = 0,
                this.type = n.rb,
                this.group = n.zb,
                this.mask = n.kb,
                this.body = null,
                this.simulationEnabled = !1
            }
        }),
        Object.assign(n, function() {
            var t, e, i = function i(s, n, r) {
                this.Bc = n.Bc,
                this.component = n,
                this.app = s,
                "undefined" != typeof Ammo && (t = new Ammo.btVector3,
                e = new Ammo.btQuaternion),
                this.initialize(r)
            };
            return Object.assign(i.prototype, {
                initialize: function(i) {
                    var s = this.Bc
                      , r = i.shape;
                    if (r && "undefined" != typeof Ammo) {
                        s.trigger && s.trigger.destroy();
                        var a = 1
                          , h = new Ammo.btVector3(0,0,0);
                        r.calculateLocalInertia(1, h);
                        var c = s.getPosition()
                          , o = s.getRotation();
                        e.setValue(o.x, o.y, o.z, o.w);
                        var u = new Ammo.btTransform;
                        u.setIdentity(),
                        u.getOrigin().setValue(c.x, c.y, c.z),
                        u.setRotation(e);
                        var f = new Ammo.btDefaultMotionState(u)
                          , d = new Ammo.btRigidBodyConstructionInfo(1,f,r,h)
                          , l = new Ammo.btRigidBody(d);
                        this.body = l,
                        l.setRestitution(0),
                        l.setFriction(0),
                        l.setDamping(0, 0),
                        t.setValue(0, 0, 0),
                        l.setLinearFactor(t),
                        l.setAngularFactor(t),
                        l.setCollisionFlags(l.getCollisionFlags() | n.ub),
                        l.Bc = s,
                        this.component.enabled && s.enabled && this.enable()
                    }
                },
                destroy: function() {
                    this.body && this.app.systems.rigidbody.removeBody(this.body)
                },
                syncEntityToBody: function() {
                    var t = this.body;
                    if (t) {
                        var i = this.Bc.getPosition()
                          , s = this.Bc.getRotation()
                          , n = t.getWorldTransform();
                        n.getOrigin().setValue(i.x, i.y, i.z),
                        e.setValue(s.x, s.y, s.z, s.w),
                        n.setRotation(e),
                        t.activate()
                    }
                },
                enable: function() {
                    var t = this.body;
                    t && (this.app.systems.rigidbody.addBody(t, n.Mb, n.kb ^ n.Mb),
                    t.forceActivationState(n.fb),
                    t.activate(),
                    this.syncEntityToBody())
                },
                disable: function() {
                    var t = this.body;
                    t && (this.app.systems.rigidbody.removeBody(t),
                    t.forceActivationState(n.gb))
                }
            }),
            {
                Trigger: i
            }
        }()),
        Object.assign(n, (((Pi = function t(e, i) {
            n.Component.call(this, e, i),
            this.on("set_type", this.onSetType, this),
            this.on("set_halfExtents", this.onSetHalfExtents, this),
            this.on("set_radius", this.onSetRadius, this),
            this.on("set_height", this.onSetHeight, this),
            this.on("set_axis", this.onSetAxis, this),
            this.on("set_asset", this.onSetAsset, this),
            this.on("set_model", this.onSetModel, this)
        }
        ).prototype = Object.create(n.Component.prototype)).constructor = Pi,
        Object.assign(Pi.prototype, {
            onSetType: function(t, e, i) {
                e !== i && this.system.changeType(this, e, i)
            },
            onSetHalfExtents: function(t, e, i) {
                this.data.initialized && "box" === this.data.type && this.system.recreatePhysicalShapes(this)
            },
            onSetRadius: function(t, e, i) {
                !this.data.initialized || "sphere" !== this.data.type && "capsule" !== this.data.type && "cylinder" !== this.data.type || this.system.recreatePhysicalShapes(this)
            },
            onSetHeight: function(t, e, i) {
                !this.data.initialized || "capsule" !== this.data.type && "cylinder" !== this.data.type || this.system.recreatePhysicalShapes(this)
            },
            onSetAxis: function(t, e, i) {
                !this.data.initialized || "capsule" !== this.data.type && "cylinder" !== this.data.type || this.system.recreatePhysicalShapes(this)
            },
            onSetAsset: function(t, e, i) {
                var s, r = this.system.app.assets;
                e && (s = r.get(e)) && s.off("remove", this.onAssetRemoved, this),
                i && (i instanceof n.Zf && (this.data.asset = i.id),
                (s = r.get(this.data.asset)) && (s.off("remove", this.onAssetRemoved, this),
                s.on("remove", this.onAssetRemoved, this))),
                this.data.initialized && "mesh" === this.data.type && (i || (this.data.model = null),
                this.system.recreatePhysicalShapes(this))
            },
            onSetModel: function(t, e, i) {
                this.data.initialized && "mesh" === this.data.type && this.system.implementations.mesh.doRecreatePhysicalShape(this)
            },
            onAssetRemoved: function(t) {
                t.off("remove", this.onAssetRemoved, this),
                this.data.asset === t.id && (this.asset = null)
            },
            onEnable: function() {
                if ("mesh" === this.data.type && this.data.asset && this.data.initialized) {
                    var t = this.system.app.assets.get(this.data.asset);
                    if (t && (!t.resource || !this.data.shape))
                        return void this.system.recreatePhysicalShapes(this)
                }
                this.Bc.trigger ? this.Bc.trigger.enable() : this.Bc.rigidbody && this.Bc.rigidbody.enabled && this.Bc.rigidbody.enableSimulation()
            },
            onDisable: function() {
                this.Bc.trigger ? this.Bc.trigger.disable() : this.Bc.rigidbody && this.Bc.rigidbody.disableSimulation()
            }
        }),
        {
            iv: Pi
        })),
        Object.assign(n, function() {
            var t = ["enabled", "type", "halfExtents", "radius", "axis", "height", "asset", "shape", "model"]
              , e = function(t) {
                this.system = t
            };
            Object.assign(e.prototype, {
                beforeInitialize: function(t, e) {
                    e.shape = this.createPhysicalShape(t.Bc, e),
                    e.model = new n.Xh,
                    e.model.graph = new n.Gh
                },
                afterInitialize: function(t, e) {
                    this.recreatePhysicalShapes(t),
                    t.data.initialized = !0
                },
                reset: function(t, e) {
                    this.beforeInitialize(t, e),
                    this.afterInitialize(t, e)
                },
                recreatePhysicalShapes: function(t) {
                    var e = t.Bc
                      , i = t.data;
                    "undefined" != typeof Ammo && (i.shape = this.createPhysicalShape(t.Bc, i),
                    e.rigidbody ? (e.rigidbody.disableSimulation(),
                    e.rigidbody.createBody()) : e.trigger ? e.trigger.initialize(i) : e.trigger = new n.Trigger(this.system.app,t,i))
                },
                createPhysicalShape: function(t, e) {},
                updateTransform: function(t, e, i, s) {
                    t.Bc.trigger && t.Bc.trigger.syncEntityToBody()
                },
                remove: function(t, e) {
                    var i = this.system.app;
                    t.rigidbody && t.rigidbody.body && (i.systems.rigidbody.removeBody(t.rigidbody.body),
                    t.rigidbody.disableSimulation()),
                    t.trigger && (t.trigger.destroy(),
                    delete t.trigger),
                    i.scene.containsModel(e.model) && (i.root.removeChild(e.model.graph),
                    i.scene.removeModel(e.model))
                },
                clone: function(t, e) {
                    var i = this.system.store[t.getGuid()]
                      , s = {
                        enabled: i.data.enabled,
                        type: i.data.type,
                        halfExtents: [i.data.halfExtents.x, i.data.halfExtents.y, i.data.halfExtents.z],
                        radius: i.data.radius,
                        axis: i.data.axis,
                        height: i.data.height,
                        asset: i.data.asset,
                        model: i.data.model
                    };
                    return this.system.Il(e, s)
                }
            });
            var i = function(t) {
                e.call(this, t)
            };
            (i.prototype = Object.create(e.prototype)).constructor = i,
            Object.assign(i.prototype, {
                createPhysicalShape: function(t, e) {
                    if ("undefined" != typeof Ammo) {
                        var i = e.halfExtents
                          , s = new Ammo.btVector3(i ? i.x : .5,i ? i.y : .5,i ? i.z : .5);
                        return new Ammo.btBoxShape(s)
                    }
                }
            });
            var s = function(t) {
                e.call(this, t)
            };
            (s.prototype = Object.create(e.prototype)).constructor = s,
            Object.assign(s.prototype, {
                createPhysicalShape: function(t, e) {
                    if ("undefined" != typeof Ammo)
                        return new Ammo.btSphereShape(e.radius)
                }
            });
            var r = function(t) {
                e.call(this, t)
            };
            (r.prototype = Object.create(e.prototype)).constructor = r,
            Object.assign(r.prototype, {
                createPhysicalShape: function(t, e) {
                    var i = null
                      , s = void 0 !== e.axis ? e.axis : 1
                      , n = e.radius || .5
                      , r = Math.max((e.height || 2) - 2 * n, 0);
                    if ("undefined" != typeof Ammo)
                        switch (s) {
                        case 0:
                            i = new Ammo.btCapsuleShapeX(n,r);
                            break;
                        case 1:
                            i = new Ammo.btCapsuleShape(n,r);
                            break;
                        case 2:
                            i = new Ammo.btCapsuleShapeZ(n,r)
                        }
                    return i
                }
            });
            var a = function(t) {
                e.call(this, t)
            };
            (a.prototype = Object.create(e.prototype)).constructor = a,
            Object.assign(a.prototype, {
                createPhysicalShape: function(t, e) {
                    var i = null
                      , s = null
                      , n = void 0 !== e.axis ? e.axis : 1
                      , r = void 0 !== e.radius ? e.radius : .5
                      , a = void 0 !== e.height ? e.height : 1;
                    if ("undefined" != typeof Ammo)
                        switch (n) {
                        case 0:
                            i = new Ammo.btVector3(.5 * a,r,r),
                            s = new Ammo.btCylinderShapeX(i);
                            break;
                        case 1:
                            i = new Ammo.btVector3(r,.5 * a,r),
                            s = new Ammo.btCylinderShape(i);
                            break;
                        case 2:
                            i = new Ammo.btVector3(r,r,.5 * a),
                            s = new Ammo.btCylinderShapeZ(i)
                        }
                    return s
                }
            });
            var h = function(t) {
                e.call(this, t)
            };
            (h.prototype = Object.create(e.prototype)).constructor = h,
            Object.assign(h.prototype, {
                beforeInitialize: function(t, e) {},
                createPhysicalShape: function(t, e) {
                    if ("undefined" != typeof Ammo && e.model) {
                        var i = e.model, s = new Ammo.btCompoundShape, r, a;
                        for (r = 0; r < i.meshInstances.length; r++) {
                            var h = i.meshInstances[r], c = h.mesh, o = c.cn[n.th], u = c.nn, f = u.getFormat(), d = f.size / 4, l;
                            for (a = 0; a < f.elements.length; a++) {
                                var b = f.elements[a];
                                b.name === n.Yi && (l = new Float32Array(u.lock(),b.offset))
                            }
                            var v = new Uint16Array(o.lock()), m = c.Zh[0].count / 3, g = new Ammo.btVector3, p = new Ammo.btVector3, w = new Ammo.btVector3, x, z, _, A = c.Zh[0].base, y = new Ammo.btTriangleMesh;
                            for (a = 0; a < m; a++)
                                x = v[A + 3 * a] * d,
                                z = v[A + 3 * a + 1] * d,
                                _ = v[A + 3 * a + 2] * d,
                                g.setValue(l[x], l[x + 1], l[x + 2]),
                                p.setValue(l[z], l[z + 1], l[z + 2]),
                                w.setValue(l[_], l[_ + 1], l[_ + 2]),
                                y.addTriangle(g, p, w, !0);
                            var M = !0, S = new Ammo.btBvhTriangleMeshShape(y,!0), C, O = h.node.getWorldTransform().getScale();
                            S.setLocalScaling(new Ammo.btVector3(O.x,O.y,O.z));
                            var E = h.node.getPosition()
                              , D = h.node.getRotation()
                              , T = new Ammo.btTransform;
                            T.setIdentity(),
                            T.getOrigin().setValue(E.x, E.y, E.z);
                            var P = new Ammo.btQuaternion;
                            P.setValue(D.x, D.y, D.z, D.w),
                            T.setRotation(P),
                            s.addChildShape(T, S)
                        }
                        var B, I = t.getWorldTransform().getScale(), j = new Ammo.btVector3;
                        return j.setValue(I.x, I.y, I.z),
                        s.setLocalScaling(j),
                        s
                    }
                },
                recreatePhysicalShapes: function(t) {
                    var e;
                    null !== t.data.asset && t.enabled && t.Bc.enabled ? this.loadModelAsset(t) : this.doRecreatePhysicalShape(t)
                },
                loadModelAsset: function(t) {
                    var e = this
                      , i = t.data.asset
                      , s = t.data
                      , n = this.system.app.assets
                      , r = n.get(i);
                    r ? (r.ready(function(i) {
                        s.model = i.resource,
                        e.doRecreatePhysicalShape(t)
                    }),
                    n.load(r)) : n.once("add:" + i, function(i) {
                        i.ready(function(i) {
                            s.model = i.resource,
                            e.doRecreatePhysicalShape(t)
                        }),
                        n.load(i)
                    })
                },
                doRecreatePhysicalShape: function(t) {
                    var e = t.Bc
                      , i = t.data;
                    i.model ? (i.shape && Ammo.destroy(i.shape),
                    i.shape = this.createPhysicalShape(e, i),
                    e.rigidbody ? e.rigidbody.createBody() : e.trigger ? e.trigger.initialize(i) : e.trigger = new n.Trigger(this.system.app,t,i)) : this.remove(e, i)
                },
                updateTransform: function(t, e, i, s) {
                    if (t.shape) {
                        var r, a = t.Bc.getWorldTransform().getScale(), h = t.shape.getLocalScaling();
                        a.x === h.x() && a.y === h.y() && a.z === h.z() || this.doRecreatePhysicalShape(t)
                    }
                    n.CollisionSystemImpl.prototype.updateTransform.call(this, t, e, i, s)
                }
            });
            var c = function e(i) {
                n.Cl.call(this, i),
                this.id = "collision",
                this.description = "Specifies a collision volume.",
                this.ComponentType = n.iv,
                this.DataType = n.sv,
                this.schema = t,
                this.implementations = {},
                this.on("remove", this.onRemove, this),
                n.Cl.bind("update", this.onUpdate, this)
            };
            return (c.prototype = Object.create(n.Cl.prototype)).constructor = c,
            n.Component._buildAccessors(n.iv.prototype, t),
            Object.assign(c.prototype, {
                El: function() {
                    "undefined" != typeof Ammo || n.Cl.unbind("update", this.onUpdate, this)
                },
                jl: function(t, e, i) {
                    for (var s = {}, r = 0, a = (i = ["type", "halfExtents", "radius", "axis", "height", "shape", "model", "asset", "enabled"]).length, h; r < a; r++) {
                        var c = i[r];
                        s[c] = e[c]
                    }
                    e.hasOwnProperty("asset") ? -1 !== (h = i.indexOf("model")) && i.splice(h, 1) : e.hasOwnProperty("model") && -1 !== (h = i.indexOf("asset")) && i.splice(h, 1),
                    s.type || (s.type = t.data.type),
                    t.data.type = s.type,
                    s.halfExtents && "array" === n.type(s.halfExtents) && (s.halfExtents = new n.ut(s.halfExtents[0],s.halfExtents[1],s.halfExtents[2]));
                    var o = this._createImplementation(s.type);
                    o.beforeInitialize(t, s),
                    n.Cl.prototype.jl.call(this.system, t, s, i),
                    o.afterInitialize(t, s)
                },
                _createImplementation: function(t) {
                    if (void 0 === this.implementations[t]) {
                        var e;
                        switch (t) {
                        case "box":
                            e = new i(this);
                            break;
                        case "sphere":
                            e = new s(this);
                            break;
                        case "capsule":
                            e = new r(this);
                            break;
                        case "cylinder":
                            e = new a(this);
                            break;
                        case "mesh":
                            e = new h(this)
                        }
                        this.implementations[t] = e
                    }
                    return this.implementations[t]
                },
                _getImplementation: function(t) {
                    return this.implementations[t.collision.data.type]
                },
                cloneComponent: function(t, e) {
                    return this._getImplementation(t).clone(t, e)
                },
                onRemove: function(t, e) {
                    this.implementations[e.type].remove(t, e)
                },
                onUpdate: function(t) {
                    var e, i, s, n = this.store;
                    for (e in n)
                        i = n[e].Bc,
                        (s = n[e].data).enabled && i.enabled && !i.rigidbody && i.trigger && i.trigger.syncEntityToBody()
                },
                onTransformChanged: function(t, e, i, s) {
                    this.implementations[t.data.type].updateTransform(t, e, i, s)
                },
                changeType: function(t, e, i) {
                    this.implementations[e].remove(t.Bc, t.data),
                    this._createImplementation(i).reset(t, t.data)
                },
                recreatePhysicalShapes: function(t) {
                    this.implementations[t.data.type].recreatePhysicalShapes(t)
                }
            }),
            {
                Ld: c
            }
        }()),
        Object.assign(n, {
            sv: function() {
                this.enabled = !0,
                this.type = "box",
                this.halfExtents = new n.ut(.5,.5,.5),
                this.radius = .5,
                this.axis = 1,
                this.height = 2,
                this.asset = null,
                this.shape = null,
                this.model = null,
                this.initialized = !1
            }
        }),
        Object.assign(n, (Ii = ["emitterExtents", "emitterRadius", "loop", "initialVelocity", "animSpeed", "normalMap"],
        ji = ["numParticles", "lifetime", "rate", "rate2", "startAngle", "startAngle2", "lighting", "halfLambert", "intensity", "wrap", "wrapBounds", "depthWrite", "noFog", "sort", "stretch", "alignToMotion", "preWarm", "emitterShape", "animTilesX", "animTilesY", "animFrames", "animLoop", "colorMap", "localSpace"],
        Ri = ["scaleGraph", "scaleGraph2", "colorGraph", "colorGraph2", "alphaGraph", "alphaGraph2", "velocityGraph", "velocityGraph2", "localVelocityGraph", "localVelocityGraph2", "rotationSpeedGraph", "rotationSpeedGraph2"],
        Li = ["colorMapAsset", "normalMapAsset", "meshAsset"],
        ((Fi = function t(e, i) {
            n.Component.call(this, e, i),
            this.on("set_colorMapAsset", this.onSetColorMapAsset, this),
            this.on("set_normalMapAsset", this.onSetNormalMapAsset, this),
            this.on("set_meshAsset", this.onSetMeshAsset, this),
            this.on("set_mesh", this.onSetMesh, this),
            this.on("set_loop", this.onSetLoop, this),
            this.on("set_blendType", this.onSetBlendType, this),
            this.on("set_depthSoftening", this.onSetDepthSoftening, this),
            this.on("set_layers", this.onSetLayers, this),
            Ii.forEach(function(t) {
                this.on("set_" + t, this.onSetSimpleProperty, this)
            }
            .bind(this)),
            ji.forEach(function(t) {
                this.on("set_" + t, this.onSetComplexProperty, this)
            }
            .bind(this)),
            Ri.forEach(function(t) {
                this.on("set_" + t, this.onSetGraphProperty, this)
            }
            .bind(this)),
            this._requestedDepth = !1
        }
        ).prototype = Object.create(n.Component.prototype)).constructor = Fi,
        Object.assign(Fi.prototype, {
            addModelToLayers: function() {
                if (this.data.model)
                    for (var t, e = 0; e < this.layers.length; e++)
                        (t = this.system.app.scene.layers.getLayerById(this.layers[e])) && (t.addMeshInstances(this.data.model.meshInstances),
                        this.emitter._layer = t)
            },
            removeModelFromLayers: function(t) {
                if (this.data.model)
                    for (var e, i = 0; i < this.layers.length; i++)
                        (e = this.system.app.scene.layers.getLayerById(this.layers[i])) && e.removeMeshInstances(this.data.model.meshInstances)
            },
            onSetLayers: function(t, e, i) {
                if (this.data.model) {
                    var s, n;
                    for (s = 0; s < e.length; s++)
                        (n = this.system.app.scene.layers.getLayerById(e[s])) && n.removeMeshInstances(this.data.model.meshInstances);
                    if (this.enabled && this.Bc.enabled)
                        for (s = 0; s < i.length; s++)
                            (n = this.system.app.scene.layers.getLayerById(i[s])) && n.addMeshInstances(this.data.model.meshInstances)
                }
            },
            onLayersChanged: function(t, e) {
                this.addModelToLayers(),
                t.off("add", this.onLayerAdded, this),
                t.off("remove", this.onLayerRemoved, this),
                e.on("add", this.onLayerAdded, this),
                e.on("remove", this.onLayerRemoved, this)
            },
            onLayerAdded: function(t) {
                var e;
                this.data.model && (this.layers.indexOf(t.id) < 0 || t.addMeshInstances(this.data.model.meshInstances))
            },
            onLayerRemoved: function(t) {
                var e;
                this.data.model && (this.layers.indexOf(t.id) < 0 || t.removeMeshInstances(this.data.model.meshInstances))
            },
            _bindColorMapAsset: function(t) {
                t.once("remove", this._onColorMapRemoved, this),
                t.resource ? this.colorMap = t.resource : (t.once("load", this._onColorMapLoad, this),
                this.enabled && this.Bc.enabled && this.system.app.assets.load(t))
            },
            _unbindColorMapAsset: function(t) {
                t.off("remove", this._onColorMapRemoved, this),
                t.off("load", this._onColorMapLoad, this)
            },
            _onColorMapLoad: function(t) {
                this.colorMap = t.resource
            },
            _onColorMapRemoved: function(t) {
                this.colorMapAsset = null
            },
            onSetColorMapAsset: function(t, e, i) {
                var s = this, r, a = this.system.app.assets;
                e && (r = a.get(e)) && this._unbindColorMapAsset(r),
                i ? (i instanceof n.Zf && (this.data.colorMapAsset = i.id,
                i = i.id),
                (r = a.get(i)) ? s._bindColorMapAsset(r) : a.once("add:" + i, function(t) {
                    s._bindColorMapAsset(t)
                })) : this.colorMap = null
            },
            _bindNormalMapAsset: function(t) {
                t.once("remove", this._onNormalMapRemoved, this),
                t.resource ? this.normalMap = t.resource : (t.once("load", this._onNormalMapLoad, this),
                this.enabled && this.Bc.enabled && this.system.app.assets.load(t))
            },
            _unbindNormalMapAsset: function(t) {
                t.off("remove", this._onNormalMapRemoved, this),
                t.off("load", this._onNormalMapLoad, this)
            },
            _onNormalMapLoad: function(t) {
                this.normalMap = t.resource
            },
            _onNormalMapRemoved: function(t) {
                this.normalMapAsset = null
            },
            onSetNormalMapAsset: function(t, e, i) {
                var s = this, r, a = this.system.app.assets;
                e && (r = a.get(e)) && this._unbindNormalMapAsset(r),
                i ? (i instanceof n.Zf && (this.data.normalMapAsset = i.id,
                i = i.id),
                (r = a.get(i)) ? s._bindNormalMapAsset(r) : a.once("add:" + i, function(t) {
                    s._bindNormalMapAsset(t)
                })) : this.normalMap = null
            },
            _bindMeshAsset: function(t) {
                t.on("remove", this._onMeshAssetRemoved, this),
                t.on("load", this._onMeshAssetLoad, this)
            },
            _unbindMeshAsset: function(t) {
                t.off("remove", this._onMeshAssetRemoved, this),
                t.off("load", this._onMeshAssetLoad, this)
            },
            _onMeshAssetLoad: function(t) {
                this._onMeshChanged(t.resource)
            },
            onSetMeshAsset: function(t, e, i) {
                var s, r = this.system.app.assets;
                e && (s = r.get(e)) && this._unbindMeshAsset(s),
                i ? (i instanceof n.Zf && (this.data.meshAsset = i.id,
                i = i.id),
                (s = r.get(i)) && (this._bindMeshAsset(s),
                s.resource ? this._onMeshChanged(s.resource) : r.load(s))) : this._onMeshChanged(null)
            },
            onSetMesh: function(t, e, i) {
                !i || i instanceof n.Zf || "number" == typeof i ? this.meshAsset = i : this._onMeshChanged(i)
            },
            _onMeshChanged: function(t) {
                !t || t instanceof n.Mesh || (t = t.meshInstances[0] ? t.meshInstances[0].mesh : null),
                this.data.mesh = t,
                this.emitter && (this.emitter.mesh = t,
                this.emitter.resetMaterial(),
                this.rebuild())
            },
            onMeshAssetRemoved: function(t) {
                t.off("remove", this.onMeshAssetRemoved, this),
                this.mesh = null
            },
            onSetLoop: function(t, e, i) {
                this.emitter && (this.emitter[t] = i,
                this.emitter.resetTime())
            },
            onSetBlendType: function(t, e, i) {
                this.emitter && (this.emitter[t] = i,
                this.emitter.material.blendType = i,
                this.emitter.resetMaterial(),
                this.rebuild())
            },
            _requestDepth: function() {
                this._requestedDepth || (Ni || (Ni = this.system.app.scene.layers.getLayerById(n.LAYERID_DEPTH)),
                Ni && (Ni.incrementCounter(),
                this._requestedDepth = !0))
            },
            _releaseDepth: function() {
                this._requestedDepth && Ni && (Ni.decrementCounter(),
                this._requestedDepth = !1)
            },
            onSetDepthSoftening: function(t, e, i) {
                e !== i && (i ? (this.enabled && this.Bc.enabled && this._requestDepth(),
                this.emitter && (this.emitter[t] = i)) : (this.enabled && this.Bc.enabled && this._releaseDepth(),
                this.emitter && (this.emitter[t] = i)),
                this.emitter && (this.reset(),
                this.emitter.resetMaterial(),
                this.rebuild()))
            },
            onSetSimpleProperty: function(t, e, i) {
                this.emitter && (this.emitter[t] = i,
                this.emitter.resetMaterial())
            },
            onSetComplexProperty: function(t, e, i) {
                this.emitter && (this.emitter[t] = i,
                this.reset(),
                this.emitter.resetMaterial(),
                this.rebuild())
            },
            onSetGraphProperty: function(t, e, i) {
                this.emitter && (this.emitter[t] = i,
                this.emitter.rebuildGraphs(),
                this.emitter.resetMaterial())
            },
            onEnable: function() {
                for (var t = this.data, e = 0, i = Li.length; e < i; e++) {
                    var s = t[Li[e]];
                    if (s) {
                        if (!(s instanceof n.Zf)) {
                            var r;
                            if (!(parseInt(s, 10) >= 0))
                                continue;
                            s = this.system.app.assets.get(s)
                        }
                        s && !s.resource && this.system.app.assets.load(s)
                    }
                }
                if (!this.emitter) {
                    var a = t.mesh;
                    a instanceof n.Mesh || (a = null),
                    this.emitter = new n.zc(this.system.app.Br,{
                        numParticles: t.numParticles,
                        emitterExtents: t.emitterExtents,
                        emitterRadius: t.emitterRadius,
                        emitterShape: t.emitterShape,
                        initialVelocity: t.initialVelocity,
                        wrap: t.wrap,
                        localSpace: t.localSpace,
                        wrapBounds: t.wrapBounds,
                        lifetime: t.lifetime,
                        rate: t.rate,
                        rate2: t.rate2,
                        animTilesX: t.animTilesX,
                        animTilesY: t.animTilesY,
                        animNumFrames: t.animNumFrames,
                        animSpeed: t.animSpeed,
                        animLoop: t.animLoop,
                        startAngle: t.startAngle,
                        startAngle2: t.startAngle2,
                        scaleGraph: t.scaleGraph,
                        scaleGraph2: t.scaleGraph2,
                        colorGraph: t.colorGraph,
                        colorGraph2: t.colorGraph2,
                        alphaGraph: t.alphaGraph,
                        alphaGraph2: t.alphaGraph2,
                        localVelocityGraph: t.localVelocityGraph,
                        localVelocityGraph2: t.localVelocityGraph2,
                        velocityGraph: t.velocityGraph,
                        velocityGraph2: t.velocityGraph2,
                        rotationSpeedGraph: t.rotationSpeedGraph,
                        rotationSpeedGraph2: t.rotationSpeedGraph2,
                        colorMap: t.colorMap,
                        normalMap: t.normalMap,
                        loop: t.loop,
                        preWarm: t.preWarm,
                        sort: t.sort,
                        stretch: t.stretch,
                        alignToMotion: t.alignToMotion,
                        lighting: t.lighting,
                        halfLambert: t.halfLambert,
                        intensity: t.intensity,
                        depthSoftening: t.depthSoftening,
                        scene: this.system.app.scene,
                        mesh: a,
                        depthWrite: t.depthWrite,
                        noFog: t.noFog,
                        node: this.Bc,
                        blendType: t.blendType
                    }),
                    this.emitter.meshInstance.node = this.Bc,
                    this.psys = new n.Xh,
                    this.psys.graph = this.Bc,
                    this.psys.emitter = this.emitter,
                    this.psys.meshInstances = [this.emitter.meshInstance],
                    t.model = this.psys,
                    this.emitter.psys = this.psys,
                    t.autoPlay || (this.pause(),
                    this.emitter.meshInstance.visible = !1)
                }
                t.model && this.emitter.colorMap && this.addModelToLayers(),
                this.system.app.scene.on("set:layers", this.onLayersChanged, this),
                this.system.app.scene.layers && (this.system.app.scene.layers.on("add", this.onLayerAdded, this),
                this.system.app.scene.layers.on("remove", this.onLayerRemoved, this)),
                this.enabled && this.Bc.enabled && t.depthSoftening && this._requestDepth()
            },
            onDisable: function() {
                this.system.app.scene.off("set:layers", this.onLayersChanged, this),
                this.system.app.scene.layers && (this.system.app.scene.layers.off("add", this.onLayerAdded, this),
                this.system.app.scene.layers.off("remove", this.onLayerRemoved, this)),
                this.data.model && (this.removeModelFromLayers(),
                this.data.depthSoftening && this._releaseDepth()),
                this.emitter && (this.emitter.camera = null)
            },
            reset: function() {
                this.emitter && this.emitter.reset()
            },
            stop: function() {
                this.emitter && (this.emitter.loop = !1,
                this.emitter.resetTime(),
                this.emitter.addTime(0, !0))
            },
            pause: function() {
                this.data.paused = !0
            },
            unpause: function() {
                this.data.paused = !1
            },
            play: function() {
                this.data.paused = !1,
                this.emitter && (this.emitter.meshInstance.visible = !0,
                this.emitter.loop = this.data.loop,
                this.emitter.resetTime())
            },
            isPlaying: function() {
                return !this.data.paused && (!(!this.emitter || !this.emitter.loop) || Date.now() <= this.emitter.endTime)
            },
            rebuild: function() {
                var t = this.enabled;
                this.enabled = !1,
                this.emitter && (this.emitter.rebuild(),
                this.emitter.meshInstance.node = this.Bc,
                this.data.model.meshInstances = [this.emitter.meshInstance]),
                this.enabled = t
            },
            onRemove: function() {
                var t = this.data;
                t.model && (this.Bc.removeChild(t.model.getGraph()),
                t.model.destroy(),
                t.model = null),
                this.emitter && (this.emitter.destroy(),
                this.emitter = null);
                for (var e = 0; e < Li.length; e++) {
                    var i = Li[e];
                    t[i] && (this[i] = null)
                }
                this.off()
            }
        }),
        {
            nv: Fi
        })),
        Object.assign(n, function() {
            var t = ["enabled", "autoPlay", "numParticles", "lifetime", "rate", "rate2", "startAngle", "startAngle2", "loop", "preWarm", "lighting", "halfLambert", "intensity", "depthWrite", "noFog", "depthSoftening", "sort", "blendType", "stretch", "alignToMotion", "emitterShape", "emitterExtents", "emitterRadius", "initialVelocity", "wrap", "wrapBounds", "localSpace", "colorMapAsset", "normalMapAsset", "mesh", "meshAsset", "localVelocityGraph", "localVelocityGraph2", "velocityGraph", "velocityGraph2", "rotationSpeedGraph", "rotationSpeedGraph2", "scaleGraph", "scaleGraph2", "colorGraph", "colorGraph2", "alphaGraph", "alphaGraph2", "colorMap", "normalMap", "animTilesX", "animTilesY", "animNumFrames", "animSpeed", "animLoop", "layers"]
              , e = function e(i) {
                n.Cl.call(this, i),
                this.id = "particlesystem",
                this.description = "Updates and renders particle system in the scene.",
                this.ComponentType = n.nv,
                this.DataType = n.rv,
                this.schema = t,
                this.propertyTypes = {
                    emitterExtents: "vec3",
                    wrapBounds: "vec3",
                    localVelocityGraph: "curveset",
                    localVelocityGraph2: "curveset",
                    velocityGraph: "curveset",
                    velocityGraph2: "curveset",
                    colorGraph: "curveset",
                    colorGraph2: "curveset",
                    alphaGraph: "curve",
                    alphaGraph2: "curve",
                    rotationSpeedGraph: "curve",
                    rotationSpeedGraph2: "curve",
                    scaleGraph: "curve",
                    scaleGraph2: "curve"
                },
                this.on("beforeremove", this.onRemove, this),
                n.Cl.bind("update", this.onUpdate, this)
            };
            return (e.prototype = Object.create(n.Cl.prototype)).constructor = e,
            n.Component._buildAccessors(n.nv.prototype, t),
            Object.assign(e.prototype, {
                jl: function(t, e, i) {
                    var s = {};
                    i = [];
                    var r = this.propertyTypes, a;
                    for (var h in (e.mesh instanceof n.Zf || "number" == typeof e.mesh) && (e.meshAsset = e.mesh,
                    delete e.mesh),
                    e)
                        e.hasOwnProperty(h) && (i.push(h),
                        s[h] = e[h]),
                        "vec3" === r[h] ? "array" === n.type(s[h]) && (s[h] = new n.ut(s[h][0],s[h][1],s[h][2])) : "curve" === r[h] ? s[h]instanceof n.Et || (a = s[h].type,
                        s[h] = new n.Et(s[h].keys),
                        s[h].type = a) : "curveset" === r[h] && (s[h]instanceof n.It || (a = s[h].type,
                        s[h] = new n.It(s[h].keys),
                        s[h].type = a)),
                        s.layers && "array" === n.type(s.layers) && (s.layers = s.layers.slice(0));
                    n.Cl.prototype.jl.call(this, t, s, i)
                },
                cloneComponent: function(t, e) {
                    for (var i = t.particlesystem.data, s = this.schema, r = {}, a = 0, h = s.length; a < h; a++) {
                        var c = s[a]
                          , o = i[c];
                        o instanceof n.ut || o instanceof n.Et || o instanceof n.It ? (o = o.clone(),
                        r[c] = o) : "layers" === c ? r.layers = i.layers.slice(0) : null != o && (r[c] = o)
                    }
                    return this.Il(e, r)
                },
                onUpdate: function(t) {
                    var e = this.store, i, s, r, a, h = this.app.stats.particles;
                    for (var c in e)
                        if (e.hasOwnProperty(c)) {
                            var o = (a = e[c]).Bc
                              , u = a.data;
                            if (u.enabled && o.enabled) {
                                var f = u.model.emitter;
                                if (!f.meshInstance.visible)
                                    continue;
                                if (f.lighting) {
                                    var d, l, b = u.layers;
                                    for (s = 0; s < b.length; s++)
                                        if (d = this.app.scene.layers.getLayerById(b[s])) {
                                            for (d._lightCube || (d._lightCube = new Float32Array(18)),
                                            l = d._lightCube,
                                            s = 0; s < 6; s++)
                                                l[3 * s] = this.app.scene.ambientLight.r,
                                                l[3 * s + 1] = this.app.scene.ambientLight.g,
                                                l[3 * s + 2] = this.app.scene.ambientLight.b;
                                            var v = d._sortedLights[n.ca];
                                            for (r = 0; r < v.length; r++)
                                                for (a = 0; a < 6; a++) {
                                                    var m = Math.max(f.lightCubeDir[a].dot(v[r]._direction), 0) * v[r]._intensity;
                                                    l[3 * a] += v[r]._color.r * m,
                                                    l[3 * a + 1] += v[r]._color.g * m,
                                                    l[3 * a + 2] += v[r]._color.b * m
                                                }
                                        }
                                    f.constantLightCube.setValue(l)
                                }
                                if (!u.paused) {
                                    if (f.simTime += t,
                                    i = 0,
                                    f.simTime > f.fixedTimeStep && (i = Math.floor(f.simTime / f.fixedTimeStep),
                                    f.simTime -= i * f.fixedTimeStep),
                                    i) {
                                        for (i = Math.min(i, f.maxSubSteps),
                                        s = 0; s < i; s++)
                                            f.addTime(f.fixedTimeStep);
                                        h._updatesPerFrame += i,
                                        h._frameTime += f._addTimeTime,
                                        f._addTimeTime = 0
                                    }
                                    f.finishFrame()
                                }
                            }
                        }
                },
                onRemove: function(t, e) {
                    e.onRemove()
                }
            }),
            {
                Xd: e
            }
        }()),
        Object.assign(n, {
            rv: function() {
                this.numParticles = 1,
                this.rate = 1,
                this.rate2 = null,
                this.startAngle = 0,
                this.startAngle2 = null,
                this.lifetime = 50,
                this.emitterExtents = new n.ut,
                this.emitterRadius = 0,
                this.emitterShape = n.Ja,
                this.initialVelocity = 0,
                this.wrapBounds = new n.ut,
                this.localSpace = !1,
                this.colorMap = null,
                this.colorMapAsset = null,
                this.normalMap = null,
                this.normalMapAsset = null,
                this.loop = !0,
                this.preWarm = !1,
                this.sort = 0,
                this.mode = n.Ka,
                this.scene = null,
                this.lighting = !1,
                this.halfLambert = !1,
                this.intensity = 1,
                this.stretch = 0,
                this.alignToMotion = !1,
                this.depthSoftening = 0,
                this.meshAsset = null,
                this.mesh = null,
                this.depthWrite = !1,
                this.noFog = !1,
                this.animTilesX = 1,
                this.animTilesY = 1,
                this.animNumFrames = 1,
                this.animSpeed = 1,
                this.animLoop = !0,
                this.scaleGraph = null,
                this.scaleGraph2 = null,
                this.colorGraph = null,
                this.colorGraph2 = null,
                this.alphaGraph = null,
                this.alphaGraph2 = null,
                this.localVelocityGraph = null,
                this.localVelocityGraph2 = null,
                this.velocityGraph = null,
                this.velocityGraph2 = null,
                this.rotationSpeedGraph = null,
                this.rotationSpeedGraph2 = null,
                this.blendType = n.$r,
                this.model = null,
                this.enabled = !0,
                this.paused = !1,
                this.autoPlay = !0,
                this.layers = [n.LAYERID_WORLD]
            }
        }),
        Object.assign(n, (Ui = function(t, e) {
            this._component = t,
            this._frame = 0,
            this._sprite = null,
            this._spriteAsset = null,
            this.spriteAsset = e.spriteAsset,
            this.name = e.name,
            this.fps = e.fps || 0,
            this.loop = e.loop || !1,
            this._playing = !1,
            this._paused = !1,
            this._time = 0,
            n.K.attach(this)
        }
        ,
        Object.assign(Ui.prototype, {
            _onSpriteAssetAdded: function(t) {
                this._component.system.app.assets.off("add:" + t.id, this._onSpriteAssetAdded, this),
                this._spriteAsset === t.id && this._bindSpriteAsset(t)
            },
            _bindSpriteAsset: function(t) {
                t.on("load", this._onSpriteAssetLoad, this),
                t.on("remove", this._onSpriteAssetRemove, this),
                t.resource ? this._onSpriteAssetLoad(t) : this._component.system.app.assets.load(t)
            },
            _unbindSpriteAsset: function(t) {
                t.off("load", this._onSpriteAssetLoad, this),
                t.off("remove", this._onSpriteAssetRemove, this),
                t.resource && t.resource.atlas && this._component.system.app.assets.off("load:" + t.data.textureAtlasAsset, this._onTextureAtlasLoad, this)
            },
            _onSpriteAssetLoad: function(t) {
                if (t.resource)
                    if (t.resource.atlas)
                        this.sprite = t.resource;
                    else {
                        var e = t.data.textureAtlasAsset
                          , i = this._component.system.app.assets;
                        i.off("load:" + e, this._onTextureAtlasLoad, this),
                        i.once("load:" + e, this._onTextureAtlasLoad, this)
                    }
                else
                    this.sprite = null
            },
            _onTextureAtlasLoad: function(t) {
                var e = this._spriteAsset;
                e instanceof n.Zf ? this._onSpriteAssetLoad(e) : this._onSpriteAssetLoad(this._component.system.app.assets.get(e))
            },
            _onSpriteAssetRemove: function(t) {
                this.sprite = null
            },
            _onSpriteMeshesChange: function() {
                this._component.currentClip === this && this._component._showFrame(this.frame)
            },
            _onSpritePpuChanged: function() {
                this._component.currentClip === this && this.sprite.renderMode !== n.SPRITE_RENDERMODE_SIMPLE && this._component._showFrame(this.frame)
            },
            _update: function(t) {
                if (0 !== this.fps && this._playing && !this._paused && this._sprite) {
                    var e = this.fps < 0 ? -1 : 1
                      , i = this._time + t * this._component.speed * e
                      , s = this.duration
                      , n = i > s || i < 0;
                    this._setTime(i);
                    var r = this.frame;
                    (r = this._sprite ? Math.floor(this._sprite.frameKeys.length * this._time / s) : 0) !== this._frame && this._setFrame(r),
                    n && (this.loop ? (this.fire("loop"),
                    this._component.fire("loop", this)) : (this._playing = !1,
                    this._paused = !1,
                    this.fire("end"),
                    this._component.fire("end", this)))
                }
            },
            _setTime: function(t) {
                this._time = t;
                var e = this.duration;
                this._time < 0 ? this.loop ? this._time = this._time % e + e : this._time = 0 : this._time > e && (this.loop ? this._time = this._time % e : this._time = e)
            },
            _setFrame: function(t) {
                this._sprite ? this._frame = n.I.clamp(t, 0, this._sprite.frameKeys.length - 1) : this._frame = t,
                this._component.currentClip === this && this._component._showFrame(this._frame)
            },
            _destroy: function() {
                this._sprite && (this.sprite = null),
                this._spriteAsset && (this.spriteAsset = null)
            },
            play: function() {
                this._playing || (this._playing = !0,
                this._paused = !1,
                this.frame = 0,
                this.fire("play"),
                this._component.fire("play", this))
            },
            pause: function() {
                this._playing && !this._paused && (this._paused = !0,
                this.fire("pause"),
                this._component.fire("pause", this))
            },
            resume: function() {
                this._paused && (this._paused = !1,
                this.fire("resume"),
                this._component.fire("resume", this))
            },
            stop: function() {
                this._playing && (this._playing = !1,
                this._paused = !1,
                this._time = 0,
                this.frame = 0,
                this.fire("stop"),
                this._component.fire("stop", this))
            }
        }),
        Object.defineProperty(Ui.prototype, "spriteAsset", {
            get: function() {
                return this._spriteAsset
            },
            set: function(t) {
                var e = this._component.system.app.assets
                  , i = t;
                if (t instanceof n.Zf && (i = t.id),
                this._spriteAsset !== i) {
                    if (this._spriteAsset) {
                        var s = e.get(this._spriteAsset);
                        s && this._unbindSpriteAsset(s)
                    }
                    if (this._spriteAsset = i,
                    this._spriteAsset) {
                        var r = e.get(this._spriteAsset);
                        r ? this._bindSpriteAsset(r) : (this.sprite = null,
                        e.on("add:" + this._spriteAsset, this._onSpriteAssetAdded, this))
                    } else
                        this.sprite = null
                }
            }
        }),
        Object.defineProperty(Ui.prototype, "sprite", {
            get: function() {
                return this._sprite
            },
            set: function(t) {
                var e;
                this._sprite && (this._sprite.off("set:meshes", this._onSpriteMeshesChange, this),
                this._sprite.off("set:pixelsPerUnit", this._onSpritePpuChanged, this),
                this._sprite.off("set:atlas", this._onSpriteMeshesChange, this),
                this._sprite.atlas && this._sprite.atlas.off("set:texture", this._onSpriteMeshesChange, this)),
                this._sprite = t,
                this._sprite && (this._sprite.on("set:meshes", this._onSpriteMeshesChange, this),
                this._sprite.on("set:pixelsPerUnit", this._onSpritePpuChanged, this),
                this._sprite.on("set:atlas", this._onSpriteMeshesChange, this),
                this._sprite.atlas && this._sprite.atlas.on("set:texture", this._onSpriteMeshesChange, this)),
                this._component.currentClip === this && (t && t.atlas ? (t.atlas.texture && ((e = this._component._meshInstance) && (e.setParameter("texture_emissiveMap", t.atlas.texture),
                e.setParameter("texture_opacityMap", t.atlas.texture)),
                this._component.enabled && this._component.Bc.enabled && this._component._showModel()),
                this.time && this.fps ? this.time = this.time : this.frame = this.frame) : ((e = this._component._meshInstance) && (e.deleteParameter("texture_emissiveMap"),
                e.deleteParameter("texture_opacityMap")),
                this._component._hideModel()))
            }
        }),
        Object.defineProperty(Ui.prototype, "frame", {
            get: function() {
                return this._frame
            },
            set: function(t) {
                this._setFrame(t);
                var e = this.fps || Number.MIN_VALUE;
                this._setTime(this._frame / e)
            }
        }),
        Object.defineProperty(Ui.prototype, "isPlaying", {
            get: function() {
                return this._playing
            }
        }),
        Object.defineProperty(Ui.prototype, "isPaused", {
            get: function() {
                return this._paused
            }
        }),
        Object.defineProperty(Ui.prototype, "duration", {
            get: function() {
                if (this._sprite) {
                    var t = this.fps || Number.MIN_VALUE;
                    return this._sprite.frameKeys.length / Math.abs(t)
                }
                return 0
            }
        }),
        Object.defineProperty(Ui.prototype, "time", {
            get: function() {
                return this._time
            },
            set: function(t) {
                this._setTime(t),
                this._sprite ? this.frame = Math.min(this._sprite.frameKeys.length - 1, Math.floor(this._time * Math.abs(this.fps))) : this.frame = 0
            }
        }),
        {
            SpriteAnimationClip: Ui
        })),
        Object.assign(n, function() {
            n.SPRITETYPE_SIMPLE = "simple",
            n.SPRITETYPE_ANIMATED = "animated";
            var t = "texture_emissiveMap"
              , e = "texture_opacityMap"
              , i = "material_emissive"
              , s = "material_opacity"
              , r = "innerOffset"
              , a = "outerScale"
              , h = "atlasRect"
              , c = function t(e, i) {
                n.Component.call(this, e, i),
                this._type = n.SPRITETYPE_SIMPLE,
                this._material = e.defaultMaterial,
                this._color = new n.D(1,1,1,1),
                this._colorUniform = new Float32Array(3),
                this._speed = 1,
                this._flipX = !1,
                this._flipY = !1,
                this._width = 1,
                this._height = 1,
                this._drawOrder = 0,
                this._layers = [n.LAYERID_WORLD],
                this._outerScale = new n.pt(1,1),
                this._outerScaleUniform = new Float32Array(2),
                this._innerOffset = new n.wt,
                this._innerOffsetUniform = new Float32Array(4),
                this._atlasRect = new n.wt,
                this._atlasRectUniform = new Float32Array(4),
                this._batchGroupId = -1,
                this._batchGroup = null,
                this._node = new n.Gh,
                this._model = new n.Xh,
                this._model.graph = this._node,
                this._meshInstance = null,
                i.addChild(this._model.graph),
                this._model._entity = i,
                this._updateAabbFunc = this._updateAabb.bind(this),
                this._addedModel = !1,
                this._autoPlayClip = null,
                this._clips = {},
                this._defaultClip = new n.SpriteAnimationClip(this,{
                    name: this.Bc.name,
                    fps: 0,
                    loop: !1,
                    spriteAsset: null
                }),
                this._currentClip = this._defaultClip
            };
            return (c.prototype = Object.create(n.Component.prototype)).constructor = c,
            Object.assign(c.prototype, {
                onEnable: function() {
                    var t, e = this.system.app.scene;
                    e.on("set:layers", this._onLayersChanged, this),
                    e.layers && (e.layers.on("add", this._onLayerAdded, this),
                    e.layers.on("remove", this._onLayerRemoved, this)),
                    this._showModel(),
                    this._autoPlayClip && this._tryAutoPlay()
                },
                onDisable: function() {
                    var t = this.system.app
                      , e = t.scene;
                    e.off("set:layers", this._onLayersChanged, this),
                    e.layers && (e.layers.off("add", this._onLayerAdded, this),
                    e.layers.off("remove", this._onLayerRemoved, this)),
                    this.stop(),
                    this._hideModel(),
                    this._batchGroupId >= 0 && t.batcher.markGroupDirty(this.batchGroupId)
                },
                onDestroy: function() {
                    for (var t in this._currentClip = null,
                    this._defaultClip && (this._defaultClip._destroy(),
                    this._defaultClip = null),
                    this._clips)
                        this._clips[t]._destroy();
                    this._clips = null,
                    this._hideModel(),
                    this._model = null,
                    this._node && (this._node.parent && this._node.parent.removeChild(this._node),
                    this._node = null),
                    this._meshInstance && (this._meshInstance.material = null,
                    this._meshInstance.mesh = null,
                    this._meshInstance = null)
                },
                _showModel: function() {
                    if (!this._addedModel && this._meshInstance) {
                        var t, e, i = [this._meshInstance];
                        for (t = 0,
                        e = this._layers.length; t < e; t++) {
                            var s = this.system.app.scene.layers.getLayerById(this._layers[t]);
                            s && s.addMeshInstances(i)
                        }
                        this._addedModel = !0
                    }
                },
                _hideModel: function() {
                    if (this._addedModel && this._meshInstance) {
                        var t, e, i = [this._meshInstance];
                        for (t = 0,
                        e = this._layers.length; t < e; t++) {
                            var s = this.system.app.scene.layers.getLayerById(this._layers[t]);
                            s && s.removeMeshInstances(i)
                        }
                        this._addedModel = !1
                    }
                },
                _showFrame: function(r) {
                    if (this.sprite) {
                        var a = this.sprite.meshes[r];
                        if (a) {
                            var h = this.system.defaultMaterial;
                            if (this.sprite.renderMode === n.SPRITE_RENDERMODE_SLICED ? h = this.system.default9SlicedMaterialSlicedMode : this.sprite.renderMode === n.SPRITE_RENDERMODE_TILED && (h = this.system.default9SlicedMaterialTiledMode),
                            this._meshInstance || (this._meshInstance = new n.Yh(this._node,a,this._material),
                            this._meshInstance.castShadow = !1,
                            this._meshInstance.receiveShadow = !1,
                            this._meshInstance.drawOrder = this._drawOrder,
                            this._model.meshInstances.push(this._meshInstance),
                            this._colorUniform[0] = this._color.r,
                            this._colorUniform[1] = this._color.g,
                            this._colorUniform[2] = this._color.b,
                            this._meshInstance.setParameter(i, this._colorUniform),
                            this._meshInstance.setParameter(s, this._color.a),
                            this.enabled && this.Bc.enabled && this._showModel()),
                            this._meshInstance.material !== h && (this._meshInstance.material = h),
                            this._meshInstance.mesh !== a && (this._meshInstance.mesh = a,
                            this._meshInstance.visible = !0,
                            this._meshInstance._aabbVer = -1),
                            this.sprite.atlas && this.sprite.atlas.texture ? (this._meshInstance.setParameter(t, this.sprite.atlas.texture),
                            this._meshInstance.setParameter(e, this.sprite.atlas.texture)) : (this._meshInstance.deleteParameter(t),
                            this._meshInstance.deleteParameter(e)),
                            !this.sprite.atlas || this.sprite.renderMode !== n.SPRITE_RENDERMODE_SLICED && this.sprite.renderMode !== n.SPRITE_RENDERMODE_TILED)
                                this._meshInstance._updateAabbFunc = null;
                            else {
                                this._meshInstance._updateAabbFunc = this._updateAabbFunc;
                                var c = this.sprite.atlas.frames[this.sprite.frameKeys[r]];
                                if (c) {
                                    var o = 2 / c.rect.z
                                      , u = 2 / c.rect.w;
                                    this._innerOffset.set(c.border.x * o, c.border.y * u, c.border.z * o, c.border.w * u);
                                    var f = this.sprite.atlas.texture;
                                    this._atlasRect.set(c.rect.x / f.width, c.rect.y / f.height, c.rect.z / f.width, c.rect.w / f.height)
                                } else
                                    this._innerOffset.set(0, 0, 0, 0);
                                this._innerOffsetUniform[0] = this._innerOffset.x,
                                this._innerOffsetUniform[1] = this._innerOffset.y,
                                this._innerOffsetUniform[2] = this._innerOffset.z,
                                this._innerOffsetUniform[3] = this._innerOffset.w,
                                this._meshInstance.setParameter("innerOffset", this._innerOffsetUniform),
                                this._atlasRectUniform[0] = this._atlasRect.x,
                                this._atlasRectUniform[1] = this._atlasRect.y,
                                this._atlasRectUniform[2] = this._atlasRect.z,
                                this._atlasRectUniform[3] = this._atlasRect.w,
                                this._meshInstance.setParameter("atlasRect", this._atlasRectUniform)
                            }
                            this._updateTransform()
                        } else
                            this._meshInstance && (this._meshInstance.mesh = null,
                            this._meshInstance.visible = !1)
                    }
                },
                _updateTransform: function() {
                    var t = this.flipX ? -1 : 1
                      , e = this.flipY ? -1 : 1
                      , i = 0
                      , s = 0;
                    if (this.sprite && (this.sprite.renderMode === n.SPRITE_RENDERMODE_SLICED || this.sprite.renderMode === n.SPRITE_RENDERMODE_TILED)) {
                        var r = 1
                          , a = 1;
                        if (this.sprite.atlas) {
                            var h = this.sprite.atlas.frames[this.sprite.frameKeys[this.frame]];
                            h && (r = h.rect.z,
                            a = h.rect.w,
                            i = (.5 - h.pivot.x) * this._width,
                            s = (.5 - h.pivot.y) * this._height)
                        }
                        var c = r / this.sprite.pixelsPerUnit
                          , o = a / this.sprite.pixelsPerUnit;
                        this._outerScale.set(Math.max(this._width, this._innerOffset.x * c), Math.max(this._height, this._innerOffset.y * o)),
                        t *= c,
                        e *= o,
                        this._outerScale.x /= c,
                        this._outerScale.y /= o,
                        t *= n.I.clamp(this._width / (this._innerOffset.x * c), 1e-4, 1),
                        e *= n.I.clamp(this._height / (this._innerOffset.y * o), 1e-4, 1),
                        this._meshInstance && (this._outerScaleUniform[0] = this._outerScale.x,
                        this._outerScaleUniform[1] = this._outerScale.y,
                        this._meshInstance.setParameter("outerScale", this._outerScaleUniform, 4294967295))
                    }
                    this._node.setLocalScale(t, e, 1),
                    this._node.setLocalPosition(i, s, 0)
                },
                _updateAabb: function(t) {
                    return t.center.set(0, 0, 0),
                    t.halfExtents.set(.5 * this._outerScale.x, .5 * this._outerScale.y, .001),
                    t.kt(t, this._node.getWorldTransform()),
                    t
                },
                _tryAutoPlay: function() {
                    if (this._autoPlayClip && this.type === n.SPRITETYPE_ANIMATED) {
                        var t = this._clips[this._autoPlayClip];
                        !t || t.isPlaying || this._currentClip && this._currentClip.isPlaying || this.enabled && this.Bc.enabled && this.play(t.name)
                    }
                },
                _onLayersChanged: function(t, e) {
                    t.off("add", this.onLayerAdded, this),
                    t.off("remove", this.onLayerRemoved, this),
                    e.on("add", this.onLayerAdded, this),
                    e.on("remove", this.onLayerRemoved, this),
                    this.enabled && this.Bc.enabled && this._showModel()
                },
                _onLayerAdded: function(t) {
                    var e;
                    this.layers.indexOf(t.id) < 0 || this._addedModel && this.enabled && this.Bc.enabled && this._meshInstance && t.addMeshInstances([this._meshInstance])
                },
                _onLayerRemoved: function(t) {
                    var e;
                    this._meshInstance && (this.layers.indexOf(t.id) < 0 || t.removeMeshInstances([this._meshInstance]))
                },
                addClip: function(t) {
                    var e = new n.SpriteAnimationClip(this,{
                        name: t.name,
                        fps: t.fps,
                        loop: t.loop,
                        spriteAsset: t.spriteAsset
                    });
                    return this._clips[t.name] = e,
                    e.name && e.name === this._autoPlayClip && this._tryAutoPlay(),
                    e
                },
                removeClip: function(t) {
                    delete this._clips[t]
                },
                clip: function(t) {
                    return this._clips[t]
                },
                play: function(t) {
                    var e = this._clips[t]
                      , i = this._currentClip;
                    return i && i !== e && (i._playing = !1),
                    this._currentClip = e,
                    this._currentClip ? (this._currentClip = e,
                    this._currentClip.play()) : u("Trying to play sprite animation " + t + " which does not exist."),
                    e
                },
                pause: function() {
                    this._currentClip !== this._defaultClip && this._currentClip.isPlaying && this._currentClip.pause()
                },
                resume: function() {
                    this._currentClip !== this._defaultClip && this._currentClip.isPaused && this._currentClip.resume()
                },
                stop: function() {
                    this._currentClip !== this._defaultClip && this._currentClip.stop()
                }
            }),
            Object.defineProperty(c.prototype, "type", {
                get: function() {
                    return this._type
                },
                set: function(t) {
                    this._type !== t && (this._type = t,
                    this._type === n.SPRITETYPE_SIMPLE ? (this.stop(),
                    this._currentClip = this._defaultClip,
                    this.enabled && this.Bc.enabled && (this._currentClip.frame = this.frame,
                    this._currentClip.sprite ? this._showModel() : this._hideModel())) : this._type === n.SPRITETYPE_ANIMATED && (this.stop(),
                    this._autoPlayClip && this._tryAutoPlay(),
                    this._currentClip && this._currentClip.isPlaying && this.enabled && this.Bc.enabled ? this._showModel() : this._hideModel()))
                }
            }),
            Object.defineProperty(c.prototype, "frame", {
                get: function() {
                    return this._currentClip.frame
                },
                set: function(t) {
                    this._currentClip.frame = t
                }
            }),
            Object.defineProperty(c.prototype, "spriteAsset", {
                get: function() {
                    return this._defaultClip._spriteAsset
                },
                set: function(t) {
                    this._defaultClip.spriteAsset = t
                }
            }),
            Object.defineProperty(c.prototype, "sprite", {
                get: function() {
                    return this._currentClip.sprite
                },
                set: function(t) {
                    this._currentClip.sprite = t
                }
            }),
            Object.defineProperty(c.prototype, "material", {
                get: function() {
                    return this._material
                },
                set: function(t) {
                    this._material = t,
                    this._meshInstance && (this._meshInstance.material = t)
                }
            }),
            Object.defineProperty(c.prototype, "color", {
                get: function() {
                    return this._color
                },
                set: function(t) {
                    this._color.r = t.r,
                    this._color.g = t.g,
                    this._color.b = t.b,
                    this._meshInstance && (this._colorUniform[0] = this._color.r,
                    this._colorUniform[1] = this._color.g,
                    this._colorUniform[2] = this._color.b,
                    this._meshInstance.setParameter(i, this._colorUniform))
                }
            }),
            Object.defineProperty(c.prototype, "opacity", {
                get: function() {
                    return this._color.a
                },
                set: function(t) {
                    this._color.a = t,
                    this._meshInstance && this._meshInstance.setParameter(s, t)
                }
            }),
            Object.defineProperty(c.prototype, "clips", {
                get: function() {
                    return this._clips
                },
                set: function(t) {
                    var e, i;
                    if (t) {
                        for (e in this._clips) {
                            var s = !1;
                            for (i in t)
                                if (t[i].name === e) {
                                    s = !0,
                                    this._clips[e].fps = t[i].fps,
                                    this._clips[e].loop = t[i].loop,
                                    t[i].hasOwnProperty("sprite") ? this._clips[e].sprite = t[i].sprite : t[i].hasOwnProperty("spriteAsset") && (this._clips[e].spriteAsset = t[i].spriteAsset);
                                    break
                                }
                            s || this.removeClip(e)
                        }
                        for (i in t)
                            this._clips[t[i].name] || this.addClip(t[i]);
                        this._autoPlayClip && this._tryAutoPlay(),
                        this._currentClip && this._currentClip.sprite || this._hideModel()
                    } else
                        for (e in this._clips)
                            this.removeClip(e)
                }
            }),
            Object.defineProperty(c.prototype, "currentClip", {
                get: function() {
                    return this._currentClip
                }
            }),
            Object.defineProperty(c.prototype, "speed", {
                get: function() {
                    return this._speed
                },
                set: function(t) {
                    this._speed = t
                }
            }),
            Object.defineProperty(c.prototype, "flipX", {
                get: function() {
                    return this._flipX
                },
                set: function(t) {
                    this._flipX !== t && (this._flipX = t,
                    this._updateTransform())
                }
            }),
            Object.defineProperty(c.prototype, "flipY", {
                get: function() {
                    return this._flipY
                },
                set: function(t) {
                    this._flipY !== t && (this._flipY = t,
                    this._updateTransform())
                }
            }),
            Object.defineProperty(c.prototype, "width", {
                get: function() {
                    return this._width
                },
                set: function(t) {
                    t !== this._width && (this._width = t,
                    this._outerScale.x = this._width,
                    !this.sprite || this.sprite.renderMode !== n.SPRITE_RENDERMODE_TILED && this.sprite.renderMode !== n.SPRITE_RENDERMODE_SLICED || this._updateTransform())
                }
            }),
            Object.defineProperty(c.prototype, "height", {
                get: function() {
                    return this._height
                },
                set: function(t) {
                    t !== this._height && (this._height = t,
                    this._outerScale.y = this.height,
                    !this.sprite || this.sprite.renderMode !== n.SPRITE_RENDERMODE_TILED && this.sprite.renderMode !== n.SPRITE_RENDERMODE_SLICED || this._updateTransform())
                }
            }),
            Object.defineProperty(c.prototype, "batchGroupId", {
                get: function() {
                    return this._batchGroupId
                },
                set: function(t) {
                    if (this._batchGroupId !== t) {
                        var e = this._batchGroupId;
                        this._batchGroupId = t,
                        e >= 0 && this.system.app.batcher.markGroupDirty(e),
                        this._batchGroupId >= 0 ? this.system.app.batcher.markGroupDirty(this._batchGroupId) : e >= 0 && this._currentClip && this._currentClip.sprite && this.enabled && this.Bc.enabled && this._showModel()
                    }
                }
            }),
            Object.defineProperty(c.prototype, "autoPlayClip", {
                get: function() {
                    return this._autoPlayClip
                },
                set: function(t) {
                    this._autoPlayClip = t instanceof n.SpriteAnimationClip ? t.name : t,
                    this._tryAutoPlay()
                }
            }),
            Object.defineProperty(c.prototype, "drawOrder", {
                get: function() {
                    return this._drawOrder
                },
                set: function(t) {
                    this._drawOrder = t,
                    this._meshInstance && (this._meshInstance.drawOrder = t)
                }
            }),
            Object.defineProperty(c.prototype, "layers", {
                get: function() {
                    return this._layers
                },
                set: function(t) {
                    this._addedModel && this._hideModel(),
                    this._layers = t,
                    this._meshInstance && this.enabled && this.Bc.enabled && this._showModel()
                }
            }),
            Object.defineProperty(c.prototype, "aabb", {
                get: function() {
                    return this._meshInstance ? this._meshInstance.aabb : null
                }
            }),
            {
                SpriteComponent: c
            }
        }()),
        Object.assign(n, function() {
            var t = ["enabled"]
              , e = function e(i) {
                n.Cl.call(this, i),
                this.id = "sprite",
                this.app = i,
                this.ComponentType = n.SpriteComponent,
                this.DataType = n.SpriteComponentData,
                this.schema = t,
                this._defaultTexture = new n.xn(i.Br,{
                    width: 1,
                    height: 1,
                    format: n.vi
                });
                var s = this._defaultTexture.lock()
                  , r = new Uint8Array(4);
                r[0] = 255,
                r[1] = 255,
                r[2] = 255,
                r[3] = 255,
                s.set(r),
                this._defaultTexture.name = "sprite",
                this._defaultTexture.unlock(),
                this.defaultMaterial = new n.Sn,
                this.defaultMaterial.diffuse = new n.D(0,0,0,1),
                this.defaultMaterial.emissive = new n.D(.5,.5,.5,1),
                this.defaultMaterial.emissiveMap = this._defaultTexture,
                this.defaultMaterial.emissiveMapTint = !0,
                this.defaultMaterial.opacityMap = this._defaultTexture,
                this.defaultMaterial.opacityMapChannel = "a",
                this.defaultMaterial.opacityTint = !0,
                this.defaultMaterial.opacity = 0,
                this.defaultMaterial.useLighting = !1,
                this.defaultMaterial.useGammaTonemap = !1,
                this.defaultMaterial.useFog = !1,
                this.defaultMaterial.useSkybox = !1,
                this.defaultMaterial.blendType = n.za,
                this.defaultMaterial.depthWrite = !1,
                this.defaultMaterial.pixelSnap = !1,
                this.defaultMaterial.cull = n.Be,
                this.defaultMaterial.update(),
                this.default9SlicedMaterialSlicedMode = this.defaultMaterial.clone(),
                this.default9SlicedMaterialSlicedMode.nineSlicedMode = n.SPRITE_RENDERMODE_SLICED,
                this.default9SlicedMaterialSlicedMode.update(),
                this.default9SlicedMaterialTiledMode = this.defaultMaterial.clone(),
                this.default9SlicedMaterialTiledMode.nineSlicedMode = n.SPRITE_RENDERMODE_TILED,
                this.default9SlicedMaterialTiledMode.update(),
                n.Cl.bind("update", this.onUpdate, this),
                this.on("beforeremove", this.onBeforeRemove, this)
            };
            return (e.prototype = Object.create(n.Cl.prototype)).constructor = e,
            n.Component._buildAccessors(n.SpriteComponent.prototype, t),
            Object.assign(e.prototype, {
                destroy: function() {
                    this._defaultTexture.destroy(),
                    this._defaultTexture = null
                },
                jl: function(t, e, i) {
                    if (void 0 !== e.enabled && (t.enabled = e.enabled),
                    t.type = e.type,
                    e.layers && "array" === n.type(e.layers) && (t.layers = e.layers.slice(0)),
                    void 0 !== e.drawOrder && (t.drawOrder = e.drawOrder),
                    void 0 !== e.color && (e.color instanceof n.D ? t.color.set(e.color.r, e.color.g, e.color.b, void 0 !== e.opacity ? e.opacity : 1) : t.color.set(e.color[0], e.color[1], e.color[2], void 0 !== e.opacity ? e.opacity : 1),
                    t.color = t.color),
                    void 0 !== e.opacity && (t.opacity = e.opacity),
                    void 0 !== e.flipX && (t.flipX = e.flipX),
                    void 0 !== e.flipY && (t.flipY = e.flipY),
                    void 0 !== e.width && (t.width = e.width),
                    void 0 !== e.height && (t.height = e.height),
                    void 0 !== e.spriteAsset && (t.spriteAsset = e.spriteAsset),
                    e.sprite && (t.sprite = e.sprite),
                    void 0 !== e.frame && (t.frame = e.frame),
                    e.clips)
                        for (var s in e.clips)
                            t.addClip(e.clips[s]);
                    void 0 !== e.speed && (t.speed = e.speed),
                    e.autoPlayClip && (t.autoPlayClip = e.autoPlayClip),
                    t.batchGroupId = void 0 === e.batchGroupId || null === e.batchGroupId ? -1 : e.batchGroupId,
                    n.Cl.prototype.jl.call(this, t, e, i)
                },
                cloneComponent: function(t, e) {
                    var i = t.sprite;
                    return this.Il(e, {
                        enabled: i.enabled,
                        type: i.type,
                        spriteAsset: i.spriteAsset,
                        sprite: i.sprite,
                        frame: i.frame,
                        color: i.color.clone(),
                        opacity: i.opacity,
                        flipX: i.flipX,
                        flipY: i.flipY,
                        speed: i.speed,
                        clips: i.clips,
                        autoPlayClip: i.autoPlayClip,
                        batchGroupId: i.batchGroupId,
                        drawOrder: i.drawOrder,
                        layers: i.layers.slice(0)
                    })
                },
                onUpdate: function(t) {
                    var e = this.store;
                    for (var i in e)
                        if (e.hasOwnProperty(i)) {
                            var s = e[i];
                            if (s.data.enabled && s.Bc.enabled) {
                                var n = s.Bc.sprite;
                                n._currentClip && n._currentClip._update(t)
                            }
                        }
                },
                onBeforeRemove: function(t, e) {
                    e.onDestroy()
                }
            }),
            {
                $d: e
            }
        }()),
        Object.assign(n, {
            SpriteComponentData: function() {
                this.enabled = !0
            }
        }),
        Object.assign(n, function() {
            n.av = "none",
            n.hv = "blend";
            var t = function t(e, i) {
                n.Component.call(this, e, i),
                this._resolution = new n.pt(640,320),
                this._referenceResolution = new n.pt(640,320),
                this._scaleMode = n.av,
                this.scale = 1,
                this._scaleBlend = .5,
                this._priority = 0,
                this._screenSpace = !1,
                this.cull = this._screenSpace,
                this._screenMatrix = new n.zt,
                e.app.Br.on("resizecanvas", this._onResize, this)
            };
            (t.prototype = Object.create(n.Component.prototype)).constructor = t;
            var e = new n.zt;
            return Object.assign(t.prototype, {
                syncDrawOrder: function() {
                    this.system.queueDrawOrderSync(this.Bc.getGuid(), this._processDrawOrderSync, this)
                },
                _recurseDrawOrderSync: function(t, e) {
                    if (!(t instanceof n.Entity))
                        return e;
                    t.element && (t.element.drawOrder = e++);
                    for (var i = t.getChildren(), s = 0; s < i.length; s++)
                        e = this._recurseDrawOrderSync(i[s], e);
                    return e
                },
                _processDrawOrderSync: function() {
                    var t = 1;
                    this._recurseDrawOrderSync(this.Bc, 1),
                    this.fire("syncdraworder")
                },
                _calcProjectionMatrix: function() {
                    var t, i, s, n, r = 1, a = -1, h = this._resolution.x / this.scale, c = this._resolution.y / this.scale;
                    t = 0,
                    i = h,
                    s = -c,
                    n = 0,
                    this._screenMatrix.setOrtho(0, i, s, 0, 1, -1),
                    this._screenSpace || (e.setScale(.5 * h, .5 * c, 1),
                    this._screenMatrix.mul2(e, this._screenMatrix))
                },
                _updateScale: function() {
                    this.scale = this._calcScale(this._resolution, this.referenceResolution)
                },
                _calcScale: function(t, e) {
                    var i = Math.log2(t.x / e.x)
                      , s = Math.log2(t.y / e.y);
                    return Math.pow(2, i * (1 - this._scaleBlend) + s * this._scaleBlend)
                },
                _onResize: function(t, e) {
                    this._screenSpace && (this._resolution.set(t, e),
                    this.resolution = this._resolution)
                },
                onRemove: function() {
                    this.system.app.Br.off("resizecanvas", this._onResize, this),
                    this.fire("remove"),
                    this.off()
                }
            }),
            Object.defineProperty(t.prototype, "resolution", {
                set: function(t) {
                    this._screenSpace ? this._resolution.set(this.system.app.Br.width, this.system.app.Br.height) : this._resolution.set(t.x, t.y),
                    this._updateScale(),
                    this._calcProjectionMatrix(),
                    this.Bc._dirtyLocal || this.Bc._dirtifyLocal(),
                    this.fire("set:resolution", this._resolution)
                },
                get: function() {
                    return this._resolution
                }
            }),
            Object.defineProperty(t.prototype, "referenceResolution", {
                set: function(t) {
                    this._referenceResolution.set(t.x, t.y),
                    this._updateScale(),
                    this._calcProjectionMatrix(),
                    this.Bc._dirtyLocal || this.Bc._dirtifyLocal(),
                    this.fire("set:referenceresolution", this._resolution)
                },
                get: function() {
                    return this._scaleMode === n.av ? this._resolution : this._referenceResolution
                }
            }),
            Object.defineProperty(t.prototype, "screenSpace", {
                set: function(t) {
                    this._screenSpace = t,
                    this._screenSpace && this._resolution.set(this.system.app.Br.width, this.system.app.Br.height),
                    this.resolution = this._resolution,
                    this.Bc._dirtyLocal || this.Bc._dirtifyLocal(),
                    this.fire("set:screenspace", this._screenSpace)
                },
                get: function() {
                    return this._screenSpace
                }
            }),
            Object.defineProperty(t.prototype, "scaleMode", {
                set: function(t) {
                    t !== n.av && t !== n.hv && (t = n.av),
                    this._screenSpace || t === n.av || (t = n.av),
                    this._scaleMode = t,
                    this.resolution = this._resolution,
                    this.fire("set:scalemode", this._scaleMode)
                },
                get: function() {
                    return this._scaleMode
                }
            }),
            Object.defineProperty(t.prototype, "scaleBlend", {
                set: function(t) {
                    this._scaleBlend = t,
                    this._updateScale(),
                    this._calcProjectionMatrix(),
                    this.Bc._dirtyLocal || this.Bc._dirtifyLocal(),
                    this.fire("set:scaleblend", this._scaleBlend)
                },
                get: function() {
                    return this._scaleBlend
                }
            }),
            Object.defineProperty(t.prototype, "priority", {
                get: function() {
                    return this._priority
                },
                set: function(t) {
                    t > 255 && (t = 255),
                    this._priority = t
                }
            }),
            {
                cv: t
            }
        }()),
        Object.assign(n, function() {
            var t = ["enabled"]
              , e = function e(i) {
                n.Cl.call(this, i),
                this.id = "screen",
                this.app = i,
                this.ComponentType = n.cv,
                this.DataType = n.ov,
                this.schema = t,
                this.windowResolution = new n.pt,
                this._drawOrderSyncQueue = new n.IndexedList,
                this.app.Br.on("resizecanvas", this._onResize, this),
                n.Cl.bind("update", this._onUpdate, this),
                this.on("beforeremove", this.onRemoveComponent, this)
            };
            return (e.prototype = Object.create(n.Cl.prototype)).constructor = e,
            n.Component._buildAccessors(n.cv.prototype, t),
            Object.assign(e.prototype, {
                jl: function(t, e, i) {
                    void 0 !== e.priority && (t.priority = e.priority),
                    void 0 !== e.screenSpace && (t.screenSpace = e.screenSpace),
                    t.cull = t.screenSpace,
                    void 0 !== e.scaleMode && (t.scaleMode = e.scaleMode),
                    void 0 !== e.scaleBlend && (t.scaleBlend = e.scaleBlend),
                    void 0 !== e.resolution && (e.resolution instanceof n.pt ? t._resolution.copy(e.resolution) : t._resolution.set(e.resolution[0], e.resolution[1]),
                    t.resolution = t._resolution),
                    void 0 !== e.referenceResolution && (e.referenceResolution instanceof n.pt ? t._referenceResolution.copy(e.referenceResolution) : t._referenceResolution.set(e.referenceResolution[0], e.referenceResolution[1]),
                    t.referenceResolution = t._referenceResolution),
                    t.syncDrawOrder(),
                    n.Cl.prototype.jl.call(this, t, e, i)
                },
                destroy: function() {
                    this.off(),
                    this.app.Br.off("resizecanvas", this._onResize, this)
                },
                _onUpdate: function(t) {
                    var e = this.store;
                    for (var i in e)
                        e[i].Bc.screen.update && e[i].Bc.screen.update(t)
                },
                _onResize: function(t, e) {
                    this.windowResolution.x = t,
                    this.windowResolution.y = e
                },
                cloneComponent: function(t, e) {
                    var i = t.screen;
                    return this.Il(e, {
                        enabled: i.enabled,
                        screenSpace: i.screenSpace,
                        scaleMode: i.scaleMode,
                        resolution: i.resolution.clone(),
                        referenceResolution: i.referenceResolution.clone()
                    })
                },
                onRemoveComponent: function(t, e) {
                    e.onRemove()
                },
                processDrawOrderSyncQueue: function() {
                    for (var t = this._drawOrderSyncQueue.list(), e = 0; e < t.length; e++) {
                        var i = t[e];
                        i.callback.call(i.scope)
                    }
                    this._drawOrderSyncQueue.clear()
                },
                queueDrawOrderSync: function(t, e, i) {
                    this._drawOrderSyncQueue.list().length || this.app.once("prerender", this.processDrawOrderSyncQueue, this),
                    this._drawOrderSyncQueue.has(t) || this._drawOrderSyncQueue.push(t, {
                        callback: e,
                        scope: i
                    })
                }
            }),
            {
                Kd: e
            }
        }()),
        Object.assign(n, {
            ov: function() {
                this.enabled = !0
            }
        }),
        Object.assign(n, function() {
            n.fv = "group",
            n.dv = "image",
            n.lv = "text";
            var t = new n.ut, e = new n.ut, i = new n.zt, s = new n.zt, r = new n.zt, a = new n.zt, h = function t(e, i) {
                n.Component.call(this, e, i),
                this._beingInitialized = !1,
                this._anchor = new n.wt,
                this._localAnchor = new n.wt,
                this._pivot = new n.pt,
                this._width = this._calculatedWidth = 32,
                this._height = this._calculatedHeight = 32,
                this._margin = new n.wt(0,0,-32,-32),
                this._modelTransform = new n.zt,
                this._screenToWorld = new n.zt,
                this._anchorTransform = new n.zt,
                this._anchorDirty = !0,
                this._parentWorldTransform = new n.zt,
                this._screenTransform = new n.zt,
                this._screenCorners = [new n.ut, new n.ut, new n.ut, new n.ut],
                this._canvasCorners = [new n.pt, new n.pt, new n.pt, new n.pt],
                this._worldCorners = [new n.ut, new n.ut, new n.ut, new n.ut],
                this._cornersDirty = !0,
                this._canvasCornersDirty = !0,
                this._worldCornersDirty = !0,
                this.Bc.on("insert", this._onInsert, this),
                this._patch(),
                this.screen = null,
                this._type = n.fv,
                this._image = null,
                this._text = null,
                this._group = null,
                this._drawOrder = 0,
                this._useInput = !1,
                this._layers = [n.LAYERID_UI],
                this._addedModels = [],
                this._batchGroupId = -1,
                this._offsetReadAt = 0,
                this._maskOffset = .5,
                this._maskedBy = null
            }, c, o;
            (h.prototype = Object.create(n.Component.prototype)).constructor = h,
            Object.assign(h.prototype, {
                _patch: function() {
                    this.Bc._sync = this._sync,
                    this.Bc.setPosition = this._setPosition,
                    this.Bc.setLocalPosition = this._setLocalPosition
                },
                _unpatch: function() {
                    this.Bc._sync = n.Entity.prototype._sync,
                    this.Bc.setPosition = n.Entity.prototype.setPosition,
                    this.Bc.setLocalPosition = n.Entity.prototype.setLocalPosition
                },
                _setPosition: (c = new n.ut,
                o = new n.zt,
                function(t, e, i) {
                    if (!this.element.screen)
                        return n.Entity.prototype.setPosition.call(this, t, e, i);
                    t instanceof n.ut ? c.copy(t) : c.set(t, e, i),
                    this.getWorldTransform(),
                    o.copy(this.element._screenToWorld).invert(),
                    o.transformPoint(c, this.localPosition),
                    this._dirtyLocal || this._dirtifyLocal()
                }
                ),
                _setLocalPosition: function(t, e, i) {
                    t instanceof n.ut ? this.localPosition.copy(t) : this.localPosition.set(t, e, i);
                    var s = this.element
                      , r = this.localPosition
                      , a = s._pivot;
                    s._margin.x = r.x - s._calculatedWidth * a.x,
                    s._margin.z = s._localAnchor.z - s._localAnchor.x - s._calculatedWidth - s._margin.x,
                    s._margin.y = r.y - s._calculatedHeight * a.y,
                    s._margin.w = s._localAnchor.w - s._localAnchor.y - s._calculatedHeight - s._margin.y,
                    this._dirtyLocal || this._dirtifyLocal()
                },
                _sync: function() {
                    var a = this.element
                      , h = a.screen;
                    if (h) {
                        if (a._anchorDirty) {
                            var c = 0
                              , o = 0
                              , u = 0
                              , f = 1;
                            if (this._parent && this._parent.element)
                                c = this._parent.element.calculatedWidth,
                                o = this._parent.element.calculatedHeight,
                                u = this._parent.element.pivot.x,
                                f = this._parent.element.pivot.y;
                            else {
                                var d = h.screen.resolution;
                                c = d.x / h.screen.scale,
                                o = d.y / h.screen.scale
                            }
                            a._anchorTransform.setTranslate(c * (a.anchor.x - u), -o * (f - a.anchor.y), 0),
                            a._anchorDirty = !1,
                            a._calculateLocalAnchors()
                        }
                        a._sizeDirty && a._calculateSize()
                    }
                    if (this._dirtyLocal) {
                        this.localTransform.Mt(this.localPosition, this.localRotation, this.localScale);
                        var l = this.localPosition
                          , b = a._pivot;
                        a._margin.x = l.x - a._calculatedWidth * b.x,
                        a._margin.z = a._localAnchor.z - a._localAnchor.x - a._calculatedWidth - a._margin.x,
                        a._margin.y = l.y - a._calculatedHeight * b.y,
                        a._margin.w = a._localAnchor.w - a._localAnchor.y - a._calculatedHeight - a._margin.y,
                        this._dirtyLocal = !1
                    }
                    if (!h)
                        return this._dirtyWorld && (a._cornersDirty = !0,
                        a._canvasCornersDirty = !0,
                        a._worldCornersDirty = !0),
                        n.Entity.prototype._sync.call(this);
                    if (this._dirtyWorld) {
                        if (null === this._parent)
                            this.worldTransform.copy(this.localTransform);
                        else if (this._parent.element ? a._screenToWorld.mul2(this._parent.element._modelTransform, a._anchorTransform) : a._screenToWorld.copy(a._anchorTransform),
                        a._modelTransform.mul2(a._screenToWorld, this.localTransform),
                        h) {
                            a._screenToWorld.mul2(h.screen._screenMatrix, a._screenToWorld),
                            h.screen.screenSpace || a._screenToWorld.mul2(h.worldTransform, a._screenToWorld),
                            this.worldTransform.mul2(a._screenToWorld, this.localTransform);
                            var v = a._parentWorldTransform;
                            v.setIdentity();
                            var m = this._parent;
                            m && m.element && m !== h && (i.Mt(n.ut.ZERO, m.getLocalRotation(), m.getLocalScale()),
                            v.mul2(m.element._parentWorldTransform, i));
                            var g = t;
                            g.set(0, 0, this.localPosition.z);
                            var p = e;
                            p.set(a._absLeft + a._pivot.x * a.calculatedWidth, a._absBottom + a._pivot.y * a.calculatedHeight, 0),
                            i.setTranslate(-p.x, -p.y, -p.z),
                            s.Mt(g, this.getLocalRotation(), this.getLocalScale()),
                            r.setTranslate(p.x, p.y, p.z),
                            a._screenTransform.mul2(a._parentWorldTransform, r).mul(s).mul(i),
                            a._cornersDirty = !0,
                            a._canvasCornersDirty = !0,
                            a._worldCornersDirty = !0
                        } else
                            this.worldTransform.copy(a._modelTransform);
                        this._dirtyWorld = !1
                    }
                },
                _onInsert: function(t) {
                    var e = this._parseUpToScreen();
                    this.Bc._dirtifyWorld(),
                    this._updateScreen(e.screen),
                    this._dirtifyMask()
                },
                _dirtifyMask: function() {
                    for (var t = this.Bc; t; ) {
                        var e = t.getParent();
                        if ((null === e || e.screen) && t.element) {
                            this.system._prerender && this.system._prerender.length || (this.system._prerender = [],
                            this.system.app.once("prerender", this._onPrerender, this));
                            var i = this.system._prerender.indexOf(this.Bc), s;
                            i >= 0 && this.system._prerender.splice(i, 1),
                            this.system._prerender.indexOf(t) < 0 && this.system._prerender.push(t)
                        }
                        t = e
                    }
                },
                _onPrerender: function() {
                    for (var t = 0; t < this.system._prerender.length; t++) {
                        var e = this.system._prerender[t];
                        if (e.element) {
                            var i = 1;
                            e.element.syncMask(1)
                        }
                    }
                    this.system._prerender.length = 0
                },
                _bindScreen: function(t) {
                    t.on("set:resolution", this._onScreenResize, this),
                    t.on("set:referenceresolution", this._onScreenResize, this),
                    t.on("set:scaleblend", this._onScreenResize, this),
                    t.on("set:screenspace", this._onScreenSpaceChange, this),
                    t.on("remove", this._onScreenRemove, this)
                },
                _unbindScreen: function(t) {
                    t.off("set:resolution", this._onScreenResize, this),
                    t.off("set:referenceresolution", this._onScreenResize, this),
                    t.off("set:scaleblend", this._onScreenResize, this),
                    t.off("set:screenspace", this._onScreenSpaceChange, this),
                    t.off("remove", this._onScreenRemove, this)
                },
                _updateScreen: function(t) {
                    this.screen && this.screen !== t && this._unbindScreen(this.screen.screen);
                    var e = this.screen;
                    this.screen = t,
                    this.screen && this._bindScreen(this.screen.screen),
                    this._calculateSize(this._hasSplitAnchorsX, this._hasSplitAnchorsY),
                    this.fire("set:screen", this.screen, e),
                    this._anchorDirty = !0;
                    for (var i = this.Bc.getChildren(), s = 0, n = i.length; s < n; s++)
                        i[s].element && i[s].element._updateScreen(t);
                    this.screen && this.screen.screen.syncDrawOrder()
                },
                syncMask: function(t) {
                    var e = this._parseUpToScreen();
                    this._updateMask(e.mask, t)
                },
                _setMaskedBy: function(t) {
                    var e = this._image || this._text;
                    if (t) {
                        var i = t.element._image._maskRef
                          , s = new n.jc({
                            ref: i,
                            func: n.Ze
                        });
                        e && e._setStencil && e._setStencil(s),
                        this._maskedBy = t
                    } else
                        e && e._setStencil && e._setStencil(null),
                        this._maskedBy = null
                },
                _updateMask: function(t, e) {
                    var i, s, r, a;
                    if (t) {
                        if (this._setMaskedBy(t),
                        this.mask) {
                            var h = t.element._image._maskRef;
                            r = new n.jc({
                                ref: h,
                                func: n.Ze,
                                zpass: n.zs
                            }),
                            this._image._setStencil(r),
                            this._image._maskRef = e,
                            e++,
                            t = this.Bc
                        }
                        for (i = 0,
                        s = (a = this.Bc.getChildren()).length; i < s; i++)
                            a[i].element && a[i].element._updateMask(t, e);
                        this.mask && e--
                    } else {
                        for (this._setMaskedBy(null),
                        this.mask && (r = new n.jc({
                            ref: e,
                            func: n.ni,
                            zpass: n.xs
                        }),
                        this._image._setStencil(r),
                        this._image._maskRef = e,
                        e++,
                        t = this.Bc),
                        i = 0,
                        s = (a = this.Bc.getChildren()).length; i < s; i++)
                            a[i].element && a[i].element._updateMask(t, e);
                        this.mask && e--
                    }
                },
                _parseUpToScreen: function() {
                    for (var t = {
                        screen: null,
                        mask: null
                    }, e = this.Bc._parent; e && !e.screen; )
                        e.element && e.element.mask && (t.mask || (t.mask = e)),
                        e = e.parent;
                    return e && e.screen && (t.screen = e),
                    t
                },
                _onScreenResize: function(t) {
                    this._anchorDirty = !0,
                    this._cornersDirty = !0,
                    this._worldCornersDirty = !0,
                    this._calculateSize(this._hasSplitAnchorsX, this._hasSplitAnchorsY),
                    this.fire("screen:set:resolution", t)
                },
                _onScreenSpaceChange: function() {
                    this.fire("screen:set:screenspace", this.screen.screen.screenSpace)
                },
                _onScreenRemove: function() {
                    this.screen && !this.screen._destroying && this._updateScreen(null)
                },
                _calculateLocalAnchors: function() {
                    var t = 1e3
                      , e = 1e3
                      , i = this.Bc._parent;
                    if (i && i.element)
                        t = i.element.calculatedWidth,
                        e = i.element.calculatedHeight;
                    else if (this.screen) {
                        var s = this.screen.screen.resolution
                          , n = this.screen.screen.scale;
                        t = s.x / n,
                        e = s.y / n
                    }
                    this._localAnchor.set(this._anchor.x * t, this._anchor.y * e, this._anchor.z * t, this._anchor.w * e)
                },
                getOffsetPosition: function(t, e) {
                    var i = this.Bc.getLocalPosition().clone();
                    return i.x += t,
                    i.y += e,
                    this._screenToWorld.transformPoint(i, i),
                    i
                },
                onLayersChanged: function(t, e) {
                    this.addModelToLayers(this._image ? this._image._model : this._text._model),
                    t.off("add", this.onLayerAdded, this),
                    t.off("remove", this.onLayerRemoved, this),
                    e.on("add", this.onLayerAdded, this),
                    e.on("remove", this.onLayerRemoved, this)
                },
                onLayerAdded: function(t) {
                    var e;
                    this.layers.indexOf(t.id) < 0 || (this._image ? t.addMeshInstances(this._image._model.meshInstances) : this._text && t.addMeshInstances(this._text._model.meshInstances))
                },
                onLayerRemoved: function(t) {
                    var e;
                    this.layers.indexOf(t.id) < 0 || (this._image ? t.removeMeshInstances(this._image._model.meshInstances) : this._text && t.removeMeshInstances(this._text._model.meshInstances))
                },
                onEnable: function() {
                    this._image && this._image.onEnable(),
                    this._text && this._text.onEnable(),
                    this._group && this._group.onEnable(),
                    this.useInput && this.system.app.elementInput && this.system.app.elementInput.addElement(this),
                    this.system.app.scene.on("set:layers", this.onLayersChanged, this),
                    this.system.app.scene.layers && (this.system.app.scene.layers.on("add", this.onLayerAdded, this),
                    this.system.app.scene.layers.on("remove", this.onLayerRemoved, this)),
                    this.fire("enableelement")
                },
                onDisable: function() {
                    this.system.app.scene.off("set:layers", this.onLayersChanged, this),
                    this.system.app.scene.layers && (this.system.app.scene.layers.off("add", this.onLayerAdded, this),
                    this.system.app.scene.layers.off("remove", this.onLayerRemoved, this)),
                    this._image && this._image.onDisable(),
                    this._text && this._text.onDisable(),
                    this._group && this._group.onDisable(),
                    this.system.app.elementInput && this.useInput && this.system.app.elementInput.removeElement(this),
                    this._batchGroupId >= 0 && this.system.app.batcher.markGroupDirty(this.batchGroupId),
                    this.fire("disableelement")
                },
                onRemove: function() {
                    this.Bc.off("insert", this._onInsert, this),
                    this._unpatch(),
                    this._image && this._image.destroy(),
                    this._text && this._text.destroy(),
                    this.system.app.elementInput && this.useInput && this.system.app.elementInput.removeElement(this),
                    this.screen && this.screen.screen && (this._unbindScreen(this.screen.screen),
                    this.screen.screen.syncDrawOrder()),
                    this.off()
                },
                _calculateSize: function(t, e) {
                    if (this.Bc._parent || this.screen) {
                        this._calculateLocalAnchors();
                        var i = this._absRight - this._absLeft
                          , s = this._absTop - this._absBottom;
                        t ? this._setWidth(i) : this._setCalculatedWidth(i, !1),
                        e ? this._setHeight(s) : this._setCalculatedHeight(s, !1);
                        var n = this.Bc.getLocalPosition();
                        n.x = this._margin.x + this._calculatedWidth * this._pivot.x,
                        n.y = this._margin.y + this._calculatedHeight * this._pivot.y,
                        this.Bc.setLocalPosition(n),
                        this._sizeDirty = !1
                    }
                },
                _setWidth: function(t) {
                    this._width = t,
                    this._setCalculatedWidth(t, !1),
                    this.fire("set:width", this._width)
                },
                _setHeight: function(t) {
                    this._height = t,
                    this._setCalculatedHeight(t, !1),
                    this.fire("set:height", this._height)
                },
                _setCalculatedWidth: function(t, e) {
                    var i = Math.abs(t - this._calculatedWidth) > 1e-4;
                    if (this._calculatedWidth = t,
                    e) {
                        var s = this.Bc.getLocalPosition()
                          , n = this._pivot;
                        this._margin.x = s.x - this._calculatedWidth * n.x,
                        this._margin.z = this._localAnchor.z - this._localAnchor.x - this._calculatedWidth - this._margin.x
                    }
                    this._flagChildrenAsDirty(),
                    this.fire("set:calculatedWidth", this._calculatedWidth),
                    i && this.fire("resize", this._calculatedWidth, this._calculatedHeight)
                },
                _setCalculatedHeight: function(t, e) {
                    var i = Math.abs(t - this._calculatedHeight) > 1e-4;
                    if (this._calculatedHeight = t,
                    e) {
                        var s = this.Bc.getLocalPosition()
                          , n = this._pivot;
                        this._margin.y = s.y - this._calculatedHeight * n.y,
                        this._margin.w = this._localAnchor.w - this._localAnchor.y - this._calculatedHeight - this._margin.y
                    }
                    this._flagChildrenAsDirty(),
                    this.fire("set:calculatedHeight", this._calculatedHeight),
                    i && this.fire("resize", this._calculatedWidth, this._calculatedHeight)
                },
                _flagChildrenAsDirty: function() {
                    var t, e, i = this.Bc._children;
                    for (t = 0,
                    e = i.length; t < e; t++)
                        i[t].element && (i[t].element._anchorDirty = !0,
                        i[t].element._sizeDirty = !0)
                },
                addModelToLayers: function(t) {
                    var e;
                    this._addedModels.push(t);
                    for (var i = 0; i < this.layers.length; i++)
                        (e = this.system.app.scene.layers.getLayerById(this.layers[i])) && e.addMeshInstances(t.meshInstances)
                },
                removeModelFromLayers: function(t) {
                    var e, i = this._addedModels.indexOf(t);
                    i >= 0 && this._addedModels.splice(i, 1);
                    for (var s = 0; s < this.layers.length; s++)
                        (e = this.system.app.scene.layers.getLayerById(this.layers[s])) && e.removeMeshInstances(t.meshInstances)
                },
                getMaskOffset: function() {
                    var t = this.system.app.frame;
                    this._offsetReadAt !== t && (this._maskOffset = .5,
                    this._offsetReadAt = t);
                    var e = this._maskOffset;
                    return this._maskOffset -= .001,
                    e
                },
                isVisibleForCamera: function(t) {
                    var e, i, s, n;
                    if (this.maskedBy) {
                        var r = this.maskedBy.element.screenCorners;
                        e = Math.min(Math.min(r[0].x, r[1].x), Math.min(r[2].x, r[3].x)),
                        i = Math.max(Math.max(r[0].x, r[1].x), Math.max(r[2].x, r[3].x)),
                        n = Math.min(Math.min(r[0].y, r[1].y), Math.min(r[2].y, r[3].y)),
                        s = Math.max(Math.max(r[0].y, r[1].y), Math.max(r[2].y, r[3].y))
                    } else {
                        var a = this.system.app.Br.width
                          , h = this.system.app.Br.height
                          , c = t._rect.width * a
                          , o = t._rect.height * h;
                        i = (e = t._rect.x * a) + c,
                        n = (s = (1 - t._rect.y) * h) - o
                    }
                    var u = this.screenCorners
                      , f = Math.min(Math.min(u[0].x, u[1].x), Math.min(u[2].x, u[3].x))
                      , d = Math.max(Math.max(u[0].x, u[1].x), Math.max(u[2].x, u[3].x))
                      , l = Math.min(Math.min(u[0].y, u[1].y), Math.min(u[2].y, u[3].y))
                      , b = Math.max(Math.max(u[0].y, u[1].y), Math.max(u[2].y, u[3].y));
                    return !(d < e || f > i || l > s || b < n)
                },
                _isScreenSpace: function() {
                    return !(!this.screen || !this.screen.screen) && this.screen.screen.screenSpace
                },
                _isScreenCulled: function() {
                    return !(!this.screen || !this.screen.screen) && this.screen.screen.cull
                }
            }),
            Object.defineProperty(h.prototype, "type", {
                get: function() {
                    return this._type
                },
                set: function(t) {
                    t !== this._type && (this._type = t,
                    this._image && (this._image.destroy(),
                    this._image = null),
                    this._text && (this._text.destroy(),
                    this._text = null),
                    t === n.dv ? this._image = new n.bv(this) : t === n.lv && (this._text = new n.vv(this)))
                }
            }),
            Object.defineProperty(h.prototype, "layers", {
                get: function() {
                    return this._layers
                },
                set: function(t) {
                    var e, i, s;
                    if (this._addedModels.length)
                        for (e = 0; e < this._layers.length; e++)
                            if (s = this.system.app.scene.layers.getLayerById(this._layers[e]))
                                for (i = 0; i < this._addedModels.length; i++)
                                    s.removeMeshInstances(this._addedModels[i].meshInstances);
                    if (this._layers = t,
                    this.enabled && this.Bc.enabled && this._addedModels.length)
                        for (e = 0; e < this._layers.length; e++)
                            if (s = this.system.app.scene.layers.getLayerById(this._layers[e]))
                                for (i = 0; i < this._addedModels.length; i++)
                                    s.addMeshInstances(this._addedModels[i].meshInstances)
                }
            }),
            Object.defineProperty(h.prototype, "drawOrder", {
                get: function() {
                    return this._drawOrder
                },
                set: function(t) {
                    var e = 0;
                    this.screen && (e = this.screen.screen.priority),
                    t > 16777215 && (t = 16777215),
                    this._drawOrder = (e << 24) + t,
                    this.fire("set:draworder", this._drawOrder)
                }
            }),
            Object.defineProperty(h.prototype, "_absLeft", {
                get: function() {
                    return this._localAnchor.x + this._margin.x
                }
            }),
            Object.defineProperty(h.prototype, "_absRight", {
                get: function() {
                    return this._localAnchor.z - this._margin.z
                }
            }),
            Object.defineProperty(h.prototype, "_absTop", {
                get: function() {
                    return this._localAnchor.w - this._margin.w
                }
            }),
            Object.defineProperty(h.prototype, "_absBottom", {
                get: function() {
                    return this._localAnchor.y + this._margin.y
                }
            }),
            Object.defineProperty(h.prototype, "margin", {
                get: function() {
                    return this._margin
                },
                set: function(t) {
                    this._margin.copy(t),
                    this._calculateSize(!0, !0),
                    this.fire("set:margin", this._margin)
                }
            }),
            Object.defineProperty(h.prototype, "left", {
                get: function() {
                    return this._margin.x
                },
                set: function(t) {
                    this._margin.x = t;
                    var e = this.Bc.getLocalPosition()
                      , i = this._absRight
                      , s = this._localAnchor.x + t;
                    this._setWidth(i - s),
                    e.x = t + this._calculatedWidth * this._pivot.x,
                    this.Bc.setLocalPosition(e)
                }
            }),
            Object.defineProperty(h.prototype, "right", {
                get: function() {
                    return this._margin.z
                },
                set: function(t) {
                    this._margin.z = t;
                    var e = this.Bc.getLocalPosition()
                      , i = this._absLeft
                      , s = this._localAnchor.z - t;
                    this._setWidth(s - i),
                    e.x = this._localAnchor.z - this._localAnchor.x - t - this._calculatedWidth * (1 - this._pivot.x),
                    this.Bc.setLocalPosition(e)
                }
            }),
            Object.defineProperty(h.prototype, "top", {
                get: function() {
                    return this._margin.w
                },
                set: function(t) {
                    this._margin.w = t;
                    var e = this.Bc.getLocalPosition()
                      , i = this._absBottom
                      , s = this._localAnchor.w - t;
                    this._setHeight(s - i),
                    e.y = this._localAnchor.w - this._localAnchor.y - t - this._calculatedHeight * (1 - this._pivot.y),
                    this.Bc.setLocalPosition(e)
                }
            }),
            Object.defineProperty(h.prototype, "bottom", {
                get: function() {
                    return this._margin.y
                },
                set: function(t) {
                    this._margin.y = t;
                    var e = this.Bc.getLocalPosition()
                      , i = this._absTop
                      , s = this._localAnchor.y + t;
                    this._setHeight(i - s),
                    e.y = t + this._calculatedHeight * this._pivot.y,
                    this.Bc.setLocalPosition(e)
                }
            }),
            Object.defineProperty(h.prototype, "width", {
                get: function() {
                    return this._width
                },
                set: function(t) {
                    this._width = t,
                    this._hasSplitAnchorsX || this._setCalculatedWidth(t, !0),
                    this.fire("set:width", this._width)
                }
            }),
            Object.defineProperty(h.prototype, "height", {
                get: function() {
                    return this._height
                },
                set: function(t) {
                    this._height = t,
                    this._hasSplitAnchorsY || this._setCalculatedHeight(t, !0),
                    this.fire("set:height", this._height)
                }
            }),
            Object.defineProperty(h.prototype, "calculatedWidth", {
                get: function() {
                    return this._calculatedWidth
                },
                set: function(t) {
                    this._setCalculatedWidth(t, !0)
                }
            }),
            Object.defineProperty(h.prototype, "calculatedHeight", {
                get: function() {
                    return this._calculatedHeight
                },
                set: function(t) {
                    this._setCalculatedHeight(t, !0)
                }
            }),
            Object.defineProperty(h.prototype, "pivot", {
                get: function() {
                    return this._pivot
                },
                set: function(t) {
                    var e = this._pivot.x
                      , i = this._pivot.y;
                    t instanceof n.pt ? this._pivot.set(t.x, t.y) : this._pivot.set(t[0], t[1]);
                    var s = this._margin.x + this._margin.z
                      , r = this._pivot.x - e;
                    this._margin.x += s * r,
                    this._margin.z -= s * r;
                    var a = this._margin.y + this._margin.w
                      , h = this._pivot.y - i;
                    this._margin.y += a * h,
                    this._margin.w -= a * h,
                    this._anchorDirty = !0,
                    this._cornersDirty = !0,
                    this._worldCornersDirty = !0,
                    this._calculateSize(),
                    this.fire("set:pivot", this._pivot)
                }
            }),
            Object.defineProperty(h.prototype, "anchor", {
                get: function() {
                    return this._anchor
                },
                set: function(t) {
                    t instanceof n.wt ? this._anchor.set(t.x, t.y, t.z, t.w) : this._anchor.set(t[0], t[1], t[2], t[3]),
                    this.Bc._parent || this.screen ? this._calculateSize(this._hasSplitAnchorsX, this._hasSplitAnchorsY) : this._calculateLocalAnchors(),
                    this._anchorDirty = !0,
                    this.Bc._dirtyLocal || this.Bc._dirtifyLocal(),
                    this.fire("set:anchor", this._anchor)
                }
            }),
            Object.defineProperty(h.prototype, "_hasSplitAnchorsX", {
                get: function() {
                    return Math.abs(this._anchor.x - this._anchor.z) > .001
                }
            }),
            Object.defineProperty(h.prototype, "_hasSplitAnchorsY", {
                get: function() {
                    return Math.abs(this._anchor.y - this._anchor.w) > .001
                }
            }),
            Object.defineProperty(h.prototype, "aabb", {
                get: function() {
                    return this._image ? this._image.aabb : this._text ? this._text.aabb : null
                }
            }),
            Object.defineProperty(h.prototype, "screenCorners", {
                get: function() {
                    if (!this._cornersDirty || !this.screen)
                        return this._screenCorners;
                    var t = this.Bc.parent && this.Bc.parent.element && this.Bc.parent.element.screenCorners[0];
                    this._screenCorners[0].set(this._absLeft, this._absBottom, 0),
                    this._screenCorners[1].set(this._absRight, this._absBottom, 0),
                    this._screenCorners[2].set(this._absRight, this._absTop, 0),
                    this._screenCorners[3].set(this._absLeft, this._absTop, 0);
                    for (var e = this.screen.screen.screenSpace, i = 0; i < 4; i++)
                        this._screenTransform.transformPoint(this._screenCorners[i], this._screenCorners[i]),
                        e && this._screenCorners[i].scale(this.screen.screen.scale),
                        t && this._screenCorners[i].add(t);
                    return this._cornersDirty = !1,
                    this._canvasCornersDirty = !0,
                    this._worldCornersDirty = !0,
                    this._screenCorners
                }
            }),
            Object.defineProperty(h.prototype, "canvasCorners", {
                get: function() {
                    if (!this._canvasCornersDirty || !this.screen || !this.screen.screen.screenSpace)
                        return this._canvasCorners;
                    for (var t = this.system.app.Br, e = this.screenCorners, i = t.canvas.clientWidth / t.width, s = t.canvas.clientHeight / t.height, n = 0; n < 4; n++)
                        this._canvasCorners[n].set(e[n].x * i, (t.height - e[n].y) * s);
                    return this._canvasCornersDirty = !1,
                    this._canvasCorners
                }
            }),
            Object.defineProperty(h.prototype, "worldCorners", {
                get: function() {
                    if (!this._worldCornersDirty)
                        return this._worldCorners;
                    if (this.screen) {
                        var e = this.screenCorners;
                        if (!this.screen.screen.screenSpace) {
                            i.copy(this.screen.screen._screenMatrix),
                            i.data[13] = -i.data[13],
                            i.mul2(this.screen.getWorldTransform(), i);
                            for (var h = 0; h < 4; h++)
                                i.transformPoint(e[h], this._worldCorners[h])
                        }
                    } else {
                        var c = this.Bc.getLocalPosition();
                        i.setTranslate(-c.x, -c.y, -c.z),
                        s.Mt(n.ut.ZERO, this.Bc.getLocalRotation(), this.Bc.getLocalScale()),
                        r.setTranslate(c.x, c.y, c.z),
                        a.copy(this.Bc.parent.getWorldTransform()),
                        a.mul(r).mul(s).mul(i),
                        t.set(c.x - this.pivot.x * this.calculatedWidth, c.y - this.pivot.y * this.calculatedHeight, c.z),
                        a.transformPoint(t, this._worldCorners[0]),
                        t.set(c.x + (1 - this.pivot.x) * this.calculatedWidth, c.y - this.pivot.y * this.calculatedHeight, c.z),
                        a.transformPoint(t, this._worldCorners[1]),
                        t.set(c.x + (1 - this.pivot.x) * this.calculatedWidth, c.y + (1 - this.pivot.y) * this.calculatedHeight, c.z),
                        a.transformPoint(t, this._worldCorners[2]),
                        t.set(c.x - this.pivot.x * this.calculatedWidth, c.y + (1 - this.pivot.y) * this.calculatedHeight, c.z),
                        a.transformPoint(t, this._worldCorners[3])
                    }
                    return this._worldCornersDirty = !1,
                    this._worldCorners
                }
            }),
            Object.defineProperty(h.prototype, "textWidth", {
                get: function() {
                    return this._text ? this._text.width : 0
                }
            }),
            Object.defineProperty(h.prototype, "textHeight", {
                get: function() {
                    return this._text ? this._text.height : 0
                }
            }),
            Object.defineProperty(h.prototype, "useInput", {
                get: function() {
                    return this._useInput
                },
                set: function(t) {
                    this._useInput !== t && (this._useInput = t,
                    this.system.app.elementInput && (t ? this.enabled && this.Bc.enabled && this.system.app.elementInput.addElement(this) : this.system.app.elementInput.removeElement(this)),
                    this.fire("set:useInput", t))
                }
            }),
            Object.defineProperty(h.prototype, "batchGroupId", {
                get: function() {
                    return this._batchGroupId
                },
                set: function(t) {
                    this._batchGroupId !== t && (this._batchGroupId >= 0 && this.system.app.batcher.markGroupDirty(this._batchGroupId),
                    t >= 0 && this.system.app.batcher.markGroupDirty(t),
                    t < 0 && this._batchGroupId >= 0 && this.enabled && this.Bc.enabled && (this._image._model ? this.addModelToLayers(this._image._model) : this._text._model && this.addModelToLayers(this._text._model)),
                    this._batchGroupId = t)
                }
            }),
            Object.defineProperty(h.prototype, "maskedBy", {
                get: function() {
                    return this._maskedBy
                }
            });
            var u = function(t) {
                Object.defineProperty(h.prototype, t, {
                    get: function() {
                        return this._text ? this._text[t] : this._image ? this._image[t] : null
                    },
                    set: function(e) {
                        this._text ? this._text[t] = e : this._image && (this._image[t] = e)
                    }
                })
            };
            return u("fontSize"),
            u("color"),
            u("font"),
            u("fontAsset"),
            u("spacing"),
            u("lineHeight"),
            u("wrapLines"),
            u("lines"),
            u("alignment"),
            u("autoWidth"),
            u("autoHeight"),
            u("rtlReorder"),
            u("unicodeConverter"),
            u("text"),
            u("texture"),
            u("textureAsset"),
            u("material"),
            u("materialAsset"),
            u("sprite"),
            u("spriteAsset"),
            u("spriteFrame"),
            u("pixelsPerUnit"),
            u("opacity"),
            u("rect"),
            u("mask"),
            {
                mv: h
            }
        }()),
        Object.assign(n, function() {
            var t = ["enabled"]
              , e = function e(i) {
                n.Cl.call(this, i),
                this.id = "element",
                this.app = i,
                this.ComponentType = n.mv,
                this.DataType = n.gv,
                this.schema = t,
                this._unicodeConverter = null,
                this._rtlReorder = null,
                this._defaultTexture = new n.xn(i.Br,{
                    width: 1,
                    height: 1,
                    format: n.vi
                }),
                this._defaultTexture.name = "element-system";
                var s = this._defaultTexture.lock()
                  , r = new Uint8Array(4);
                r[0] = 255,
                r[1] = 255,
                r[2] = 255,
                r[3] = 255,
                s.set(r),
                this._defaultTexture.unlock(),
                this.pv = null,
                this.defaultImage9SlicedMaterial = null,
                this.defaultImage9TiledMaterial = null,
                this.defaultImageMaskMaterial = null,
                this.defaultImage9SlicedMaskMaterial = null,
                this.defaultImage9TiledMaskMaterial = null,
                this.wv = null,
                this.defaultScreenSpaceImage9SlicedMaterial = null,
                this.defaultScreenSpaceImage9TiledMaterial = null,
                this.defaultScreenSpaceImageMask9SlicedMaterial = null,
                this.defaultScreenSpaceImageMask9TiledMaterial = null,
                this.defaultScreenSpaceImageMaskMaterial = null,
                this.xv = null,
                this.defaultBitmapTextMaterial = null,
                this.zv = null,
                this.defaultScreenSpaceBitmapTextMaterial = null,
                this.Av = [],
                this.on("beforeremove", this.onRemoveComponent, this)
            };
            return (e.prototype = Object.create(n.Cl.prototype)).constructor = e,
            n.Component._buildAccessors(n.mv.prototype, t),
            Object.assign(e.prototype, {
                destroy: function() {
                    this._defaultTexture.destroy()
                },
                jl: function(t, e, i) {
                    t._beingInitialized = !0,
                    void 0 !== e.anchor && (e.anchor instanceof n.wt ? t.anchor.copy(e.anchor) : t.anchor.set(e.anchor[0], e.anchor[1], e.anchor[2], e.anchor[3])),
                    void 0 !== e.pivot && (e.pivot instanceof n.pt ? t.pivot.copy(e.pivot) : t.pivot.set(e.pivot[0], e.pivot[1]));
                    var s = Math.abs(t.anchor.x - t.anchor.z) > .001, r = Math.abs(t.anchor.y - t.anchor.w) > .001, a = !1, h;
                    void 0 !== e.margin && (e.margin instanceof n.wt ? t.margin.copy(e.margin) : t._margin.set(e.margin[0], e.margin[1], e.margin[2], e.margin[3]),
                    a = !0),
                    void 0 !== e.left && (t._margin.x = e.left,
                    a = !0),
                    void 0 !== e.bottom && (t._margin.y = e.bottom,
                    a = !0),
                    void 0 !== e.right && (t._margin.z = e.right,
                    a = !0),
                    void 0 !== e.top && (t._margin.w = e.top,
                    a = !0),
                    a && (t.margin = t._margin);
                    var c = !1;
                    void 0 === e.width || s ? s && (c = !0) : t.width = e.width,
                    void 0 === e.height || r ? r && (c = !0) : t.height = e.height,
                    c && (t.anchor = t.anchor),
                    void 0 !== e.enabled && (t.enabled = e.enabled),
                    void 0 !== e.useInput && (t.useInput = e.useInput),
                    t.batchGroupId = void 0 === e.batchGroupId || null === e.batchGroupId ? -1 : e.batchGroupId,
                    e.layers && "array" === n.type(e.layers) && (t.layers = e.layers.slice(0)),
                    t.type = e.type,
                    t.type === n.dv ? (void 0 !== e.rect && (t.rect = e.rect),
                    void 0 !== e.color && ((h = e.color)instanceof n.D || (h = new n.D(e.color[0],e.color[1],e.color[2])),
                    t.color = h),
                    void 0 !== e.opacity && (t.opacity = e.opacity),
                    void 0 !== e.textureAsset && (t.textureAsset = e.textureAsset),
                    e.texture && (t.texture = e.texture),
                    void 0 !== e.spriteAsset && (t.spriteAsset = e.spriteAsset),
                    e.sprite && (t.sprite = e.sprite),
                    void 0 !== e.spriteFrame && (t.spriteFrame = e.spriteFrame),
                    void 0 !== e.pixelsPerUnit && null !== e.pixelsPerUnit && (t.pixelsPerUnit = e.pixelsPerUnit),
                    void 0 !== e.materialAsset && (t.materialAsset = e.materialAsset),
                    e.material && (t.material = e.material),
                    void 0 !== e.mask && (t.mask = e.mask)) : t.type === n.lv && (void 0 !== e.autoWidth && (t.autoWidth = e.autoWidth),
                    void 0 !== e.autoHeight && (t.autoHeight = e.autoHeight),
                    void 0 !== e.rtlReorder && (t.rtlReorder = e.rtlReorder),
                    void 0 !== e.unicodeConverter && (t.unicodeConverter = e.unicodeConverter),
                    void 0 !== e.text && (t.text = e.text),
                    void 0 !== e.color && ((h = e.color)instanceof n.D || (h = new n.D(h[0],h[1],h[2])),
                    t.color = h),
                    void 0 !== e.opacity && (t.opacity = e.opacity),
                    void 0 !== e.spacing && (t.spacing = e.spacing),
                    void 0 !== e.fontSize && (t.fontSize = e.fontSize,
                    e.lineHeight || (t.lineHeight = e.fontSize)),
                    void 0 !== e.lineHeight && (t.lineHeight = e.lineHeight),
                    void 0 !== e.wrapLines && (t.wrapLines = e.wrapLines),
                    void 0 !== e.fontAsset && (t.fontAsset = e.fontAsset),
                    void 0 !== e.font && (t.font = e.font),
                    void 0 !== e.alignment && (t.alignment = e.alignment));
                    var o = t._parseUpToScreen();
                    o.screen && t._updateScreen(o.screen),
                    n.Cl.prototype.jl.call(this, t, e, i),
                    t._beingInitialized = !1,
                    t.type === n.dv && t._image._meshDirty && t._image._updateMesh(t._image.mesh)
                },
                onRemoveComponent: function(t, e) {
                    e.onRemove()
                },
                cloneComponent: function(t, e) {
                    var i = t.element;
                    return this.Il(e, {
                        enabled: i.enabled,
                        width: i.width,
                        height: i.height,
                        anchor: i.anchor.clone(),
                        pivot: i.pivot.clone(),
                        margin: i.margin.clone(),
                        alignment: i.alignment && i.alignment.clone() || i.alignment,
                        autoWidth: i.autoWidth,
                        autoHeight: i.autoHeight,
                        type: i.type,
                        rect: i.rect && i.rect.clone() || i.rect,
                        rtlReorder: i.rtlReorder,
                        unicodeConverter: i.unicodeConverter,
                        materialAsset: i.materialAsset,
                        material: i.material,
                        color: i.color && i.color.clone() || i.color,
                        opacity: i.opacity,
                        textureAsset: i.textureAsset,
                        texture: i.texture,
                        spriteAsset: i.spriteAsset,
                        sprite: i.sprite,
                        spriteFrame: i.spriteFrame,
                        pixelsPerUnit: i.pixelsPerUnit,
                        text: i.text,
                        spacing: i.spacing,
                        lineHeight: i.lineHeight,
                        wrapLines: i.wrapLines,
                        layers: i.layers,
                        fontSize: i.fontSize,
                        fontAsset: i.fontAsset,
                        font: i.font,
                        useInput: i.useInput,
                        batchGroupId: i.batchGroupId,
                        mask: i.mask
                    })
                },
                getTextElementMaterial: function(t, e) {
                    return t ? e ? (this.zv || (this.zv = new n.Sn,
                    this.zv.name = "defaultScreenSpaceTextMaterial",
                    this.zv.msdfMap = this._defaultTexture,
                    this.zv.useLighting = !1,
                    this.zv.useGammaTonemap = !1,
                    this.zv.useFog = !1,
                    this.zv.useSkybox = !1,
                    this.zv.diffuse.set(0, 0, 0),
                    this.zv.emissive.set(1, 1, 1),
                    this.zv.opacity = .5,
                    this.zv.blendType = n.za,
                    this.zv.depthWrite = !1,
                    this.zv.depthTest = !1,
                    this.zv.update()),
                    this.zv) : (this.defaultScreenSpaceBitmapTextMaterial || (this.defaultScreenSpaceBitmapTextMaterial = new n.Sn,
                    this.defaultScreenSpaceBitmapTextMaterial.name = "defaultScreenSpaceBitmapTextMaterial",
                    this.defaultScreenSpaceBitmapTextMaterial.emissive.set(.5, .5, .5),
                    this.defaultScreenSpaceBitmapTextMaterial.emissiveMap = this._defaultTexture,
                    this.defaultScreenSpaceBitmapTextMaterial.emissiveTint = !0,
                    this.defaultScreenSpaceBitmapTextMaterial.opacity = .5,
                    this.defaultScreenSpaceBitmapTextMaterial.opacityMap = this._defaultTexture,
                    this.defaultScreenSpaceBitmapTextMaterial.opacityMapChannel = "a",
                    this.defaultScreenSpaceBitmapTextMaterial.useLighting = !1,
                    this.defaultScreenSpaceBitmapTextMaterial.useGammaTonemap = !1,
                    this.defaultScreenSpaceBitmapTextMaterial.useFog = !1,
                    this.defaultScreenSpaceBitmapTextMaterial.useSkybox = !1,
                    this.defaultScreenSpaceBitmapTextMaterial.diffuse.set(0, 0, 0),
                    this.defaultScreenSpaceBitmapTextMaterial.blendType = n.za,
                    this.defaultScreenSpaceBitmapTextMaterial.depthWrite = !1,
                    this.defaultScreenSpaceBitmapTextMaterial.depthTest = !1,
                    this.defaultScreenSpaceBitmapTextMaterial.update()),
                    this.defaultScreenSpaceBitmapTextMaterial) : e ? (this.xv || (this.xv = new n.Sn,
                    this.xv.name = "defaultTextMaterial",
                    this.xv.msdfMap = this._defaultTexture,
                    this.xv.useLighting = !1,
                    this.xv.useGammaTonemap = !1,
                    this.xv.useFog = !1,
                    this.xv.useSkybox = !1,
                    this.xv.diffuse.set(0, 0, 0),
                    this.xv.emissive.set(1, 1, 1),
                    this.xv.opacity = .5,
                    this.xv.blendType = n.za,
                    this.xv.depthWrite = !1,
                    this.xv.update()),
                    this.xv) : (this.defaultBitmapTextMaterial || (this.defaultBitmapTextMaterial = new n.Sn,
                    this.defaultBitmapTextMaterial.name = "defaultBitmapTextMaterial",
                    this.defaultBitmapTextMaterial.emissive.set(.5, .5, .5),
                    this.defaultBitmapTextMaterial.emissiveTint = !0,
                    this.defaultBitmapTextMaterial.emissiveMap = this._defaultTexture,
                    this.defaultBitmapTextMaterial.opacity = .5,
                    this.defaultBitmapTextMaterial.opacityMap = this._defaultTexture,
                    this.defaultBitmapTextMaterial.opacityMapChannel = "a",
                    this.defaultBitmapTextMaterial.useLighting = !1,
                    this.defaultBitmapTextMaterial.useGammaTonemap = !1,
                    this.defaultBitmapTextMaterial.useFog = !1,
                    this.defaultBitmapTextMaterial.useSkybox = !1,
                    this.defaultBitmapTextMaterial.diffuse.set(0, 0, 0),
                    this.defaultBitmapTextMaterial.blendType = n.za,
                    this.defaultBitmapTextMaterial.depthWrite = !1,
                    this.defaultBitmapTextMaterial.update()),
                    this.defaultBitmapTextMaterial)
                },
                _createBaseImageMaterial: function() {
                    var t = new n.Sn;
                    return t.diffuse.set(0, 0, 0),
                    t.emissive.set(.5, .5, .5),
                    t.emissiveMap = this._defaultTexture,
                    t.emissiveTint = !0,
                    t.opacityMap = this._defaultTexture,
                    t.opacityMapChannel = "a",
                    t.opacityTint = !0,
                    t.opacity = 0,
                    t.useLighting = !1,
                    t.useGammaTonemap = !1,
                    t.useFog = !1,
                    t.useSkybox = !1,
                    t.blendType = n.za,
                    t.depthWrite = !1,
                    t
                },
                getImageElementMaterial: function(t, e, i, s) {
                    return t ? e ? i ? (this.defaultScreenSpaceImageMask9SlicedMaterial || (this.defaultScreenSpaceImageMask9SlicedMaterial = this._createBaseImageMaterial(),
                    this.defaultScreenSpaceImageMask9SlicedMaterial.name = "defaultScreenSpaceImageMask9SlicedMaterial",
                    this.defaultScreenSpaceImageMask9SlicedMaterial.nineSlicedMode = n.SPRITE_RENDERMODE_SLICED,
                    this.defaultScreenSpaceImageMask9SlicedMaterial.depthTest = !1,
                    this.defaultScreenSpaceImageMask9SlicedMaterial.alphaTest = 1,
                    this.defaultScreenSpaceImageMask9SlicedMaterial.redWrite = !1,
                    this.defaultScreenSpaceImageMask9SlicedMaterial.greenWrite = !1,
                    this.defaultScreenSpaceImageMask9SlicedMaterial.blueWrite = !1,
                    this.defaultScreenSpaceImageMask9SlicedMaterial.alphaWrite = !1,
                    this.defaultScreenSpaceImageMask9SlicedMaterial.update(),
                    this.Av.push(this.defaultScreenSpaceImageMask9SlicedMaterial)),
                    this.defaultScreenSpaceImageMask9SlicedMaterial) : s ? (this.defaultScreenSpaceImageMask9TiledMaterial || (this.defaultScreenSpaceImageMask9TiledMaterial = this.defaultScreenSpaceImage9TiledMaterial.clone(),
                    this.defaultScreenSpaceImageMask9TiledMaterial.name = "defaultScreenSpaceImageMask9TiledMaterial",
                    this.defaultScreenSpaceImageMask9TiledMaterial.nineSlicedMode = n.SPRITE_RENDERMODE_TILED,
                    this.defaultScreenSpaceImageMask9TiledMaterial.depthTest = !1,
                    this.defaultScreenSpaceImageMask9TiledMaterial.alphaTest = 1,
                    this.defaultScreenSpaceImageMask9TiledMaterial.redWrite = !1,
                    this.defaultScreenSpaceImageMask9TiledMaterial.greenWrite = !1,
                    this.defaultScreenSpaceImageMask9TiledMaterial.blueWrite = !1,
                    this.defaultScreenSpaceImageMask9TiledMaterial.alphaWrite = !1,
                    this.defaultScreenSpaceImageMask9TiledMaterial.update(),
                    this.Av.push(this.defaultScreenSpaceImageMask9TiledMaterial)),
                    this.defaultScreenSpaceImageMask9TiledMaterial) : (this.defaultScreenSpaceImageMaskMaterial || (this.defaultScreenSpaceImageMaskMaterial = this._createBaseImageMaterial(),
                    this.defaultScreenSpaceImageMaskMaterial.name = "defaultScreenSpaceImageMaskMaterial",
                    this.defaultScreenSpaceImageMaskMaterial.depthTest = !1,
                    this.defaultScreenSpaceImageMaskMaterial.alphaTest = 1,
                    this.defaultScreenSpaceImageMaskMaterial.redWrite = !1,
                    this.defaultScreenSpaceImageMaskMaterial.greenWrite = !1,
                    this.defaultScreenSpaceImageMaskMaterial.blueWrite = !1,
                    this.defaultScreenSpaceImageMaskMaterial.alphaWrite = !1,
                    this.defaultScreenSpaceImageMaskMaterial.update(),
                    this.Av.push(this.defaultScreenSpaceImageMaskMaterial)),
                    this.defaultScreenSpaceImageMaskMaterial) : i ? (this.defaultScreenSpaceImage9SlicedMaterial || (this.defaultScreenSpaceImage9SlicedMaterial = this._createBaseImageMaterial(),
                    this.defaultScreenSpaceImage9SlicedMaterial.name = "defaultScreenSpaceImage9SlicedMaterial",
                    this.defaultScreenSpaceImage9SlicedMaterial.nineSlicedMode = n.SPRITE_RENDERMODE_SLICED,
                    this.defaultScreenSpaceImage9SlicedMaterial.depthTest = !1,
                    this.defaultScreenSpaceImage9SlicedMaterial.update(),
                    this.Av.push(this.defaultScreenSpaceImage9SlicedMaterial)),
                    this.defaultScreenSpaceImage9SlicedMaterial) : s ? (this.defaultScreenSpaceImage9TiledMaterial || (this.defaultScreenSpaceImage9TiledMaterial = this._createBaseImageMaterial(),
                    this.defaultScreenSpaceImage9TiledMaterial.name = "defaultScreenSpaceImage9TiledMaterial",
                    this.defaultScreenSpaceImage9TiledMaterial.nineSlicedMode = n.SPRITE_RENDERMODE_TILED,
                    this.defaultScreenSpaceImage9TiledMaterial.depthTest = !1,
                    this.defaultScreenSpaceImage9TiledMaterial.update(),
                    this.Av.push(this.defaultScreenSpaceImage9TiledMaterial)),
                    this.defaultScreenSpaceImage9TiledMaterial) : (this.wv || (this.wv = this._createBaseImageMaterial(),
                    this.wv.name = "defaultScreenSpaceImageMaterial",
                    this.wv.depthTest = !1,
                    this.wv.update(),
                    this.Av.push(this.wv)),
                    this.wv) : e ? i ? (this.defaultImage9SlicedMaskMaterial || (this.defaultImage9SlicedMaskMaterial = this._createBaseImageMaterial(),
                    this.defaultImage9SlicedMaskMaterial.name = "defaultImage9SlicedMaskMaterial",
                    this.defaultImage9SlicedMaskMaterial.nineSlicedMode = n.SPRITE_RENDERMODE_SLICED,
                    this.defaultImage9SlicedMaskMaterial.alphaTest = 1,
                    this.defaultImage9SlicedMaskMaterial.redWrite = !1,
                    this.defaultImage9SlicedMaskMaterial.greenWrite = !1,
                    this.defaultImage9SlicedMaskMaterial.blueWrite = !1,
                    this.defaultImage9SlicedMaskMaterial.alphaWrite = !1,
                    this.defaultImage9SlicedMaskMaterial.update(),
                    this.Av.push(this.defaultImage9SlicedMaskMaterial)),
                    this.defaultImage9SlicedMaskMaterial) : s ? (this.defaultImage9TiledMaskMaterial || (this.defaultImage9TiledMaskMaterial = this._createBaseImageMaterial(),
                    this.defaultImage9TiledMaskMaterial.name = "defaultImage9TiledMaskMaterial",
                    this.defaultImage9TiledMaskMaterial.nineSlicedMode = n.SPRITE_RENDERMODE_TILED,
                    this.defaultImage9TiledMaskMaterial.alphaTest = 1,
                    this.defaultImage9TiledMaskMaterial.redWrite = !1,
                    this.defaultImage9TiledMaskMaterial.greenWrite = !1,
                    this.defaultImage9TiledMaskMaterial.blueWrite = !1,
                    this.defaultImage9TiledMaskMaterial.alphaWrite = !1,
                    this.defaultImage9TiledMaskMaterial.update(),
                    this.Av.push(this.defaultImage9TiledMaskMaterial)),
                    this.defaultImage9TiledMaskMaterial) : (this.defaultImageMaskMaterial || (this.defaultImageMaskMaterial = this._createBaseImageMaterial(),
                    this.defaultImageMaskMaterial.name = "defaultImageMaskMaterial",
                    this.defaultImageMaskMaterial.alphaTest = 1,
                    this.defaultImageMaskMaterial.redWrite = !1,
                    this.defaultImageMaskMaterial.greenWrite = !1,
                    this.defaultImageMaskMaterial.blueWrite = !1,
                    this.defaultImageMaskMaterial.alphaWrite = !1,
                    this.defaultImageMaskMaterial.update(),
                    this.Av.push(this.defaultImageMaskMaterial)),
                    this.defaultImageMaskMaterial) : i ? (this.defaultImage9SlicedMaterial || (this.defaultImage9SlicedMaterial = this._createBaseImageMaterial(),
                    this.defaultImage9SlicedMaterial.name = "defaultImage9SlicedMaterial",
                    this.defaultImage9SlicedMaterial.nineSlicedMode = n.SPRITE_RENDERMODE_SLICED,
                    this.defaultImage9SlicedMaterial.update(),
                    this.Av.push(this.defaultImage9SlicedMaterial)),
                    this.defaultImage9SlicedMaterial) : s ? (this.defaultImage9TiledMaterial || (this.defaultImage9TiledMaterial = this._createBaseImageMaterial(),
                    this.defaultImage9TiledMaterial.name = "defaultImage9TiledMaterial",
                    this.defaultImage9TiledMaterial.nineSlicedMode = n.SPRITE_RENDERMODE_TILED,
                    this.defaultImage9TiledMaterial.update(),
                    this.Av.push(this.defaultImage9TiledMaterial)),
                    this.defaultImage9TiledMaterial) : (this.pv || (this.pv = this._createBaseImageMaterial(),
                    this.pv.name = "defaultImageMaterial",
                    this.pv.update(),
                    this.Av.push(this.pv)),
                    this.pv)
                },
                registerUnicodeConverter: function(t) {
                    this._unicodeConverter = t
                },
                registerRtlReorder: function(t) {
                    this._rtlReorder = t
                },
                getUnicodeConverter: function() {
                    return this._unicodeConverter
                },
                getRtlReorder: function() {
                    return this._rtlReorder
                }
            }),
            {
                Qd: e
            }
        }()),
        Object.assign(n, {
            gv: function() {
                this.enabled = !0
            }
        }),
        Object.assign(n, function() {
            var t = function(t, e, i) {
                this._entity = t,
                this._element = t.element,
                this.model = new n.Xh,
                this.node = new n.Gh,
                this.model.graph = this.node,
                this.mesh = e,
                this.meshInstance = new n.Yh(this.node,this.mesh,i),
                this.meshInstance.name = "ImageElement: " + t.name,
                this.meshInstance.castShadow = !1,
                this.meshInstance.receiveShadow = !1,
                this._meshDirty = !1,
                this.model.meshInstances.push(this.meshInstance),
                this._entity.addChild(this.model.graph),
                this.model._entity = this._entity,
                this.unmaskMeshInstance = null
            };
            t.prototype.destroy = function() {
                this.setMaterial(null),
                this._element.removeModelFromLayers(this.model),
                this.model.destroy(),
                this.model = null,
                this.node = null,
                this.mesh = null,
                this.meshInstance = null,
                this._entity = null,
                this._element = null
            }
            ,
            t.prototype.setMesh = function(t) {
                this.meshInstance && (this.mesh = t,
                this.meshInstance.mesh = t,
                this.meshInstance.visible = !!t,
                this.unmaskMeshInstance && (this.unmaskMeshInstance.mesh = t),
                this.forceUpdateAabb())
            }
            ,
            t.prototype.setMask = function(t) {
                if (this.meshInstance) {
                    if (t)
                        for (var e in this.unmaskMeshInstance = new n.Yh(this.node,this.mesh,this.meshInstance.material),
                        this.unmaskMeshInstance.name = "Unmask: " + this._entity.name,
                        this.unmaskMeshInstance.castShadow = !1,
                        this.unmaskMeshInstance.receiveShadow = !1,
                        this.unmaskMeshInstance.pick = !1,
                        this.model.meshInstances.push(this.unmaskMeshInstance),
                        this.meshInstance.parameters)
                            this.unmaskMeshInstance.setParameter(e, this.meshInstance.parameters[e].data);
                    else {
                        var i = this.model.meshInstances.indexOf(this.unmaskMeshInstance);
                        i >= 0 && this.model.meshInstances.splice(i, 1),
                        this.unmaskMeshInstance = null
                    }
                    this._entity.enabled && this._element.enabled && (this._element.removeModelFromLayers(this.model),
                    this._element.addModelToLayers(this.model))
                }
            }
            ,
            t.prototype.setMaterial = function(t) {
                this.meshInstance && (this.meshInstance.material = t,
                this.unmaskMeshInstance && (this.unmaskMeshInstance.material = t))
            }
            ,
            t.prototype.setParameter = function(t, e) {
                this.meshInstance && (this.meshInstance.setParameter(t, e),
                this.unmaskMeshInstance && this.unmaskMeshInstance.setParameter(t, e))
            }
            ,
            t.prototype.deleteParameter = function(t) {
                this.meshInstance && (this.meshInstance.deleteParameter(t),
                this.unmaskMeshInstance && this.unmaskMeshInstance.deleteParameter(t))
            }
            ,
            t.prototype.setUnmaskDrawOrder = function() {
                if (this.meshInstance) {
                    var t = function(e) {
                        var i, s = e.getChildren(), n = s.length;
                        if (n) {
                            for (var r = 0; r < n; r++)
                                s[r].element && (i = s[r]);
                            if (!i)
                                return null;
                            var a = t(i);
                            return a || i
                        }
                        return null
                    };
                    if (this.unmaskMeshInstance) {
                        var e = t(this._entity);
                        e && e.element ? this.unmaskMeshInstance.drawOrder = e.element.drawOrder + e.element.getMaskOffset() : this.unmaskMeshInstance.drawOrder = this.meshInstance.drawOrder + this._element.getMaskOffset()
                    }
                }
            }
            ,
            t.prototype.setDrawOrder = function(t) {
                this.meshInstance && (this.meshInstance.drawOrder = t)
            }
            ,
            t.prototype.setCull = function(t) {
                if (this.meshInstance) {
                    var e = this._element
                      , i = null;
                    t && e._isScreenCulled() && (i = function(t) {
                        return e.isVisibleForCamera(t)
                    }
                    ),
                    this.meshInstance.cull = t,
                    this.meshInstance.isVisibleFunc = i,
                    this.unmaskMeshInstance && (this.unmaskMeshInstance.cull = t,
                    this.unmaskMeshInstance.isVisibleFunc = i)
                }
            }
            ,
            t.prototype.setScreenSpace = function(t) {
                this.meshInstance && (this.meshInstance.screenSpace = t,
                this.unmaskMeshInstance && (this.unmaskMeshInstance.screenSpace = t))
            }
            ,
            t.prototype.setLayer = function(t) {
                this.meshInstance && (this.meshInstance.layer = t,
                this.unmaskMeshInstance && (this.unmaskMeshInstance.layer = t))
            }
            ,
            t.prototype.forceUpdateAabb = function(t) {
                this.meshInstance && (this.meshInstance._aabbVer = -1,
                this.unmaskMeshInstance && (this.unmaskMeshInstance._aabbVer = -1))
            }
            ,
            t.prototype.setAabbFunc = function(t) {
                this.meshInstance && (this.meshInstance._updateAabbFunc = t,
                this.unmaskMeshInstance && (this.unmaskMeshInstance._updateAabbFunc = t))
            }
            ;
            var e = function e(i) {
                this._element = i,
                this._entity = i.Bc,
                this._system = i.system,
                this._textureAsset = null,
                this._texture = null,
                this._materialAsset = null,
                this._material = null,
                this._spriteAsset = null,
                this._sprite = null,
                this._spriteFrame = 0,
                this._pixelsPerUnit = null,
                this._rect = new n.wt(0,0,1,1),
                this._mask = !1,
                this._maskRef = 0,
                this._positions = [],
                this._normals = [],
                this._uvs = [],
                this._indices = [],
                this._outerScale = new n.pt,
                this._outerScaleUniform = new Float32Array(2),
                this._innerOffset = new n.wt,
                this._innerOffsetUniform = new Float32Array(4),
                this._atlasRect = new n.wt,
                this._atlasRectUniform = new Float32Array(4),
                this._defaultMesh = this._createMesh(),
                this._renderable = new t(this._entity,this._defaultMesh,this._material),
                this._color = new n.D(1,1,1,1),
                this._colorUniform = new Float32Array([1, 1, 1]),
                this._renderable.setParameter("material_emissive", this._colorUniform),
                this._renderable.setParameter("material_opacity", 1),
                this._updateAabbFunc = this._updateAabb.bind(this),
                this._onScreenChange(this._element.screen),
                this._element.on("resize", this._onParentResizeOrPivotChange, this),
                this._element.on("set:pivot", this._onParentResizeOrPivotChange, this),
                this._element.on("screen:set:screenspace", this._onScreenSpaceChange, this),
                this._element.on("set:screen", this._onScreenChange, this),
                this._element.on("set:draworder", this._onDrawOrderChange, this),
                this._element.on("screen:set:resolution", this._onResolutionChange, this)
            };
            return Object.assign(e.prototype, {
                destroy: function() {
                    this.textureAsset = null,
                    this.spriteAsset = null,
                    this.materialAsset = null,
                    this._renderable.setMesh(this._defaultMesh),
                    this._renderable.destroy(),
                    this._defaultMesh = null,
                    this._element.off("resize", this._onParentResizeOrPivotChange, this),
                    this._element.off("set:pivot", this._onParentResizeOrPivotChange, this),
                    this._element.off("screen:set:screenspace", this._onScreenSpaceChange, this),
                    this._element.off("set:screen", this._onScreenChange, this),
                    this._element.off("set:draworder", this._onDrawOrderChange, this),
                    this._element.off("screen:set:resolution", this._onResolutionChange, this)
                },
                _onResolutionChange: function(t) {},
                _onParentResizeOrPivotChange: function() {
                    this._renderable.mesh && this._updateMesh(this._renderable.mesh)
                },
                _onScreenSpaceChange: function(t) {
                    this._updateMaterial(t)
                },
                _onScreenChange: function(t, e) {
                    t ? this._updateMaterial(t.screen.screenSpace) : this._updateMaterial(!1)
                },
                _onDrawOrderChange: function(t) {
                    this._renderable.setDrawOrder(t),
                    this.mask && this._element.screen && this._element.screen.screen.once("syncdraworder", function() {
                        this._renderable.setUnmaskDrawOrder()
                    }, this)
                },
                _hasUserMaterial: function() {
                    return !!this._materialAsset || !!this._material && -1 === this._system.Av.indexOf(this._material)
                },
                _use9Slicing: function() {
                    return this.sprite && (this.sprite.renderMode === n.SPRITE_RENDERMODE_SLICED || this.sprite.renderMode === n.SPRITE_RENDERMODE_TILED)
                },
                _updateMaterial: function(t) {
                    var e = !!this._mask
                      , i = !(!this.sprite || this.sprite.renderMode !== n.SPRITE_RENDERMODE_SLICED)
                      , s = !(!this.sprite || this.sprite.renderMode !== n.SPRITE_RENDERMODE_TILED);
                    this._hasUserMaterial() || (this._material = this._system.getImageElementMaterial(t, e, i, s)),
                    this._renderable && (this._renderable.setCull(!0),
                    this._renderable.setMaterial(this._material),
                    this._renderable.setScreenSpace(t),
                    this._renderable.setLayer(t ? n.Ra : n.Fa))
                },
                _createMesh: function() {
                    var t = this._element.calculatedWidth
                      , e = this._element.calculatedHeight;
                    this._positions[0] = 0,
                    this._positions[1] = 0,
                    this._positions[2] = 0,
                    this._positions[3] = t,
                    this._positions[4] = 0,
                    this._positions[5] = 0,
                    this._positions[6] = t,
                    this._positions[7] = e,
                    this._positions[8] = 0,
                    this._positions[9] = 0,
                    this._positions[10] = e,
                    this._positions[11] = 0;
                    for (var i = 0; i < 12; i += 3)
                        this._normals[i] = 0,
                        this._normals[i + 1] = 0,
                        this._normals[i + 2] = 1;
                    this._uvs[0] = this._rect.x,
                    this._uvs[1] = this._rect.y,
                    this._uvs[2] = this._rect.x + this._rect.z,
                    this._uvs[3] = this._rect.y,
                    this._uvs[4] = this._rect.x + this._rect.z,
                    this._uvs[5] = this._rect.y + this._rect.w,
                    this._uvs[6] = this._rect.x,
                    this._uvs[7] = this._rect.y + this._rect.w,
                    this._indices[0] = 0,
                    this._indices[1] = 1,
                    this._indices[2] = 3,
                    this._indices[3] = 2,
                    this._indices[4] = 3,
                    this._indices[5] = 1;
                    var s = n.Mc(this._system.app.Br, this._positions, {
                        uvs: this._uvs,
                        normals: this._normals,
                        indices: this._indices
                    });
                    return this._updateMesh(s),
                    s
                },
                _updateMesh: function(t) {
                    var e, i = this._element, s = i.calculatedWidth, r = i.calculatedHeight, a = i._isScreenSpace();
                    if (this._updateMaterial(a),
                    this._renderable && this._renderable.forceUpdateAabb(),
                    !this.sprite || this.sprite.renderMode !== n.SPRITE_RENDERMODE_SLICED && this.sprite.renderMode !== n.SPRITE_RENDERMODE_TILED) {
                        this._positions[0] = 0,
                        this._positions[1] = 0,
                        this._positions[2] = 0,
                        this._positions[3] = s,
                        this._positions[4] = 0,
                        this._positions[5] = 0,
                        this._positions[6] = s,
                        this._positions[7] = r,
                        this._positions[8] = 0,
                        this._positions[9] = 0,
                        this._positions[10] = r,
                        this._positions[11] = 0;
                        var h = i.pivot.x
                          , c = i.pivot.y;
                        for (e = 0; e < this._positions.length; e += 3)
                            this._positions[e] -= h * s,
                            this._positions[e + 1] -= c * r;
                        s = 1,
                        r = 1;
                        var o = this._rect;
                        if (this._sprite && this._sprite.frameKeys[this._spriteFrame] && this._sprite.atlas) {
                            var u = this._sprite.atlas.frames[this._sprite.frameKeys[this._spriteFrame]];
                            u && (o = u.rect,
                            s = this._sprite.atlas.texture.width,
                            r = this._sprite.atlas.texture.height)
                        }
                        this._uvs[0] = o.x / s,
                        this._uvs[1] = o.y / r,
                        this._uvs[2] = (o.x + o.z) / s,
                        this._uvs[3] = o.y / r,
                        this._uvs[4] = (o.x + o.z) / s,
                        this._uvs[5] = (o.y + o.w) / r,
                        this._uvs[6] = o.x / s,
                        this._uvs[7] = (o.y + o.w) / r;
                        var f = t.nn
                          , d = new n.rn(f)
                          , l = 4;
                        for (e = 0; e < 4; e++)
                            d.element[n.Yi].set(this._positions[3 * e + 0], this._positions[3 * e + 1], this._positions[3 * e + 2]),
                            d.element[n.Xi].set(this._normals[3 * e + 0], this._normals[3 * e + 1], this._normals[3 * e + 2]),
                            d.element[n.SEMANTIC_TEXCOORD0].set(this._uvs[2 * e + 0], this._uvs[2 * e + 1]),
                            d.next();
                        d.end(),
                        t.aabb.compute(this._positions),
                        this._renderable && (this._renderable.node.setLocalScale(1, 1, 1),
                        this._renderable.node.setLocalPosition(0, 0, 0),
                        this._renderable.setAabbFunc(null))
                    } else {
                        var b = this._sprite.atlas.frames[this._sprite.frameKeys[this._spriteFrame]]
                          , v = 2 / b.rect.z
                          , m = 2 / b.rect.w;
                        this._innerOffset.set(b.border.x * v, b.border.y * m, b.border.z * v, b.border.w * m);
                        var g = this.sprite.atlas.texture;
                        this._atlasRect.set(b.rect.x / g.width, b.rect.y / g.height, b.rect.z / g.width, b.rect.w / g.height);
                        var p = null !== this._pixelsPerUnit ? this._pixelsPerUnit : this.sprite.pixelsPerUnit
                          , w = b.rect.z / p
                          , x = b.rect.w / p;
                        this._outerScale.set(Math.max(s, this._innerOffset.x * w), Math.max(r, this._innerOffset.y * x));
                        var z = w
                          , _ = x;
                        this._outerScale.x /= w,
                        this._outerScale.y /= x,
                        z *= n.I.clamp(s / (this._innerOffset.x * w), 1e-4, 1),
                        _ *= n.I.clamp(r / (this._innerOffset.y * x), 1e-4, 1),
                        this._renderable && (this._innerOffsetUniform[0] = this._innerOffset.x,
                        this._innerOffsetUniform[1] = this._innerOffset.y,
                        this._innerOffsetUniform[2] = this._innerOffset.z,
                        this._innerOffsetUniform[3] = this._innerOffset.w,
                        this._renderable.setParameter("innerOffset", this._innerOffsetUniform),
                        this._atlasRectUniform[0] = this._atlasRect.x,
                        this._atlasRectUniform[1] = this._atlasRect.y,
                        this._atlasRectUniform[2] = this._atlasRect.z,
                        this._atlasRectUniform[3] = this._atlasRect.w,
                        this._renderable.setParameter("atlasRect", this._atlasRectUniform),
                        this._outerScaleUniform[0] = this._outerScale.x,
                        this._outerScaleUniform[1] = this._outerScale.y,
                        this._renderable.setParameter("outerScale", this._outerScaleUniform),
                        this._renderable.setAabbFunc(this._updateAabbFunc),
                        this._renderable.node.setLocalScale(z, _, 1),
                        this._renderable.node.setLocalPosition((.5 - i.pivot.x) * s, (.5 - i.pivot.y) * r, 0))
                    }
                    this._meshDirty = !1
                },
                _updateSprite: function() {
                    var t = !1
                      , e = null;
                    this._sprite && this._sprite.atlas && (e = this._sprite.meshes[this.spriteFrame],
                    t = this._sprite.renderMode === n.SPRITE_RENDERMODE_SLICED || this._sprite.renderMode === n.SPRITE_RENDERMODE_TILED),
                    this.mesh = t ? e : this._defaultMesh,
                    this.mesh && (this._element._beingInitialized ? this._meshDirty = !0 : this._updateMesh(this.mesh))
                },
                _updateAabb: function(t) {
                    return t.center.set(0, 0, 0),
                    t.halfExtents.set(.5 * this._outerScale.x, .5 * this._outerScale.y, .001),
                    t.kt(t, this._renderable.node.getWorldTransform()),
                    t
                },
                _toggleMask: function() {
                    this._element._dirtifyMask();
                    var t = this._element._isScreenSpace();
                    this._updateMaterial(t),
                    this._renderable.setMask(!!this._mask)
                },
                _onMaterialLoad: function(t) {
                    this.material = t.resource
                },
                _onMaterialAdded: function(t) {
                    this._system.app.assets.off("add:" + t.id, this._onMaterialAdded, this),
                    this._materialAsset === t.id && this._bindMaterialAsset(t)
                },
                _bindMaterialAsset: function(t) {
                    this._entity.enabled && (t.on("load", this._onMaterialLoad, this),
                    t.on("change", this._onMaterialChange, this),
                    t.on("remove", this._onMaterialRemove, this),
                    t.resource ? this._onMaterialLoad(t) : this._system.app.assets.load(t))
                },
                _unbindMaterialAsset: function(t) {
                    t.off("load", this._onMaterialLoad, this),
                    t.off("change", this._onMaterialChange, this),
                    t.off("remove", this._onMaterialRemove, this)
                },
                _onMaterialChange: function() {},
                _onMaterialRemove: function() {},
                _onTextureAdded: function(t) {
                    this._system.app.assets.off("add:" + t.id, this._onTextureAdded, this),
                    this._textureAsset === t.id && this._bindTextureAsset(t)
                },
                _bindTextureAsset: function(t) {
                    this._entity.enabled && (t.on("load", this._onTextureLoad, this),
                    t.on("change", this._onTextureChange, this),
                    t.on("remove", this._onTextureRemove, this),
                    t.resource ? this._onTextureLoad(t) : this._system.app.assets.load(t))
                },
                _unbindTextureAsset: function(t) {
                    t.off("load", this._onTextureLoad, this),
                    t.off("change", this._onTextureChange, this),
                    t.off("remove", this._onTextureRemove, this)
                },
                _onTextureLoad: function(t) {
                    this.texture = t.resource
                },
                _onTextureChange: function(t) {},
                _onTextureRemove: function(t) {},
                _onSpriteAssetAdded: function(t) {
                    this._system.app.assets.off("add:" + t.id, this._onSpriteAssetAdded, this),
                    this._spriteAsset === t.id && this._bindSpriteAsset(t)
                },
                _bindSpriteAsset: function(t) {
                    this._entity.enabled && (t.on("load", this._onSpriteAssetLoad, this),
                    t.on("change", this._onSpriteAssetChange, this),
                    t.on("remove", this._onSpriteAssetRemove, this),
                    t.resource ? this._onSpriteAssetLoad(t) : this._system.app.assets.load(t))
                },
                _unbindSpriteAsset: function(t) {
                    t.off("load", this._onSpriteAssetLoad, this),
                    t.off("change", this._onSpriteAssetChange, this),
                    t.off("remove", this._onSpriteAssetRemove, this),
                    t.data.textureAtlasAsset && this._system.app.assets.off("load:" + t.data.textureAtlasAsset, this._onTextureAtlasLoad, this)
                },
                _onSpriteAssetLoad: function(t) {
                    if (t && t.resource)
                        if (t.resource.atlas)
                            this.sprite = t.resource;
                        else {
                            var e = t.data.textureAtlasAsset;
                            if (e) {
                                var i = this._system.app.assets;
                                i.off("load:" + e, this._onTextureAtlasLoad, this),
                                i.once("load:" + e, this._onTextureAtlasLoad, this)
                            }
                        }
                    else
                        this.sprite = null
                },
                _onSpriteAssetChange: function(t) {
                    this._onSpriteAssetLoad(t)
                },
                _onSpriteAssetRemove: function(t) {},
                _bindSprite: function(t) {
                    t.on("set:meshes", this._onSpriteMeshesChange, this),
                    t.on("set:pixelsPerUnit", this._onSpritePpuChange, this),
                    t.on("set:atlas", this._onAtlasTextureChange, this),
                    t.atlas && t.atlas.on("set:texture", this._onAtlasTextureChange, this)
                },
                _unbindSprite: function(t) {
                    t.off("set:meshes", this._onSpriteMeshesChange, this),
                    t.off("set:pixelsPerUnit", this._onSpritePpuChange, this),
                    t.off("set:atlas", this._onAtlasTextureChange, this),
                    t.atlas && t.atlas.off("set:texture", this._onAtlasTextureChange, this)
                },
                _onSpriteMeshesChange: function() {
                    this._sprite && (this._spriteFrame = n.I.clamp(this._spriteFrame, 0, this._sprite.frameKeys.length - 1)),
                    this._updateSprite()
                },
                _onSpritePpuChange: function() {
                    this.sprite.renderMode !== n.SPRITE_RENDERMODE_SIMPLE && null === this._pixelsPerUnit && this._updateSprite()
                },
                _onAtlasTextureChange: function() {
                    this.sprite && this.sprite.atlas && this.sprite.atlas.texture ? (this._renderable.setParameter("texture_emissiveMap", this._sprite.atlas.texture),
                    this._renderable.setParameter("texture_opacityMap", this._sprite.atlas.texture)) : (this._renderable.deleteParameter("texture_emissiveMap"),
                    this._renderable.deleteParameter("texture_opacityMap"))
                },
                _onTextureAtlasLoad: function(t) {
                    var e = this._spriteAsset;
                    e instanceof n.Zf ? this._onSpriteAssetLoad(e) : this._onSpriteAssetLoad(this._system.app.assets.get(e))
                },
                onEnable: function() {
                    var t;
                    this._materialAsset && (t = this._system.app.assets.get(this._materialAsset)) && t.resource !== this._material && this._bindMaterialAsset(t),
                    this._textureAsset && (t = this._system.app.assets.get(this._textureAsset)) && t.resource !== this._texture && this._bindTextureAsset(t),
                    this._spriteAsset && (t = this._system.app.assets.get(this._spriteAsset)) && t.resource !== this._sprite && this._bindSpriteAsset(t),
                    this._element.addModelToLayers(this._renderable.model)
                },
                onDisable: function() {
                    this._element.removeModelFromLayers(this._renderable.model)
                },
                _setStencil: function(t) {
                    this._renderable.meshInstance.stencilFront = t,
                    this._renderable.meshInstance.stencilBack = t;
                    var e = 0;
                    if (this._element.maskedBy && (e = this._element.maskedBy.element._image._maskRef),
                    this._renderable.unmaskMeshInstance) {
                        var i = new n.jc({
                            ref: e + 1,
                            func: n.Ze,
                            zpass: n.ys
                        });
                        this._renderable.unmaskMeshInstance.stencilFront = i,
                        this._renderable.unmaskMeshInstance.stencilBack = i
                    }
                }
            }),
            Object.defineProperty(e.prototype, "color", {
                get: function() {
                    return this._color
                },
                set: function(t) {
                    var e = t.r
                      , i = t.g
                      , s = t.b;
                    this._color.r === e && this._color.g === i && this._color.b === s || (this._color.r = e,
                    this._color.g = i,
                    this._color.b = s,
                    this._colorUniform[0] = e,
                    this._colorUniform[1] = i,
                    this._colorUniform[2] = s,
                    this._renderable.setParameter("material_emissive", this._colorUniform),
                    this._element && this._element.fire("set:color", this._color))
                }
            }),
            Object.defineProperty(e.prototype, "opacity", {
                get: function() {
                    return this._color.a
                },
                set: function(t) {
                    t !== this._color.a && (this._color.a = t,
                    this._renderable.setParameter("material_opacity", t),
                    this._element && this._element.fire("set:opacity", t))
                }
            }),
            Object.defineProperty(e.prototype, "rect", {
                get: function() {
                    return this._rect
                },
                set: function(t) {
                    var e, i, s, r;
                    t instanceof n.wt ? (e = t.x,
                    i = t.y,
                    s = t.z,
                    r = t.w) : (e = t[0],
                    i = t[1],
                    s = t[2],
                    r = t[3]),
                    e === this._rect.x && i === this._rect.y && s === this._rect.z && r === this._rect.w || (this._rect.set(e, i, s, r),
                    this._renderable.mesh && (this._element._beingInitialized ? this._meshDirty = !0 : this._updateMesh(this._renderable.mesh)))
                }
            }),
            Object.defineProperty(e.prototype, "material", {
                get: function() {
                    return this._material
                },
                set: function(t) {
                    if (this._material !== t) {
                        if (!t) {
                            var e = this._element._isScreenSpace();
                            t = this.mask ? e ? this._system.defaultScreenSpaceImageMaskMaterial : this._system.defaultImageMaskMaterial : e ? this._system.wv : this._system.pv
                        }
                        this._material = t,
                        t && (this._renderable.setMaterial(t),
                        this._hasUserMaterial() ? (this._renderable.deleteParameter("material_opacity"),
                        this._renderable.deleteParameter("material_emissive")) : (this._colorUniform[0] = this._color.r,
                        this._colorUniform[1] = this._color.g,
                        this._colorUniform[2] = this._color.b,
                        this._renderable.setParameter("material_emissive", this._colorUniform),
                        this._renderable.setParameter("material_opacity", this._color.a)))
                    }
                }
            }),
            Object.defineProperty(e.prototype, "materialAsset", {
                get: function() {
                    return this._materialAsset
                },
                set: function(t) {
                    var e = this._system.app.assets
                      , i = t;
                    if (t instanceof n.Zf && (i = t.id),
                    this._materialAsset !== i) {
                        if (this._materialAsset) {
                            e.off("add:" + this._materialAsset, this._onMaterialAdded, this);
                            var s = e.get(this._materialAsset);
                            s && (s.off("load", this._onMaterialLoad, this),
                            s.off("change", this._onMaterialChange, this),
                            s.off("remove", this._onMaterialRemove, this))
                        }
                        if (this._materialAsset = i,
                        this._materialAsset) {
                            var r = e.get(this._materialAsset);
                            r ? this._bindMaterialAsset(r) : (this.material = null,
                            e.on("add:" + this._materialAsset, this._onMaterialAdded, this))
                        } else
                            this.material = null
                    }
                }
            }),
            Object.defineProperty(e.prototype, "texture", {
                get: function() {
                    return this._texture
                },
                set: function(t) {
                    if (this._texture !== t) {
                        if (this._textureAsset) {
                            var e = this._system.app.assets.get(this._textureAsset);
                            e && e.resource !== t && (this.textureAsset = null)
                        }
                        this._texture = t,
                        t ? (this._spriteAsset && (this.spriteAsset = null),
                        this._renderable.setParameter("texture_emissiveMap", this._texture),
                        this._renderable.setParameter("texture_opacityMap", this._texture),
                        this._colorUniform[0] = this._color.r,
                        this._colorUniform[1] = this._color.g,
                        this._colorUniform[2] = this._color.b,
                        this._renderable.setParameter("material_emissive", this._colorUniform),
                        this._renderable.setParameter("material_opacity", this._color.a)) : (this._renderable.deleteParameter("texture_emissiveMap"),
                        this._renderable.deleteParameter("texture_opacityMap"))
                    }
                }
            }),
            Object.defineProperty(e.prototype, "textureAsset", {
                get: function() {
                    return this._textureAsset
                },
                set: function(t) {
                    var e = this._system.app.assets
                      , i = t;
                    if (t instanceof n.Zf && (i = t.id),
                    this._textureAsset !== i) {
                        if (this._textureAsset) {
                            e.off("add:" + this._textureAsset, this._onTextureAdded, this);
                            var s = e.get(this._textureAsset);
                            s && (s.off("load", this._onTextureLoad, this),
                            s.off("change", this._onTextureChange, this),
                            s.off("remove", this._onTextureRemove, this))
                        }
                        if (this._textureAsset = i,
                        this._textureAsset) {
                            var r = e.get(this._textureAsset);
                            r ? this._bindTextureAsset(r) : (this.texture = null,
                            e.on("add:" + this._textureAsset, this._onTextureAdded, this))
                        } else
                            this.texture = null
                    }
                }
            }),
            Object.defineProperty(e.prototype, "spriteAsset", {
                get: function() {
                    return this._spriteAsset
                },
                set: function(t) {
                    var e = this._system.app.assets
                      , i = t;
                    if (t instanceof n.Zf && (i = t.id),
                    this._spriteAsset !== i) {
                        if (this._spriteAsset) {
                            e.off("add:" + this._spriteAsset, this._onSpriteAssetAdded, this);
                            var s = e.get(this._spriteAsset);
                            s && this._unbindSpriteAsset(s)
                        }
                        if (this._spriteAsset = i,
                        this._spriteAsset) {
                            var r = e.get(this._spriteAsset);
                            r ? this._bindSpriteAsset(r) : (this.sprite = null,
                            e.on("add:" + this._spriteAsset, this._onSpriteAssetAdded, this))
                        } else
                            this.sprite = null;
                        this._element && this._element.fire("set:spriteAsset", i)
                    }
                }
            }),
            Object.defineProperty(e.prototype, "sprite", {
                get: function() {
                    return this._sprite
                },
                set: function(t) {
                    if (this._sprite !== t) {
                        if (this._sprite && this._unbindSprite(this._sprite),
                        this._spriteAsset) {
                            var e = this._system.app.assets.get(this._spriteAsset);
                            e && e.resource !== t && (this.spriteAsset = null)
                        }
                        this._sprite = t,
                        this._sprite && (this._bindSprite(this._sprite),
                        this._textureAsset && (this.textureAsset = null)),
                        this._sprite && this._sprite.atlas && this._sprite.atlas.texture ? (this._renderable.setParameter("texture_emissiveMap", this._sprite.atlas.texture),
                        this._renderable.setParameter("texture_opacityMap", this._sprite.atlas.texture)) : (this._renderable.deleteParameter("texture_emissiveMap"),
                        this._renderable.deleteParameter("texture_opacityMap")),
                        this._sprite && (this._spriteFrame = n.I.clamp(this._spriteFrame, 0, this._sprite.frameKeys.length - 1)),
                        this._updateSprite()
                    }
                }
            }),
            Object.defineProperty(e.prototype, "spriteFrame", {
                get: function() {
                    return this._spriteFrame
                },
                set: function(t) {
                    var e = this._spriteFrame;
                    this._sprite ? this._spriteFrame = n.I.clamp(t, 0, this._sprite.frameKeys.length - 1) : this._spriteFrame = t,
                    this._spriteFrame !== e && (this._updateSprite(),
                    this._element && this._element.fire("set:spriteFrame", t))
                }
            }),
            Object.defineProperty(e.prototype, "mesh", {
                get: function() {
                    return this._renderable.mesh
                },
                set: function(t) {
                    this._renderable.setMesh(t),
                    this._defaultMesh === t ? this._renderable.setAabbFunc(null) : this._renderable.setAabbFunc(this._updateAabbFunc)
                }
            }),
            Object.defineProperty(e.prototype, "mask", {
                get: function() {
                    return this._mask
                },
                set: function(t) {
                    this._mask !== t && (this._mask = t,
                    this._toggleMask())
                }
            }),
            Object.defineProperty(e.prototype, "pixelsPerUnit", {
                get: function() {
                    return this._pixelsPerUnit
                },
                set: function(t) {
                    this._pixelsPerUnit !== t && (this._pixelsPerUnit = t,
                    !this._sprite || this._sprite.renderMode !== n.SPRITE_RENDERMODE_SLICED && this._sprite.renderMode !== n.SPRITE_RENDERMODE_TILED || this._updateSprite())
                }
            }),
            Object.defineProperty(e.prototype, "aabb", {
                get: function() {
                    return this._renderable.meshInstance ? this._renderable.meshInstance.aabb : null
                }
            }),
            {
                bv: e
            }
        }()),
        Object.assign(n, (Wi = function() {
            this.count = 0,
            this.quad = 0,
            this.lines = {},
            this.positions = [],
            this.normals = [],
            this.uvs = [],
            this.indices = [],
            this.meshInstance = null
        }
        ,
        Yi = function t(e) {
            this._element = e,
            this._system = e.system,
            this._entity = e.Bc,
            this._text = "",
            this._fontAsset = null,
            this._font = null,
            this._color = new n.D(1,1,1,1),
            this._colorUniform = new Float32Array(3),
            this._spacing = 1,
            this._fontSize = 32,
            this._lineHeight = 32,
            this._wrapLines = !1,
            this._drawOrder = 0,
            this._alignment = new n.pt(.5,.5),
            this._autoWidth = !0,
            this._autoHeight = !0,
            this._alignment = new n.pt(.5,.5),
            this._autoWidth = !0,
            this._autoHeight = !0,
            this.width = 0,
            this.height = 0,
            this._node = new n.Gh,
            this._model = new n.Xh,
            this._model.graph = this._node,
            this._entity.addChild(this._node),
            this._meshInfo = [],
            this._material = null,
            this._aabbDirty = !0,
            this._aabb = new n.jt,
            this._noResize = !1,
            this._currentMaterialType = null,
            this._maskedMaterialSrc = null,
            this._rtlReorder = !1,
            this._unicodeConverter = !1,
            this._onScreenChange(this._element.screen),
            e.on("resize", this._onParentResize, this),
            this._element.on("set:screen", this._onScreenChange, this),
            e.on("screen:set:screenspace", this._onScreenSpaceChange, this),
            e.on("set:draworder", this._onDrawOrderChange, this),
            e.on("set:pivot", this._onPivotChange, this)
        }
        ,
        Xi = /^[\r\n]$/,
        Ki = /^[ \t]$/,
        Qi = /^[ \t\-]$/,
        Object.assign(Yi.prototype, {
            destroy: function() {
                this._setMaterial(null),
                this._model && (this._element.removeModelFromLayers(this._model),
                this._model.destroy(),
                this._model = null),
                this.fontAsset = null,
                this.font = null,
                this._element.off("resize", this._onParentResize, this),
                this._element.off("set:screen", this._onScreenChange, this),
                this._element.off("screen:set:screenspace", this._onScreenSpaceChange, this),
                this._element.off("set:draworder", this._onDrawOrderChange, this),
                this._element.off("set:pivot", this._onPivotChange, this)
            },
            _onParentResize: function(t, e) {
                this._noResize || this._font && this._updateText(this._text)
            },
            _onScreenChange: function(t) {
                t ? this._updateMaterial(t.screen.screenSpace) : this._updateMaterial(!1)
            },
            _onScreenSpaceChange: function(t) {
                this._updateMaterial(t)
            },
            _onDrawOrderChange: function(t) {
                var e, i;
                if (this._drawOrder = t,
                this._model)
                    for (e = 0,
                    i = this._model.meshInstances.length; e < i; e++)
                        this._model.meshInstances[e].drawOrder = t
            },
            _onPivotChange: function(t) {
                this._font && this._updateText()
            },
            _updateText: function(t) {
                var e, i;
                void 0 === t && (t = this._text);
                var s = n.string.getSymbols(t);
                if (this.rtlReorder) {
                    var r = this._system.app.systems.element.getRtlReorder();
                    r && (s = r(s))
                }
                var a = s.length;
                0 === a && (a = 1,
                s = [t = " "]);
                var h = {}, c, o, u;
                for (e = 0; e < a; e++)
                    c = s[e],
                    (o = this._font.data.chars[c]) || (o = this._font.data.chars[" "] ? this._font.data.chars[" "] : this._font.data.chars[Object.keys(this._font.data.chars)[0]]),
                    h[u = o.map] || (h[u] = 0),
                    h[u]++;
                var f = !1
                  , d = this._element
                  , l = d._isScreenSpace()
                  , b = d._isScreenCulled()
                  , v = function(t) {
                    return d.isVisibleForCamera(t)
                };
                for (e = 0,
                i = this._meshInfo.length; e < i; e++) {
                    var m = h[e] || 0
                      , g = this._meshInfo[e];
                    if (g.count !== m) {
                        if (f || (d.removeModelFromLayers(this._model),
                        f = !0),
                        g.count = m,
                        g.positions.length = g.normals.length = 3 * m * 4,
                        g.indices.length = 3 * m * 2,
                        g.uvs.length = 2 * m * 4,
                        g.meshInstance && (this._removeMeshInstance(g.meshInstance),
                        g.meshInstance.material = null),
                        0 === m) {
                            g.meshInstance = null;
                            continue
                        }
                        for (var p = 0; p < m; p++)
                            g.indices[3 * p * 2 + 0] = 4 * p,
                            g.indices[3 * p * 2 + 1] = 4 * p + 1,
                            g.indices[3 * p * 2 + 2] = 4 * p + 3,
                            g.indices[3 * p * 2 + 3] = 4 * p + 2,
                            g.indices[3 * p * 2 + 4] = 4 * p + 3,
                            g.indices[3 * p * 2 + 5] = 4 * p + 1,
                            g.normals[4 * p * 3 + 0] = 0,
                            g.normals[4 * p * 3 + 1] = 0,
                            g.normals[4 * p * 3 + 2] = -1,
                            g.normals[4 * p * 3 + 3] = 0,
                            g.normals[4 * p * 3 + 4] = 0,
                            g.normals[4 * p * 3 + 5] = -1,
                            g.normals[4 * p * 3 + 6] = 0,
                            g.normals[4 * p * 3 + 7] = 0,
                            g.normals[4 * p * 3 + 8] = -1,
                            g.normals[4 * p * 3 + 9] = 0,
                            g.normals[4 * p * 3 + 10] = 0,
                            g.normals[4 * p * 3 + 11] = -1;
                        var w = n.Mc(this._system.app.Br, g.positions, {
                            uvs: g.uvs,
                            normals: g.normals,
                            indices: g.indices
                        })
                          , x = new n.Yh(this._node,w,this._material);
                        x.name = "Text Element: " + this._entity.name,
                        x.castShadow = !1,
                        x.receiveShadow = !1,
                        x.cull = !l,
                        x.screenSpace = l,
                        x.drawOrder = this._drawOrder,
                        b && (x.cull = !0,
                        x.isVisibleFunc = v),
                        this._setTextureParams(x, this._font.textures[e]),
                        this._colorUniform[0] = this._color.r,
                        this._colorUniform[1] = this._color.g,
                        this._colorUniform[2] = this._color.b,
                        x.setParameter("material_emissive", this._colorUniform),
                        x.setParameter("material_opacity", this._color.a),
                        x.setParameter("font_sdfIntensity", this._font.intensity),
                        x.setParameter("font_pxrange", this._getPxRange(this._font)),
                        x.setParameter("font_textureWidth", this._font.data.info.maps[e].width),
                        g.meshInstance = x,
                        this._model.meshInstances.push(x)
                    }
                }
                this._element.maskedBy && this._element._setMaskedBy(this._element.maskedBy),
                f && this._element.enabled && this._entity.enabled && this._element.addModelToLayers(this._model),
                this._updateMeshes(s)
            },
            _removeMeshInstance: function(t) {
                var e, i, s = t.mesh;
                if (s && (s.nn && s.nn.destroy(),
                s.cn))
                    for (e = 0,
                    i = s.cn.length; e < i; e++)
                        s.cn[e].destroy();
                var n = this._model.meshInstances.indexOf(t);
                -1 !== n && this._model.meshInstances.splice(n, 1)
            },
            _setMaterial: function(t) {
                var e, i;
                if (this._material = t,
                this._model)
                    for (e = 0,
                    i = this._model.meshInstances.length; e < i; e++) {
                        var s;
                        this._model.meshInstances[e].material = t
                    }
            },
            _updateMaterial: function(t) {
                var e = this._element
                  , i = e._isScreenCulled()
                  , s = function(t) {
                    return e.isVisibleForCamera(t)
                }
                  , r = this._font && this._font.type === n.yv;
                if (this._material = this._system.getTextElementMaterial(t, r),
                this._model)
                    for (var a = 0, h = this._model.meshInstances.length; a < h; a++) {
                        var c = this._model.meshInstances[a];
                        c.cull = !t,
                        c.material = this._material,
                        c.screenSpace = t,
                        i ? (c.cull = !0,
                        c.isVisibleFunc = s) : c.isVisibleFunc = null
                    }
            },
            _updateMeshes: function(t) {
                var e = this._font.data
                  , i = this;
                this.width = 0,
                this.height = 0,
                this._lineWidths = [],
                this._lineContents = [];
                var s = t.length
                  , r = 0
                  , a = 0
                  , h = 0
                  , c = 0
                  , o = 1
                  , u = 0
                  , f = 0
                  , d = 0
                  , l = 0
                  , b = 0
                  , v = Math.abs(this._element.anchor.x - this._element.anchor.z) >= 1e-4
                  , m = this._element.calculatedWidth;
                (this.autoWidth && !v || !this._wrapLines) && (m = Number.POSITIVE_INFINITY);
                var g = 0, p = 0, w = 1, x = 32, z, _, A, y, M;
                for (_ in e.chars)
                    w = (A = e.chars[_]).height / 32 * this._fontSize / A.height,
                    A.bounds && (g = Math.min(g, A.bounds[1] * w),
                    p = Math.max(p, A.bounds[3] * w));
                for (y = 0; y < this._meshInfo.length; y++)
                    this._meshInfo[y].quad = 0,
                    this._meshInfo[y].lines = {};
                function S(e, s) {
                    i._lineWidths.push(s);
                    var n = t.slice(d, e).join("");
                    i._lineContents.push(n),
                    r = 0,
                    h -= i._lineHeight,
                    o++,
                    l = 0,
                    b = 0,
                    u = 0,
                    d = e
                }
                for (y = 0; y < s; y++) {
                    z = t[y];
                    var C = 0, O = 0, E = 0, D = 1, T = 0, P = 0, B, I;
                    (A = e.chars[z]) || (A = e.chars[" "] ? e.chars[" "] : e.chars[Object.keys(e.chars)[0]]),
                    A && (B = A.scale || 1,
                    w = (I = (A.width + A.height) / 2) / 32 * this._fontSize / I,
                    D = I / 32 * this._fontSize / B,
                    E = A.xadvance * w,
                    C = A.xoffset * w,
                    O = A.yoffset * w,
                    A.bounds ? (P = (A.bounds[2] - A.bounds[0]) * w,
                    T = A.bounds[0] * w) : (P = C,
                    T = 0));
                    var j = Xi.test(z)
                      , R = Qi.test(z)
                      , L = Ki.test(z);
                    if (j)
                        S(y, a),
                        f = y + 1,
                        d = y + 1;
                    else {
                        var N = this._meshInfo[A && A.map || 0], F;
                        if (r + P + T >= m && b > 0 && !L) {
                            if (0 !== l) {
                                var k = Math.max(y - f, 0);
                                if (this._meshInfo.length <= 1)
                                    N.lines[o - 1] -= k,
                                    N.quad -= k;
                                else
                                    for (var U = f; U < y; U++) {
                                        var V = t[U]
                                          , H = e.chars[V]
                                          , G = this._meshInfo[H && H.map || 0];
                                        G.lines[o - 1] -= 1,
                                        G.quad -= 1
                                    }
                                y -= k + 1,
                                S(f, u);
                                continue
                            }
                            f = y,
                            S(y, a)
                        }
                        M = N.quad,
                        N.lines[o - 1] = M,
                        N.positions[4 * M * 3 + 0] = r - C,
                        N.positions[4 * M * 3 + 1] = h - O,
                        N.positions[4 * M * 3 + 2] = 0,
                        N.positions[4 * M * 3 + 3] = r - C + D,
                        N.positions[4 * M * 3 + 4] = h - O,
                        N.positions[4 * M * 3 + 5] = 0,
                        N.positions[4 * M * 3 + 6] = r - C + D,
                        N.positions[4 * M * 3 + 7] = h - O + D,
                        N.positions[4 * M * 3 + 8] = 0,
                        N.positions[4 * M * 3 + 9] = r - C,
                        N.positions[4 * M * 3 + 10] = h - O + D,
                        N.positions[4 * M * 3 + 11] = 0,
                        this.width = Math.max(this.width, r + P + T),
                        this.height = Math.max(this.height, p - (h + g)),
                        r += this._spacing * E,
                        L || j || (a = r),
                        R && (l++,
                        u = a,
                        f = y + 1),
                        b++;
                        var W = this._getUv(z);
                        N.uvs[4 * M * 2 + 0] = W[0],
                        N.uvs[4 * M * 2 + 1] = W[1],
                        N.uvs[4 * M * 2 + 2] = W[2],
                        N.uvs[4 * M * 2 + 3] = W[1],
                        N.uvs[4 * M * 2 + 4] = W[2],
                        N.uvs[4 * M * 2 + 5] = W[3],
                        N.uvs[4 * M * 2 + 6] = W[0],
                        N.uvs[4 * M * 2 + 7] = W[3],
                        N.quad++
                    }
                }
                d < s && S(s, r),
                this._noResize = !0,
                this.autoWidth = this._autoWidth,
                this.autoHeight = this._autoHeight,
                this._noResize = !1;
                var Y = this._element.pivot.x
                  , X = this._element.pivot.y
                  , K = this._alignment.x
                  , Q = this._alignment.y;
                for (y = 0; y < this._meshInfo.length; y++)
                    if (0 !== this._meshInfo[y].count) {
                        var J = 0;
                        for (var q in this._meshInfo[y].lines) {
                            var Z = this._meshInfo[y].lines[q]
                              , $ = -Y * this._element.calculatedWidth + K * (this._element.calculatedWidth - this._lineWidths[parseInt(q, 10)])
                              , tt = (1 - X) * this._element.calculatedHeight - p - (1 - Q) * (this._element.calculatedHeight - this.height);
                            for (M = J; M <= Z; M++)
                                this._meshInfo[y].positions[4 * M * 3] += $,
                                this._meshInfo[y].positions[4 * M * 3 + 3] += $,
                                this._meshInfo[y].positions[4 * M * 3 + 6] += $,
                                this._meshInfo[y].positions[4 * M * 3 + 9] += $,
                                this._meshInfo[y].positions[4 * M * 3 + 1] += tt,
                                this._meshInfo[y].positions[4 * M * 3 + 4] += tt,
                                this._meshInfo[y].positions[4 * M * 3 + 7] += tt,
                                this._meshInfo[y].positions[4 * M * 3 + 10] += tt;
                            J = Z + 1
                        }
                        for (var et = 4 * this._meshInfo[y].count, it = 4 * this._meshInfo[y].quad, st = new n.rn(this._meshInfo[y].meshInstance.mesh.nn), nt = 0; nt < et; nt++)
                            nt >= it ? (st.element[n.Yi].set(0, 0, 0),
                            st.element[n.SEMANTIC_TEXCOORD0].set(0, 0)) : (st.element[n.Yi].set(this._meshInfo[y].positions[3 * nt + 0], this._meshInfo[y].positions[3 * nt + 1], this._meshInfo[y].positions[3 * nt + 2]),
                            st.element[n.SEMANTIC_TEXCOORD0].set(this._meshInfo[y].uvs[2 * nt + 0], this._meshInfo[y].uvs[2 * nt + 1])),
                            st.next();
                        st.end(),
                        this._meshInfo[y].meshInstance.mesh.aabb.compute(this._meshInfo[y].positions),
                        this._meshInfo[y].meshInstance._aabbVer = -1
                    }
                this._aabbDirty = !0
            },
            _onFontAdded: function(t) {
                this._system.app.assets.off("add:" + t.id, this._onFontAdded, this),
                t.id === this._fontAsset && this._bindFont(t)
            },
            _bindFont: function(t) {
                this._entity.enabled && (t.on("load", this._onFontLoad, this),
                t.on("change", this._onFontChange, this),
                t.on("remove", this._onFontRemove, this),
                t.resource ? this._onFontLoad(t) : this._system.app.assets.load(t))
            },
            _unbindFont: function(t) {
                t.off("load", this._onFontLoad, this),
                t.off("change", this._onFontChange, this),
                t.off("remove", this._onFontRemove, this)
            },
            _onFontRender: function() {
                this.font = this._font
            },
            _onFontLoad: function(t) {
                this.font !== t.resource && (this.font = t.resource)
            },
            _onFontChange: function(t, e, i, s) {
                if ("data" === e) {
                    this._font.data = i;
                    for (var n = this._font.data.info.maps.length, r = 0; r < n; r++)
                        if (this._meshInfo[r]) {
                            var a = this._meshInfo[r].meshInstance;
                            a && (a.setParameter("font_sdfIntensity", this._font.intensity),
                            a.setParameter("font_pxrange", this._getPxRange(this._font)),
                            a.setParameter("font_textureWidth", this._font.data.info.maps[r].width))
                        }
                }
            },
            _onFontRemove: function(t) {},
            _setTextureParams: function(t, e) {
                this._font && (this._font.type === n.yv ? (t.deleteParameter("texture_emissiveMap"),
                t.deleteParameter("texture_opacityMap"),
                t.setParameter("texture_msdfMap", e)) : this._font.type === n.Mv && (t.deleteParameter("texture_msdfMap"),
                t.setParameter("texture_emissiveMap", e),
                t.setParameter("texture_opacityMap", e)))
            },
            _getPxRange: function(t) {
                for (var e = Object.keys(this._font.data.chars), i = 0; i < e.length; i++) {
                    var s = this._font.data.chars[e[i]];
                    if (s.scale && s.range)
                        return s.scale * s.range
                }
                return 2
            },
            _getUv: function(t) {
                var e = this._font.data;
                if (!e.chars[t]) {
                    var i = " ";
                    return e.chars[" "] ? this._getUv(" ") : [0, 0, 0, 0]
                }
                var s = e.chars[t].map
                  , n = e.info.maps[s].width
                  , r = e.info.maps[s].height
                  , a = e.chars[t].x
                  , h = e.chars[t].y
                  , c = a
                  , o = h
                  , u = a + e.chars[t].width
                  , f = h - e.chars[t].height
                  , d = 1 - e.chars[t].height / r;
                return [c / n, d - o / r, u / n, d - f / r]
            },
            onEnable: function() {
                if (this._fontAsset) {
                    var t = this._system.app.assets.get(this._fontAsset);
                    t && t.resource !== this._font && (this._unbindFont(t),
                    this._bindFont(t))
                }
                this._model && this._element.addModelToLayers(this._model)
            },
            onDisable: function() {
                this._model && this._element.removeModelFromLayers(this._model)
            },
            _setStencil: function(t) {
                if (this._model)
                    for (var e = this._model.meshInstances, i = 0; i < e.length; i++)
                        e[i].stencilFront = t,
                        e[i].stencilBack = t
            }
        }),
        Object.defineProperty(Yi.prototype, "text", {
            get: function() {
                return this._text
            },
            set: function(t) {
                var e = t.toString();
                if (this.unicodeConverter) {
                    var i = this._system.getUnicodeConverter();
                    i && (e = i(e))
                }
                this._text !== e && (this._font && this._updateText(e),
                this._text = e)
            }
        }),
        Object.defineProperty(Yi.prototype, "color", {
            get: function() {
                return this._color
            },
            set: function(t) {
                var e = t.r
                  , i = t.g
                  , s = t.b;
                if ((this._color.r !== e || this._color.g !== i || this._color.b !== s) && (this._color.r = e,
                this._color.g = i,
                this._color.b = s,
                this._model)) {
                    this._colorUniform[0] = this._color.r,
                    this._colorUniform[1] = this._color.g,
                    this._colorUniform[2] = this._color.b;
                    for (var n = 0, r = this._model.meshInstances.length; n < r; n++) {
                        var a;
                        this._model.meshInstances[n].setParameter("material_emissive", this._colorUniform)
                    }
                }
            }
        }),
        Object.defineProperty(Yi.prototype, "opacity", {
            get: function() {
                return this._color.a
            },
            set: function(t) {
                if (this._color.a !== t && (this._color.a = t,
                this._model))
                    for (var e = 0, i = this._model.meshInstances.length; e < i; e++) {
                        var s;
                        this._model.meshInstances[e].setParameter("material_opacity", t)
                    }
            }
        }),
        Object.defineProperty(Yi.prototype, "lineHeight", {
            get: function() {
                return this._lineHeight
            },
            set: function(t) {
                var e = this._lineHeight;
                this._lineHeight = t,
                e !== t && this._font && this._updateText()
            }
        }),
        Object.defineProperty(Yi.prototype, "wrapLines", {
            get: function() {
                return this._wrapLines
            },
            set: function(t) {
                var e = this._wrapLines;
                this._wrapLines = t,
                e !== t && this._font && this._updateText()
            }
        }),
        Object.defineProperty(Yi.prototype, "lines", {
            get: function() {
                return this._lineContents
            }
        }),
        Object.defineProperty(Yi.prototype, "spacing", {
            get: function() {
                return this._spacing
            },
            set: function(t) {
                var e = this._spacing;
                this._spacing = t,
                e !== t && this._font && this._updateText()
            }
        }),
        Object.defineProperty(Yi.prototype, "fontSize", {
            get: function() {
                return this._fontSize
            },
            set: function(t) {
                var e = this._fontSize;
                this._fontSize = t,
                e !== t && this._font && this._updateText()
            }
        }),
        Object.defineProperty(Yi.prototype, "fontAsset", {
            get: function() {
                return this._fontAsset
            },
            set: function(t) {
                var e = this._system.app.assets
                  , i = t;
                if (t instanceof n.Zf && (i = t.id),
                this._fontAsset !== i) {
                    if (this._fontAsset) {
                        e.off("add:" + this._fontAsset, this._onFontAdded, this);
                        var s = e.get(this._fontAsset);
                        s && this._unbindFont(s)
                    }
                    if (this._fontAsset = i,
                    this._fontAsset) {
                        var r = e.get(this._fontAsset);
                        r ? this._bindFont(r) : e.on("add:" + this._fontAsset, this._onFontAdded, this)
                    }
                }
            }
        }),
        Object.defineProperty(Yi.prototype, "font", {
            get: function() {
                return this._font
            },
            set: function(t) {
                var e, i, s;
                if (this._font && (s = this._font.type,
                this._font.off && this._font.off("render", this._onFontRender, this)),
                this._font = t,
                t) {
                    if (this._font.on && this._font.on("render", this._onFontRender, this),
                    this._fontAsset) {
                        var n = this._system.app.assets.get(this._fontAsset);
                        n.resource !== this._font && (this._unbindFont(n),
                        this._fontAsset = null)
                    }
                    if (t.type !== s) {
                        var r = this._element._isScreenSpace();
                        this._updateMaterial(r)
                    }
                    for (e = 0,
                    i = this._font.textures.length; e < i; e++)
                        if (this._meshInfo[e]) {
                            var a = this._meshInfo[e].meshInstance;
                            a && (a.setParameter("font_sdfIntensity", this._font.intensity),
                            a.setParameter("font_pxrange", this._getPxRange(this._font)),
                            a.setParameter("font_textureWidth", this._font.data.info.maps[e].width),
                            this._setTextureParams(a, this._font.textures[e]))
                        } else
                            this._meshInfo[e] = new Wi;
                    var h = !1;
                    for (e = this._font.textures.length; e < this._meshInfo.length; e++)
                        this._meshInfo[e].meshInstance && (h || (this._element.removeModelFromLayers(this._model),
                        h = !0),
                        this._removeMeshInstance(this._meshInfo[e].meshInstance));
                    this._meshInfo.length > this._font.textures.length && (this._meshInfo.length = this._font.textures.length),
                    this._updateText()
                }
            }
        }),
        Object.defineProperty(Yi.prototype, "alignment", {
            get: function() {
                return this._alignment
            },
            set: function(t) {
                t instanceof n.pt ? this._alignment.set(t.x, t.y) : this._alignment.set(t[0], t[1]),
                this._font && this._updateText()
            }
        }),
        Object.defineProperty(Yi.prototype, "autoWidth", {
            get: function() {
                return this._autoWidth
            },
            set: function(t) {
                this._autoWidth = t,
                t && Math.abs(this._element.anchor.x - this._element.anchor.z) < 1e-4 && (this._element.width = this.width)
            }
        }),
        Object.defineProperty(Yi.prototype, "autoHeight", {
            get: function() {
                return this._autoHeight
            },
            set: function(t) {
                this._autoHeight = t,
                t && Math.abs(this._element.anchor.y - this._element.anchor.w) < 1e-4 && (this._element.height = this.height)
            }
        }),
        Object.defineProperty(Yi.prototype, "rtlReorder", {
            get: function() {
                return this._rtlReorder
            },
            set: function(t) {
                this._rtlReorder !== t && (this._rtlReorder = t,
                this._font && this._updateText())
            }
        }),
        Object.defineProperty(Yi.prototype, "unicodeConverter", {
            get: function() {
                return this._unicodeConverter
            },
            set: function(t) {
                this._unicodeConverter !== t && (this._unicodeConverter = t,
                this.text = this._text)
            }
        }),
        Object.defineProperty(Yi.prototype, "aabb", {
            get: function() {
                if (this._aabbDirty) {
                    for (var t = !1, e = 0; e < this._meshInfo.length; e++)
                        this._meshInfo[e].meshInstance && (t ? this._aabb.add(this._meshInfo[e].meshInstance.aabb) : (this._aabb.copy(this._meshInfo[e].meshInstance.aabb),
                        t = !0));
                    this._aabbDirty = !1
                }
                return this._aabb
            }
        }),
        {
            vv: Yi
        })),
        Object.assign(n, (Ji = new n.pt,
        qi = new n.ut,
        Zi = new n.ut,
        $i = new n.ut,
        ts = new n.ut,
        es = new n.ut,
        is = new n.bt,
        ss = {
            x: "y",
            y: "x"
        },
        ns = function t(e, i) {
            if (!(e && e instanceof n.mv))
                throw new Error("Element was null or not an ElementComponent");
            if (i && "x" !== i && "y" !== i)
                throw new Error("Unrecognized axis: " + i);
            this._element = e,
            this._app = e.system.app,
            this._axis = i || null,
            this._enabled = !0,
            this._dragScale = new n.ut,
            this._dragStartMousePosition = new n.ut,
            this._dragStartHandlePosition = new n.ut,
            this._deltaMousePosition = new n.ut,
            this._deltaHandlePosition = new n.ut,
            this._isDragging = !1,
            n.K.attach(this),
            this._toggleLifecycleListeners("on")
        }
        ,
        Object.assign(ns.prototype, {
            _toggleLifecycleListeners: function(t) {
                this._element[t]("mousedown", this._onMouseDownOrTouchStart, this),
                this._element[t]("touchstart", this._onMouseDownOrTouchStart, this)
            },
            _toggleDragListeners: function(t) {
                var e = "on" === t
                  , i = e ? "addEventListener" : "removeEventListener";
                this._hasDragListeners && e || (this._handleMouseUpOrTouchEnd || (this._handleMouseUpOrTouchEnd = this._onMouseUpOrTouchEnd.bind(this)),
                this._app.mouse[t]("mousemove", this._onMove, this),
                window[i]("mouseup", this._handleMouseUpOrTouchEnd, !1),
                n.platform.touch && (this._app.touch[t]("touchmove", this._onMove, this),
                window[i]("touchend", this._handleMouseUpOrTouchEnd, !1),
                window[i]("touchcancel", this._handleMouseUpOrTouchEnd, !1)),
                this._hasDragListeners = e)
            },
            _onMouseDownOrTouchStart: function(t) {
                if (this._element && !this._isDragging && this.enabled) {
                    this._dragCamera = t.camera,
                    this._calculateDragScale();
                    var e = this._screenToLocal(t);
                    e && (this._toggleDragListeners("on"),
                    this._isDragging = !0,
                    this._dragStartMousePosition.copy(e),
                    this._dragStartHandlePosition.copy(this._element.Bc.getLocalPosition()),
                    this.fire("drag:start"))
                }
            },
            _onMouseUpOrTouchEnd: function() {
                this._isDragging && (this._isDragging = !1,
                this._toggleDragListeners("off"),
                this.fire("drag:end"))
            },
            _screenToLocal: function(t) {
                this._determineInputPosition(t),
                this._chooseRayOriginAndDirection(),
                ts.copy(this._element.Bc.getPosition()),
                es.copy(this._element.Bc.forward).scale(-1);
                var e = es.dot($i);
                if (Math.abs(e) > 0) {
                    var i, s = ts.sub(Zi).dot(es) / e, n = Zi.add($i.scale(s));
                    return is.copy(this._element.Bc.getRotation()).invert().ft(n, n),
                    n.mul(this._dragScale),
                    n
                }
                return null
            },
            _determineInputPosition: function(t) {
                var e = this._app.Br.maxPixelRatio;
                void 0 !== t.x && void 0 !== t.y ? (Ji.x = t.x * e,
                Ji.y = t.y * e) : t.changedTouches && (Ji.x = t.changedTouches[0].x * e,
                Ji.y = t.changedTouches[0].y * e)
            },
            _chooseRayOriginAndDirection: function() {
                this._element.screen && this._element.screen.screen.screenSpace ? (Zi.set(Ji.x, -Ji.y, 0),
                $i.set(0, 0, -1)) : (qi.copy(this._dragCamera.screenToWorld(Ji.x, Ji.y, 1)),
                Zi.copy(this._dragCamera.Bc.getPosition()),
                $i.copy(qi).sub(Zi).normalize())
            },
            _calculateDragScale: function() {
                var t = this._element.Bc.parent
                  , e = this._element.screen && this._element.screen.screen
                  , i = e && e.screenSpace
                  , s = i ? e.scale : 1
                  , n = this._dragScale;
                for (n.set(s, s, s); t && (n.mul(t.getLocalScale()),
                t = t.parent,
                !i || !t.screen); )
                    ;
                n.x = 1 / n.x,
                n.y = 1 / n.y,
                n.z = 1 / n.z
            },
            _onMove: function(t) {
                if (this._element && this._isDragging && this.enabled && this._element.enabled && this._element.Bc.enabled) {
                    var e = this._screenToLocal(t);
                    if (this._dragStartMousePosition && e) {
                        if (this._deltaMousePosition.copy(e).sub(this._dragStartMousePosition),
                        this._deltaHandlePosition.copy(this._dragStartHandlePosition).add(this._deltaMousePosition),
                        this._axis) {
                            var i = this._element.Bc.getLocalPosition()
                              , s = ss[this._axis];
                            this._deltaHandlePosition[s] = i[s]
                        }
                        this._element.Bc.setLocalPosition(this._deltaHandlePosition),
                        this.fire("drag:move", this._deltaHandlePosition)
                    }
                }
            },
            destroy: function() {
                this._toggleLifecycleListeners("off"),
                this._toggleDragListeners("off")
            }
        }),
        Object.defineProperty(ns.prototype, "enabled", {
            get: function() {
                return this._enabled
            },
            set: function(t) {
                this._enabled = t
            }
        }),
        Object.defineProperty(ns.prototype, "isDragging", {
            get: function() {
                return this._isDragging
            }
        }),
        {
            ElementDragHelper: ns
        })),
        Object.assign(n, {
            BUTTON_TRANSITION_MODE_TINT: 0,
            BUTTON_TRANSITION_MODE_SPRITE_CHANGE: 1
        }),
        Object.assign(n, function() {
            var t = "DEFAULT"
              , e = "HOVER"
              , i = "PRESSED"
              , s = "INACTIVE"
              , r = {};
            r[t] = "_defaultTint",
            r[e] = "hoverTint",
            r[i] = "pressedTint",
            r[s] = "inactiveTint";
            var a = {};
            a[t] = "_defaultSpriteAsset",
            a[e] = "hoverSpriteAsset",
            a[i] = "pressedSpriteAsset",
            a[s] = "inactiveSpriteAsset";
            var h = {};
            h[t] = "_defaultSpriteFrame",
            h[e] = "hoverSpriteFrame",
            h[i] = "pressedSpriteFrame",
            h[s] = "inactiveSpriteFrame";
            var c = function e(i, s) {
                n.Component.call(this, i, s),
                this._visualState = t,
                this._isHovering = !1,
                this._isPressed = !1,
                this._defaultTint = new n.D(1,1,1,1),
                this._defaultSpriteAsset = null,
                this._defaultSpriteFrame = 0,
                this._imageReference = new n.EntityReference(this,"imageEntity",{
                    "element#gain": this._onImageElementGain,
                    "element#lose": this._onImageElementLose,
                    "element#set:color": this._onSetColor,
                    "element#set:opacity": this._onSetOpacity,
                    "element#set:spriteAsset": this._onSetSpriteAsset,
                    "element#set:spriteFrame": this._onSetSpriteFrame
                }),
                this._toggleLifecycleListeners("on", i)
            };
            function o(t) {
                return new n.D(t.r,t.g,t.b)
            }
            return (c.prototype = Object.create(n.Component.prototype)).constructor = c,
            Object.assign(c.prototype, {
                _toggleLifecycleListeners: function(t, e) {
                    this[t]("set_active", this._onSetActive, this),
                    this[t]("set_transitionMode", this._onSetTransitionMode, this),
                    this[t]("set_hoverTint", this._onSetTransitionValue, this),
                    this[t]("set_pressedTint", this._onSetTransitionValue, this),
                    this[t]("set_inactiveTint", this._onSetTransitionValue, this),
                    this[t]("set_hoverSpriteAsset", this._onSetTransitionValue, this),
                    this[t]("set_hoverSpriteFrame", this._onSetTransitionValue, this),
                    this[t]("set_pressedSpriteAsset", this._onSetTransitionValue, this),
                    this[t]("set_pressedSpriteFrame", this._onSetTransitionValue, this),
                    this[t]("set_inactiveSpriteAsset", this._onSetTransitionValue, this),
                    this[t]("set_inactiveSpriteFrame", this._onSetTransitionValue, this),
                    n.Cl[t]("update", this._onUpdate, this),
                    e.app.systems.element[t]("add", this._onElementComponentAdd, this),
                    e.app.systems.element[t]("beforeremove", this._onElementComponentRemove, this)
                },
                _onSetActive: function(t, e, i) {
                    e !== i && this._updateVisualState()
                },
                _onSetTransitionMode: function(t, e, i) {
                    e !== i && (this._cancelTween(),
                    this._resetToDefaultVisualState(e),
                    this._forceReapplyVisualState())
                },
                _onSetTransitionValue: function(t, e, i) {
                    e !== i && this._forceReapplyVisualState()
                },
                _onElementComponentRemove: function(t) {
                    this.Bc === t && this._toggleHitElementListeners("off")
                },
                _onElementComponentAdd: function(t) {
                    this.Bc === t && this._toggleHitElementListeners("on")
                },
                _onImageElementLose: function() {
                    this._cancelTween(),
                    this._resetToDefaultVisualState(this.transitionMode)
                },
                _onImageElementGain: function() {
                    this._storeDefaultVisualState(),
                    this._forceReapplyVisualState()
                },
                _toggleHitElementListeners: function(t) {
                    if (this.Bc.element) {
                        var e = "on" === t;
                        if (e && this._hasHitElementListeners)
                            return;
                        this.Bc.element[t]("mouseenter", this._onMouseEnter, this),
                        this.Bc.element[t]("mouseleave", this._onMouseLeave, this),
                        this.Bc.element[t]("mousedown", this._onMouseDown, this),
                        this.Bc.element[t]("mouseup", this._onMouseUp, this),
                        this.Bc.element[t]("touchstart", this._onTouchStart, this),
                        this.Bc.element[t]("touchend", this._onTouchEnd, this),
                        this.Bc.element[t]("touchleave", this._onTouchLeave, this),
                        this.Bc.element[t]("touchcancel", this._onTouchCancel, this),
                        this.Bc.element[t]("click", this._onClick, this),
                        this._hasHitElementListeners = e
                    }
                },
                _storeDefaultVisualState: function() {
                    this._imageReference.hasComponent("element") && (this._storeDefaultColor(this._imageReference.Bc.element.color),
                    this._storeDefaultOpacity(this._imageReference.Bc.element.opacity),
                    this._storeDefaultSpriteAsset(this._imageReference.Bc.element.spriteAsset),
                    this._storeDefaultSpriteFrame(this._imageReference.Bc.element.spriteFrame))
                },
                _storeDefaultColor: function(t) {
                    this._defaultTint.r = t.r,
                    this._defaultTint.g = t.g,
                    this._defaultTint.b = t.b
                },
                _storeDefaultOpacity: function(t) {
                    this._defaultTint.a = t
                },
                _storeDefaultSpriteAsset: function(t) {
                    this._defaultSpriteAsset = t
                },
                _storeDefaultSpriteFrame: function(t) {
                    this._defaultSpriteFrame = t
                },
                _onSetColor: function(t) {
                    this._isApplyingTint || (this._storeDefaultColor(t),
                    this._forceReapplyVisualState())
                },
                _onSetOpacity: function(t) {
                    this._isApplyingTint || (this._storeDefaultOpacity(t),
                    this._forceReapplyVisualState())
                },
                _onSetSpriteAsset: function(t) {
                    this._isApplyingSprite || (this._storeDefaultSpriteAsset(t),
                    this._forceReapplyVisualState())
                },
                _onSetSpriteFrame: function(t) {
                    this._isApplyingSprite || (this._storeDefaultSpriteFrame(t),
                    this._forceReapplyVisualState())
                },
                _onMouseEnter: function(t) {
                    this._isHovering = !0,
                    this._updateVisualState(),
                    this._fireIfActive("mouseenter", t)
                },
                _onMouseLeave: function(t) {
                    this._isHovering = !1,
                    this._isPressed = !1,
                    this._updateVisualState(),
                    this._fireIfActive("mouseleave", t)
                },
                _onMouseDown: function(t) {
                    this._isPressed = !0,
                    this._updateVisualState(),
                    this._fireIfActive("mousedown", t)
                },
                _onMouseUp: function(t) {
                    this._isPressed = !1,
                    this._updateVisualState(),
                    this._fireIfActive("mouseup", t)
                },
                _onTouchStart: function(t) {
                    this._isPressed = !0,
                    this._updateVisualState(),
                    this._fireIfActive("touchstart", t)
                },
                _onTouchEnd: function(t) {
                    t.event.preventDefault(),
                    this._isPressed = !1,
                    this._updateVisualState(),
                    this._fireIfActive("touchend", t)
                },
                _onTouchLeave: function(t) {
                    this._isPressed = !1,
                    this._updateVisualState(),
                    this._fireIfActive("touchleave", t)
                },
                _onTouchCancel: function(t) {
                    this._isPressed = !1,
                    this._updateVisualState(),
                    this._fireIfActive("touchcancel", t)
                },
                _onClick: function(t) {
                    this._fireIfActive("click", t)
                },
                _fireIfActive: function(t, e) {
                    this.data.active && this.fire(t, e)
                },
                _updateVisualState: function(t) {
                    var s = this._visualState
                      , c = this._determineVisualState();
                    if ((s !== c || t) && this.enabled)
                        switch (this._visualState = c,
                        s === e && this._fireIfActive("hoverend"),
                        s === i && this._fireIfActive("pressedend"),
                        c === e && this._fireIfActive("hoverstart"),
                        c === i && this._fireIfActive("pressedstart"),
                        this.transitionMode) {
                        case n.BUTTON_TRANSITION_MODE_TINT:
                            var o, u = this[r[this._visualState]];
                            this._applyTint(u);
                            break;
                        case n.BUTTON_TRANSITION_MODE_SPRITE_CHANGE:
                            var f = a[this._visualState]
                              , d = h[this._visualState]
                              , l = this[f]
                              , b = this[d];
                            this._applySprite(l, b)
                        }
                },
                _forceReapplyVisualState: function() {
                    this._updateVisualState(!0)
                },
                _resetToDefaultVisualState: function(t) {
                    if (this._imageReference.hasComponent("element"))
                        switch (t) {
                        case n.BUTTON_TRANSITION_MODE_TINT:
                            this._cancelTween(),
                            this._applyTintImmediately(this._defaultTint);
                            break;
                        case n.BUTTON_TRANSITION_MODE_SPRITE_CHANGE:
                            this._applySprite(this._defaultSpriteAsset, this._defaultSpriteFrame)
                        }
                },
                _determineVisualState: function() {
                    return this.active ? this._isPressed ? i : this._isHovering ? e : t : s
                },
                _applySprite: function(t, e) {
                    e = e || 0,
                    this._imageReference.hasComponent("element") && (this._isApplyingSprite = !0,
                    this._imageReference.Bc.element.spriteAsset = t,
                    this._imageReference.Bc.element.spriteFrame = e,
                    this._isApplyingSprite = !1)
                },
                _applyTint: function(t) {
                    this._cancelTween(),
                    0 === this.fadeDuration ? this._applyTintImmediately(t) : this._applyTintWithTween(t)
                },
                _applyTintImmediately: function(t) {
                    this._imageReference.hasComponent("element") && t && (this._isApplyingTint = !0,
                    this._imageReference.Bc.element.color = o(t),
                    this._imageReference.Bc.element.opacity = t.a,
                    this._isApplyingTint = !1)
                },
                _applyTintWithTween: function(t) {
                    if (this._imageReference.hasComponent("element") && t) {
                        var e = this._imageReference.Bc.element.color
                          , i = this._imageReference.Bc.element.opacity;
                        this._tweenInfo = {
                            startTime: n.now(),
                            from: new n.D(e.r,e.g,e.b,i),
                            to: t.clone(),
                            lerpVec: new n.wt
                        }
                    }
                },
                _updateTintTween: function() {
                    var t = n.now() - this._tweenInfo.startTime
                      , e = 0 === this.fadeDuration ? 1 : t / this.fadeDuration;
                    if (e = n.I.clamp(e, 0, 1),
                    Math.abs(e - 1) > 1e-5) {
                        var i = this._tweenInfo.lerpVec;
                        i.st(this._tweenInfo.from, this._tweenInfo.to, e),
                        this._applyTintImmediately(new n.D(i.x,i.y,i.z,i.w))
                    } else
                        this._applyTintImmediately(this._tweenInfo.to),
                        this._cancelTween()
                },
                _cancelTween: function() {
                    delete this._tweenInfo
                },
                _onUpdate: function() {
                    this._tweenInfo && this._updateTintTween()
                },
                onEnable: function() {
                    this._imageReference.onParentComponentEnable(),
                    this._toggleHitElementListeners("on"),
                    this._forceReapplyVisualState()
                },
                onDisable: function() {
                    this._toggleHitElementListeners("off"),
                    this._resetToDefaultVisualState(this.transitionMode)
                },
                onRemove: function() {
                    this._toggleLifecycleListeners("off", this.system),
                    this.onDisable()
                }
            }),
            {
                ButtonComponent: c
            }
        }()),
        Object.assign(n, function() {
            var t = ["enabled", "active", {
                name: "imageEntity",
                type: "entity"
            }, {
                name: "hitPadding",
                type: "vec4"
            }, "transitionMode", {
                name: "hoverTint",
                type: "rgba"
            }, {
                name: "pressedTint",
                type: "rgba"
            }, {
                name: "inactiveTint",
                type: "rgba"
            }, "fadeDuration", "hoverSpriteAsset", "hoverSpriteFrame", "pressedSpriteAsset", "pressedSpriteFrame", "inactiveSpriteAsset", "inactiveSpriteFrame"]
              , e = function e(i) {
                n.Cl.call(this, i),
                this.id = "button",
                this.app = i,
                this.ComponentType = n.ButtonComponent,
                this.DataType = n.ButtonComponentData,
                this.schema = t,
                this.on("beforeremove", this._onRemoveComponent, this)
            };
            return (e.prototype = Object.create(n.Cl.prototype)).constructor = e,
            n.Component._buildAccessors(n.ButtonComponent.prototype, t),
            Object.assign(e.prototype, {
                jl: function(e, i, s) {
                    n.Cl.prototype.jl.call(this, e, i, t)
                },
                _onRemoveComponent: function(t, e) {
                    e.onRemove()
                }
            }),
            {
                Jd: e
            }
        }()),
        Object.assign(n, {
            ButtonComponentData: function() {
                this.enabled = !0,
                this.active = !0,
                this.imageEntity = null,
                this.hitPadding = new n.wt,
                this.transitionMode = n.BUTTON_TRANSITION_MODE_TINT,
                this.hoverTint = new n.D(.75,.75,.75),
                this.pressedTint = new n.D(.5,.5,.5),
                this.inactiveTint = new n.D(.25,.25,.25),
                this.fadeDuration = 0,
                this.hoverSpriteAsset = null,
                this.hoverSpriteFrame = 0,
                this.pressedSpriteAsset = null,
                this.pressedSpriteFrame = 0,
                this.inactiveSpriteAsset = null,
                this.inactiveSpriteFrame = 0
            }
        }),
        Object.assign(n, {
            SCROLL_MODE_CLAMP: 0,
            SCROLL_MODE_BOUNCE: 1,
            SCROLL_MODE_INFINITE: 2,
            SCROLLBAR_VISIBILITY_SHOW_ALWAYS: 0,
            SCROLLBAR_VISIBILITY_SHOW_WHEN_REQUIRED: 1
        }),
        Object.assign(n, (as = new n.pt,
        ((hs = function t(e, i) {
            n.Component.call(this, e, i),
            this._viewportReference = new n.EntityReference(this,"viewportEntity",{
                "element#gain": this._onViewportElementGain,
                "element#resize": this._onSetContentOrViewportSize
            }),
            this._contentReference = new n.EntityReference(this,"contentEntity",{
                "element#gain": this._onContentElementGain,
                "element#lose": this._onContentElementLose,
                "element#resize": this._onSetContentOrViewportSize
            }),
            this._scrollbarUpdateFlags = {},
            this._scrollbarReferences = {},
            this._scrollbarReferences[n.ORIENTATION_HORIZONTAL] = new n.EntityReference(this,"horizontalScrollbarEntity",{
                "scrollbar#set:value": this._onSetHorizontalScrollbarValue,
                "scrollbar#gain": this._onHorizontalScrollbarGain
            }),
            this._scrollbarReferences[n.ORIENTATION_VERTICAL] = new n.EntityReference(this,"verticalScrollbarEntity",{
                "scrollbar#set:value": this._onSetVerticalScrollbarValue,
                "scrollbar#gain": this._onVerticalScrollbarGain
            }),
            this._prevContentSizes = {},
            this._prevContentSizes[n.ORIENTATION_HORIZONTAL] = null,
            this._prevContentSizes[n.ORIENTATION_VERTICAL] = null,
            this._scroll = new n.pt,
            this._velocity = new n.ut,
            this._dragStartPosition = new n.ut,
            this._disabledContentInput = !1,
            this._disabledContentInputEntities = [],
            this._toggleLifecycleListeners("on", e),
            this._toggleElementListeners("on")
        }
        ).prototype = Object.create(n.Component.prototype)).constructor = hs,
        Object.assign(hs.prototype, {
            _toggleLifecycleListeners: function(t, e) {
                this[t]("set_horizontal", this._onSetHorizontalScrollingEnabled, this),
                this[t]("set_vertical", this._onSetVerticalScrollingEnabled, this),
                n.Cl[t]("update", this._onUpdate, this),
                e.app.systems.element[t]("add", this._onElementComponentAdd, this),
                e.app.systems.element[t]("beforeremove", this._onElementComponentRemove, this)
            },
            _toggleElementListeners: function(t) {
                if (this.Bc.element) {
                    if ("on" === t && this._hasElementListeners)
                        return;
                    this.Bc.element[t]("resize", this._onSetContentOrViewportSize, this),
                    this._hasElementListeners = "on" === t
                }
            },
            _onElementComponentAdd: function(t) {
                this.Bc === t && this._toggleElementListeners("on")
            },
            _onElementComponentRemove: function(t) {
                this.Bc === t && this._toggleElementListeners("off")
            },
            _onViewportElementGain: function() {
                this._syncAll()
            },
            _onContentElementGain: function() {
                this._destroyDragHelper(),
                this._contentDragHelper = new n.ElementDragHelper(this._contentReference.Bc.element),
                this._contentDragHelper.on("drag:start", this._onContentDragStart, this),
                this._contentDragHelper.on("drag:end", this._onContentDragEnd, this),
                this._contentDragHelper.on("drag:move", this._onContentDragMove, this),
                this._prevContentSizes[n.ORIENTATION_HORIZONTAL] = null,
                this._prevContentSizes[n.ORIENTATION_VERTICAL] = null,
                this._syncAll()
            },
            _onContentElementLose: function() {
                this._destroyDragHelper()
            },
            _onContentDragStart: function() {
                this._contentReference.Bc && this.enabled && this.Bc.enabled && this._dragStartPosition.copy(this._contentReference.Bc.getLocalPosition())
            },
            _onContentDragEnd: function() {
                this._prevContentDragPosition = null,
                this._enableContentInput()
            },
            _onContentDragMove: function(t) {
                if (this._contentReference.Bc && this.enabled && this.Bc.enabled && (this._wasDragged = !0,
                this._setScrollFromContentPosition(t),
                this._setVelocityFromContentPositionDelta(t),
                !this._disabledContentInput)) {
                    var e = t.x - this._dragStartPosition.x
                      , i = t.y - this._dragStartPosition.y;
                    (Math.abs(e) > this.dragThreshold || Math.abs(i) > this.dragThreshold) && this._disableContentInput()
                }
            },
            _onSetContentOrViewportSize: function() {
                this._syncAll()
            },
            _onSetHorizontalScrollbarValue: function(t) {
                !this._scrollbarUpdateFlags[n.ORIENTATION_HORIZONTAL] && this.enabled && this.Bc.enabled && this._onSetScroll(t, null)
            },
            _onSetVerticalScrollbarValue: function(t) {
                !this._scrollbarUpdateFlags[n.ORIENTATION_VERTICAL] && this.enabled && this.Bc.enabled && this._onSetScroll(null, t)
            },
            _onSetHorizontalScrollingEnabled: function() {
                this._syncScrollbarEnabledState(n.ORIENTATION_HORIZONTAL)
            },
            _onSetVerticalScrollingEnabled: function() {
                this._syncScrollbarEnabledState(n.ORIENTATION_VERTICAL)
            },
            _onHorizontalScrollbarGain: function() {
                this._syncScrollbarEnabledState(n.ORIENTATION_HORIZONTAL),
                this._syncScrollbarPosition(n.ORIENTATION_HORIZONTAL)
            },
            _onVerticalScrollbarGain: function() {
                this._syncScrollbarEnabledState(n.ORIENTATION_VERTICAL),
                this._syncScrollbarPosition(n.ORIENTATION_VERTICAL)
            },
            _onSetScroll: function(t, e, i) {
                !1 !== i && this._velocity.set(0, 0, 0);
                var s = !1;
                s |= this._updateAxis(t, "x", n.ORIENTATION_HORIZONTAL),
                (s |= this._updateAxis(e, "y", n.ORIENTATION_VERTICAL)) && this.fire("set:scroll", this._scroll)
            },
            _updateAxis: function(t, e, i) {
                var s = null !== t && Math.abs(t - this._scroll[e]) > 1e-5;
                return (s || this._isDragging() || 0 === t) && (this._scroll[e] = this._determineNewScrollValue(t, e, i),
                this._syncContentPosition(i),
                this._syncScrollbarPosition(i)),
                s
            },
            _determineNewScrollValue: function(t, e, i) {
                if (!this._getScrollingEnabled(i))
                    return this._scroll[e];
                switch (this.scrollMode) {
                case n.SCROLL_MODE_CLAMP:
                    return n.I.clamp(t, 0, this._getMaxScrollValue(i));
                case n.SCROLL_MODE_BOUNCE:
                    return this._setVelocityFromOvershoot(t, e, i),
                    t;
                case n.SCROLL_MODE_INFINITE:
                default:
                    return t
                }
            },
            _syncAll: function() {
                this._syncContentPosition(n.ORIENTATION_HORIZONTAL),
                this._syncContentPosition(n.ORIENTATION_VERTICAL),
                this._syncScrollbarPosition(n.ORIENTATION_HORIZONTAL),
                this._syncScrollbarPosition(n.ORIENTATION_VERTICAL),
                this._syncScrollbarEnabledState(n.ORIENTATION_HORIZONTAL),
                this._syncScrollbarEnabledState(n.ORIENTATION_VERTICAL)
            },
            _syncContentPosition: function(t) {
                var e = this._getAxis(t)
                  , i = this._getSign(t)
                  , s = this._contentReference.Bc;
                if (s) {
                    var r = this._prevContentSizes[t]
                      , a = this._getContentSize(t);
                    if (null !== r && Math.abs(r - a) > 1e-4) {
                        var h = this._getMaxOffset(t, r)
                          , c = this._getMaxOffset(t, a);
                        this._scroll[e] = 0 === c ? 1 : n.I.clamp(this._scroll[e] * h / c, 0, 1)
                    }
                    var o = this._scroll[e] * this._getMaxOffset(t)
                      , u = s.getLocalPosition();
                    u[e] = o * i,
                    s.setLocalPosition(u),
                    this._prevContentSizes[t] = a
                }
            },
            _syncScrollbarPosition: function(t) {
                var e = this._getAxis(t)
                  , i = this._scrollbarReferences[t].Bc;
                i && i.scrollbar && (this._scrollbarUpdateFlags[t] = !0,
                i.scrollbar.value = this._scroll[e],
                i.scrollbar.handleSize = this._getScrollbarHandleSize(e, t),
                this._scrollbarUpdateFlags[t] = !1)
            },
            _syncScrollbarEnabledState: function(t) {
                var e = this._scrollbarReferences[t].Bc;
                if (e) {
                    var i = this._getScrollingEnabled(t), s;
                    switch (this._getScrollbarVisibility(t)) {
                    case n.SCROLLBAR_VISIBILITY_SHOW_ALWAYS:
                        return void (e.enabled = i);
                    case n.SCROLLBAR_VISIBILITY_SHOW_WHEN_REQUIRED:
                        return void (e.enabled = i && this._contentIsLargerThanViewport(t));
                    default:
                        e.enabled = i
                    }
                }
            },
            _contentIsLargerThanViewport: function(t) {
                return this._getContentSize(t) > this._getViewportSize(t)
            },
            _contentPositionToScrollValue: function(t) {
                var e = this._getMaxOffset(n.ORIENTATION_HORIZONTAL)
                  , i = this._getMaxOffset(n.ORIENTATION_VERTICAL);
                return as.x = 0 === e ? 0 : t.x / e,
                as.y = 0 === i ? 0 : t.y / -i,
                as
            },
            _getMaxOffset: function(t, e) {
                e = void 0 === e ? this._getContentSize(t) : e;
                var i = this._getViewportSize(t);
                return e < i ? -this._getViewportSize(t) : i - e
            },
            _getMaxScrollValue: function(t) {
                return this._contentIsLargerThanViewport(t) ? 1 : 0
            },
            _getScrollbarHandleSize: function(t, e) {
                var i = this._getViewportSize(e)
                  , s = this._getContentSize(e);
                if (Math.abs(s) < .001)
                    return 1;
                var n = Math.min(i / s, 1)
                  , r = this._toOvershoot(this._scroll[t], e);
                return 0 === r ? n : n / (1 + Math.abs(r))
            },
            _getViewportSize: function(t) {
                return this._getSize(t, this._viewportReference)
            },
            _getContentSize: function(t) {
                return this._getSize(t, this._contentReference)
            },
            _getSize: function(t, e) {
                return e.Bc && e.Bc.element ? e.Bc.element[this._getCalculatedDimension(t)] : 0
            },
            _getScrollingEnabled: function(t) {
                return t === n.ORIENTATION_HORIZONTAL ? this.horizontal : t === n.ORIENTATION_VERTICAL ? this.vertical : void 0
            },
            _getScrollbarVisibility: function(t) {
                return t === n.ORIENTATION_HORIZONTAL ? this.horizontalScrollbarVisibility : t === n.ORIENTATION_VERTICAL ? this.verticalScrollbarVisibility : void 0
            },
            _getSign: function(t) {
                return t === n.ORIENTATION_HORIZONTAL ? 1 : -1
            },
            _getAxis: function(t) {
                return t === n.ORIENTATION_HORIZONTAL ? "x" : "y"
            },
            _getCalculatedDimension: function(t) {
                return t === n.ORIENTATION_HORIZONTAL ? "calculatedWidth" : "calculatedHeight"
            },
            _destroyDragHelper: function() {
                this._contentDragHelper && this._contentDragHelper.destroy()
            },
            _onUpdate: function() {
                this._contentReference.Bc && this.enabled && this.Bc.enabled && (this._updateVelocity(),
                this._syncScrollbarEnabledState(n.ORIENTATION_HORIZONTAL),
                this._syncScrollbarEnabledState(n.ORIENTATION_VERTICAL))
            },
            _updateVelocity: function() {
                if (!this._isDragging() && (this.scrollMode === n.SCROLL_MODE_BOUNCE && (this._hasOvershoot("x", n.ORIENTATION_HORIZONTAL) && this._setVelocityFromOvershoot(this.scroll.x, "x", n.ORIENTATION_HORIZONTAL),
                this._hasOvershoot("y", n.ORIENTATION_VERTICAL) && this._setVelocityFromOvershoot(this.scroll.y, "y", n.ORIENTATION_VERTICAL)),
                this._velocity.x *= 1 - this.friction,
                this._velocity.y *= 1 - this.friction,
                Math.abs(this._velocity.x) > 1e-4 || Math.abs(this._velocity.y) > 1e-4)) {
                    var t = this._contentReference.Bc.getLocalPosition();
                    t.x += this._velocity.x,
                    t.y += this._velocity.y,
                    this._contentReference.Bc.setLocalPosition(t),
                    this._setScrollFromContentPosition(t)
                }
            },
            _hasOvershoot: function(t, e) {
                return Math.abs(this._toOvershoot(this.scroll[t], e)) > .001
            },
            _toOvershoot: function(t, e) {
                var i = this._getMaxScrollValue(e);
                return t < 0 ? t : t > i ? t - i : 0
            },
            _setVelocityFromOvershoot: function(t, e, i) {
                var s, n = this._toOvershoot(t, i) * this._getMaxOffset(i) * this._getSign(i);
                Math.abs(n) > 0 && (this._velocity[e] = -n / (50 * this.bounceAmount + 1))
            },
            _setVelocityFromContentPositionDelta: function(t) {
                this._prevContentDragPosition ? (this._velocity.sub2(t, this._prevContentDragPosition),
                this._prevContentDragPosition.copy(t)) : (this._velocity.set(0, 0, 0),
                this._prevContentDragPosition = t.clone())
            },
            _setScrollFromContentPosition: function(t) {
                var e = this._contentPositionToScrollValue(t);
                this._isDragging() && (e = this._applyScrollValueTension(e)),
                this._onSetScroll(e.x, e.y, !1)
            },
            _applyScrollValueTension: function(t) {
                var e, i, s = 1;
                return e = this._getMaxScrollValue(n.ORIENTATION_HORIZONTAL),
                (i = this._toOvershoot(t.x, n.ORIENTATION_HORIZONTAL)) > 0 ? t.x = e + 1 * Math.log10(1 + i) : i < 0 && (t.x = -1 * Math.log10(1 - i)),
                e = this._getMaxScrollValue(n.ORIENTATION_VERTICAL),
                (i = this._toOvershoot(t.y, n.ORIENTATION_VERTICAL)) > 0 ? t.y = e + 1 * Math.log10(1 + i) : i < 0 && (t.y = -1 * Math.log10(1 - i)),
                t
            },
            _isDragging: function() {
                return this._contentDragHelper && this._contentDragHelper.isDragging
            },
            _setScrollbarComponentsEnabled: function(t) {
                this._scrollbarReferences[n.ORIENTATION_HORIZONTAL].hasComponent("scrollbar") && (this._scrollbarReferences[n.ORIENTATION_HORIZONTAL].Bc.scrollbar.enabled = t),
                this._scrollbarReferences[n.ORIENTATION_VERTICAL].hasComponent("scrollbar") && (this._scrollbarReferences[n.ORIENTATION_VERTICAL].Bc.scrollbar.enabled = t)
            },
            _setContentDraggingEnabled: function(t) {
                this._contentDragHelper && (this._contentDragHelper.enabled = t)
            },
            _enableContentInput: function() {
                for (; this._disabledContentInputEntities.length; ) {
                    var t = this._disabledContentInputEntities.pop();
                    t.element && (t.element.useInput = !0)
                }
                this._disabledContentInput = !1
            },
            _disableContentInput: function() {
                var t = this
                  , e = function(i) {
                    i.element && i.element.useInput && (t._disabledContentInputEntities.push(i),
                    i.element.useInput = !1);
                    var s = i.children, n, r;
                    for (n = 0,
                    r = s.length; n < r; n++)
                        e(s[n])
                }
                  , i = this._contentReference.Bc;
                if (i) {
                    var s = i.children, n, r = s.length;
                    for (n = 0; n < r; n++)
                        e(s[n])
                }
                this._disabledContentInput = !0
            },
            onEnable: function() {
                this._viewportReference.onParentComponentEnable(),
                this._contentReference.onParentComponentEnable(),
                this._scrollbarReferences[n.ORIENTATION_HORIZONTAL].onParentComponentEnable(),
                this._scrollbarReferences[n.ORIENTATION_VERTICAL].onParentComponentEnable(),
                this._setScrollbarComponentsEnabled(!0),
                this._setContentDraggingEnabled(!0),
                this._syncAll()
            },
            onDisable: function() {
                this._setScrollbarComponentsEnabled(!1),
                this._setContentDraggingEnabled(!1)
            },
            onRemove: function() {
                this._toggleLifecycleListeners("off", this.system),
                this._toggleElementListeners("off"),
                this._destroyDragHelper()
            }
        }),
        Object.defineProperty(hs.prototype, "scroll", {
            get: function() {
                return this._scroll
            },
            set: function(t) {
                this._onSetScroll(t.x, t.y)
            }
        }),
        {
            ScrollViewComponent: hs
        })),
        Object.assign(n, function() {
            var t = [{
                name: "enabled",
                type: "boolean"
            }, {
                name: "horizontal",
                type: "boolean"
            }, {
                name: "vertical",
                type: "boolean"
            }, {
                name: "scrollMode",
                type: "number"
            }, {
                name: "bounceAmount",
                type: "number"
            }, {
                name: "friction",
                type: "number"
            }, {
                name: "dragThreshold",
                type: "number"
            }, {
                name: "horizontalScrollbarVisibility",
                type: "number"
            }, {
                name: "verticalScrollbarVisibility",
                type: "number"
            }, {
                name: "viewportEntity",
                type: "entity"
            }, {
                name: "contentEntity",
                type: "entity"
            }, {
                name: "horizontalScrollbarEntity",
                type: "entity"
            }, {
                name: "verticalScrollbarEntity",
                type: "entity"
            }]
              , e = 10
              , i = function e(i) {
                n.Cl.call(this, i),
                this.id = "scrollview",
                this.app = i,
                this.ComponentType = n.ScrollViewComponent,
                this.DataType = n.ScrollViewComponentData,
                this.schema = t,
                this.on("beforeremove", this._onRemoveComponent, this)
            };
            return (i.prototype = Object.create(n.Cl.prototype)).constructor = i,
            n.Component._buildAccessors(n.ScrollViewComponent.prototype, t),
            Object.assign(i.prototype, {
                jl: function(e, i, s) {
                    void 0 === i.dragThreshold && (i.dragThreshold = 10),
                    n.Cl.prototype.jl.call(this, e, i, t)
                },
                _onRemoveComponent: function(t, e) {
                    e.onRemove()
                }
            }),
            {
                qd: i
            }
        }()),
        Object.assign(n, {
            ScrollViewComponentData: function() {
                this.enabled = !0
            }
        }),
        Object.assign(n, (((os = function t(e, i) {
            n.Component.call(this, e, i),
            this._app = e.app,
            this._handleReference = new n.EntityReference(this,"handleEntity",{
                "element#gain": this._onHandleElementGain,
                "element#lose": this._onHandleElementLose,
                "element#set:anchor": this._onSetHandleAlignment,
                "element#set:margin": this._onSetHandleAlignment,
                "element#set:pivot": this._onSetHandleAlignment
            }),
            this._toggleLifecycleListeners("on")
        }
        ).prototype = Object.create(n.Component.prototype)).constructor = os,
        Object.assign(os.prototype, {
            _toggleLifecycleListeners: function(t) {
                this[t]("set_value", this._onSetValue, this),
                this[t]("set_handleSize", this._onSetHandleSize, this),
                this[t]("set_orientation", this._onSetOrientation, this)
            },
            _onHandleElementGain: function() {
                this._destroyDragHelper(),
                this._handleDragHelper = new n.ElementDragHelper(this._handleReference.Bc.element,this._getAxis()),
                this._handleDragHelper.on("drag:move", this._onHandleDrag, this),
                this._updateHandlePositionAndSize()
            },
            _onHandleElementLose: function() {
                this._destroyDragHelper()
            },
            _onHandleDrag: function(t) {
                this._handleReference.Bc && this.enabled && this.Bc.enabled && (this.value = this._handlePositionToScrollValue(t[this._getAxis()]))
            },
            _onSetValue: function(t, e, i) {
                Math.abs(i - e) > 1e-5 && (this.data.value = n.I.clamp(i, 0, 1),
                this._updateHandlePositionAndSize(),
                this.fire("set:value", this.data.value))
            },
            _onSetHandleSize: function(t, e, i) {
                Math.abs(i - e) > 1e-5 && (this.data.handleSize = n.I.clamp(i, 0, 1),
                this._updateHandlePositionAndSize())
            },
            _onSetHandleAlignment: function() {
                this._updateHandlePositionAndSize()
            },
            _onSetOrientation: function(t, e, i) {
                i !== e && this._handleReference.hasComponent("element") && (this._handleReference.Bc.element[this._getOppositeDimension()] = 0)
            },
            _updateHandlePositionAndSize: function() {
                var t = this._handleReference.Bc
                  , e = t && t.element;
                if (t) {
                    var i = t.getLocalPosition();
                    i[this._getAxis()] = this._getHandlePosition(),
                    this._handleReference.Bc.setLocalPosition(i)
                }
                e && (e[this._getDimension()] = this._getHandleLength())
            },
            _handlePositionToScrollValue: function(t) {
                return t * this._getSign() / this._getUsableTrackLength()
            },
            _scrollValueToHandlePosition: function(t) {
                return t * this._getSign() * this._getUsableTrackLength()
            },
            _getUsableTrackLength: function() {
                return Math.max(this._getTrackLength() - this._getHandleLength(), .001)
            },
            _getTrackLength: function() {
                return this.Bc.element ? this.orientation === n.ORIENTATION_HORIZONTAL ? this.Bc.element.calculatedWidth : this.Bc.element.calculatedHeight : 0
            },
            _getHandleLength: function() {
                return this._getTrackLength() * this.handleSize
            },
            _getHandlePosition: function() {
                return this._scrollValueToHandlePosition(this.value)
            },
            _getSign: function() {
                return this.orientation === n.ORIENTATION_HORIZONTAL ? 1 : -1
            },
            _getAxis: function() {
                return this.orientation === n.ORIENTATION_HORIZONTAL ? "x" : "y"
            },
            _getDimension: function() {
                return this.orientation === n.ORIENTATION_HORIZONTAL ? "width" : "height"
            },
            _getOppositeDimension: function() {
                return this.orientation === n.ORIENTATION_HORIZONTAL ? "height" : "width"
            },
            _destroyDragHelper: function() {
                this._handleDragHelper && this._handleDragHelper.destroy()
            },
            _setHandleDraggingEnabled: function(t) {
                this._handleDragHelper && (this._handleDragHelper.enabled = t)
            },
            onEnable: function() {
                this._handleReference.onParentComponentEnable(),
                this._setHandleDraggingEnabled(!0)
            },
            onDisable: function() {
                this._setHandleDraggingEnabled(!1)
            },
            onRemove: function() {
                this._destroyDragHelper(),
                this._toggleLifecycleListeners("off")
            }
        }),
        {
            ScrollbarComponent: os
        })),
        Object.assign(n, function() {
            var t = [{
                name: "enabled",
                type: "boolean"
            }, {
                name: "orientation",
                type: "number"
            }, {
                name: "value",
                type: "number"
            }, {
                name: "handleSize",
                type: "number"
            }, {
                name: "handleEntity",
                type: "entity"
            }]
              , e = function e(i) {
                n.Cl.call(this, i),
                this.id = "scrollbar",
                this.app = i,
                this.ComponentType = n.ScrollbarComponent,
                this.DataType = n.ScrollbarComponentData,
                this.schema = t,
                this.on("beforeremove", this._onRemoveComponent, this)
            };
            return (e.prototype = Object.create(n.Cl.prototype)).constructor = e,
            n.Component._buildAccessors(n.ScrollbarComponent.prototype, t),
            Object.assign(e.prototype, {
                jl: function(e, i, s) {
                    n.Cl.prototype.jl.call(this, e, i, t)
                },
                _onRemoveComponent: function(t, e) {
                    e.onRemove()
                }
            }),
            {
                Zd: e
            }
        }()),
        Object.assign(n, {
            ScrollbarComponentData: function() {
                this.enabled = !0
            }
        }),
        Object.assign(n, {
            FITTING_NONE: 0,
            FITTING_STRETCH: 1,
            FITTING_SHRINK: 2,
            FITTING_BOTH: 3
        }),
        Object.assign(n, function() {
            var t = function t(e, i) {
                n.Component.call(this, e, i),
                this._orientation = n.ORIENTATION_HORIZONTAL,
                this._reverseX = !1,
                this._reverseY = !0,
                this._alignment = new n.pt(0,1),
                this._padding = new n.wt,
                this._spacing = new n.pt,
                this._widthFitting = n.FITTING_NONE,
                this._heightFitting = n.FITTING_NONE,
                this._wrap = !1,
                this._layoutCalculator = new n.LayoutCalculator,
                this._listenForReflowEvents(this.Bc, "on"),
                this.Bc.children.forEach(function(t) {
                    this._listenForReflowEvents(t, "on")
                }
                .bind(this)),
                this.Bc.on("childinsert", this._onChildInsert, this),
                this.Bc.on("childremove", this._onChildRemove, this),
                e.app.systems.element.on("add", this._onElementOrLayoutComponentAdd, this),
                e.app.systems.element.on("beforeremove", this._onElementOrLayoutComponentRemove, this),
                e.app.systems.layoutchild.on("add", this._onElementOrLayoutComponentAdd, this),
                e.app.systems.layoutchild.on("beforeremove", this._onElementOrLayoutComponentRemove, this)
            };
            function e(t) {
                return t.element
            }
            function i(t) {
                return t.enabled && t.element && t.element.enabled
            }
            function s(e) {
                var i = "_" + e;
                Object.defineProperty(t.prototype, e, {
                    get: function() {
                        return this[i]
                    },
                    set: function(t) {
                        this[i] !== t && (this[i] = t,
                        this._scheduleReflow())
                    }
                })
            }
            return t.prototype = Object.create(n.Component.prototype),
            t.prototype.constructor = t,
            Object.assign(t.prototype, {
                _isSelfOrChild: function(t) {
                    return t === this.Bc || -1 !== this.Bc.children.indexOf(t)
                },
                _listenForReflowEvents: function(t, e) {
                    t.element && (t.element[e]("enableelement", this._scheduleReflow, this),
                    t.element[e]("disableelement", this._scheduleReflow, this),
                    t.element[e]("resize", this._scheduleReflow, this),
                    t.element[e]("set:pivot", this._scheduleReflow, this)),
                    t.layoutchild && (t.layoutchild[e]("set_enabled", this._scheduleReflow, this),
                    t.layoutchild[e]("resize", this._scheduleReflow, this))
                },
                _onElementOrLayoutComponentAdd: function(t) {
                    this._isSelfOrChild(t) && (this._listenForReflowEvents(t, "on"),
                    this._scheduleReflow())
                },
                _onElementOrLayoutComponentRemove: function(t) {
                    this._isSelfOrChild(t) && (this._listenForReflowEvents(t, "off"),
                    this._scheduleReflow())
                },
                _onChildInsert: function(t) {
                    this._listenForReflowEvents(t, "on"),
                    this._scheduleReflow()
                },
                _onChildRemove: function(t) {
                    this._listenForReflowEvents(t, "off"),
                    this._scheduleReflow()
                },
                _scheduleReflow: function() {
                    this.enabled && this.Bc && this.Bc.enabled && !this._isPerformingReflow && this.system.scheduleReflow(this)
                },
                reflow: function() {
                    var t = e(this.Bc)
                      , s = this.Bc.children.filter(i).map(e);
                    if (t && 0 !== s.length) {
                        var r = Math.max(t.calculatedWidth, 0)
                          , a = Math.max(t.calculatedHeight, 0)
                          , h = {
                            orientation: this._orientation,
                            reverseX: this._reverseX,
                            reverseY: this._reverseY,
                            alignment: this._alignment,
                            padding: this._padding,
                            spacing: this._spacing,
                            widthFitting: this._widthFitting,
                            heightFitting: this._heightFitting,
                            wrap: this._wrap,
                            containerSize: new n.pt(r,a)
                        };
                        this._isPerformingReflow = !0;
                        var c = this._layoutCalculator.calculateLayout(s, h);
                        this._isPerformingReflow = !1,
                        this.fire("reflow", c)
                    }
                },
                onEnable: function() {
                    this._scheduleReflow()
                },
                onRemove: function() {
                    this.Bc.off("childinsert", this._onChildInsert, this),
                    this.Bc.off("childremove", this._onChildRemove, this),
                    this._listenForReflowEvents(this.Bc, "off"),
                    this.Bc.children.forEach(function(t) {
                        this._listenForReflowEvents(t, "off")
                    }
                    .bind(this)),
                    this.system.app.systems.element.off("add", this._onElementOrLayoutComponentAdd, this),
                    this.system.app.systems.element.off("beforeremove", this._onElementOrLayoutComponentRemove, this),
                    this.system.app.systems.layoutchild.off("add", this._onElementOrLayoutComponentAdd, this),
                    this.system.app.systems.layoutchild.off("beforeremove", this._onElementOrLayoutComponentRemove, this)
                }
            }),
            s("orientation"),
            s("reverseX"),
            s("reverseY"),
            s("alignment"),
            s("padding"),
            s("spacing"),
            s("widthFitting"),
            s("heightFitting"),
            s("wrap"),
            {
                LayoutGroupComponent: t
            }
        }()),
        Object.assign(n, function() {
            var t = ["enabled"]
              , e = 100
              , i = function e(i) {
                n.Cl.call(this, i),
                this.id = "layoutgroup",
                this.app = i,
                this.ComponentType = n.LayoutGroupComponent,
                this.DataType = n.LayoutGroupComponentData,
                this.schema = t,
                this._reflowQueue = [],
                this.on("beforeremove", this._onRemoveComponent, this),
                n.Cl.bind("postUpdate", this._onPostUpdate, this)
            };
            return (i.prototype = Object.create(n.Cl.prototype)).constructor = i,
            n.Component._buildAccessors(n.LayoutGroupComponent.prototype, t),
            Object.assign(i.prototype, {
                jl: function(t, e, i) {
                    void 0 !== e.enabled && (t.enabled = e.enabled),
                    void 0 !== e.orientation && (t.orientation = e.orientation),
                    void 0 !== e.reverseX && (t.reverseX = e.reverseX),
                    void 0 !== e.reverseY && (t.reverseY = e.reverseY),
                    void 0 !== e.alignment && (e.alignment instanceof n.pt ? t.alignment.copy(e.alignment) : t.alignment.set(e.alignment[0], e.alignment[1]),
                    t.alignment = t.alignment),
                    void 0 !== e.padding && (e.padding instanceof n.wt ? t.padding.copy(e.padding) : t.padding.set(e.padding[0], e.padding[1], e.padding[2], e.padding[3]),
                    t.padding = t.padding),
                    void 0 !== e.spacing && (e.spacing instanceof n.pt ? t.spacing.copy(e.spacing) : t.spacing.set(e.spacing[0], e.spacing[1]),
                    t.spacing = t.spacing),
                    void 0 !== e.widthFitting && (t.widthFitting = e.widthFitting),
                    void 0 !== e.heightFitting && (t.heightFitting = e.heightFitting),
                    void 0 !== e.wrap && (t.wrap = e.wrap),
                    n.Cl.prototype.jl.call(this, t, e, i)
                },
                cloneComponent: function(t, e) {
                    var i = t.layoutgroup;
                    return this.Il(e, {
                        enabled: i.enabled,
                        orientation: i.orientation,
                        reverseX: i.reverseX,
                        reverseY: i.reverseY,
                        alignment: i.alignment,
                        padding: i.padding,
                        spacing: i.spacing,
                        widthFitting: i.widthFitting,
                        heightFitting: i.heightFitting,
                        wrap: i.wrap
                    })
                },
                scheduleReflow: function(t) {
                    -1 === this._reflowQueue.indexOf(t) && this._reflowQueue.push(t)
                },
                _onPostUpdate: function() {
                    this._processReflowQueue()
                },
                _processReflowQueue: function() {
                    if (0 !== this._reflowQueue.length)
                        for (var t = 0; this._reflowQueue.length > 0; ) {
                            var e = this._reflowQueue.slice();
                            this._reflowQueue.length = 0,
                            e.sort(function(t, e) {
                                return t.Bc.graphDepth - e.Bc.graphDepth
                            });
                            for (var i = 0; i < e.length; ++i)
                                e[i].reflow();
                            if (++t >= 100)
                                break
                        }
                },
                _onRemoveComponent: function(t, e) {
                    e.onRemove()
                }
            }),
            {
                tl: i
            }
        }()),
        Object.assign(n, {
            LayoutGroupComponentData: function() {
                this.enabled = !0
            }
        }),
        Object.assign(n, function() {
            function t() {}
            var e = {};
            e[n.ORIENTATION_HORIZONTAL] = {
                axis: "x",
                size: "width",
                calculatedSize: "calculatedWidth",
                minSize: "minWidth",
                maxSize: "maxWidth",
                fitting: "widthFitting",
                fittingProportion: "fitWidthProportion"
            },
            e[n.ORIENTATION_VERTICAL] = {
                axis: "y",
                size: "height",
                calculatedSize: "calculatedHeight",
                minSize: "minHeight",
                maxSize: "maxHeight",
                fitting: "heightFitting",
                fittingProportion: "fitHeightProportion"
            };
            var i = {};
            i[n.ORIENTATION_HORIZONTAL] = n.ORIENTATION_VERTICAL,
            i[n.ORIENTATION_VERTICAL] = n.ORIENTATION_HORIZONTAL;
            var s = {
                minWidth: 0,
                minHeight: 0,
                maxWidth: Number.POSITIVE_INFINITY,
                maxHeight: Number.POSITIVE_INFINITY,
                width: null,
                height: null,
                fitWidthProportion: 0,
                fitHeightProportion: 0
            }
              , r = {
                NONE: "NONE",
                APPLY_STRETCHING: "APPLY_STRETCHING",
                APPLY_SHRINKING: "APPLY_SHRINKING"
            }
              , a = new n.pt;
            function h(t) {
                var h, c = e[t], o = e[i[t]];
                function u(t, e) {
                    return -e[c.size] * t.pivot[c.axis]
                }
                function f(t, e) {
                    return -e[o.size] * t.pivot[o.axis]
                }
                function d(t, e) {
                    return e[c.size] * (1 - t.pivot[c.axis])
                }
                function l(t, e) {
                    return e[o.size] * (1 - t.pivot[o.axis])
                }
                function b(t, e) {
                    t = t.filter(v),
                    h = e,
                    a.x = h.containerSize.x - h.padding.x - h.padding.z,
                    a.y = h.containerSize.y - h.padding.y - h.padding.w,
                    m(t);
                    var i = p(g(t))
                      , s = x(i, w(i))
                      , n = S(i, s);
                    return C(i, s, n),
                    O(i, s, n),
                    E(i, s, n)
                }
                function v(t) {
                    var e = t.Bc.layoutchild;
                    return !e || !e.enabled || !e.excludeFromLayout
                }
                function m(t) {
                    for (var e = 0; e < t.length; ++e) {
                        var i = t[e]
                          , s = i.anchor;
                        0 === s.x && 0 === s.y && 0 === s.z && 0 === s.w || (i.anchor = n.wt.ZERO)
                    }
                }
                function g(t) {
                    if (!h.wrap)
                        return [t];
                    for (var e = [[]], i = D(t), s = 0, r = h[c.fitting] === n.FITTING_SHRINK, o = 0; o < t.length; ++o) {
                        e[e.length - 1].length > 0 && (s += h.spacing[c.axis]);
                        var u = i[o][c.size];
                        s += u,
                        !r && s > a[c.axis] && 0 !== e[e.length - 1].length && (s = u,
                        e.push([])),
                        e[e.length - 1].push(t[o]),
                        r && s > a[c.axis] && o !== t.length - 1 && (s = 0,
                        e.push([]))
                    }
                    return e
                }
                function p(t) {
                    var e = h.orientation === n.ORIENTATION_HORIZONTAL && h.reverseX || h.orientation === n.ORIENTATION_VERTICAL && h.reverseY
                      , i = h.orientation === n.ORIENTATION_HORIZONTAL && h.reverseY || h.orientation === n.ORIENTATION_VERTICAL && h.reverseX;
                    if (e)
                        for (var s = 0; s < t.length; ++s)
                            e && t[s].reverse();
                    return i && t.reverse(),
                    t
                }
                function w(t) {
                    for (var e = [], i = 0; i < t.length; ++i) {
                        var s, n = D(t[i]), o = _(n, c), u = z(h[c.fitting], o, a[c.axis]);
                        u === r.APPLY_STRETCHING ? A(n, o, c) : u === r.APPLY_SHRINKING && y(n, o, c),
                        e.push(n)
                    }
                    return e
                }
                function x(t, e) {
                    var i = [], s = [], n, c, u;
                    for (c = 0; c < t.length; ++c) {
                        for ((u = t[c]).largestElement = null,
                        u.largestSize = {
                            width: Number.NEGATIVE_INFINITY,
                            height: Number.NEGATIVE_INFINITY
                        },
                        n = 0; n < u.length; ++n) {
                            var f = e[c][n];
                            f[o.size] > u.largestSize[o.size] && (u.largestElement = u[n],
                            u.largestSize = f)
                        }
                        i.push(u.largestElement),
                        s.push(u.largestSize)
                    }
                    var d = _(s, o)
                      , l = z(h[o.fitting], d, a[o.axis]);
                    for (l === r.APPLY_STRETCHING ? A(s, d, o) : l === r.APPLY_SHRINKING && y(s, d, o),
                    c = 0; c < t.length; ++c)
                        for (u = t[c],
                        n = 0; n < u.length; ++n) {
                            var b = e[c][n]
                              , v = b[o.size]
                              , m = 1 === t.length ? a[o.axis] : u.largestSize[o.size]
                              , g = z(h[o.fitting], v, m);
                            g === r.APPLY_STRETCHING ? b[o.size] = Math.min(m, b[o.maxSize]) : g === r.APPLY_SHRINKING && (b[o.size] = Math.max(m, b[o.minSize]))
                        }
                    return e
                }
                function z(t, e, i) {
                    switch (t) {
                    case n.FITTING_NONE:
                        return r.NONE;
                    case n.FITTING_STRETCH:
                        return e < i ? r.APPLY_STRETCHING : r.NONE;
                    case n.FITTING_SHRINK:
                        return e >= i ? r.APPLY_SHRINKING : r.NONE;
                    case n.FITTING_BOTH:
                        return e < i ? r.APPLY_STRETCHING : e >= i ? r.APPLY_SHRINKING : r.NONE;
                    default:
                        throw new Error("Unrecognized fitting mode: " + t)
                    }
                }
                function _(t, e) {
                    var i, s;
                    return B(t, e.size) + (t.length - 1) * h.spacing[e.axis]
                }
                function A(t, e, i) {
                    for (var s = R(t, i.maxSize), n = I(t, i.fittingProportion), r = F(n, s), h = a[i.axis] - e, c = 0; c < t.length; ++c) {
                        var o = s[c], u = M(o, h, n, r), f = t[o][i.size] + u, d = t[o][i.maxSize], l = Math.min(f, d), b, v;
                        t[o][i.size] = l,
                        h -= u - Math.max(f - l, 0)
                    }
                }
                function y(t, e, i) {
                    for (var s = R(t, i.minSize, !0), n, r = j(I(t, i.fittingProportion)), h = F(r, s), c = e - a[i.axis], o = 0; o < t.length; ++o) {
                        var u = s[o], f = M(u, c, r, h), d = t[u][i.size] - f, l = t[u][i.minSize], b = Math.max(d, l), v, m;
                        t[u][i.size] = b,
                        c -= f - Math.max(b - d, 0)
                    }
                }
                function M(t, e, i, s) {
                    var n = i[t]
                      , r = s[t];
                    return Math.abs(n) < 1e-5 && Math.abs(r) < 1e-5 ? e : e * n / r
                }
                function S(t, e) {
                    var i = {};
                    i[c.axis] = 0,
                    i[o.axis] = 0,
                    t[c.size] = Number.NEGATIVE_INFINITY;
                    for (var s = [], n = 0; n < t.length; ++n) {
                        var r = t[n];
                        if (0 === r.length)
                            return;
                        for (var a = [], l = e[n], b = 0; b < r.length; ++b) {
                            var v = r[b]
                              , m = l[b];
                            i[o.axis] -= f(v, m),
                            i[c.axis] -= u(v, m),
                            a[b] = {},
                            a[b][c.axis] = i[c.axis],
                            a[b][o.axis] = i[o.axis],
                            i[o.axis] += f(v, m),
                            i[c.axis] += d(v, m) + h.spacing[c.axis]
                        }
                        r[c.size] = i[c.axis] - h.spacing[c.axis],
                        r[o.size] = r.largestSize[o.size],
                        t[c.size] = Math.max(t[c.size], r[c.size]),
                        i[c.axis] = 0,
                        i[o.axis] += r[o.size] + h.spacing[o.axis],
                        s.push(a)
                    }
                    return t[o.size] = i[o.axis] - h.spacing[o.axis],
                    s
                }
                function C(t, e, i) {
                    for (var s = h.alignment[c.axis], n = h.alignment[o.axis], r = h.padding[c.axis], u = h.padding[o.axis], f = 0; f < t.length; ++f)
                        for (var d = t[f], l = e[f], b = i[f], v = (a[c.axis] - d[c.size]) * s + r, m = (a[o.axis] - t[o.size]) * n + u, g = 0; g < d.length; ++g) {
                            var p = (d[o.size] - l[g][o.size]) * h.alignment[o.axis];
                            b[g][c.axis] += v,
                            b[g][o.axis] += m + p
                        }
                }
                function O(t, e, i) {
                    for (var s = 0; s < t.length; ++s)
                        for (var r = t[s], a = e[s], u = i[s], f = 0; f < r.length; ++f) {
                            var d = r[f];
                            d[c.calculatedSize] = a[f][c.size],
                            d[o.calculatedSize] = a[f][o.size],
                            h.orientation === n.ORIENTATION_HORIZONTAL ? d.Bc.setLocalPosition(u[f][c.axis], u[f][o.axis], d.Bc.getLocalPosition().z) : d.Bc.setLocalPosition(u[f][o.axis], u[f][c.axis], d.Bc.getLocalPosition().z)
                        }
                }
                function E(t) {
                    var e = t.width
                      , i = t.height
                      , s = (a.x - e) * h.alignment.x + h.padding.x
                      , r = (a.y - i) * h.alignment.y + h.padding.y;
                    return {
                        bounds: new n.wt(s,r,e,i)
                    }
                }
                function D(t) {
                    for (var e = [], i = 0; i < t.length; ++i) {
                        var s = t[i]
                          , n = Math.max(T(s, "minWidth"), 0)
                          , r = Math.max(T(s, "minHeight"), 0)
                          , a = Math.max(T(s, "maxWidth"), n)
                          , h = Math.max(T(s, "maxHeight"), r)
                          , c = P(T(s, "width"), n, a)
                          , o = P(T(s, "height"), r, h)
                          , u = T(s, "fitWidthProportion")
                          , f = T(s, "fitHeightProportion");
                        e.push({
                            minWidth: n,
                            minHeight: r,
                            maxWidth: a,
                            maxHeight: h,
                            width: c,
                            height: o,
                            fitWidthProportion: u,
                            fitHeightProportion: f
                        })
                    }
                    return e
                }
                function T(t, e) {
                    var i = t.Bc.layoutchild;
                    return i && i.enabled && void 0 !== i[e] && null !== i[e] ? i[e] : void 0 !== t[e] ? t[e] : s[e]
                }
                function P(t, e, i) {
                    return Math.min(Math.max(t, e), i)
                }
                function B(t, e) {
                    return t.reduce(function(t, i) {
                        return t + i[e]
                    }, 0)
                }
                function I(t, e) {
                    var i = B(t, e), s = [], n = t.length, r;
                    if (0 === i)
                        for (r = 0; r < n; ++r)
                            s.push(1 / n);
                    else
                        for (r = 0; r < n; ++r)
                            s.push(t[r][e] / i);
                    return s
                }
                function j(t) {
                    if (1 === t.length)
                        return [1];
                    for (var e = [], i = t.length, s = 0; s < i; ++s)
                        e.push((1 - t[s]) / (i - 1));
                    return e
                }
                function R(t, e, i) {
                    return t.forEach(L),
                    t.slice().sort(function(t, s) {
                        return i ? s[e] - t[e] : t[e] - s[e]
                    }).map(N)
                }
                function L(t, e) {
                    t.index = e
                }
                function N(t) {
                    return t.index
                }
                function F(t, e) {
                    var i = [];
                    i[e[t.length - 1]] = t[e[t.length - 1]];
                    for (var s = t.length - 2; s >= 0; --s)
                        i[e[s]] = i[e[s + 1]] + t[e[s]];
                    return i
                }
                return b
            }
            var c = {};
            return c[n.ORIENTATION_HORIZONTAL] = h(n.ORIENTATION_HORIZONTAL),
            c[n.ORIENTATION_VERTICAL] = h(n.ORIENTATION_VERTICAL),
            Object.assign(t.prototype, {
                calculateLayout: function(t, e) {
                    var i = c[e.orientation];
                    if (i)
                        return i(t, e);
                    throw new Error("Unrecognized orientation value: " + e.orientation)
                }
            }),
            {
                LayoutCalculator: t
            }
        }()),
        Object.assign(n, function() {
            var t = function t(e, i) {
                n.Component.call(this, e, i),
                this._minWidth = 0,
                this._minHeight = 0,
                this._maxWidth = null,
                this._maxHeight = null,
                this._fitWidthProportion = 0,
                this._fitHeightProportion = 0,
                this._excludeFromLayout = !1
            };
            function e(e) {
                var i = "_" + e;
                Object.defineProperty(t.prototype, e, {
                    get: function() {
                        return this[i]
                    },
                    set: function(t) {
                        this[i] !== t && (this[i] = t,
                        this.fire("resize"))
                    }
                })
            }
            return t.prototype = Object.create(n.Component.prototype),
            t.prototype.constructor = t,
            e("minWidth"),
            e("minHeight"),
            e("maxWidth"),
            e("maxHeight"),
            e("fitWidthProportion"),
            e("fitHeightProportion"),
            e("excludeFromLayout"),
            {
                LayoutChildComponent: t
            }
        }()),
        Object.assign(n, function() {
            var t = ["enabled"]
              , e = function e(i) {
                n.Cl.call(this, i),
                this.id = "layoutchild",
                this.app = i,
                this.ComponentType = n.LayoutChildComponent,
                this.DataType = n.LayoutChildComponentData,
                this.schema = t
            };
            return (e.prototype = Object.create(n.Cl.prototype)).constructor = e,
            n.Component._buildAccessors(n.LayoutChildComponent.prototype, t),
            Object.assign(e.prototype, {
                jl: function(t, e, i) {
                    void 0 !== e.enabled && (t.enabled = e.enabled),
                    void 0 !== e.minWidth && (t.minWidth = e.minWidth),
                    void 0 !== e.minHeight && (t.minHeight = e.minHeight),
                    void 0 !== e.maxWidth && (t.maxWidth = e.maxWidth),
                    void 0 !== e.maxHeight && (t.maxHeight = e.maxHeight),
                    void 0 !== e.fitWidthProportion && (t.fitWidthProportion = e.fitWidthProportion),
                    void 0 !== e.fitHeightProportion && (t.fitHeightProportion = e.fitHeightProportion),
                    void 0 !== e.excludeFromLayout && (t.excludeFromLayout = e.excludeFromLayout),
                    n.Cl.prototype.jl.call(this, t, e, i)
                },
                cloneComponent: function(t, e) {
                    var i = t.layoutchild;
                    return this.Il(e, {
                        enabled: i.enabled,
                        minWidth: i.minWidth,
                        minHeight: i.minHeight,
                        maxWidth: i.maxWidth,
                        maxHeight: i.maxHeight,
                        fitWidthProportion: i.fitWidthProportion,
                        fitHeightProportion: i.fitHeightProportion,
                        excludeFromLayout: i.excludeFromLayout
                    })
                }
            }),
            {
                il: e
            }
        }()),
        Object.assign(n, {
            LayoutChildComponentData: function() {
                this.enabled = !0
            }
        }),
        Object.assign(n, function() {
            n.yv = "msdf",
            n.Mv = "bitmap";
            var t = function(t, e) {
                this.type = e && e.type || n.yv,
                this.em = 1,
                this.textures = t,
                this.intensity = 0,
                this.intensity = 0,
                this._data = null,
                this.data = e
            };
            return Object.defineProperty(t.prototype, "data", {
                get: function() {
                    return this._data
                },
                set: function(t) {
                    if (this._data = t,
                    t && (void 0 !== this._data.intensity && (this.intensity = this._data.intensity),
                    this._data.info || (this._data.info = {}),
                    (!this._data.version || this._data.version < 2) && (this._data.info.maps = [{
                        width: this._data.info.width,
                        height: this._data.info.height
                    }],
                    this._data.chars)))
                        for (var e in this._data.chars)
                            this._data.chars[e].map = 0
                }
            }),
            {
                yv: n.yv,
                Font: t
            }
        }()),
        Object.assign(n, (ls = 4096,
        bs = 512,
        (vs = function(t, e) {
            this.type = "bitmap",
            this.app = t,
            this.intensity = 0,
            e = e || {},
            this.fontWeight = e.fontWeight || "normal",
            this.fontSize = parseInt(e.fontSize, 10),
            this.glyphSize = this.fontSize,
            this.fontName = e.fontName || "Arial",
            this.color = e.color || new n.D(1,1,1);
            var i = e.width > 4096 ? 4096 : e.width || 512
              , s = e.height > 4096 ? 4096 : e.height || 512
              , r = document.createElement("canvas");
            r.height = s,
            r.width = i;
            var a = new n.xn(this.app.Br,{
                format: n.vi,
                autoMipmap: !0
            });
            a.name = "font",
            a.setSource(r),
            a.minFilter = n.Qe,
            a.magFilter = n.We,
            a.addressU = n.Zt,
            a.addressV = n.Zt,
            this.textures = [a],
            this.chars = "",
            this.data = {},
            n.K.attach(this)
        }
        ).prototype.createTextures = function(t) {
            var e = this._normalizeCharsSet(t);
            if (e.length === this.chars.length) {
                for (var i = 0; i < e.length; i++)
                    if (e[i] !== this.chars[i])
                        return void this._renderAtlas(e)
            } else
                this._renderAtlas(e)
        }
        ,
        vs.prototype.updateTextures = function(t) {
            for (var e = this._normalizeCharsSet(t), i = [], s = 0; s < e.length; s++) {
                var n = e[s];
                this.data.chars[n] || i.push(n)
            }
            i.length > 0 && this._renderAtlas(this.chars.concat(i))
        }
        ,
        vs.prototype.destroy = function() {
            for (var t = 0; t < this.textures.length; t++)
                this.textures[t].destroy();
            this.chars = null,
            this.color = null,
            this.data = null,
            this.fontName = null,
            this.fontSize = null,
            this.glyphSize = null,
            this.intensity = null,
            this.textures = null,
            this.type = null,
            this.fontWeight = null
        }
        ,
        vs.prototype._getAndClearContext = function(t, e) {
            var i = t.width
              , s = t.height
              , n = t.getContext("2d", {
                alpha: !0
            });
            return n.clearRect(0, 0, i, s),
            n.fillStyle = e,
            n.fillRect(0, 0, i, s),
            n
        }
        ,
        vs.prototype._colorToRgbString = function(t, e) {
            var i, s = Math.round(255 * t.r), n = Math.round(255 * t.g), r = Math.round(255 * t.b);
            return i = e ? "rgba(" + s + ", " + n + ", " + r + ", " + t.a + ")" : "rgb(" + s + ", " + n + ", " + r + ")"
        }
        ,
        vs.prototype.renderCharacter = function(t, e, i, s, n) {
            t.fillStyle = n,
            t.fillText(e, i, s)
        }
        ,
        vs.prototype._renderAtlas = function(t) {
            this.chars = t;
            var e = 1
              , i = this.textures[e - 1].getSource()
              , s = i.width
              , r = i.height
              , a = this._colorToRgbString(this.color, !1)
              , h = this.color.a;
            this.color.a = 1 / 255;
            var c = this._colorToRgbString(this.color, !0);
            this.color.a = h;
            var o = "center"
              , u = "bottom"
              , f = this._getAndClearContext(i, c);
            f.font = this.fontWeight + " " + this.fontSize.toString() + "px " + this.fontName,
            f.textAlign = "center",
            f.textBaseline = "bottom",
            this.data = this._createJson(this.chars, this.fontName, s, r);
            var d = n.string.getSymbols(this.chars.join("")), l = this.textures.length, b = 0, v = 0, m = {}, g, p;
            for (g = 0; g < d.length; g++)
                m[p = d[g]] = this._getTextMetrics(p),
                b = Math.max(b, m[p].height),
                v = Math.max(v, m[p].descent);
            this.glyphSize = Math.max(this.glyphSize, b);
            var w = this.glyphSize
              , x = this.glyphSize
              , z = w / 2
              , _ = z
              , A = x;
            for (g = 0; g < d.length; g++) {
                p = d[g];
                var y = n.string.getCodePoint(d[g])
                  , M = this.fontSize;
                f.font = this.fontWeight + " " + M.toString() + "px " + this.fontName,
                f.textAlign = "center",
                f.textBaseline = "bottom",
                this.renderCharacter(f, p, _, A, a);
                var S = f.measureText(p).width
                  , C = (w - S) / 2
                  , O = m[p].descent - v
                  , E = S;
                if (this._addChar(this.data, p, y, _ - z, A - x, w, x, C, O, E, e - 1, s, r),
                (_ += w) + z > s && (_ = z,
                (A += x) > r))
                    if (this.textures[e - 1].upload(),
                    A = x,
                    ++e > l) {
                        (i = document.createElement("canvas")).height = r,
                        i.width = s,
                        f = this._getAndClearContext(i, c);
                        var D = new n.xn(this.app.Br,{
                            format: n.vi,
                            autoMipmap: !0
                        });
                        D.name = "font-atlas",
                        D.setSource(i),
                        D.minFilter = n.Qe,
                        D.magFilter = n.We,
                        D.addressU = n.Zt,
                        D.addressV = n.Zt,
                        this.textures.push(D)
                    } else
                        i = this.textures[e - 1].getSource(),
                        f = this._getAndClearContext(i, c)
            }
            if (this.textures[e - 1].upload(),
            e < l) {
                for (g = e; g < l; g++)
                    this.textures[g].destroy();
                this.textures.splice(e)
            }
            this.fire("render")
        }
        ,
        vs.prototype._createJson = function(t, e, i, s) {
            var n;
            return {
                version: 3,
                intensity: this.intensity,
                info: {
                    face: e,
                    width: i,
                    height: s,
                    maps: [{
                        width: i,
                        height: s
                    }]
                },
                chars: {}
            }
        }
        ,
        vs.prototype._addChar = function(t, e, i, s, n, r, a, h, c, o, u, f, d) {
            t.info.maps.length < u + 1 && t.info.maps.push({
                width: f,
                height: d
            });
            var l = this.fontSize / 32;
            t.chars[e] = {
                id: i,
                letter: e,
                x: s,
                y: n,
                width: r,
                height: a,
                xadvance: o / l,
                xoffset: h / l,
                yoffset: c / l,
                scale: l,
                range: 1,
                map: u,
                bounds: [0, 0, r / l, a / l]
            }
        }
        ,
        vs.prototype._normalizeCharsSet = function(t) {
            var e = this.app.systems.element.getUnicodeConverter();
            e && (t = e(t));
            var i = {}, s = n.string.getSymbols(t), r, a;
            for (r = 0; r < s.length; r++) {
                var h = s[r];
                i[h] || (i[h] = h)
            }
            return Object.keys(i).sort()
        }
        ,
        vs.prototype._getTextMetrics = function(t) {
            var e = document.createElement("span");
            e.id = "content-span",
            e.innerHTML = t;
            var i = document.createElement("div");
            i.id = "content-block",
            i.style.display = "inline-block",
            i.style.width = "1px",
            i.style.height = "0px";
            var s = document.createElement("div"), n;
            s.appendChild(e),
            s.appendChild(i),
            s.style.font = this.fontName,
            s.style.fontSize = this.fontSize + "px",
            document.body.appendChild(s);
            var r = -1
              , a = -1
              , h = -1;
            try {
                i.style["vertical-align"] = "baseline",
                r = i.offsetTop - e.offsetTop,
                i.style["vertical-align"] = "bottom",
                a = (h = i.offsetTop - e.offsetTop) - r
            } finally {
                document.body.removeChild(s)
            }
            return {
                ascent: r,
                descent: a,
                height: h
            }
        }
        ,
        {
            CanvasFont: vs
        })),
        Object.assign(n, (((ms = function t(e, i) {
            n.Component.call(this, e, i),
            this._oldState = !0,
            this._size = new n.ut,
            this.on("set_enabled", this._onSetEnabled, this)
        }
        ).prototype = Object.create(n.Component.prototype)).constructor = ms,
        Object.assign(ms.prototype, {
            onEnable: function() {
                this._checkState()
            },
            onDisable: function() {
                this._checkState()
            },
            _onSetEnabled: function(t, e, i) {
                this._checkState()
            },
            _checkState: function() {
                var t = this.enabled && this.Bc.enabled;
                t !== this._oldState && (this._oldState = t,
                this.fire("enable"),
                this.fire("state", this.enabled))
            },
            _onBeforeRemove: function() {
                this.fire("remove")
            }
        }),
        Object.defineProperty(ms.prototype, "size", {
            set: function(t) {
                t instanceof n.ut ? this._size.copy(t) : t instanceof Array && t.length >= 3 && this.size.set(t[0], t[1], t[2])
            },
            get: function() {
                return this._size
            }
        }),
        {
            Sv: ms
        })),
        Object.assign(n, function() {
            var t = ["enabled"]
              , e = function e(i) {
                n.Cl.call(this, i),
                this.id = "zone",
                this.app = i,
                this.ComponentType = n.Sv,
                this.DataType = n.Cv,
                this.schema = t,
                this.on("beforeremove", this._onBeforeRemove, this)
            };
            return (e.prototype = Object.create(n.Cl.prototype)).constructor = e,
            n.Component._buildAccessors(n.Sv.prototype, t),
            Object.assign(e.prototype, {
                jl: function(t, e, i) {
                    t.enabled = !e.hasOwnProperty("enabled") || !!e.enabled,
                    e.size && (e.size instanceof n.ut ? t.size.copy(e.size) : e.size instanceof Array && e.size.length >= 3 && t.size.set(e.size[0], e.size[1], e.size[2]))
                },
                cloneComponent: function(t, e) {
                    var i = {
                        size: t.zone.size
                    };
                    return this.Il(e, i)
                },
                _onBeforeRemove: function(t, e) {
                    e._onBeforeRemove()
                }
            }),
            {
                sl: e
            }
        }()),
        Object.assign(n, {
            Cv: function() {
                this.enabled = !0
            }
        }),
        Object.assign(n, function() {
            var t = function(t, e) {
                if (n.Gh.call(this, t),
                t instanceof n.Ir && (e = t),
                this._batchHandle = null,
                this.c = {},
                this._app = e,
                !e && (this._app = n.Ir.getApplication(),
                !this._app))
                    throw new Error("Couldn't find current application");
                this._guid = null,
                this._destroying = !1,
                n.K.attach(this)
            };
            function e(t, i, s, r) {
                var a, h;
                if (i instanceof n.Entity) {
                    var c = i.c;
                    for (var o in c) {
                        var u = c[o]
                          , f = u.system.getPropertiesOfType("entity");
                        for (a = 0,
                        h = f.length; a < h; a++) {
                            var d, l = f[a].name, b = u[l], v;
                            if (!!t.findByGuid(b)) {
                                var m = r[b].getGuid();
                                m && (s.c[o][l] = m)
                            }
                        }
                    }
                    c.script && !s._app.useLegacyScriptAttributeCloning && s.script.resolveDuplicatedEntityReferenceProperties(c.script, r);
                    var g = i.children.filter(function(t) {
                        return t instanceof n.Entity
                    })
                      , p = s.children.filter(function(t) {
                        return t instanceof n.Entity
                    });
                    for (a = 0,
                    h = g.length; a < h; a++)
                        e(t, g[a], p[a], r)
                }
            }
            return (t.prototype = Object.create(n.Gh.prototype)).constructor = t,
            t.prototype.Il = function(t, e) {
                var i = this._app.systems[t];
                return i ? this.c[t] ? null : i.Il(this, e) : null
            }
            ,
            t.prototype.Rl = function(t) {
                var e = this._app.systems[t];
                e && this.c[t] && e.Rl(this)
            }
            ,
            t.prototype.getGuid = function() {
                return this._guid || this.setGuid(n.guid.create()),
                this._guid
            }
            ,
            t.prototype.setGuid = function(t) {
                var e = this._app._entityIndex;
                this._guid && delete e[this._guid],
                this._guid = t,
                e[this._guid] = this
            }
            ,
            t.prototype._notifyHierarchyStateChanged = function(t, e) {
                var i = !1, s, n;
                t === this && 0 === this._app._enableList.length && (i = !0),
                t._beingEnabled = !0,
                t._onHierarchyStateChanged(e),
                t._onHierarchyStatePostChanged && this._app._enableList.push(t);
                var r = t._children;
                for (s = 0,
                n = r.length; s < n; s++)
                    r[s]._enabled && this._notifyHierarchyStateChanged(r[s], e);
                if (t._beingEnabled = !1,
                i) {
                    for (s = 0,
                    n = this._app._enableList.length; s < n; s++)
                        this._app._enableList[s]._onHierarchyStatePostChanged();
                    this._app._enableList.length = 0
                }
            }
            ,
            t.prototype._onHierarchyStateChanged = function(t) {
                var e;
                n.Gh.prototype._onHierarchyStateChanged.call(this, t);
                var i = this.c;
                for (var s in i)
                    i.hasOwnProperty(s) && (e = i[s]).enabled && (t ? e.onEnable() : e.onDisable())
            }
            ,
            t.prototype._onHierarchyStatePostChanged = function() {
                var t = this.c;
                for (var e in t)
                    t.hasOwnProperty(e) && t[e].onPostStateChange()
            }
            ,
            t.prototype.setRequest = function(t) {
                this._request = t
            }
            ,
            t.prototype.getRequest = function() {
                return this._request
            }
            ,
            t.prototype.findByGuid = function(t) {
                if (this._guid === t)
                    return this;
                var e = this._app._entityIndex[t];
                return e && (e === this || e.isDescendantOf(this)) ? e : null
            }
            ,
            t.prototype.destroy = function() {
                var t;
                for (t in this._destroying = !0,
                this.c)
                    this.c[t].enabled = !1;
                for (t in this.c)
                    this.c[t].system.Rl(this);
                this._parent && this._parent.removeChild(this);
                for (var e = this._children, i = e.shift(); i; )
                    i instanceof n.Entity && i.destroy(),
                    i._parent = null,
                    i = e.shift();
                this.fire("destroy", this),
                this.off(),
                this._guid && delete this._app._entityIndex[this._guid],
                this._destroying = !1
            }
            ,
            t.prototype.clone = function() {
                var t = {}
                  , i = this._cloneRecursively(t);
                return t[this.getGuid()] = i,
                e(this, this, i, t),
                i
            }
            ,
            t.prototype._cloneRecursively = function(t) {
                var e = new n.Entity(this._app), i;
                for (var s in n.Gh.prototype._cloneInternal.call(this, e),
                this.c) {
                    var r;
                    this.c[s].system.cloneComponent(this, e)
                }
                for (i = 0; i < this._children.length; i++) {
                    var a = this._children[i];
                    if (a instanceof n.Entity) {
                        var h = a._cloneRecursively(t);
                        e.addChild(h),
                        t[a.getGuid()] = h
                    }
                }
                return e
            }
            ,
            {
                Entity: t
            }
        }()),
        Object.assign(n, function() {
            function t(t, e, i) {
                if (!(t && t instanceof n.Component))
                    throw new Error("The parentComponent argument is required and must be a Component");
                if (!e || "string" != typeof e)
                    throw new Error("The propertyName argument is required and must be a string");
                if (i && "object" != typeof i)
                    throw new Error("If provided, the eventConfig argument must be an object");
                this._parentComponent = t,
                this._entityPropertyName = e,
                this._entity = null,
                this._app = t.system.app,
                this._configureEventListeners(i || {}, {
                    "entity#destroy": this._onEntityDestroy
                }),
                this._toggleLifecycleListeners("on")
            }
            return Object.assign(t.prototype, {
                _configureEventListeners: function(t, e) {
                    var i = this._parseEventListenerConfig(t, "external", this._parentComponent)
                      , s = this._parseEventListenerConfig(e, "internal", this);
                    this._eventListenerConfigs = i.concat(s),
                    this._listenerStatusFlags = {},
                    this._gainListeners = {},
                    this._loseListeners = {}
                },
                _parseEventListenerConfig: function(t, e, i) {
                    return Object.keys(t).map(function(s, n) {
                        var r = s.split("#")
                          , a = r[0]
                          , h = r[1]
                          , c = t[s];
                        if (2 !== r.length || "string" != typeof a || 0 === a.length || "string" != typeof h || 0 === h.length)
                            throw new Error("Invalid event listener description: `" + s + "`");
                        if ("function" != typeof c)
                            throw new Error("Invalid or missing callback for event listener `" + s + "`");
                        return {
                            id: e + "_" + n + "_" + s,
                            sourceName: a,
                            eventName: h,
                            callback: c,
                            scope: i
                        }
                    }, this)
                },
                _toggleLifecycleListeners: function(t) {
                    this._parentComponent[t]("set_" + this._entityPropertyName, this._onSetEntity, this),
                    this._parentComponent.system[t]("beforeremove", this._onParentComponentRemove, this),
                    n.Cl[t]("postInitialize", this._onPostInitialize, this),
                    this._app[t]("tools:sceneloaded", this._onSceneLoaded, this);
                    for (var e = [], i = 0; i < this._eventListenerConfigs.length; ++i) {
                        var s = this._eventListenerConfigs[i]
                          , r = this._app.systems[s.sourceName];
                        r && (-1 === e.indexOf(r) && e.push(r),
                        r && "gain" === s.eventName && (this._gainListeners[s.sourceName] = s),
                        r && "lose" === s.eventName && (this._loseListeners[s.sourceName] = s))
                    }
                    for (var a = 0; a < e.length; ++a)
                        e[a][t]("add", this._onComponentAdd, this),
                        e[a][t]("beforeremove", this._onComponentRemove, this)
                },
                _onSetEntity: function(t, e, i) {
                    if (i instanceof n.Entity)
                        this._updateEntityReference();
                    else {
                        if (null != i && "string" != typeof i)
                            return;
                        e !== i && this._updateEntityReference()
                    }
                },
                _onPostInitialize: function() {
                    this._updateEntityReference()
                },
                onParentComponentEnable: function() {
                    this._entity || this._updateEntityReference()
                },
                _onSceneLoaded: function() {
                    this._updateEntityReference()
                },
                _updateEntityReference: function() {
                    var t = this._parentComponent.data[this._entityPropertyName], e, i;
                    if (t instanceof n.Entity)
                        t = (e = t).getGuid(),
                        this._parentComponent.data[this._entityPropertyName] = t;
                    else {
                        var s = this._parentComponent.system.app.root, r;
                        e = this._parentComponent.Bc.isDescendantOf(s) && t ? s.findByGuid(t) : null
                    }
                    this._entity !== e && (this._entity && this._onBeforeEntityChange(),
                    this._entity = e,
                    this._entity && this._onAfterEntityChange())
                },
                _onBeforeEntityChange: function() {
                    this._toggleEntityListeners("off"),
                    this._callAllGainOrLoseListeners(this._loseListeners)
                },
                _onAfterEntityChange: function() {
                    this._toggleEntityListeners("on"),
                    this._callAllGainOrLoseListeners(this._gainListeners)
                },
                _onComponentAdd: function(t, e) {
                    var i = e.system.id;
                    t === this._entity && (this._callGainOrLoseListener(i, this._gainListeners),
                    this._toggleComponentListeners("on", i))
                },
                _onComponentRemove: function(t, e) {
                    var i = e.system.id;
                    t === this._entity && (this._callGainOrLoseListener(i, this._loseListeners),
                    this._toggleComponentListeners("off", i, !0))
                },
                _callAllGainOrLoseListeners: function(t) {
                    for (var e in this._entity.c)
                        this._callGainOrLoseListener(e, t)
                },
                _callGainOrLoseListener: function(t, e) {
                    if (this._entity.c.hasOwnProperty(t) && e[t]) {
                        var i = e[t];
                        i.callback.call(i.scope)
                    }
                },
                _toggleEntityListeners: function(t, e) {
                    if (this._entity)
                        for (var i = 0; i < this._eventListenerConfigs.length; ++i)
                            this._safeToggleListener(t, this._eventListenerConfigs[i], e)
                },
                _toggleComponentListeners: function(t, e, i) {
                    for (var s = 0; s < this._eventListenerConfigs.length; ++s) {
                        var n = this._eventListenerConfigs[s];
                        n.sourceName === e && this._safeToggleListener(t, n, i)
                    }
                },
                _safeToggleListener: function(t, e, i) {
                    var s = "on" === t;
                    if (!s || !this._listenerStatusFlags[e.id]) {
                        var n = this._getEventSource(e.sourceName, i);
                        n && (n[t](e.eventName, e.callback, e.scope),
                        this._listenerStatusFlags[e.id] = s)
                    }
                },
                _getEventSource: function(t, e) {
                    if ("entity" === t)
                        return this._entity;
                    var i = this._entity[t];
                    return i || null
                },
                _onEntityDestroy: function(t) {
                    this._entity === t && (this._toggleEntityListeners("off", !0),
                    this._entity = null)
                },
                _onParentComponentRemove: function(t, e) {
                    e === this._parentComponent && (this._toggleLifecycleListeners("off"),
                    this._toggleEntityListeners("off", !0))
                },
                hasComponent: function(t) {
                    return !(!this._entity || !this._entity.c) && !!this._entity.c[t]
                }
            }),
            Object.defineProperty(t.prototype, "Bc", {
                get: function() {
                    return this._entity
                }
            }),
            {
                EntityReference: t
            }
        }()),
        Object.assign(n, ((ps = function(t) {
            this._sortBy = t.sortBy,
            this.items = [],
            this.length = 0,
            this.loopIndex = -1,
            this._sortHandler = this._doSort.bind(this)
        }
        ).prototype._binarySearch = function(t) {
            for (var e = 0, i = this.items.length - 1, s = t[this._sortBy], n, r; e <= i; )
                n = Math.floor((e + i) / 2),
                (r = this.items[n][this._sortBy]) <= s ? e = n + 1 : r > s && (i = n - 1);
            return e
        }
        ,
        ps.prototype._doSort = function(t, e) {
            var i = this._sortBy;
            return t[i] - e[i]
        }
        ,
        ps.prototype.insert = function(t) {
            var e = this._binarySearch(t);
            this.items.splice(e, 0, t),
            this.length++,
            this.loopIndex >= e && this.loopIndex++
        }
        ,
        ps.prototype.append = function(t) {
            this.items.push(t),
            this.length++
        }
        ,
        ps.prototype.remove = function(t) {
            var e = this.items.indexOf(t);
            e < 0 || (this.items.splice(e, 1),
            this.length--,
            this.loopIndex >= e && this.loopIndex--)
        }
        ,
        ps.prototype.sort = function() {
            var t = this.loopIndex >= 0 ? this.items[this.loopIndex] : null;
            this.items.sort(this._sortHandler),
            null !== t && (this.loopIndex = this.items.indexOf(t))
        }
        ,
        {
            SortedLoopArray: ps
        })),
        Object.assign(n, (ws = function() {
            this._handlers = {},
            this._requests = {},
            this._cache = {}
        }
        ,
        Object.assign(ws.prototype, {
            md: function(t, e) {
                this._handlers[t] = e,
                e._loader = this
            },
            Ov: function(t) {
                delete this._handlers[t]
            },
            Tl: function(t) {
                return this._handlers[t]
            },
            load: function(t, e, i, s) {
                var n = this._handlers[e];
                if (n) {
                    var r = "";
                    if (r = s && s.file && s.file.base64 && s.file.hash ? s.file.hash + "|base64" : t + e,
                    void 0 !== this._cache[r])
                        i(null, this._cache[r]);
                    else if (this._requests[r])
                        this._requests[r].push(i);
                    else {
                        this._requests[r] = [i];
                        var a = n.load(t, function(e, i, a) {
                            if (this._requests[r]) {
                                var h, c = this._requests[r].length;
                                if (e)
                                    for (h = 0; h < c; h++)
                                        this._requests[r][h](e);
                                else {
                                    var o = n.open(t, i, s);
                                    for (this._cache[r] = o,
                                    h = 0; h < c; h++)
                                        this._requests[r][h](null, o, a)
                                }
                                delete this._requests[r]
                            }
                        }
                        .bind(this), s);
                        a && s && (a.onprogress = function(t) {
                            s.fire("progress", s, t)
                        }
                        )
                    }
                } else {
                    var h;
                    i("No handler for asset type: " + e)
                }
            },
            open: function(t, e) {
                var i = this._handlers[t];
                return i ? i.open(null, e) : e
            },
            patch: function(t, e) {
                var i = this._handlers[t.type];
                i && i.patch && i.patch(t, e)
            },
            clearCache: function(t, e) {
                delete this._cache[t + e]
            },
            getFromCache: function(t, e) {
                if (this._cache[t + e])
                    return this._cache[t + e]
            },
            destroy: function() {
                for (var t in this._handlers)
                    this._handlers[t].destory && this._handlers[t].destory();
                this._handlers = {},
                this._requests = {},
                this._cache = {}
            }
        }),
        {
            dd: ws
        })),
        Object.assign(n, (xs = function() {
            this.parser = new n.Ev
        }
        ,
        Object.assign(xs.prototype, {
            load: function(t, e) {
                var i = {};
                return ".gc" === n.path.getExtension(t).toLowerCase() && (i.cache = !0,
                i.responseType = "arraybuffer"),
                n.http.get(t, i, function(i, s) {
                    i ? e(n.string.format("Error loading animation resource: {0} [{1}]", t, i)) : e(null, s)
                })
            },
            open: function(t, e) {
                return e instanceof ArrayBuffer && (e = this.parser.parse(e)),
                this["_parseAnimationV" + e.animation.version](e)
            },
            _parseAnimationV3: function(t) {
                var e = t.animation
                  , i = new n.Rc;
                i.setName(e.name),
                i.duration = e.duration;
                for (var s = 0; s < e.nodes.length; s++) {
                    var r = new n.Node
                      , a = e.nodes[s];
                    r._name = a.name;
                    for (var h = 0; h < a.keys.length; h++) {
                        var c = a.keys[h]
                          , o = c.time
                          , u = c.pos
                          , f = c.rot
                          , d = c.scale
                          , l = new n.ut(u[0],u[1],u[2])
                          , b = (new n.bt).vt(f[0], f[1], f[2])
                          , v = new n.ut(d[0],d[1],d[2])
                          , m = new n.Lc(o,l,b,v);
                        r._keys.push(m)
                    }
                    i.addNode(r)
                }
                return i
            },
            _parseAnimationV4: function(t) {
                var e = t.animation
                  , i = new n.Rc;
                i.setName(e.name),
                i.duration = e.duration;
                for (var s = 0; s < e.nodes.length; s++) {
                    var r = new n.Node
                      , a = e.nodes[s];
                    r._name = a.name;
                    for (var h = a.defaults.p, c = a.defaults.r, o = a.defaults.s, u = 0; u < a.keys.length; u++) {
                        var f = a.keys[u]
                          , d = f.t
                          , l = h || f.p
                          , b = c || f.r
                          , v = o || f.s
                          , m = new n.ut(l[0],l[1],l[2])
                          , g = (new n.bt).vt(b[0], b[1], b[2])
                          , p = new n.ut(v[0],v[1],v[2])
                          , w = new n.Lc(d,m,g,p);
                        r._keys.push(w)
                    }
                    i.addNode(r)
                }
                return i
            }
        }),
        {
            gd: xs
        })),
        Object.assign(n, (zs = function() {
            var t = window.navigator.userAgent, e = t.indexOf("MSIE "), i;
            if (e > 0)
                return parseInt(t.substring(e + 5, t.indexOf(".", e)), 10);
            if (t.indexOf("Trident/") > 0) {
                var s = t.indexOf("rv:");
                return parseInt(t.substring(s + 3, t.indexOf(".", s)), 10)
            }
            return !1
        }(),
        _s = function(t) {
            this.manager = t
        }
        ,
        Object.assign(_s.prototype, {
            _isSupported: function(t) {
                var e, i;
                return !!{
                    ".ogg": "audio/ogg",
                    ".mp3": "audio/mpeg",
                    ".wav": "audio/x-wav",
                    ".mp4a": "audio/mp4",
                    ".m4a": "audio/mp4",
                    ".mp4": "audio/mp4",
                    ".aac": "audio/aac"
                }[n.path.getExtension(t)]
            },
            load: function(t, e) {
                var i = function(t) {
                    e(null, new n.Hc(t))
                }
                  , s = function(i) {
                    e(i = i || "Error loading audio url: " + t)
                };
                if (this._createSound) {
                    if (!this._isSupported(t))
                        return void s(n.string.format("Audio format for {0} not supported", t));
                    this._createSound(t, i, s)
                } else
                    s(null)
            },
            open: function(t, e) {
                return e
            }
        }),
        n.Vc.hasAudioContext() ? _s.prototype._createSound = function(t, e, i) {
            var s = this.manager;
            s.context ? n.http.get(t, function(t, n) {
                t ? i(t) : s.context.decodeAudioData(n, e, i)
            }) : i("Audio manager has no audio context")
        }
        : n.Vc.hasAudio() && (_s.prototype._createSound = function(t, e, i) {
            var s = null;
            try {
                s = new Audio
            } catch (t) {
                return void i("No support for Audio element")
            }
            zs && document.body.appendChild(s);
            var n = function() {
                s.removeEventListener("canplaythrough", n),
                zs && document.body.removeChild(s),
                e(s)
            };
            s.onerror = function() {
                s.onerror = null,
                zs && document.body.removeChild(s),
                i()
            }
            ,
            s.addEventListener("canplaythrough", n),
            s.src = t
        }
        ),
        {
            yd: _s
        })),
        Object.assign(n, (As = {
            dxt1: n.gi,
            dxt3: n.pi,
            dxt5: n.wi,
            etc_rgb: n.Ti,
            astc: n.Ni,
            pvrtc1_4_rgb: n.Ri,
            pvrtc1_4_rgba: n.Li
        },
        ys = function(t, e, i) {
            this._device = t,
            this._assets = e,
            this._loader = i
        }
        ,
        Object.assign(ys.prototype, {
            load: function(t, e) {},
            open: function(t, e) {},
            patch: function(t, e) {
                var i = this
                  , s = !1;
                if (t.resources[0] || (t.resources[0] = new n.xn(this._device,{
                    format: n.vi,
                    cubemap: !0,
                    mipmaps: !0,
                    fixCubemapSeams: !!t._dds
                }),
                t.resources[0].name = "cubemap",
                s = !0),
                t.file) {
                    if (t.file && !t._dds) {
                        var r = t.getFileUrl();
                        e._loader.load(r + "?t=" + t.file.hash, "texture", function(s, n) {
                            s ? (e.fire("error", s, t),
                            e.fire("error:" + t.id, s, t),
                            t.fire("error", s, t)) : (e._loader.patch({
                                resource: n,
                                type: "texture",
                                data: t.data
                            }, e),
                            t._dds = n,
                            i.patch(t, e))
                        })
                    }
                } else
                    delete t._dds;
                if (t.file && t._dds || !t.resources[1]) {
                    if (t._dds && !t.resources[1]) {
                        t.resources = [t.resources[0]],
                        t._dds.fixCubemapSeams = !0,
                        t._dds.addressU = n.Zt,
                        t._dds.addressV = n.Zt;
                        var a = 0;
                        this._device.useTexCubeLod && (t.resources.push(t._dds),
                        a = 1);
                        for (var h = a; h < 6; h++) {
                            var c = new n.xn(this._device,{
                                cubemap: !0,
                                fixCubemapSeams: !0,
                                mipmaps: !0,
                                format: t._dds.format,
                                rgbm: t._dds.rgbm,
                                width: Math.pow(2, 7 - h),
                                height: Math.pow(2, 7 - h)
                            });
                            c.name = t.name,
                            c.pn[0] = t._dds.pn[h],
                            c.upload(),
                            t.resources.push(c)
                        }
                        s = !0
                    }
                } else
                    t.resources = [t.resources[0]],
                    s = !0;
                var o = t.resource;
                o.assetId = t.id,
                o.name !== t.name && (o.name = t.name);
                var u = !!t.data.rgbm;
                t.data.hasOwnProperty("rgbm") && o.rgbm !== u && (o.rgbm = u),
                o.fixCubemapSeams = !!t._dds,
                t.data.hasOwnProperty("minFilter") && o.minFilter !== t.data.minFilter && (o.minFilter = t.data.minFilter),
                t.data.hasOwnProperty("magFilter") && o.magFilter !== t.data.magFilter && (o.magFilter = t.data.magFilter),
                t.data.hasOwnProperty("anisotropy") && o.anisotropy !== t.data.anisotropy && (o.anisotropy = t.data.anisotropy),
                o.addressU !== n.Zt && (o.addressU = n.Zt),
                o.addressV !== n.Zt && (o.addressV = n.Zt),
                t.data.compressed && t.data.format && "default" !== t.data.format && (o._compressed = !!t.data.compressed,
                o._width = t.data.width,
                o._height = t.data.height,
                o._format = As[t.data.format]),
                this._patchTextureFaces(t, e),
                s && (e.fire("load", t),
                e.fire("load:" + t.id, t),
                t.fire("load", t))
            },
            _patchTexture: function() {
                this.registry._loader._handlers.cubemap._patchTextureFaces(this, this.registry)
            },
            _patchTextureFaces: function(t, e) {
                if (t.loadFaces || !t.file) {
                    var i = t.resource
                      , s = []
                      , n = 0
                      , r = !1
                      , a = this;
                    t.Dv || (t.Dv = [null, null, null, null, null, null]),
                    t.data.textures.forEach(function(h, c) {
                        var o = function(h) {
                            n++,
                            s[c] = h && h.resource.getSource() || null;
                            var o = t.Dv[c];
                            o !== h && (o && o.off("load", a._patchTexture, t),
                            h && h.on("load", a._patchTexture, t),
                            t.Dv[c] = h || null),
                            s[c] !== i.pn[0][c] && (r = !0),
                            h.parent && h.parent.fire("load", h),
                            6 === n && r && (i.setSource(s),
                            e.fire("load", t),
                            e.fire("load:" + t.id, t),
                            t.fire("load", t))
                        }
                          , u = function(t) {
                            t.ready(o),
                            e.load(t)
                        }
                          , f = e.get(h);
                        (f = f.getPreferredAsset({
                            useTextureCompression: void 0 !== f.data.useTextureCompression ? f.data.useTextureCompression : e.useTextureCompression,
                            preferredSize: f.data.preferredSize,
                            channel: f.data.channel
                        })) ? (f.ready(o),
                        e.load(f)) : h ? (e.once("load:" + h, o),
                        e.once("add:" + h, u)) : o(null)
                    })
                }
            }
        }),
        {
            Sd: ys
        })),
        Object.assign(n, (Ms = function() {}
        ,
        Object.assign(Ms.prototype, {
            load: function(t, e) {
                return n.http.get(t, function(i, s) {
                    i ? e(n.string.format("Error loading JSON resource: {0} [{1}]", t, i)) : e(null, s)
                })
            },
            open: function(t, e) {
                return e
            },
            patch: function(t, e) {}
        }),
        {
            Ad: Ms
        })),
        Object.assign(n, (Ss = {
            aoMap: "white",
            diffuseMap: "gray",
            specularMap: "gray",
            metalnessMap: "black",
            glossMap: "gray",
            emissiveMap: "gray",
            normalMap: "normal",
            heightMap: "gray",
            opacityMap: "gray",
            sphereMap: "gray",
            lightMap: "white"
        },
        Cs = function(t) {
            this._assets = t.assets,
            this._device = t.Br,
            this._placeholderTextures = null,
            this._parser = new n.JsonStandardMaterialParser
        }
        ,
        Object.assign(Cs.prototype, {
            load: function(t, e) {
                n.http.get(t, function(i, s) {
                    i ? e && e(n.string.format("Error loading material: {0} [{1}]", t, i)) : e && (s._engine = !0,
                    e(null, s))
                })
            },
            open: function(t, e) {
                var i = this._parser.parse(e);
                return e._engine && (i._data = e,
                delete e._engine),
                i
            },
            _createPlaceholders: function() {
                this._placeholderTextures = {};
                var t = {
                    white: [255, 255, 255, 255],
                    gray: [128, 128, 128, 255],
                    black: [0, 0, 0, 255],
                    normal: [128, 128, 255, 255]
                };
                for (var e in t)
                    if (t.hasOwnProperty(e)) {
                        this._placeholderTextures[e] = new n.xn(this._device,{
                            width: 2,
                            height: 2,
                            format: n.vi
                        }),
                        this._placeholderTextures[e].name = "placeholder";
                        for (var i = this._placeholderTextures[e].lock(), s = 0; s < 4; s++)
                            for (var r = 0; r < 4; r++)
                                i[4 * s + r] = t[e][r];
                        this._placeholderTextures[e].unlock()
                    }
            },
            patch: function(t, e) {
                t.resource._data && (t._data = t.resource._data,
                delete t.resource._data),
                t.data.name = t.name,
                t.resource.name = t.name,
                t.resource.assetId = t.id,
                this._bindAndAssignAssets(t, e),
                t.off("unload", this._onAssetUnload, this),
                t.on("unload", this._onAssetUnload, this)
            },
            _onAssetUnload: function(t) {
                delete t.data.parameters,
                delete t.data.chunks,
                delete t.data.name
            },
            _assignTexture: function(t, e, i) {
                e.resource[t] = i
            },
            _assignPlaceholderTexture: function(t, e) {
                this._placeholderTextures || this._createPlaceholders();
                var i = Ss[t]
                  , s = this._placeholderTextures[i];
                e.resource[t] = s
            },
            _onTextureLoad: function(t, e, i) {
                this._assignTexture(t, e, i.resource),
                e.resource.update()
            },
            _onTextureAdd: function(t, e, i) {
                this._assets.load(i)
            },
            _onTextureRemove: function(t, e, i) {
                var s = e.resource;
                s[t] === i.resource && (this._assignTexture(t, e, null),
                s.update())
            },
            _assignCubemap: function(t, e, i) {
                e.data[t] = i[0],
                7 === i.length && (e.data.prefilteredCubeMap128 = i[1],
                e.data.prefilteredCubeMap64 = i[2],
                e.data.prefilteredCubeMap32 = i[3],
                e.data.prefilteredCubeMap16 = i[4],
                e.data.prefilteredCubeMap8 = i[5],
                e.data.prefilteredCubeMap4 = i[6])
            },
            _onCubemapLoad: function(t, e, i) {
                this._assignCubemap(t, e, i.resources),
                this._parser.initialize(e.resource, e.data)
            },
            _onCubemapAdd: function(t, e, i) {
                e.data.shadingModel === n.ra && (e.loadFaces = !0),
                this._assets.load(i)
            },
            _onCubemapRemove: function(t, e, i) {
                var s = e.resource;
                s[t] === i.resource && (this._assignCubemap(t, e, [null, null, null, null, null, null, null]),
                s.update())
            },
            _bindAndAssignAssets: function(t, e) {
                var i = this._parser.migrate(t.data), s = t.resource, r = "path" === i.mappingFormat, a = n.Sn.TEXTURE_PARAMETERS, h, c, o, u;
                for (r && (h = n.path.getDirectory(t.getFileUrl())),
                c = 0; c < a.length; c++)
                    o = a[c],
                    u = s._assetReferences[o],
                    !i[o] || i[o]instanceof n.xn ? u && (r ? u.url = null : u.id = null) : (u || (u = new n.AssetReference(o,t,e,{
                        load: this._onTextureLoad,
                        add: this._onTextureAdd,
                        remove: this._onTextureRemove
                    },this),
                    s._assetReferences[o] = u),
                    r ? u.url = n.path.join(h, i[o]) : u.id = i[o],
                    u.asset && (u.asset = u.asset.getPreferredAsset({
                        useTextureCompression: i[o + "Compression"],
                        preferredSize: i[o + "Size"],
                        channel: i[o + "Channel"]
                    }),
                    u.asset.resource ? this._assignTexture(o, t, u.asset.resource) : this._assignPlaceholderTexture(o, t),
                    e.load(u.asset)));
                var f = n.Sn.CUBEMAP_PARAMETERS;
                for (c = 0; c < f.length; c++)
                    o = f[c],
                    u = s._assetReferences[o],
                    !i[o] || i[o]instanceof n.xn || (u || (u = new n.AssetReference(o,t,e,{
                        load: this._onCubemapLoad,
                        add: this._onCubemapAdd,
                        remove: this._onCubemapRemove
                    },this),
                    s._assetReferences[o] = u),
                    r ? u.url = i[o] : u.id = i[o],
                    u.asset && (u.asset = u.asset.getPreferredAsset({
                        useTextureCompression: i[o + "Compression"],
                        preferredSize: i[o + "Size"],
                        channel: i[o + "Channel"]
                    }),
                    u.asset.resource && this._assignCubemap(o, t, u.asset.resources),
                    e.load(u.asset)));
                this._parser.initialize(s, i)
            }
        }),
        {
            wd: Cs
        })),
        Object.assign(n, (Os = function(t, e) {
            this._device = t,
            this._parsers = [],
            this._defaultMaterial = e,
            this.addParser(new n.Tv, function(t, e) {
                return e instanceof ArrayBuffer
            }),
            this.addParser(new n.Pv(this._device), function(t, e) {
                return !(e instanceof ArrayBuffer)
            })
        }
        ,
        Object.assign(Os.prototype, {
            load: function(t, e) {
                var i = {};
                return ".gc" === n.path.getExtension(t).toLowerCase() && (i.cache = !0,
                i.responseType = "arraybuffer"),
                n.http.get(t, i, function(i, s) {
                    e && (i ? e(n.string.format("Error loading model: {0} [{1}]", t, i)) : e(null, s))
                })
            },
            open: function(t, e) {
                for (var i = 0; i < this._parsers.length; i++) {
                    var s = this._parsers[i];
                    s.decider(t, e) && (e = s.parser.parse(e))
                }
                return e
            },
            patch: function(t, e) {
                if (t.resource) {
                    var i = t.data
                      , s = this;
                    t.resource.assetId = t.id,
                    t.resource.meshInstances.forEach(function(r, a) {
                        if (i.mapping) {
                            var h = function(t) {
                                t.resource ? r.material = t.resource : (t.once("load", h),
                                e.load(t)),
                                t.once("remove", function(t) {
                                    r.material === t.resource && (r.material = s._defaultMaterial)
                                })
                            };
                            if (!i.mapping[a])
                                return void (r.material = s._defaultMaterial);
                            var c = i.mapping[a].material, o = i.mapping[a].path, u;
                            if (void 0 !== c)
                                c ? (u = e.get(c)) ? h(u) : e.once("add:" + c, h) : r.material = s._defaultMaterial;
                            else if (o) {
                                var f = t.getFileUrl()
                                  , d = n.path.getDirectory(f)
                                  , l = n.path.join(d, i.mapping[a].path);
                                (u = e.getByUrl(l)) ? h(u) : e.once("add:url:" + l, h)
                            }
                        }
                    })
                }
            },
            addParser: function(t, e) {
                this._parsers.push({
                    parser: t,
                    decider: e
                })
            }
        }),
        {
            pd: Os
        })),
        Object.assign(n, ((Es = function(t) {
            this._app = t,
            this._scripts = {},
            this._cache = {}
        }
        )._types = [],
        Es._push = function(t) {
            n.script.legacy && Es._types.length > 0 || Es._types.push(t)
        }
        ,
        Object.assign(Es.prototype, {
            load: function(t, e) {
                var i = this;
                n.script.app = this._app,
                this._loadScript(t, function(t, s, r) {
                    if (t)
                        e(t);
                    else if (n.script.legacy) {
                        var a = null;
                        Es._types.length && (a = Es._types.pop()),
                        a ? this._scripts[s] = a : a = null,
                        e(null, a, r)
                    } else {
                        for (var h = {}, c = 0; c < Es._types.length; c++)
                            h[Es._types[c].name] = Es._types[c];
                        Es._types.length = 0,
                        e(null, h, r),
                        delete i._loader._cache[s + "script"]
                    }
                }
                .bind(this))
            },
            open: function(t, e) {
                return e
            },
            patch: function(t, e) {},
            _loadScript: function(t, e) {
                var i = document.head
                  , s = document.createElement("script");
                this._cache[t] = s,
                s.async = !1,
                s.addEventListener("error", function(t) {
                    e(n.string.format("Script: {0} failed to load", t.target.src))
                }, !1);
                var r = !1;
                s.onload = s.onreadystatechange = function() {
                    r || this.readyState && "loaded" != this.readyState && "complete" != this.readyState || (r = !0,
                    e(null, t, s))
                }
                ,
                s.src = t,
                i.appendChild(s)
            }
        }),
        {
            sd: Es
        })),
        Object.assign(n, (Ds = function() {}
        ,
        Object.assign(Ds.prototype, {
            load: function(t, e) {
                n.http.get(t, function(i, s) {
                    i ? e(n.string.format("Error loading text resource: {0} [{1}]", t, i)) : e(null, s)
                })
            },
            open: function(t, e) {
                return e
            },
            patch: function(t, e) {}
        }),
        {
            zd: Ds
        })),
        Object.assign(n, (Ts = function() {}
        ,
        Object.assign(Ts.prototype, {
            load: function(t, e) {
                return n.http.get(t, {
                    responseType: n.Http.ResponseType.ARRAY_BUFFER
                }, function(i, s) {
                    i ? e(n.string.format("Error loading binary resource: {0} [{1}]", t, i)) : e(null, s)
                })
            },
            open: function(t, e) {
                return e
            },
            patch: function(t, e) {}
        }),
        {
            Id: Ts
        })),
        Object.assign(n, (Ps = 1,
        Bs = 2,
        Is = 4,
        js = 8,
        Rs = 4096,
        Ls = 131072,
        Ns = 524288,
        Fs = 8388608,
        ks = 512,
        Us = 1024,
        Vs = 2048,
        Hs = 4096,
        Gs = 8192,
        Ws = 16384,
        Ys = 32768,
        Xs = 65024,
        Ks = 1,
        Qs = 2,
        Js = 4,
        qs = 64,
        Zs = 512,
        $s = 131072,
        en = (tn = function(t) {
            return t.charCodeAt(0) + (t.charCodeAt(1) << 8) + (t.charCodeAt(2) << 16) + (t.charCodeAt(3) << 24)
        }
        )("DDS "),
        sn = tn("DXT1"),
        nn = tn("DXT5"),
        rn = tn("DX10"),
        an = 116,
        hn = tn("ETC1"),
        cn = tn("P231"),
        on = tn("P241"),
        un = tn("P431"),
        fn = tn("P441"),
        (dn = {})[116] = n.yi,
        dn[sn] = n.gi,
        dn[nn] = n.wi,
        dn[hn] = n.Ti,
        dn[cn] = n.Ii,
        dn[on] = n.ji,
        dn[un] = n.Ri,
        dn[fn] = n.Li,
        {
            DdsParser: function(t) {
                var e = new Uint32Array(t,0,32), i;
                if (e[0] !== en)
                    return null;
                var s = {
                    size: e[1],
                    flags: e[2],
                    height: e[3],
                    width: e[4],
                    pitchOrLinearSize: e[5],
                    depth: e[6],
                    mipMapCount: Math.max(e[7], 1),
                    ddspf: {
                        size: e[19],
                        flags: e[20],
                        fourCc: e[21],
                        rgbBitCount: e[22],
                        rBitMask: e[23],
                        gBitMask: e[24],
                        bBitMask: e[25],
                        aBitMask: e[26]
                    },
                    caps: e[27],
                    caps2: e[28],
                    caps3: e[29],
                    caps4: e[30]
                };
                if (124 !== s.size)
                    return null;
                var r = 4 + s.size
                  , a = 4 & s.ddspf.flags
                  , h = s.ddspf.fourCc;
                a && h === rn && (e = new Uint32Array(t,128,5),
                r += 20);
                var c = 65024 === s.caps2
                  , o = c ? 6 : 1
                  , u = 131072 & s.flags ? s.mipMapCount : 1
                  , f = [];
                if (c)
                    for (var d = 0; d < u; d++)
                        f.push([]);
                for (var l = 0; l < o; l++)
                    for (var b = s.width, v = s.height, m = 0; m < u; m++) {
                        var g;
                        if (h === sn || h === nn || h === hn) {
                            var p = h === nn ? 16 : 8;
                            g = Math.floor((b + 3) / 4) * Math.floor((v + 3) / 4) * p
                        } else if (h === cn || h === on)
                            g = Math.max(b, 16) * Math.max(v, 8) / 4;
                        else if (h === un || h === fn)
                            g = Math.max(b, 8) * Math.max(v, 8) / 2;
                        else {
                            if (32 !== s.ddspf.rgbBitCount)
                                return null;
                            g = b * v * 4
                        }
                        var w = 116 === h ? new Float32Array(t,r,g) : new Uint8Array(t,r,g);
                        c ? f[m][l] = w : f.push(w),
                        r += 116 === h ? 4 * g : g,
                        b = Math.max(.5 * b, 1),
                        v = Math.max(.5 * v, 1)
                    }
                this.format = dn[h] || n.vi,
                this.width = s.width,
                this.height = s.height,
                this.levels = f,
                this.cubemap = c
            }
        })),
        Object.assign(n, (bn = [1481919403, 3140563232, 169478669],
        vn = {
            33776: n.gi,
            33778: n.pi,
            33779: n.wi,
            36196: n.Ti,
            37492: n.Pi,
            37496: n.Bi,
            35840: n.Ri,
            35841: n.Ii,
            35842: n.Li,
            35843: n.ji
        },
        {
            KtxParser: function(t) {
                var e = new Uint32Array(t,0,16);
                if (bn[0] !== e[0] || bn[1] !== e[1] || bn[2] !== e[2])
                    return null;
                var i = {
                    endianness: e[3],
                    glType: e[4],
                    glTypeSize: e[5],
                    glFormat: e[6],
                    glInternalFormat: e[7],
                    glBaseInternalFormat: e[8],
                    pixelWidth: e[9],
                    pixelHeight: e[10],
                    pixelDepth: e[11],
                    numberOfArrayElements: e[12],
                    numberOfFaces: e[13],
                    numberOfMipmapLevels: e[14],
                    bytesOfKeyValueData: e[15]
                };
                if (i.pixelDepth > 1)
                    return null;
                if (i.numberOfArrayElements > 1)
                    return null;
                if (0 !== i.glFormat)
                    return null;
                if (!vn[i.glInternalFormat])
                    return null;
                for (var s = 64 + i.bytesOfKeyValueData, n = [], r = !1, a = 0; a < (i.numberOfMipmapLevels || 1); a++) {
                    var h = new Uint32Array(t.slice(s, s + 4))[0];
                    s += 4;
                    var c = h / (i.numberOfFaces || 1);
                    i.numberOfFaces > 1 && (r = !0,
                    n.push([]));
                    for (var o = 0; o < i.numberOfFaces; o++) {
                        var u = new Uint8Array(t,s,c);
                        i.numberOfFaces > 1 ? n[a].push(u) : n.push(u),
                        s += c
                    }
                    s += 3 - (s + 3) % 4
                }
                this.format = vn[i.glInternalFormat],
                this.width = i.pixelWidth,
                this.height = i.pixelHeight,
                this.levels = n,
                this.cubemap = r
            }
        })),
        Object.assign(n, function() {
            var t = {
                repeat: n.qt,
                clamp: n.Zt,
                mirror: n.$t
            }
              , e = {
                nearest: n.Ge,
                linear: n.We,
                nearest_mip_nearest: n.Ye,
                linear_mip_nearest: n.Ke,
                nearest_mip_linear: n.Xe,
                linear_mip_linear: n.Qe
            };
            function i(t, e, i, s) {
                var n, r = i / 4, a = s % 4, h = new Uint32Array(t.buffer,0,(s - a) / 4), c = new Uint32Array(e.buffer);
                for (n = 0; n < h.length; n++)
                    c[r + n] = h[n];
                for (n = s - a; n < s; n++)
                    e[i + n] = t[n]
            }
            var s = function(t, e, s) {
                var r;
                if (".crn" === n.path.getExtension(t).toLowerCase()) {
                    var a = e.byteLength
                      , h = new Uint8Array(e)
                      , c = Module._malloc(a);
                    i(h, Module.HEAPU8, c, a);
                    var o = Module._crn_decompress_get_data(c, a)
                      , u = Module._crn_decompress_get_size(c, a);
                    e = Module.HEAPU8.buffer.slice(o, o + u)
                }
                var f = new Uint32Array(e,0,32)
                  , d = f[4]
                  , l = f[3]
                  , b = Math.max(f[7], 1)
                  , v = 4 === f[20] || 5 === f[20]
                  , m = f[21]
                  , g = f[22]
                  , p = 65024 === f[28]
                  , w = 827611204
                  , x = 894720068
                  , z = 116
                  , _ = 826496069
                  , A = 825438800
                  , y = 825504336
                  , M = 825439312
                  , S = 825504848
                  , C = 541283397
                  , O = 808540228
                  , E = 825439312
                  , D = 825504848
                  , T = 827611204
                  , P = 861165636
                  , B = 894720068
                  , I = !1
                  , j = !1
                  , R = !1
                  , L = !1
                  , N = !1
                  , F = !1;
                if (v ? m === w || 827611204 === m ? (format = n.gi,
                I = !0) : 861165636 === m ? (format = n.pi,
                I = !0) : m === x || 894720068 === m ? (format = n.wi,
                I = !0) : 116 === m ? (format = n.yi,
                j = !0) : m === _ || 541283397 === m ? (format = n.Ti,
                I = !0,
                R = !0) : 808540228 === m ? (format = n.Ni,
                I = !0,
                F = !0) : 825439312 === m ? (format = n.Ri,
                I = !0,
                N = !0) : 825504848 === m ? (format = n.Li,
                I = !0,
                N = !0) : 825438800 === m || 825504336 === m ? (format = 825438800 === m ? n.Ii : n.ji,
                I = !0,
                L = !0) : 825439312 !== m && 825504848 !== m || (format = 825439312 === m ? n.Ri : n.Li,
                I = !0,
                N = !0) : 32 === g && (format = n.vi),
                !format)
                    return texture = new n.xn(s,{
                        width: 4,
                        height: 4,
                        format: n.bi
                    }),
                    texture.name = "dds-legacy-empty",
                    texture;
                var k = {
                    width: d,
                    height: l,
                    format: format,
                    cubemap: p
                };
                texture = new n.xn(s,k),
                p && (texture.addressU = n.Zt,
                texture.addressV = n.Zt);
                for (var U = F ? 148 : 128, V = p ? 6 : 1, H, G = 4, W = 4, Y = m === w ? 8 : 16, X, K, Q, J = 0; J < V; J++)
                    for (var q = d, Z = l, $ = 0; $ < b; $++) {
                        H = I ? R ? Math.floor((q + 3) / 4) * Math.floor((Z + 3) / 4) * 8 : F ? Math.floor((q + 3) / 4) * Math.floor((Z + 3) / 4) * 16 : L ? Math.max(q, 16) * Math.max(Z, 8) / 4 : N ? Math.max(q, 8) * Math.max(Z, 8) / 2 : (Q = (X = Math.floor((q + 4 - 1) / 4)) * (K = Math.floor((Z + 4 - 1) / 4))) * Y : q * Z * 4;
                        var tt = j ? new Float32Array(e,U,H) : new Uint8Array(e,U,H);
                        p ? (texture.pn[$] || (texture.pn[$] = []),
                        texture.pn[$][J] = tt) : texture.pn[$] = tt,
                        U += j ? 4 * H : H,
                        q = Math.max(.5 * q, 1),
                        Z = Math.max(.5 * Z, 1)
                    }
                return texture.name = t,
                texture.upload(),
                texture
            }
              , r = function(t, e, i) {
                this._device = t,
                this._assets = e,
                this._loader = i,
                this.crossOrigin = void 0,
                e.prefix && (this.crossOrigin = "anonymous")
            };
            return Object.assign(r.prototype, {
                load: function(t, e, i) {
                    var s = this, r, a = t.indexOf("?") >= 0 ? t.split("?")[0] : t, h = n.path.getExtension(a).toLowerCase();
                    if (".dds" === h || ".gtc" === h || ".ktx" === h) {
                        var c = {
                            cache: !0,
                            responseType: "arraybuffer"
                        };
                        return n.http.get(t, c, function(t, i) {
                            t ? e(t) : e(null, i)
                        })
                    }
                    if (".jpg" === h || ".jpeg" === h || ".gif" === h || ".png" === h)
                        r = new Image,
                        void 0 !== this.crossOrigin && n.Bl.test(t) && (r.crossOrigin = this.crossOrigin),
                        r.onload = function() {
                            e(null, r)
                        }
                        ,
                        r.onerror = function(i) {
                            e(n.string.format("Error loading Texture from: '{0}'", t))
                        }
                        ,
                        r.src = t;
                    else {
                        var o = a.indexOf("blob:");
                        o >= 0 ? (a = a.substr(o),
                        t = a,
                        (r = new Image).onload = function() {
                            e(null, r)
                        }
                        ,
                        r.onerror = function(i) {
                            e(n.string.format("Error loading Texture from: '{0}'", t))
                        }
                        ,
                        r.src = t) : setTimeout(function() {
                            e(n.string.format("Error loading Texture: format not supported: '{0}'", h))
                        }, 0)
                    }
                },
                open: function(t, e, i) {
                    if (t) {
                        var r, a = n.path.getExtension(t).toLowerCase(), h = null;
                        if (e instanceof Image || e instanceof HTMLImageElement) {
                            var c = e;
                            h = ".jpg" === a || ".jpeg" === a ? n.bi : n.vi,
                            (r = new n.xn(this._device,{
                                width: c.width,
                                height: c.height,
                                format: h,
                                flipY: i && i.data ? i.data.flipY : void 0
                            })).name = t,
                            r.setSource(c)
                        } else if (e instanceof ArrayBuffer) {
                            var o = !0;
                            if (".gtc" === a || ".dds" === a)
                                r = s(t, e, this._device);
                            else {
                                var u;
                                switch (a) {
                                case ".dds":
                                    u = new n.DdsParser(e);
                                    break;
                                case ".ktx":
                                    u = new n.KtxParser(e)
                                }
                                if (!u)
                                    return (r = new n.xn(this._device,{
                                        width: 4,
                                        height: 4,
                                        format: n.bi
                                    })).name = "unsupported-empty",
                                    r;
                                (r = new n.xn(this._device,{
                                    addressU: u.cubemap ? n.Zt : n.qt,
                                    addressV: u.cubemap ? n.Zt : n.qt,
                                    width: u.width,
                                    height: u.height,
                                    format: u.format,
                                    cubemap: u.cubemap,
                                    levels: u.levels
                                })).name = t,
                                r.upload()
                            }
                        }
                        return r
                    }
                },
                patch: function(i, s) {
                    var n = i.resource;
                    if (n) {
                        n.assetId = i.id,
                        n.name !== i.name && (n.name = i.name),
                        i.data.hasOwnProperty("minfilter") && n.minFilter !== e[i.data.minfilter] && (n.minFilter = e[i.data.minfilter]),
                        i.data.hasOwnProperty("magfilter") && n.magFilter !== e[i.data.magfilter] && (n.magFilter = e[i.data.magfilter]),
                        i.data.hasOwnProperty("addressu") && n.addressU !== t[i.data.addressu] && (n.addressU = t[i.data.addressu]),
                        i.data.hasOwnProperty("addressv") && n.addressV !== t[i.data.addressv] && (n.addressV = t[i.data.addressv]),
                        i.data.hasOwnProperty("mipmaps") && n.mipmaps !== i.data.mipmaps && (n.mipmaps = i.data.mipmaps),
                        i.data.hasOwnProperty("anisotropy") && n.anisotropy !== i.data.anisotropy && (n.anisotropy = i.data.anisotropy);
                        var r = !!i.data.rgbm;
                        i.data.hasOwnProperty("rgbm") && n.rgbm !== r && (n.rgbm = r)
                    }
                }
            }),
            {
                xd: r
            }
        }()),
        Object.assign(n, (gn = function() {}
        ,
        Object.assign(gn.prototype, {
            load: function(t, e) {
                n.http.get(t, function(i, s) {
                    i ? e(n.string.format("Error loading html resource: {0} [{1}]", t, i)) : e(null, s)
                })
            },
            open: function(t, e) {
                return e
            },
            patch: function(t, e) {}
        }),
        {
            Cd: gn
        })),
        Object.assign(n, (pn = function() {}
        ,
        Object.assign(pn.prototype, {
            load: function(t, e) {
                n.http.get(t, function(i, s) {
                    i ? e(n.string.format("Error loading css resource: {0} [{1}]", t, i)) : e(null, s)
                })
            },
            open: function(t, e) {
                return e
            },
            patch: function(t, e) {}
        }),
        {
            Od: pn,
            createStyle: function(t) {
                var e = document.createElement("style");
                return e.type = "text/css",
                e.styleSheet ? e.styleSheet.cssText = t : e.appendChild(document.createTextNode(t)),
                e
            }
        })),
        Object.assign(n, (xn = function() {}
        ,
        Object.assign(xn.prototype, {
            load: function(t, e) {
                n.http.get(t, function(i, s) {
                    i ? e(n.string.format("Error loading shader resource: {0} [{1}]", t, i)) : e(null, s)
                })
            },
            open: function(t, e) {
                return e
            },
            patch: function(t, e) {}
        }),
        {
            Ed: xn
        })),
        Object.assign(n, (zn = function(t) {
            this._app = t
        }
        ,
        Object.assign(zn.prototype, {
            load: function(t, e) {
                n.http.get(t, function(i, s) {
                    i ? e("Error requesting scene: " + t) : e(null, s)
                })
            },
            open: function(t, e) {
                this._app.systems.script.preloading = !0;
                var i, s = new n.Bv(this._app).parse(e), r = this._app.scene;
                return r.root = s,
                this._app.Dl(e.settings),
                this._app.systems.script.preloading = !1,
                r
            },
            patch: function(t, e) {}
        }),
        {
            Md: zn
        })),
        Object.assign(n, (_n = function(t) {
            this._app = t
        }
        ,
        Object.assign(_n.prototype, {
            load: function(t, e) {
                n.http.get(t, function(i, s) {
                    i ? e("Error requesting scene: " + t) : e(null, s)
                })
            },
            open: function(t, e) {
                this._app.systems.script.preloading = !0;
                var i, s = new n.Bv(this._app).parse(e);
                return this._app.systems.script.preloading = !1,
                s
            }
        }),
        {
            Dd: _n
        })),
        Object.assign(n, (An = function(t) {
            this._app = t
        }
        ,
        Object.assign(An.prototype, {
            load: function(t, e) {
                n.http.get(t, function(i, s) {
                    i ? e("Error requesting scene: " + t) : e(null, s)
                })
            },
            open: function(t, e) {
                return e.settings
            }
        }),
        {
            Td: An
        })),
        Object.assign(n, (yn = function() {}
        ,
        Object.assign(yn.prototype, {
            load: function(t, e) {
                e(null, null)
            },
            open: function(t, e) {
                return e
            }
        }),
        {
            Pd: yn
        })),
        Object.assign(n, function() {
            function t(t) {
                return t.version < 3 && (t.version < 2 && (t.info.maps = t.info.maps || [{
                    width: t.info.width,
                    height: t.info.height
                }]),
                t.chars = Object.keys(t.chars || {}).reduce(function(e, i) {
                    var s = t.chars[i]
                      , r = void 0 !== s.letter ? s.letter : n.string.fromCodePoint(i);
                    return t.version < 2 && (s.map = s.map || 0),
                    e[r] = s,
                    e
                }, {}),
                t.version = 3),
                t
            }
            var e = function(t) {
                this._loader = t
            };
            return Object.assign(e.prototype, {
                load: function(e, i, s) {
                    var r = this;
                    ".json" === n.path.getExtension(e) ? n.http.get(e, function(s, a) {
                        var h = t(a);
                        s ? i(n.string.format("Error loading font resource: {0} [{1}]", e, s)) : r._loadTextures(e.replace(".json", ".png"), h, function(t, e) {
                            if (t)
                                return i(t);
                            i(null, {
                                data: h,
                                textures: e
                            })
                        })
                    }) : (s && s.data && (s.data = t(s.data)),
                    this._loadTextures(e, s && s.data, i))
                },
                _loadTextures: function(t, e, i) {
                    for (var s = e.info.maps.length, n = 0, r = null, a = new Array(s), h = this._loader, c = function(e) {
                        var c = function(t, h) {
                            if (!r) {
                                if (t)
                                    return r = t,
                                    i(t);
                                h.upload(),
                                a[e] = h,
                                ++n === s && i(null, a)
                            }
                        };
                        0 === e ? h.load(t, "texture", c) : h.load(t.replace(".png", e + ".png"), "texture", c)
                    }, o = 0; o < s; o++)
                        c(o)
                },
                open: function(t, e, i) {
                    var s;
                    return s = e.textures ? new n.Font(e.textures,e.data) : new n.Font(e,null)
                },
                patch: function(t, e) {
                    var i = t.resource;
                    !i.data && t.data ? i.data = t.data : !t.data && i.data && (t.data = i.data)
                }
            }),
            {
                Bd: e
            }
        }()),
        Object.assign(n, (Mn = {
            repeat: n.qt,
            clamp: n.Zt,
            mirror: n.$t
        },
        Sn = {
            nearest: n.Ge,
            linear: n.We,
            nearest_mip_nearest: n.Ye,
            linear_mip_nearest: n.Ke,
            nearest_mip_linear: n.Xe,
            linear_mip_linear: n.Qe
        },
        Cn = /^data\.frames\.(\d+)$/,
        On = function(t) {
            this._loader = t
        }
        ,
        Object.assign(On.prototype, {
            load: function(t, e) {
                var i = this
                  , s = this._loader.Tl("texture");
                if (".json" !== n.path.getExtension(t))
                    return s.load(t, e);
                n.http.get(t, function(s, n) {
                    if (s)
                        e(s);
                    else {
                        var r = t.replace(".json", ".png");
                        i._loader.load(r, "texture", function(t, i) {
                            t ? e(t) : e(null, {
                                data: n,
                                texture: i
                            })
                        })
                    }
                })
            },
            open: function(t, e) {
                var i = new n.TextureAtlas;
                if (e.texture && e.data)
                    i.texture = e.texture,
                    i.__data = e.data;
                else {
                    var s, r = this._loader.Tl("texture").open(t, e);
                    if (!r)
                        return null;
                    i.texture = r
                }
                return i
            },
            patch: function(t, e) {
                t.resource.__data && (void 0 !== t.resource.__data.minfilter && (t.data.minfilter = t.resource.__data.minfilter),
                void 0 !== t.resource.__data.magfilter && (t.data.magfilter = t.resource.__data.magfilter),
                void 0 !== t.resource.__data.addressu && (t.data.addressu = t.resource.__data.addressu),
                void 0 !== t.resource.__data.addressv && (t.data.addressv = t.resource.__data.addressv),
                void 0 !== t.resource.__data.mipmaps && (t.data.mipmaps = t.resource.__data.mipmaps),
                void 0 !== t.resource.__data.anisotropy && (t.data.anisotropy = t.resource.__data.anisotropy),
                void 0 !== t.resource.__data.rgbm && (t.data.rgbm = !!t.resource.__data.rgbm),
                t.data.frames = t.resource.__data.frames,
                delete t.resource.__data);
                var i = t.resource.texture;
                if (i) {
                    i.name = t.name,
                    t.data.hasOwnProperty("minfilter") && i.minFilter !== Sn[t.data.minfilter] && (i.minFilter = Sn[t.data.minfilter]),
                    t.data.hasOwnProperty("magfilter") && i.magFilter !== Sn[t.data.magfilter] && (i.magFilter = Sn[t.data.magfilter]),
                    t.data.hasOwnProperty("addressu") && i.addressU !== Mn[t.data.addressu] && (i.addressU = Mn[t.data.addressu]),
                    t.data.hasOwnProperty("addressv") && i.addressV !== Mn[t.data.addressv] && (i.addressV = Mn[t.data.addressv]),
                    t.data.hasOwnProperty("mipmaps") && i.mipmaps !== t.data.mipmaps && (i.mipmaps = t.data.mipmaps),
                    t.data.hasOwnProperty("anisotropy") && i.anisotropy !== t.data.anisotropy && (i.anisotropy = t.data.anisotropy);
                    var s = !!t.data.rgbm;
                    t.data.hasOwnProperty("rgbm") && i.rgbm !== s && (i.rgbm = s)
                }
                t.resource.texture = i;
                var r = {};
                for (var a in t.data.frames) {
                    var h = t.data.frames[a];
                    r[a] = {
                        rect: new n.wt(h.rect),
                        pivot: new n.pt(h.pivot),
                        border: new n.wt(h.border)
                    }
                }
                t.resource.frames = r,
                t.off("change", this._onAssetChange, this),
                t.on("change", this._onAssetChange, this)
            },
            _onAssetChange: function(t, e, i) {
                var s;
                if ("data" === e || "data.frames" === e) {
                    var r = {};
                    for (var a in i.frames)
                        s = i.frames[a],
                        r[a] = {
                            rect: new n.wt(s.rect),
                            pivot: new n.pt(s.pivot),
                            border: new n.wt(s.border)
                        };
                    t.resource.frames = r
                } else {
                    var h = e.match(Cn);
                    if (h) {
                        var c = h[1];
                        i ? (t.resource.frames[c] ? ((s = t.resource.frames[c]).rect.set(i.rect[0], i.rect[1], i.rect[2], i.rect[3]),
                        s.pivot.set(i.pivot[0], i.pivot[1]),
                        s.border.set(i.border[0], i.border[1], i.border[2], i.border[3])) : t.resource.frames[c] = {
                            rect: new n.wt(i.rect),
                            pivot: new n.pt(i.pivot),
                            border: new n.wt(i.border)
                        },
                        t.resource.fire("set:frame", c, t.resource.frames[c])) : t.resource.frames[c] && (delete t.resource.frames[c],
                        t.resource.fire("remove:frame", c))
                    }
                }
            }
        }),
        {
            TextureAtlasHandler: On
        })),
        Object.assign(n, (En = function(t, e) {
            this._assets = t,
            this._device = e
        }
        ,
        Dn = function(t) {
            var e = this;
            this.resource && (this.resource.atlas = t.resource)
        }
        ,
        Tn = function(t) {
            var e = this;
            this.registry.load(t)
        }
        ,
        Object.assign(En.prototype, {
            load: function(t, e) {
                ".json" === n.path.getExtension(t) && n.http.get(t, function(t, i) {
                    t ? e(t) : e(null, i)
                })
            },
            open: function(t, e) {
                var i = new n.Sprite(this._device);
                return t && (i.__data = e),
                i
            },
            patch: function(t, e) {
                var i = t.resource;
                if (i.__data && (t.data.pixelsPerUnit = i.__data.pixelsPerUnit,
                t.data.renderMode = i.__data.renderMode,
                t.data.frameKeys = i.__data.frameKeys,
                i.__data.textureAtlasAsset)) {
                    var s = e.getByUrl(i.__data.textureAtlasAsset);
                    s && (t.data.textureAtlasAsset = s.id)
                }
                i.startUpdate(),
                i.renderMode = t.data.renderMode,
                i.pixelsPerUnit = t.data.pixelsPerUnit,
                i.frameKeys = t.data.frameKeys,
                this._updateAtlas(t),
                i.endUpdate(),
                t.off("change", this._onAssetChange, this),
                t.on("change", this._onAssetChange, this)
            },
            _updateAtlas: function(t) {
                var e = t.resource;
                if (t.data.textureAtlasAsset) {
                    this._assets.off("load:" + t.data.textureAtlasAsset, Dn, t),
                    this._assets.on("load:" + t.data.textureAtlasAsset, Dn, t);
                    var i = this._assets.get(t.data.textureAtlasAsset);
                    i && i.resource ? e.atlas = i.resource : i ? this._assets.load(i) : (this._assets.off("add:" + t.data.textureAtlasAsset, Tn, t),
                    this._assets.on("add:" + t.data.textureAtlasAsset, Tn, t))
                } else
                    e.atlas = null
            },
            _onAssetChange: function(t, e, i, s) {
                "data" === e && i && i.textureAtlasAsset && s && i.textureAtlasAsset !== s.textureAtlasAsset && (this._assets.off("load:" + s.textureAtlasAsset, Dn, t),
                this._assets.off("add:" + s.textureAtlasAsset, Tn, t))
            }
        }),
        {
            SpriteHandler: En
        })),
        n.extend(n, (Pn = {
            i: Int32Array,
            s: Uint8Array,
            f: Float32Array
        },
        (Bn = function() {}
        ).prototype.Iv = function(t, e, i, s) {
            var n = null
              , r = Pn[t]
              , a = s + e * r.BYTES_PER_ELEMENT
              , h = new r(i.slice(s, a));
            return "s" == t ? [String.fromCharCode.apply(null, h), a] : [h, a]
        }
        ,
        {
            jv: new Bn
        })),
        Object.assign(n, (In = 16,
        jn = function() {}
        ,
        Object.assign(jn.prototype, {
            parse: function(t) {},
            Rv: function(t, e) {
                var i = null;
                e += 16;
                var s = (i = n.jv.Iv("i", 1, t, e))[0][0];
                e = i[1];
                var r = (i = n.jv.Iv("s", 1, t, e))[0];
                if (e = i[1],
                0 == s)
                    return "o" == r ? [r, {}, e] : [r, [], e];
                switch (r) {
                case "s":
                    return [r, (i = n.jv.Iv(r, s, t, e))[0], i[1]];
                case "i":
                case "f":
                    return [r, (i = n.jv.Iv(r, 1, t, e))[0][0], i[1]];
                case "j":
                    return [r, (i = n.jv.Iv("i", s, t, e))[0], i[1]];
                case "g":
                    return [r, (i = n.jv.Iv("f", s, t, e))[0], i[1]];
                case "p":
                    return [r, new Array(s).fill().map(function() {
                        return {}
                    }), e];
                case "o":
                    return this.Rv(t, e);
                case "a":
                    return [r, new Array(s).fill().map(function() {
                        return []
                    }), e];
                case "m":
                    for (var a = [], h = 0, c = (i = n.jv.Iv("f", s, t, e))[0].length; h < c; h += 16)
                        a.push(i[0].slice(h, h + 16));
                    return [r, a, i[1]]
                }
            },
            Lv: function(t, e) {
                return this.Rv(t, e).slice(1, 3)
            },
            Nv: function(t, e, i, s, n) {
                var r = this.Rv(t, s);
                return e[i] = r[1],
                r[2]
            },
            Fv: function(t, e, i, s, n) {
                var r = this.Rv(t, s)
                  , a = r[1];
                for (var h in s = r[2],
                a)
                    r = this.Rv(t, s),
                    a[h] = r[1],
                    s = r[2];
                return e[i] = a,
                s
            },
            kv: function(t, e, i, s, n) {
                var r = this.Rv(t, s)
                  , a = this.Uv(n, r[1]);
                s = r[2];
                var h = {};
                for (var c in a) {
                    var o = a[c];
                    o && (r = this.Rv(t, s),
                    h[o] = r[1],
                    s = r[2])
                }
                return e[i] = h,
                s
            },
            Uv: function(t, e) {
                var i = [];
                for (var s in e)
                    i.push(this.Vv.map[t].keys[e[s]]);
                return i
            },
            Hv: function(t, e) {
                var i = this.Vv.map[t].handlers;
                return e in i ? i[e] : i.default
            }
        }),
        {
            Gv: jn
        })),
        Object.assign(n, (Rn = 10,
        (Ln = function() {
            this.Vv = {
                Wv: ["vertices", "skins", "version", "parents", "meshes", "nodes", "meshInstances"],
                map: {
                    vertices: {
                        keys: ["position", "color", "texCoord0", "texCoord1", "normal", "blendIndices", "blendWeight", "data", "type", "components"],
                        handlers: {
                            default: this.kv
                        }
                    },
                    skins: {
                        keys: ["inverseBindMatrices", "boneNames"],
                        handlers: {
                            inverseBindMatrices: this.Nv,
                            boneNames: this.Fv
                        }
                    },
                    meshes: {
                        keys: ["count", "base", "vertices", "skin", "type", "indices", "aabb", "min", "max"],
                        handlers: {
                            aabb: this.kv,
                            default: this.Nv
                        }
                    },
                    nodes: {
                        keys: ["position", "rotation", "scale", "name"],
                        handlers: {
                            default: this.Nv
                        }
                    },
                    meshInstances: {
                        keys: ["node", "mesh"],
                        handlers: {
                            default: this.Nv
                        }
                    }
                }
            }
        }
        ).prototype = Object.create(n.Gv.prototype),
        Object.assign(Ln.prototype, {
            parse: function(t) {
                var e = 0, i = {}, s, n = this.Lv(t, 0);
                if (e = n[1],
                10 === (n = n[0]))
                    s = this.Yv(t, e),
                    i.meshes = s[0];
                else
                    for (var r in this.Vv.Wv) {
                        var a = this.Vv.Wv[r];
                        e = (s = this.Xv(t, e, a))[1],
                        i[a] = s[0]
                    }
                return {
                    model: i
                }
            },
            Xv: function(t, e, i) {
                var s = this.Rv(t, e);
                if (e = s[2],
                s[1]instanceof Array && s[1][0]instanceof Object) {
                    var n = s[1];
                    for (var r in n) {
                        var a = n[r];
                        s = this.Rv(t, e);
                        var h = this.Uv(i, s[1]);
                        for (var c in e = s[2],
                        h) {
                            var o = h[c], u;
                            o && (e = this.Hv(i, o).call(this, t, a, o, e, i))
                        }
                    }
                    return [n, e]
                }
                return [s[1], e]
            },
            Yv: function(t, e) {
                var i = this.Rv(t, e)
                  , s = i[0]
                  , n = i[1];
                e = i[2];
                for (var r = 0; r < n.length; r++)
                    i = this.Rv(t, e),
                    n[r] = {
                        indices: i[1]
                    },
                    e = i[2];
                return [n, e]
            }
        }),
        {
            Tv: Ln
        })),
        Object.assign(n, ((Nn = function() {
            this.Vv = {
                Wv: ["version", "name", "duration", "nodes"],
                map: {
                    nodes: {
                        keys: ["name", "defaults", "keys", "t", "p", "r", "s"],
                        handlers: {
                            keys: this._parseKeys,
                            default: this.Nv
                        }
                    }
                }
            }
        }
        ).prototype = Object.create(n.Gv.prototype),
        Object.assign(Nn.prototype, {
            parse: function(t) {
                var e = 0, i = {}, s, n = this.Lv(t, 0);
                for (var r in e = n[1],
                n = n[0],
                this.Vv.Wv) {
                    var a = this.Vv.Wv[r];
                    e = (s = this.Xv(t, e, a))[1],
                    i[a] = s[0]
                }
                return {
                    animation: i
                }
            },
            Xv: function(t, e, i) {
                var s = this.Rv(t, e);
                return e = s[2],
                s[1]instanceof Array && s[1][0]instanceof Object ? this._parseNode(t, s[1], e, i) : [s[1], e]
            },
            _parseNode: function(t, e, i, s) {
                for (var n, r = 0; r < e.length; r++) {
                    i = (n = this.Rv(t, i))[2];
                    for (var a = e[r], h = this.Uv(s, n[1]), c = 0; c < h.length; c++) {
                        var o = h[c], u;
                        o && (i = this.Hv(s, o).call(this, t, a, o, i, s))
                    }
                }
                return [e, i]
            },
            _parseKeys: function(t, e, i, s, n) {
                var r, a;
                a = (r = this.Rv(t, s))[1],
                s = r[2];
                for (var h = 0; h < a.length; h++) {
                    s = (r = this.Rv(t, s))[2];
                    for (var c = a[h], o = this.Uv(n, r[1]), u = 0; u < o.length; u++) {
                        var f = o[u];
                        f && (s = this.Nv(t, c, f, s))
                    }
                }
                return e[i] = a,
                s
            }
        }),
        {
            Ev: Nn
        })),
        Object.assign(n, (Fn = {
            points: n.Fi,
            lines: n.ki,
            lineloop: n.Ui,
            linestrip: n.Vi,
            triangles: n.Hi,
            trianglestrip: n.Gi,
            trianglefan: n.Wi
        },
        kn = {
            int8: n.Le,
            uint8: n.Ne,
            int16: n.Fe,
            uint16: n.ke,
            int32: n.Ue,
            uint32: n.Ve,
            float32: n.He
        },
        Un = function(t) {
            this._device = t,
            this._defaultMaterial = n.getDefaultMaterial()
        }
        ,
        Object.assign(Un.prototype, {
            parse: function(t) {
                var e = t.model;
                if (!e)
                    return null;
                if (e.version <= 1)
                    return null;
                var i = this.Kv(t)
                  , s = this.Qv(t, i)
                  , r = this.Jv(t, i)
                  , a = this.qv(t)
                  , h = this.Zv(t, a)
                  , c = this.$v(t, s.skins, r.morphs, a, h.buffer, h.data);
                this.tm(t, r.morphs, a, c);
                var o = this.im(t, i, c, s.skins, s.instances, r.morphs, r.instances)
                  , u = new n.Xh;
                return u.graph = i[0],
                u.meshInstances = o,
                u.skinInstances = s.instances,
                u.morphInstances = r.instances,
                u.getGraph().syncHierarchy(),
                u
            },
            Kv: function(t) {
                var e = t.model, i = [], s;
                for (s = 0; s < e.nodes.length; s++) {
                    var r = e.nodes[s]
                      , a = new n.Gh;
                    a.setName(r.name.toString()),
                    a.setLocalPosition(r.position[0], r.position[1], r.position[2]),
                    a.setLocalEulerAngles(r.rotation[0], r.rotation[1], r.rotation[2]),
                    a.setLocalScale(r.scale[0], r.scale[1], r.scale[2]),
                    a.scaleCompensation = !!r.scaleCompensation,
                    i.push(a)
                }
                for (s = 1; s < e.parents.length; s++)
                    i[e.parents[s]].addChild(i[s]);
                return i
            },
            Qv: function(t, e) {
                var i = t.model, s = [], r = [], a, h;
                if (!this._device.supportsBoneTextures && i.skins.length > 0) {
                    var c = this._device.getBoneLimit();
                    n.gc(i, null, c)
                }
                for (a = 0; a < i.skins.length; a++) {
                    var o = i.skins[a]
                      , u = [];
                    for (h = 0; h < o.inverseBindMatrices.length; h++) {
                        var f = o.inverseBindMatrices[h];
                        u[h] = (new n.zt).set(f)
                    }
                    var d = new n.vc(this._device,u,o.boneNames);
                    s.push(d);
                    var l = new n.mc(d)
                      , b = [];
                    for (h = 0; h < d.boneNames.length; h++) {
                        var v = d.boneNames[h]
                          , m = e[0].findByName(v);
                        b.push(m)
                    }
                    l.bones = b,
                    r.push(l)
                }
                return {
                    skins: s,
                    instances: r
                }
            },
            Jv: function(t, e) {
                var i = t.model, s = [], r = [], a, h, c, o, u;
                if (i.morphs)
                    for (a = 0; a < i.morphs.length; a++) {
                        for (c = i.morphs[a].targets,
                        u = [],
                        h = 0; h < c.length; h++) {
                            var f = c[h].aabb
                              , d = f.min
                              , l = f.max
                              , b = new n.jt(new n.ut(.5 * (l[0] + d[0]),.5 * (l[1] + d[1]),.5 * (l[2] + d[2])),new n.ut(.5 * (l[0] - d[0]),.5 * (l[1] - d[1]),.5 * (l[2] - d[2])));
                            o = new n.pc({
                                indices: c[h].indices,
                                deltaPositions: c[h].deltaPositions,
                                deltaNormals: c[h].deltaNormals,
                                name: c[h].name,
                                aabb: b
                            }),
                            u.push(o)
                        }
                        var v = new n.wc(u);
                        s.push(v);
                        var m = new n.xc(v);
                        r.push(m)
                    }
                return {
                    morphs: s,
                    instances: r
                }
            },
            sm: function(t, e, i, s, n, r, a, h) {
                var c, o, u, f, d, l, b, v, m, g, p, w, x, z, _, A, y, M, S, C, O, E, D, T, P, B, I, j, R, L, N, F, k, U, V, H, G, W, Y, X, K, Q, J, q, Z, $, tt, et, it, st, nt;
                for (N = s.length / 3,
                et = 0,
                $ = 0; $ < N; $++)
                    F = s[3 * $],
                    k = s[3 * $ + 1],
                    U = s[3 * $ + 2],
                    b = t[3 * F],
                    v = t[3 * F + 1],
                    m = t[3 * F + 2],
                    g = t[3 * k],
                    p = t[3 * k + 1],
                    w = t[3 * k + 2],
                    x = t[3 * U],
                    z = t[3 * U + 1],
                    _ = t[3 * U + 2],
                    A = i[2 * F],
                    y = i[2 * F + 1],
                    M = i[2 * k],
                    S = i[2 * k + 1],
                    C = i[2 * U],
                    V = g - b,
                    H = x - b,
                    G = p - v,
                    W = z - v,
                    Y = w - m,
                    X = _ - m,
                    0 == (et = (K = M - A) * (q = (O = i[2 * U + 1]) - y) - (Q = C - A) * (J = S - y)) ? (c = 0,
                    o = 1,
                    u = 0,
                    f = 1,
                    d = 0,
                    l = 0) : (c = (q * V - J * H) * (Z = 1 / et),
                    o = (q * G - J * W) * Z,
                    u = (q * Y - J * X) * Z,
                    f = (K * H - Q * V) * Z,
                    d = (K * W - Q * G) * Z,
                    l = (K * X - Q * Y) * Z),
                    n[3 * F + 0] += c,
                    n[3 * F + 1] += o,
                    n[3 * F + 2] += u,
                    n[3 * k + 0] += c,
                    n[3 * k + 1] += o,
                    n[3 * k + 2] += u,
                    n[3 * U + 0] += c,
                    n[3 * U + 1] += o,
                    n[3 * U + 2] += u,
                    r[3 * F + 0] += f,
                    r[3 * F + 1] += d,
                    r[3 * F + 2] += l,
                    r[3 * k + 0] += f,
                    r[3 * k + 1] += d,
                    r[3 * k + 2] += l,
                    r[3 * U + 0] += f,
                    r[3 * U + 1] += d,
                    r[3 * U + 2] += l;
                for (st = a.length,
                tt = 0; tt < st; tt++)
                    j = e[3 * ($ = a[tt])],
                    R = e[3 * $ + 1],
                    L = e[3 * $ + 2],
                    E = n[3 * $],
                    D = n[3 * $ + 1],
                    T = n[3 * $ + 2],
                    P = r[3 * $],
                    B = r[3 * $ + 1],
                    I = r[3 * $ + 2],
                    g = R * T - D * L,
                    p = L * E - T * j,
                    w = j * D - E * R,
                    E -= b = j * (it = j * E + R * D + L * T),
                    D -= v = R * it,
                    T -= m = L * it,
                    E *= nt = 1 / Math.sqrt(E * E + D * D + T * T),
                    D *= nt,
                    T *= nt,
                    h[4 * $] = E,
                    h[4 * $ + 1] = D,
                    h[4 * $ + 2] = T,
                    h[4 * $ + 3] = g * P + p * B + w * I < 0 ? -1 : 1;
                return h
            },
            tm: function(t, e, i, s) {
                var n = t.model, r, a, h, c, o, u, f, d, l, b, v, m, g, p, w, x, z, _, A = [], y = [], M;
                for (r = 0; r < s.length; r++)
                    if (!y[M = n.meshes[r].vertices] && (_ = n.vertices[M]).tangent) {
                        var S = new Float32Array(_.tangent.data);
                        if (y[M] = !0,
                        !_.tangent && _.position && _.normal && _.texCoord0) {
                            var C = [];
                            for (a = 0; a < n.meshes.length; a++)
                                n.meshes[a].vertices === M && (C = C.concat(n.meshes[a].indices));
                            v = _.position.data,
                            m = _.normal.data,
                            g = _.texCoord0.data,
                            p = v.length / 3,
                            w = C.length;
                            var O = new Float32Array(4 * p)
                              , E = new Float32Array(3 * p)
                              , D = new Float32Array(3 * p);
                            for ((x = new Float32Array(3 * p)).set(v),
                            (z = new Float32Array(3 * p)).set(m),
                            a = 0; a < e.length; a++)
                                if (n.meshes[r].morph === a)
                                    for (c = 0; c < e[a]._targets.length; c++) {
                                        var T = (h = e[a]._targets[c]).indices
                                          , P = T.length;
                                        if (0 !== P) {
                                            if (h.deltaTangents = new Float32Array(4 * P),
                                            !b || b.length < p)
                                                b = new Uint8Array(p);
                                            else
                                                for (o = 0; o < p; o++)
                                                    b[o] = 0;
                                            for (o = 0; o < P; o++)
                                                b[u = T[o]] = 1;
                                            var B = 0;
                                            for (o = 0; o < w; o += 3)
                                                f = C[o],
                                                d = C[o + 1],
                                                l = C[o + 2],
                                                (b[f] || b[d] || b[l]) && (A[B] = f,
                                                A[B + 1] = d,
                                                A[B + 2] = l,
                                                B += 3);
                                            A.length = B;
                                            var I = h.deltaPositions
                                              , j = h.deltaNormals;
                                            for (o = 0; o < P; o++)
                                                x[3 * (u = T[o])] += I[3 * o],
                                                x[3 * u + 1] += I[3 * o + 1],
                                                x[3 * u + 2] += I[3 * o + 2],
                                                z[3 * u] += j[3 * o],
                                                z[3 * u + 1] += j[3 * o + 1],
                                                z[3 * u + 2] += j[3 * o + 2];
                                            this.sm(x, z, g, A, E, D, T, O);
                                            var R = h.deltaTangents;
                                            for (o = 0; o < P; o++)
                                                u = T[o],
                                                R[4 * o] = O[4 * o] - S[4 * u],
                                                R[4 * o + 1] = O[4 * o + 1] - S[4 * u + 1],
                                                R[4 * o + 2] = O[4 * o + 2] - S[4 * u + 2],
                                                R[4 * o + 3] = O[4 * o + 3] - S[4 * u + 3];
                                            if (c !== e[a]._targets.length - 1) {
                                                for (o = 0; o < w; o += 3)
                                                    f = C[o],
                                                    d = C[o + 1],
                                                    l = C[o + 2],
                                                    E[3 * f + 0] = 0,
                                                    E[3 * f + 1] = 0,
                                                    E[3 * f + 2] = 0,
                                                    E[3 * d + 0] = 0,
                                                    E[3 * d + 1] = 0,
                                                    E[3 * d + 2] = 0,
                                                    E[3 * l + 0] = 0,
                                                    E[3 * l + 1] = 0,
                                                    E[3 * l + 2] = 0,
                                                    D[3 * f + 0] = 0,
                                                    D[3 * f + 1] = 0,
                                                    D[3 * f + 2] = 0,
                                                    D[3 * d + 0] = 0,
                                                    D[3 * d + 1] = 0,
                                                    D[3 * d + 2] = 0,
                                                    D[3 * l + 0] = 0,
                                                    D[3 * l + 1] = 0,
                                                    D[3 * l + 2] = 0;
                                                for (o = 0; o < P; o++)
                                                    x[3 * (u = h.indices[o])] = v[3 * u],
                                                    x[3 * u + 1] = v[3 * u + 1],
                                                    x[3 * u + 2] = v[3 * u + 2],
                                                    z[3 * u] = m[3 * u],
                                                    z[3 * u + 1] = m[3 * u + 1],
                                                    z[3 * u + 2] = m[3 * u + 2]
                                            }
                                        }
                                    }
                        }
                    }
            },
            qv: function(t) {
                var e = t.model, i = [], s, r, a = {
                    position: n.Yi,
                    normal: n.Xi,
                    tangent: n.Ki,
                    blendWeight: n.Qi,
                    blendIndices: n.Ji,
                    color: n.qi,
                    texCoord0: n.SEMANTIC_TEXCOORD0,
                    texCoord1: n.SEMANTIC_TEXCOORD1,
                    texCoord2: n.SEMANTIC_TEXCOORD2,
                    texCoord3: n.SEMANTIC_TEXCOORD3,
                    texCoord4: n.SEMANTIC_TEXCOORD4,
                    texCoord5: n.SEMANTIC_TEXCOORD5,
                    texCoord6: n.SEMANTIC_TEXCOORD6,
                    texCoord7: n.SEMANTIC_TEXCOORD7
                }, h, c, o;
                for (h = 0; h < e.vertices.length; h++) {
                    var u = e.vertices[h]
                      , f = [];
                    for (r in u)
                        s = u[r],
                        f.push({
                            semantic: a[r],
                            components: s.components,
                            type: kn[s.type],
                            normalize: a[r] === n.qi
                        });
                    var d = new n.an(this._device,f)
                      , l = u.position.data.length / u.position.components
                      , b = new n.hn(this._device,d,l)
                      , v = new n.rn(b);
                    for (c = 0; c < l; c++) {
                        for (r in u)
                            switch ((s = u[r]).components) {
                            case 1:
                                v.element[a[r]].set(s.data[c]);
                                break;
                            case 2:
                                o = 2 * c,
                                v.element[a[r]].set(s.data[o], s.data[o + 1]);
                                break;
                            case 3:
                                o = 3 * c,
                                v.element[a[r]].set(s.data[o], s.data[o + 1], s.data[o + 2]);
                                break;
                            case 4:
                                o = 4 * c,
                                v.element[a[r]].set(s.data[o], s.data[o + 1], s.data[o + 2], s.data[o + 3])
                            }
                        v.next()
                    }
                    v.end(),
                    i.push(b)
                }
                return i
            },
            Zv: function(t, e) {
                var i = t.model, s = null, r = null, a, h = 0;
                for (a = 0; a < i.meshes.length; a++) {
                    var c = i.meshes[a];
                    void 0 !== c.indices && (h += c.indices.length)
                }
                var o = 0;
                for (a = 0; a < e.length; a++)
                    o = Math.max(o, e[a].numVertices);
                return h > 0 && (o > 65535 && this._device.extUintElement ? (s = new n.un(this._device,n.hi,h),
                r = new Uint32Array(s.lock())) : (s = new n.un(this._device,n.ai,h),
                r = new Uint16Array(s.lock()))),
                {
                    buffer: s,
                    data: r
                }
            },
            $v: function(t, e, i, s, r, a) {
                var h = t.model, c = [], o = 0, u;
                for (u = 0; u < h.meshes.length; u++) {
                    var f = h.meshes[u]
                      , d = f.aabb
                      , l = d.min
                      , b = d.max
                      , v = new n.jt(new n.ut(.5 * (b[0] + l[0]),.5 * (b[1] + l[1]),.5 * (b[2] + l[2])),new n.ut(.5 * (b[0] - l[0]),.5 * (b[1] - l[1]),.5 * (b[2] - l[2])))
                      , m = void 0 !== f.indices
                      , g = new n.Mesh;
                    g.nn = s[f.vertices],
                    g.cn[0] = m ? r : null,
                    g.Zh[0].type = Fn[f.type],
                    g.Zh[0].base = m ? f.base + o : f.base,
                    g.Zh[0].count = f.count,
                    g.Zh[0].indexed = m,
                    g.skin = void 0 !== f.skin ? e[f.skin] : null,
                    g.morph = void 0 !== f.morph ? i[f.morph] : null,
                    g.aabb = v,
                    m && (a.set(f.indices, o),
                    o += f.indices.length),
                    c.push(g)
                }
                return null !== r && r.unlock(),
                c
            },
            im: function(t, e, i, s, r, a, h) {
                var c = t.model, o = [], u;
                for (u = 0; u < c.meshInstances.length; u++) {
                    var f = c.meshInstances[u]
                      , d = e[f.node]
                      , l = i[f.mesh]
                      , b = new n.Yh(d,l,this._defaultMaterial);
                    if (l.skin) {
                        var v = s.indexOf(l.skin);
                        b.skinInstance = r[v]
                    }
                    if (l.morph) {
                        var m = a.indexOf(l.morph);
                        b.morphInstance = h[m]
                    }
                    o.push(b)
                }
                return o
            }
        }),
        {
            Pv: Un
        })),
        Object.assign(n, (Vn = function(t) {
            this._app = t
        }
        ,
        Object.assign(Vn.prototype, {
            parse: function(t) {
                var e = {}, i, s, n = null;
                for (i in t.entities)
                    e[i] = this._createEntity(t.entities[i]),
                    null === t.entities[i].parent && (n = e[i]);
                for (i in t.entities) {
                    var r = t.entities[i].children.length;
                    for (s = 0; s < r; s++) {
                        var a = t.entities[i].children[s];
                        e[a] && e[i].addChild(e[a])
                    }
                }
                return this.nm(n, t.entities),
                n
            },
            _createEntity: function(t) {
                var e = new n.Entity
                  , i = t.position
                  , s = t.rotation
                  , r = t.scale;
                if (e.name = t.name,
                e.setGuid(t.resource_id),
                e.setLocalPosition(i[0], i[1], i[2]),
                e.setLocalEulerAngles(s[0], s[1], s[2]),
                e.setLocalScale(r[0], r[1], r[2]),
                e._enabled = void 0 === t.enabled || t.enabled,
                e._enabledInHierarchy = e._enabled,
                e.template = t.template,
                t.tags)
                    for (var a = 0; a < t.tags.length; a++)
                        e.tags.add(t.tags[a]);
                return t.labels && t.labels.forEach(function(t) {
                    e.addLabel(t)
                }),
                e
            },
            nm: function(t, e) {
                var i = this._app.systems.list, s, n = i.length, r = e[t.getGuid()];
                for (s = 0; s < n; s++) {
                    var a = i[s]
                      , h = r.components[a.id];
                    h && a.Il(t, h)
                }
                n = r.children.length;
                var c = t._children;
                for (s = 0; s < n; s++)
                    c[s] = this.nm(c[s], e);
                return t
            }
        }),
        {
            Bv: Vn
        })),
        Object.assign(n, ((Hn = function() {
            this._validator = null
        }
        ).prototype.parse = function(t) {
            var e = this.migrate(t)
              , i = this._validate(e)
              , s = new n.Sn;
            return this.initialize(s, i),
            s
        }
        ,
        Hn.prototype.initialize = function(t, e) {
            for (var i in e.validated || (this._validator || (this._validator = new n.StandardMaterialValidator),
            this._validator.validate(e)),
            e.chunks && t.chunks.copy(e.chunks),
            e) {
                var s = n.Sn.PARAMETER_TYPES[i]
                  , r = e[i];
                if ("vec2" === s)
                    t[i] = new n.pt(r[0],r[1]);
                else if ("rgb" === s)
                    t[i] = new n.D(r[0],r[1],r[2]);
                else if ("texture" === s)
                    r instanceof n.xn ? t[i] = r : t[i]instanceof n.xn && "number" == typeof r && r > 0 || (t[i] = null);
                else if ("cubemap" === s)
                    r instanceof n.xn ? t[i] = r : t[i]instanceof n.xn && "number" == typeof r && r > 0 || (t[i] = null);
                else if ("boundingbox" === s) {
                    if (null === r)
                        continue;
                    var a = new n.ut(r.center[0],r.center[1],r.center[2])
                      , h = new n.ut(r.halfExtents[0],r.halfExtents[1],r.halfExtents[2]);
                    t[i] = new n.jt(a,h)
                } else
                    t[i] = e[i]
            }
            t.update()
        }
        ,
        Hn.prototype.migrate = function(t) {
            var e;
            void 0 === t.shadingModel && ("blinn" === t.shader ? t.shadingModel = n.ah : t.shadingModel = n.ra),
            t.shader && delete t.shader,
            t.mapping_format && (t.mappingFormat = t.mapping_format,
            delete t.mapping_format);
            var i = [["bumpMapFactor", "bumpiness"], ["aoUvSet", "aoMapUv"], ["aoMapVertexColor", "aoVertexColor"], ["diffuseMapVertexColor", "diffuseVertexColor"], ["emissiveMapVertexColor", "emissiveVertexColor"], ["specularMapVertexColor", "specularVertexColor"], ["metalnessMapVertexColor", "metalnessVertexColor"], ["opacityMapVertexColor", "opacityVertexColor"], ["glossMapVertexColor", "glossVertexColor"], ["lightMapVertexColor", "lightVertexColor"], ["diffuseMapTint", "diffuseTint"], ["specularMapTint", "specularTint"], ["emissiveMapTint", "emissiveTint"], ["metalnessMapTint", "metalnessTint"]];
            for (e = 0; e < i.length; e++) {
                var s = i[e][0]
                  , r = i[e][1];
                void 0 !== t[s] && void 0 === t[r] && (t[r] = t[s],
                delete t[s])
            }
            var a = ["fresnelFactor", "shadowSampleType"];
            for (e = 0; e < a.length; e++) {
                var h = a[e];
                t.hasOwnProperty(h) && delete t[h]
            }
            return t
        }
        ,
        Hn.prototype._validate = function(t) {
            return this._validator || (this._validator = new n.StandardMaterialValidator),
            this._validator.validate(t),
            t
        }
        ,
        {
            JsonStandardMaterialParser: Hn
        })),
        Object.assign(n, (Gn = 0,
        Wn = 256,
        Yn = 4096,
        Xn = ["default_128", "default_256", "default_512", "default_1024", "default_2048", "default_4096", "astc", "astc_128", "astc_256", "astc_512", "astc_1024", "astc_2048", "dxt1", "dxt1_128", "dxt1_256", "dxt1_512", "dxt1_1024", "dxt1_2048", "dxt5", "dxt5_128", "dxt5_256", "dxt5_512", "dxt5_1024", "dxt5_2048", "etc_rgb", "etc_rgb_128", "etc_rgb_256", "etc_rgb_512", "etc_rgb_1024", "etc_rgb_2048", "etc_a", "etc_a_128", "etc_a_256", "etc_a_512", "etc_a_1024", "etc_a_2048", "pvrtc1_4_rgb", "pvrtc1_4_rgb_128", "pvrtc1_4_rgb_256", "pvrtc1_4_rgb_512", "pvrtc1_4_rgb_1024", "pvrtc1_4_rgb_2048", "pvrtc1_4_rgba", "pvrtc1_4_rgba_128", "pvrtc1_4_rgba_256", "pvrtc1_4_rgba_512", "pvrtc1_4_rgba_1024", "pvrtc1_4_rgba_2048"].map(function(t, e) {
            return [t, e]
        }).reduce(function(t, e) {
            return t[e[0]] = e[1],
            t
        }, {}),
        Kn = function(t) {
            var e = t.lastIndexOf("_");
            return +t.slice(e + 1) > 0 ? t.slice(0, e) : t
        }
        ,
        Qn = new RegExp("^\\s*(?:[a-z]+[a-z0-9\\-\\+\\.]*:)?//","i"),
        Jn = function(t, e, i, s, r) {
            this._id = ++Gn,
            this.name = t || "",
            this.uid = "",
            this.type = e,
            this.tags = new n.Tags(this),
            this._preload = !1,
            this.variants = [],
            this.parent = r || null,
            this._file = null,
            this._data = s || {},
            this._resources = [],
            this.loaded = !1,
            this.loading = !1,
            this.registry = null,
            n.K.attach(this),
            i && (this.file = i)
        }
        ,
        Object.assign(Jn.prototype, {
            getFileUrl: function() {
                var t = this.getPreferredFile();
                if (t && t.base64)
                    return t.base64;
                if (!t || !t.url)
                    return null;
                var e = t.url;
                if (this.registry && this.registry.prefix && !Qn.test(e) && (e = this.registry.prefix + e),
                "script" !== this.type && t.hash) {
                    var i = -1 !== e.indexOf("?") ? "&" : "?";
                    e += i + "t=" + t.hash
                }
                return e
            },
            getPreferredFile: function() {
                return this.file ? this.file : null
            },
            getPreferredAsset: function(t) {
                void 0 === t && (t = {});
                var e = this.registry._loader.Tl("texture")._device
                  , i = this.variants
                  , s = void 0 === t.preferredSize ? this.registry.useTextureSize : t.preferredSize
                  , n = void 0 === t.useTextureCompression ? this.registry.useTextureCompression : t.useTextureCompression
                  , r = t.channel
                  , a = !1
                  , h = null;
                return n && (e.Fn ? (a = !!(h = this.getPreferredVariant("dxt5", s))) || (a = !!(h = this.getPreferredVariant("dxt1", s))) : !a && e.extCompressedTextureASTC ? a = !!(h = this.getPreferredVariant("astc", s)) : !a && e.Nn ? (a = !!(h = this.getPreferredVariant("pvrtc1_4_rgba", s))) || (a = !!(h = this.getPreferredVariant("pvrtc1_4_rgb", s))) : !a && e.Ln && (a = !!(h = this.getPreferredVariant("a" === r ? "etc_a" : "etc_rgb", s)))),
                a || (a = !!(h = this.getPreferredVariant("default", s))),
                a ? h : this
            },
            getPreferredVariant: function(t, e) {
                var i = -1;
                return e <= 0 ? (i = Xn[t],
                this.variants[i] || null) : (i = Xn[t + "_" + e],
                this.variants[i] || this.getPreferredVariant(t, 0 === this.registry.useTextureVariantStrategy ? e < 256 ? 0 : e / 2 : e > 4096 ? 0 : 2 * e))
            },
            ready: function(t, e) {
                e = e || this,
                this.resource ? t.call(e, this) : this.once("load", function(i) {
                    t.call(e, i)
                })
            },
            reload: function() {
                this.loaded && ("cubemap" === this.type ? this.registry._loader.patch(this, this.registry) : (this.loaded = !1,
                this.registry.push(this)))
            },
            unload: function() {
                (this.loaded || this.resource) && (this.fire("unload", this),
                this.registry.fire("unload:" + this.id, this),
                this.resource && this.resource.destroy && this.resource.destroy(),
                this.resource = null,
                this.loaded = !1,
                this.loading = !1,
                this.file && this.registry._loader.clearCache(this.getFileUrl(), this.type))
            },
            clearVariants: function() {
                if (this.registry) {
                    var t = this.registry;
                    this.variants.forEach(function(e) {
                        e && (e.unload(),
                        t.remove(e))
                    }),
                    this.variants = []
                }
            }
        }),
        Object.defineProperty(Jn.prototype, "id", {
            get: function() {
                return this._id
            },
            set: function(t) {
                this._id = t,
                t > Gn && (Gn = t)
            }
        }),
        Object.defineProperty(Jn.prototype, "file", {
            get: function() {
                return this._file
            },
            set: function(t) {
                var e, i, s, r, a = !!t, h = !!this._file, c = this.registry;
                if (a !== h || t && this._file && t.hash !== this._file)
                    if (t) {
                        if (this._file || (this._file = {}),
                        this._file.url = t.url,
                        this._file.filename = t.filename,
                        this._file.hash = t.hash,
                        this._file.width = t.width,
                        this._file.height = t.height,
                        this._file.size = t.size,
                        this._file.base64 = t.base64,
                        t.hasOwnProperty("variants") && (this.clearVariants(),
                        t.variants))
                            for (e in t.variants)
                                t.variants[e] && 0 !== (i = t.variants[e]).size && ((r = JSON.parse(JSON.stringify(this._data))).compressed = !e.startsWith("default"),
                                r.format = Kn(e),
                                r.size = +e.slice(r.format.length + 1),
                                this.variants[Xn[e]] = new n.Zf(this.name + "_" + e,"texture",{
                                    url: i.url,
                                    size: i.size
                                },r,this));
                        this.fire("change", this, "file", this._file, this._file),
                        this.reload()
                    } else
                        this._file = null,
                        this.loaded = !1,
                        this.loading = !1,
                        this.clearVariants();
                else if (t && this._file && t.hasOwnProperty("variants") && (this.clearVariants(),
                t.variants))
                    for (e in t.variants)
                        t.variants[e] && 0 !== (i = t.variants[e]).size && ((r = JSON.parse(JSON.stringify(this._data))).compressed = !e.startsWith("default"),
                        r.format = Kn(e),
                        r.size = +e.slice(r.format.length + 1),
                        this.variants[Xn[e]] = new n.Zf(this.name + "_" + e,"texture",{
                            url: i.url,
                            size: i.size
                        },r,this))
            }
        }),
        Object.defineProperty(Jn.prototype, "data", {
            get: function() {
                return this._data
            },
            set: function(t) {
                var e = this._data;
                this._data = t,
                t !== e && (this.fire("change", this, "data", t, e),
                this.loaded && this.registry._loader.patch(this, this.registry))
            }
        }),
        Object.defineProperty(Jn.prototype, "resource", {
            get: function() {
                return this._resources[0]
            },
            set: function(t) {
                var e = this._resources[0];
                this._resources[0] = t,
                this.fire("change", this, "resource", t, e)
            }
        }),
        Object.defineProperty(Jn.prototype, "resources", {
            get: function() {
                return this._resources
            },
            set: function(t) {
                var e = this._resources;
                this._resources = t,
                this.fire("change", this, "resources", t, e)
            }
        }),
        Object.defineProperty(Jn.prototype, "preload", {
            get: function() {
                return this._preload
            },
            set: function(t) {
                t = !!t,
                this._preload !== t && (this._preload = t,
                this._preload && !this.loaded && !this.loading && this.registry && this.registry.push(this))
            }
        }),
        {
            Zf: Jn,
            rm: "animation",
            am: "audio",
            hm: "image",
            cm: "json",
            om: "model",
            um: "material",
            fm: "text",
            dm: "texture",
            lm: "cubemap",
            bm: "shader",
            vm: "css",
            mm: "html",
            gm: "script",
            Bl: Qn
        })),
        Object.assign(n, (qn = [],
        Zn = function(t) {
            this.asset = t
        }
        ,
        ($n = function(t) {
            var e = "_" + t;
            qn.push(e),
            Object.defineProperty(Zn.prototype, t, {
                get: function() {
                    return this[e] || null
                },
                set: function(i) {
                    var s, n;
                    (!!this[e] !== !!i || this[e] && i && this[e].hash !== i.hash) && (i ? (this.asset.loaded[t] = !1,
                    this.asset.loading[t] = !1,
                    this[e] = {
                        type: t,
                        url: i.url,
                        filename: i.filename,
                        size: i.size,
                        hash: i.hash,
                        opt: i.opt || 0
                    }) : this[e] = null,
                    this.asset.file && (this.asset.fire("change", this.asset, "file", this.asset._file, this.asset._file),
                    this.asset.reload()))
                }
            })
        }
        )("dxt"),
        $n("pvr"),
        $n("etc1"),
        $n("etc2"),
        Zn.prototype.clear = function() {
            for (var t = 0; t < qn.length; t++)
                this[qn[t]] = null
        }
        ,
        {
            pm: Zn
        })),
        Object.assign(n, (tr = function(t) {
            this._loader = t,
            this._assets = [],
            this._cache = {},
            this._names = {},
            this._uids = {},
            this._tags = new n.TagsCache("_id"),
            this._urls = {},
            this._queue = [],
            this.prefix = null,
            this.useTextureCompression = !1,
            this.useTextureSize = 0,
            this.useTextureVariantStrategy = 0,
            this.currentLoadings = 0,
            this.maximumLoadings = 1 / 0,
            Object.assign(this, n.K)
        }
        ,
        Object.assign(tr.prototype, {
            list: function(t) {
                return t = t || {},
                this._assets.filter(function(e) {
                    var i = !0;
                    return void 0 !== t.preload && (i = e.preload === t.preload),
                    i
                })
            },
            add: function(t) {
                var e = this, i = this._assets.push(t) - 1, s;
                this._cache[t.id] = i,
                this._names[t.name] || (this._names[t.name] = []),
                this._uids[t.uid] || (this._uids[t.uid] = []),
                this._names[t.name].push(i),
                this._uids[t.uid].push(i),
                t.file && (s = t.file.url,
                this._urls[s] = i),
                t.registry = this,
                this._tags.addItem(t),
                t.tags.on("add", this._onTagAdd, this),
                t.tags.on("remove", this._onTagRemove, this),
                t.variants.forEach(function(t) {
                    e.add(t)
                }),
                this.fire("add", t),
                this.fire("add:" + t.id, t),
                s && this.fire("add:url:" + s, t),
                !n.app.enableGTC && t.preload && this.load(t)
            },
            remove: function(t) {
                var e = this._cache[t.id]
                  , i = t.file ? t.file.url : null;
                if (void 0 !== e) {
                    this._assets.splice(e, 1),
                    delete this._cache[t.id],
                    this._names = {},
                    this._urls = [];
                    for (var s = 0, n = this._assets.length; s < n; s++) {
                        var r = this._assets[s];
                        this._cache[r.id] = s,
                        this._names[r.name] || (this._names[r.name] = []),
                        this._names[r.name].push(s),
                        r.file && (this._urls[r.file.url] = s)
                    }
                    return this._tags.removeItem(t),
                    t.tags.off("add", this._onTagAdd, this),
                    t.tags.off("remove", this._onTagRemove, this),
                    t.fire("remove", t),
                    this.fire("remove", t),
                    this.fire("remove:" + t.id, t),
                    i && this.fire("remove:url:" + i, t),
                    !0
                }
                return !1
            },
            get: function(t) {
                var e = this._cache[t];
                return this._assets[e]
            },
            getByUid: function(t) {
                var e = this._uids[t];
                return this._assets[e]
            },
            getByUrl: function(t) {
                var e = this._urls[t];
                return this._assets[e]
            },
            load: function(t) {
                if (!t.loading) {
                    var e = this;
                    if (t.loaded)
                        "cubemap" === t.type && e._loader.patch(t, this);
                    else {
                        var i = !!t.file
                          , s = t.getPreferredFile()
                          , r = function() {
                            var i = t.getFileUrl();
                            t.loading = !0,
                            e._loader.load(i, t.type, function(i, r, a) {
                                if (t.loaded = !0,
                                t.loading = !1,
                                i)
                                    return e.fire("error", i, t),
                                    e.fire("error:" + t.id, i, t),
                                    void t.fire("error", i, t);
                                if (r instanceof Array ? t.resources = r : t.resource = r,
                                !n.script.legacy && "script" === t.type) {
                                    var h = e._loader.Tl("script");
                                    h._cache[t.id] && h._cache[t.id].parentNode === document.head && document.head.removeChild(h._cache[t.id]),
                                    h._cache[t.id] = a
                                }
                                e._loader.patch(t, e),
                                e.fire("load", t),
                                e.fire("load:" + t.id, t),
                                t.parent && (e.fire("load:" + t.parent.id, t),
                                t.parent.fire("load", t)),
                                s && s.url && e.fire("load:url:" + s.url, t),
                                t.fire("load", t),
                                n.app.rd = !0
                            }, t)
                        }
                          , a = function() {
                            var i = e._loader.open(t.type, t.data);
                            i instanceof Array ? t.resources = i : t.resource = i,
                            t.loaded = !0,
                            e._loader.patch(t, e),
                            e.fire("load", t),
                            e.fire("load:" + t.id, t),
                            s && s.url && e.fire("load:url:" + s.url, t),
                            t.fire("load", t)
                        };
                        if (s && "cubemap" === t.type) {
                            i = !1;
                            var h = t.getFileUrl();
                            this._loader.load(h, "texture", function(i, s) {
                                i ? (e.fire("error", i, t),
                                e.fire("error:" + t.id, i, t),
                                t.fire("error", i, t)) : (e._loader.patch({
                                    resource: s,
                                    type: "texture",
                                    data: t.data
                                }, e),
                                t._dds = s,
                                a())
                            })
                        }
                        s ? i && (this.fire("load:start", t),
                        this.fire("load:" + t.id + ":start", t),
                        r()) : a()
                    }
                }
            },
            push: function(t) {
                this._queue.push(t),
                this.loadNext()
            },
            loadNext: function() {
                if (0 !== this._queue.length && this.currentLoadings !== this.maximumLoadings) {
                    var t = this
                      , e = this._queue.shift();
                    e.loaded || e.loading ? this.loadNext() : (this.currentLoadings++,
                    e.once("load", function() {
                        t.currentLoadings--,
                        t.loadNext()
                    }),
                    e.once("error", function() {
                        t.currentLoadings--,
                        t.loadNext()
                    }),
                    this.load(e))
                }
            },
            loadFromUrl: function(t, e, i) {
                var s = this
                  , r = n.path.getBasename(t)
                  , a = {
                    url: t
                }
                  , h = {}
                  , c = this.getByUrl(t);
                c || (c = new n.Zf(r,e,a,h),
                this.add(c)),
                "model" !== e ? (c.once("load", function(t) {
                    i(null, t)
                }),
                c.once("error", function(t) {
                    i(t)
                }),
                this.load(c)) : this._loadModel(c, i)
            },
            _loadModel: function(t, e) {
                var i = this
                  , s = t.getFileUrl()
                  , r = n.path.getDirectory(s)
                  , a = n.path.getBasename(s)
                  , h = n.path.getExtension(s)
                  , c = function(s) {
                    t.once("load", function(t) {
                        e(null, t)
                    }),
                    t.once("error", function(t) {
                        e(t)
                    }),
                    i.load(s)
                };
                if (".json" === h) {
                    var o = n.path.join(r, a.replace(".json", ".mapping.json"));
                    this._loader.load(o, "json", function(e, s) {
                        if (e)
                            return t.data = {
                                mapping: []
                            },
                            void c(t);
                        i._loadMaterials(r, s, function(e, i) {
                            t.data = s,
                            c(t)
                        })
                    })
                } else
                    c(t)
            },
            _loadMaterials: function(t, e, i) {
                var s = this, r, a = e.mapping.length, h = [], c = function(t, e) {
                    s._loadTextures(e, function(t, s) {
                        i(null, e)
                    })
                };
                0 === a && i(null, h);
                var o = function(t, e) {
                    h.push(e),
                    0 == --a && c(null, h)
                };
                for (r = 0; r < e.mapping.length; r++) {
                    var u = e.mapping[r].path;
                    u ? (u = n.path.join(t, u),
                    s.loadFromUrl(u, "material", o)) : a--
                }
            },
            _loadTextures: function(t, e) {
                var i = this, s, r = {}, a = [], h = [], c = 0;
                for (s = 0; s < t.length; s++) {
                    var o = t[s].data;
                    if ("path" === o.mappingFormat)
                        for (var u = t[s].getFileUrl(), f = n.path.getDirectory(u), d, l = 0; l < n.Sn.TEXTURE_PARAMETERS.length; l++) {
                            var b = n.Sn.TEXTURE_PARAMETERS[l];
                            if (o[b]) {
                                var v = o[b];
                                r[d = n.path.join(f, v)] || (r[d] = !0,
                                a.push(d),
                                c++)
                            }
                        }
                }
                if (c) {
                    var m = function(t, i) {
                        h.push(i),
                        0 == --c && e(null, h)
                    };
                    for (s = 0; s < a.length; s++)
                        this.loadFromUrl(a[s], "texture", m)
                } else
                    e(null, h)
            },
            findAll: function(t, e) {
                var i = this
                  , s = this._names[t];
                if (s) {
                    var n = s.map(function(t) {
                        return i._assets[t]
                    });
                    return e ? n.filter(function(t) {
                        return t.type === e
                    }) : n
                }
                return []
            },
            _onTagAdd: function(t, e) {
                this._tags.add(t, e)
            },
            _onTagRemove: function(t, e) {
                this._tags.remove(t, e)
            },
            findByTag: function() {
                return this._tags.find(arguments)
            },
            filter: function(t) {
                for (var e = [], i = 0, s = this._assets.length; i < s; i++)
                    t(this._assets[i]) && e.push(this._assets[i]);
                return e
            },
            find: function(t, e) {
                var i = this.findAll(t, e);
                return i ? i[0] : null
            },
            wm: function(t) {
                return this.get(t)
            }
        }),
        {
            ld: tr
        })),
        Object.assign(n, ((er = function(t, e, i, s, n) {
            this.propertyName = t,
            this.parent = e,
            this._scope = n,
            this._registry = i,
            this.id = null,
            this.url = null,
            this.asset = null,
            this._onAssetLoad = s.load,
            this._onAssetAdd = s.add,
            this._onAssetRemove = s.remove
        }
        ).prototype._bind = function() {
            this.id && (this._onAssetLoad && this._registry.on("load:" + this.id, this._onLoad, this),
            this._onAssetAdd && this._registry.once("add:" + this.id, this._onAdd, this),
            this._onAssetRemove && this._registry.on("remove:" + this.id, this._onRemove, this)),
            this.url && (this._onAssetLoad && this._registry.on("load:url:" + this.url, this._onLoad, this),
            this._onAssetAdd && this._registry.once("add:url:" + this.url, this._onAdd, this),
            this._onAssetRemove && this._registry.on("remove:url:" + this.url, this._onRemove, this))
        }
        ,
        er.prototype._unbind = function() {
            this.id && (this._onAssetLoad && this._registry.off("load:" + this.id, this._onLoad, this),
            this._onAssetAdd && this._registry.off("add:" + this.id, this._onAdd, this),
            this._onAssetRemove && this._registry.off("remove:" + this.id, this._onRemove, this)),
            this.url && (this._onAssetLoad && this._registry.off("load:" + this.url, this._onLoad, this),
            this._onAssetAdd && this._registry.off("add:" + this.url, this._onAdd, this),
            this._onAssetRemove && this._registry.off("remove:" + this.url, this._onRemove, this))
        }
        ,
        er.prototype._onLoad = function(t) {
            this._onAssetLoad.call(this._scope, this.propertyName, this.parent, t)
        }
        ,
        er.prototype._onAdd = function(t) {
            this._onAssetAdd.call(this._scope, this.propertyName, this.parent, t)
        }
        ,
        er.prototype._onRemove = function(t) {
            this._onAssetRemove.call(this._scope, this.propertyName, this.parent, t)
        }
        ,
        Object.defineProperty(er.prototype, "id", {
            get: function() {
                return this._id
            },
            set: function(t) {
                if (this.url)
                    throw Error("Can't set id and url");
                this._unbind(),
                this._id = t,
                this.asset = this._registry.get(this._id),
                this._bind()
            }
        }),
        Object.defineProperty(er.prototype, "url", {
            get: function() {
                return this._url
            },
            set: function(t) {
                if (this.id)
                    throw Error("Can't set id and url");
                this._unbind(),
                this._url = t,
                this.asset = this._registry.getByUrl(this._url),
                this._bind()
            }
        }),
        {
            AssetReference: er
        })),
        Object.assign(n, {
            inherits: function(t, e) {
                var i = function() {}
                  , s = function(i, s, n, r, a, h, c, o) {
                    e.call(this, i, s, n, r, a, h, c, o),
                    t.call(this, i, s, n, r, a, h, c, o)
                };
                return s._super = e.prototype,
                i.prototype = e.prototype,
                s.prototype = new i,
                s
            }
        }),
        n.anim = {
            Rc: n.Rc,
            Lc: n.Lc,
            Node: n.Node,
            Nc: n.Nc
        },
        n.asset = {
            rm: "animation",
            am: "audio",
            hm: "image",
            cm: "json",
            om: "model",
            um: "material",
            fm: "text",
            dm: "texture",
            lm: "cubemap",
            gm: "script"
        },
        n.audio = {
            Uc: n.Vc,
            Fc: n.Fc,
            kc: n.kc,
            Listener: n.Listener,
            Hc: n.Hc
        },
        n.fw = {
            Ir: n.Ir,
            Component: n.Component,
            Ll: n.Ll,
            Cl: n.Cl,
            Entity: n.Entity,
            FillMode: {
                NONE: n.Pl,
                FILL_WINDOW: n.Ol,
                KEEP_ASPECT: n.ad
            },
            ResolutionMode: {
                AUTO: n.Jf,
                FIXED: n.od
            }
        },
        Object.assign(n.gfx, {
            Bn: n.Bn,
            In: n.In,
            dn: n.dn,
            xm: n.xm,
            Device: n.zn,
            un: n.un,
            Pn: n.Pn,
            An: n.An,
            en: n.en,
            Mn: n.Mn,
            yn: n.yn,
            xn: n.xn,
            zm: n.zm,
            hn: n.hn,
            an: n.an,
            rn: n.rn
        }),
        function() {
            function t(t) {
                this.name = "UnsupportedBrowserError",
                this.message = t || ""
            }
            function e(t) {
                this.name = "ContextCreationError",
                this.message = t || ""
            }
            t.prototype = Error.prototype,
            e.prototype = Error.prototype,
            n.xm = e,
            n.zm = t
        }(),
        Object.assign(n.input, {
            Uf: n.Uf,
            Hf: n.Hf,
            kf: n.kf,
            Ff: n.Ff,
            KeyboardEvent: n.KeyboardEvent,
            Nf: n.Nf,
            MouseEvent: n.MouseEvent,
            Touch: n.Touch,
            Vf: n.Vf,
            TouchEvent: n.TouchEvent
        }),
        n.I._m = Math.LOG2E,
        n.I.Am = n.I.T,
        n.I.ym = n.I.it,
        n.posteffect = {
            Aa: n.Aa,
            Ma: n.Ma,
            ya: n.ya,
            Hl: n.Hl
        },
        Object.assign(n.scene, {
            gc: n.gc,
            Mm: {
                yc: n.yc,
                Mc: n.Mc,
                Sc: n.Sc,
                Oc: n.Oc,
                Ec: n.Ec,
                Dc: n.Dc,
                Tc: n.Tc,
                Pc: n.Pc,
                Wh: n.Wh
            },
            uc: n.uc,
            fc: n.fc,
            sc: n.sc,
            Gh: n.Gh,
            Vh: n.Vh,
            dc: n.dc,
            Mesh: n.Mesh,
            Yh: n.Yh,
            Xh: n.Xh,
            zc: n.zc,
            Sm: n.Sn,
            Picker: n.Picker,
            PickMaterial: n.PickMaterial,
            Projection: {
                Cm: n.$a,
                Om: n.Za
            },
            Kh: n.Kh,
            vc: n.vc,
            mc: n.mc
        }),
        n.shape = {
            Aabb: n.jt,
            Sphere: n.Vt,
            Yt: n.Yt
        },
        n.time = {
            now: n.now,
            Timer: n.Timer
        },
        n.Sm = n.Sn,
        n.Vt.prototype.intersectRay = n.Vt.prototype.Nt,
        n.Em = n.Le,
        n.Dm = n.Ne,
        n.Tm = n.Fe,
        n.Pm = n.ke,
        n.Bm = n.Ue,
        n.Im = n.Ve,
        n.jm = n.He,
        Object.defineProperty(n.dn, "transformSkinnedVS", {
            get: function() {
                return "#define SKIN\n" + n.dn.transformVS
            }
        }),
        Object.defineProperty(n.pt.prototype, "data", {
            get: function() {
                return this._data || (this._data = new Float32Array(2)),
                this._data[0] = this.x,
                this._data[1] = this.y,
                this._data
            }
        }),
        Object.defineProperty(n.ut.prototype, "data", {
            get: function() {
                return this._data || (this._data = new Float32Array(3)),
                this._data[0] = this.x,
                this._data[1] = this.y,
                this._data[2] = this.z,
                this._data
            }
        }),
        Object.defineProperty(n.wt.prototype, "data", {
            get: function() {
                return this._data || (this._data = new Float32Array(4)),
                this._data[0] = this.x,
                this._data[1] = this.y,
                this._data[2] = this.z,
                this._data[3] = this.w,
                this._data
            }
        }),
        Object.defineProperty(n.D.prototype, "data", {
            get: function() {
                return this._data || (this._data = new Float32Array(4)),
                this._data[0] = this.r,
                this._data[1] = this.g,
                this._data[2] = this.b,
                this._data[3] = this.a,
                this._data
            }
        }),
        Object.defineProperty(n.D.prototype, "data3", {
            get: function() {
                return this._data3 || (this._data3 = new Float32Array(3)),
                this._data3[0] = this.r,
                this._data3[1] = this.g,
                this._data3[2] = this.b,
                this._data3
            }
        }),
        n.Vh.prototype.getName = function() {
            return this.name
        }
        ,
        n.Vh.prototype.setName = function(t) {
            this.name = t
        }
        ,
        n.Vh.prototype.getShader = function() {
            return this.shader
        }
        ,
        n.Vh.prototype.setShader = function(t) {
            this.shader = t
        }
        ,
        n.Gh.prototype._dirtify = function(t) {
            t ? this._dirtifyLocal() : this._dirtifyWorld()
        }
        ,
        n.extend(n.Ir.prototype, function() {
            var t = new n.Gh
              , e = new n.Gh
              , i = []
              , s = !1
              , r = function(t) {
                this.lineVertexFormat = new n.an(t,[{
                    semantic: n.Yi,
                    components: 3,
                    type: n.He
                }, {
                    semantic: n.qi,
                    components: 4,
                    type: n.Ne,
                    normalize: !0
                }]),
                this.lineBatches = [],
                this.layers = [],
                this.layerToBatch = {},
                this.quadMesh = null,
                this.cubeLocalPos = null,
                this.cubeWorldPos = null,
                this.identityGraphNode = new n.Gh
            };
            r.prototype.addLayer = function(t) {
                this.layers.indexOf(t) < 0 && this.layers.push(t)
            }
            ,
            r.prototype.getLayerIdx = function(t) {
                return this.layerToBatch[t.id]
            }
            ,
            r.prototype.addLayerIdx = function(t, e) {
                this.layerToBatch[e.id] = t
            }
            ;
            var a = function() {
                this.numLinesAllocated = 128,
                this.vb = null,
                this.vbRam = null,
                this.mesh = null,
                this.linesUsed = 0,
                this.material = null,
                this.meshInstance = null,
                this.layer = null
            };
            function h() {
                this._immediateData || (this._immediateData = new r(this.Br),
                this.on("prerender", this.Rm, this),
                this.on("postrender", this._postRenderImmediate, this))
            }
            function c(t, e, i) {
                void 0 === i.layer && (i.layer = this.scene.layers.getLayerById(n.LAYERID_IMMEDIATE)),
                void 0 === i.depthTest && (i.depthTest = !0),
                this._initImmediate();
                var s = i.layer;
                this._immediateData.addLayer(s);
                var r = this._immediateData.getLayerIdx(s);
                if (void 0 === r) {
                    var h = new a;
                    h.init(this.Br, this._immediateData.lineVertexFormat, s, t.length / 2),
                    h.material.depthTest = i.depthTest,
                    i.mask && (h.meshInstance.mask = i.mask),
                    r = this._immediateData.lineBatches.push(h) - 1,
                    this._immediateData.addLayerIdx(r, s)
                } else
                    this._immediateData.lineBatches[r].init(this.Br, this._immediateData.lineVertexFormat, s, t.length / 2),
                    this._immediateData.lineBatches[r].material.depthTest = i.depthTest,
                    i.mask && (this._immediateData.lineBatches[r].meshInstance.mask = i.mask);
                this._immediateData.lineBatches[r].addLines(t, e)
            }
            function o(t, e, i) {
                var r = i, a, h = arguments[3], c = arguments[4];
                h instanceof n.D ? (r = h,
                "number" == typeof c ? (s || (s = !0),
                a = c === n.yh ? {
                    layer: this.scene.layers.getLayerById(n.LAYERID_IMMEDIATE),
                    depthTest: !1
                } : {
                    layer: this.scene.layers.getLayerById(n.LAYERID_IMMEDIATE),
                    depthTest: !0
                }) : a = c) : "number" == typeof h ? (s || (s = !0),
                r = i,
                a = h === n.yh ? {
                    layer: this.scene.layers.getLayerById(n.LAYERID_IMMEDIATE),
                    depthTest: !1
                } : {
                    layer: this.scene.layers.getLayerById(n.LAYERID_IMMEDIATE),
                    depthTest: !0
                }) : a = h || {
                    layer: this.scene.layers.getLayerById(n.LAYERID_IMMEDIATE),
                    depthTest: !0
                },
                this.Lm([t, e], [i, r], a)
            }
            function u(t, e, i) {
                var r;
                i ? "number" == typeof i && (s || (s = !0),
                i = i === n.yh ? {
                    layer: this.scene.layers.getLayerById(n.LAYERID_IMMEDIATE),
                    depthTest: !1
                } : {
                    layer: this.scene.layers.getLayerById(n.LAYERID_IMMEDIATE),
                    depthTest: !0
                }) : i = {
                    layer: this.scene.layers.getLayerById(n.LAYERID_IMMEDIATE),
                    depthTest: !0
                },
                !!e.length && t.length !== e.length || t.length % 2 == 0 && this.Lm(t, e, i)
            }
            function f(t, e, i) {
                var s;
                if (this._initImmediate(),
                !this._immediateData.cubeLocalPos) {
                    var r = .5;
                    this._immediateData.cubeLocalPos = [new n.ut(-r,-r,-r), new n.ut(-r,r,-r), new n.ut(r,r,-r), new n.ut(r,-r,-r), new n.ut(-r,-r,r), new n.ut(-r,r,r), new n.ut(r,r,r), new n.ut(r,-r,r)],
                    this._immediateData.cubeWorldPos = [new n.ut, new n.ut, new n.ut, new n.ut, new n.ut, new n.ut, new n.ut, new n.ut]
                }
                var a = this._immediateData.cubeLocalPos
                  , h = this._immediateData.cubeWorldPos;
                for (s = 0; s < 8; s++)
                    t.transformPoint(a[s], h[s]);
                this.Nm([h[0], h[1], h[1], h[2], h[2], h[3], h[3], h[0], h[4], h[5], h[5], h[6], h[6], h[7], h[7], h[4], h[0], h[4], h[1], h[5], h[2], h[6], h[3], h[7]], e, i)
            }
            function d() {
                for (var t = 0; t < this._immediateData.lineBatches.length; t++)
                    this._immediateData.lineBatches[t] && this._immediateData.lineBatches[t].finalize()
            }
            function l() {
                for (var t = 0; t < this._immediateData.layers.length; t++)
                    this._immediateData.layers[t].clearMeshInstances(!0);
                this._immediateData.layers.length = 0
            }
            function b(t, e) {
                e || (e = {
                    layer: this.scene.layers.getLayerById(n.LAYERID_IMMEDIATE)
                }),
                this._initImmediate(),
                this._immediateData.addLayer(e.layer),
                i[0] = t,
                e.layer.addMeshInstances(i, !0)
            }
            function v(e, s, r, a) {
                a || (a = {
                    layer: this.scene.layers.getLayerById(n.LAYERID_IMMEDIATE)
                }),
                this._initImmediate(),
                t.worldTransform = r,
                t._dirtyWorld = t._dirtyNormal = !1;
                var h = new n.Yh(t,e,s);
                h.cull = !1,
                a.mask && (h.mask = a.mask),
                this._immediateData.addLayer(a.layer),
                i[0] = h,
                a.layer.addMeshInstances(i, !0)
            }
            function m(e, s, r) {
                if (r || (r = {
                    layer: this.scene.layers.getLayerById(n.LAYERID_IMMEDIATE)
                }),
                this._initImmediate(),
                !this._immediateData.quadMesh) {
                    var a = new n.an(this.Br,[{
                        semantic: n.Yi,
                        components: 3,
                        type: n.He
                    }])
                      , h = new n.hn(this.Br,a,4)
                      , c = new n.rn(h);
                    c.element[n.Yi].set(-.5, -.5, 0),
                    c.next(),
                    c.element[n.Yi].set(.5, -.5, 0),
                    c.next(),
                    c.element[n.Yi].set(-.5, .5, 0),
                    c.next(),
                    c.element[n.Yi].set(.5, .5, 0),
                    c.end(),
                    this._immediateData.quadMesh = new n.Mesh,
                    this._immediateData.quadMesh.nn = h,
                    this._immediateData.quadMesh.Zh[0].type = n.Gi,
                    this._immediateData.quadMesh.Zh[0].base = 0,
                    this._immediateData.quadMesh.Zh[0].count = 4,
                    this._immediateData.quadMesh.Zh[0].indexed = !1
                }
                t.worldTransform = e,
                t._dirtyWorld = t._dirtyNormal = !1;
                var o = new n.Yh(t,this._immediateData.quadMesh,s);
                o.cull = !1,
                i[0] = o,
                this._immediateData.addLayer(r.layer),
                r.layer.addMeshInstances(i, !0)
            }
            function g() {
                lineVertexFormat = null,
                lineBatches = []
            }
            return a.prototype = {
                init: function(t, i, s, r) {
                    for (this.mesh || (this.mesh = new n.Mesh,
                    this.mesh.Zh[0].type = n.ki,
                    this.mesh.Zh[0].base = 0,
                    this.mesh.Zh[0].indexed = !1,
                    this.material = new n.uc,
                    this.material.vertexColors = !0,
                    this.material.blend = !0,
                    this.material.blendType = n.$r,
                    this.material.update()),
                    this.layer = s; this.linesUsed + r > this.numLinesAllocated; )
                        this.vb && (this.vb.destroy(),
                        this.vb = null),
                        this.numLinesAllocated *= 2;
                    this.vertexFormat = i,
                    this.vb || (this.vb = new n.hn(t,i,2 * this.numLinesAllocated,n.ze),
                    this.mesh.nn = this.vb,
                    this.vbRam = new DataView(this.vb.lock()),
                    this.meshInstance || (e.worldTransform = n.zt.IDENTITY,
                    e._dirtyWorld = e._dirtyNormal = !1,
                    this.meshInstance = new n.Yh(e,this.mesh,this.material),
                    this.meshInstance.cull = !1))
                },
                addLines: function(t, e) {
                    for (var i = !!e.length, s = 2 * this.linesUsed * this.vertexFormat.size, n, r = 0; r < t.length; r++)
                        this.vbRam.setFloat32(s, t[r].x, !0),
                        s += 4,
                        this.vbRam.setFloat32(s, t[r].y, !0),
                        s += 4,
                        this.vbRam.setFloat32(s, t[r].z, !0),
                        s += 4,
                        n = i ? e[r] : e,
                        this.vbRam.setUint8(s, 255 * n.r),
                        s += 1,
                        this.vbRam.setUint8(s, 255 * n.g),
                        s += 1,
                        this.vbRam.setUint8(s, 255 * n.b),
                        s += 1,
                        this.vbRam.setUint8(s, 255 * n.a),
                        s += 1;
                    this.linesUsed += t.length / 2
                },
                finalize: function() {
                    this.linesUsed > 0 && (this.vb.setData(this.vbRam.buffer),
                    this.mesh.Zh[0].count = 2 * this.linesUsed,
                    i[0] = this.meshInstance,
                    this.layer.addMeshInstances(i, !0),
                    this.linesUsed = 0)
                }
            },
            {
                Fm: b,
                km: v,
                Um: o,
                Nm: u,
                Vm: m,
                Hm: f,
                destroyLines: g,
                Lm: c,
                _initImmediate: h,
                Rm: d,
                _postRenderImmediate: l
            }
        }()),
        Object.assign(n, function() {
            var t = 2048, e = 2, i = 4, s = [], r = [], a, h = new n.ut, c = new n.jt, o = new n.jt, u = {}, f = 0, d = 1, l = ["texture_lightMap", "texture_dirLightMap"], b = [];
            function v(t, e, i, s) {
                if (t.enabled) {
                    var n;
                    if (t.model && t.model.model && t.model.enabled && (s && s.push(t),
                    t.model.lightmapped && e)) {
                        var r = !0
                          , a = t.model.model.meshInstances;
                        for (n = 0; n < a.length; n++)
                            if (!a[n].mesh.nn.format.hasUv1) {
                                r = !1;
                                break
                            }
                        if (r) {
                            var h, c, o = [];
                            for (n = 0; n < a.length; n++) {
                                for (c = !1,
                                h = 0; h < a.length; h++)
                                    n !== h && a[n].mesh === a[h].mesh && (c = !0);
                                c ? (e.push(t),
                                i.push([a[n]])) : o.push(a[n])
                            }
                            o.length > 0 && (e.push(t),
                            i.push(o))
                        }
                    }
                    for (n = 0; n < t._children.length; n++)
                        v(t._children[n], e, i, s)
                }
            }
            var m = function(t, e, i, s, n) {
                this.device = t,
                this.root = e,
                this.scene = i,
                this.renderer = s,
                this.assets = n
            };
            return Object.assign(m.prototype, {
                destroy: function() {
                    this.device = null,
                    this.root = null,
                    this.scene = null,
                    this.renderer = null,
                    this.assets = null
                },
                calculateLightmapSize: function(t) {
                    var e, i, s = this.scene.lightmapSizeMultiplier || 16, r = h, a = {
                        x: 1,
                        y: 1,
                        z: 1,
                        uv: 1
                    };
                    t.model.asset ? (e = this.assets.get(t.model.asset).data).area && (a.x = e.area.x,
                    a.y = e.area.y,
                    a.z = e.area.z,
                    a.uv = e.area.uv) : t.model._area && (e = t.model)._area && (a.x = e._area.x,
                    a.y = e._area.y,
                    a.z = e._area.z,
                    a.uv = e._area.uv);
                    var c = t.model.lightmapSizeMultiplier || 1;
                    for (a.x *= c,
                    a.y *= c,
                    a.z *= c,
                    r.copy(t.localScale),
                    i = t._parent; i; )
                        r.mul(i.localScale),
                        i = i._parent;
                    r.x = Math.abs(r.x),
                    r.y = Math.abs(r.y),
                    r.z = Math.abs(r.z),
                    r.x = Math.abs(r.x),
                    r.y = Math.abs(r.y),
                    r.z = Math.abs(r.z);
                    var o = a.x * r.y * r.z + a.y * r.x * r.z + a.z * r.x * r.y;
                    return o /= a.uv,
                    o = Math.sqrt(o),
                    Math.min(n.I.ht(o * s), this.scene.lightmapMaxResolution || 2048)
                },
                bake: function(t, e) {
                    var i, f, d = this.device, m = this.scene, g = 1, p;
                    void 0 === e && (e = n.jh),
                    e === n.jh && (g = 2);
                    var w = []
                      , x = [];
                    if (t) {
                        var z;
                        for (i = r.length - 1; i >= 0; i--)
                            for (f = 0; f < t.length; f++)
                                if (r[i] === t[f]) {
                                    for (z = 0; z < s[i].length; z++)
                                        s[i][z].destroy();
                                    s.splice(i, 1),
                                    r.splice(i, 1)
                                }
                        var _ = [];
                        for (i = 0; i < t.length; i++)
                            v(t[i], _, x);
                        t = _,
                        v(this.root, null, null, w)
                    } else {
                        for (i = 0; i < s.length; i++)
                            for (f = 0; f < s[i].length; f++)
                                s[i][f].destroy();
                        s = [],
                        r = [],
                        t = [],
                        v(this.root, t, x, w)
                    }
                    if (0 !== t.length) {
                        var A = !1;
                        m._needsStaticPrepare && (m._needsStaticPrepare = !1,
                        A = !0);
                        var y = [], M = [[], []], S = {}, C, O, E = new n.xn(this.device,{
                            width: 4,
                            height: 4,
                            format: n.vi,
                            rgbm: !0
                        });
                        for (E.name = "lightmap",
                        i = 0; i < t.length; i++) {
                            for (C = this.calculateLightmapSize(t[i]),
                            y.push(C),
                            p = 0; p < g; p++)
                                (O = new n.xn(d,{
                                    width: C,
                                    height: C,
                                    format: n.vi,
                                    mipmaps: !1,
                                    rgbm: 0 === p,
                                    minFilter: n.Ge,
                                    magFilter: n.Ge
                                })).name = "lightmap",
                                M[p].push(O);
                            if (!S[C]) {
                                var D = new n.xn(d,{
                                    width: C,
                                    height: C,
                                    format: n.vi,
                                    mipmaps: !1,
                                    rgbm: !0,
                                    minFilter: n.Ge,
                                    magFilter: n.Ge
                                });
                                D.name = "lightmap";
                                var T = new n.An(d,D,{
                                    depth: !1
                                });
                                S[C] = T
                            }
                        }
                        var P = m.layers;
                        P._update();
                        var B = [], I = [], j = [], R = [], L = P._lights, N;
                        for (i = 0; i < L.length; i++)
                            L[i]._enabled && 0 != (4 & (N = L[i]._mask)) && (I.push(N),
                            j.push(L[i].shadowUpdateMode),
                            L[i]._mask = 4294967295,
                            L[i].shadowUpdateMode = L[i]._type === n.ca ? n.Oh : n.Ch,
                            B.push(L[i]),
                            L[i].isStatic = !1),
                            R.push(L[i]._enabled),
                            L[i].enabled = !1;
                        var F = n.dn
                          , k = "#define UV1LAYOUT\n" + F.transformVS
                          , U = F.bakeLmEndPS
                          , V = F.dilatePS
                          , H = F.createShaderFromCode(d, F.fullscreenQuadVS, V, "lmDilate")
                          , G = d.scope.resolve("source")
                          , W = d.scope.resolve("pixelOffset")
                          , Y = d.scope.resolve("bakeDir")
                          , X = new Float32Array(2)
                          , K = P._meshInstances;
                        for (i = 0; i < K.length; i++)
                            K[i].node && K[i].node.getWorldTransform();
                        var Q = m.fog, J = m.ambientLight.r, q = m.ambientLight.g, Z = m.ambientLight.b, $, tt, et, it;
                        m.fog = n.Ta,
                        m.ambientLight.set(0, 0, 0),
                        a || ((a = new n.Qh)._node = new n.Gh,
                        a.clearColor[0] = 0,
                        a.clearColor[1] = 0,
                        a.clearColor[2] = 0,
                        a.clearColor[3] = 0,
                        a.clearDepth = 1,
                        a.clearFlags = n.ye,
                        a.clearStencil = null,
                        a.frustumCulling = !1);
                        var st = [], nt;
                        for (st.length = r.length,
                        $ = 0; $ < w.length; $++) {
                            for (et = w[$].model.model.meshInstances,
                            nt = [],
                            i = 0; i < et.length; i++)
                                nt.push(et[i]._shaderDefs),
                                et[i]._shaderDefs &= ~(n.ph | n.wh);
                            for (i = 0; i < r.length; i++)
                                if (r[i] === w[$]) {
                                    st[i] = nt;
                                    break
                                }
                        }
                        var rt = [], at = [], ht;
                        for ($ = 0; $ < w.length; $++)
                            if (rt[$] = w[$].model.castShadows,
                            w[$].model.castShadows = w[$].model.castShadowsLightmap,
                            w[$].model.castShadowsLightmap)
                                for (ht = w[$].model.meshInstances,
                                i = 0; i < ht.length; i++)
                                    ht[i].visibleThisFrame = !0,
                                    at.push(ht[i]);
                        this.renderer.Jh(at),
                        this.renderer.gpuUpdate(at);
                        var ct = [], ot = [], ut = [[], []], ft, dt, lt, bt, vt, mt = [], gt;
                        for (mt.length = t.length,
                        p = 0; p < g; p++)
                            b[p] || ((gt = new n.Sn).chunks.transformVS = k,
                            0 === p ? (gt.chunks.endPS = U,
                            gt.ambient = new n.D(0,0,0),
                            gt.ambientTint = !0,
                            gt.lightMap = E) : (gt.chunks.basePS = F.basePS + "\nuniform sampler2D texture_dirLightMap;\nuniform float bakeDir;\n",
                            gt.chunks.endPS = F.bakeDirLmEndPS),
                            gt.chunks.outputAlphaPS = "\n",
                            gt.chunks.outputAlphaOpaquePS = "\n",
                            gt.chunks.outputAlphaPremulPS = "\n",
                            gt.cull = n.Be,
                            gt.forceUv1 = !0,
                            gt.update(),
                            gt.Hh(d, m),
                            gt.name = "lmMaterial" + p,
                            b[p] = gt);
                        for ($ = 0; $ < t.length; $++) {
                            if (et = x[$],
                            mt[$] = 0,
                            et.length > 0)
                                for (c.copy(et[0].aabb),
                                i = 0; i < et.length; i++)
                                    et[i].node.getWorldTransform(),
                                    c.add(et[i].aabb);
                            var pt = new n.jt;
                            for (pt.copy(c),
                            ot.push(pt),
                            i = 0; i < et.length; i++)
                                (it = et[i])._shaderDefs &= ~(n.ph | n.wh),
                                it.mask = 4,
                                it.deleteParameter("texture_lightMap"),
                                it.deleteParameter("texture_dirLightMap"),
                                it.setParameter("texture_lightMap", it.material.lightMap ? it.material.lightMap : E),
                                it.setParameter("texture_dirLightMap", E);
                            for (p = 0; p < g; p++)
                                tt = M[p][$],
                                ft = new n.An(d,tt,{
                                    depth: !1
                                }),
                                ut[p].push(ft)
                        }
                        for (f = 0; f < B.length; f++)
                            B[f].enabled = !1;
                        var wt = [[], [], []], xt = !1, zt, _t;
                        for (i = 0; i < B.length; i++) {
                            for (B[i].enabled = !0,
                            zt = !1,
                            B[i]._cacheShadowMap = !0,
                            B[i]._type !== n.ca && (B[i]._node.getWorldTransform(),
                            B[i].getBoundingSphere(u),
                            o.center = u.center,
                            o.halfExtents.x = u.radius,
                            o.halfExtents.y = u.radius,
                            o.halfExtents.z = u.radius),
                            B[i]._type === n.sa && (bt = B[i],
                            (vt = this.renderer.getShadowCamera(d, bt))._node.setPosition(bt._node.getPosition()),
                            vt._node.setRotation(bt._node.getRotation()),
                            vt._node.rotateLocal(-90, 0, 0),
                            vt.projection = n.Za,
                            vt.nearClip = bt.attenuationEnd / 1e3,
                            vt.farClip = bt.attenuationEnd,
                            vt.aspectRatio = 1,
                            vt.fov = 2 * bt._outerConeAngle,
                            this.renderer.updateCameraFrustum(vt)),
                            x.length > 0 && this.renderer.Uh(x[0]),
                            $ = 0; $ < t.length; $++) {
                                if (et = x[$],
                                c = ot[$],
                                B[i]._type === n.ca) {
                                    h.copy(c.center),
                                    h.y += c.halfExtents.y,
                                    a._node.setPosition(h),
                                    a._node.setEulerAngles(-90, 0, 0);
                                    var At = Math.max(c.halfExtents.x, c.halfExtents.z);
                                    a.projection = n.$a,
                                    a.nearClip = 0,
                                    a.farClip = 2 * c.halfExtents.y,
                                    a.aspectRatio = 1,
                                    a.orthoHeight = At
                                } else if (!o.Rt(c))
                                    continue;
                                if (B[i]._type === n.sa) {
                                    var yt = !1;
                                    for (f = 0; f < et.length; f++)
                                        if (this.renderer._isVisible(vt, et[f])) {
                                            yt = !0;
                                            break
                                        }
                                    if (!yt)
                                        continue
                                }
                                for (B[i]._type === n.ca ? (wt[n.ca][0] = B[i],
                                wt[n.da].length = 0,
                                wt[n.sa].length = 0,
                                !zt && B[i].castShadows && (this.renderer.cullDirectionalShadowmap(B[i], at, a, 0),
                                this.renderer.renderShadows(wt[n.ca], 0),
                                zt = !0)) : (wt[n.ca].length = 0,
                                B[i]._type === n.da ? (wt[n.da][0] = B[i],
                                wt[n.sa].length = 0,
                                !zt && B[i].castShadows && (this.renderer.cullLocalShadowmap(B[i], at),
                                this.renderer.renderShadows(wt[n.da]),
                                zt = !0)) : (wt[n.da].length = 0,
                                wt[n.sa][0] = B[i],
                                !zt && B[i].castShadows && (this.renderer.cullLocalShadowmap(B[i], at),
                                this.renderer.renderShadows(wt[n.sa]),
                                zt = !0))),
                                f = 0; f < et.length; f++)
                                    ct[f] = et[f].material;
                                for (p = 0; p < g; p++) {
                                    for (tt = M[p][$],
                                    ft = ut[p][$],
                                    lt = (dt = S[tt.width]).colorBuffer,
                                    0 === p ? xt = m.Uh : xt && (m.Uh = !0),
                                    f = 0; f < et.length; f++)
                                        et[f].material = b[p];
                                    for (g > 1 && this.renderer.Uh(et),
                                    this.renderer.setCamera(a, dt, !0),
                                    1 === p && Y.setValue(B[i].bakeDir ? 1 : 0),
                                    this.renderer._forwardTime = 0,
                                    this.renderer._shadowMapTime = 0,
                                    this.renderer.renderForward(a, et, et.length, wt, n.Dn),
                                    M[p][$] = lt,
                                    ut[p][$] = dt,
                                    S[tt.width] = ft,
                                    f = 0; f < et.length; f++)
                                        (it = et[f]).setParameter(l[p], lt),
                                        it._shaderDefs |= n.ph
                                }
                                for (mt[$]++,
                                f = 0; f < et.length; f++)
                                    et[f].material = ct[f]
                            }
                            B[i].enabled = !1,
                            B[i]._cacheShadowMap = !1,
                            B[i]._isCachedShadowMap && B[i]._destroyShadowMap()
                        }
                        for ($ = 0; $ < t.length; $++) {
                            for (et = x[$],
                            _t = [],
                            p = 0; p < g; p++) {
                                tt = M[p][$],
                                ft = ut[p][$],
                                lt = (dt = S[tt.width]).colorBuffer;
                                var Mt = 4;
                                for (X[0] = 1 / tt.width,
                                X[1] = 1 / tt.height,
                                W.setValue(X),
                                i = 0; i < 4; i++)
                                    G.setValue(tt),
                                    n.Bn(d, dt, H),
                                    G.setValue(lt),
                                    n.Bn(d, ft, H);
                                for (i = 0; i < et.length; i++)
                                    (it = et[i]).mask = 2,
                                    et[i].setParameter(l[p], tt),
                                    1 === p && (et[i]._shaderDefs |= n.wh);
                                _t[p] = tt,
                                p === g - 1 && ft.destroy()
                            }
                            s.push(_t),
                            r.push(t[$])
                        }
                        for (var St in S)
                            S.hasOwnProperty(St) && (S[St].colorBuffer.destroy(),
                            S[St].destroy());
                        for (i = 0; i < s.length; i++)
                            for (f = 0; f < s[i].length; f++)
                                (O = s[i][f]).minFilter = n.We,
                                O.magFilter = n.We;
                        for ($ = 0; $ < w.length; $++)
                            w[$].model.castShadows = rt[$];
                        for (i = 0; i < st.length; i++)
                            if (st[i])
                                for (et = r[i].model.model.meshInstances,
                                f = 0; f < et.length; f++)
                                    et[f]._shaderDefs |= st[i][f] & (n.ph | n.wh);
                        for (i = 0; i < B.length; i++)
                            B[i]._mask = I[i],
                            B[i].shadowUpdateMode = j[i];
                        for (i = 0; i < L.length; i++)
                            L[i].enabled = R[i];
                        m.fog = Q,
                        m.ambientLight.set(J, q, Z),
                        A && (m._needsStaticPrepare = !0)
                    } else
                        d.fire("lightmapper:end", {
                            timestamp: n.now(),
                            target: this
                        })
                }
            }),
            {
                bd: m
            }
        }()),
        Object.assign(n, function() {
            var t = function(t, e, i) {
                this.origMeshInstances = t,
                this._aabb = new n.jt,
                this.meshInstance = null,
                this.model = null,
                this.dynamic = e,
                this.batchGroupId = i,
                this.refCounter = 0
            }
              , e = function(t, e, i, s, r) {
                this.dynamic = i,
                this.maxAabbSize = s,
                this.id = t,
                this.name = e,
                this.layers = void 0 === r ? [n.LAYERID_WORLD] : r
            }
              , i = function(t, e, i) {
                this.device = t,
                this.rootNode = i,
                this._dirty = !0,
                this.bones = e;
                var s = e.length, r;
                t.supportsBoneTextures ? (r = s > 256 ? 64 : s > 64 ? 32 : s > 16 ? 16 : 8,
                this.boneTexture = new n.xn(t,{
                    width: r,
                    height: r,
                    format: n.yi,
                    mipmaps: !1,
                    minFilter: n.Ge,
                    magFilter: n.Ge
                }),
                this.boneTexture.name = "batching",
                this.matrixPalette = this.boneTexture.lock()) : this.matrixPalette = new Float32Array(16 * s)
            };
            Object.assign(i.prototype, {
                updateMatrices: function() {},
                updateMatrixPalette: function() {
                    for (var t, e = this.matrixPalette, i, s = this.bones.length - 1; s >= 0; s--)
                        t = this.bones[s].getWorldTransform().data,
                        e[i = 16 * s] = t[0],
                        e[i + 1] = t[1],
                        e[i + 2] = t[2],
                        e[i + 3] = t[3],
                        e[i + 4] = t[4],
                        e[i + 5] = t[5],
                        e[i + 6] = t[6],
                        e[i + 7] = t[7],
                        e[i + 8] = t[8],
                        e[i + 9] = t[9],
                        e[i + 10] = t[10],
                        e[i + 11] = t[11],
                        e[i + 12] = t[12],
                        e[i + 13] = t[13],
                        e[i + 14] = t[14],
                        e[i + 15] = t[15];
                    this.device.supportsBoneTextures && (this.boneTexture.lock(),
                    this.boneTexture.unlock())
                }
            });
            var s = function(t, e, i) {
                this.device = t,
                this.rootNode = e,
                this.scene = i,
                this._init = !1,
                this._batchGroups = {},
                this._batchGroupCounter = 0,
                this._batchList = [],
                this._dirtyGroups = []
            };
            function r(t, e) {
                if (t && !e)
                    return !1;
                if (!t && e)
                    return !1;
                if ((t = t.data) === (e = e.data))
                    return !0;
                if (t instanceof Float32Array && e instanceof Float32Array) {
                    if (t.length !== e.length)
                        return !1;
                    for (var i = 0; i < t.length; i++)
                        if (t[i] !== e[i])
                            return !1;
                    return !0
                }
                return !1
            }
            return s.prototype.destroyManager = function() {
                this.device = null,
                this.rootNode = null,
                this.scene = null,
                this._batchGroups = {},
                this._batchList = [],
                this._dirtyGroups = []
            }
            ,
            s.prototype.addGroup = function(t, e, i, s, r) {
                var a;
                if (void 0 === s && (s = this._batchGroupCounter,
                this._batchGroupCounter++),
                !this._batchGroups[s])
                    return this._batchGroups[s] = a = new n.Gm(s,t,e,i,r),
                    a
            }
            ,
            s.prototype.removeGroup = function(t) {
                if (this._batchGroups[t]) {
                    for (var e = [], i = 0; i < this._batchList.length; i++)
                        this._batchList[i].batchGroupId === t ? this.destroy(this._batchList[i]) : e.push(this._batchList[i]);
                    this._batchList = e,
                    this._removeModelsFromBatchGroup(this.rootNode, t),
                    delete this._batchGroups[t]
                }
            }
            ,
            s.prototype.markGroupDirty = function(t) {
                this._dirtyGroups.indexOf(t) < 0 && this._dirtyGroups.push(t)
            }
            ,
            s.prototype.getGroupByName = function(t) {
                var e = this._batchGroups;
                for (var i in e)
                    if (e.hasOwnProperty(i) && e[i].name === t)
                        return e[i];
                return null
            }
            ,
            s.prototype.getBatches = function(t) {
                for (var e = [], i = this._batchList.length, s = 0; s < i; s++) {
                    var n = this._batchList[s];
                    n.batchGroupId === t && e.push(n)
                }
                return e
            }
            ,
            s.prototype._removeModelsFromBatchGroup = function(t, e) {
                if (t.enabled) {
                    t.model && t.model.batchGroupId === e && (t.model.batchGroupId = -1),
                    t.element && t.element.batchGroupId === e && (t.element.batchGroupId = -1),
                    t.sprite && t.sprite.batchGroupId === e && (t.sprite.batchGroupId = -1);
                    for (var i = 0; i < t._children.length; i++)
                        this._removeModelsFromBatchGroup(t._children[i], e)
                }
            }
            ,
            s.prototype._collectAndRemoveModels = function(t, e, i) {
                if (t.enabled) {
                    var s, n;
                    if (t.model && t.model.batchGroupId >= 0 && t.model.model && t.model.enabled && (!i || i && i.indexOf(t.model.batchGroupId) >= 0)) {
                        if ((n = e[t.model.batchGroupId]) || (n = e[t.model.batchGroupId] = []),
                        t.model.isStatic) {
                            var r = this.scene.drawCalls
                              , a = t.model.meshInstances;
                            for (s = 0; s < r.length; s++)
                                r[s]._staticSource && (a.indexOf(r[s]._staticSource) < 0 || e[t.model.batchGroupId].push(r[s]));
                            for (s = 0; s < a.length; s++)
                                r.indexOf(a[s]) >= 0 && e[t.model.batchGroupId].push(a[s])
                        } else
                            e[t.model.batchGroupId] = n.concat(t.model.meshInstances);
                        t.model.removeModelFromLayers(t.model.model)
                    }
                    if (t.element && t.element.batchGroupId >= 0 && t.element.enabled && (!i || i && i.indexOf(t.element.batchGroupId) >= 0)) {
                        (n = e[t.element.batchGroupId]) || (n = e[t.element.batchGroupId] = []);
                        var h = !1;
                        t.element._text ? (e[t.element.batchGroupId].push(t.element._text._model.meshInstances[0]),
                        t.element.removeModelFromLayers(t.element._text._model),
                        h = !0) : t.element._image && (e[t.element.batchGroupId].push(t.element._image._model.meshInstances[0]),
                        t.element.removeModelFromLayers(t.element._image._model),
                        h = !0)
                    }
                    for (t.sprite && t.sprite.batchGroupId >= 0 && t.sprite.enabled && (!i || i && i.indexOf(t.sprite.batchGroupId) >= 0) && ((n = e[t.sprite.batchGroupId]) || (n = e[t.sprite.batchGroupId] = []),
                    t.sprite._meshInstance && (e[t.sprite.batchGroupId].push(t.sprite._meshInstance),
                    this.scene.removeModel(t.sprite._model),
                    t.sprite._batchGroup = this._batchGroups[t.sprite.batchGroupId])),
                    s = 0; s < t._children.length; s++)
                        this._collectAndRemoveModels(t._children[s], e, i)
                }
            }
            ,
            s.prototype._registerEntities = function(t, e) {
                for (var i, s = [], n = 0; n < e.length; n++) {
                    for (i = e[n].node; !i._app && i._parent; )
                        i = i._parent;
                    i._app && s.push(i)
                }
                this.register(t, s)
            }
            ,
            s.prototype.generate = function(t) {
                var e, i, s = {}, n, r, a, h;
                if (t) {
                    var c = [];
                    for (e = 0; e < this._batchList.length; e++)
                        t.indexOf(this._batchList[e].batchGroupId) < 0 ? c.push(this._batchList[e]) : this.destroy(this._batchList[e]);
                    if (this._batchList = c,
                    this._collectAndRemoveModels(this.rootNode, s, t),
                    t === this._dirtyGroups)
                        this._dirtyGroups.length = 0;
                    else {
                        var o = [];
                        for (e = 0; e < this._dirtyGroups.length; e++)
                            t.indexOf(this._dirtyGroups[e]) < 0 && o.push(this._dirtyGroups[e]);
                        this._dirtyGroups = o
                    }
                } else {
                    for (e = 0; e < this._batchList.length; e++)
                        this.destroy(this._batchList[e]);
                    this._batchList.length = 0,
                    this._collectAndRemoveModels(this.rootNode, s),
                    this._dirtyGroups.length = 0
                }
                for (var u in s)
                    if (s.hasOwnProperty(u) && (n = s[u],
                    a = this._batchGroups[u]))
                        for (r = this.prepare(n, a.dynamic, a.maxAabbSize),
                        e = 0; e < r.length; e++) {
                            for (h = this.create(r[e], a.dynamic, parseInt(u, 10)),
                            i = 0; i < a.layers.length; i++)
                                this.scene.layers.getLayerById(a.layers[i]).addMeshInstances(h.model.meshInstances);
                            this._registerEntities(h, r[e])
                        }
            }
            ,
            s.prototype.prepare = function(t, e, i) {
                if (0 === t.length)
                    return [];
                void 0 === i && (i = Number.POSITIVE_INFINITY);
                for (var s = .5 * i, a = this.device.supportsBoneTextures ? 1024 : this.device.boneLimit, h, c, o, u, f, d, l, b, v, m, g = new n.jt, p = new n.jt, w = [], x = 0, z = t, _, A; z.length > 0; ) {
                    for (w[x] = [],
                    _ = [],
                    c = z[0].material,
                    o = z[0].layer,
                    m = z[0]._shaderDefs,
                    f = z[0].parameters,
                    v = z[0]._staticLightList,
                    u = z[0].mesh.nn.getNumVertices(),
                    g.copy(z[0].aabb),
                    h = 0; h < z.length; h++) {
                        if (h > 0) {
                            if (c !== z[h].material) {
                                _.push(z[h]);
                                continue
                            }
                            if (o !== z[h].layer) {
                                _.push(z[h]);
                                continue
                            }
                            if (m !== z[h]._shaderDefs) {
                                _.push(z[h]);
                                continue
                            }
                            if (u + z[h].mesh.nn.getNumVertices() > 65535) {
                                _.push(z[h]);
                                continue
                            }
                            if (p.copy(g),
                            p.add(z[h].aabb),
                            p.halfExtents.x > s || p.halfExtents.y > s || p.halfExtents.z > s) {
                                _.push(z[h]);
                                continue
                            }
                            for (l in d = z[h].parameters,
                            b = !1,
                            f)
                                if (f.hasOwnProperty(l) && !r(f[l], d[l])) {
                                    b = !0;
                                    break
                                }
                            if (!b)
                                for (l in d)
                                    if (d.hasOwnProperty(l) && !r(d[l], f[l])) {
                                        b = !0;
                                        break
                                    }
                            if (b) {
                                _.push(z[h]);
                                continue
                            }
                            if (d = z[h]._staticLightList,
                            v && !d || !v && d) {
                                _.push(z[h]);
                                continue
                            }
                            if (v && d) {
                                for (b = !1,
                                A = 0; A < v.length; A++)
                                    if (d.indexOf(v[A]) < 0) {
                                        b = !0;
                                        break
                                    }
                                for (A = 0; A < d.length; A++)
                                    if (v.indexOf(d[A]) < 0) {
                                        b = !0;
                                        break
                                    }
                                if (b) {
                                    _.push(z[h]);
                                    continue
                                }
                            }
                        }
                        if (g.add(z[h].aabb),
                        u += z[h].mesh.nn.getNumVertices(),
                        w[x].push(z[h]),
                        e && w[x].length === a) {
                            _ = h === z.length ? [] : z.slice(h + 1);
                            break
                        }
                    }
                    x++,
                    z = _
                }
                return w
            }
            ,
            s.prototype.create = function(t, e, s) {
                if (!this._init) {
                    var r = "#define BONE_LIMIT " + this.device.getBoneLimit() + "\n";
                    this.transformVS = r + "#define DYNAMICBATCH\n" + n.dn.transformVS,
                    this.skinTexVS = n.dn.skinBatchTexVS,
                    this.skinConstVS = n.dn.skinBatchConstVS,
                    this.vertexFormats = {},
                    this._init = !0
                }
                var a, h, c = new n.Wm(t,e,s);
                this._batchList.push(c);
                var o = null, u, f, d, l, b, v, m, g, p, w, x = 0, z = 0;
                for (a = 0; a < t.length; a++) {
                    if (o) {
                        if (o !== t[a].material)
                            return
                    } else
                        o = t[a].material;
                    for (f = (u = t[a].mesh).nn.format.elements,
                    x += d = u.nn.numVertices,
                    h = 0; h < f.length; h++)
                        f[h].name === n.Yi ? b = !0 : f[h].name === n.Xi ? v = !0 : f[h].name === n.SEMANTIC_TEXCOORD0 ? m = !0 : f[h].name === n.SEMANTIC_TEXCOORD1 ? g = !0 : f[h].name === n.Ki ? p = !0 : f[h].name === n.qi && (w = !0);
                    z += u.Zh[0].count
                }
                if (b) {
                    var _, A = 3 + (v ? 3 : 0) + (m ? 2 : 0) + (g ? 2 : 0) + (p ? 4 : 0) + (w ? 1 : 0) + (e ? 1 : 0), y = 3, M = v ? 6 : 3, S = (v ? 6 : 3) + (m ? 2 : 0), C = (v ? 6 : 3) + (m ? 2 : 0) + (g ? 2 : 0), O = (v ? 6 : 3) + (m ? 2 : 0) + (g ? 2 : 0) + (p ? 4 : 0), E = (v ? 6 : 3) + (m ? 2 : 0) + (g ? 2 : 0) + (p ? 4 : 0) + (w ? 1 : 0), D = new ArrayBuffer(x * A * 4), T = new Float32Array(D), P = new Uint8Array(D), B = new n.un(this.device,n.ai,z,n.xe), I = new Uint16Array(B.lock()), j, R, L, N, F, k, U = 0, V = 0, H = 0, G, W, Y, X, K, Q, J, q;
                    for (e || (q = new n.ut),
                    a = 0; a < t.length; a++) {
                        for (f = (u = t[a].mesh).nn.format.elements,
                        d = u.nn.numVertices,
                        j = (l = u.nn.format.size) / 4,
                        h = 0; h < f.length; h++)
                            f[h].name === n.Yi ? G = f[h].offset / 4 : f[h].name === n.Xi ? W = f[h].offset / 4 : f[h].name === n.SEMANTIC_TEXCOORD0 ? Y = f[h].offset / 4 : f[h].name === n.SEMANTIC_TEXCOORD1 ? X = f[h].offset / 4 : f[h].name === n.Ki ? K = f[h].offset / 4 : f[h].name === n.qi && (Q = f[h].offset / 4);
                        if (R = new Float32Array(u.nn.storage),
                        L = new Uint8Array(u.nn.storage),
                        e)
                            for (h = 0; h < d; h++)
                                T[h * A + H] = R[h * j + G],
                                T[h * A + H + 1] = R[h * j + G + 1],
                                T[h * A + H + 2] = R[h * j + G + 2],
                                v && (T[h * A + H + 3] = R[h * j + W],
                                T[h * A + H + 3 + 1] = R[h * j + W + 1],
                                T[h * A + H + 3 + 2] = R[h * j + W + 2]),
                                m && (T[h * A + H + M] = R[h * j + Y],
                                T[h * A + H + M + 1] = R[h * j + Y + 1]),
                                g && (T[h * A + H + S] = R[h * j + X],
                                T[h * A + H + S + 1] = R[h * j + X + 1]),
                                p && (T[h * A + H + C] = R[h * j + K],
                                T[h * A + H + C + 1] = R[h * j + K + 1],
                                T[h * A + H + C + 2] = R[h * j + K + 2],
                                T[h * A + H + C + 3] = R[h * j + K + 3]),
                                w && (P[h * A * 4 + 4 * H + 4 * O] = L[h * j * 4 + 4 * Q],
                                P[h * A * 4 + 4 * H + 4 * O + 1] = L[h * j * 4 + 4 * Q + 1],
                                P[h * A * 4 + 4 * H + 4 * O + 2] = L[h * j * 4 + 4 * Q + 2],
                                P[h * A * 4 + 4 * H + 4 * O + 3] = L[h * j * 4 + 4 * Q + 3]),
                                T[h * A + E + H] = a;
                        else
                            for (J = t[a].node.getWorldTransform(),
                            h = 0; h < d; h++)
                                q.set(R[h * j + G], R[h * j + G + 1], R[h * j + G + 2]),
                                J.transformPoint(q, q),
                                T[h * A + H] = q.x,
                                T[h * A + H + 1] = q.y,
                                T[h * A + H + 2] = q.z,
                                v && (q.set(R[h * j + W], R[h * j + W + 1], R[h * j + W + 2]),
                                J.ft(q, q),
                                T[h * A + H + 3] = q.x,
                                T[h * A + H + 3 + 1] = q.y,
                                T[h * A + H + 3 + 2] = q.z),
                                m && (T[h * A + H + M] = R[h * j + Y],
                                T[h * A + H + M + 1] = R[h * j + Y + 1]),
                                g && (T[h * A + H + S] = R[h * j + X],
                                T[h * A + H + S + 1] = R[h * j + X + 1]),
                                p && (q.set(R[h * j + K], R[h * j + K + 1], R[h * j + K + 2]),
                                J.ft(q, q),
                                T[h * A + H + C] = q.x,
                                T[h * A + H + C + 1] = q.y,
                                T[h * A + H + C + 2] = q.z,
                                T[h * A + H + C + 3] = R[h * j + K + 3]),
                                w && (P[h * A * 4 + 4 * H + 4 * O] = L[h * j * 4 + 4 * Q],
                                P[h * A * 4 + 4 * H + 4 * O + 1] = L[h * j * 4 + 4 * Q + 1],
                                P[h * A * 4 + 4 * H + 4 * O + 2] = L[h * j * 4 + 4 * Q + 2],
                                P[h * A * 4 + 4 * H + 4 * O + 3] = L[h * j * 4 + 4 * Q + 3]);
                        for (N = u.Zh[0].base,
                        F = u.Zh[0].count,
                        k = new Uint16Array(u.cn[0].storage),
                        h = 0; h < F; h++)
                            I[h + V] = k[N + h] + U;
                        V += F,
                        H = (U += d) * A
                    }
                    var Z = 0;
                    v && (Z |= 2),
                    m && (Z |= 4),
                    g && (Z |= 8),
                    p && (Z |= 16),
                    w && (Z |= 32),
                    e && (Z |= 64);
                    var $ = this.vertexFormats[Z];
                    if (!$) {
                        var tt = [];
                        tt.push({
                            semantic: n.Yi,
                            components: 3,
                            type: n.jm,
                            normalize: !1
                        }),
                        v && tt.push({
                            semantic: n.Xi,
                            components: 3,
                            type: n.jm,
                            normalize: !1
                        }),
                        m && tt.push({
                            semantic: n.SEMANTIC_TEXCOORD0,
                            components: 2,
                            type: n.jm,
                            normalize: !1
                        }),
                        g && tt.push({
                            semantic: n.SEMANTIC_TEXCOORD1,
                            components: 2,
                            type: n.jm,
                            normalize: !1
                        }),
                        p && tt.push({
                            semantic: n.Ki,
                            components: 4,
                            type: n.jm,
                            normalize: !1
                        }),
                        w && tt.push({
                            semantic: n.qi,
                            components: 4,
                            type: n.Dm,
                            normalize: !0
                        }),
                        e && tt.push({
                            semantic: n.Ji,
                            components: 1,
                            type: n.jm,
                            normalize: !1
                        }),
                        $ = this.vertexFormats[Z] = new n.an(this.device,tt)
                    }
                    var et = new n.hn(this.device,$,x,n.xe,T.buffer);
                    B.unlock(),
                    (u = new n.Mesh).nn = et,
                    u.cn[0] = B,
                    u.Zh[0].type = c.origMeshInstances[0].mesh.Zh[0].type,
                    u.Zh[0].base = 0,
                    u.Zh[0].count = z,
                    u.Zh[0].indexed = !0,
                    u.cull = !1,
                    e && ((o = o.clone()).chunks.transformVS = this.transformVS,
                    o.chunks.skinTexVS = this.skinTexVS,
                    o.chunks.skinConstVS = this.skinConstVS,
                    o.update());
                    var it = new n.Yh(this.rootNode,u,o);
                    if (it.castShadow = c.origMeshInstances[0].castShadow,
                    it.parameters = c.origMeshInstances[0].parameters,
                    it.isStatic = c.origMeshInstances[0].isStatic,
                    it.cull = c.origMeshInstances[0].cull,
                    it.layer = c.origMeshInstances[0].layer,
                    it._staticLightList = c.origMeshInstances[0]._staticLightList,
                    it._shaderDefs = c.origMeshInstances[0]._shaderDefs,
                    e) {
                        var st = [];
                        for (a = 0; a < c.origMeshInstances.length; a++)
                            st.push(c.origMeshInstances[a].node);
                        it.skinInstance = new i(this.device,st,this.rootNode)
                    }
                    it._updateAabb = !1,
                    c.meshInstance = it,
                    this.update(c);
                    var nt = new n.Xh;
                    return nt.meshInstances = [c.meshInstance],
                    nt.castShadows = c.origMeshInstances[0].castShadows,
                    c.model = nt,
                    c
                }
            }
            ,
            s.prototype.update = function(t) {
                t._aabb.copy(t.origMeshInstances[0].aabb);
                for (var e = 0; e < t.origMeshInstances.length; e++)
                    e > 0 && t._aabb.add(t.origMeshInstances[e].aabb);
                t.meshInstance.aabb = t._aabb,
                t._aabb._radiusVer = -1,
                t.meshInstance._aabbVer = 0
            }
            ,
            s.prototype.updateAll = function() {
                this._dirtyGroups.length > 0 && this.generate(this._dirtyGroups);
                for (var t = 0; t < this._batchList.length; t++)
                    this._batchList[t].dynamic && this.update(this._batchList[t])
            }
            ,
            s.prototype.clone = function(t, e) {
                var s = new n.Wm(e,t.dynamic,t.batchGroupId);
                this._batchList.push(s);
                for (var r = [], a = 0; a < e.length; a++)
                    r.push(e[a].node);
                s.meshInstance = new n.Yh(t.meshInstance.node,t.meshInstance.mesh,t.meshInstance.material),
                s.meshInstance._updateAabb = !1,
                s.meshInstance.parameters = e[0].parameters,
                s.meshInstance.isStatic = e[0].isStatic,
                s.meshInstance.cull = e[0].cull,
                s.meshInstance.layer = e[0].layer,
                s.meshInstance._staticLightList = e[0]._staticLightList,
                t.dynamic && (s.meshInstance.skinInstance = new i(this.device,r,this.rootNode)),
                s.meshInstance.castShadow = t.meshInstance.castShadow,
                s.meshInstance._shader = t.meshInstance._shader;
                var h = new n.Xh;
                return h.meshInstances = [s.meshInstance],
                h.castShadows = t.origMeshInstances[0].castShadows,
                s.model = h,
                s
            }
            ,
            s.prototype.destroy = function(t) {
                t.refCounter = 0;
                for (var e = this._batchGroups[t.batchGroupId].layers, i = 0; i < e.length; i++)
                    this.scene.layers.getLayerById(e[i]).removeMeshInstances(t.model.meshInstances);
                t.model.destroy()
            }
            ,
            s.prototype.decrement = function(t) {
                t.refCounter--,
                0 === t.refCounter && this.destroy(t)
            }
            ,
            s.prototype.register = function(t, e) {
                t.refCounter = e.length;
                for (var i = this, s = function() {
                    i.decrement(t)
                }, n = 0; n < e.length; n++)
                    e[n].once("destroy", s)
            }
            ,
            {
                Wm: t,
                Gm: e,
                vd: s
            }
        }()),
        n.extend(n, (ir = null,
        sr = {
            ray: new n.Qt,
            fromPoint: new n.ut,
            toPoint: new n.ut
        },
        (nr = function() {}
        ).getInstance = function(t, e) {
            var i = n.helper.Ym();
            return function(s) {
                if (e && t && t.length) {
                    var n, r = i.Br.canvas.getBoundingClientRect(), a = s.x - r.left, h = s.y - r.top, c = i.nl.getEntity().camera;
                    c.screenToWorld(a, h, c.nearClip, sr.fromPoint),
                    c.screenToWorld(a, h, c.farClip, sr.toPoint),
                    sr.ray.origin.copy(sr.fromPoint),
                    sr.ray.direction.copy(sr.toPoint).sub(sr.ray.origin);
                    var o = sr.ray.Xt(t);
                    e(s, o)
                }
            }
        }
        ,
        nr.getPicker = function() {
            return null == ir && (ir = new n.scene.Picker(n.helper.Ym().Br,n.helper.Ym().Br._width,n.helper.Ym().Br._height)),
            ir
        }
        ,
        nr.onCanvasResize = function() {
            return null == ir ? ir = new n.scene.Picker(n.helper.Ym().Br,n.helper.Ym().Br._width,n.helper.Ym().Br._height) : ir.resize(n.helper.Ym().Br._width, n.helper.Ym().Br._height),
            ir
        }
        ,
        nr.destroy = function() {
            ir = null
        }
        ,
        {
            PickerManager: nr
        })),
        n.extend(n, ((rr = function t(e) {
            this._app = e,
            this._isAttached = !1,
            this.setOptionsToDefault(),
            this._isFirstFrame = !0
        }
        ).TYPE = "fly",
        rr.DEFAULT_OPTIONS = {
            speed: 10,
            fastSpeed: 20,
            mode: 0
        },
        rr.prototype.setOptionsToDefault = function() {
            this.setOptions(rr.DEFAULT_OPTIONS)
        }
        ,
        rr.prototype.setOptions = function(t) {
            if (null != t)
                for (var e in rr.DEFAULT_OPTIONS)
                    null != t[e] && (this[e] = t[e])
        }
        ,
        rr.prototype.getData = function() {
            return {
                type: "fly",
                position: Array.from(this.cameraEntity.getLocalPosition().data),
                rotation: Array.from(this.cameraEntity.getLocalEulerAngles().data)
            }
        }
        ,
        rr.prototype.setData = function(t) {
            null != t.position && this.cameraEntity.setLocalPosition(t.position[0], t.position[1], t.position[2]),
            null != t.rotation && this.cameraEntity.setLocalEulerAngles(t.rotation[0], t.rotation[1], t.rotation[2])
        }
        ,
        rr.prototype.attach = function(t, e) {
            e = null == e ? {} : e,
            this._isAttached = !0,
            this.setOptions(e.options),
            this.cameraEntity = t;
            var i = this.cameraEntity.getRotation();
            this.ey = n.I.calcYaw(i),
            this.ex = n.I.clamp(n.I.calcPitch(i, this.ey), -90, 90),
            this.moved = !1,
            this.lmbDown = !1,
            this._isFirstFrame = !0,
            this._app.mouse.disableContextMenu(),
            this._app.mouse.on(n.oo, this.onMouseMove, this),
            this._app.mouse.on(n.co, this.onMouseDown, this),
            this._app.mouse.on(n.uo, this.onMouseUp, this),
            this._app.on("update", this.onUpdate, this)
        }
        ,
        rr.prototype.detach = function() {
            this._app.off("update", this.onUpdate, this),
            this._app.mouse.off(n.oo, this.onMouseMove, this),
            this._app.mouse.off(n.co, this.onMouseDown, this),
            this._app.mouse.off(n.uo, this.onMouseUp, this),
            this.isAttached = !1,
            this.cameraEntity = null
        }
        ,
        rr.prototype.onUpdate = function(t) {
            this.cameraEntity.setLocalEulerAngles(this.ex, this.ey, 0);
            var e = this._app
              , i = this.speed;
            e.keyboard.isPressed(n.zo) && (i = this.fastSpeed),
            i *= .5 * this._app.rl.getAabb().getHalfExtentsMax(),
            e.keyboard.isPressed(n.Io) || e.keyboard.isPressed(n.xu) ? (this.cameraEntity.translateLocal(0, 0, -i * t),
            e.rd = !0) : (e.keyboard.isPressed(n.Ro) || e.keyboard.isPressed(n.mu)) && (this.cameraEntity.translateLocal(0, 0, i * t),
            e.rd = !0),
            e.keyboard.isPressed(n.Bo) || e.keyboard.isPressed(n.Zo) ? (this.cameraEntity.translateLocal(-i * t, 0, 0),
            e.rd = !0) : (e.keyboard.isPressed(n.jo) || e.keyboard.isPressed(n.eu)) && (this.cameraEntity.translateLocal(i * t, 0, 0),
            e.rd = !0)
        }
        ,
        rr.prototype.onMouseMove = function(t) {
            if (this.mode) {
                if (!this.lmbDown)
                    return
            } else if (!n.Nf.isPointerLocked())
                return;
            this.moved ? this._isFirstFrame ? this._isFirstFrame = !1 : (this.ex -= t.dy / 5,
            this.ex = n.I.clamp(this.ex, -90, 90),
            this.ey -= t.dx / 5,
            this._app.rd = !0) : this.moved = !0
        }
        ,
        rr.prototype.onMouseDown = function(t) {
            0 === t.button && (this.lmbDown = !0,
            this.mode || n.Nf.isPointerLocked() || this._app.mouse.enablePointerLock())
        }
        ,
        rr.prototype.onMouseUp = function(t) {
            0 === t.button && (this.lmbDown = !1)
        }
        ,
        {
            Xm: rr
        })),
        n.extend(n, ((ar = function t(e) {
            this._app = e,
            this._inverted = 0,
            this._isAttached = !1,
            this.setOptionsToDefault()
        }
        ).TYPE = "orbit",
        ar.DEFAULT_OPTIONS = {
            distanceMax: 0,
            distanceMin: 0,
            pitchAngleMax: 90,
            pitchAngleMin: -90,
            inertiaFactor: 0,
            frameOnStart: !0,
            mouseOrbitSensitivity: .3,
            mouseDistanceSensitivity: .15,
            touchOrbitSensitivity: .4,
            touchDistanceSensitivity: .2
        },
        ar.distanceBetween = new n.ut,
        ar.prototype.setOptionsToDefault = function() {
            this.setOptions(ar.DEFAULT_OPTIONS)
        }
        ,
        ar.prototype.setOptions = function(t) {
            if (null != t)
                for (var e in ar.DEFAULT_OPTIONS)
                    null != t[e] && (this[e] = t[e])
        }
        ,
        ar.prototype.getData = function() {
            return {
                type: ar.TYPE,
                distance: this._distance,
                yaw: this._yaw,
                pitch: this._pitch,
                pivotPoint: Array.from(this._pivotPoint.data),
                position: Array.from(this.cameraEntity.getPosition().data)
            }
        }
        ,
        ar.prototype.setData = function(t) {
            null != t.distance && (this._targetDistance = this._distance = t.distance),
            null != t.yaw && (this._targetYaw = this._yaw = t.yaw),
            null != t.pitch && (this._targetPitch = this._pitch = t.pitch),
            null != t.pivotPoint && (this._pivotPoint = new n.ut(t.pivotPoint)),
            null != t.position && (this._position = new n.ut(t.position))
        }
        ,
        ar.prototype.attach = function(t, e) {
            if (e = null == e ? {} : e,
            this._isAttached = !0,
            this.setOptions(e.options),
            this.cameraEntity = t,
            this.vecA = new n.ut,
            this.vecB = new n.ut,
            this.matA = new n.zt,
            this.matB = new n.zt,
            this.quaA = new n.bt,
            this.lookButtonDown = !1,
            this.panButtonDown = !1,
            this.lastPoint = new n.pt,
            this.fromWorldPoint = new n.ut,
            this.toWorldPoint = new n.ut,
            this.worldDiff = new n.ut,
            this.lastTouchPoint = new n.pt,
            this.lastPinchMidPoint = new n.pt,
            this.lastPinchDistance = 0,
            this.pinchMidPoint = new n.pt,
            this._windowResizeHandler = this.onWindowResize.bind(this),
            window.addEventListener("resize", this._windowResizeHandler, !1),
            this._checkAspectRatio(),
            this.frameOnStart && (null == this._position && (this._position = new n.ut,
            this._position.copy(this._app.rl.getAabb().getMax())),
            this.cameraEntity.setPosition(this._position)),
            null == this._pivotPoint && (this._pivotPoint = new n.ut,
            this._pivotPoint.copy(this._app.rl.getAabb().center)),
            this.cameraEntity.lookAt(this._pivotPoint),
            null == this._targetYaw || null == this._targetPitch) {
                var i = this.cameraEntity.getRotation();
                this._targetYaw = this._yaw = n.I.calcYaw(i),
                this._targetPitch = this._pitch = this._clampPitchAngle(n.I.calcPitch(i, this._yaw))
            }
            if (this.cameraEntity.setLocalEulerAngles(this._pitch, this._yaw, 0),
            this.frameOnStart) {
                if (null == this._targetDistance) {
                    var s = this._app.rl.getAabb().getHalfExtentsMax();
                    s /= Math.tan(.5 * this.cameraEntity.camera.fov * n.I.q),
                    s *= 2,
                    this._targetDistance = this._distance = s
                }
            } else {
                var r = ar.distanceBetween;
                r.sub2(this.cameraEntity.getPosition(), this._pivotPoint),
                this._targetDistance = this._distance = this._clampDistance(r.length())
            }
            this._app.on("update", this.onUpdate, this),
            this._app.mouse.on(n.co, this.onMouseDown, this),
            this._app.mouse.on(n.uo, this.onMouseUp, this),
            this._app.mouse.on(n.oo, this.onMouseMove, this),
            this._app.mouse.on(n.fo, this.onMouseWheel, this),
            this._mouseOutHandler = this.onMouseOut.bind(this),
            window.addEventListener("mouseout", this._mouseOutHandler, !1),
            this._app.mouse.disableContextMenu(),
            this._app.touch && (this._app.touch.on(n.do, this.onTouchStartEndCancel, this),
            this._app.touch.on(n.lo, this.onTouchStartEndCancel, this),
            this._app.touch.on(n.vo, this.onTouchStartEndCancel, this),
            this._app.touch.on(n.bo, this.onTouchMove, this)),
            this.frameOnStart = !1
        }
        ,
        ar.prototype.detach = function() {
            window.removeEventListener("resize", this._windowResizeHandler, !1),
            this._app.off("update", this.onUpdate, this),
            this._app.mouse.off(n.co, this.onMouseDown, this),
            this._app.mouse.off(n.uo, this.onMouseUp, this),
            this._app.mouse.off(n.oo, this.onMouseMove, this),
            this._app.mouse.off(n.fo, this.onMouseWheel, this),
            window.removeEventListener("mouseout", this._mouseOutHandler, !1),
            this._app.touch && (this._app.touch.off(n.do, this.onTouchStartEndCancel, this),
            this._app.touch.off(n.lo, this.onTouchStartEndCancel, this),
            this._app.touch.off(n.vo, this.onTouchStartEndCancel, this),
            this._app.touch.off(n.bo, this.onTouchMove, this)),
            this._isAttached = !1,
            this.cameraEntity = null,
            this._targetDistance = this._targetPitch = this._targetYaw = this._pivotPoint = null
        }
        ,
        ar.prototype.onUpdate = function(t) {
            var e = 0 === this.inertiaFactor ? 1 : Math.min(t / this.inertiaFactor, 1)
              , i = this._app.nl._renderThreshold;
            (Math.abs(this._distance - this._targetDistance) > i || Math.abs(this._yaw - this._targetYaw) > i || Math.abs(this._pitch - this._targetPitch) > i) && (this._app.rd = !0),
            this._distance = n.I.st(this._distance, this._targetDistance, e),
            this._yaw = n.I.st(this._yaw, this._targetYaw, e),
            this._pitch = n.I.st(this._pitch, this._targetPitch, e),
            this._updatePosition()
        }
        ,
        ar.prototype.onWindowResize = function() {
            this._checkAspectRatio(),
            this._app.rd = !0
        }
        ,
        ar.prototype.mousePan = function(t) {
            var e = this.cameraEntity.camera;
            e.screenToWorld(t.x, t.y, this.distance, this.fromWorldPoint),
            e.screenToWorld(this.lastPoint.x, this.lastPoint.y, this.distance, this.toWorldPoint),
            this.worldDiff.sub2(this.toWorldPoint, this.fromWorldPoint),
            this.pivotPoint.add(this.worldDiff),
            this._app.rd = !0
        }
        ,
        ar.prototype.onMouseDown = function(t) {
            switch (t.button) {
            case n.cf:
                this.lookButtonDown = !0;
                break;
            case n.uf:
            case n.ff:
                this.panButtonDown = !0
            }
        }
        ,
        ar.prototype.onMouseUp = function(t) {
            switch (t.button) {
            case n.cf:
                this.lookButtonDown = !1;
                break;
            case n.uf:
            case n.ff:
                this.panButtonDown = !1
            }
        }
        ,
        ar.prototype.onMouseMove = function(t) {
            this.lookButtonDown ? (this.pitch -= t.dy * this.mouseOrbitSensitivity,
            this.yaw -= t.dx * this.mouseOrbitSensitivity) : this.panButtonDown && 1 !== this._inverted && this.mousePan(t),
            this.lastPoint.set(t.x, t.y)
        }
        ,
        ar.prototype.onMouseWheel = function(t) {
            this.distance -= t.wheel * this.mouseDistanceSensitivity * (.1 * this.distance),
            t.event.preventDefault()
        }
        ,
        ar.prototype.onMouseOut = function(t) {
            this.lookButtonDown = !1,
            this.panButtonDown = !1
        }
        ,
        Object.defineProperty(ar.prototype, "distance", {
            get: function() {
                return this._targetDistance
            },
            set: function(t) {
                this._targetDistance = this._clampDistance(t)
            }
        }),
        Object.defineProperty(ar.prototype, "pitch", {
            get: function() {
                return this._targetPitch
            },
            set: function(t) {
                this._targetPitch = this._clampPitchAngle(t)
            }
        }),
        Object.defineProperty(ar.prototype, "yaw", {
            get: function() {
                return this._targetYaw
            },
            set: function(t) {
                this._targetYaw = t;
                var e, i = (this._targetYaw - this._yaw) % 360;
                this._targetYaw = i > 180 ? this._yaw - (360 - i) : i < -180 ? this._yaw + (360 + i) : this._yaw + i
            }
        }),
        Object.defineProperty(ar.prototype, "pivotPoint", {
            get: function() {
                return this._pivotPoint
            },
            set: function(t) {
                this._pivotPoint.copy(t)
            }
        }),
        Object.defineProperty(ar.prototype, "inverted", {
            get: function() {
                return this._inverted
            },
            set: function(t) {
                this._inverted = t
            }
        }),
        ar.prototype.resetAndLookAtPoint = function(t, e) {
            this.pivotPoint.copy(e),
            this.cameraEntity.setPosition(t),
            this.cameraEntity.lookAt(e);
            var i = ar.distanceBetween;
            i.sub2(e, t),
            this.distance = i.length(),
            this.pivotPoint.copy(e);
            var s = this.cameraEntity.getRotation();
            this.yaw = n.I.calcYaw(s),
            this.pitch = n.I.calcPitch(s, this.yaw),
            this._updatePosition()
        }
        ,
        ar.prototype.resetAndLookAtEntity = function(t, e) {
            this.resetAndLookAtPoint(t, this._app.rl.getAabb().center)
        }
        ,
        ar.prototype.reset = function(t, e, i) {
            this.pitch = e,
            this.yaw = t,
            this.distance = i,
            this._removeInertia()
        }
        ,
        ar.prototype._updatePosition = function() {
            this.cameraEntity.setLocalEulerAngles(this._pitch, this._inverted > 0 ? -this._yaw : this._yaw, 0);
            var t = this.cameraEntity.getPosition();
            t.copy(this.cameraEntity.forward),
            t.scale(-this._distance),
            t.add(this.pivotPoint),
            this.cameraEntity.setPosition(t),
            this._inverted > 0 && (this.quaA.copy(this.cameraEntity.getRotation()),
            this.vecA.copy(this.cameraEntity.getPosition()),
            this.vecB.copy(this.cameraEntity.getLocalScale()),
            this.matA.Mt(n.ut.ZERO, n.bt.IDENTITY, this.vecB),
            this.matA.yt(n.ut.UP, 180),
            this.matB.Mt(this.vecA, this.quaA, this.vecB).mul(this.matA),
            this.cameraEntity.setPosition(this.matB.getTranslation(this.vecA)),
            this.cameraEntity.setEulerAngles(this.matB.getEulerAngles(this.vecA)))
        }
        ,
        ar.prototype._removeInertia = function() {
            this._yaw = this._targetYaw,
            this._pitch = this._targetPitch,
            this._distance = this._targetDistance
        }
        ,
        ar.prototype._checkAspectRatio = function() {
            var t = this._app.Br.height
              , e = this._app.Br.width;
            this.cameraEntity.camera.horizontalFov = t > e
        }
        ,
        ar.prototype._clampDistance = function(t) {
            return this.distanceMax > 0 ? n.I.clamp(t, this.distanceMin, this.distanceMax) : Math.max(t, this.distanceMin)
        }
        ,
        ar.prototype._clampPitchAngle = function(t) {
            return n.I.clamp(t, -this.pitchAngleMax, -this.pitchAngleMin)
        }
        ,
        ar.prototype.getPinchDistance = function(t, e) {
            var i = t.x - e.x
              , s = t.y - e.y;
            return Math.sqrt(i * i + s * s)
        }
        ,
        ar.prototype.calcMidPoint = function(t, e, i) {
            i.set(e.x - t.x, e.y - t.y),
            i.scale(.5),
            i.x += t.x,
            i.y += t.y
        }
        ,
        ar.prototype.onTouchStartEndCancel = function(t) {
            var e = t.touches;
            1 == e.length ? this.lastTouchPoint.set(e[0].x, e[0].y) : 2 == e.length && (this.lastPinchDistance = this.getPinchDistance(e[0], e[1]),
            this.calcMidPoint(e[0], e[1], this.lastPinchMidPoint))
        }
        ,
        ar.prototype.touchPan = function(t) {
            var e = this.cameraEntity.camera;
            e.screenToWorld(t.x, t.y, this.distance, this.fromWorldPoint),
            e.screenToWorld(this.lastPinchMidPoint.x, this.lastPinchMidPoint.y, this.distance, this.toWorldPoint),
            this.worldDiff.sub2(this.toWorldPoint, this.fromWorldPoint),
            this.pivotPoint.add(this.worldDiff),
            this._app.rd = !0
        }
        ,
        ar.prototype.onTouchMove = function(t) {
            var e = this.pinchMidPoint
              , i = t.touches;
            if (1 == i.length) {
                var s = i[0];
                this.pitch -= (s.y - this.lastTouchPoint.y) * this.touchOrbitSensitivity,
                this.yaw -= (s.x - this.lastTouchPoint.x) * this.touchOrbitSensitivity,
                this.lastTouchPoint.set(s.x, s.y)
            } else if (2 == i.length && 1 !== this._inverted) {
                var n = this.getPinchDistance(i[0], i[1])
                  , r = n - this.lastPinchDistance;
                this.lastPinchDistance = n,
                this.distance -= r * this.touchDistanceSensitivity * .1 * (.1 * this.distance),
                this.calcMidPoint(i[0], i[1], e),
                this.touchPan(e),
                this.lastPinchMidPoint.copy(e)
            }
        }
        ,
        {
            Km: ar
        })),
        n.extend(n, ((hr = function(t) {
            this._app = t,
            this._isAttached = !1,
            this.enterMedia = !1,
            this.setOptionsToDefault()
        }
        ).TYPE = "orientation",
        hr.DEFAULT_OPTIONS = {
            frameOnStart: !0,
            distanceMin: 8,
            theta: 35,
            arrowContainerWidth: 30,
            successMedia: function() {}
        },
        hr.prototype.setOptionsToDefault = function() {
            this.setOptions(hr.DEFAULT_OPTIONS)
        }
        ,
        hr.prototype.setOptions = function(t) {
            if (null != t)
                for (var e in hr.DEFAULT_OPTIONS)
                    null != t[e] && (this[e] = t[e])
        }
        ,
        hr.prototype.attach = function(t, e) {
            e = null == e ? {} : e,
            this.cameraEntity = t,
            this.modelEntity = this._app.rl.getEntity(),
            this._isAttached = !0,
            this.screenOrientation = screen.orientation && screen.orientation.angle || window.orientation || 0,
            this.beta = 0,
            this.gamma = 90,
            this.alpha = 0,
            this.modelBoundingSphere = new n.Vt,
            this.videoWrap = e.videoWrap,
            this.setOptions(e.options),
            this.cameraEntity.setPosition(0, 0, 0),
            !this.enterMedia && this.enterMediaDevices(e.videoWrap),
            this._orientation = this.orientation.bind(this),
            this._onScreenOrientationChange = this.onScreenOrientationChange.bind(this),
            this._windowResizeHandler = this.onWindowResize.bind(this),
            this._app.rl.getEntity().setPosition(this.getModelBestPosition()),
            window.addEventListener("resize", this._windowResizeHandler, !1),
            window.addEventListener("deviceorientation", this._orientation, !1),
            window.addEventListener("orientationchange", this._onScreenOrientationChange, !1),
            this._app.on("update", this.onUpdate, this)
        }
        ,
        hr.prototype.detach = function() {
            window.removeEventListener("deviceorientation", this._orientation, !1),
            window.removeEventListener("orientationchange", this._onScreenOrientationChange, !1),
            this._app.off("update", this.onUpdate, this),
            this.videoWrap.innerHTML = "",
            document.body.removeChild(this.arrowContainer),
            this._isAttached = !1,
            this.enterMedia = !1,
            this.cameraEntity = null,
            this.lock = !1,
            this.videoWrap = null
        }
        ,
        hr.prototype.getData = function() {
            return {
                type: hr.TYPE
            }
        }
        ,
        hr.prototype.setData = function(t) {}
        ,
        hr.prototype.getModelBestPosition = function() {
            var t = new n.ut, e = new n.ut, i, s, r = this._app.rl.getAabb().getHalfExtentsMax() * this.distanceMin, a = this.isHorizontal() ? this.gamma : this.beta > 90 ? this.beta - 180 : this.beta, h = Math.tan(this.theta * n.I.q), c, o = r - h * r / (h + Math.tan(Math.abs(a) * n.I.q)), u = n.I.clamp(o, .5 * r, r);
            return t.copy(this.cameraEntity.forward).scale(u),
            t
        }
        ,
        hr.prototype.setModelCenter = function() {
            this._app.rl.getEntity().setPosition(this.getModelBestPosition())
        }
        ,
        hr.prototype.onUpdate = function(t) {
            this.cameraEntity.setRotation(this._createQuat()),
            this.showArrow()
        }
        ,
        hr.prototype.onWindowResize = function() {
            this._checkAspectRatio(),
            this._app.rd = !0
        }
        ,
        hr.prototype._checkAspectRatio = function() {
            var t = this._app.Br.height
              , e = this._app.Br.width;
            this.cameraEntity.camera.horizontalFov = t > e
        }
        ,
        hr.prototype.orientation = function(t) {
            this.beta = t.beta,
            this.gamma = t.gamma,
            this.alpha = t.alpha
        }
        ,
        hr.prototype.onScreenOrientationChange = function() {
            this.screenOrientation = window.orientation || 0
        }
        ,
        hr.prototype._createQuat = function() {
            var t = new n.bt
              , e = new n.bt
              , i = new n.bt(-Math.sqrt(.5),0,0,Math.sqrt(.5))
              , s = 0
              , r = this.alpha * n.I.q
              , a = this.beta * n.I.q
              , h = this.gamma * n.I.q
              , c = this.screenOrientation * n.I.q
              , o = a
              , u = r
              , f = -h
              , d = Math.cos(o / 2)
              , l = Math.cos(u / 2)
              , b = Math.cos(f / 2)
              , v = Math.sin(o / 2)
              , m = Math.sin(u / 2)
              , g = Math.sin(f / 2);
            return s = -c / 2,
            t.set(v * l * b + d * m * g, d * m * b - v * l * g, d * l * g - v * m * b, d * l * b + v * m * g),
            e.set(0, Math.sin(s), 0, Math.cos(s)),
            t.mul(e),
            t.mul(i),
            t
        }
        ,
        hr.prototype.getArrowPosition = function() {
            var t = this.modelEntity.getPosition(), e = this.cameraEntity.camera.hc(t), i = window.innerWidth / 2, s = window.innerHeight / 2, r = e.x - i, a = e.y - s, h = Math.atan2(a, r), c = Math.atan2(-s, -i), o = Math.atan2(s, -i), u = Math.atan2(-s, i), f = Math.atan2(s, i), d = Math.atan2(-s, 0), l = Math.atan2(s, 0), b = Math.atan2(0, -i), v = Math.atan2(0, i), m = h * n.I.tt, g, p;
            return m = m > 0 ? m : m + 360,
            h > u && h <= f ? (g = 2 * i - 2 * this.arrowContainerWidth,
            p = h < v ? s - Math.tan(-h) * i : s + Math.tan(h) * i) : h > c && h <= u ? (p = 10,
            g = h < d ? i - Math.tan(-(h - d)) * s : i + Math.tan(-(d - h)) * s) : h > f && h <= o ? (p = 2 * s - 2 * this.arrowContainerWidth,
            g = h > l ? i - Math.tan(h - l) * s : i + Math.tan(l - h) * s) : (g = 10,
            p = h < 0 ? s - Math.tan(-(-180 * n.I.q - h)) * i : s + Math.tan(180 * n.I.q - h) * i),
            {
                left: g,
                top: p,
                rotate: m
            }
        }
        ,
        hr.prototype.isModelVisible = function() {
            var t = this._app.rl.getAabb()
              , e = t.getHalfExtentsMax();
            return this.modelBoundingSphere.center.copy(t.center),
            this.modelBoundingSphere.radius = t.getHalfExtentsMax(),
            this.cameraEntity.camera.frustum.Ht(this.modelBoundingSphere)
        }
        ,
        hr.prototype.isHorizontal = function() {
            var t = (this.alpha - 180) * n.I.q;
            return !(this.beta > 30) || Math.abs(Math.sin(t)) < Math.abs(Math.cos(t))
        }
        ,
        hr.prototype.isUsermedia = function() {
            return !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia || navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia)
        }
        ,
        hr.prototype.enterMediaDevices = function(t) {
            this.enterMedia = !0;
            var e = this
              , i = {
                audio: !1,
                video: {
                    facingMode: {
                        exact: "environment"
                    }
                }
            };
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                var s = [];
                navigator.mediaDevices.enumerateDevices().then(function(t) {
                    for (var e = 0; e !== t.length; ++e) {
                        var a = t[e];
                        "videoinput" === a.kind && s.push(a.deviceId)
                    }
                    i.video.deviceId = s[1] || s[0],
                    navigator.mediaDevices.getUserMedia(i).then(n).catch(r)
                }).catch(r)
            } else if (navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia) {
                if (navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia,
                MediaStreamTrack.getSources) {
                    var s = [];
                    MediaStreamTrack.getSources(function(t) {
                        for (var e = 0; e != t.length; ++e) {
                            var i = t[e];
                            "video" === i.kind && s.push(i.id)
                        }
                    }),
                    i = {
                        video: {
                            optional: [{
                                sourceId: s[1]
                            }]
                        }
                    }
                }
                navigator.getUserMedia(i, n, r)
            }
            function n(i) {
                if (t) {
                    e.successMedia();
                    var s = e.video = document.createElement("video");
                    s.setAttribute("id", "arVideo"),
                    s.setAttribute("webkit-playsinline", "true"),
                    s.setAttribute("playsinline", "true"),
                    s.setAttribute("x-webkit-airplay", "true"),
                    s.setAttribute("x5-video-player-type", "h5"),
                    s.setAttribute("x5-video-player-fullscreen", "true"),
                    s.setAttribute("x5-video-ignore-metadata", "true"),
                    s.setAttribute("preload", "metadata"),
                    s.setAttribute("muted", "muted"),
                    s.setAttribute("autoplay", "autoplay"),
                    t.appendChild(s),
                    "srcObject"in s ? s.srcObject = i : s.src = window.URL.createObjectURL(i),
                    s.onloadedmetadata = function(t) {
                        s.play()
                    }
                } else
                    new Error("Not video wrap dom")
            }
            function r(t) {}
        }
        ,
        hr.prototype.showArrow = function() {
            if (this.lock || (this.lock = !0,
            this.appendDom()),
            this.arrowContainer.style.display = this.isModelVisible() ? "none" : "block",
            !this.isModelVisible()) {
                var t = this.getArrowPosition();
                this.arrowContainer.style.left = t.left + "px",
                this.arrowContainer.style.top = t.top + "px",
                this.arrowContainer.style.webkitTransform = "rotate(" + t.rotate + "deg)",
                this.arrowContainer.style.transform = "rotate(" + t.rotate + "deg)"
            }
        }
        ,
        hr.prototype.appendDom = function() {
            this.createStyle(),
            this.arrowContainer = document.createElement("div"),
            this.arrowContainer.className = "arrow-orientation",
            document.body.appendChild(this.arrowContainer)
        }
        ,
        hr.prototype.createStyle = function() {
            var t = document.createElement("style");
            t.type = "text/css",
            t.innerHTML = ".arrow-orientation,.arrow-orientation:before {  position: fixed;  left: 50%;  z-index: 999;}.arrow-orientation {  width: " + this.arrowContainerWidth + "px;  height: " + this.arrowContainerWidth + "px;  top: 50%;  margin: " + this.arrowContainerWidth / 2 + "px 0 0 " + this.arrowContainerWidth / 2 + 'px;  -webkit-transform: rotate(45deg);  border-left: none;  border-top: none;  border-right: 2px #fff solid;  border-bottom: 2px #fff solid;}.arrow-orientation:before {  content: "";  width: ' + this.arrowContainerWidth / 2 + "px;  height: " + this.arrowContainerWidth / 2 + "px;  top: 50%;  margin: -10px 0 0 -10px;  border-left: none;  border-top: none;  border-right: 1px #fff solid;  border-bottom: 1px #fff solid;  -webkit-animation-duration: .8s;  -webkit-animation-iteration-count: infinite;  -webkit-animation-name: arrow-orientation;}@-webkit-keyframes arrow-orientation {  0% {    opacity: 1;  }  100% {    opacity: 0;    -webkit-transform: -webkit-translate(-10px, -10px);  }};" + document.getElementsByTagName("HEAD").item(0).appendChild(t)
        }
        ,
        {
            Qm: hr
        })),
        n.extend(n, ((cr = function t(e) {
            this._app = e,
            this._entity = null,
            this._currentNavigator = null,
            this._navigators = {
                fly: new n.Xm(e,this),
                orbit: new n.Km(e,this),
                orientation: new n.Qm(e,this)
            },
            this._pauseNavigatorData = null,
            this._timer = null,
            this._renderThreshold = 1e-4
        }
        ).prototype.pause = function() {
            null != this._currentNavigator && (this._pauseNavigatorData = this.getNavigatorData(),
            this.detachNavigator())
        }
        ,
        cr.prototype.continuee = function() {
            null != this._pauseNavigatorData && (this.setNavitagorData(this._pauseNavigatorData),
            this._pauseNavigatorData = null)
        }
        ,
        cr.prototype.createCamera = function(t) {
            var e = new n.Entity;
            return e.Il("camera", {
                frustumCulling: !0
            }),
            this._app.root.addChild(e),
            this.setEntity(e),
            n.helper.aa.initEffect(this._app, e.camera),
            e
        }
        ,
        cr.prototype.transientRender = function(t) {
            var e = this;
            window.requestAnimationFrame(function() {
                "number" != typeof t && (t = 1e3),
                clearTimeout(e._timer),
                e._app.nd = !0,
                e._timer = setTimeout(function() {
                    e._app.nd = !1
                }, t)
            })
        }
        ,
        cr.prototype.persistentRender = function() {
            var t = this;
            window.requestAnimationFrame(function() {
                clearTimeout(t._timer),
                t._app.nd = !0
            })
        }
        ,
        cr.prototype.setData = function(t) {
            null != t && (null != t.fov && (this._entity.camera.fov = t.fov),
            null != t.nearClip && (this._entity.camera.nearClip = t.nearClip),
            null != t.navigator && this.setNavitagorData(t.navigator))
        }
        ,
        cr.prototype.setNavitagorData = function(t) {
            var e = this._navigators[t.type];
            e.setData(t),
            this.attachNavigator(e)
        }
        ,
        cr.prototype.getNavigatorData = function() {
            return this._currentNavigator.getData()
        }
        ,
        cr.prototype.setModelCenter = function() {
            return this._navigators[n.Qm.TYPE].setModelCenter()
        }
        ,
        cr.prototype.isHorizontal = function() {
            return this._navigators[n.Qm.TYPE].isHorizontal()
        }
        ,
        cr.prototype.enterMediaDevices = function(t) {
            return this._navigators[n.Qm.TYPE].enterMediaDevices(t)
        }
        ,
        cr.prototype.isUsermedia = function() {
            return this._navigators[n.Qm.TYPE].isUsermedia()
        }
        ,
        cr.prototype.getEntity = function() {
            return this._entity
        }
        ,
        cr.prototype.setEntity = function(t) {
            t != this._entity && (this.detachNavigator(),
            this._entity = t)
        }
        ,
        cr.prototype.detachNavigator = function() {
            null != this._currentNavigator && (this._currentNavigator.detach(),
            this._currentNavigator = null)
        }
        ,
        cr.prototype.attachNavigator = function(t, e) {
            this._currentNavigator != t && (this.detachNavigator(),
            t.attach(this._entity, e),
            this._currentNavigator = t,
            this._app.autoOptimizeRender && this.transientRender())
        }
        ,
        cr.prototype.orbitNavigate = function(t) {
            this.attachNavigator(this._navigators[n.Km.TYPE], t)
        }
        ,
        cr.prototype.flyNavigate = function(t) {
            this.attachNavigator(this._navigators[n.Xm.TYPE], t)
        }
        ,
        cr.prototype.orientaionNavigate = function(t) {
            this.attachNavigator(this._navigators[n.Qm.TYPE], t)
        }
        ,
        {
            CameraHelper: cr
        })),
        n.extend(n, ((or = function t(e) {
            this._app = e
        }
        ).prototype.attach = function() {
            this._app.ol.setMaterials(this._app.ol.getMaterials())
        }
        ,
        or.prototype.detach = function() {}
        ,
        {
            Jm: or
        })),
        n.extend(n, ((ur = function t(e) {
            this._app = e,
            this._materials = {},
            this._materialVersion = null
        }
        ).prototype.attach = function() {
            this._materialVersion != this._app.ol.getVersion() && (this._initMaterials(),
            this._materialVersion = this._app.ol.getVersion()),
            this._app.ol.setMaterials(this._materials)
        }
        ,
        ur.prototype.detach = function() {}
        ,
        ur.prototype._initMaterials = function() {
            var t = this;
            this._app.ol.forEachMaterial(function(e, i) {
                var s = new n.Sn;
                s.name = e,
                i.diffuseMap ? s.emissiveMap = i.diffuseMap : i.lightMap && (s.emissiveMap = i.lightMap),
                s.useLighting = !1,
                s.shininess = 0,
                s.metalness = 0,
                s.emissiveIntensity = 1,
                s.diffuse = i.diffuse.clone(),
                s.emissive = i.emissive.clone(),
                s.update(),
                t._materials[e] = s
            })
        }
        ,
        {
            qm: ur
        })),
        n.extend(n, ((fr = function t(e) {
            this._app = e,
            this._materials = null,
            this._version = null
        }
        ).prototype.attach = function() {
            null == this._materials && this._initMaterials(),
            this._app.ol.setMaterials(this._materials)
        }
        ,
        fr.prototype.detach = function() {}
        ,
        fr.prototype._initMaterials = function() {
            this._materials = {};
            var t = this;
            this._app.ol.forEachMaterial(function(e, i) {
                var s = new n.Sn;
                s.name = e,
                s.useMetalness = !0,
                s.shininess = 55,
                s.metalness = 1,
                s.emissiveIntensity = 1,
                s.update(),
                t._materials[e] = s
            })
        }
        ,
        {
            Zm: fr
        })),
        n.extend(n, (lr = ["aoMap", "diffuseMap", "specularMap", "metalnessMap", "glossMap", "emissiveMap", "normalMap", "heightMap", "opacityMap", "cubeMap", "lightMap"],
        (dr = function t(e) {
            this._app = e,
            this._model = null,
            this._materials = {},
            this._currentMaterials = null,
            this._version = 1e7,
            this.onSelect = null,
            this._pickedMaterial = null,
            this.highlightOnMouseOver = !1,
            this._startX = 0,
            this._startY = 0
        }
        ).prototype._onMouseDown = function(t) {
            this._startX = t.x,
            this._startY = t.y
        }
        ,
        dr.prototype._onMouseUp = function(t) {
            this._startX === t.x && this._startY === t.y && null != this.onSelect && this._pickedMaterial && this.onSelect(this._pickedMaterial)
        }
        ,
        dr.prototype._onMouseMove = function(t) {
            var e = n.PickerManager.getPicker();
            e.prepare(this._app.nl.getEntity().camera.camera, this._app.scene);
            var i = e.getSelection(t.x, t.y);
            null != i[0] ? i[0]instanceof n.Yh && (this._pickedMaterial = i[0].material,
            this.highlightOnMouseOver && this._app.xl.attachMaterial(this._pickedMaterial, -1)) : (this._pickedMaterial = null,
            this.highlightOnMouseOver && this._app.xl.clear())
        }
        ,
        dr.prototype.attachPicker = function() {
            this._app.xl.toggle(!0)
        }
        ,
        dr.prototype.detachPicker = function() {
            this._app.xl.toggle(!1)
        }
        ,
        dr.prototype.getVersion = function() {
            return this._version
        }
        ,
        dr.prototype.setModel = function(t) {
            for (var e in this._model = t,
            this._model.meshInstances) {
                var i = this._model.meshInstances[e].material;
                this._materials[i.name] = i
            }
            this._currentMaterials = this._materials
        }
        ,
        dr.prototype.setMaterialProperty = function(t, e, i) {
            this._version++;
            var s = this._app.hl.$m(t).name
              , n = this._materials[s];
            -1 != lr.indexOf(e) ? (n[e] = i ? this._app.hl.$m(i).resource : null,
            n[e] && (n[e].addressU = n[e].addressV = 0)) : n[e] = i,
            n.update()
        }
        ,
        dr.prototype.forEachMaterial = function(t, e) {
            for (var i in null == e && (e = this._currentMaterials),
            e)
                t(i, e[i])
        }
        ,
        dr.prototype.getCurrentMaterials = function() {
            return this._currentMaterials
        }
        ,
        dr.prototype.getMaterials = function() {
            return this._materials
        }
        ,
        dr.prototype.setMaterials = function(t) {
            this._app.rl._model.meshInstances.forEach(function(e) {
                e.material = t[e.material.name]
            }),
            this._currentMaterials = t
        }
        ,
        {
            ul: dr
        })),
        n.extend(n, (br = function t(e) {
            this._app = e,
            this._model = null,
            this._wireframeStatus = !1,
            this._hasWireframeData = !1,
            this._wireframeColor = null,
            this._renderers = {},
            this._wireframe = {
                loading: !1,
                loaded: !1,
                initialized: !1,
                material: null,
                meshInstances: []
            },
            this._aabb = null
        }
        ,
        vr = {
            pbr: n.Jm,
            shadeless: n.qm,
            matcap: n.Zm
        },
        br.prototype.createModel = function(t, e) {
            var i = new n.Entity
              , s = i.Il("model");
            return s.model = t.resource,
            this._app.root.addChild(i),
            this.setModel(s),
            this.setTransform(e),
            s
        }
        ,
        br.prototype.setModel = function(t) {
            this._model = t
        }
        ,
        br.prototype.getModel = function() {
            return this._model
        }
        ,
        br.prototype.setTransform = function(t) {
            this._model.Bc.setLocalEulerAngles(t.rotation[0], t.rotation[1], t.rotation[2])
        }
        ,
        br.prototype.getTransform = function() {
            return {
                rotation: Array.from(this._model.Bc.getLocalEulerAngles().data)
            }
        }
        ,
        br.prototype.rotate = function(t, e) {
            var i = new n.ut;
            i[t] = e ? 90 : -90,
            this._model.Bc.rotateLocal(i)
        }
        ,
        br.prototype.getEntity = function() {
            return null == this._model ? null : this._model.Bc
        }
        ,
        br.prototype.loadWireframe = function(t) {
            var e = this
              , i = e._app.loader.Tl("model");
            return new Promise(function(s, n) {
                e._wireframe.loaded ? s(e._wireframe.meshInstances) : (e._wireframe.loading = !0,
                i.load(t, function(t, r) {
                    e._wireframe.loading = !1,
                    r instanceof ArrayBuffer && (r = i._parsers[0].parser.parse(r)),
                    t ? n(t) : (e._wireframe.loaded = !0,
                    s(e._parseWireframe(r)))
                }))
            }
            )
        }
        ,
        br.prototype.toggleWireframe = function(t, e) {
            var i;
            if (!this._wireframe.initialized) {
                var s = this._model.model
                  , r = new n.Xh;
                for (i = 0; i < this._wireframe.meshInstances.length; i++)
                    s.meshInstances.push(this._wireframe.meshInstances[i]);
                r.graph = s.graph,
                r.meshInstances = s.meshInstances,
                r.skinInstances = s.skinInstances,
                r.morphInstances = s.morphInstances,
                this._model.model = r,
                this._wireframe.initialized = !0
            }
            for (e = [e[0] / 255, e[1] / 255, e[2] / 255, e[3]],
            this._wireframe.material.color = new n.D(e),
            this._wireframe.material.update(),
            i = 0; i < this._wireframe.meshInstances.length; i++)
                this._wireframe.meshInstances[i].visible = t;
            this._app.rd = !0
        }
        ,
        br.prototype._parseWireframe = function(t) {
            var e = this, i = 0, s = 0, r = 0, a, h, c, o = [], u = new n.uc, f = this._model.model.meshInstances;
            u.Hh = function(t, e, i) {
                var s = {
                    skin: 0 != (i & n.dh)
                }
                  , r = n.In.basic.En(t, s);
                this.shader = new n.Mn(t,r)
            }
            ;
            for (var d = 0; d < t.model.meshes.length; d++)
                s += t.model.meshes[d].indices.length,
                i = Math.max(i, f[d].mesh.nn.numVertices);
            s > 0 && (i > 65535 && this._app.Br.extUintElement ? (a = new n.un(this._app.Br,n.hi,s),
            h = new Uint32Array(a.lock())) : (a = new n.un(this._app.Br,n.ai,s),
            h = new Uint16Array(a.lock())));
            for (var d = 0; d < t.model.meshes.length; d++) {
                var l = new n.Mesh
                  , b = f[d]
                  , v = b.mesh
                  , m = t.model.meshes[d].indices;
                l.Zh[n.eh] = {
                    type: n.ki,
                    base: r,
                    count: m.length,
                    indexed: !0
                },
                l.cn[n.eh] = a,
                l.nn = v.nn,
                l.skin = v.skin,
                l.morph = v.morph,
                l.aabb = v.aabb,
                h.set(m, r),
                r += m.length,
                (c = new n.Yh(b.node,l,u)).renderStyle = n.eh,
                c.layer = b.layer - 1,
                c.skinInstance = b.skinInstance,
                o.push(c)
            }
            return this._wireframe.material = u,
            this._wireframe.meshInstances = o,
            a.unlock(),
            o
        }
        ,
        br.prototype.switchRenderer = function(t) {
            if (null == this._renderers[t] && (this._renderers[t] = new vr[t](this._app)),
            this._renderers[t] != this._currentRenderer) {
                null != this._currentRenderer && this._currentRenderer.detach();
                var e = this._renderers[t];
                e.attach(),
                this._currentRenderer = e
            }
            this._app.rd = !0
        }
        ,
        br.prototype.switchTransformGizmo = function(t, e) {
            n.tg.getInstance().switch(t, e, this._model.Bc)
        }
        ,
        br.prototype.getAabb = function() {
            return null == this._aabb && (this._aabb = new n.jt),
            this._buildAabb(this.getEntity(), 0),
            this._aabb
        }
        ,
        br.prototype._buildAabb = function(t, e) {
            if (null == t)
                return 0;
            var i = 0;
            if (t.model) {
                var s = t.model.meshInstances;
                for (i = 0; i < s.length; i++)
                    0 === e ? this._aabb.copy(s[i].aabb) : this._aabb.add(s[i].aabb),
                    e += 1
            }
            for (i = 0; i < t.children.length; ++i)
                e += this._buildAabb(t.children[i], e);
            return e
        }
        ,
        br.prototype.toggleTransformController = function(t) {
            t ? (this.transformController || (this.transformController = new n.TransformController(this._app,this)),
            this.transformController.attach(this._model.Bc)) : this.transformController && this.transformController.detach()
        }
        ,
        {
            al: br
        })),
        n.extend(n, ((mr = function(t) {
            this._app = t,
            this.mouseDistanceSensitivity = .15,
            this.mouseOrbitSensitivity = .3,
            this.touchOrbitSensitivity = .4,
            this.touchDistanceSensitivity = .2,
            this.pitchAngleMax = 90,
            this.pitchAngleMin = -90
        }
        ).prototype.attach = function(t, e) {
            if (this.modelEntity = t,
            this.orinScale = (new n.ut).copy(t.getLocalScale()),
            this.distance = this.orinScale.x,
            this.lookButtonDown = !1,
            this.panButtonDown = !1,
            this.lastTouchPoint = new n.pt,
            this.lastPinchDistance = 0,
            this.lastPinchMidPoint = new n.pt,
            this.pinchMidPoint = new n.pt,
            null == this.yaw || null == this.pitch) {
                var i = this.modelEntity.getRotation();
                this.yaw = n.I.calcYaw(i),
                this.pitch = this._clampPitchAngle(n.I.calcPitch(i, this.yaw))
            }
            this._app.mouse.on(n.co, this.onMouseDown, this),
            this._app.mouse.on(n.uo, this.onMouseUp, this),
            this._app.mouse.on(n.oo, this.onMouseMove, this),
            this._app.mouse.on(n.fo, this.onMouseWheel, this),
            this._mouseOutHandler = this.onMouseOut.bind(this),
            window.addEventListener("mouseout", this._mouseOutHandler, !1),
            this._app.mouse.disableContextMenu(),
            this._app.touch && (this._app.touch.on(n.do, this.onTouchStartEndCancel, this),
            this._app.touch.on(n.lo, this.onTouchStartEndCancel, this),
            this._app.touch.on(n.vo, this.onTouchStartEndCancel, this),
            this._app.touch.on(n.bo, this.onTouchMove, this))
        }
        ,
        mr.prototype.detach = function() {
            this._app.mouse.off(n.co, this.onMouseDown, this),
            this._app.mouse.off(n.uo, this.onMouseUp, this),
            this._app.mouse.off(n.oo, this.onMouseMove, this),
            this._app.mouse.off(n.fo, this.onMouseWheel, this),
            window.removeEventListener("mouseout", this._mouseOutHandler, !1),
            this._app.touch && (this._app.touch.off(n.do, this.onTouchStartEndCancel, this),
            this._app.touch.off(n.lo, this.onTouchStartEndCancel, this),
            this._app.touch.off(n.vo, this.onTouchStartEndCancel, this),
            this._app.touch.off(n.bo, this.onTouchMove, this)),
            this.modelEntity = null
        }
        ,
        mr.prototype.updateTransform = function() {
            this.modelEntity.setLocalScale(this.distance, this.distance, this.distance),
            this.modelEntity.setLocalEulerAngles(0, this.yaw, 0)
        }
        ,
        mr.prototype.onMouseDown = function(t) {
            switch (t.button) {
            case n.cf:
                this.lookButtonDown = !0;
                break;
            case n.uf:
            case n.ff:
                this.panButtonDown = !0
            }
        }
        ,
        mr.prototype.onMouseUp = function(t) {
            switch (t.button) {
            case n.cf:
                this.lookButtonDown = !1;
                break;
            case n.uf:
            case n.ff:
                this.panButtonDown = !1
            }
        }
        ,
        mr.prototype.onMouseMove = function(t) {
            if (this.lookButtonDown) {
                var e = t.dy
                  , i = t.dx;
                window.innerWidth < window.innerHeight && this._app.nl.isHorizontal() && (e = t.dx,
                i = t.dy),
                this.pitch += e * this.mouseOrbitSensitivity,
                this.yaw += i * this.mouseOrbitSensitivity,
                this.updateTransform()
            } else
                this.panButtonDown && this.mousePan(t)
        }
        ,
        mr.prototype.onMouseWheel = function(t) {
            this.distance += t.wheel * this.mouseDistanceSensitivity * (.1 * this.distance),
            this.updateTransform(),
            t.event.preventDefault()
        }
        ,
        mr.prototype.onMouseOut = function(t) {
            this.lookButtonDown = !1,
            this.panButtonDown = !1
        }
        ,
        mr.prototype.mousePan = function(t) {
            this._app.rd = !0
        }
        ,
        mr.prototype.onTouchStartEndCancel = function(t) {
            var e = t.touches;
            if (1 == e.length) {
                var i = e[0].x
                  , s = e[0].y;
                window.innerWidth < window.innerHeight && this._app.nl.isHorizontal() && (s = e[0].x,
                i = e[0].y),
                this.lastTouchPoint.set(i, s)
            } else
                2 == e.length && (this.lastPinchDistance = this.getPinchDistance(e[0], e[1]),
                this.calcMidPoint(e[0], e[1], this.lastPinchMidPoint))
        }
        ,
        mr.prototype.touchPan = function(t) {
            this._app.rd = !0
        }
        ,
        mr.prototype.onTouchMove = function(t) {
            var e = this.pinchMidPoint
              , i = t.touches;
            if (1 == i.length) {
                var s = i[0]
                  , n = s.y
                  , r = s.x;
                window.innerWidth < window.innerHeight && this._app.nl.isHorizontal() && (n = s.x,
                r = s.y),
                this.pitch += (n - this.lastTouchPoint.y) * this.touchOrbitSensitivity,
                this.yaw += (r - this.lastTouchPoint.x) * this.touchOrbitSensitivity,
                this.lastTouchPoint.set(r, n),
                this.updateTransform()
            } else if (2 == i.length) {
                var a = this.getPinchDistance(i[0], i[1])
                  , h = a - this.lastPinchDistance;
                this.lastPinchDistance = a,
                this.distance += h * this.touchDistanceSensitivity * .1 * (.1 * this.distance),
                this.calcMidPoint(i[0], i[1], e),
                this.touchPan(e),
                this.lastPinchMidPoint.copy(e),
                this.updateTransform()
            }
        }
        ,
        mr.prototype._clampPitchAngle = function(t) {
            return n.I.clamp(t, -this.pitchAngleMax, -this.pitchAngleMin)
        }
        ,
        mr.prototype.getPinchDistance = function(t, e) {
            var i = t.x - e.x
              , s = t.y - e.y;
            return Math.sqrt(i * i + s * s)
        }
        ,
        mr.prototype.calcMidPoint = function(t, e, i) {
            i.set(e.x - t.x, e.y - t.y),
            i.scale(.5),
            i.x += t.x,
            i.y += t.y
        }
        ,
        {
            TransformController: mr
        })),
        n.extend(n, ((gr = function t(e) {
            this._app = e,
            this._assets = {}
        }
        ).TextureAssetData = '{"addressu":"repeat","addressv":"repeat","minfilter":"linear_mip_linear","magfilter":"linear","anisotropy":1,"rgbm":false,"mipmaps":true}',
        gr.CubemapAssetData = '{"magFilter":1,"minFilter":5,"anisotropy":1}',
        gr.MaterialTextureKeys = ["aoMap", "diffuseMap", "specularMap", "metalnessMap", "glossMap", "emissiveMap", "normalMap", "heightMap", "opacityMap", "sphereMap", "cubeMap", "lightMap"],
        gr.prototype.getTextureAssetData = function(t) {
            var e = JSON.parse(gr.TextureAssetData);
            for (var i in t)
                e[i] = t[i];
            return e
        }
        ,
        gr.prototype.getCubemapAssetData = function(t) {
            var e = JSON.parse(gr.CubemapAssetData);
            for (var i in t)
                e[i] = t[i];
            return e
        }
        ,
        gr.prototype.generateVariants = function(t) {
            var e = {}
              , i = t.name ? t.name.slice(0, t.name.lastIndexOf(".")) : "Untitled";
            for (var s in t.variants)
                e[s] = {
                    filename: i + "-" + s + ".gtc",
                    url: t.variants[s].url,
                    size: t.variants[s].size
                };
            for (var s in t.variants_512)
                e[s + "_512"] = {
                    filename: i + "-" + s + "_512.gtc",
                    url: t.variants_512[s].url,
                    size: t.variants_512[s].size
                };
            for (var s in t.variants_1024)
                e[s + "_1024"] = {
                    filename: i + "-" + s + "_1024.gtc",
                    url: t.variants_1024[s].url,
                    size: t.variants_1024[s].size
                };
            for (var s in t.variants_2048)
                e[s + "_2048"] = {
                    filename: i + "-" + s + "_2048.gtc",
                    url: t.variants_2048[s].url,
                    size: t.variants_2048[s].size
                };
            return Object.keys(e).length ? e : null
        }
        ,
        gr.prototype.$m = function(t) {
            return this._assets[t]
        }
        ,
        gr.prototype.preload = function(t, e) {
            var i = this;
            this._app.on("preload:progress", e),
            this._app.once("preload:end", function() {
                i._app.off("preload:progress", e)
            }),
            this._app.preload(t)
        }
        ,
        gr.prototype.addUrlTextureAsset = function(t, e) {
            if (t.uid in this._assets)
                return this._assets[t.uid];
            var i = this._app.addAsset(t.name, "texture", {
                filename: t.name,
                width: t.width,
                height: t.height,
                hash: t.hash,
                url: t.url,
                variants: this._app.enableGTC ? this.generateVariants(t) : null
            }, e, t.used);
            return i.uid = t.uid,
            i.used = t.used,
            this._assets[t.uid] = i,
            i
        }
        ,
        gr.prototype.addBase64TextureAsset = function(t, e) {
            if (t.hash in this._assets)
                return this._assets[t.hash];
            var i = this._app.addAsset(t.name, "texture", {
                filename: t.name,
                hash: t.hash,
                base64: t.base64
            }, e, t.used);
            return i.used = t.used,
            this._assets[t.hash] = i,
            i
        }
        ,
        gr.prototype.addTextureAsset = function(t) {
            var e = this.getTextureAssetData();
            return e.mipmaps = void 0 === t.mipmaps || t.mipmaps,
            e.flipY = void 0 === t.flipY || t.flipY,
            null != t.base64 ? this.addBase64TextureAsset(t, e) : this.addUrlTextureAsset(t, e)
        }
        ,
        gr.prototype.addTextureAssets = function(t) {
            for (var e in t)
                this.addTextureAsset(t[e])
        }
        ,
        gr.prototype.addMaterialAssets = function(t) {
            for (var e in t)
                this.addMaterialAsset(t[e])
        }
        ,
        gr.prototype.addCubemapAsset = function(t, e) {
            if (t.uid in this._assets)
                return this._assets[t.uid];
            if (t.id in this._assets)
                return this._assets[t.id];
            var i = {};
            for (var s in t.textures) {
                var n = t.textures[s];
                i[s] = this.addTextureAsset(n)
            }
            var r = this.getCubemapAssetData(e);
            r.name = t.name,
            r.rgbm = !!t.rgbm,
            r.textures = [i.right.id, i.left.id, i.top.id, i.bottom.id, i.front.id, i.back.id];
            var a = null;
            null != t.url && (a = {
                filename: t.name,
                hash: t.hash,
                url: t.url
            });
            var h = this._app.addAsset(t.name, "cubemap", a, r, t.used);
            return null != t.uid ? (h.uid = t.uid,
            this._assets[t.uid] = h) : (t.id = h.id,
            this._assets[t.id] = h),
            !1 === t.prefiltered && (h.__url = t.url,
            h.file = null),
            void 0 !== t.loadFaces && (h.loadFaces = t.loadFaces),
            h
        }
        ,
        gr.prototype.addMaterialAsset = function(t) {
            if (t.uid in this._assets)
                return this._assets[t.uid];
            for (var e in gr.MaterialTextureKeys) {
                var i = gr.MaterialTextureKeys[e];
                if (null != t.data[i]) {
                    var s = this._assets[t.data[i]];
                    s.used instanceof Array ? s.used.push(t.uid) : s.used = [t.uid],
                    t.data[i] = this._assets[t.data[i]].id
                }
            }
            var n = this._app.addAsset(t.name, "material", null, t.data, t.used);
            return n.uid = t.uid,
            this._assets[t.uid] = n,
            n
        }
        ,
        gr.prototype.addModelAsset = function(t) {
            if (t.uid in this._assets)
                return this._assets[t.uid];
            var e = {
                mapping: [],
                area: 0
            };
            for (var i in t.mapping) {
                var s = {
                    material: this._assets[t.mapping[i]].id
                };
                e.mapping.push(s)
            }
            var n = this._app.addAsset(t.name, "model", {
                filename: t.name,
                hash: t.hash,
                url: t.url
            }, e, t.used);
            return n.uid = t.uid,
            this._assets[t.uid] = n,
            n
        }
        ,
        gr.prototype.addAnimationAssets = function(t) {
            var e = [];
            for (var i in t) {
                var s = t[i];
                e.push(this.addAnimationAsset(s))
            }
            return e
        }
        ,
        gr.prototype.addAnimationAsset = function(t) {
            if (t.uid in this._assets)
                return this._assets[t.uid];
            var e = this._app.addAsset(t.name, "animation", {
                filename: t.name,
                hash: t.hash,
                url: t.url
            }, null, t.used);
            return e.uid = t.uid,
            this._assets[t.uid] = e,
            e
        }
        ,
        gr.prototype.removeAsset = function(t) {
            delete this._assets[t.uid],
            delete this._assets[t.hash]
        }
        ,
        {
            cl: gr
        })),
        n.extend(n, ((pr = function t(e) {
            this._app = e
        }
        ).prototype.generateCubemapBlob = function(t) {
            var e = {
                cpuSync: !0,
                device: this._app.Br,
                filteredFixed: [],
                method: 1,
                samples: 4096,
                sourceCubemap: t.resource,
                singleFilteredFixed: !0
            };
            return n.jr(e),
            new Blob([e.singleFilteredFixed.getDds()],{
                type: "image/dds"
            })
        }
        ,
        {
            ll: pr
        })),
        n.extend(n, (wr = 3,
        (xr = function(t) {
            this._app = t,
            this._lights = [],
            this._gizmoSwitch = !1,
            this.onClick = null,
            this._lightsContainerEntity = new n.Entity,
            this._lightsContainerEntity.name = "lights",
            this._app.root.addChild(this._lightsContainerEntity);
            for (var e = 0; e < 3; e++) {
                var i = new n.Entity;
                i.name = "light" + (e + 1),
                this._lightsContainerEntity.addChild(i);
                var s = i.Il("light");
                s.enabled = !1,
                this._lights.push(s)
            }
        }
        ).prototype.generate = function(t) {
            for (var e = t.data.slice(3), i = 0; i < e.length; i++)
                this.add();
            this.setData(t)
        }
        ,
        xr.prototype.setData = function(t) {
            if (t.enabled)
                for (var e in t.data)
                    this.setDataByIndex(e, t.data[e]);
            else
                for (var e in this._lights)
                    this._lights[e].enabled = !1
        }
        ,
        xr.prototype.setDataByIndex = function(t, e) {
            this._lightAttachData(this._lights[t], e)
        }
        ,
        xr.prototype._lightAttachData = function(t, e) {
            "none" != e.type && e.type == t.type || (t.enabled = !1),
            "none" != e.type && (t.type = e.type,
            t.color = new n.D(e.color[0] / 255,e.color[1] / 255,e.color[2] / 255,e.color[3]),
            t.range = e.range,
            t.intensity = e.intensity,
            t.castShadows = e.shadow,
            t.shadowType = e.shadowType || 2,
            null != e.softness && null != e.angle && (t.innerConeAngle = e.angle - e.angle * e.softness / 100,
            t.outerConeAngle = e.angle),
            t.falloffMode = e.falloff,
            t.isStatic = e.isStatic,
            t.shadowUpdateMode = e.shadowUpdateMode,
            t.shadowResolution = e.shadowResolution,
            t.shadowDistance = e.shadowDistance,
            t.vsmBlurMode = e.vsmBlurMode,
            t.vsmBlurSize = e.vsmBlurSize,
            t.vsmBias = e.vsmBias,
            t.enabled = !0),
            "point" !== e.type && "spot" !== e.type || (e.cookieAsset ? (t.cookieAsset = e.cookieAsset,
            t.cookie = n.app.hl.$m(e.cookieAsset).resource,
            t.cookieIntensity = e.cookieIntensity,
            t.cookieAngle = e.cookieAngle,
            t.cookieChannel = e.cookieChannel,
            t.cookieOffset = new n.pt(e.cookieOffset[0],e.cookieOffset[1]),
            t.cookieScale = new n.pt(e.cookieScale[0],e.cookieScale[1]),
            t.cookieFalloff = e.cookieFalloff) : (t.cookieAsset = null,
            t.cookie = null))
        }
        ,
        xr.prototype.switchGizmo = function(t) {
            if (t)
                this._app.on("prerender", this._onUpdate, this);
            else
                for (var e in this._app.off("prerender", this._onUpdate, this),
                this._lights)
                    n.eg.getInstance().detach(this._lights[e].Bc),
                    n.ig.getInstance().detach(this._lights[e].Bc),
                    n.tg.getInstance().switch(!1)
        }
        ,
        xr.prototype.switchTransformGizmoByIndex = function(t, e, i) {
            t ? n.tg.getInstance().switch(t, e, this.getLightEntityByIndex(i), n.tg.sg) : n.tg.getInstance().switch(t)
        }
        ,
        xr.prototype.setTransforms = function(t) {
            for (var e in t) {
                var i = t[e];
                this._lights[e].Bc.setLocalPosition(i.position[0], i.position[1], i.position[2]),
                this._lights[e].Bc.setLocalEulerAngles(i.rotation[0], i.rotation[1], i.rotation[2])
            }
        }
        ,
        xr.prototype.getLightEntityByIndex = function(t) {
            return this._lights[t].Bc
        }
        ,
        xr.prototype.getTransforms = function() {
            for (var t = [], e = 0; e < this._lights.length; e++)
                t.push(this._getTransformByIndex(e));
            return t
        }
        ,
        xr.prototype._onUpdate = function(t) {
            for (var e in this._lights) {
                var i = this._lights[e];
                i.enabled ? (n.eg.getInstance().attach(i.Bc),
                n.ig.getInstance().attach(n.ig.ng[i.type], i.Bc, this._onClick.bind(this))) : (n.eg.getInstance().detach(i.Bc),
                n.ig.getInstance().detach(i.Bc))
            }
        }
        ,
        xr.prototype._onClick = function(t, e) {
            if (null != this.onClick) {
                var i = e.light;
                this.onClick(this._lights.indexOf(i))
            }
        }
        ,
        xr.prototype._getTransformByIndex = function(t) {
            return {
                position: Array.from(this._lights[t].Bc.getLocalPosition().data),
                rotation: Array.from(this._lights[t].Bc.getLocalEulerAngles().data)
            }
        }
        ,
        xr.prototype.create = function() {
            var t = new n.Entity, e;
            return t.name = "light" + this._lights.length,
            t.Il("light").enabled = !0,
            t
        }
        ,
        xr.prototype.add = function() {
            var t = this.create();
            this._lights.push(t.light),
            this._lightsContainerEntity.addChild(t)
        }
        ,
        xr.prototype.insert = function(t) {
            var e = this.create();
            this._lights.splice(t, 0, e.light),
            this._lightsContainerEntity.ac(e, t)
        }
        ,
        xr.prototype.remove = function(t) {
            var e = this.getLightEntityByIndex(t);
            this._lightsContainerEntity.removeChild(e),
            e.destroy(),
            this._lights.splice(t, 1)
        }
        ,
        {
            LightHelper: xr
        })),
        n.extend(n, function() {
            var t = {}
              , e = null
              , i = null;
            t.AXISES = ["x", "y", "z"],
            t.getImmediateLayer = function(t) {
                return null === i && ((i = new n.Layer({
                    name: "Gizmo Immediate",
                    id: 1e3,
                    overrideClear: !0,
                    clearDepthBuffer: !0
                })).addCamera(t.nl._entity.camera),
                t.scene.layers.insert(i, t.scene.layers.layerList.length)),
                i
            }
            ,
            t.getLayer = function(t) {
                return null === e && ((e = new n.Layer({
                    name: "Gizmo",
                    id: 1001,
                    overrideClear: !0,
                    clearDepthBuffer: !0
                })).addCamera(t.nl._entity.camera),
                t.scene.layers.insert(e, t.scene.layers.layerList.length)),
                e
            }
            ,
            t.rg = function(t, e) {
                var i = new n.an(t,[{
                    semantic: n.Yi,
                    components: 3,
                    type: n.He
                }])
                  , s = new n.hn(t,i,e.length)
                  , r = new n.rn(s);
                for (var a in e) {
                    var h = e[a];
                    r.element[n.Yi].set(h.x, h.y, h.z),
                    r.next()
                }
                return r.end(),
                s
            }
            ,
            t.ag = function(e, i, s, n) {
                var r = 50, a = 0, h, c;
                null == n && (n = {
                    x: 0,
                    y: 0,
                    z: 0
                });
                for (var o = [], u = 0; u <= 50; u++)
                    switch (a = 2 * Math.PI * (u / 50),
                    h = Math.sin(a),
                    c = Math.cos(a),
                    i) {
                    case "x":
                        o.push({
                            x: n.x,
                            y: h * s + n.y,
                            z: c * s + n.z
                        });
                        break;
                    case "y":
                        o.push({
                            x: h * s + n.x,
                            y: n.y,
                            z: c * s + n.z
                        });
                        break;
                    case "z":
                        o.push({
                            x: h * s + n.x,
                            y: c * s + n.y,
                            z: n.z
                        })
                    }
                return t.rg(e, o)
            }
            ,
            t.hg = function(t, e, i) {
                var s, r;
                s = new n.Gh,
                (r = new n.Mesh).nn = t,
                r.cn[0] = null,
                r.Zh[0].type = e,
                r.Zh[0].base = 0,
                r.Zh[0].count = t.getNumVertices(),
                r.Zh[0].indexed = !1;
                var a = new n.Yh(s,r,i);
                return a.castShadow = !1,
                a.castLightmapShadow = !1,
                a.receiveShadow = !1,
                a.updateKey(),
                a
            }
            ,
            t.cg = function(t) {
                var e = {
                    front: new n.uc,
                    back: new n.uc
                };
                return e.front.color = new n.D(1,1,1),
                e.back.blend = !0,
                e.back.kn = n.he,
                e.back.Un = n.ue,
                e.back.color = new n.D(.9,.9,.9,.15),
                e.back.depthTest = !1,
                null != t && (e.front.og = e.front.Hh,
                e.front.Hh = t,
                e.back.Hh = t),
                e.front.update(),
                e.back.update(),
                e
            }
            ;
            var s = null;
            return t.Hh = function(t) {
                s || (s = new n.Mn(t,{
                    attributes: {
                        aPosition: n.Yi
                    },
                    Mr: ["attribute vec3 aPosition;", "uniform mat4 matrix_model;", "uniform mat4 matrix_viewProjection;", "varying vec2 vUv0;", "void main(void)", "{", "    mat4 modelMatrix = matrix_model;", "    vec4 positionW = modelMatrix * vec4(aPosition, 1.0);", "    gl_Position = matrix_viewProjection * positionW;", "    vUv0 = aPosition.xz + vec2(0.5);", "    vUv0.y = 1.0 - vUv0.y;", "}"].join("\n"),
                    Sr: ["precision " + t.precision + " float;", "uniform vec4 uColor;", "varying vec2 vUv0;", "uniform sampler2D texture_diffuseMap;", "void main(void)", "{", "    float alpha = texture2D(texture_diffuseMap, vUv0).b;", "    if (alpha < 0.5) discard;", "    gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);", "}"].join("\n")
                })),
                this.shader = s
            }
            ,
            t.destroy = function() {
                s = null
            }
            ,
            {
                ug: t
            }
        }()),
        n.extend(n, (_r = null,
        (zr = function t(e) {
            this._app = e,
            this._currentPicked = null,
            this._currentPickedNode = null
        }
        ).getInstance = function() {
            return null == _r && (_r = new zr(n.helper.Ym())),
            _r
        }
        ,
        zr.prototype.attach = function() {
            this._app.mouse.on(n.oo, this._onMouseMove, this)
        }
        ,
        zr.prototype.detach = function() {
            this._app.mouse.off(n.oo, this._onMouseMove, this)
        }
        ,
        zr.prototype.reAttach = function() {
            this.detach(),
            this.attach()
        }
        ,
        zr.prototype._onMouseMove = function(t) {
            if (null != this._currentPicked || !t.buttons[0]) {
                var e = n.PickerManager.getPicker();
                e.prepare(this._app.nl.getEntity().camera, this._app.scene);
                var i = e.getSelection(t.x, t.y);
                if (i[0])
                    if (i[0].layer == n.La) {
                        for (var s = i[0].node; !(s instanceof n.Entity) && s && s.getParent; )
                            s = s.getParent();
                        if (!s)
                            return;
                        s == this._currentPickedNode && i[0] == this._currentPicked || this._currentPicked && this._currentPicked.gizmo && this._currentPickedNode.gizmo.onMouseOut(t, this._currentPickedNode, this._currentPicked),
                        this._currentPickedNode = s,
                        this._currentPicked = i[0],
                        s && s.gizmo && this._currentPickedNode.gizmo.onMouseOver(t, this._currentPickedNode, this._currentPicked)
                    } else
                        this._currentPicked && (this._currentPickedNode && this._currentPickedNode.gizmo && this._currentPickedNode.gizmo.onMouseOut(t, this._currentPickedNode, this._currentPicked),
                        this._currentPicked = null,
                        this._currentPickedNode = null);
                i[0] && this._currentPicked && (this._currentPickedNode && this._currentPickedNode.gizmo && this._currentPickedNode.gizmo.onMouseOut(t, this._currentPickedNode, this._currentPicked),
                this._currentPicked = null,
                this._currentPickedNode = null)
            }
        }
        ,
        zr.prototype.destroy = function() {
            this._app = null
        }
        ,
        zr.destroy = function() {
            _r && (zr.getInstance().destroy(),
            _r = null)
        }
        ,
        {
            fg: zr
        })),
        n.extend(n, (yr = .3,
        Mr = .4,
        Sr = ["x", "y", "z"],
        (Ar = function t(e, i) {
            this._app = e,
            this._manager = i,
            this._immediateLayer = n.ug.getImmediateLayer(e),
            this._layer = n.ug.getLayer(e),
            this._gizmo = this._createGizmo(),
            this._gizmo.root.enabled = !1,
            this._app.root.addChild(this._gizmo.root),
            this._hoverAxis = null,
            this._hoverPlane = null,
            this._dragLastMousePos = null,
            this._immediateLayerRenderOptions = {
                layer: this._immediateLayer,
                depthTest: !1
            }
        }
        ).prototype.attach = function(t, e) {
            this._focus = t,
            this._coord = e,
            this._gizmo.root.enabled = !0,
            this._enabled = !0,
            this._coord == n.tg.sg ? (this._gizmo.root.setRotation(t.getRotation()),
            this._gizmo.root.setLocalPosition(t.localPosition.x, t.localPosition.y, t.localPosition.z)) : this._gizmo.root.setPosition(t.position.x, t.position.y, t.position.z),
            this._app.on("prerender", this._onUpdate, this),
            this._app.mouse.on(n.oo, this._onMouseMove, this)
        }
        ,
        Ar.prototype.detach = function() {
            var t = this._immediateLayer;
            this._app.off("prerender", this._onUpdate, this),
            this._app.mouse.off(n.oo, this._onMouseMove, this),
            this._app.once("postrender", function() {
                t.clearMeshInstances()
            }),
            this._enabled = !1,
            this._gizmo.root.enabled = !1,
            this._focus = null,
            this._hoverAxis = null,
            this._hoverPlane = null,
            this._dragLastMousePos = null
        }
        ,
        Ar.prototype.destroy = function() {}
        ,
        Ar.prototype.getFocus = function() {
            return this._focus
        }
        ,
        Ar.prototype.onMouseOver = function(t, e, i) {
            if (null == this._dragLastMousePos) {
                var s = e.axis;
                -1 != this._gizmo.hoverable.indexOf(e) && s && (this._hoverAxis = s,
                this._hoverPlane = e.plane)
            }
        }
        ,
        Ar.prototype.onMouseOut = function(t, e, i) {}
        ,
        Ar.prototype._onMouseMove = function(t) {
            var e = new n.ut
              , i = new n.bt;
            if (t.buttons[0]) {
                if (null != this._hoverAxis && (this._app.nl.pause(),
                null == this._dragLastMousePos && (this._dragLastMousePos = this._pickPlane(t.x, t.y))),
                null != this._dragLastMousePos) {
                    var s = this._pickPlane(t.x, t.y);
                    this._coord == n.tg.sg ? (e.copy(s),
                    e.sub(this._dragLastMousePos),
                    i.copy(this._gizmo.root.getRotation()).ft(e, e),
                    this._gizmo.root.translate(e.x, e.y, e.z),
                    e.copy(s),
                    e.sub(this._dragLastMousePos),
                    i.copy(this._focus.getRotation()).ft(e, e),
                    this._focus.translate(e.x, e.y, e.z),
                    this._dragLastMousePos = s) : (e.copy(s),
                    s.sub(this._dragLastMousePos),
                    this._gizmo.root.translate(s.x, s.y, s.z),
                    this._focus.translate(s.x, s.y, s.z),
                    this._dragLastMousePos = e)
                }
            } else
                this._dragLastMousePos = null,
                this._hoverAxis = null,
                this._hoverPlane = null,
                this._app.nl.continuee()
        }
        ,
        Ar.prototype._pickPlane = function(t, e) {
            var i = new n.bt
              , s = new n.ut
              , r = new n.ut
              , a = new n.ut
              , h = new n.ut
              , c = this._app.nl.getEntity()
              , o = c.camera.screenToWorld(t, e, 1)
              , u = this._gizmo.root.getPosition()
              , f = r.copy(c.getPosition())
              , d = a.set(0, 0, 0)
              , l = h.set(0, 0, 0);
            l[this._hoverAxis] = 1,
            d.copy(o).sub(f).normalize(),
            i.copy(this._gizmo.root.getRotation()).ft(l, l),
            this._hoverPlane || (s.copy(f).sub(u).normalize(),
            l.copy(s.sub(l.scale(l.dot(s))).normalize()));
            var b = l.dot(d)
              , v = u.dot(l)
              , m = (l.dot(f) - v) / b
              , g = d.scale(-m).add(f);
            if (this._hoverPlane || (l.set(0, 0, 0),
            l[this._hoverAxis] = 1,
            i.ft(l, l),
            g.copy(l.scale(l.dot(g)))),
            i.invert().ft(g, g),
            !this._hoverPlane) {
                var p = g[this._hoverAxis];
                g.set(0, 0, 0),
                g[this._hoverAxis] = p
            }
            return g
        }
        ,
        Ar.prototype._onUpdate = function(t) {
            var e = this._app.nl.getEntity()
              , i = e.getPosition()
              , s = new n.bt
              , r = new n.ut
              , a = new n.ut
              , h = new n.ut
              , c = new n.ut
              , o = this._gizmo.root.getPosition();
            s.copy(this._gizmo.root.getRotation()).invert();
            var u = r.copy(o).sub(i).dot(e.forward)
              , f = 1280 / (2 * Math.tan(e.camera.fov * n.I.q / 2))
              , d = .4 * Math.max(1e-4, u / f * 150);
            if (this._gizmo.root.setLocalScale(d, d, d),
            r.copy(i).sub(o).normalize(),
            s.ft(r, r),
            this._gizmo.plane.x.setLocalPosition(0, r.y > 0 ? .4 : -.4, r.z > 0 ? .4 : -.4),
            this._gizmo.line.x.setLocalPosition(r.x > 0 ? 1.5 : 1.1, 0, 0),
            this._gizmo.line.x.setLocalScale(.3, r.x > 0 ? 1 : 1.8, .3),
            this._gizmo.plane.y.setLocalPosition(r.x > 0 ? .4 : -.4, 0, r.z > 0 ? .4 : -.4),
            this._gizmo.line.y.setLocalPosition(0, r.y > 0 ? 1.5 : 1.1, 0),
            this._gizmo.line.y.setLocalScale(.3, r.y > 0 ? 1 : 1.8, .3),
            this._gizmo.plane.z.setLocalPosition(r.x > 0 ? .4 : -.4, r.y > 0 ? .4 : -.4, 0),
            this._gizmo.line.z.setLocalPosition(0, 0, r.z > 0 ? 1.5 : 1.1),
            this._gizmo.line.z.setLocalScale(.3, r.z > 0 ? 1 : 1.8, .3),
            this._gizmo.plane.x.model.enabled = Math.abs(r.x) > .15,
            this._gizmo.plane.y.model.enabled = Math.abs(r.y) > .15,
            this._gizmo.plane.z.model.enabled = Math.abs(r.z) > .15,
            s.invert(),
            this._gizmo.plane.x.model.enabled) {
                a.set(0, 0, r.z > 0 ? .8 * d : .8 * -d),
                h.set(0, r.y > 0 ? .8 * d : .8 * -d, r.z > 0 ? .8 * d : .8 * -d),
                c.set(0, r.y > 0 ? .8 * d : .8 * -d, 0),
                s.ft(a, a).add(this._gizmo.root.getPosition()),
                s.ft(h, h).add(this._gizmo.root.getPosition()),
                s.ft(c, c).add(this._gizmo.root.getPosition());
                var l = "x" === this._hoverAxis && this._hoverPlane ? this._gizmo.matActive.color : this._gizmo.arrow.x.mat.color;
                this._app.Nm([a, h, h, c], l, this._immediateLayerRenderOptions)
            }
            if (this._gizmo.plane.y.model.enabled) {
                a.set(r.x > 0 ? .8 * d : .8 * -d, 0, 0),
                h.set(r.x > 0 ? .8 * d : .8 * -d, 0, r.z > 0 ? .8 * d : .8 * -d),
                c.set(0, 0, r.z > 0 ? .8 * d : .8 * -d),
                s.ft(a, a).add(this._gizmo.root.getPosition()),
                s.ft(h, h).add(this._gizmo.root.getPosition()),
                s.ft(c, c).add(this._gizmo.root.getPosition());
                var l = "y" === this._hoverAxis && this._hoverPlane ? this._gizmo.matActive.color : this._gizmo.arrow.y.mat.color;
                this._app.Nm([a, h, h, c], l, this._immediateLayerRenderOptions)
            }
            if (this._gizmo.plane.z.model.enabled) {
                a.set(r.x > 0 ? .8 * d : .8 * -d, 0, 0),
                h.set(r.x > 0 ? .8 * d : .8 * -d, r.y > 0 ? .8 * d : .8 * -d, 0),
                c.set(0, r.y > 0 ? .8 * d : .8 * -d, 0),
                s.ft(a, a).add(this._gizmo.root.getPosition()),
                s.ft(h, h).add(this._gizmo.root.getPosition()),
                s.ft(c, c).add(this._gizmo.root.getPosition());
                var l = "z" === this._hoverAxis && this._hoverPlane ? this._gizmo.matActive.color : this._gizmo.arrow.z.mat.color;
                this._app.Nm([a, h, h, c], l, this._immediateLayerRenderOptions)
            }
            for (var b in this._gizmo.line.x.model.enabled = this._gizmo.arrow.x.model.enabled = !(Math.abs(r.z) <= .15 && Math.abs(r.y) <= .15),
            this._gizmo.line.y.model.enabled = this._gizmo.arrow.y.model.enabled = !(Math.abs(r.x) <= .15 && Math.abs(r.z) <= .15),
            this._gizmo.line.z.model.enabled = this._gizmo.arrow.z.model.enabled = !(Math.abs(r.x) <= .15 && Math.abs(r.y) <= .15),
            this._gizmo.line.x.model.enabled && (a.set(r.x > 0 ? 1 * d : .2 * d, 0, 0),
            s.ft(a, a).add(this._gizmo.root.getPosition()),
            h.set(2 * d, 0, 0),
            s.ft(h, h).add(this._gizmo.root.getPosition()),
            this._app.Um(a, h, this._gizmo.arrow.x.model.material.color, this._immediateLayerRenderOptions)),
            this._gizmo.line.y.model.enabled && (a.set(0, r.y > 0 ? 1 * d : .2 * d, 0),
            s.ft(a, a).add(this._gizmo.root.getPosition()),
            h.set(0, 2 * d, 0),
            s.ft(h, h).add(this._gizmo.root.getPosition()),
            this._app.Um(a, h, this._gizmo.arrow.y.model.material.color, this._immediateLayerRenderOptions)),
            this._gizmo.line.z.model.enabled && (a.set(0, 0, r.z > 0 ? 1 * d : .2 * d),
            s.ft(a, a).add(this._gizmo.root.getPosition()),
            h.set(0, 0, 2 * d),
            s.ft(h, h).add(this._gizmo.root.getPosition()),
            this._app.Um(a, h, this._gizmo.arrow.z.model.material.color, this._immediateLayerRenderOptions)),
            Sr) {
                var v = Sr[b];
                v != this._hoverAxis && (this._gizmo.plane[v].model.material = this._gizmo.plane[v].mat,
                this._gizmo.arrow[v].model.material = this._gizmo.arrow[v].mat)
            }
            null != this._hoverAxis && (this._gizmo.plane[this._hoverAxis].model.material = this._gizmo.matActiveTransparent,
            this._gizmo.arrow[this._hoverAxis].model.material = this._gizmo.matActive)
        }
        ,
        Ar.prototype._dragGizmo = function() {}
        ,
        Ar.prototype._createGizmo = function() {
            var t = {
                root: null,
                plane: {
                    x: null,
                    y: null,
                    z: null
                },
                line: {
                    x: null,
                    y: null,
                    z: null
                },
                arrow: {
                    x: null,
                    y: null,
                    z: null
                },
                hoverable: [],
                matActive: null,
                matActiveTransparent: null
            };
            t.matActive = this._manager.dg(new n.D(1,1,1,1)),
            t.matActiveTransparent = this._manager.dg(new n.D(1,1,1,.25)),
            t.matActiveTransparent.cull = n.Be;
            var e = t.root = new n.Entity;
            e.gizmo = this;
            var i = t.plane.x = new n.Entity;
            i.gizmo = this,
            t.hoverable.push(i),
            i.axis = "x",
            i.plane = !0,
            i.Il("model", {
                type: "plane",
                castShadows: !1,
                receiveShadows: !1,
                castShadowsLightmap: !1,
                layers: [this._layer.id]
            }),
            i.model.model.meshInstances[0].layer = n.La,
            i.model.model.meshInstances[0].mask = 8,
            e.addChild(i),
            i.setLocalEulerAngles(90, -90, 0),
            i.setLocalScale(.8, .8, .8),
            i.setLocalPosition(0, .4, .4),
            i.mat = i.model.material = this._manager.dg(new n.D(1,0,0,.25)),
            i.mat.cull = n.Be;
            var s = t.plane.y = new n.Entity;
            s.gizmo = this,
            t.hoverable.push(s),
            s.axis = "y",
            s.plane = !0,
            s.Il("model", {
                type: "plane",
                castShadows: !1,
                receiveShadows: !1,
                castShadowsLightmap: !1,
                layers: [this._layer.id]
            }),
            s.model.model.meshInstances[0].layer = n.La,
            s.model.model.meshInstances[0].mask = 8,
            e.addChild(s),
            s.setLocalEulerAngles(0, 0, 0),
            s.setLocalScale(.8, .8, .8),
            s.setLocalPosition(-.4, 0, .4),
            s.mat = s.model.material = this._manager.dg(new n.D(0,1,0,.25)),
            s.mat.cull = n.Be;
            var r = t.plane.z = new n.Entity;
            r.gizmo = this,
            t.hoverable.push(r),
            r.axis = "z",
            r.plane = !0,
            r.Il("model", {
                type: "plane",
                castShadows: !1,
                receiveShadows: !1,
                castShadowsLightmap: !1,
                layers: [this._layer.id]
            }),
            r.model.model.meshInstances[0].layer = n.La,
            r.model.model.meshInstances[0].mask = 8,
            e.addChild(r),
            r.setLocalEulerAngles(90, 0, 0),
            r.setLocalScale(.8, .8, .8),
            r.setLocalPosition(-.4, .4, 0),
            r.mat = r.model.material = this._manager.dg(new n.D(0,0,1,.25)),
            r.mat.cull = n.Be;
            var a = t.line.x = new n.Entity;
            a.gizmo = this,
            t.hoverable.push(a),
            a.axis = "x",
            a.Il("model", {
                type: "cylinder",
                castShadows: !1,
                receiveShadows: !1,
                castShadowsLightmap: !1,
                layers: [this._layer.id]
            }),
            a.model.model.meshInstances[0].layer = n.La,
            a.model.model.meshInstances[0].mask = 8,
            e.addChild(a),
            a.setLocalEulerAngles(90, 90, 0),
            a.setLocalPosition(1.6, 0, 0),
            a.setLocalScale(.3, .8, .3),
            a.mat = a.model.material = this._manager.dg(new n.D(1,0,0,0));
            var h = t.line.y = new n.Entity;
            h.gizmo = this,
            t.hoverable.push(h),
            h.axis = "y",
            h.Il("model", {
                type: "cylinder",
                castShadows: !1,
                receiveShadows: !1,
                castShadowsLightmap: !1,
                layers: [this._layer.id]
            }),
            h.model.model.meshInstances[0].layer = n.La,
            h.model.model.meshInstances[0].mask = 8,
            e.addChild(h),
            h.setLocalEulerAngles(0, 0, 0),
            h.setLocalPosition(0, 1.6, 0),
            h.setLocalScale(.3, .8, .3),
            h.mat = h.model.material = this._manager.dg(new n.D(0,1,0,0));
            var c = t.line.z = new n.Entity;
            c.gizmo = this,
            t.hoverable.push(c),
            c.axis = "z",
            c.Il("model", {
                type: "cylinder",
                castShadows: !1,
                receiveShadows: !1,
                castShadowsLightmap: !1,
                layers: [this._layer.id]
            }),
            c.model.model.meshInstances[0].layer = n.La,
            c.model.model.meshInstances[0].mask = 8,
            e.addChild(c),
            c.setLocalEulerAngles(90, 0, 0),
            c.setLocalPosition(0, 0, 1.6),
            c.setLocalScale(.3, .8, .3),
            c.mat = c.model.material = this._manager.dg(new n.D(0,0,1,0));
            var o = t.arrow.x = new n.Entity;
            o.gizmo = this,
            t.hoverable.push(o),
            o.axis = "x",
            o.Il("model", {
                type: "cone",
                castShadows: !1,
                receiveShadows: !1,
                castShadowsLightmap: !1,
                layers: [this._layer.id]
            }),
            o.model.model.meshInstances[0].layer = n.La,
            o.model.model.meshInstances[0].mask = 8,
            e.addChild(o),
            o.setLocalEulerAngles(90, 90, 0),
            o.setLocalPosition(2.3, 0, 0),
            o.setLocalScale(.3, .6, .3),
            o.mat = o.model.material = this._manager.dg(new n.D(1,0,0,1));
            var u = t.arrow.y = new n.Entity;
            u.gizmo = this,
            t.hoverable.push(u),
            u.axis = "y",
            u.Il("model", {
                type: "cone",
                castShadows: !1,
                receiveShadows: !1,
                castShadowsLightmap: !1,
                layers: [this._layer.id]
            }),
            u.model.model.meshInstances[0].layer = n.La,
            u.model.model.meshInstances[0].mask = 8,
            e.addChild(u),
            u.setLocalEulerAngles(0, 0, 0),
            u.setLocalPosition(0, 2.3, 0),
            u.setLocalScale(.3, .6, .3),
            u.mat = u.model.material = this._manager.dg(new n.D(0,1,0,1));
            var f = t.arrow.z = new n.Entity;
            return f.gizmo = this,
            t.hoverable.push(f),
            f.axis = "z",
            f.Il("model", {
                type: "cone",
                castShadows: !1,
                receiveShadows: !1,
                castShadowsLightmap: !1,
                layers: [this._layer.id]
            }),
            f.model.model.meshInstances[0].layer = n.La,
            f.model.model.meshInstances[0].mask = 8,
            e.addChild(f),
            f.setLocalEulerAngles(90, 0, 0),
            f.setLocalPosition(0, 0, 2.3),
            f.setLocalScale(.3, .6, .3),
            f.mat = f.model.material = this._manager.dg(new n.D(0,0,1,1)),
            t
        }
        ,
        {
            lg: Ar
        })),
        n.extend(n, function() {
            var t = function t(e, i) {
                this._app = e,
                this._manager = i,
                this._immediateLayer = n.ug.getImmediateLayer(e),
                this._layer = n.ug.getLayer(e),
                this._gizmo = this._createGizmo(),
                this._gizmo.root.enabled = !1,
                this._app.root.addChild(this._gizmo.root),
                this._dragStartGizmoRotation = new n.bt,
                this._dragStartFocusRotation = new n.bt,
                this._immediateLayerRenderOptions = {
                    layer: this._immediateLayer,
                    mask: 8
                }
            }
              , e = .4;
            return t.prototype.attach = function(t, e) {
                this._focus = t,
                this._coord = e,
                this._gizmo.root.enabled = !0,
                this._enabled = !0,
                this._gizmo.root.setPosition(t.position.x, t.position.y, t.position.z),
                this._coord == n.tg.sg ? this._gizmo.root.setEulerAngles(t.getEulerAngles()) : this._gizmo.root.setEulerAngles(n.ut.ZERO),
                this._app.on("prerender", this._onUpdate, this),
                this._app.mouse.on(n.oo, this._onMouseMove, this),
                this._app.mouse.on(n.uo, this._onMouseUp, this)
            }
            ,
            t.prototype.detach = function() {
                this._app.off("prerender", this._onUpdate, this),
                this._app.mouse.off(n.oo, this._onMouseMove, this),
                this._app.mouse.off(n.uo, this._onMouseUp, this),
                this._gizmo.root.enabled = !1,
                this._enabled = !1,
                this._focus = null,
                this._hoverAxis = null,
                this._hoverPlane = null,
                this._dragStartPickData = null
            }
            ,
            t.prototype.onMouseOver = function(t, e, i) {
                if (null == this._dragStartPickData) {
                    var s = e.axis;
                    -1 != this._gizmo.hoverable.indexOf(e) && s && (this._hoverAxis = e.axis,
                    this._hoverPlane = e.plane)
                }
            }
            ,
            t.prototype.onMouseOut = function(t, e, i) {}
            ,
            t.prototype._pickPlane = function(t, e) {
                var i = new n.bt
                  , s = new n.ut
                  , r = new n.ut
                  , a = new n.ut
                  , h = new n.ut
                  , c = this._app.nl.getEntity()
                  , o = c.camera.screenToWorld(t, e, 1)
                  , u = this._gizmo.root.getPosition()
                  , f = r.copy(c.getPosition())
                  , d = a
                  , l = h.set(0, 0, 0);
                l[this._hoverAxis] = 1,
                d.copy(o).sub(f).normalize(),
                i.copy(this._dragStartGizmoRotation).ft(l, l);
                var b = l.dot(d)
                  , v = u.dot(l)
                  , m = (l.dot(f) - v) / b
                  , g = d.scale(-m).add(f).sub(u);
                i.invert().ft(g, g);
                var p = 0;
                return "x" === this._hoverAxis ? p = Math.atan2(g.z, g.y) / (Math.PI / 180) : "y" === this._hoverAxis ? p = Math.atan2(g.x, g.z) / (Math.PI / 180) : "z" === this._hoverAxis && (p = Math.atan2(g.y, g.x) / (Math.PI / 180)),
                {
                    angle: p,
                    point: g
                }
            }
            ,
            t.prototype._onUpdate = function(t) {
                this._gizmo.root.setPosition(this._focus.getPosition());
                var e = this._app.nl.getEntity()
                  , i = e.getPosition()
                  , s = new n.bt
                  , r = new n.ut
                  , a = new n.ut
                  , h = new n.ut
                  , c = this._gizmo.root.getPosition()
                  , o = r.copy(c).sub(i).dot(e.forward)
                  , u = 1280 / (2 * Math.tan(e.camera.fov * n.I.q / 2))
                  , f = .4 * Math.max(1e-4, o / u * 150);
                this._gizmo.root.setLocalScale(f, f, f),
                r.copy(i).sub(c).normalize(),
                s.copy(this._gizmo.root.getRotation()).invert().ft(r, r),
                null != this._dragStartPickData && (a.copy(this._dragStartPickData.point).normalize().scale(2 * f),
                s.copy(this._dragStartGizmoRotation).ft(a, a),
                a.add(c),
                h.copy(this._dragLastPickData.point).normalize().scale(2 * f),
                s.copy(this._dragStartGizmoRotation).ft(h, h),
                h.add(c),
                this._app.Um(c, a, this._gizmo.colorActive, this._immediateLayerRenderOptions),
                this._app.Um(c, h, this._gizmo.colorActive, this._immediateLayerRenderOptions)),
                this._gizmo.plane.x.model.enabled = Math.abs(r.x) > .1,
                this._gizmo.plane.y.model.enabled = Math.abs(r.y) > .1,
                this._gizmo.plane.z.model.enabled = Math.abs(r.z) > .1;
                var d = this._gizmo.root.getWorldTransform();
                this._gizmo.line.cull.node.worldTransform = d,
                this._app.Fm(this._gizmo.line.cull, this._immediateLayerRenderOptions),
                "x" === this._hoverAxis ? this._app.km(this._gizmo.line.x.mesh, this._gizmo.matBehindActive, d, this._i) : (this._app.km(this._gizmo.line.x.mesh, this._gizmo.matBehindHover.x, d, this._immediateLayerRenderOptions),
                this._gizmo.line.x.node.worldTransform = d,
                this._app.Fm(this._gizmo.line.x, this._immediateLayerRenderOptions)),
                "y" === this._hoverAxis ? this._app.km(this._gizmo.line.y.mesh, this._gizmo.matBehindActive, d, this._immediateLayerRenderOptions) : (this._app.km(this._gizmo.line.y.mesh, this._gizmo.matBehindHover.y, d, this._immediateLayerRenderOptions),
                this._gizmo.line.y.node.worldTransform = d,
                this._app.Fm(this._gizmo.line.y, this._immediateLayerRenderOptions)),
                "z" === this._hoverAxis ? this._app.km(this._gizmo.line.z.mesh, this._gizmo.matBehindActive, d, this._immediateLayerRenderOptions) : (this._app.km(this._gizmo.line.z.mesh, this._gizmo.matBehindHover.z, d, this._immediateLayerRenderOptions),
                this._gizmo.line.z.node.worldTransform = d,
                this._app.Fm(this._gizmo.line.z, this._immediateLayerRenderOptions))
            }
            ,
            t.prototype._onMouseMove = function(t) {
                if (t.buttons[0]) {
                    if (null != this._hoverAxis && (this._app.nl.pause(),
                    null == this._dragStartPickData && (this._dragStartGizmoRotation.copy(this._gizmo.root.getRotation()),
                    this._dragStartFocusRotation.copy(this._focus.getRotation()),
                    this._dragStartPickData = this._pickPlane(t.x, t.y))),
                    null != this._dragStartPickData) {
                        var e = this._pickPlane(t.x, t.y);
                        this._dragLastPickData = this._pickPlane(t.x, t.y),
                        e.angle -= this._dragStartPickData.angle;
                        var i = new n.bt
                          , s = new n.bt
                          , r = new n.bt
                          , a = new n.ut;
                        a.set(0, 0, 0),
                        a[this._hoverAxis] = 1,
                        i.yt(a, e.angle),
                        s.mul2(this._dragStartGizmoRotation, i),
                        r.mul2(this._dragStartFocusRotation, i),
                        this._coord == n.tg.sg ? (this._gizmo.root.setRotation(s),
                        this._focus.setRotation(r)) : this._focus.setRotation(i.mul(this._dragStartFocusRotation))
                    }
                } else
                    this._dragStartPickData = null,
                    this._hoverAxis = null,
                    this._hoverPlane = null,
                    this._app.nl.continuee()
            }
            ,
            t.prototype._onMouseUp = function(t) {
                this._dragStartPickData = null,
                this._hoverAxis = null,
                this._hoverPlane = null,
                this._app.nl.continuee()
            }
            ,
            t.prototype._createGizmo = function() {
                var t = {
                    root: null,
                    sphere: null,
                    plane: {
                        x: null,
                        y: null,
                        z: null
                    },
                    line: {
                        x: null,
                        y: null,
                        z: null,
                        cull: null
                    },
                    hoverable: [],
                    matActive: null,
                    matBehind: null,
                    matBehindHover: {},
                    matBehindActive: null
                };
                t.matBehind = this._manager.dg(new n.D(1,1,1,.1)),
                t.matBehind.depthTest = !1,
                t.matBehindHover.x = this._manager.dg(new n.D(1,0,0,.2)),
                t.matBehindHover.y = this._manager.dg(new n.D(0,1,0,.2)),
                t.matBehindHover.z = this._manager.dg(new n.D(0,0,1,.2)),
                t.matBehindHover.x.depthTest = !1,
                t.matBehindHover.y.depthTest = !1,
                t.matBehindHover.z.depthTest = !1,
                t.matBehindActive = this._manager.dg(new n.D(1,1,1,1.1)),
                t.matBehindActive.depthTest = !1,
                t.colorActive = new n.D(1,1,1,1);
                var e = t.root = new n.Entity("Gizmo Rotation Root");
                e.gizmo = this;
                var i = t.plane.x = new n.Entity("Gizmo Rotation Plane X");
                i.gizmo = this,
                t.hoverable.push(i),
                i.axis = "x",
                i.plane = !0,
                i.Il("model", {
                    type: "cylinder",
                    castShadows: !1,
                    receiveShadows: !1,
                    castShadowsLightmap: !1,
                    layers: [this._layer.id]
                }),
                i.model.model.meshInstances[0].layer = n.La,
                e.addChild(i),
                i.setLocalEulerAngles(90, -90, 0),
                i.setLocalScale(4.1, .3, 4.1),
                i.mat = i.model.material = this._manager.dg(new n.D(1,0,0,0));
                var s = t.plane.y = new n.Entity("Gizmo Rotation Plane Y");
                s.gizmo = this,
                t.hoverable.push(s),
                s.axis = "y",
                s.plane = !0,
                s.Il("model", {
                    type: "cylinder",
                    castShadows: !1,
                    receiveShadows: !1,
                    castShadowsLightmap: !1,
                    layers: [this._layer.id]
                }),
                s.model.model.meshInstances[0].layer = n.La,
                e.addChild(s),
                s.setLocalEulerAngles(0, 0, 0),
                s.setLocalScale(4.2, .3, 4.2),
                s.mat = s.model.material = this._manager.dg(new n.D(0,1,0,0));
                var r = t.plane.z = new n.Entity("Gizmo Rotation Plane Z");
                r.gizmo = this,
                t.hoverable.push(r),
                r.axis = "z",
                r.plane = !0,
                r.Il("model", {
                    type: "cylinder",
                    castShadows: !1,
                    receiveShadows: !1,
                    castShadowsLightmap: !1,
                    layers: [this._layer.id]
                }),
                r.model.model.meshInstances[0].layer = n.La,
                e.addChild(r),
                r.setLocalEulerAngles(90, 0, 0),
                r.setLocalScale(4, .3, 4),
                r.mat = r.model.material = this._manager.dg(new n.D(0,0,1,0));
                var a = t.sphere = new n.Entity("Gizmo Rotation Sphere");
                a.gizmo = this,
                a.Il("model", {
                    type: "sphere",
                    castShadows: !1,
                    receiveShadows: !1,
                    castShadowsLightmap: !1,
                    layers: [this._layer.id]
                }),
                a.model.model.meshInstances[0].layer = n.La,
                e.addChild(a),
                a.setLocalScale(3, 3, 3),
                a.mat = a.model.material = this._manager.dg(new n.D(1,1,1,0)),
                t.matActive = this._manager.dg(new n.D(1,1,1,1.1));
                var h = this._createLinesModel();
                return t.line.x = h[0],
                t.line.y = h[1],
                t.line.z = h[2],
                t.line.cull = h[3],
                t
            }
            ,
            t.prototype._createLinesModel = function() {
                for (var t = this._app.Br, e = 50, i = 51, s = 0, r, a, h, c = 2, o = new n.an(t,[{
                    semantic: n.Yi,
                    components: 3,
                    type: n.He
                }]), u = [], f = 0; f < 3; f++) {
                    u.push(new n.hn(t,o,51)),
                    r = new n.rn(u[f]);
                    for (var d = 0; d <= 50; d++)
                        s = 2 * Math.PI * (d / 50),
                        a = Math.sin(s),
                        h = Math.cos(s),
                        0 === f ? r.element[n.Yi].set(0, 2 * a, 2 * h) : 1 === f ? r.element[n.Yi].set(2 * a, 0, 2 * h) : 2 === f && r.element[n.Yi].set(2 * a, 2 * h, 0),
                        r.next();
                    r.end()
                }
                for (var l = new n.Gh("Gizmo Rotation Line Node"), b, v, m = [], g = [this._manager.dg(new n.D(1,0,0,1.1)), this._manager.dg(new n.D(0,1,0,1.1)), this._manager.dg(new n.D(0,0,1,1.1))], p = 0; p < 3; p++)
                    (b = new n.Mesh).nn = u[p],
                    b.cn[0] = null,
                    b.Zh[0].type = n.Vi,
                    b.Zh[0].base = 0,
                    b.Zh[0].count = u[p].getNumVertices(),
                    b.Zh[0].indexed = !1,
                    (v = this.bg(l, b, g[p])).mask = 8,
                    v.mat = g[p],
                    m.push(v);
                b = n.Tc(t, {
                    segments: 75,
                    radius: 1.95
                });
                var w = this._manager.dg(new n.D(1,1,1,0));
                return w.redWrite = !1,
                w.greenWrite = !1,
                w.blueWrite = !1,
                w.alphaWrite = !1,
                w.update(),
                (v = this.bg(l, b, w)).mask = 8,
                m.push(v),
                m
            }
            ,
            t.prototype.bg = function(t, e, i) {
                var s = new n.Yh(t,e,i);
                return s.layer = n.La,
                s.updateKey(),
                s
            }
            ,
            {
                vg: t
            }
        }()),
        n.extend(n, function() {
            var t = function t(e) {
                this._app = e,
                this._currentGizmo = null,
                this._gizmos = {
                    position: new n.lg(e,this),
                    rotation: new n.vg(e,this)
                },
                this._coord = t.mg
            }
              , e = null;
            return t.getInstance = function() {
                return null == e && (e = new t(n.helper.Ym())),
                e
            }
            ,
            t.mg = "global",
            t.sg = "local",
            t.gg = "position",
            t.pg = "rotation",
            t.prototype.switch = function(t, e, i, s) {
                if (t) {
                    var r = this._gizmos[e];
                    null != this._currentGizmo && this._currentGizmo.detach(),
                    r.attach(i, s),
                    n.fg.getInstance().reAttach(),
                    this._currentGizmo = r
                } else
                    null != this._currentGizmo && (this._currentGizmo.detach(),
                    this._currentGizmo = null)
            }
            ,
            t.prototype.dg = function(t, e) {
                var i = new n.uc;
                return i.blendType = n.$r,
                i.color = t,
                1 !== t.a && (i.blend = !0,
                i.kn = n.he,
                i.Un = n.ue),
                void 0 !== e && (i.depthTest = e),
                i.update(),
                i
            }
            ,
            t.prototype.destroy = function() {
                this._app = null,
                e = null
            }
            ,
            t.destroy = function() {
                e && (t.getInstance().destroy(),
                e = null)
            }
            ,
            {
                tg: t
            }
        }()),
        n.extend(n, function() {
            var t = function t(e, s, r, a) {
                if (this._app = e,
                this._helper = s,
                this._type = r,
                this._annoData = a,
                this.onClick = null,
                this.isAnno = !!~String(this._type).indexOf("anno"),
                this._entities = {
                    front: new n.Entity,
                    back: new n.Entity
                },
                this.isAnno)
                    this._materials = {
                        front: new n.Sn,
                        back: new n.Sn
                    };
                else {
                    var o = n.ug.Hh;
                    this._materials = n.ug.cg(o)
                }
                this._entities.front.gizmo = this,
                this._entities.front.icon = this,
                this._entities.front.Il("model", {
                    type: "plane",
                    castShadows: !1,
                    receiveShadows: !1,
                    castShadowsLightmap: !1
                }),
                this._entities.front.model.meshInstances[0].mask = 8,
                this._entities.front.setLocalScale(h, h, h),
                this._entities.front.setRotation(this._app.nl.getEntity().getRotation()),
                this._entities.front.rotateLocal(90, 0, 0),
                this._entities.back.gizmo = this,
                this._entities.back.icon = this,
                this._entities.front.addChild(this._entities.back),
                this._entities.back.Il("model", {
                    type: "plane",
                    castShadows: !1,
                    receiveShadows: !1,
                    castShadowsLightmap: !1
                }),
                this._entities.back.model.meshInstances[0].layer = n.La,
                this._entities.back.model.meshInstances[0].mask = 8;
                var u = this;
                this.isAnno ? (this.initAnno(),
                i.getInstance().loadIconAsset(function(t) {
                    u._color = new n.D(0,0,0,1),
                    u.setAnnoParameters(u._materials.front, t),
                    u.setAnnoParameters(u._materials.back, t),
                    u.setAnnoMap(t),
                    u._materials.back.opacity = .1,
                    u._materials.back.depthTest = !1,
                    u._materials.front.update(),
                    u._materials.back.update(),
                    u._entities.front.model.material = u._materials.front,
                    u._entities.back.model.material = u._materials.back
                })) : (this._texture = new n.xn(this._app.Br,{
                    width: 200,
                    height: 200
                }),
                this.setTextParams(),
                this._img = new Image,
                this._img.iconType = r,
                this._img.onload = function() {
                    u._texture && u._texture.setSource(this)
                }
                ,
                this._img.src = c[r],
                this.setParameters()),
                this._entities.front.enabled = !1
            };
            t.prototype.setTextParams = function() {
                this._texture.anisotropy = 16,
                this._texture.addressU = n.Zt,
                this._texture.addressV = n.Zt
            }
            ,
            t.prototype.setParameters = function() {
                this._entities.front.model.material = this._materials.front,
                this._entities.back.model.material = this._materials.back,
                this._entities.front.model.meshInstances[0].setParameter("texture_diffuseMap", this._texture),
                this._entities.front.model.meshInstances[0].setParameter("uColor", r.data),
                this._entities.back.model.meshInstances[0].setParameter("texture_diffuseMap", this._texture),
                this._entities.back.model.meshInstances[0].setParameter("uColor", a.data)
            }
            ,
            t.prototype.setAnnoParameters = function(t, e) {
                t.blendType = n.$r,
                t.ambient = this._color,
                t.ambientTint = !0
            }
            ,
            t.prototype.setAnnoMap = function(t) {
                var e = t[this._annoData.style || 0];
                this._materials.front.opacityMap = e.resource,
                this._materials.back.opacityMap = e.resource,
                this._materials.front.emissiveMap = e.resource,
                this._materials.back.emissiveMap = e.resource
            }
            ,
            t.prototype.initAnno = function() {
                var t = {};
                if (t.tiling = new n.pt(.2,.2),
                t.i = 0,
                t.j = 0,
                t.index = 0,
                t.pointCoord = new n.ut,
                t.worldCoord = new n.ut,
                t.worldTransform = new n.zt,
                t.boneIndices = [0, 0, 0, 0],
                t.boneWeights = [0, 0, 0, 0],
                t.boneWeightVertices = [new n.ut, new n.ut, new n.ut, new n.ut],
                t.boneTmpPoints = [new n.ut, new n.ut, new n.ut],
                t.elementWidth = 12,
                t.elementHeight = 12,
                t.elementFontSize = 6,
                t.elementLineHeight = 12,
                t.elementAnchor = new n.wt(.5,.5,.5,.5),
                t.elementPivot = new n.pt(.5,.5),
                t.meshInstance = this._app.rl.getEntity().model.model.meshInstances[this._annoData.mi],
                t.meshInstance.skinInstance) {
                    for (var e = t.meshInstance.mesh, i = e.nn, s = e.cn[0], r = i.format.elements, a = i.numVertices, h = i.format.size, c = 0, o = 0, u = 0, f = 0; f < r.length; f++)
                        r[f].name === n.Yi ? c = r[f].offset : r[f].name === n.Ji ? o = r[f].offset : r[f].name === n.Qi && (u = r[f].offset);
                    t.offsetPF = c / 4,
                    t.offsetWF = u / 4,
                    t.vertSizeF = h / 4,
                    t.vertSize = h,
                    t.offsetI = o,
                    t.data8 = new Uint8Array(i.lock()),
                    t.dataF = new Float32Array(i.lock()),
                    t.indices = 2 === s.bytesPerIndex ? new Uint16Array(s.lock()) : new Uint32Array(s.lock()),
                    t.boneMatrices = t.meshInstance.skinInstance.matrices
                }
                this.anno = t
            }
            ;
            var e = .4;
            t.prototype.getType = function() {
                return this._type
            }
            ,
            t.prototype.attach = function(t, e) {
                this._focus = t,
                this.onClick = e,
                this._focus.iconGizmo = this,
                this._entities.front.reparent(this._focus),
                this._entities.front.enabled = !0
            }
            ,
            t.prototype.detach = function() {
                this._focus.iconGizmo = null,
                this.onClick = null,
                this._entities.front.reparent(null),
                this._entities.front.enabled = !1,
                this._focus = null
            }
            ,
            t.prototype.onUpdate = function(t) {
                var e = this.isAnno ? .3 : .4;
                this._entities.front.setRotation(this._app.nl.getEntity().getRotation()),
                this._entities.front.rotateLocal(90, 0, 0);
                var i = this._app.nl.getEntity(), s, r = (new n.ut).copy(this._focus.getPosition()).sub(i.getPosition()).dot(i.forward), a = 1280 / (2 * Math.tan(i.camera.fov * n.I.q / 2)), h = Math.max(1e-4, r / a * 150) * e;
                if (this._entities.front.setLocalScale(h, h, h),
                this.isAnno) {
                    this._entities.front.setLocalPosition(n.ut.ZERO);
                    var c = this._focus.getPosition().clone().add(i.getPosition().clone().scale(-1));
                    c.normalize().scale(.75 * h * -1),
                    this._entities.front.translate(c),
                    this.onAnnoUpdate(t)
                }
            }
            ,
            t.prototype.onAnnoUpdate = function(t) {
                var e = this.anno
                  , i = e.pointCoord
                  , s = e.worldCoord
                  , n = this._app.nl.getEntity().camera
                  , r = e.worldTransform.copy(e.meshInstance.node.getWorldTransform());
                if (e.meshInstance.skinInstance) {
                    var a = e.i
                      , h = e.j
                      , c = e.index
                      , o = e.boneIndices
                      , u = e.boneWeights
                      , f = e.boneWeightVertices
                      , d = e.boneTmpPoints
                      , l = e.boneMatrices;
                    for (a = 0; a < 3; a++) {
                        for (c = e.indices[this._annoData.ti + a],
                        h = 0; h < 4; h++)
                            o[h] = e.data8[c * e.vertSize + e.offsetI + h],
                            u[h] = e.dataF[c * e.vertSizeF + e.offsetPF + e.offsetWF + h];
                        for (c = c * e.vertSizeF + e.offsetPF,
                        d[a].set(e.dataF[c], e.dataF[c + 1], e.dataF[c + 2]),
                        h = 0; h < 4; h++)
                            l[o[h]].transformPoint(d[a], f[h]),
                            f[h].scale(u[h]);
                        d[a].copy(f[0]).add(f[1]).add(f[2]).add(f[3])
                    }
                    s.add(d[0]).add(d[1]).add(d[2]).scale(.25)
                } else
                    s.set.apply(s, this._annoData.position);
                r.transformPoint(s, i),
                this._focus.setLocalPosition(i)
            }
            ,
            t.prototype.onMouseOver = function(t, e, i) {}
            ,
            t.prototype._onMouseDown = function(t) {}
            ,
            t.prototype._onMouseUp = function(t) {}
            ,
            t.prototype.onMouseOut = function() {}
            ;
            var i = function t(e) {
                this._app = e,
                this._gizmos = [],
                this._pool = {},
                this.anno_cbs = [],
                this._iconAssets = [],
                this._annoOpt = {},
                this._anno = {
                    meshInstances: []
                },
                this._onClick = n.PickerManager.getInstance(this._anno.meshInstances, this._onClickTrigger.bind(this)),
                this._onDoubleClick = n.PickerManager.getInstance(this._app.rl.getEntity().model.model.meshInstances, this._onAddAnno.bind(this)),
                this._app.on("prerender", this._onUpdate, this),
                this._app.Br.canvas.addEventListener("click", this._onClick)
            }
              , s = null;
            i.getInstance = function() {
                return null == s && (s = new i(n.helper.Ym())),
                s
            }
            ,
            i.prototype._onClickTrigger = function(t, e) {
                if (e) {
                    var i = e[0].meshInstance.node.getParent()
                      , s = i ? i.gizmo : null;
                    s && s.onClick && s.onClick(t, s._focus)
                }
            }
            ,
            i.ng = {
                directional: "directional_light",
                point: "point_light",
                spot: "spot_light"
            },
            i.wg = ["annonation_1", "annonation_2", "annonation_3", "annonation_4", "annonation_5"];
            var r = new n.D(.9,.9,.9,.4)
              , a = new n.D(.9,.9,.9,.15)
              , h = .05
              , c = {
                directional_light: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAPFBMVEUAAAD////////////////////////////////////////////////////////////////////////////YSWgTAAAAE3RSTlMA8MCAECBgMEDgoFCQsM+fcNBvCJHU4gAACIdJREFUeNrsmtlypDAMRSXv7E3r//91MpVJmfEO2ECq+jzkodNAX6QryQb48OHDhw8fPjwEaZSBOzETEU0aziEW+gIHuI2RvuFwBo30zQI38aIfBjjBTD+84BYk0g8oatwOQrgFRVTjXnZk0XAHPVk6OMpAu+9HSyFk4CCMNgxwB5w29EeNRlsk3IGmLeJwBbescD3Wpqd6iUDaoOAeFG3ozp8CBdyDwBKjSjOYsqCOcAN+3ZoSJpg1BDEPsLpvd5no2zMEmZw7cRtr1u4s1bMlnWlF19odU79yPFMtLrZ78nbj/eNJzu6+kMfW3qzd80LmkzNOO7uPCSHPrb2h9EgIyaQlg7txhqVyIZLuH+CjJZTtEMIfU3tTCwpfSG52vh/m2L1QiHJWM/fj2L1UCHtS7Y3aPS9EE92+e7LL7vwf8tm19/D+gaAnLHErpPvrYbXX32PDsSwian1W7XVaQj9AMfK1PmTMcpt09xKwD90nklHAlVi7M3XoyBHJhCSypk9+DH9rCDF1Bg4iVEgHtlw0ChbdfJJQFY1Nn5csVz0g09h0Y0UQNVZidTQVYqixEl8HQgsEtVdidbQ0O7tCicb2w73EnUqkeXP2BRJ+/V342zxCB4DeoUS/JySfblIS4oiIjruUDAtSnG7UEENhYx2+klVAGLMg5ei4TF3B19FOCYvoUIzKWEz0Cu11WCV9REZH5TATuUJzHVbJGrZGR/tgOnyFHq5AY9gfkgW8wNjIvxjZSkF48ExwDTqog9P/rNw4hw1jIGJH53/Np1EJiPCe2KQEHEDOtCXWLXryGY+sYWZKvHSnu+//LvtDOyBZ2ABRJvKZ9c5gLJicxgb3p5QzZmqRRVIANDuDYUGZea7ZvUX5uZesDAsFUVCGXDCbmIocFl2oY87LsCAFWcChtNmyEh8ytUsHFnxdUoSlZL8lBLiw9EyU19HpUjfllZRPPqz4Eosp08EE5FEUh5cFI+uRgWLMCqIsqW6g33xif5Uim/ighVnIUuz4YaI4KMGjS3w9lmFL3B62jxdjwEPy9Fle4RkqwWQSmYI6USbLQTc7dTwYyc7OKEWnRGwRr1wZdIy5tMblNs3NtCv0s/XHIRl5w/eJFBny1bqw0o3Bl4LedAZdFpKOy9JnSfmqou3iPTCuVEquPhGMPCZ4eBfuoCgD03y15JLJCppHcswFRAXehjFIDqcrF8tMTXkUS15BoG8cQxXoUw9aJRxB94kLcL+SSaQayEifZgoOIzZ9dQienzljV/2QjKeC4WdYF3aIdlaxNZBecVyVgPPIHm3TcwLSh6bnyoVr7TVUQrw60kELSiuXqoHQkCHYp3rnk0oouArhFQBJFZngKpSXA4xqIuAimM0s2wp/Y255mTUR/cbcMjaztp75JXVrw+hmlqLKaLiE2c3kiSrzgkvwagt98QtNot3NyoFq08EVDO7gy6k6cAXcCtm2ld/n9n/WHlsKMXABzJ22kSxNytbINiy6shBbfak+PLUDMUA5QvENMvTQyTiT73VCOihmwETGuh8aslwihMSRV8zyQgTVZ0oKMeUFtkAIb+kRlhQCpUz7hCDRpUIYVI1I37KPjAkh65/2rjZJVhAGEoiAXzO63v+u78erXSzUlkGjWDV9ALUNgRASulKpcND1JomVHb7RmoDBqw9g0WPHmEg3TUJEjsMZPYNdMzTNo8hiiaQc+lextz8t1jKLXEdzOpFKiSOMpH7hUg/bj7gQKUit7aO6BH9RaOT/T9uz/312E/n/47Iov95Okbc/bKc7i9vdPNP1uCTKzEm00IrYKAHA6PjN8+P152Xj21k1qrenJ0yJ1VWITfDQkSUQk4AsifNKDn4SRB3/tNqyOgf8U3fxlUFyMMthTF2ljsO/VysfAkRdvQ31+ofAv91GHtSkShqkAfX6WR0OzUUmId6eIOnt8ozxWrxA3iQG/zBtM42xjEhlwpL0/1UbzqhugjWNEohc2sN6/cwOh3aRID4fGv0tXK+f3+EwTJlIr9l3uF4fGwMFpdKrooWhUPoI83ondhAeXP1ayRtCx6DpCxXVy4ZcNaP2EVy5nT4NNR6n7Y+DXMZwNyvUsTHk43m/HyctQZ8YpPd7u175/a1vkhMueR0OPErwwPX62I6M2k3kmViVADumpLsJGAOBewkeuF4/gPZHu24v28FT+1m9Pk6uVpTd4WAPrh8uuyNEqxUMeUH/4RRdzxkdIYRO6HwNjCHmKEPmFtw0QwXuZjOtysMQjHL4Ig77YnUJHKslOMPnyW643DVMHL04NXjOCF7dNF3DxFF4zwEq1FRbj7+GiSP0Ht8n0jAMHn8FE0fgPaFzG6O3jEve5Jk4WmwflnAdCsC05b3QTZ6Jo8QrZirb6DUS4SIeASZiV905b0yv/8MY61ktgZmoNTzjyr7ARLBK6AV4yDDRSgID4CHEpFYS0ICHEJNeSaAHPISYOCWBVoZHxav7Akn1zW6Th/vhXBrvjQ27s75SUhhoY0ZsJjKcRQOsFqKoQPPux3e+eV2StMI8B/z6SedSmbossYvopO9lOYnGqxzpp4A2o9S1LkeMa1Ml4rEyEUvtuWWFfhfnyrgYwbqABpbs6q2bmorTtgG6n4iIL05taIDZ8UCkeHfHup+BSOnuHmnPISJlu3uk+4mIFO3u0dwLiBSuIxjpfiIiRcu9gbl3n4gtyN2B7uc+EaZyJBHB3LtPRDWlCASn+GsPiLhi3D1Be86go/SxEHdP0f1k+qthKtfdge5ndI376JRS5bp7muYy+9/DhFI1aT/VXC7W3c/QXNYFaOYD3c9s7dRb0J0yvun+YL4+pVOtu38pOWcNqO4nos/5An37SjKckwXxt6/tXJ8zJPTtS7ujUxrpebxdKPi/UhIBe6QXXJJ26ka4wZxzq3A5hz1ffPHFF5fgH4aVQfGE5f6MAAAAAElFTkSuQmCC",
                point_light: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAqFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8j1z1tAAAAN3RSTlMAv+8ggBBgMEDfn1CQsNB4z3Bur2ZXJcaOA+w3GBTm1r22B/XxloPKoYguKh3awamcRAvhSTwzjngZAQAABolJREFUeNrt3WtbmzAYBuCXQDi39qi1Ws+6zalT5/b8/3+2qZelCIUEEpZ03N+tPiWHlyQg9Xr2CjjtgHAKgMXWZ0nxjgVktTE+MJcs5jKsTcliY2ywuZs42BCSvXJBxmSvXBCP7NUHMU0fxDR9ENOYHcR3omjqawriLhyMpiHpF0R4Mwp0BPEZ3kw5aRawrC5XH8THB4c0G2JtpDxI0F1lFmCDpzgIj5CJSCsPm0K1QWJsckmnFJsYVxnER823pO+KYKrwxsplyAlIJx95Y4ncbt0wksNIK84g8725yDh1jTYvJb0S5I04VUlFI4fIY5w0GyAvFhuJmC93pUPSjUfIS6iSH+GvQSD39aSkX4CMUKkShCGvXf/KG1IXPOSNNH03+jnI89QUcBmfusGZ2hHGlxo/dI7BidKBMOLUmVRp24o01Sbyrdoz6MMkBUxX03KoW36us5vzWfIGChtDVLi4HeLrlj2gChcr9/bX0fc7LtZQfeoeT/GKeVSOv+zFBwxr0flidrQtiYNXLKF/wh17ns+pxOGvmy8ow37MjsujjD0vIbMcPj0yVBjt3ZEF9lOGWgczMtz3HxDzc3JB5vo+gLilsbu8/Bpy7k3r3e8mDNLO9sk0qwc0cTkns/xaoqH4mQzioblTg84/LdDGiTFJHtHOiSFdPkZby1sywFe0tzTgmqRQ4eSOdOBeBERx0ni8GqXzfSJ6ORWf5Y+pFvenABxffmWB1WaZo+jLjBfWQusdUDV34mRbGTI5siy84tOvin/QE234CWE3lSlGDVabHXwy9bdlKdwGXs0o5xLiwroUGV9qabw+y7fC5XAp50aqw6+oKPBGKIralBtxIcotPlnQ2vzb4/RsCCmP9Fk4Qjm3RZDi8fYD5O2tb7CuGZr4XbNMnwnbBEHEK3/NpHC7K+tLcdG/xRUJsZVHG56XyPlG767RnF+2ACnXR+R/3iudB57P0MLJhfA32u6SVGxbudlCagszoTY+JDEJEwjilU1nhwdo5+RCIMiQkyA3ZXVB+BU2sWdFlfCsdswa+iQjSSMUDGhtVtZo52htRGtuWYqxS9KCQhaX1h6Qs3prWBHa2y+0rWKKtll8WrtDzhm9mkCBm9wWTGbgF1LIZykei9kra9kRFIgow511Cq5mH8RxBmNeUfYev83oUCKgDWHqOLHPSZcVcu6zq9TemDqUlI1mZ1DinDp0XVa+n0KJK+rQaVm9uIQaR9SZC5QFgSIz6sxt2Yx/BEUW1Jl5WWs4hyID6oyHz6ZpBFXuqZphy70VqDM/oNWKujKAVvvUiYp+bd1EcgatXmgL24LMaTur+khC21k1aoVUzZxtXGM6+wIFdg6/Y2h1QV1JoNMJdeYWOh1QZ56hU0zdOYVGE6pjSR3/m7ozgT6Xh9Sd39DngfQJJp4f0KYTaLNHG3joeb6rKMUiwitnM8o1tHGLr4AYTVpnSeKodJ/9BbqcFo60tc+SxGzrY3oMmnjFvbcsS+sUxV+SQpPjqn3yaBFIppgylGD6q5TzuoouWrgkyh1hi8JWj3Jzge1pTzQHg0CQOXT4eVgI0rwac7ANow330MCnTNLyrj4QrEt9ZHRcEOIM24xannN3dZfAvuhfwlsF8SnnCKodUN5Ay8GzKNRezO8Ln44OpG/Iq04ArxiUuqECPh5WjDo1opoUmSeoNDqkMm5JFo9EJHUpMt+gzpVbcZZ80OjdDH7WL9KQKjnq5/T6LCwgQaHzniKgOsdLKHJN7+qzxC6Jc8PQFcuss4MUhWFImtxABXZM/9wDFHiif69pNzHvpZpPRq8AdbldcmnKg/oXQ2uOA9XYv0QLDpljhuauDBh5M1MbdtVF8KUVZzEFzJs2rBUZ5hyN+GSaZreLZ2QeH/IujRqxPpzbPBVuurs0eEddyp65h07kHJ7aWLwXSK89Rga/BunazPNl8vYh7isZzJXaTzdYH8Q0fRDT9EFM0wcxTR/ENH0Q0/RBer2ebfjEERGbvPLwKmAmPu4ij7NdWJ4TeRzOln+qPdiVBTpnV4KkkGDMi5dLuJaeE2iz/xaZ3NfXpwhrsdjwHL1e77+xE7PIq12ofd8MDXz3XyOp/YXWu2BHughRbHsJ/8Fltt+wi781ZWhJxZiw3chBFDiokFqT4y9/gHIsNn/gzeNhis+ixIbRqsjSwUpgRjHzn9TJPxE3JFulyAnIWrHZx+AbXRNm54C15sYMf0WeTbPg9sdSbZsEe73MH19PPj+81AJyAAAAAElFTkSuQmCC",
                spot_light: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAApVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+4/eNVAAAANnRSTlMAgA/A8PuwMCELbVBhQfPgu0gHz8EV7OfL3NfSoie2qpD3xntoVTMCnoUEiXc4LXJvPByXXXFMU9KFAAAE+klEQVR42u3daXeaUBAG4GFHAQkSBBXFpeJuoybz/39aqXYJ7WmryA0Dned4gmc+SN5wF4kXBMYYY4wxxhhjjDFWvSVcbKDGDoflYWGYnhfsrZFpHU+O1TWNLFqtBIu2vorDfhKp47HqJ4NQV6az2I0/L7otqA1zkWVQEVHDC+3Hsw7OFGsPNXGMo46GfzSYWVALI72n4d9M8bUL5MmLIf7bjn5HOQ7wFjsgLn3W8CavQNrpGW81AsrsHt7qDJTpeLPQBLqcDt5uDXQleAcXyDJ7mGlAd/c0vIcNVC3wu5pPiraGmQYMwG28iw5Ufca7PAFVHIQaDkINB6GmMUFemhLkjYMQ0+YgxHAQajgINXcGeQaqOAg1HIQaDkINB6GGg1Dz6T8NogBVHISaO4PMgKr/NUhjRq3GHBG6QdpNCWJfV5ROLz+vm2sht9j0uslEQNU+TOL+7DxzYz18Wg0Hq3FPj/vRahYmeqisBv143BsnfT+Oesk4nElAlXxoGU5w8kat47E18syWk14LB/l4DLJC4Ozl1DtlhcBxAsoLtr5a5p/9XqjbsnLGWDO1wDxAN5VhNAI53YBhwimFZRrA6ACttAWHEQQpQGqCmUJrH8DhABSXyDtrfzVXxvM4mkhRMtej7XYYz5+e16vhWYrGUjKcbIeJ9BRtz4NYmilSPDxvtwQvWpogdi6PbxtNu2ym+KM+vdbfF0JyK003VohFJECM0cdiiF3d05I6WEwUACWjIRakzYGQk65hUR1C/b3bxgckdCaT0RM+oOMBFfMOFkTqlHfjqfgYIue8po4P6hlAgd3DR8VAQPCM79R3fpcnWIL+CSq2XPSwBFrl/b2b4F/U56rEjd3DcugbqFLax3+rwVXI8lnDskQtqI6Ta1j1nd9Puobl0fZQlR2WKulCNfYDLFXHgkp0z1iyfgBVsEIs2xyqsMXSjbtQgTWWTqkkiISIjTgi86YE2TUlyFtTgjTmiLy62Is09F10fZxGPewPUI2mOHQxHCIOL4WOP8VBH3vXgjvA6bCDfRfVAeIgxHCA2nCKroudrNDXKwkSzOd7S7L2u7fUljxP+rRvS461Xhx3u729trLCsb32FuvX427u2NuFt35zLgXbmUvep+2rJe28l+1iMWl787X1aWtbn5dQhdblsVlen10LclboXja/F5bZ5lrI6kFW2HwvdOVroQb3D2OMMcYYY/9mThT0dQdEshXX1V9BKFvFC10GUQwXL3wDxLHFX1ZkqPiNaoIoBv70AmL4+IMPgsiu+PteGh/xickK3zNBBAnfc0AEGz9gJxN8T5WhfKaKOQaIIIm/laOPOSoIYWNG6JgywbwJCCGrKPbAO4iiW++VhXm+LPYP5cDtDPmRu1GvoEx64Ybl6IioruQCs5WAJVAvmOff3bVUo8CcWOCtiqiXfiny60iY54saedEuMvfocDMF8yRBY/uqWJOUCw8tqiykp7sy3EopONBZYvq7W3iKUopO0hMhbcsv+qL5IJKIfRZvWgp8SBBDFdC07Fy/Kx5EwE6LdxILigcp3A6k8v8hYMOHBZF9ASclhoJfqRaID/LrGm9VgjIZL5JkAYgOkmdmO7VlIEAhsoqUg3AQqjgINRyEml9OrOpLwneo32Hnb8xa3DrvzlNWGld/PvzhkEr3a8RuZLuY0Wt+PC4MxyHxVpwxxhhjjDHGGGOMAXwBfl3dfmnFiMYAAAAASUVORK5CYII="
            };
            i.prototype.attach = function(e, i, s, n) {
                if (null != i.iconGizmo) {
                    if (i.iconGizmo.getType() == e)
                        return;
                    this.detach(i)
                }
                var r = null;
                e in this._pool && this._pool[e].length > 0 ? (r = this._pool[e].pop())._annoData = n : r = new t(this._app,this,e,n);
                var a = this._anno.meshInstances;
                a.push.apply(a, r._entities.front.model.meshInstances),
                r.attach(i, s),
                this._gizmos.push(r),
                r.isAnno && 0 === r._annoData.style && this.annoUpdateIndex()
            }
            ,
            i.prototype.detach = function(t) {
                var e = t.iconGizmo;
                if (null != e) {
                    var i = e.getType();
                    for (var s in this._gizmos)
                        if (this._gizmos[s] === e) {
                            this._gizmos.splice(s, 1);
                            break
                        }
                    var n = this._anno.meshInstances.filter(function(t) {
                        return -1 === e._entities.front.model.meshInstances.indexOf(t)
                    });
                    this._anno.meshInstances.length = 0,
                    this._anno.meshInstances.push.apply(this._anno.meshInstances, n),
                    e.detach(),
                    i in this._pool || (this._pool[i] = []),
                    this._pool[i].push(e)
                }
            }
            ,
            i.prototype.annoInit = function(t) {
                this._annoOpt = t || {}
            }
            ;
            var o = .2
              , u = .8;
            i.prototype.annoUpdateIndex = function() {
                var t = 0
                  , e = this;
                this._gizmos.filter(function(t) {
                    return 0 === t._type.indexOf("annotation_")
                }).forEach(function(i, s) {
                    switch (i.setAnnoMap(e._iconAssets),
                    i._annoData.style) {
                    case 0:
                        e.annoUpdateOffset(i, .2 * t++, .8, .2, .2);
                        break;
                    default:
                        e.annoUpdateOffset(i, 0, 0, 1, 1)
                    }
                    i._materials.front.update(),
                    i._materials.back.update()
                })
            }
            ,
            i.prototype.annoUpdateOffset = function(t, e, i, s, r) {
                var a = new n.pt(s,r)
                  , h = new n.pt(e,i);
                t._materials.front.opacityMapTiling = a,
                t._materials.front.opacityMapOffset = h,
                t._materials.front.emissiveMapTiling = a,
                t._materials.front.emissiveMapOffset = h,
                t._materials.back.opacityMapTiling = a,
                t._materials.back.opacityMapOffset = h,
                t._materials.back.emissiveMapTiling = a,
                t._materials.back.emissiveMapOffset = h
            }
            ,
            i.prototype.annoBind = function() {
                this.loadIconAsset(),
                this._app.Br.canvas.addEventListener("dblclick", this._onDoubleClick)
            }
            ,
            i.prototype.annoUnbind = function() {
                this._app.Br.canvas.removeEventListener("dblclick", this._onDoubleClick)
            }
            ,
            i.prototype._onAddAnno = function(t, e) {
                if (this._annoOpt.onAdd && e) {
                    var i = e[0]
                      , s = this._app.nl._currentNavigator.getData()
                      , r = i.index
                      , a = void 0 === i.mi ? this._app.rl.getEntity().model.model.meshInstances.indexOf(i.meshInstance) : i.mi
                      , h = void 0 === i.localPoint ? i.point : Array.from(i.localPoint.data);
                    this._annoOpt.onAdd({
                        uid: n.guid.create(),
                        ti: r,
                        mi: a,
                        position: h,
                        camera: {
                            yaw: s.yaw,
                            pitch: s.pitch,
                            position: s.position,
                            pivotPoint: s.pivotPoint
                        },
                        style: 0
                    })
                }
            }
            ;
            var f = ["default", "diamond", "hotspot", "arrow"];
            return i.prototype.loadIconAsset = function(t) {
                if (this._iconAssets.length === f.length)
                    t && t(this._iconAssets);
                else {
                    var e = this
                      , i = 0
                      , s = function(t) {
                        ++i === f.length && (e.anno_cbs.forEach(function(t) {
                            t(e._iconAssets)
                        }),
                        e.anno_cbs.length = 0)
                    };
                    t && this.anno_cbs.push(t);
                    var r = n.app.Br;
                    f.forEach(function(t) {
                        var i = "default.png";
                        r.extCompressedTextureASTC ? i = "astc.gtc" : r.Ln || (r.Fn ? i = "dxt5.gtc" : r.Nn && (i = "pvrtc1_4_rgba.gtc"));
                        var a = e._app.hl.addTextureAsset({
                            uid: n.guid.create(),
                            url: "//jmyd1d1d.oss-cn-shenzhen.aliyuncs.com/defaults/res/anno/" + t + "/" + i
                        });
                        a.ready(s),
                        n.app.assets.load(a),
                        e._iconAssets.push(a)
                    })
                }
                return this._iconAssets
            }
            ,
            i.prototype._onUpdate = function(t) {
                for (var e in this._gizmos)
                    this._gizmos[e].onUpdate(t);
                this._annoOpt.onUpdate && this._annoOpt.onUpdate(t)
            }
            ,
            i.prototype.destroy = function() {
                for (var t = 0; t < this._gizmos.length; t++) {
                    var e = this._gizmos[t];
                    e._texture && (e._texture.destroy(),
                    e._texture = null),
                    e._img = null,
                    e._entities.front.destroy(),
                    e._entities.front = null,
                    e._entities.back.destroy(),
                    e._entities.back = null,
                    e._materials = null,
                    e._helper = null,
                    e = null
                }
                for (var i = 0, s = this._iconAssets.length; i < s; i++)
                    this._iconAssets[i].resource && this._iconAssets[i].resource.destroy();
                this.anno_cbs.length = 0,
                this._gizmos = [],
                this._app.off("prerender", this._onUpdate, this),
                this._app = null
            }
            ,
            i.destroy = function() {
                s && (i.getInstance().destroy(),
                s = null)
            }
            ,
            {
                ig: i
            }
        }()),
        n.extend(n, function() {
            var t = 2
              , e = Math.sqrt(2)
              , i = 20
              , s = .1
              , r = function t(e, i) {
                this._app = e,
                this._manager = i,
                this._materials = n.ug.cg(),
                this._entities = {
                    front: new n.Entity,
                    back: new n.Entity
                };
                var s = this.xg(), r = n.ug.ag(this._app.Br, "y", 2), a, h, c, o;
                a = new n.Gh,
                c = n.ug.hg(r, n.Vi, this._materials.front),
                o = n.ug.hg(s, n.ki, this._materials.front),
                a.addChild(c.node),
                a.addChild(o.node),
                (h = new n.Xh).graph = a,
                h.meshInstances = [c, o],
                this._entities.front.Il("model", {
                    castShadows: !1,
                    receiveShadows: !1,
                    castShadowsLightmap: !1
                }).model = h,
                a = new n.Gh,
                (c = n.ug.hg(r, n.Vi, this._materials.back)).layer = n.La,
                c.updateKey(),
                (o = n.ug.hg(s, n.ki, this._materials.back)).layer = n.La,
                o.updateKey(),
                a.addChild(c.node),
                a.addChild(o.node),
                (h = new n.Xh).graph = a,
                h.meshInstances = [c, o],
                this._entities.back.Il("model", {
                    castShadows: !1,
                    receiveShadows: !1,
                    castShadowsLightmap: !1
                }).model = h,
                this._entities.front.addChild(this._entities.back),
                this._entities.front.enabled = !1
            };
            return r.prototype.attach = function(t) {
                this._focus = t,
                this._focus.zg = this,
                this._entities.front.reparent(this._focus),
                this._entities.front.enabled = !0
            }
            ,
            r.prototype.detach = function() {
                this._focus.zg = null,
                this._focus = null,
                this._entities.front.reparent(null),
                this._entities.front.enabled = !1
            }
            ,
            r.prototype.onUpdate = function(t) {
                var e = this._app.nl.getEntity(), i, s = (new n.ut).copy(this._focus.getPosition()).sub(e.getPosition()).dot(e.forward), r = 1280 / (2 * Math.tan(e.camera.fov * n.I.q / 2)), a = .1 * Math.max(1e-4, s / r * 150);
                this._entities.front.setLocalScale(a, a, a)
            }
            ,
            r.prototype.getType = function() {
                return n.eg._g
            }
            ,
            r.prototype.xg = function() {
                var t = [];
                return t.push({
                    x: 0,
                    y: 0,
                    z: 0
                }),
                t.push({
                    x: 0,
                    y: -20,
                    z: 0
                }),
                t.push({
                    x: 0,
                    y: 0,
                    z: 2
                }),
                t.push({
                    x: 0,
                    y: -20,
                    z: 2
                }),
                t.push({
                    x: 0,
                    y: 0,
                    z: -2
                }),
                t.push({
                    x: 0,
                    y: -20,
                    z: -2
                }),
                t.push({
                    x: 2,
                    y: 0,
                    z: 0
                }),
                t.push({
                    x: 2,
                    y: -20,
                    z: 0
                }),
                t.push({
                    x: -2,
                    y: 0,
                    z: 0
                }),
                t.push({
                    x: -2,
                    y: -20,
                    z: 0
                }),
                t.push({
                    x: e,
                    y: 0,
                    z: e
                }),
                t.push({
                    x: e,
                    y: -20,
                    z: e
                }),
                t.push({
                    x: e,
                    y: 0,
                    z: -e
                }),
                t.push({
                    x: e,
                    y: -20,
                    z: -e
                }),
                t.push({
                    x: -e,
                    y: 0,
                    z: e
                }),
                t.push({
                    x: -e,
                    y: -20,
                    z: e
                }),
                t.push({
                    x: -e,
                    y: 0,
                    z: -e
                }),
                t.push({
                    x: -e,
                    y: -20,
                    z: -e
                }),
                n.ug.rg(this._app.Br, t)
            }
            ,
            r.prototype.destroy = function() {
                this._entities.front.destroy(),
                this._entities.front = null,
                this._entities.back.destroy(),
                this._entities.back = null,
                this._materials = null,
                this._manager = null,
                this._app = null
            }
            ,
            {
                Ag: r
            }
        }()),
        n.extend(n, ((Cr = function t(e, i) {
            for (var s in this._app = e,
            this._manager = i,
            this._materials = n.ug.cg(),
            this._entities = {
                front: new n.Entity,
                back: new n.Entity
            },
            this._entities) {
                var r = []
                  , a = new n.Gh;
                for (var h in n.ug.AXISES) {
                    var c = n.ug.AXISES[h]
                      , o = n.ug.ag(this._app.Br, c, 1)
                      , u = n.ug.hg(o, n.Vi, this._materials[s]);
                    "back" == s && (u.layer = n.La,
                    u.updateKey()),
                    a.addChild(u.node),
                    r.push(u)
                }
                var f = new n.Xh;
                f.graph = a,
                f.meshInstances = r,
                this._entities[s].Il("model", {
                    castShadows: !1,
                    receiveShadows: !1,
                    castShadowsLightmap: !1
                }).model = f
            }
            this._entities.front.addChild(this._entities.back),
            this._entities.front.enabled = !1
        }
        ).prototype.attach = function(t) {
            this._focus = t,
            this._focus.zg = this,
            this._entities.front.reparent(this._focus),
            this._entities.front.enabled = !0
        }
        ,
        Cr.prototype.detach = function() {
            this._focus.zg = null,
            this._focus = null,
            this._entities.front.reparent(null),
            this._entities.front.enabled = !1
        }
        ,
        Cr.prototype.getType = function() {
            return n.eg.yg
        }
        ,
        Cr.prototype.onUpdate = function(t) {
            this._entities.front.setLocalScale(this._focus.light.range, this._focus.light.range, this._focus.light.range)
        }
        ,
        Cr.prototype.destroy = function() {
            this._entities.front.destroy(),
            this._entities.front = null,
            this._entities.back.destroy(),
            this._entities.back = null,
            this._materials = null,
            this._manager = null,
            this._app = null
        }
        ,
        Cr.prototype._createCircle = function(t) {
            var e = this._app.Br, i = 50, s = 51, r = 0, a, h, c, o = new n.an(e,[{
                semantic: n.Yi,
                components: 3,
                type: n.He
            }]), u = new n.hn(e,o,51);
            a = new n.rn(u);
            for (var f = 0; f <= 50; f++) {
                switch (r = 2 * Math.PI * (f / 50),
                h = Math.sin(r),
                c = Math.cos(r),
                t) {
                case "x":
                    a.element[n.Yi].set(0, h, c);
                    break;
                case "y":
                    a.element[n.Yi].set(h, 0, c);
                    break;
                case "z":
                    a.element[n.Yi].set(h, c, 0)
                }
                a.next()
            }
            return a.end(),
            u
        }
        ,
        {
            Mg: Cr
        })),
        n.extend(n, ((Or = function t(e, i) {
            this._app = e,
            this._manager = i,
            this._materials = n.ug.cg(),
            this._entities = {
                front: new n.Entity,
                back: new n.Entity
            };
            var s = n.ug.ag(this._app.Br, "y", 1, {
                x: 0,
                y: -1,
                z: 0
            })
              , r = this.xg();
            for (var a in this._entities) {
                var h = []
                  , c = new n.Gh
                  , o = n.ug.hg(s, n.Vi, this._materials[a])
                  , u = n.ug.hg(r, n.ki, this._materials[a]);
                "back" == a && (o.layer = n.La,
                o.updateKey(),
                u.layer = n.La,
                u.updateKey()),
                c.addChild(o.node),
                c.addChild(u.node);
                var f = new n.Xh;
                f.graph = c,
                f.meshInstances = [o, u],
                this._entities[a].Il("model", {
                    castShadows: !1,
                    receiveShadows: !1,
                    castShadowsLightmap: !1
                }).model = f
            }
            this._entities.front.addChild(this._entities.back),
            this._entities.front.enabled = !1
        }
        ).prototype.xg = function() {
            var t = [];
            return t.push({
                x: 0,
                y: 0,
                z: 0
            }),
            t.push({
                x: 1,
                y: -1,
                z: 0
            }),
            t.push({
                x: 0,
                y: 0,
                z: 0
            }),
            t.push({
                x: -1,
                y: -1,
                z: 0
            }),
            t.push({
                x: 0,
                y: 0,
                z: 0
            }),
            t.push({
                x: 0,
                y: -1,
                z: 1
            }),
            t.push({
                x: 0,
                y: 0,
                z: 0
            }),
            t.push({
                x: 0,
                y: -1,
                z: -1
            }),
            n.ug.rg(this._app.Br, t)
        }
        ,
        Or.prototype.attach = function(t) {
            this._focus = t,
            this._focus.zg = this,
            this._entities.front.reparent(this._focus),
            this._entities.front.enabled = !0
        }
        ,
        Or.prototype.detach = function() {
            this._focus.zg = null,
            this._focus = null,
            this._entities.front.reparent(null),
            this._entities.front.enabled = !1
        }
        ,
        Or.prototype.getType = function() {
            return n.eg.Sg
        }
        ,
        Or.prototype.onUpdate = function(t) {
            var e = this._focus.light.outerConeAngle
              , i = this._focus.light.range
              , s = Math.tan(2 * e * Math.PI / 360) * i;
            this._entities.front.setLocalScale(s, i, s)
        }
        ,
        Or.prototype.destroy = function() {
            this._entities.front.destroy(),
            this._entities.front = null,
            this._entities.back.destroy(),
            this._entities.back = null,
            this._materials = null,
            this._manager = null,
            this._app = null
        }
        ,
        {
            Cg: Or
        })),
        n.extend(n, function() {
            var t = function t(e) {
                this._app = e,
                this._gizmos = [],
                this._pool = {},
                this._app.on("prerender", this._onUpdate, this)
            }
              , e = {
                directional: n.Ag,
                point: n.Mg,
                spot: n.Cg
            }
              , i = null;
            return t.getInstance = function() {
                return null == i && (i = new t(n.helper.Ym())),
                i
            }
            ,
            t._g = "directional",
            t.yg = "point",
            t.Sg = "spot",
            t.prototype.attach = function(t, i) {
                if (null == i && (i = t.light.type),
                null != t.zg) {
                    if (t.zg.getType() == i)
                        return;
                    this.detach(t)
                }
                var s = null;
                (s = i in this._pool && this._pool[i].length > 0 ? this._pool[i].pop() : new e[i](this._app,this)).attach(t),
                this._gizmos.push(s)
            }
            ,
            t.prototype.detach = function(t) {
                var e = t.zg;
                if (null != e) {
                    for (var i in this._gizmos)
                        if (this._gizmos[i] === e) {
                            this._gizmos.splice(i, 1);
                            break
                        }
                    e.detach();
                    var s = e.getType();
                    s in this._pool || (this._pool[s] = []),
                    this._pool[s].push(e)
                }
            }
            ,
            t.prototype._onUpdate = function(t) {
                for (var e in this._gizmos)
                    this._gizmos[e].onUpdate(t)
            }
            ,
            t.prototype.destroy = function() {
                for (var t = 0; t < this._gizmos.length; t++)
                    this._gizmos[t].destroy();
                this._app.off("prerender", this._onUpdate, this),
                this._app = null
            }
            ,
            t.destroy = function() {
                i && (t.getInstance().destroy(),
                i = null)
            }
            ,
            {
                eg: t
            }
        }()),
        n.extend(n, (Er = function t(e) {
            this._app = e,
            this._color = new n.D(1,1,1,1),
            this._lineWidth = 1,
            this._enable = !1,
            this._isInit = !1
        }
        ,
        Dr = new n.D(1,1,1,1),
        Tr = [],
        Pr = [],
        Br = 24,
        Er.prototype._init = function() {
            this._renderer = this._app.renderer,
            this._selection = {},
            this._render = 0,
            this._id = 0,
            this._cleared = !1;
            var t = this._renderer.device, e = n.dn, i = e.createShaderFromCode(t, e.fullscreenQuadVS, e.outputTex2DPS, "outputTex2D"), s = ["precision " + t.precision + " float;", "varying vec2 vUv0;", "uniform float uOffset;", "uniform sampler2D source;", "void main(void)", "{", "    float diff = 0.0;", "    vec4 pixel;", "    vec4 texel = texture2D(source, vUv0);", "    vec4 firstTexel = texel;", "    ", "    pixel = texture2D(source, vUv0 + vec2(uOffset * -2.0, 0.0));", "    texel = max(texel, pixel);", "    diff = max(diff, length(firstTexel.rgb - pixel.rgb));", "    ", "    pixel = texture2D(source, vUv0 + vec2(uOffset * -1.0, 0.0));", "    texel = max(texel, pixel);", "    diff = max(diff, length(firstTexel.rgb - pixel.rgb));", "    ", "    pixel = texture2D(source, vUv0 + vec2(uOffset * +1.0, 0.0));", "    texel = max(texel, pixel);", "    diff = max(diff, length(firstTexel.rgb - pixel.rgb));", "    ", "    pixel = texture2D(source, vUv0 + vec2(uOffset * +2.0, 0.0));", "    texel = max(texel, pixel);", "    diff = max(diff, length(firstTexel.rgb - pixel.rgb));", "    ", "    gl_FragColor = vec4(texel.rgb, min(diff, 1.0));", "}"].join("\n"), r = e.createShaderFromCode(t, e.fullscreenQuadVS, s, "editorOutlineH"), a = ["precision " + t.precision + " float;", "varying vec2 vUv0;", "uniform float uOffset;", "uniform sampler2D source;", "void main(void)", "{", "    vec4 pixel;", "    vec4 texel = texture2D(source, vUv0);", "    vec4 firstTexel = texel;", "    float diff = texel.a;", "    ", "    pixel = texture2D(source, vUv0 + vec2(0.0, uOffset * -2.0));", "    texel = max(texel, pixel);", "    diff = max(diff, length(firstTexel.rgb - pixel.rgb));", "    ", "    pixel = texture2D(source, vUv0 + vec2(0.0, uOffset * -1.0));", "    texel = max(texel, pixel);", "    diff = max(diff, length(firstTexel.rgb - pixel.rgb));", "    ", "    pixel = texture2D(source, vUv0 + vec2(0.0, uOffset * +1.0));", "    texel = max(texel, pixel);", "    diff = max(diff, length(firstTexel.rgb - pixel.rgb));", "    ", "    pixel = texture2D(source, vUv0 + vec2(0.0, uOffset * +2.0));", "    texel = max(texel, pixel);", "    diff = max(diff, length(firstTexel.rgb - pixel.rgb));", "    ", "    gl_FragColor = vec4(texel.rgb, min(diff, 1.0));", "}"].join("\n"), h = e.createShaderFromCode(t, e.fullscreenQuadVS, a, "editorOutlineV"), c;
            this._app.scene.layers.getLayerById(n.LAYERID_UI).onPostRender = function() {
                var e;
                t.scope.resolve("source").setValue(Tr[0]),
                t.hr(!0),
                t.pr(n.he, n.ue),
                n.Bn(t, null, i, null, null, !0)
            }
            ,
            this.outlineLayer = new n.Layer({
                name: "Outline",
                opaqueSortMode: n.SORTMODE_NONE,
                passThrough: !0,
                overrideClear: !0,
                clearColorBuffer: !0,
                clearDepthBuffer: !0,
                clearColor: new n.D(0,0,0,0),
                shaderPass: 24,
                onPostRender: function() {
                    var e = t.scope.resolve("uOffset")
                      , i = t.scope.resolve("source");
                    e.setValue(1 / t.width / 2),
                    i.setValue(Tr[0]),
                    n.Bn(t, Pr[1], r),
                    e.setValue(1 / t.height / 2),
                    i.setValue(Tr[1]),
                    n.Bn(t, Pr[0], h)
                }
            }),
            this.outlineComp = new n.LayerComposition,
            this.outlineComp.pushOpaque(this.outlineLayer),
            this.onUpdateShaderOutline = function(t) {
                return 24 !== t.pass ? t : {
                    opacityMap: t.opacityMap,
                    opacityMapUv: t.opacityMapUv,
                    opacityMapChannel: t.opacityMapChannel,
                    opacityMapTransform: t.opacityMapTransform,
                    opacityVertexColor: t.opacityVertexColor,
                    opacityVertexColorChannel: t.opacityVertexColorChannel,
                    vertexColors: t.vertexColors,
                    alphaTest: t.alphaTest,
                    skin: t.skin
                };
                var e
            }
        }
        ,
        Er.prototype.toggle = function(t) {
            t && !this._enable ? (this._isInit || (this._init(),
            this._isInit = !0),
            this._enable = !0,
            this._app.on("update", this.onUpdate, this)) : !t && this._enable && (this._enable = !1,
            this._app.off("update", this.onUpdate, this))
        }
        ,
        Er.prototype.attach = function(t, e) {
            null == t.outlineId && (this._id++,
            this._selection[this._id] = t,
            t.outlineId = this._id,
            this._render++),
            this._color = null == e ? Dr : e
        }
        ,
        Er.prototype.detach = function(t) {
            null != t.outlineId && null != this._selection[t.outlineId] && (delete this._selection[t.outlineId],
            t.outlineId = null,
            this._render--)
        }
        ,
        Er.prototype.clear = function() {
            for (var t in this._selection)
                this._selection[t].outlineId = null;
            this._selection = {}
        }
        ,
        Er.prototype.onUpdate = function(t) {
            var e = this._app.nl.getEntity().camera
              , i = this._app.Br;
            if (Pr[0] && (Pr[0].width !== i.width || Pr[1].height !== i.height)) {
                for (var s = 0; s < 2; s++)
                    Pr[s].destroy(),
                    Tr[s].destroy();
                Pr = [],
                Tr = []
            }
            if (!Pr[0])
                for (var s = 0; s < 2; s++)
                    Tr[s] = new n.xn(i,{
                        format: n.vi,
                        width: i.width,
                        height: i.height
                    }),
                    Tr[s].minFilter = n.Ge,
                    Tr[s].magFilter = n.Ge,
                    Tr[s].addressU = n.Zt,
                    Tr[s].addressV = n.Zt,
                    Pr[s] = new n.An(i,Tr[s]);
            if (this._render && this._enable) {
                this.outlineLayer.renderTarget = Pr[0],
                this.outlineLayer.clearMeshInstances(),
                this.outlineLayer.cameras[0] !== e && (this.outlineLayer.clearCameras(),
                this.outlineLayer.addCamera(e));
                var r = this.outlineLayer.opaqueMeshInstances;
                for (var a in this._selection) {
                    var h = this._selection[a];
                    h && !h.command && h.material && (h.onUpdateShader = this.onUpdateShaderOutline,
                    h.setParameter("material_emissive", this._color.data3, 1 << 24),
                    r.push(h))
                }
                this._app.renderer.renderComposition(this.outlineComp),
                this._cleared = !1
            } else
                this._cleared = !0
        }
        ,
        {
            wl: Er
        })),
        n.extend(n, function() {
            var t = function t(e) {
                this._app = e,
                this._size = 60,
                this.root = new n.Entity,
                this.distance = 3,
                this.position = new n.ut(0,0,0),
                this.onWindowResize = this.onWindowResize.bind(this),
                this.camera = this.createCamera(),
                this.gizmo = this.createGizmo(),
                this.root.addChild(this.camera),
                this.root.addChild(this.gizmo),
                this._app.root.addChild(this.root),
                this.checkAspectRatio(),
                this._app.on("update", this.update, this),
                window.addEventListener("resize", this.onWindowResize, !1)
            }
              , e = null;
            return t.getInstance = function() {
                return null == e && (e = new t(n.helper.Ym())),
                e
            }
            ,
            t.prototype.createCamera = function() {
                var t = new n.Entity("Coord System Camera");
                return t.Il("camera", {
                    nearClip: .1,
                    farClip: this._size,
                    clearColorBuffer: !1,
                    clearDepthBuffer: !1,
                    frustumCulling: !0,
                    rect: this.getRect()
                }),
                t.camera.camera._maskOffscreen = !0,
                t.camera.camera.cullingMask = n.Fh,
                t
            }
            ,
            t.prototype.createGizmo = function() {
                var t = new n.Entity("Coord System Gizmo")
                  , e = new n.Sn
                  , i = new n.xn(n.app.Br);
                return i.setSource(this.createTexture()),
                e.useLighting = !1,
                e.diffuseMap = i,
                e.diffuseMapUv = 1,
                e.opacity = .8,
                e.blendType = n.$r,
                e.update(),
                t.Il("model", {
                    type: "box"
                }),
                t.model.meshInstances[0].material = e,
                t.model.meshInstances[0].mask |= n.Fh,
                t
            }
            ,
            t.prototype.getRect = function() {
                var t = this._app.Br, e, i;
                return [0, 0, 1 - (t._width - this._size) / t._width, 1 - (t._height - this._size) / t._height]
            }
            ,
            t.prototype.setLayer = function(t) {
                if (t.model)
                    for (var e = t.model.meshInstances, i = 0; i < e.length; i++)
                        e[i].mask |= n.Fh
            }
            ,
            t.prototype.update = function(t) {
                var e = n.app.nl._currentNavigator;
                e && (this.camera.setLocalEulerAngles(e.pitch, e.yaw, 0),
                this.position.copy(this.camera.forward).scale(-this.distance),
                this.camera.setPosition(this.position))
            }
            ,
            t.prototype.onWindowResize = function() {
                this.checkAspectRatio();
                var t = this.getRect();
                this.camera.camera.data.rect.set(t[0], t[1], t[2], t[3]),
                this.camera.camera.camera.setRect(t[0], t[1], t[2], t[3])
            }
            ,
            t.prototype.checkAspectRatio = function() {
                var t = this._app.Br;
                this.camera.camera.horizontalFov = t.height > t.width
            }
            ,
            t.prototype.createTexture = function() {
                var t = [.0646, .6494, .3958, .6494, .7292, .6494, .0646, .3151, .3958, .3151, .7292, .3151]
                  , e = document.createElement("canvas")
                  , i = 256
                  , s = 256;
                e.width = 256,
                e.height = 256;
                var n = e.getContext("2d");
                n.fillStyle = "black",
                n.strokeStyle = "white",
                n.fillRect(0, 0, 256, 256);
                var r = ["+Z", "-Z", "+Y", "-Y", "+X", "-X"];
                n.font = "40px Arial";
                var a = 74
                  , h = 0
                  , c = 0
                  , o = 0
                  , u = 0
                  , f = !1;
                n.lineWidth = 2;
                for (var d = 0; d < r.length; d++)
                    c = 256 * t[h = 2 * d] % 256,
                    o = 256 * t[h + 1],
                    f = (d + 1) % 3 == 0,
                    n.fillStyle = "#222",
                    n.fillRect(c, o, 74, 74),
                    f && n.fillRect(c - 256, o, 74, 74),
                    n.strokeStyle = "white",
                    n.strokeRect(c, o, 74, 74),
                    f && n.strokeRect(c - 256, o, 74, 74),
                    u = n.measureText(r[d]).width,
                    n.fillStyle = "white",
                    n.fillText(r[d], c + (74 - u) / 2, o + 51.8);
                return e
            }
            ,
            t.prototype.destroy = function() {
                this._app.off("update", this.update, this),
                window.removeEventListener("resize", this.onWindowResize, !1),
                this._app.root.removeChild(this.root),
                this._app = e = null
            }
            ,
            t.destroy = function() {
                e && (t.getInstance().destroy(),
                e = null)
            }
            ,
            {
                CoordSystem: t
            }
        }()),
        n.extend(n, ((Ir = function t(e) {
            this._app = e,
            this._queue = [],
            this._currentQueueIndex = -1,
            this._nextQueueIndex = 0,
            this._status = t.STATUS_STOPPED
        }
        ).STATUS_PLAYING = 0,
        Ir.STATUS_PAUSED = 1,
        Ir.STATUS_STOPPED = 2,
        Ir.prototype.getMetaByAssets = function(t) {
            var e = {};
            for (var i in t) {
                var s = t[i]
                  , n = s.resource;
                e[s.uid] = {
                    name: n.name,
                    duration: n.duration
                }
            }
            return e
        }
        ,
        Ir.prototype.getStatus = function() {
            var t = {};
            return t.status = this._status,
            t.currentTime = this._animation.currentTime,
            t.currentAnimation = -1 == this._currentQueueIndex ? null : this._queue[this._currentQueueIndex],
            t
        }
        ,
        Ir.prototype.setEntity = function(t) {
            this._entity = t,
            this._animation = this._entity.Il("animation", {
                activate: !1
            })
        }
        ,
        Ir.prototype.setData = function(t) {
            this._setAssets(t.assets),
            this.setQueue(t.queue),
            this.setMode(t.mode),
            this.setSpeed(t.speed)
        }
        ,
        Ir.prototype._setAssets = function(t) {
            var e = [];
            for (var i in t) {
                var s = t[i];
                e.push(this._app.hl.$m(s.uid).id)
            }
            this._animation.assets = e
        }
        ,
        Ir.prototype.setMode = function(t) {
            this._mode = t
        }
        ,
        Ir.prototype.setSpeed = function(t) {
            this._speed = t,
            this._animation.speed = t
        }
        ,
        Ir.prototype.setQueue = function(t) {
            for (var e = this._getNextQueueIndex(), i = t.indexOf(this._queue[e]); -1 == i && e > 0; )
                e = this._getNextQueueIndex(e),
                i = t.indexOf(this._queue[e]);
            for (var s in this._nextQueueIndex = -1 == i ? 0 : i,
            this._currentQueueIndex = -1,
            this._queue = [],
            t)
                this._queue.push(t[s])
        }
        ,
        Ir.prototype.setCurrentTime = function(t) {
            this._animation.currentTime = t
        }
        ,
        Ir.prototype._getNextQueueIndex = function(t) {
            null == t && (t = this._currentQueueIndex);
            var e = this._currentQueueIndex + 1;
            return e - this._queue.length >= 0 ? 0 : e
        }
        ,
        Ir.prototype._playNextAnimation = function() {
            this._currentQueueIndex = this._nextQueueIndex,
            this._animation.play(this._app.hl.$m(this._queue[this._currentQueueIndex]).name),
            this._nextQueueIndex = this._getNextQueueIndex()
        }
        ,
        Ir.prototype.play = function() {
            this._status == Ir.STATUS_STOPPED && (this._animation.on("end", this._onAnimationEnd, this),
            this._playNextAnimation(),
            this._status = Ir.STATUS_PLAYING,
            this._app.nl.persistentRender())
        }
        ,
        Ir.prototype.stop = function() {
            this._status != Ir.STATUS_STOPPED && (this._animation.off("end", this._onAnimationEnd, this),
            this._animation._stopCurrentAnimation(),
            this._currentQueueIndex = -1,
            this._nextQueueIndex = 0,
            this._status = Ir.STATUS_STOPPED,
            this._app.autoOptimizeRender && this._app.nl.transientRender(),
            this.onAnimationStopped && this.onAnimationStopped())
        }
        ,
        Ir.prototype.pause = function() {
            this._status == Ir.STATUS_PLAYING && (this._animation.off("end", this._onAnimationEnd, this),
            this._animation.playing = !1,
            this._status = Ir.STATUS_PAUSED,
            this._app.autoOptimizeRender && this._app.nl.transientRender())
        }
        ,
        Ir.prototype.continue = function() {
            this._status == Ir.STATUS_PAUSED && (this._animation.on("end", this._onAnimationEnd, this),
            this._animation.playing = !0,
            this._status = Ir.STATUS_PLAYING,
            this._app.nl.persistentRender())
        }
        ,
        Ir.prototype.playSpecific = function(t) {
            var e = this._queue.indexOf(t);
            if (this._status == Ir.STATUS_PLAYING) {
                if (e == this._nextQueueIndex)
                    return
            } else
                this._animation.on("end", this._onAnimationEnd, this),
                this._status = Ir.STATUS_PLAYING;
            this._nextQueueIndex = e,
            this._playNextAnimation(),
            this._app.nl.persistentRender()
        }
        ,
        Ir.prototype._onAnimationEnd = function(t) {
            switch (this._mode) {
            case 0:
                this._animation.loop = !0,
                this._playNextAnimation();
                break;
            case 1:
                this._animation.loop = !0;
                break;
            case 2:
                this._animation.loop = !0,
                0 != this._nextQueueIndex && -1 != this._currentQueueIndex ? this._playNextAnimation() : this.stop()
            }
        }
        ,
        {
            vl: Ir
        })),
        n.extend(n, (jr = function t() {
            this._app = null,
            this._canvas = null,
            this._enablePickers = !1,
            this.aa = null
        }
        ,
        Rr = ["{", '"use_device_pixel_ratio": true,', '"preserve_drawing_buffer": false,', '"antiAlias": true,', '"height": 720,', '"libraries": [],', '"width": 1280,', '"vr": false,', '"fill_mode": "FILL_WINDOW",', '"resolution_mode": "AUTO"', "}"].join("\n"),
        Lr = ["{", '"antialias": true,', '"alpha": true,', '"preserveDrawingBuffer": true,', '"preferWebGl2": true', "}"].join("\n"),
        jr.prototype.reflow = function() {
            this._app.Cr(this._canvas.width, this._canvas.height),
            this._canvas.style.width = "",
            this._canvas.style.height = "",
            this._enablePickers && n.PickerManager.onCanvasResize()
        }
        ,
        jr.prototype.Og = function() {
            return this._canvas
        }
        ,
        jr.prototype.Eg = function(t, e) {
            var i = this
              , s = JSON.parse(Lr)
              , r = JSON.parse(Rr);
            this._canvas = t,
            this._enablePickers = 1 == e.enablePickers,
            this.aa = new n.AA(e.aamode),
            s.preserveDrawingBuffer = null == e.preserveDrawingBuffer || e.preserveDrawingBuffer,
            s.antialias = this.aa.msaa,
            s.alpha = null == e.alpha || e.alpha,
            this._app = new n.Ir(this._canvas,{
                ud: s,
                assetPrefix: e.assetPrefix || (e.assetUrlProtocol ? e.assetUrlProtocol + "://" : null),
                ldPixelRatio: e.ldPixelRatio,
                hdPixelRatio: e.hdPixelRatio,
                autoOptimizeRender: e.autoOptimizeRender,
                textureResolution: e.textureResolution,
                enablePickers: e.enablePickers,
                enableGTC: e.enableGTC,
                withHelpers: !0,
                keyboard: new n.Ff(window),
                mouse: new n.Nf(t),
                touch: "ontouchstart"in window ? new n.Vf(t) : null
            }),
            this._app.Al(r, function(t) {}),
            this.reflow(),
            this._windowResizeHandler = this.reflow.bind(this),
            window.addEventListener("resize", this._windowResizeHandler, !1),
            window.addEventListener("orientationchange", this._windowResizeHandler, !1);
            var a = this._app
              , h = a.scene.layers.getLayerById(n.LAYERID_WORLD);
            return h.transparentSortMode = n.SORTMODE_CUSTOM,
            h.customSortCallback = this.customSortCallback,
            a.scene.drawCalls.push(new n.scene.dc(n.La,n.va,function() {
                a.Br.clear({
                    flags: n.Me
                })
            }
            )),
            this._app
        }
        ,
        jr.prototype.destroyApp = function() {
            this._app && (window.removeEventListener("resize", this._windowResizeHandler, !1),
            window.removeEventListener("orientationchange", this._windowResizeHandler, !1),
            this.aa.smaaEffect && this.aa.smaaEffect.disable(),
            this._app.nl.detachNavigator(),
            n.ig.destroy(),
            n.eg.destroy(),
            n.tg.destroy(),
            n.fg.destroy(),
            n.ug.destroy(),
            n.PickerManager.destroy(),
            this._app.destroy(),
            this.aa = null,
            this._app = null,
            this._canvas = null,
            n.app = null)
        }
        ,
        jr.prototype.Ym = function() {
            return this._app
        }
        ,
        jr.prototype.customSortCallback = function(t, e) {
            return t.layer - e.layer
        }
        ,
        {
            helper: new jr
        })),
        Object.assign(n, function() {
            var t = 15;
            function e(t, e) {
                return 1 / Math.sqrt(2 * Math.PI * e) * Math.exp(-t * t / (2 * e * e))
            }
            function i(i, s, n, r, a) {
                i[0] = e(0, a),
                s[0] = 0,
                s[1] = 0;
                var h = i[0], c, o;
                for (c = 0,
                o = Math.floor(t / 2); c < o; c++) {
                    var u = e(c + 1, a);
                    i[2 * c] = u,
                    i[2 * c + 1] = u,
                    h += 2 * u;
                    var f = 2 * c + 1.5;
                    s[4 * c] = n * f,
                    s[4 * c + 1] = r * f,
                    s[4 * c + 2] = -n * f,
                    s[4 * c + 3] = -r * f
                }
                for (c = 0,
                o = i.length; c < o; c++)
                    i[c] /= h
            }
            var s = function(e) {
                n.ya.call(this, e);
                var i = {
                    aPosition: n.Yi
                }
                  , s = ["attribute vec2 aPosition;", "", "varying vec2 vUv0;", "", "void main(void)", "{", "    gl_Position = vec4(aPosition, 0.0, 1.0);", "    vUv0 = (aPosition + 1.0) * 0.5;", "}"].join("\n")
                  , r = ["precision " + e.precision + " float;", "", "varying vec2 vUv0;", "", "uniform sampler2D uBaseTexture;", "uniform float uBloomThreshold;", "", "void main(void)", "{", "    vec4 color = texture2D(uBaseTexture, vUv0);", "", "    gl_FragColor = clamp((color - uBloomThreshold) / (1.0 - uBloomThreshold), 0.0, 1.0);", "}"].join("\n")
                  , a = ["precision " + e.precision + " float;", "", "#define SAMPLE_COUNT " + t, "", "varying vec2 vUv0;", "", "uniform sampler2D uBloomTexture;", "uniform vec2 uBlurOffsets[SAMPLE_COUNT];", "uniform float uBlurWeights[SAMPLE_COUNT];", "", "void main(void)", "{", "    vec4 color = vec4(0.0);", "    for (int i = 0; i < SAMPLE_COUNT; i++)", "    {", "        color += texture2D(uBloomTexture, vUv0 + uBlurOffsets[i]) * uBlurWeights[i];", "    }", "", "    gl_FragColor = color;", "}"].join("\n")
                  , h = ["precision " + e.precision + " float;", "", "varying vec2 vUv0;", "", "uniform float uBloomEffectIntensity;", "uniform sampler2D uBaseTexture;", "uniform sampler2D uBloomTexture;", "", "void main(void)", "{", "    vec4 bloom = texture2D(uBloomTexture, vUv0) * uBloomEffectIntensity;", "    vec4 base = texture2D(uBaseTexture, vUv0);", "", "    base *= (1.0 - clamp(bloom, 0.0, 1.0));", "", "    gl_FragColor = base + bloom;", "}"].join("\n");
                this.extractShader = new n.Mn(e,{
                    attributes: i,
                    Mr: s,
                    Sr: r
                }),
                this.blurShader = new n.Mn(e,{
                    attributes: i,
                    Mr: s,
                    Sr: a
                }),
                this.combineShader = new n.Mn(e,{
                    attributes: i,
                    Mr: s,
                    Sr: h
                });
                var c = e.width
                  , o = e.height;
                this.targets = [];
                for (var u = 0; u < 2; u++) {
                    var f = new n.xn(e,{
                        format: n.vi,
                        width: c,
                        height: o
                    });
                    f.minFilter = n.We,
                    f.magFilter = n.We,
                    f.addressU = n.Zt,
                    f.addressV = n.Zt,
                    f.name = "pe-bloom";
                    var d = new n.An(e,f,{
                        depth: !1
                    });
                    this.targets.push(d)
                }
                this.bloomThreshold = .25,
                this.blurAmount = 4,
                this.bloomIntensity = 1.25,
                this.sampleWeights = new Float32Array(t),
                this.sampleOffsets = new Float32Array(2 * t)
            };
            return (s.prototype = Object.create(n.ya.prototype)).constructor = s,
            Object.assign(s.prototype, {
                render: function(t, e, s) {
                    var r = this.device
                      , a = r.scope;
                    a.resolve("uBloomThreshold").setValue(this.bloomThreshold),
                    a.resolve("uBaseTexture").setValue(t.colorBuffer),
                    n.Ma(r, this.targets[0], this.nn, this.extractShader),
                    i(this.sampleWeights, this.sampleOffsets, 1 / this.targets[1].width, 0, this.blurAmount),
                    a.resolve("uBlurWeights[0]").setValue(this.sampleWeights),
                    a.resolve("uBlurOffsets[0]").setValue(this.sampleOffsets),
                    a.resolve("uBloomTexture").setValue(this.targets[0].colorBuffer),
                    n.Ma(r, this.targets[1], this.nn, this.blurShader),
                    i(this.sampleWeights, this.sampleOffsets, 0, 1 / this.targets[0].height, this.blurAmount),
                    a.resolve("uBlurWeights[0]").setValue(this.sampleWeights),
                    a.resolve("uBlurOffsets[0]").setValue(this.sampleOffsets),
                    a.resolve("uBloomTexture").setValue(this.targets[1].colorBuffer),
                    n.Ma(r, this.targets[0], this.nn, this.blurShader),
                    a.resolve("uBloomEffectIntensity").setValue(this.bloomIntensity),
                    a.resolve("uBloomTexture").setValue(this.targets[0].colorBuffer),
                    a.resolve("uBaseTexture").setValue(t.colorBuffer),
                    n.Ma(r, e, this.nn, this.combineShader, s)
                },
                enable: function() {
                    this.enabled || (this.enabled = !0,
                    n.app.nl.getEntity().camera.postEffects.addEffect(this))
                },
                disable: function() {
                    this.enabled && (this.enabled = !1,
                    n.app.nl.getEntity().camera.postEffects.removeEffect(this))
                }
            }),
            {
                Dg: s
            }
        }()),
        Object.assign(n, (((Nr = function(t) {
            n.ya.call(this, t),
            this.shader = new n.Mn(t,{
                attributes: {
                    aPosition: n.Yi
                },
                Mr: ["attribute vec2 aPosition;", "", "varying vec2 vUv0;", "", "void main(void)", "{", "    gl_Position = vec4(aPosition, 0.0, 1.0);", "    vUv0 = (aPosition.xy + 1.0) * 0.5;", "}"].join("\n"),
                Sr: ["precision " + t.precision + " float;", "", "uniform float uAmount;", "uniform sampler2D uColorBuffer;", "", "varying vec2 vUv0;", "", "void main() {", "    vec4 color = texture2D(uColorBuffer, vUv0);", "    vec3 c = color.rgb;", "", "    color.r = dot(c, vec3(1.0 - 0.607 * uAmount, 0.769 * uAmount, 0.189 * uAmount));", "    color.g = dot(c, vec3(0.349 * uAmount, 1.0 - 0.314 * uAmount, 0.168 * uAmount));", "    color.b = dot(c, vec3(0.272 * uAmount, 0.534 * uAmount, 1.0 - 0.869 * uAmount));", "", "    gl_FragColor = vec4(min(vec3(1.0), color.rgb), color.a);", "}"].join("\n")
            }),
            this.amount = 1,
            this.enabled = !1
        }
        ).prototype = Object.create(n.ya.prototype)).constructor = Nr,
        Object.assign(Nr.prototype, {
            render: function(t, e, i) {
                var s = this.device
                  , r = s.scope;
                r.resolve("uAmount").setValue(this.amount),
                r.resolve("uColorBuffer").setValue(t.colorBuffer),
                n.Ma(s, e, this.nn, this.shader, i)
            },
            enable: function() {
                this.enabled || (this.enabled = !0,
                n.app.nl.getEntity().camera.postEffects.addEffect(this))
            },
            disable: function() {
                this.enabled && (this.enabled = !1,
                n.app.nl.getEntity().camera.postEffects.removeEffect(this))
            }
        }),
        {
            Tg: Nr
        })),
        Object.assign(n, (((Fr = function(t) {
            n.ya.call(this, t);
            var e = {
                aPosition: n.Yi
            }
              , i = ["attribute vec2 aPosition;", "", "varying vec2 vUv0;", "", "void main(void)", "{", "    gl_Position = vec4(aPosition, 0.0, 1.0);", "    vUv0 = (aPosition.xy + 1.0) * 0.5;", "}"].join("\n")
              , s = ["precision " + t.precision + " float;", "", "uniform sampler2D uColorBuffer;", "uniform float uDarkness;", "uniform float uOffset;", "", "varying vec2 vUv0;", "", "void main() {", "    vec4 texel = texture2D(uColorBuffer, vUv0);", "    vec2 uv = (vUv0 - vec2(0.5)) * vec2(uOffset);", "    gl_FragColor = vec4(mix(texel.rgb, vec3(1.0 - uDarkness), dot(uv, uv)), texel.a);", "}"].join("\n");
            this.vignetteShader = new n.Mn(t,{
                attributes: e,
                Mr: i,
                Sr: s
            }),
            this.offset = 1,
            this.darkness = 1,
            this.enabled = !1
        }
        ).prototype = Object.create(n.ya.prototype)).constructor = Fr,
        Object.assign(Fr.prototype, {
            render: function(t, e, i) {
                var s = this.device
                  , r = s.scope;
                r.resolve("uColorBuffer").setValue(t.colorBuffer),
                r.resolve("uOffset").setValue(this.offset),
                r.resolve("uDarkness").setValue(this.darkness),
                n.Ma(s, e, this.nn, this.vignetteShader, i)
            },
            enable: function() {
                this.enabled || (this.enabled = !0,
                n.app.nl.getEntity().camera.postEffects.addEffect(this))
            },
            disable: function() {
                this.enabled && (this.enabled = !1,
                n.app.nl.getEntity().camera.postEffects.removeEffect(this))
            }
        }),
        {
            Pg: Fr
        })),
        Object.assign(n, (((kr = function(t) {
            n.ya.call(this, t),
            this.needsDepthBuffer = !0,
            this.shader = new n.Mn(t,{
                attributes: {
                    aPosition: n.Yi
                },
                Mr: ["attribute vec2 aPosition;", "", "varying vec2 vUv0;", "", "void main(void)", "{", "    gl_Position = vec4(aPosition, 0.0, 1.0);", "    vUv0 = (aPosition.xy + 1.0) * 0.5;", "}"].join("\n"),
                Sr: ["precision " + t.precision + " float;", "", "varying vec2 vUv0;", "", "uniform sampler2D uColorBuffer;", "uniform sampler2D uDepthMap;", "", "uniform float uMaxBlur;", "uniform float uAperture;", "", "uniform float uFocus;", "uniform float uAspect;", "", "void main()", "{", "    vec2 aspectCorrect = vec2( 1.0, uAspect );", "", "    vec4 depth1 = texture2D( uDepthMap, vUv0 );", "", "    float factor = depth1.x - uFocus;", "", "    vec2 dofblur = vec2 ( clamp( factor * uAperture, -uMaxBlur, uMaxBlur ) );", "", "    vec2 dofblur9 = dofblur * 0.9;", "    vec2 dofblur7 = dofblur * 0.7;", "    vec2 dofblur4 = dofblur * 0.4;", "", "    vec4 col;", "", "    col  = texture2D( uColorBuffer, vUv0 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.0,   0.4  ) * aspectCorrect ) * dofblur );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.15,  0.37 ) * aspectCorrect ) * dofblur );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.29,  0.29 ) * aspectCorrect ) * dofblur );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.37,  0.15 ) * aspectCorrect ) * dofblur );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.40,  0.0  ) * aspectCorrect ) * dofblur );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.37, -0.15 ) * aspectCorrect ) * dofblur );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.29, -0.29 ) * aspectCorrect ) * dofblur );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.15, -0.37 ) * aspectCorrect ) * dofblur );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.0,  -0.4  ) * aspectCorrect ) * dofblur );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.15,  0.37 ) * aspectCorrect ) * dofblur );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.29,  0.29 ) * aspectCorrect ) * dofblur );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.37,  0.15 ) * aspectCorrect ) * dofblur );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.4,   0.0  ) * aspectCorrect ) * dofblur );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.37, -0.15 ) * aspectCorrect ) * dofblur );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.29, -0.29 ) * aspectCorrect ) * dofblur );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.15, -0.37 ) * aspectCorrect ) * dofblur );", "", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.15,  0.37 ) * aspectCorrect ) * dofblur9 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.37,  0.15 ) * aspectCorrect ) * dofblur9 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.37, -0.15 ) * aspectCorrect ) * dofblur9 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.15, -0.37 ) * aspectCorrect ) * dofblur9 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.15,  0.37 ) * aspectCorrect ) * dofblur9 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.37,  0.15 ) * aspectCorrect ) * dofblur9 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.37, -0.15 ) * aspectCorrect ) * dofblur9 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.15, -0.37 ) * aspectCorrect ) * dofblur9 );", "", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.29,  0.29 ) * aspectCorrect ) * dofblur7 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.40,  0.0  ) * aspectCorrect ) * dofblur7 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.29, -0.29 ) * aspectCorrect ) * dofblur7 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.0,  -0.4  ) * aspectCorrect ) * dofblur7 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.29,  0.29 ) * aspectCorrect ) * dofblur7 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.4,   0.0  ) * aspectCorrect ) * dofblur7 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.29, -0.29 ) * aspectCorrect ) * dofblur7 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.0,   0.4  ) * aspectCorrect ) * dofblur7 );", "", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.29,  0.29 ) * aspectCorrect ) * dofblur4 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.4,   0.0  ) * aspectCorrect ) * dofblur4 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.29, -0.29 ) * aspectCorrect ) * dofblur4 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.0,  -0.4  ) * aspectCorrect ) * dofblur4 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.29,  0.29 ) * aspectCorrect ) * dofblur4 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.4,   0.0  ) * aspectCorrect ) * dofblur4 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2( -0.29, -0.29 ) * aspectCorrect ) * dofblur4 );", "    col += texture2D( uColorBuffer, vUv0 + ( vec2(  0.0,   0.4  ) * aspectCorrect ) * dofblur4 );", "", "    gl_FragColor = col / 41.0;", "    gl_FragColor.a = 1.0;", "}"].join("\n")
            }),
            this.maxBlur = 1,
            this.aperture = .025,
            this.focus = 1,
            this.aspect = 1,
            this.enabled = !1
        }
        ).prototype = Object.create(n.ya.prototype)).constructor = kr,
        Object.assign(kr.prototype, {
            render: function(t, e, i) {
                var s = this.device
                  , r = s.scope;
                r.resolve("uMaxBlur").setValue(this.maxBlur),
                r.resolve("uAperture").setValue(this.aperture),
                r.resolve("uFocus").setValue(this.focus),
                r.resolve("uAspect").setValue(this.aspect),
                r.resolve("uColorBuffer").setValue(t.colorBuffer),
                r.resolve("uDepthMap").setValue(this.depthMap),
                n.Ma(s, e, this.nn, this.shader, i)
            },
            enable: function() {
                this.enabled || (this.enabled = !0,
                n.app.nl.getEntity().camera.postEffects.addEffect(this))
            },
            disable: function() {
                this.enabled && (this.enabled = !1,
                n.app.nl.getEntity().camera.postEffects.removeEffect(this))
            }
        }),
        {
            Bg: kr
        })),
        n.extend(n, (Ur = function(t) {
            this.shader = new n.Mn(t,{
                attributes: {
                    aPosition: n.Yi
                },
                Mr: ["attribute vec2 aPosition;", "", "varying vec2 vUv0;", "", "void main(void)", "{", "    gl_Position = vec4(aPosition, 0.0, 1.0);", "    vUv0 = (aPosition.xy + 1.0) * 0.5;", "}"].join("\n"),
                Sr: ["precision " + t.precision + " float;", "uniform sampler2D uColorBuffer;", "uniform float uHue;", "uniform float uSaturation;", "varying vec2 vUv0;", "void main() {", "gl_FragColor = texture2D( uColorBuffer, vUv0 );", "float angle = uHue * 3.14159265;", "float s = sin(angle), c = cos(angle);", "vec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;", "float len = length(gl_FragColor.rgb);", "gl_FragColor.rgb = vec3(", "dot(gl_FragColor.rgb, weights.xyz),", "dot(gl_FragColor.rgb, weights.zxy),", "dot(gl_FragColor.rgb, weights.yzx)", ");", "float average = (gl_FragColor.r + gl_FragColor.g + gl_FragColor.b) / 3.0;", "if (uSaturation > 0.0) {", "gl_FragColor.rgb += (average - gl_FragColor.rgb) * (1.0 - 1.0 / (1.001 - uSaturation));", "} else {", "gl_FragColor.rgb += (average - gl_FragColor.rgb) * (-uSaturation);", "}", "}"].join("\n")
            }),
            this.hue = 0,
            this.saturation = 0,
            this.enabled = !1
        }
        ,
        (Ur = n.inherits(Ur, n.ya)).prototype = n.extend(Ur.prototype, {
            render: function(t, e, i) {
                var s = this.device
                  , r = s.scope;
                r.resolve("uHue").setValue(this.hue),
                r.resolve("uSaturation").setValue(this.saturation),
                r.resolve("uColorBuffer").setValue(t.colorBuffer),
                n.Ma(s, e, this.nn, this.shader, i)
            },
            enable: function() {
                this.enabled || (this.enabled = !0,
                n.app.nl.getEntity().camera.postEffects.addEffect(this))
            },
            disable: function() {
                this.enabled && (this.enabled = !1,
                n.app.nl.getEntity().camera.postEffects.removeEffect(this))
            }
        }),
        {
            Ig: Ur
        })),
        Object.assign(n, (((Vr = function(t) {
            n.ya.call(this, t);
            var e = {
                aPosition: n.Yi
            }
              , i = ["attribute vec2 aPosition;", "", "void main(void)", "{", "    gl_Position = vec4(aPosition, 0.0, 1.0);", "}"].join("\n")
              , s = ["precision " + t.precision + " float;", "", "uniform sampler2D uColorBuffer;", "uniform vec2 uResolution;", "", "#define FXAA_REDUCE_MIN   (1.0/128.0)", "#define FXAA_REDUCE_MUL   (1.0/8.0)", "#define FXAA_SPAN_MAX     8.0", "void main()", "{", "    vec3 rgbNW = texture2D( uColorBuffer, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * uResolution ).xyz;", "    vec3 rgbNE = texture2D( uColorBuffer, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * uResolution ).xyz;", "    vec3 rgbSW = texture2D( uColorBuffer, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * uResolution ).xyz;", "    vec3 rgbSE = texture2D( uColorBuffer, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * uResolution ).xyz;", "    vec4 rgbaM  = texture2D( uColorBuffer,  gl_FragCoord.xy  * uResolution );", "    vec3 rgbM  = rgbaM.xyz;", "    float opacity  = rgbaM.w;", "", "    vec3 luma = vec3( 0.299, 0.587, 0.114 );", "", "    float lumaNW = dot( rgbNW, luma );", "    float lumaNE = dot( rgbNE, luma );", "    float lumaSW = dot( rgbSW, luma );", "    float lumaSE = dot( rgbSE, luma );", "    float lumaM  = dot( rgbM,  luma );", "    float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );", "    float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );", "", "    vec2 dir;", "    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));", "    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));", "", "    float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );", "", "    float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );", "    dir = min( vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX), max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX), dir * rcpDirMin)) * uResolution;", "", "    vec3 rgbA = 0.5 * (", "        texture2D( uColorBuffer, gl_FragCoord.xy  * uResolution + dir * ( 1.0 / 3.0 - 0.5 ) ).xyz +", "        texture2D( uColorBuffer, gl_FragCoord.xy  * uResolution + dir * ( 2.0 / 3.0 - 0.5 ) ).xyz );", "", "    vec3 rgbB = rgbA * 0.5 + 0.25 * (", "        texture2D( uColorBuffer, gl_FragCoord.xy  * uResolution + dir * -0.5 ).xyz +", "        texture2D( uColorBuffer, gl_FragCoord.xy  * uResolution + dir * 0.5 ).xyz );", "", "    float lumaB = dot( rgbB, luma );", "", "    if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )", "    {", "        gl_FragColor = vec4( rgbA, opacity );", "    }", "    else", "    {", "        gl_FragColor = vec4( rgbB, opacity );", "    }", "}"].join("\n");
            this.fxaaShader = new n.Mn(t,{
                attributes: e,
                Mr: i,
                Sr: s
            }),
            this.resolution = new Float32Array(2)
        }
        ).prototype = Object.create(n.ya.prototype)).constructor = Vr,
        Object.assign(Vr.prototype, {
            render: function(t, e, i) {
                var s = this.device
                  , r = s.scope;
                this.resolution[0] = 1 / t.width,
                this.resolution[1] = 1 / t.height,
                r.resolve("uResolution").setValue(this.resolution),
                r.resolve("uColorBuffer").setValue(t.colorBuffer),
                n.Ma(s, e, this.nn, this.fxaaShader, i)
            },
            enable: function() {
                this.enabled || (this.enabled = !0,
                n.app.nl.getEntity().camera.postEffects.addEffect(this))
            },
            disable: function() {
                this.enabled && (this.enabled = !1,
                n.app.nl.getEntity().camera.postEffects.removeEffect(this))
            }
        }),
        {
            FxaaEffect: Vr
        })),
        n.extend(n, function() {
            var t = {};
            function e(t, e, i, s, r) {
                return r = null == r ? "" : r,
                new n.Mn(t,{
                    attributes: e,
                    Mr: r + "\n" + i,
                    Sr: r + "\nprecision " + t.precision + " float;\n" + s
                })
            }
            function i(t, e) {
                var i = new n.xn(t,{
                    format: e,
                    width: t.width,
                    height: t.height,
                    minFilter: n.We,
                    magFilter: n.We,
                    addressU: n.Zt,
                    addressV: n.Zt
                });
                return new n.An(t,i,{
                    depth: !1
                })
            }
            function s(t) {
                var e = new n.xn(t.Br,t.hl.getTextureAssetData({
                    width: 160,
                    height: 560,
                    mipmaps: !1,
                    flipY: !1
                }))
                  , i = new Image;
                return i.onload = function() {
                    e.setSource(this)
                }
                ,
                i.src = "data:image/png;base64,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",
                e
            }
            function r(t) {
                for (var e = new n.xn(t.Br,{
                    width: 66,
                    height: 33,
                    format: n.ci,
                    minFilter: n.Ge,
                    magFilter: n.Ge,
                    mipmaps: !1
                }), i = e.lock(), s = h(), r = 0; r < i.length; r++)
                    i[r] = s[r];
                return e.unlock(),
                e
            }
            t.BlendingWeightCalculationPS = "#define SMAA_AREATEX_MAX_DISTANCE   16\n#define SMAA_AREATEX_PIXEL_SIZE     ( 1.0 / vec2( 160.0, 560.0 ) )\n#define SMAA_AREATEX_SUBTEX_SIZE    ( 1.0 / 7.0 )\n#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * uResolution, 0.0 )\nuniform sampler2D uEdgeTexture;\nuniform sampler2D uAreaTexture;\nuniform sampler2D uSearchTexture;\nuniform vec2 uResolution;\nvarying vec2 vUv;\nvarying vec4 vOffset[3];\nvarying vec2 vPixcoord;\nvec2 round( vec2 x ) {\n\treturn sign( x ) * floor( abs( x ) + 0.5 );\n}\nfloat SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {\n\t// Not required if searchTex accesses are set to point:\n\t// float2 SEARCH_TEX_PIXEL_SIZE = 1.0 / float2(66.0, 33.0);\n\t// e = float2(bias, 0.0) + 0.5 * SEARCH_TEX_PIXEL_SIZE +\n\t//     e * float2(scale, 1.0) * float2(64.0, 32.0) * SEARCH_TEX_PIXEL_SIZE;\n\te.r = bias + e.r * scale;\n\treturn 255.0 * texture2D( searchTex, e, 0.0 ).a;\n}\nfloat SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {\n\t/**\n\t* @PSEUDO_GATHER4\n\t* This texcoord has been offset by (-0.25, -0.125) in the vertex shader to\n\t* sample between edge, thus fetching four edges in a row.\n\t* Sampling with different offsets in each direction allows to disambiguate\n\t* which edges are active from the four fetched ones.\n\t*/\n\tvec2 e = vec2( 0.0, 1.0 );\n\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for\n\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;\n\t\ttexcoord -= vec2( 2.0, 0.0 ) * uResolution;\n\t\tif ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;\n\t}\n\t// We correct the previous (-0.25, -0.125) offset we applied:\n\ttexcoord.x += 0.25 * uResolution.x;\n\t// The searches are bias by 1, so adjust the coords accordingly:\n\ttexcoord.x += uResolution.x;\n\t// Disambiguate the length added by the last step:\n\ttexcoord.x += 2.0 * uResolution.x; // Undo last step\n\ttexcoord.x -= uResolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);\n\treturn texcoord.x;\n}\nfloat SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {\n\tvec2 e = vec2( 0.0, 1.0 );\n\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for\n\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;\n\t\ttexcoord += vec2( 2.0, 0.0 ) * uResolution;\n\t\tif ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;\n\t}\n\ttexcoord.x -= 0.25 * uResolution.x;\n\ttexcoord.x -= uResolution.x;\n\ttexcoord.x -= 2.0 * uResolution.x;\n\ttexcoord.x += uResolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );\n\treturn texcoord.x;\n}\nfloat SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {\n\tvec2 e = vec2( 1.0, 0.0 );\n\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for\n\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;\n\t\ttexcoord += vec2( 0.0, 2.0 ) * uResolution; // WebGL port note: Changed sign\n\t\tif ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;\n\t}\n\ttexcoord.y -= 0.25 * uResolution.y; // WebGL port note: Changed sign\n\ttexcoord.y -= uResolution.y; // WebGL port note: Changed sign\n\ttexcoord.y -= 2.0 * uResolution.y; // WebGL port note: Changed sign\n\ttexcoord.y += uResolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 ); // WebGL port note: Changed sign\n\treturn texcoord.y;\n}\nfloat SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {\n\tvec2 e = vec2( 1.0, 0.0 );\n\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for\n\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;\n\t\ttexcoord -= vec2( 0.0, 2.0 ) * uResolution; // WebGL port note: Changed sign\n\t\tif ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;\n\t}\n\ttexcoord.y += 0.25 * uResolution.y; // WebGL port note: Changed sign\n\ttexcoord.y += uResolution.y; // WebGL port note: Changed sign\n\ttexcoord.y += 2.0 * uResolution.y; // WebGL port note: Changed sign\n\ttexcoord.y -= uResolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 ); // WebGL port note: Changed sign\n\treturn texcoord.y;\n}\nvec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {\n\t// Rounding prevents precision errors of bilinear filtering:\n\tvec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;\n\t// We do a scale and bias for mapping to texel space:\n\ttexcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );\n\t// Move to proper place, according to the subpixel offset:\n\ttexcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;\n\treturn texture2D( areaTex, texcoord, 0.0 ).rg;\n}\nvec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {\n\tvec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );\n\tvec2 e = texture2D( edgesTex, texcoord ).rg;\n\tif ( e.g > 0.0 ) { // Edge at north\n\t\tvec2 d;\n\t\t// Find the distance to the left:\n\t\tvec2 coords;\n\t\tcoords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );\n\t\tcoords.y = offset[ 1 ].y; // offset[1].y = texcoord.y - 0.25 * uResolution.y (@CROSSING_OFFSET)\n\t\td.x = coords.x;\n\t\t// Now fetch the left crossing edges, two at a time using bilinear\n\t\t// filtering. Sampling at -0.25 (see @CROSSING_OFFSET) enables to\n\t\t// discern what value each edge has:\n\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).r;\n\t\t// Find the distance to the right:\n\t\tcoords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );\n\t\td.y = coords.x;\n\t\t// We want the distances to be in pixel units (doing this here allow to\n\t\t// better interleave arithmetic and memory accesses):\n\t\td = d / uResolution.x - pixcoord.x;\n\t\t// SMAAArea below needs a sqrt, as the areas texture is compressed\n\t\t// quadratically:\n\t\tvec2 sqrt_d = sqrt( abs( d ) );\n\t\t// Fetch the right crossing edges:\n\t\tcoords.y -= 1.0 * uResolution.y; // WebGL port note: Added\n\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;\n\t\t// Ok, we know how this pattern looks like, now it is time for getting\n\t\t// the actual area:\n\t\tweights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );\n\t}\n\tif ( e.r > 0.0 ) { // Edge at west\n\t\tvec2 d;\n\t\t// Find the distance to the top:\n\t\tvec2 coords;\n\t\tcoords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );\n\t\tcoords.x = offset[ 0 ].x; // offset[1].x = texcoord.x - 0.25 * uResolution.x;\n\t\td.x = coords.y;\n\t\t// Fetch the top crossing edges:\n\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).g;\n\t\t// Find the distance to the bottom:\n\t\tcoords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );\n\t\td.y = coords.y;\n\t\t// We want the distances to be in pixel units:\n\t\td = d / uResolution.y - pixcoord.y;\n\t\t// SMAAArea below needs a sqrt, as the areas texture is compressed\n\t\t// quadratically:\n\t\tvec2 sqrt_d = sqrt( abs( d ) );\n\t\t// Fetch the bottom crossing edges:\n\t\tcoords.y -= 1.0 * uResolution.y; // WebGL port note: Added\n\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;\n\t\t// Get the area for this direction:\n\t\tweights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );\n\t}\n\treturn weights;\n}\nvoid main() {\n\tgl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, uEdgeTexture, uAreaTexture, uSearchTexture, ivec4( 0.0 ) );\n}",
            t.BlendingWeightCalculationVS = "#define SMAA_AREATEX_MAX_DISTANCE   16\n#define SMAA_AREATEX_PIXEL_SIZE     ( 1.0 / vec2( 160.0, 560.0 ) )\n#define SMAA_AREATEX_SUBTEX_SIZE    ( 1.0 / 7.0 )\nattribute vec2 aPosition;\nuniform vec2 uResolution;\nvarying vec2 vUv;\nvarying vec4 vOffset[ 3 ];\nvarying vec2 vPixcoord;\nvoid SMAABlendingWeightCalculationVS( vec2 texcoord ) {\n\tvPixcoord = texcoord / uResolution;\n\t// We will use these offsets for the searches later on (see @PSEUDO_GATHER4):\n\tvOffset[ 0 ] = texcoord.xyxy + uResolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 ); // WebGL port note: Changed sign in Y and W components\n\tvOffset[ 1 ] = texcoord.xyxy + uResolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 ); // WebGL port note: Changed sign in Y and W components\n\t// And these for the searches, they indicate the ends of the loops:\n\tvOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * uResolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );\n}\nvoid main() {\n\tvUv = (aPosition + 1.0) * 0.5;\n\tSMAABlendingWeightCalculationVS( vUv );\n\tgl_Position = vec4( aPosition, 0.0, 1.0 );\n}\n",
            t.ClearPS = "void main() {\n\tgl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n}\n",
            t.ClearVS = "attribute vec2 aPosition;\nvoid main() {\n\tgl_Position = vec4(aPosition, 0.0, 1.0);\n}\n",
            t.ColorEdgeDetectionPS = "#define SMAA_THRESHOLD 0.1\nuniform sampler2D uColorTexture;\nvarying vec2 vUv;\nvarying vec4 vOffset[ 3 ];\nvec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {\n\tvec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );\n\t// Calculate color deltas:\n\tvec4 delta;\n\tvec3 C = texture2D( colorTex, texcoord ).rgb;\n\tvec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;\n\tvec3 t = abs( C - Cleft );\n\tdelta.x = max( max( t.r, t.g ), t.b );\n\tvec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;\n\tt = abs( C - Ctop );\n\tdelta.y = max( max( t.r, t.g ), t.b );\n\t// We do the usual threshold:\n\tvec2 edges = step( threshold, delta.xy );\n\t// Then discard if there is no edge:\n\tif ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )\n\t\tdiscard;\n\t// Calculate right and bottom deltas:\n\tvec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;\n\tt = abs( C - Cright );\n\tdelta.z = max( max( t.r, t.g ), t.b );\n\tvec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;\n\tt = abs( C - Cbottom );\n\tdelta.w = max( max( t.r, t.g ), t.b );\n\t// Calculate the maximum delta in the direct neighborhood:\n\tfloat maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );\n\t// Calculate left-left and top-top deltas:\n\tvec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;\n\tt = abs( C - Cleftleft );\n\tdelta.z = max( max( t.r, t.g ), t.b );\n\tvec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;\n\tt = abs( C - Ctoptop );\n\tdelta.w = max( max( t.r, t.g ), t.b );\n\t// Calculate the final maximum delta:\n\tmaxDelta = max( max( maxDelta, delta.z ), delta.w );\n\t// Local contrast adaptation in action:\n\tedges.xy *= step( 0.5 * maxDelta, delta.xy );\n\treturn vec4( edges, 0.0, 0.0 );\n}\nvoid main() {\n\tgl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, uColorTexture );\n}",
            t.EdgeDetectionVS = "attribute vec2 aPosition;\nuniform vec2 uResolution;\nvarying vec2 vUv;\nvarying vec4 vOffset[ 3 ];\nvoid SMAAEdgeDetectionVS( vec2 texcoord ) {\n\tvOffset[ 0 ] = texcoord.xyxy + uResolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 ); // WebGL port note: Changed sign in W component\n\tvOffset[ 1 ] = texcoord.xyxy + uResolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 ); // WebGL port note: Changed sign in W component\n\tvOffset[ 2 ] = texcoord.xyxy + uResolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 ); // WebGL port note: Changed sign in W component\n}\nvoid main() {\n\tvUv = (aPosition + 1.0) * 0.5;\n\tSMAAEdgeDetectionVS( vUv );\n\tgl_Position = vec4( aPosition, 0.0, 1.0 );\n}\n",
            t.Level0DefinesSL = "#define SMAA_THRESHOLD              0.1\n#define SMAA_MAX_SEARCH_STEPS       8\n",
            t.Level1DefinesSL = "#define SMAA_THRESHOLD              0.15\n#define SMAA_MAX_SEARCH_STEPS       4\n",
            t.LumaEdgeDetectionPS = "uniform sampler2D uColorTexture;\nvarying vec2 vUv;\nvarying vec4 vOffset[ 3 ];\nvec4 SMAALumaEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {\n\tvec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );\n    // Calculate lumas:\n    vec3 weights = vec3(0.2126, 0.7152, 0.0722);\n    float L = dot(texture2D(colorTex, texcoord).rgb, weights);\n    float Lleft = dot(texture2D(colorTex, offset[0].xy).rgb, weights);\n    float Ltop = dot(texture2D(colorTex, offset[0].zw).rgb, weights);\n    // We do the usual threshold:\n    vec4 delta;\n    delta.xy = abs(L - vec2(Lleft, Ltop));\n    vec2 edges = step(threshold, delta.xy);\n    // Then discard if there is no edge:\n    if (dot(edges, vec2(1.0, 1.0)) == 0.0)\n        discard;\n    // Calcualte right and bottom deltas:\n    float Lright = dot(texture2D(colorTex, offset[1].xy).rgb, weights);\n    float Lbottom = dot(texture2D(colorTex, offset[1].zw).rgb, weights);\n    delta.zw = abs(L - vec2(Lright, Lbottom));\n    // Calcualte the maximun delta in the direct neighborhood:\n\tfloat maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );\n    // Calculate left-left and top-top deltas:\n    float Lleftleft = dot(texture2D(colorTex, offset[2].xy).rgb, weights);\n    float Ltoptop = dot(texture2D(colorTex, offset[2].zw).rgb, weights);\n    delta.zw = abs(vec2(Lleft, Ltop) - vec2(Lleftleft, Ltoptop));\n    // Calculate the final maximum delta:\n\tmaxDelta = max( max( maxDelta, delta.z ), delta.w );\n    // Local contrast adaptation:\n\tedges.xy *= step( 0.5 * maxDelta, delta.xy );\n    return vec4(edges, 0.0, 0.0);\n}\nvoid main() {\n\tgl_FragColor = SMAALumaEdgeDetectionPS( vUv, vOffset, uColorTexture );\n}",
            t.NeighborhoodBlendingPS = "uniform sampler2D uBlendTexture;\nuniform sampler2D uColorTexture;\nuniform vec2 uResolution;\nvarying vec2 vUv;\nvarying vec4 vOffset[ 2 ];\nvec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {\n\t// Fetch the blending weights for current pixel:\n\tvec4 a;\n\ta.xz = texture2D( blendTex, texcoord ).xz;\n\ta.y = texture2D( blendTex, offset[ 1 ].zw ).g;\n\ta.w = texture2D( blendTex, offset[ 1 ].xy ).a;\n\t// Is there any blending weight with a value greater than 0.0?\n\tif ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {\n\t\treturn texture2D( colorTex, texcoord, 0.0 );\n\t} else {\n\t\t// Up to 4 lines can be crossing a pixel (one through each edge). We\n\t\t// favor blending by choosing the line with the maximum weight for each\n\t\t// direction:\n\t\tvec2 offset;\n\t\toffset.x = a.a > a.b ? a.a : -a.b; /// left vs. right\n\t\toffset.y = a.g > a.r ? -a.g : a.r; /// top vs. bottom /// WebGL port note: Changed signs\n\t\t// Then we go in the direction that has the maximum weight:\n\t\tif ( abs( offset.x ) > abs( offset.y )) { /// horizontal vs. vertical\n\t\t\toffset.y = 0.0;\n\t\t} else {\n\t\t\toffset.x = 0.0;\n\t\t}\n\t\t// Fetch the opposite color and lerp by hand:\n\t\tvec4 C = texture2D( colorTex, texcoord, 0.0 );\n\t\ttexcoord += sign( offset ) * uResolution;\n\t\tvec4 Cop = texture2D( colorTex, texcoord, 0.0 );\n\t\tfloat s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );\n\t\t// WebGL port note: Added gamma correction\n\t\tC.xyz = pow(C.xyz, vec3(2.2));\n\t\tCop.xyz = pow(Cop.xyz, vec3(2.2));\n\t\tvec4 mixed = mix(C, Cop, s);\n\t\tmixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));\n\t\treturn mixed;\n\t}\n}\nvoid main() {\n\tgl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, uColorTexture, uBlendTexture );\n}",
            t.NeighborhoodBlendingVS = "attribute vec2 aPosition;\nuniform vec2 uResolution;\nvarying vec2 vUv;\nvarying vec4 vOffset[ 2 ];\nvoid SMAANeighborhoodBlendingVS( vec2 texcoord ) {\n\tvOffset[ 0 ] = texcoord.xyxy + uResolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 ); // WebGL port note: Changed sign in W component\n\tvOffset[ 1 ] = texcoord.xyxy + uResolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 ); // WebGL port note: Changed sign in W component\n}\nvoid main() {\n\tvUv = (aPosition + 1.0) * 0.5;\n\tSMAANeighborhoodBlendingVS( vUv );\n\tgl_Position = vec4( aPosition, 0.0, 1.0 );\n}";
            var a = function(a, h, c, o) {
                this.camera = c;
                var u = {
                    aPosition: n.Yi
                };
                this.level = null == o ? 0 : o;
                var f = "";
                this.clearShader = e(a, u, t.ClearVS, t.ClearPS),
                0 == this.level ? (f = t.Level0DefinesSL,
                this.edgeDetectionShader = e(a, u, t.EdgeDetectionVS, t.ColorEdgeDetectionPS, f)) : (f = t.Level1DefinesSL,
                this.edgeDetectionShader = e(a, u, t.EdgeDetectionVS, t.LumaEdgeDetectionPS, f)),
                this.blendingWeightCalculationShader = e(a, u, t.BlendingWeightCalculationVS, t.BlendingWeightCalculationPS, f),
                this.neighborhoodBlendingShader = e(a, u, t.NeighborhoodBlendingVS, t.NeighborhoodBlendingPS, f),
                this.renderTargets = [i(a, n.bi), i(a, n.vi), i(a, n.vi)],
                this.searchTexture = r(h),
                this.areaTexture = s(h)
            };
            function h() {
                return new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 1, 1, 0, 0, 2, 2, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 2, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 1, 1, 0, 0, 2, 2, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 2, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 1, 1, 0, 0, 2, 2, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 2, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 1, 1, 0, 0, 2, 2, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 2, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
            }
            function c() {
                return "data:image/png;base64,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"
            }
            return (a = n.inherits(a, n.ya)).prototype.render = function(t, e, i) {
                var s = this.device
                  , r = s.scope
                  , a = [1 / t.width, 1 / t.height];
                r.resolve("uResolution").setValue(a),
                r.resolve("uColorTexture").setValue(t.colorBuffer),
                n.Ma(s, this.renderTargets[0], this.nn, this.edgeDetectionShader),
                r.resolve("uEdgeTexture").setValue(this.renderTargets[0].colorBuffer),
                r.resolve("uAreaTexture").setValue(this.areaTexture),
                r.resolve("uSearchTexture").setValue(this.searchTexture),
                n.Ma(s, this.renderTargets[1], this.nn, this.blendingWeightCalculationShader),
                r.resolve("uBlendTexture").setValue(this.renderTargets[1].colorBuffer),
                n.Ma(s, e, this.nn, this.neighborhoodBlendingShader),
                n.Ma(s, this.renderTargets[0], this.nn, this.clearShader),
                n.Ma(s, this.renderTargets[1], this.nn, this.clearShader)
            }
            ,
            a.prototype.enable = function() {
                this.enabled || (this.enabled = !0,
                this.camera.postEffects.addEffect(this))
            }
            ,
            a.prototype.disable = function() {
                this.enabled && (this.enabled = !1,
                this.camera.postEffects.removeEffect(this))
            }
            ,
            {
                SMAAEffect: a
            }
        }()),
        n.extend(n, ((Hr = function t(e) {
            this._app = e,
            this._effects = {
                bloom: new n.Dg(e.Br),
                sepia: new n.Tg(e.Br),
                vignette: new n.Pg(e.Br),
                bokeh: new n.Bg(e.Br),
                hueSaturation: new n.Ig(e.Br)
            }
        }
        ).prototype.setData = function(t) {
            var e = !1;
            t.bloom && (this._effects.bloom.bloomIntensity = t.bloom.bloomIntensity,
            this._effects.bloom.bloomThreshold = t.bloom.bloomThreshold,
            this._effects.bloom.blurAmount = t.bloom.blurAmount,
            t.bloom.enabled ? (this._effects.bloom.enable(),
            e = !0) : this._effects.bloom.disable()),
            t.sepia && (this._effects.sepia.amount = t.sepia.amount,
            t.sepia.enabled ? (this._effects.sepia.enable(),
            e = !0) : this._effects.sepia.disable()),
            t.vignette && (this._effects.vignette.offset = t.vignette.offset,
            this._effects.vignette.darkness = t.vignette.darkness,
            t.vignette.enabled ? (this._effects.vignette.enable(),
            e = !0) : this._effects.vignette.disable()),
            t.bokeh && (this._effects.bokeh.maxBlur = t.bokeh.maxBlur,
            this._effects.bokeh.aperture = t.bokeh.aperture,
            this._effects.bokeh.focus = t.bokeh.focus,
            this._effects.bokeh.aspect = t.bokeh.aspect,
            t.bokeh.enabled ? (this._effects.bokeh.enable(),
            e = !0) : this._effects.bokeh.disable()),
            t.hueSaturation && (this._effects.hueSaturation.hue = t.hueSaturation.hue,
            this._effects.hueSaturation.saturation = t.hueSaturation.saturation,
            t.hueSaturation.enabled ? (this._effects.hueSaturation.enable(),
            e = !0) : this._effects.hueSaturation.disable())
        }
        ,
        {
            pl: Hr
        })),
        n.extend(n, (Wr = 2e3,
        (Gr = function t(e) {
            this._app = e,
            this._timestamp = Date.now(),
            this._always = !1,
            this._currentMaterial = null,
            this._currentCD = null,
            this._enable = !1
        }
        ).prototype.toggle = function(t) {
            t && !this._enable ? (this._enable = !0,
            this._app.on("update", this.onUpdate, this),
            this._app.outline.toggle(!0)) : !t && this._enable && (this._enable = !1,
            this._timestamp -= this._currentCD)
        }
        ,
        Gr.prototype.attachMaterialByUid = function(t, e, i) {
            var s = this._app.ol.getMaterials()[this._app.hl.$m(t).name];
            this.attachMaterial(s, e, i)
        }
        ,
        Gr.prototype.attachMaterial = function(t, e, i) {
            for (var s in this._app.rl.getModel().meshInstances) {
                var n = this._app.rl.getModel().meshInstances[s];
                n.material == t ? this._app.outline.attach(n, i) : this._app.outline.detach(n)
            }
            this._currentMaterial = t,
            null == e ? (this._always = !1,
            this._currentCD = Wr) : -1 == e ? (this._always = !0,
            this._currentCD = e) : (this._always = !1,
            this._currentCD = e),
            this.restartCD()
        }
        ,
        Gr.prototype.restartCD = function() {
            this._timestamp = Date.now()
        }
        ,
        Gr.prototype.onUpdate = function(t) {
            this._always ? this.attachMaterial(this._currentMaterial, this._currentCD) : Date.now() - this._timestamp >= this._currentCD && (this._app.outline.clear(),
            this._enable || (this._app.outline.toggle(!1),
            this._app.off("update", this.onUpdate, this)))
        }
        ,
        Gr.prototype.clear = function() {
            this._app.outline.clear(),
            this._currentMaterial = null
        }
        ,
        {
            zl: Gr
        })),
        n.extend(n, ((Yr = function(t) {
            switch (this.mode = t,
            this.msaa = !1,
            this.level = -1,
            this.lastFrameAA = !1,
            this.mode) {
            case void 0:
            case Yr.MODE_MSAA:
                this.msaa = !0;
                break;
            case Yr.MODE_SMAA_LEVEL_0_ALWAYS:
                this.always = !0,
                this.level = 0;
                break;
            case Yr.MODE_SMAA_LEVEL_0_LAST_FRAME:
                this.always = !1,
                this.level = 0;
                break;
            case Yr.MODE_SMAA_LEVEL_1_ALWAYS:
                this.always = !0,
                this.level = 1;
                break;
            case Yr.MODE_SMAA_LEVEL_1_LAST_FRAME:
                this.always = !1,
                this.level = 1
            }
        }
        ).MODE_NONE = -1,
        Yr.MODE_MSAA = 0,
        Yr.MODE_SMAA_LEVEL_0_ALWAYS = 1,
        Yr.MODE_SMAA_LEVEL_1_ALWAYS = 2,
        Yr.MODE_SMAA_LEVEL_0_LAST_FRAME = 3,
        Yr.MODE_SMAA_LEVEL_1_LAST_FRAME = 4,
        Yr.prototype.initEffect = function(t, e) {
            -1 != this.level && (this.smaaEffect = new n.SMAAEffect(t.Br,t,e,this.level),
            this.always && this.smaaEffect.enable())
        }
        ,
        {
            AA: Yr
        })),
        n.extend(n, function() {
            function t(t, e) {
                var i = (e = e || {}).results || [], s = !i.length, r = e.axis || "x", a = e.duration || 1, h = [], c = [], o = [], u = -1, f = -1, d = {}, l = new n.jt, b = new n.ut, v = new n.ut, m = new n.ut, g = new n.ut, p = 0, w = 0, x = 1 / 0, z = -1 / 0, _, A, y, M;
                if (t.forEach(function(t, e) {
                    var n = t.aabb
                      , r = t.material.cull
                      , a = t.node.getPosition().clone();
                    s && i.push({
                        posBegin: a,
                        posEnd: a.clone(),
                        cull: r
                    }),
                    h.push({
                        index: e,
                        aabb: n.clone()
                    }),
                    0 === e ? l.copy(n) : l.add(n)
                }),
                s) {
                    for (e.pivot ? v.copy(e.pivot) : v.copy(l.center),
                    u = e.gap && e.gap > 0 ? e.gap : .618 * l.halfExtents[r] * .618,
                    h.sort(function(t, e) {
                        return t.aabb.center[r] - e.aabb.center[r]
                    }),
                    h.forEach(function(t, e) {
                        (w = b.sub2(v, t.aabb.center).length()) < x && (f = e,
                        x = w)
                    }),
                    _ = 0; _ < h.length; _++)
                        if (!d[_]) {
                            var S;
                            for (o = [S = h[_]],
                            A = _ + 1; A < h.length; A++)
                                if (!d[A]) {
                                    var C = h[A];
                                    S.aabb.center[r] === C.aabb.center[r] && (o.push(C),
                                    d[A] = !0)
                                }
                            c.push(o)
                        }
                    for (M = 0; M < c.length - 1; M++) {
                        z = -1 / 0;
                        var O = c[M], E = c[M + 1], S, C, D, T;
                        for (_ = 0; _ < O.length; _++) {
                            var P = O[_]
                              , B = i[P.index].posEnd;
                            B[r] > z && (S = P,
                            z = B[r])
                        }
                        for (A = 0; A < E.length; A++) {
                            for (C = E[A],
                            T = S,
                            y = A - 1; y >= 0; y--)
                                if (D = E[y],
                                C.aabb.Lt(D.aabb)) {
                                    T = D;
                                    break
                                }
                            i[C.index].posEnd[r] = i[T.index].posEnd[r] + T.aabb.halfExtents[r] + C.aabb.halfExtents[r] + u
                        }
                    }
                    w = b.sub2(v, i[h[f].index].posEnd).length(),
                    i.forEach(function(t) {
                        t.posEnd[r] -= w
                    })
                }
                var I = function(e) {
                    p += e;
                    var s = n.I.clamp(p / a, 0, 1);
                    h.forEach(function(e) {
                        var n = e.index
                          , r = t[n]
                          , a = i[n].posBegin
                          , h = i[n].posEnd;
                        g.copy(h).sub(a).scale(s),
                        m.add2(a, g),
                        r.node.setPosition(m)
                    }),
                    1 === s && (n.app.fire("app:utils:axialExplode:end", i),
                    n.app.off("update", I)),
                    n.app.rd = !0
                };
                n.app.rd = !0,
                n.app.fire("app:utils:axialExplode:begin"),
                n.app.on("update", I)
            }
            return {
                axialExplode: t
            }
        }()),
        n.extend(n, function() {
            function t(t, e) {
                var i = (e = e || {}).results || []
                  , s = !i.length
                  , r = e.duration || 1
                  , a = e.threshold || 1
                  , h = []
                  , c = {}
                  , o = []
                  , u = []
                  , f = 0
                  , d = 0
                  , l = -1
                  , b = new n.jt
                  , v = new n.ut
                  , m = new n.ut
                  , g = new n.ut;
                if (t.forEach(function(t, e) {
                    var r = t.aabb
                      , a = t.material.cull
                      , c = t.node.getPosition().clone();
                    s && i.push({
                        posBegin: c,
                        posEnd: c.clone(),
                        cull: a
                    }),
                    h.push({
                        index: e,
                        sphere: new n.Vt(r.center.clone(),Math.max.apply(null, r.halfExtents.data)),
                        direction: new n.ut,
                        distance: 0,
                        groupIndex: -1,
                        elementIndex: -1
                    }),
                    0 === e ? b.copy(r) : b.add(r)
                }),
                s) {
                    l = e.gap && e.gap > 0 ? e.gap : .618 * Math.max.apply(null, b.halfExtents.data) * .618 / 8;
                    for (var p = 0; p < h.length; p++) {
                        var w;
                        (w = h[p]).direction.sub2(w.sphere.center, b.center),
                        w.distance = w.direction.length(),
                        w.direction.normalize()
                    }
                    h.sort(function(t, e) {
                        return t.distance - e.distance
                    });
                    for (var p = 0; p < h.length; p++)
                        if (!c[p]) {
                            var w = h[p];
                            c[p] = !0,
                            u = [w];
                            for (var x = p + 1; x < h.length; x++)
                                if (!c[x]) {
                                    var z = h[x];
                                    Math.acos(w.direction.dot(z.direction)) <= a && (u.push(z),
                                    c[x] = !0)
                                }
                            o.push(u)
                        }
                    for (var p = 0; p < o.length; p++) {
                        u = o[p];
                        for (var x = 0; x < u.length; x++)
                            u[x].groupIndex = p,
                            u[x].elementIndex = x
                    }
                    for (var p = 0; p < h.length; p++) {
                        var w, _ = (w = h[p]).sphere, A = w.index, y = w.groupIndex, M = w.elementIndex;
                        if (0 === M)
                            v.copy(w.direction).scale(w.distance + _.radius + l),
                            i[A].posEnd.copy(v);
                        else {
                            var z, S = (z = (u = o[y])[M - 1]).sphere, C = z.index;
                            d = v.sub2(i[C].posEnd, b.center).length() + S.radius + l + _.radius,
                            v.copy(w.direction).scale(d),
                            i[A].posEnd.copy(v)
                        }
                    }
                }
                var O = function(e) {
                    f += e;
                    var s = n.I.clamp(f / r, 0, 1);
                    h.forEach(function(e) {
                        var n = e.index
                          , r = t[n]
                          , a = i[n].posBegin
                          , h = i[n].posEnd;
                        g.copy(h).sub(a).scale(s),
                        m.add2(a, g),
                        r.node.setPosition(m)
                    }),
                    1 === s && (n.app.fire("app:utils:radialExplode:end", i),
                    n.app.off("update", O)),
                    n.app.rd = !0
                };
                n.app.fire("app:utils:radialExplode:begin"),
                n.app.rd = !0,
                n.app.on("update", O)
            }
            return {
                radialExplode: t
            }
        }()),
        n
    })
}
, function(t, e, i) {
    t.exports = !i(3)(function() {
        return 7 != Object.defineProperty({}, "a", {
            get: function() {
                return 7
            }
        }).a
    })
}
, function(t, e, i) {
    var s = i(1)
      , n = i(107)
      , r = i(24)
      , a = Object.defineProperty;
    e.f = i(7) ? Object.defineProperty : function t(e, i, h) {
        if (s(e),
        i = r(i, !0),
        s(h),
        n)
            try {
                return a(e, i, h)
            } catch (t) {}
        if ("get"in h || "set"in h)
            throw TypeError("Accessors not supported!");
        return "value"in h && (e[i] = h.value),
        e
    }
}
, function(t, e, i) {
    var s = i(26)
      , n = Math.min;
    t.exports = function(t) {
        return t > 0 ? n(s(t), 9007199254740991) : 0
    }
}
, function(t, e, i) {
    var s = i(25);
    t.exports = function(t) {
        return Object(s(t))
    }
}
, function(t, e) {
    t.exports = function(t) {
        if ("function" != typeof t)
            throw TypeError(t + " is not a function!");
        return t
    }
}
, function(t, e, i) {
    var s = i(8)
      , n = i(35);
    t.exports = i(7) ? function(t, e, i) {
        return s.f(t, e, n(1, i))
    }
    : function(t, e, i) {
        return t[e] = i,
        t
    }
}
, function(t, e, i) {
    var s = i(2)
      , n = i(12)
      , r = i(16)
      , a = i(36)("src")
      , h = "toString"
      , c = Function.toString
      , o = ("" + c).split(h);
    i(23).inspectSource = function(t) {
        return c.call(t)
    }
    ,
    (t.exports = function(t, e, i, h) {
        var c = "function" == typeof i;
        c && (r(i, "name") || n(i, "name", e)),
        t[e] !== i && (c && (r(i, a) || n(i, a, t[e] ? "" + t[e] : o.join(String(e)))),
        t === s ? t[e] = i : h ? t[e] ? t[e] = i : n(t, e, i) : (delete t[e],
        n(t, e, i)))
    }
    )(Function.prototype, h, function t() {
        return "function" == typeof this && this[a] || c.call(this)
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(3)
      , r = i(25)
      , a = /"/g
      , h = function(t, e, i, s) {
        var n = String(r(t))
          , h = "<" + e;
        return "" !== i && (h += " " + i + '="' + String(s).replace(a, "&quot;") + '"'),
        h + ">" + n + "</" + e + ">"
    };
    t.exports = function(t, e) {
        var i = {};
        i[t] = e(h),
        s(s.P + s.F * n(function() {
            var e = ""[t]('"');
            return e !== e.toLowerCase() || e.split('"').length > 3
        }), "String", i)
    }
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        function i(t, e) {
            for (var i in e)
                e.hasOwnProperty(i) && (t[i] = e[i]);
            function s() {
                this.constructor = t
            }
            t.prototype = null === e ? Object.create(e) : (s.prototype = e.prototype,
            new s)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = function() {
            function e(t) {
                this.app = t,
                this._assets = {}
            }
            return e.prototype.get = function(t) {
                return this._assets[t] || this.app.assets.find(t) || this.app.assets.get(t) || null
            }
            ,
            e.prototype.list = function() {
                var t = [];
                for (var e in this._assets)
                    t.push(this._assets[e]);
                return t
            }
            ,
            e.prototype.load = function(e, i) {
                var s = this;
                return void 0 === i && (i = {}),
                new Promise(function(n, r) {
                    var a = s.get(e);
                    if (a.loaded)
                        return i.onProgress && i.onProgress(a, a, 1, 1),
                        n(a);
                    var h = function(e) {
                        e.off(t.jg),
                        i.onProgress && i.onProgress(e, e, 1, 1),
                        n(e)
                    };
                    a.once(t.Rg, h),
                    a.once(t.jg, r),
                    s.app.assets.load(a)
                }
                )
            }
            ,
            e.prototype.destroy = function() {
                this._assets = {},
                this.app = null
            }
            ,
            e
        }(), n = function(e) {
            function s(t) {
                return e.call(this, t) || this
            }
            return i(s, e),
            s.prototype.add = function(e) {
                if (this._assets[e[this.app.assets.primaryKey]])
                    return this._assets[e[this.app.assets.primaryKey]];
                var i = new t.Zf(e.name,t.dm,{
                    url: e.url,
                    variants: e.variants
                },{
                    addressu: e.addressu || "repeat",
                    addressv: e.addressv || "repeat",
                    anisotropy: e.anisotropy || 1,
                    magfilter: e.magfilter || "linear",
                    minfilter: e.minfilter || "linear_mip_linear",
                    mipmaps: void 0 === e.mipmaps || e.mipmaps,
                    rgbm: void 0 !== e.rgbm && e.rgbm
                });
                void 0 !== e.width && (i.data.width = e.width),
                void 0 !== e.height && (i.data.height = e.height);
                var s = e[this.app.assets.primaryKey] || i.id;
                return "uid" === this.app.assets.primaryKey && "string" == typeof s && (i.uid = s),
                this._assets[s] = i,
                this.app.assets.add(i),
                i
            }
            ,
            s.prototype.remove = function(t) {
                return this.app.assets.remove(this._assets[t]),
                delete this._assets[t],
                this
            }
            ,
            s
        }(s), r = function(e) {
            function s(t) {
                var i = e.call(this, t) || this;
                return i.currentSkybox = null,
                i
            }
            return i(s, e),
            s.prototype.add = function(e, i) {
                var n = this;
                if (void 0 === i && (i = {}),
                this._assets[e[this.app.assets.primaryKey]])
                    return this._assets[e[this.app.assets.primaryKey]];
                var r = s.DEFAULT_ASSET_OPTIONS
                  , a = [];
                e.textures.forEach(function(t) {
                    var e = n.app.assets.textures.add(t);
                    a.push(e.id)
                });
                var h = new t.Zf(e.name,t.lm,e.cubemap && !1 !== e.prefiltered ? {
                    url: e.cubemap
                } : null,{
                    anisotropy: "number" == typeof i.anisotropy ? i.anisotropy : r.anisotropy,
                    magFilter: "number" == typeof i.magfilter ? i.magfilter : r.magfilter,
                    minFilter: "number" == typeof i.minfilter ? i.minfilter : r.minfilter,
                    rgbm: !!i.rgbm,
                    textures: a
                })
                  , c = e[this.app.assets.primaryKey] || h.id;
                return "uid" === this.app.assets.primaryKey && "string" == typeof c && (h.uid = c),
                h.loadFaces = !!e.loadFaces,
                this.app.assets.add(h),
                this._assets[c] = h,
                h
            }
            ,
            s.prototype.load = function(e, i) {
                var s = this;
                return void 0 === i && (i = {}),
                new Promise(function(n, r) {
                    var a = s.get(e);
                    if (!a)
                        return r("No cubemap asset with primaryKey " + e + ".");
                    var h = "boolean" == typeof i.loadFaces ? i.loadFaces : a.loadFaces
                      , c = 0
                      , o = h ? 7 : 1;
                    if (a.loadFaces = h,
                    a.loaded)
                        return i.onProgress && i.onProgress(a, a, 1, 1),
                        n(a);
                    var u = function(e) {
                        c++,
                        e.off(t.jg),
                        i.onProgress && i.onProgress(a, e, c, o),
                        c === o && n(a)
                    };
                    h && a.data.textures.forEach(function(e) {
                        var i = s.app.assets.textures.get(e);
                        i.once(t.Rg, u),
                        i.once(t.jg, r)
                    }),
                    a.once(t.Rg, u),
                    a.once(t.jg, r),
                    s.app.assets.load(a)
                }
                )
            }
            ,
            s.prototype.setSkybox = function(t) {
                var e = null;
                for (var i in this.currentSkybox = null,
                this._assets)
                    this._assets[i] === t && (this.currentSkybox = i,
                    e = t.resources);
                this.app.scene.setSkybox(e)
            }
            ,
            s.prototype.setTextureSize = function(t, e, i) {
                var s = this;
                return void 0 === e && (e = 0),
                void 0 === i && (i = {}),
                new Promise(function(n, r) {
                    var a = s.app
                      , h = s.get(t)
                      , c = 0
                      , o = 6
                      , u = 0
                      , f = []
                      , d = function(t) {
                        if (c++,
                        i.onProgress && i.onProgress(h, t, c, 6),
                        6 === c) {
                            var e = h.resource;
                            e._width = u,
                            e._height = u,
                            e.setSource(f),
                            e.dirtyAll(),
                            i.autoUnload && void 0 !== h.data.width && h.data.textures.forEach(function(t) {
                                var e = a.assets.get(t)
                                  , i = e.getPreferredAsset({
                                    preferredSize: h.data.width
                                });
                                e.id !== i.id && i.loaded && i.unload()
                            }),
                            h.data.width = u,
                            h.data.height = u,
                            n(h)
                        }
                    };
                    h.data.textures.forEach(function(t, s) {
                        var n = a.assets.get(t)
                          , r = n.getPreferredAsset({
                            preferredSize: e
                        });
                        0 === s && (u = i.onCalcFaceSize ? i.onCalcFaceSize(n.data.width) : n.data.width);
                        var h = function(t) {
                            f[s] = t.resource.getSource(),
                            d(t)
                        };
                        r.ready(h),
                        a.assets.load(r)
                    })
                }
                )
            }
            ,
            s.DEFAULT_ASSET_OPTIONS = {
                anisotropy: 1,
                magfilter: 1,
                minfilter: 5,
                rgbm: !0,
                textures: []
            },
            s
        }(s), a = ["diffuse", "specular", "ambient", "emissive"], h = a.reduce(function(t, e) {
            return t[e] = !0,
            t
        }, {}), c = ["diffuseMapOffset", "diffuseMapTiling", "opacityMapOffset", "opacityMapTiling", "aoMapOffset", "aoMapTiling", "specularMapOffset", "specularMapTiling", "metalnessMapOffset", "metalnessMapTiling", "glossMapOffset", "glossMapTiling", "heightMapOffset", "heightMapTiling", "emissiveMapOffset", "emissiveMapTiling", "normalMapOffset", "normalMapTiling", "lightMapOffset", "lightMapTiling"], o = c.reduce(function(t, e) {
            return t[e] = !0,
            t
        }, {}), u = ["cubeMapProjectionBox"], f = u.reduce(function(t, e) {
            return t[e] = !0,
            t
        }, {}), d = a.concat(c), l = d.reduce(function(t, e) {
            return t[e] = !0,
            t
        }, {}), b = ["aoMap", "diffuseMap", "glossMap", "metalnessMap", "specularMap", "emissiveMap", "opacityMap", "lightMap", "normalMap", "heightMap", "sphereMap", "cubeMap"], v = b.reduce(function(t, e) {
            return t[e] = !0,
            t
        }, {}), m = "axis", g = "obb", p = "aabb", w = "grid", x = "transform", z = "skeleton", _ = "light", A = "directional", y = "point", M = "spot", S = "uid", C = "name", O = 1e4, E = 10001, D = function(e) {
            function s(t) {
                return e.call(this, t) || this
            }
            return i(s, e),
            s.prototype.add = function(e) {
                if (this._assets[e[this.app.assets.primaryKey]])
                    return this._assets[e[this.app.assets.primaryKey]];
                e.shader || (e.shader = "blinn");
                var i = new t.Zf(e.name,t.um,null,e)
                  , s = e[this.app.assets.primaryKey] || i.id;
                return "uid" === this.app.assets.primaryKey && "string" == typeof s && (i.uid = s),
                this._assets[s] = i,
                this.app.assets.add(i),
                i
            }
            ,
            s.prototype.link = function(t, e) {
                var i = this;
                void 0 === e && (e = {}),
                b.forEach(function(s) {
                    var n = t[s];
                    if ("string" == typeof n || "number" == typeof n) {
                        var r = i.app.assets.textures.get(n) || i.app.assets.cubemaps.get(n);
                        r ? (t[s] = r.id,
                        e[n] = r.id) : t[s] = null
                    }
                })
            }
            ,
            s.prototype.load = function(e, i) {
                var s = this;
                return void 0 === i && (i = {}),
                new Promise(function(n, r) {
                    var a = s.get(e)
                      , h = 0
                      , c = 1;
                    if (a.loaded)
                        return i.onProgress && i.onProgress(a, a, 1, 1),
                        n(a);
                    var o = function(e) {
                        h++,
                        e.off(t.jg),
                        i.onProgress && i.onProgress(a, e, h, c),
                        h === c && n(a)
                    };
                    b.forEach(function(e) {
                        var i = a.data[e];
                        if ("number" == typeof i) {
                            var n = void 0, h = s.app.assets.get(i), u;
                            h.getPreferredAsset && (n = h.getPreferredAsset({
                                useTextureCompression: a.data[e + "Compression"],
                                preferredSize: a.data[e + "Size"],
                                channel: a.data[e + "Channel"]
                            })),
                            (n ? n.loaded : h.loaded) || (h.once(t.Rg, o),
                            h.once(t.jg, r),
                            c++)
                        }
                    }),
                    a.once(t.Rg, o),
                    a.once(t.jg, r),
                    s.app.assets.load(a)
                }
                )
            }
            ,
            s
        }(s), T = function(e) {
            function s(t) {
                return e.call(this, t) || this
            }
            return i(s, e),
            s.prototype.add = function(e, i) {
                var s = this;
                if (void 0 === i && (i = {}),
                this._assets[e[this.app.assets.primaryKey]])
                    return this._assets[e[this.app.assets.primaryKey]];
                var n = i.mappingKey || this.app.assets.primaryKey
                  , r = {}
                  , a = {}
                  , h = {
                    area: 0,
                    mapping: [],
                    materials: [],
                    textures: [],
                    animations: []
                };
                for (var c in e.textures && e.textures.length > 0 && e.textures.forEach(function(t) {
                    s.app.assets.textures.add(t)
                }),
                e.materials && e.materials.length > 0 && (e.materials.forEach(function(t) {
                    if (!r[t[n]]) {
                        s.app.assets.materials.link(t, a);
                        var e = s.app.assets.materials.add(t);
                        r[t[n]] = e.id,
                        h.materials.push(e.id)
                    }
                }),
                h.mapping = e.mapping.map(function(t) {
                    return {
                        material: r[t]
                    }
                })),
                e.animations && e.animations.length > 0 && e.animations.forEach(function(t) {
                    var e = s.app.assets.animations.add(t);
                    h.animations.push(e.id)
                }),
                a)
                    h.textures.push(a[c]);
                var o = new t.Zf(e.name,t.om,{
                    url: e.url
                },h)
                  , u = e[this.app.assets.primaryKey] || o.id;
                return "uid" === this.app.assets.primaryKey && "string" == typeof u && (o.uid = u),
                this._assets[u] = o,
                this.app.assets.add(o),
                o
            }
            ,
            s.prototype.load = function(e, i) {
                var s = this;
                return void 0 === i && (i = {}),
                new Promise(function(n, r) {
                    var a = s.get(e)
                      , h = 0
                      , c = 1
                      , o = a.data.materials;
                    if (a.loaded)
                        return i.onProgress && i.onProgress(a, a, 1, 1),
                        n(a);
                    i.loadAnimations && (c += a.data.animations.length,
                    o = o.concat(a.data.animations));
                    var u = function(e) {
                        h++,
                        e.off(t.jg),
                        i.onProgress && i.onProgress(a, e, h, c),
                        h === c && n(a)
                    };
                    a.once(t.Rg, u),
                    a.once(t.jg, r),
                    s.app.assets.load(a),
                    o.forEach(function(e) {
                        var i = s.app.assets.get(e);
                        if (!i.loaded) {
                            c++;
                            var n = void 0;
                            switch (i.type) {
                            case t.um:
                                n = s.app.assets.materials;
                                break;
                            case t.rm:
                                n = s.app.assets.animations
                            }
                            n.load(i.id).then(u).catch(r)
                        }
                    })
                }
                )
            }
            ,
            s.prototype.setTextureSize = function(t, e, i) {
                var s = this;
                return void 0 === e && (e = 0),
                void 0 === i && (i = {}),
                new Promise(function(n, r) {
                    var a = s.app
                      , h = s.get(t)
                      , c = 0
                      , o = 0
                      , u = {}
                      , f = function(t, e) {
                        o++,
                        i.onProgress && i.onProgress(t, e, o, c),
                        o === c && n(h)
                    };
                    h.data.materials.forEach(function(t) {
                        var e = a.assets.get(t);
                        b.forEach(function(i) {
                            var s = e.data[i];
                            "number" == typeof s && (void 0 === u[s] && (u[s] = []),
                            u[s].push({
                                materialAssetId: t,
                                field: i,
                                useTextureCompression: e.data[i + "Compression"],
                                preferredSize: e.data[i + "Size"],
                                channel: e.data[i + "Channel"]
                            }))
                        })
                    });
                    var d = function(t) {
                        var i = u[t]
                          , s = a.assets.get(parseInt(t));
                        i.forEach(function(t) {
                            var i = a.assets.get(t.materialAssetId)
                              , n = s.getPreferredAsset({
                                preferredSize: t.preferredSize,
                                useTextureCompression: t.useTextureCompression,
                                channel: t.channel
                            })
                              , r = s.getPreferredAsset({
                                preferredSize: e,
                                useTextureCompression: t.useTextureCompression,
                                channel: t.channel
                            });
                            n.id !== r.id && (c++,
                            r.ready(function(e) {
                                var s = i.resource;
                                s[t.field] = e.resource,
                                s.update(),
                                f(i, e)
                            }),
                            a.assets.load(r))
                        })
                    };
                    for (var l in u)
                        d(l)
                }
                )
            }
            ,
            s
        }(s), P = function(e) {
            function s(t) {
                return e.call(this, t) || this
            }
            return i(s, e),
            s.prototype.add = function(e) {
                if (this._assets[e[this.app.assets.primaryKey]])
                    return this._assets[e[this.app.assets.primaryKey]];
                var i = new t.Zf(e.name,t.rm,{
                    url: e.url
                })
                  , s = e[this.app.assets.primaryKey] || i.id;
                return this._assets[s] = i,
                this.app.assets.add(i),
                i
            }
            ,
            s
        }(s), B = function() {
            function t(t) {
                this.app = t,
                this._items = {},
                this.app.on("app:entity:create", this.onEntityCreate, this),
                this.app.on("app:entity:destroy", this.onEntityDestroy, this)
            }
            return t.prototype.get = function(t) {
                return this._items[t]
            }
            ,
            t.prototype.add = function(t) {
                var e = t.Bc.getGuid();
                return this.get(e) || (this._items[e] = t),
                this
            }
            ,
            t.prototype.remove = function(t) {
                return this.get(t) && delete this._items[t],
                this
            }
            ,
            t.prototype.list = function(t) {
                var e = [];
                for (var i in this._items)
                    t ? t(this._items[i]) && e.push(this._items[i]) : e.push(this._items[i]);
                return e
            }
            ,
            t.prototype.destroy = function() {
                this._items = {},
                this.app = null
            }
            ,
            t.prototype.onEntityCreate = function(t) {
                this.add(t)
            }
            ,
            t.prototype.onEntityDestroy = function(t) {
                this.remove(t)
            }
            ,
            t
        }(), I = function() {
            function e(e) {
                var i, s, n;
                void 0 === e && (e = {}),
                this.Bc = new t.Entity,
                e.uid && (this.uid = e.uid),
                e.name && (this.Bc.name = e.name),
                e.position && (i = this.Bc).setLocalPosition.apply(i, e.position),
                e.rotation && (s = this.Bc).setLocalEulerAngles.apply(s, e.rotation),
                e.scale && (n = this.Bc).setLocalScale.apply(n, e.scale),
                "boolean" == typeof e.enabled && (this.Bc.enabled = e.enabled),
                this.Bc.getApplication().fire("app:entity:create", this)
            }
            return e.prototype.destroy = function() {
                this.Bc.getApplication().fire("app:entity:destroy", this.Bc.getGuid()),
                this.Bc.destroy()
            }
            ,
            e
        }(), j;
        !function(t) {
            t.NONE = "none",
            t.ONE = "one",
            t.ALL = "all"
        }(j || (j = {}));
        var R = function(e) {
            function s(i) {
                void 0 === i && (i = {});
                var s = e.call(this, i) || this;
                return s._obb = new t.Jt,
                s._aabb = new t.jt,
                s.Bc.Il("model", {
                    type: "asset"
                }),
                i.type && (s.type = i.type),
                i.asset && (s.Bc.model.asset = i.asset),
                i.animations && (s.Bc.Il("animation", {
                    activate: i.animations.activate || !1,
                    assets: Array.isArray(i.animations.assets) ? i.animations.assets : [],
                    loop: !1,
                    speed: i.animations.speed || 1
                }),
                s.Bc.animation.cycleMode = i.animations.cycleMode || j.NONE),
                s
            }
            return i(s, e),
            s.buildAABB = function(e, i, s) {
                if (void 0 === i && (i = new t.jt),
                void 0 === s && (s = 0),
                e.model && e.model.model)
                    for (var n, r = 0, a = e.model.model.meshInstances; r < a.length; r++) {
                        var h = a[r];
                        0 === s ? i.copy(h.aabb) : i.add(h.aabb),
                        s++
                    }
                return i
            }
            ,
            s.buildAABB2 = function(e, i) {
                void 0 === i && (i = new t.jt);
                var n = 0;
                s.buildAABB(e, i);
                for (var r = 0, a = e.children; r < a.length; r++) {
                    var h = a[r];
                    n++,
                    s.buildAABB(h, i, n)
                }
                return i
            }
            ,
            s.buildOBB = function(e, i) {
                void 0 === i && (i = new t.Jt);
                var n = e.getWorldTransform();
                if (!i.isInited) {
                    var r = n.clone();
                    e.setPosition(t.ut.ZERO),
                    e.setRotation(t.bt.IDENTITY),
                    e.setLocalScale(t.ut.ONE),
                    i._aabb.copy(s.buildAABB(e)),
                    e.setPosition(r.getTranslation()),
                    e.setEulerAngles(r.getEulerAngles()),
                    e.setLocalScale(r.getScale()),
                    i.isInited = !0
                }
                return i._worldTransform = n,
                i
            }
            ,
            Object.defineProperty(s.prototype, "type", {
                get: function() {
                    return this.Bc.model.type
                },
                set: function(t) {
                    this.Bc.model.type = t
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "model", {
                get: function() {
                    return this.Bc.model.model
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "hasModel", {
                get: function() {
                    return !!this.model
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "aabb", {
                get: function() {
                    var t;
                    return this.model ? s.buildAABB(this.Bc, this._aabb) : null
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "obb", {
                get: function() {
                    return s.buildOBB(this.Bc, this._obb),
                    this._obb
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "mapping", {
                get: function() {
                    return this.model.meshInstances.map(function(t) {
                        return t.material.name
                    })
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "materials", {
                get: function() {
                    return this.model.getMaterials()
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "textures", {
                get: function() {
                    var t = [];
                    return this.materials.map(function(e) {
                        b.forEach(function(i) {
                            var s = e[i];
                            s && -1 === t.indexOf(s) && t.push(s)
                        })
                    }),
                    t
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "animations", {
                get: function() {
                    if (!this.Bc.animation)
                        return null;
                    var t = []
                      , e = this.Bc.animation.assets
                      , i = this.Bc.animation.animations
                      , s = this.Bc.animation.animationsIndex;
                    return e.forEach(function(e) {
                        var n = s[e]
                          , r = i[n];
                        t.push({
                            animation: r,
                            asset: e,
                            name: n
                        })
                    }),
                    t
                },
                enumerable: !0,
                configurable: !0
            }),
            s
        }(I)
          , L = function() {
            function t(t) {
                this.app = t
            }
            return t
        }()
          , N = function(e) {
            function s(i) {
                var s = e.call(this, i) || this;
                return s.targets = [],
                s._red = new t.D(1,0,0,1),
                s._green = new t.D(0,1,0,1),
                s._blue = new t.D(0,0,1,1),
                s._vecA = new t.ut,
                s._vecB = new t.ut,
                s._vecC = new t.ut,
                s
            }
            return i(s, e),
            s.prototype.attach = function(e) {
                var i = this;
                this.detach(),
                Array.isArray(e) ? e.forEach(function(e) {
                    e instanceof t.Gh ? i.targets.push(e) : e instanceof t.Entity ? i.targets.push(e) : e instanceof R && i.targets.push(e.Bc)
                }) : e instanceof t.Gh ? this.targets.push(e) : e instanceof t.Entity ? this.targets.push(e) : e instanceof R ? this.targets.push(e.Bc) : this.targets.push(this.app.root),
                this.app.on(t.Lg, this.onUpdate, this)
            }
            ,
            s.prototype.detach = function() {
                this.targets = [],
                this.app.off(t.Lg, this.onUpdate, this)
            }
            ,
            s.prototype.destroy = function() {
                this.detach()
            }
            ,
            s.prototype.onUpdate = function() {
                var t = this;
                this.targets.forEach(function(e) {
                    return t.render(e)
                })
            }
            ,
            s.prototype.render = function(e) {
                this._vecA.copy(e.getPosition()),
                this._vecB.copy(this._vecA).add(e.right),
                this.app.Um(this._vecA, this._vecB, this._red, t.yh),
                this._vecB.copy(this._vecA).add(e.up),
                this.app.Um(this._vecA, this._vecB, this._green, t.yh),
                this._vecC.copy(e.forward).scale(-1),
                this._vecB.copy(this._vecA).add(this._vecC),
                this.app.Um(this._vecA, this._vecB, this._blue, t.yh)
            }
            ,
            s
        }(L)
          , F = function(e) {
            function s(i) {
                var s = e.call(this, i) || this;
                return s.targets = [],
                s._color = new t.D(1,1,1,1),
                s._vecA = new t.ut,
                s._vecB = new t.ut,
                s.layer = i.scene.layers.getLayerById(t.LAYERID_IMMEDIATE),
                s.depthTest = !0,
                s
            }
            return i(s, e),
            Object.defineProperty(s.prototype, "color", {
                get: function() {
                    return this._color
                },
                set: function(t) {
                    this._color = t
                },
                enumerable: !0,
                configurable: !0
            }),
            s.prototype.attach = function(e) {
                this.detach(),
                Array.isArray(e) ? this.targets = e.filter(function(e) {
                    return e instanceof R || e instanceof t.Yh
                }) : (e instanceof R || e instanceof t.Yh) && (this.targets = [e]),
                this.app.on(t.Lg, this.onUpdate, this)
            }
            ,
            s.prototype.detach = function() {
                this.targets = [],
                this.app.off(t.Lg, this.onUpdate, this)
            }
            ,
            s.prototype.destroy = function() {
                this.detach()
            }
            ,
            s.prototype.onUpdate = function() {
                var t = this;
                this.targets.forEach(function(e) {
                    return t.render(e.aabb)
                })
            }
            ,
            s.prototype.render = function(t) {
                var e = {
                    layer: this.layer,
                    depthTest: this.depthTest
                };
                this._vecA.set(t.center.x + t.halfExtents.x, t.center.y + t.halfExtents.y, t.center.z + t.halfExtents.z),
                this._vecB.set(t.center.x - t.halfExtents.x, t.center.y + t.halfExtents.y, t.center.z + t.halfExtents.z),
                this.app.Um(this._vecA, this._vecB, this._color, e),
                this._vecA.set(t.center.x + t.halfExtents.x, t.center.y + t.halfExtents.y, t.center.z + t.halfExtents.z),
                this._vecB.set(t.center.x + t.halfExtents.x, t.center.y - t.halfExtents.y, t.center.z + t.halfExtents.z),
                this.app.Um(this._vecA, this._vecB, this._color, e),
                this._vecA.set(t.center.x + t.halfExtents.x, t.center.y + t.halfExtents.y, t.center.z + t.halfExtents.z),
                this._vecB.set(t.center.x + t.halfExtents.x, t.center.y + t.halfExtents.y, t.center.z - t.halfExtents.z),
                this.app.Um(this._vecA, this._vecB, this._color, e),
                this._vecA.set(t.center.x - t.halfExtents.x, t.center.y + t.halfExtents.y, t.center.z + t.halfExtents.z),
                this._vecB.set(t.center.x - t.halfExtents.x, t.center.y - t.halfExtents.y, t.center.z + t.halfExtents.z),
                this.app.Um(this._vecA, this._vecB, this._color, e),
                this._vecA.set(t.center.x - t.halfExtents.x, t.center.y + t.halfExtents.y, t.center.z + t.halfExtents.z),
                this._vecB.set(t.center.x - t.halfExtents.x, t.center.y + t.halfExtents.y, t.center.z - t.halfExtents.z),
                this.app.Um(this._vecA, this._vecB, this._color, e),
                this._vecA.set(t.center.x - t.halfExtents.x, t.center.y - t.halfExtents.y, t.center.z + t.halfExtents.z),
                this._vecB.set(t.center.x + t.halfExtents.x, t.center.y - t.halfExtents.y, t.center.z + t.halfExtents.z),
                this.app.Um(this._vecA, this._vecB, this._color, e),
                this._vecA.set(t.center.x - t.halfExtents.x, t.center.y - t.halfExtents.y, t.center.z + t.halfExtents.z),
                this._vecB.set(t.center.x - t.halfExtents.x, t.center.y - t.halfExtents.y, t.center.z - t.halfExtents.z),
                this.app.Um(this._vecA, this._vecB, this._color, e),
                this._vecA.set(t.center.x + t.halfExtents.x, t.center.y - t.halfExtents.y, t.center.z + t.halfExtents.z),
                this._vecB.set(t.center.x + t.halfExtents.x, t.center.y - t.halfExtents.y, t.center.z - t.halfExtents.z),
                this.app.Um(this._vecA, this._vecB, this._color, e),
                this._vecA.set(t.center.x + t.halfExtents.x, t.center.y + t.halfExtents.y, t.center.z - t.halfExtents.z),
                this._vecB.set(t.center.x - t.halfExtents.x, t.center.y + t.halfExtents.y, t.center.z - t.halfExtents.z),
                this.app.Um(this._vecA, this._vecB, this._color, e),
                this._vecA.set(t.center.x + t.halfExtents.x, t.center.y + t.halfExtents.y, t.center.z - t.halfExtents.z),
                this._vecB.set(t.center.x + t.halfExtents.x, t.center.y - t.halfExtents.y, t.center.z - t.halfExtents.z),
                this.app.Um(this._vecA, this._vecB, this._color, e),
                this._vecA.set(t.center.x - t.halfExtents.x, t.center.y + t.halfExtents.y, t.center.z - t.halfExtents.z),
                this._vecB.set(t.center.x - t.halfExtents.x, t.center.y - t.halfExtents.y, t.center.z - t.halfExtents.z),
                this.app.Um(this._vecA, this._vecB, this._color, e),
                this._vecA.set(t.center.x - t.halfExtents.x, t.center.y - t.halfExtents.y, t.center.z - t.halfExtents.z),
                this._vecB.set(t.center.x + t.halfExtents.x, t.center.y - t.halfExtents.y, t.center.z - t.halfExtents.z),
                this.app.Um(this._vecA, this._vecB, this._color, e)
            }
            ,
            s
        }(L)
          , k = function(e) {
            function s(i) {
                var s = e.call(this, i) || this;
                return s.targets = [],
                s._color = new t.D(1,1,1,1),
                s._vecA = new t.ut,
                s._vecB = new t.ut,
                s
            }
            return i(s, e),
            Object.defineProperty(s.prototype, "color", {
                get: function() {
                    return this._color
                },
                set: function(t) {
                    this._color = t
                },
                enumerable: !0,
                configurable: !0
            }),
            s.prototype.attach = function(e) {
                this.detach(),
                Array.isArray(e) ? this.targets = e.filter(function(t) {
                    return t instanceof R
                }) : e instanceof R && (this.targets = [e]),
                this.app.on(t.Lg, this.onUpdate, this)
            }
            ,
            s.prototype.detach = function() {
                this.targets = [],
                this.app.off(t.Lg, this.onUpdate, this)
            }
            ,
            s.prototype.destroy = function() {
                this.detach()
            }
            ,
            s.prototype.onUpdate = function() {
                var t = this;
                this.targets.forEach(function(e) {
                    return t.render(e.obb)
                })
            }
            ,
            s.prototype.render = function(t) {
                this._vecA.set(t._aabb.center.x + t._aabb.halfExtents.x, t._aabb.center.y + t._aabb.halfExtents.y, t._aabb.center.z + t._aabb.halfExtents.z),
                this._vecB.set(t._aabb.center.x - t._aabb.halfExtents.x, t._aabb.center.y + t._aabb.halfExtents.y, t._aabb.center.z + t._aabb.halfExtents.z),
                t._worldTransform.transformPoint(this._vecA, this._vecA),
                t._worldTransform.transformPoint(this._vecB, this._vecB),
                this.app.Um(this._vecA, this._vecB, this._color),
                this._vecA.set(t._aabb.center.x + t._aabb.halfExtents.x, t._aabb.center.y + t._aabb.halfExtents.y, t._aabb.center.z + t._aabb.halfExtents.z),
                this._vecB.set(t._aabb.center.x + t._aabb.halfExtents.x, t._aabb.center.y - t._aabb.halfExtents.y, t._aabb.center.z + t._aabb.halfExtents.z),
                t._worldTransform.transformPoint(this._vecA, this._vecA),
                t._worldTransform.transformPoint(this._vecB, this._vecB),
                this.app.Um(this._vecA, this._vecB, this._color),
                this._vecA.set(t._aabb.center.x + t._aabb.halfExtents.x, t._aabb.center.y + t._aabb.halfExtents.y, t._aabb.center.z + t._aabb.halfExtents.z),
                this._vecB.set(t._aabb.center.x + t._aabb.halfExtents.x, t._aabb.center.y + t._aabb.halfExtents.y, t._aabb.center.z - t._aabb.halfExtents.z),
                t._worldTransform.transformPoint(this._vecA, this._vecA),
                t._worldTransform.transformPoint(this._vecB, this._vecB),
                this.app.Um(this._vecA, this._vecB, this._color),
                this._vecA.set(t._aabb.center.x - t._aabb.halfExtents.x, t._aabb.center.y + t._aabb.halfExtents.y, t._aabb.center.z + t._aabb.halfExtents.z),
                this._vecB.set(t._aabb.center.x - t._aabb.halfExtents.x, t._aabb.center.y - t._aabb.halfExtents.y, t._aabb.center.z + t._aabb.halfExtents.z),
                t._worldTransform.transformPoint(this._vecA, this._vecA),
                t._worldTransform.transformPoint(this._vecB, this._vecB),
                this.app.Um(this._vecA, this._vecB, this._color),
                this._vecA.set(t._aabb.center.x - t._aabb.halfExtents.x, t._aabb.center.y + t._aabb.halfExtents.y, t._aabb.center.z + t._aabb.halfExtents.z),
                this._vecB.set(t._aabb.center.x - t._aabb.halfExtents.x, t._aabb.center.y + t._aabb.halfExtents.y, t._aabb.center.z - t._aabb.halfExtents.z),
                t._worldTransform.transformPoint(this._vecA, this._vecA),
                t._worldTransform.transformPoint(this._vecB, this._vecB),
                this.app.Um(this._vecA, this._vecB, this._color),
                this._vecA.set(t._aabb.center.x - t._aabb.halfExtents.x, t._aabb.center.y - t._aabb.halfExtents.y, t._aabb.center.z + t._aabb.halfExtents.z),
                this._vecB.set(t._aabb.center.x + t._aabb.halfExtents.x, t._aabb.center.y - t._aabb.halfExtents.y, t._aabb.center.z + t._aabb.halfExtents.z),
                t._worldTransform.transformPoint(this._vecA, this._vecA),
                t._worldTransform.transformPoint(this._vecB, this._vecB),
                this.app.Um(this._vecA, this._vecB, this._color),
                this._vecA.set(t._aabb.center.x - t._aabb.halfExtents.x, t._aabb.center.y - t._aabb.halfExtents.y, t._aabb.center.z + t._aabb.halfExtents.z),
                this._vecB.set(t._aabb.center.x - t._aabb.halfExtents.x, t._aabb.center.y - t._aabb.halfExtents.y, t._aabb.center.z - t._aabb.halfExtents.z),
                t._worldTransform.transformPoint(this._vecA, this._vecA),
                t._worldTransform.transformPoint(this._vecB, this._vecB),
                this.app.Um(this._vecA, this._vecB, this._color),
                this._vecA.set(t._aabb.center.x + t._aabb.halfExtents.x, t._aabb.center.y - t._aabb.halfExtents.y, t._aabb.center.z + t._aabb.halfExtents.z),
                this._vecB.set(t._aabb.center.x + t._aabb.halfExtents.x, t._aabb.center.y - t._aabb.halfExtents.y, t._aabb.center.z - t._aabb.halfExtents.z),
                t._worldTransform.transformPoint(this._vecA, this._vecA),
                t._worldTransform.transformPoint(this._vecB, this._vecB),
                this.app.Um(this._vecA, this._vecB, this._color),
                this._vecA.set(t._aabb.center.x + t._aabb.halfExtents.x, t._aabb.center.y + t._aabb.halfExtents.y, t._aabb.center.z - t._aabb.halfExtents.z),
                this._vecB.set(t._aabb.center.x - t._aabb.halfExtents.x, t._aabb.center.y + t._aabb.halfExtents.y, t._aabb.center.z - t._aabb.halfExtents.z),
                t._worldTransform.transformPoint(this._vecA, this._vecA),
                t._worldTransform.transformPoint(this._vecB, this._vecB),
                this.app.Um(this._vecA, this._vecB, this._color),
                this._vecA.set(t._aabb.center.x + t._aabb.halfExtents.x, t._aabb.center.y + t._aabb.halfExtents.y, t._aabb.center.z - t._aabb.halfExtents.z),
                this._vecB.set(t._aabb.center.x + t._aabb.halfExtents.x, t._aabb.center.y - t._aabb.halfExtents.y, t._aabb.center.z - t._aabb.halfExtents.z),
                t._worldTransform.transformPoint(this._vecA, this._vecA),
                t._worldTransform.transformPoint(this._vecB, this._vecB),
                this.app.Um(this._vecA, this._vecB, this._color),
                this._vecA.set(t._aabb.center.x - t._aabb.halfExtents.x, t._aabb.center.y + t._aabb.halfExtents.y, t._aabb.center.z - t._aabb.halfExtents.z),
                this._vecB.set(t._aabb.center.x - t._aabb.halfExtents.x, t._aabb.center.y - t._aabb.halfExtents.y, t._aabb.center.z - t._aabb.halfExtents.z),
                t._worldTransform.transformPoint(this._vecA, this._vecA),
                t._worldTransform.transformPoint(this._vecB, this._vecB),
                this.app.Um(this._vecA, this._vecB, this._color),
                this._vecA.set(t._aabb.center.x - t._aabb.halfExtents.x, t._aabb.center.y - t._aabb.halfExtents.y, t._aabb.center.z - t._aabb.halfExtents.z),
                this._vecB.set(t._aabb.center.x + t._aabb.halfExtents.x, t._aabb.center.y - t._aabb.halfExtents.y, t._aabb.center.z - t._aabb.halfExtents.z),
                t._worldTransform.transformPoint(this._vecA, this._vecA),
                t._worldTransform.transformPoint(this._vecB, this._vecB),
                this.app.Um(this._vecA, this._vecB, this._color)
            }
            ,
            s
        }(L)
          , U = function(e) {
            function s(i) {
                var s = e.call(this, i) || this;
                return s._size = 10,
                s._divisions = 10,
                s._gridColor = new t.D(1,1,1,1),
                s._axisColor = new t.D(0,0,0,1),
                s.Bc = new t.Entity,
                s.Bc.enabled = !1,
                s.Bc.Il("model"),
                s.create(),
                s.app.root.addChild(s.Bc),
                s
            }
            return i(s, e),
            Object.defineProperty(s.prototype, "size", {
                get: function() {
                    return this._size
                },
                set: function(t) {
                    this._size = t,
                    this.create()
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "divisions", {
                get: function() {
                    return this._divisions
                },
                set: function(t) {
                    this._divisions = t,
                    this.create()
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "gridColor", {
                get: function() {
                    return this._gridColor
                },
                set: function(t) {
                    this._gridColor = t,
                    this.create()
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "axisColor", {
                get: function() {
                    return this._axisColor
                },
                set: function(t) {
                    this._axisColor = t,
                    this.create()
                },
                enumerable: !0,
                configurable: !0
            }),
            s.prototype.attach = function() {
                this.Bc.enabled = !0
            }
            ,
            s.prototype.detach = function() {
                this.Bc.enabled = !1
            }
            ,
            s.prototype.create = function() {
                for (var e = this.size, i = this.divisions, s = e / 2, n = i / 2, r = e / i, a = 4 * (i + 1), h = this.app.Br, c = new t.an(h,[{
                    semantic: t.Yi,
                    components: 3,
                    type: t.He
                }, {
                    semantic: t.qi,
                    components: 4,
                    type: t.He
                }]), o = new t.hn(h,c,a), u = new t.rn(o), f = 0, d = -s; f <= i; f++,
                d += r) {
                    var l = f === n ? this._axisColor : this._gridColor;
                    u.element[t.Yi].set(-s, 0, d),
                    u.element[t.qi].set(l.r, l.g, l.b, l.a),
                    u.next(),
                    u.element[t.Yi].set(s, 0, d),
                    u.element[t.qi].set(l.r, l.g, l.b, l.a),
                    u.next(),
                    u.element[t.Yi].set(d, 0, -s),
                    u.element[t.qi].set(l.r, l.g, l.b, l.a),
                    u.next(),
                    u.element[t.Yi].set(d, 0, s),
                    u.element[t.qi].set(l.r, l.g, l.b, l.a),
                    u.next()
                }
                u.end();
                var b = new t.Mesh;
                b.nn = o,
                b.Zh[0].type = t.ki,
                b.Zh[0].base = 0,
                b.Zh[0].count = a,
                b.Zh[0].indexed = !1;
                var v = new t.Gh, m, g = this.app.Br.Qn().getProgram("basic", {
                    vertexColors: !0,
                    diffuseMapping: !1
                }), p = new t.Vh;
                p.shader = g;
                var w = new t.Yh(v,b,p)
                  , x = new t.Xh;
                x.graph = v,
                x.meshInstances = [w],
                this.Bc.model.model = x
            }
            ,
            s.prototype.destroy = function() {
                this.detach(),
                this.Bc.destroy()
            }
            ,
            s
        }(L)
          , V = function() {
            function e(e) {
                this.app = e,
                this.root = new t.Entity,
                this.root.Il("model"),
                this.node = new t.Gh,
                this.model = new t.Xh,
                this.model.graph = this.node,
                this.handlerMeshInstances = [],
                this.pickerMeshInstances = []
            }
            return e.prototype.setupMeshInstances = function(t, e) {
                var i = this
                  , s = function(s) {
                    e[s].forEach(function(e) {
                        switch (e.node.name = s,
                        i.node.addChild(e.node),
                        i.model.meshInstances.push(e),
                        t) {
                        case "handler":
                            i.handlerMeshInstances.push(e);
                            break;
                        case "picker":
                            i.pickerMeshInstances.push(e)
                        }
                    })
                };
                for (var n in e)
                    s(n)
            }
            ,
            e
        }()
          , H = function(e) {
            function s(t) {
                var i = e.call(this, t) || this;
                return i.handlerGizmos = {
                    X: [i.createLine([0, 0, 0, 1, 0, 0], [1, 0, 0, 1]), i.createArrow([.9, 0, 0], [0, 0, -90], [.1, .2, .1], [1, 0, 0, 1])],
                    Y: [i.createLine([0, 0, 0, 0, 1, 0], [0, 1, 0, 1]), i.createArrow([0, .9, 0], [0, 0, 0], [.1, .2, .1], [0, 1, 0, 1])],
                    Z: [i.createLine([0, 0, 0, 0, 0, 1], [0, 0, 1, 1]), i.createArrow([0, 0, .9], [90, 0, 0], [.1, .2, .1], [0, 0, 1, 1])],
                    XY: [i.Pc([.15, .15, 0], [90, 0, 0], [.3, .3, .3], [0, 0, 1, .25])],
                    XZ: [i.Pc([.15, 0, .15], [0, 0, 0], [.3, .3, .3], [0, 1, 0, .25])],
                    YZ: [i.Pc([0, .15, .15], [0, 0, -90], [.3, .3, .3], [1, 0, 0, .25])]
                },
                i.pickerGizmos = {
                    X: [i.Oc([.65, 0, 0], [0, 0, -90], [.2, .7, .2], [1, 0, 0, 0])],
                    Y: [i.Oc([0, .65, 0], [0, 0, 0], [.2, .7, .2], [0, 1, 0, 0])],
                    Z: [i.Oc([0, 0, .65], [90, 0, 0], [.2, .7, .2], [0, 0, 1, 0])],
                    XY: [i.Pc([.15, .15, 0], [90, 0, 0], [.3, .3, .3], [0, 0, 1, 0])],
                    XZ: [i.Pc([.15, 0, .15], [0, 0, 0], [.3, .3, .3], [0, 1, 0, .1])],
                    YZ: [i.Pc([0, .15, .15], [0, 0, -90], [.3, .3, .3], [1, 0, 0, .1])]
                },
                i.setupMeshInstances("handler", i.handlerGizmos),
                i.setupMeshInstances("picker", i.pickerGizmos),
                i.root.model.layers = [O],
                i.root.model.model = i.model,
                i
            }
            return i(s, e),
            s.prototype.createLine = function(e, i) {
                var s = new t.Gh, n = t.createLines(this.app.Br, e), r = new t.uc, a;
                return r._color = i,
                r.depthTest = !1,
                r.depthWrite = !1,
                r.color = new t.D(i),
                r.update(),
                new t.Yh(s,n,r)
            }
            ,
            s.prototype.createArrow = function(e, i, s, n) {
                var r = new t.Gh, a = t.Dc(this.app.Br), h = new t.uc, c;
                return r.setLocalPosition.apply(r, e),
                r.setLocalEulerAngles.apply(r, i),
                r.setLocalScale.apply(r, s),
                h._color = n,
                h.depthTest = !1,
                h.depthWrite = !1,
                h.color = new t.D(n),
                h.update(),
                new t.Yh(r,a,h)
            }
            ,
            s.prototype.Oc = function(e, i, s, n) {
                var r = new t.Gh
                  , a = t.Oc(this.app.Br)
                  , h = new t.uc;
                return r.setLocalPosition.apply(r, e),
                r.setLocalEulerAngles.apply(r, i),
                r.setLocalScale.apply(r, s),
                h.color = new t.D(n),
                h.blend = !0,
                h.kn = t.he,
                h.Un = t.ue,
                h.update(),
                new t.Yh(r,a,h)
            }
            ,
            s.prototype.Pc = function(e, i, s, n) {
                var r = new t.Gh, a = t.Pc(this.app.Br), h = new t.uc, c;
                return r.setLocalPosition.apply(r, e),
                r.setLocalEulerAngles.apply(r, i),
                r.setLocalScale.apply(r, s),
                h._color = n,
                h.depthTest = !1,
                h.depthWrite = !1,
                h.color = new t.D(n),
                h.blend = !0,
                h.kn = t.he,
                h.Un = t.ue,
                h.update(),
                new t.Yh(r,a,h)
            }
            ,
            s
        }(V)
          , G = function(e) {
            function s(i) {
                var s = e.call(this, i) || this;
                return s.handlerGizmos = {
                    X: [s.createCircle([0, 0, 90], [1, 0, 0, 1], 1, t.Vi)],
                    Y: [s.createCircle([0, 0, 0], [0, 1, 0, 1], 1, t.Vi)],
                    Z: [s.createCircle([90, 0, 0], [0, 0, 1, 1], 1, t.Vi)],
                    E: [s.createCircle([0, 0, 0], [0, 0, 0, 1], 2, t.Ui)]
                },
                s.pickerGizmos = {
                    X: [s.Sc([0, 0, 90], [1, 0, 0, 0])],
                    Y: [s.Sc([0, 0, 0], [0, 1, 0, 0])],
                    Z: [s.Sc([90, 0, 0], [0, 0, 1, 0])]
                },
                s.setupMeshInstances("handler", s.handlerGizmos),
                s.setupMeshInstances("picker", s.pickerGizmos),
                s.root.model.layers = [E],
                s.root.model.model = s.model,
                s
            }
            return i(s, e),
            s.prototype.createCircle = function(e, i, s, n) {
                void 0 === s && (s = 2),
                void 0 === n && (n = t.Ui);
                var r = new t.Gh, a = t.createCircle(this.app.Br, {
                    arc: s,
                    Zh: n
                }), h = new t.uc, c;
                return r.setEulerAngles.apply(r, e),
                h._color = i,
                h.depthTest = !1,
                h.color = new t.D(i),
                h.blend = !0,
                h.kn = t.he,
                h.Un = t.ue,
                h.update(),
                new t.Yh(r,a,h)
            }
            ,
            s.prototype.Sc = function(e, i) {
                var s = new t.Gh
                  , n = t.Sc(this.app.Br, {
                    tubeRadius: .12,
                    ringRadius: 1,
                    segments: 30,
                    sides: 20
                })
                  , r = new t.uc;
                return s.setEulerAngles.apply(s, e),
                r.color = new t.D(i),
                r.blend = !0,
                r.kn = t.he,
                r.Un = t.ue,
                r.update(),
                new t.Yh(s,n,r)
            }
            ,
            s
        }(V)
          , W = function(e) {
            function s(t) {
                var i = e.call(this, t) || this;
                return i.handlerGizmos = {
                    X: [i.createLine([0, 0, 0, 1, 0, 0], [1, 0, 0, 1]), i.Wh([.95, 0, 0], [.1, .1, .1], [1, 0, 0, 1])],
                    Y: [i.createLine([0, 0, 0, 0, 1, 0], [0, 1, 0, 1]), i.Wh([0, .95, 0], [.1, .1, .1], [0, 1, 0, 1])],
                    Z: [i.createLine([0, 0, 0, 0, 0, 1], [0, 0, 1, 1]), i.Wh([0, 0, .95], [.1, .1, .1], [0, 0, 1, 1])]
                },
                i.pickerGizmos = {
                    X: [i.Oc([.65, 0, 0], [0, 0, -90], [.2, .7, .2], [1, 0, 0, 0])],
                    Y: [i.Oc([0, .65, 0], [0, 0, 0], [.2, .7, .2], [0, 1, 0, 0])],
                    Z: [i.Oc([0, 0, .65], [90, 0, 0], [.2, .7, .2], [0, 0, 1, 0])]
                },
                i.setupMeshInstances("handler", i.handlerGizmos),
                i.setupMeshInstances("picker", i.pickerGizmos),
                i.root.model.layers = [O],
                i.root.model.model = i.model,
                i
            }
            return i(s, e),
            s.prototype.createLine = function(e, i) {
                var s = new t.Gh, n = t.createLines(this.app.Br, e), r = new t.uc, a;
                return r._color = i,
                r.depthTest = !1,
                r.depthWrite = !1,
                r.color = new t.D(i),
                r.update(),
                new t.Yh(s,n,r)
            }
            ,
            s.prototype.Wh = function(e, i, s) {
                var n = new t.Gh, r = t.Wh(this.app.Br), a = new t.uc, h;
                return n.setLocalPosition.apply(n, e),
                n.setLocalScale.apply(n, i),
                a._color = s,
                a.depthTest = !1,
                a.depthWrite = !1,
                a.color = new t.D(s),
                a.update(),
                new t.Yh(n,r,a)
            }
            ,
            s.prototype.Oc = function(e, i, s, n) {
                var r = new t.Gh
                  , a = t.Oc(this.app.Br)
                  , h = new t.uc;
                return r.setLocalPosition.apply(r, e),
                r.setLocalEulerAngles.apply(r, i),
                r.setLocalScale.apply(r, s),
                h.color = new t.D(n),
                h.blend = !0,
                h.kn = t.he,
                h.Un = t.ue,
                h.update(),
                new t.Yh(r,a,h)
            }
            ,
            s
        }(V)
          , Y = function(e) {
            function s(i) {
                var n = e.call(this, i) || this;
                return n.isDragging = !1,
                n.hoverAxis = null,
                n.hoverPoint = new t.ut,
                n.startPoint = new t.ut,
                n.endPoint = new t.ut,
                n.eye = new t.ut,
                n.offset = new t.ut,
                n.gizmoPosition = new t.ut,
                n.gizmoRotation = new t.bt,
                n.gizmoScale = new t.ut,
                n.cameraPosition = new t.ut,
                n.cameraRotation = new t.bt,
                n.plane = new t.Yt,
                n.ray = new t.Qt,
                n.unitX = new t.ut(1,0,0),
                n.unitY = new t.ut(0,1,0),
                n.unitZ = new t.ut(0,0,1),
                n.vecA = new t.ut,
                n.vecB = new t.ut,
                n.vecC = new t.ut,
                n.vecD = new t.ut,
                n.quatA = new t.bt,
                n.quatB = new t.bt,
                n.quatC = new t.bt,
                n.matA = new t.zt,
                n.matB = new t.zt,
                n._mode = s.MODE_TRANSLATE,
                n._space = s.SPACE_WORLD,
                n._snap = 0,
                n.axisLayer = new t.Layer({
                    id: O,
                    name: "Gizmo Transform Axis"
                }),
                n.rotateLayer = new t.Layer({
                    id: E,
                    name: "Gizmo Transform Rotate"
                }),
                n.app.scene.layers.insert(n.axisLayer, n.app.scene.layers.layerList.length),
                n.app.scene.layers.insert(n.rotateLayer, n.app.scene.layers.layerList.length),
                n.translate = new H(i),
                n.rotate = new G(i),
                n.scale = new W(i),
                n.targets = [],
                n.root = new t.Entity("Gizmo Transform Root"),
                n.root.enabled = !1,
                n.root.addChild(n.translate.root),
                n.root.addChild(n.rotate.root),
                n.root.addChild(n.scale.root),
                n.app.root.addChild(n.root),
                n.mode = n._mode,
                n
            }
            return i(s, e),
            Object.defineProperty(s.prototype, "mode", {
                get: function() {
                    return this._mode
                },
                set: function(t) {
                    switch (this._mode = t,
                    this.translate.root.enabled = !1,
                    this.rotate.root.enabled = !1,
                    this.scale.root.enabled = !1,
                    t) {
                    case s.MODE_TRANSLATE:
                        this.translate.root.enabled = !0;
                        break;
                    case s.MODE_ROTATE:
                        this.rotate.root.enabled = !0;
                        break;
                    case s.MODE_SCALE:
                        this.scale.root.enabled = !0
                    }
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "space", {
                get: function() {
                    return this._space
                },
                set: function(t) {
                    this._space = t
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "snap", {
                get: function() {
                    return this._snap
                },
                set: function(t) {
                    t < 0 || (this._snap = t)
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "modeInstance", {
                get: function() {
                    switch (this._mode) {
                    case s.MODE_TRANSLATE:
                        return this.translate;
                    case s.MODE_ROTATE:
                        return this.rotate;
                    case s.MODE_SCALE:
                        return this.scale
                    }
                },
                enumerable: !0,
                configurable: !0
            }),
            s.prototype.attach = function(t) {
                Array.isArray(t) ? this.targets = t : t instanceof I && (this.targets = [t]),
                this.root.enabled = !0,
                this.onEnable()
            }
            ,
            s.prototype.detach = function() {
                this.targets = [],
                this.root.enabled = !1,
                this.onDisable()
            }
            ,
            s.prototype.destroy = function() {
                this.app.root.removeChild(this.root),
                this.root.destroy(),
                this.targets = [],
                this.translate = null
            }
            ,
            s.prototype.onEnable = function() {
                this.app.mouse.on(t.oo, this.onMouseHover, this, 9),
                this.app.mouse.on(t.co, this.onMouseDown, this, 9),
                this.app.mouse.on(t.oo, this.onMouseMove, this, 9),
                this.app.mouse.on(t.uo, this.onMouseUp, this, 9),
                this.app.on(t.Lg, this.onUpdate, this)
            }
            ,
            s.prototype.onDisable = function() {
                this.app.mouse.off(t.oo, this.onMouseHover, this),
                this.app.mouse.off(t.co, this.onMouseDown, this),
                this.app.mouse.off(t.oo, this.onMouseMove, this),
                this.app.mouse.off(t.uo, this.onMouseUp, this),
                this.app.off(t.Lg, this.onUpdate, this)
            }
            ,
            s.prototype.onUpdate = function() {
                var e = this
                  , i = this.app.selection.camera.Bc
                  , n = this.targets
                  , r = this.modeInstance.handlerGizmos
                  , a = 1
                  , h = function(t) {
                    r[t].forEach(function(i) {
                        var s = i.material
                          , n = e.hoverAxis === t ? [1, 1, 1, 1] : s._color;
                        s.color.set(n[0], n[1], n[2], n[3]),
                        s.update()
                    })
                };
                for (var c in r)
                    h(c);
                this.isDragging && this.mode !== s.MODE_ROTATE || this.root.setRotation(this.space === s.SPACE_LOCAL || this.mode === s.MODE_SCALE ? n[0].Bc.getRotation() : t.bt.IDENTITY),
                this.root.setPosition(n[0].Bc.getPosition()),
                this.gizmoPosition.copy(this.root.getPosition()),
                this.gizmoRotation.copy(this.root.getRotation()),
                this.updateEye(),
                this.updatePlane(),
                a = this.vecA.copy(this.gizmoPosition).sub(this.cameraPosition).length() / 8,
                this.root.setLocalScale(a, a, a),
                this.gizmoScale.set(a, a, a),
                this.mode === s.MODE_ROTATE && (this.vecA.copy(this.eye),
                this.quatA.copy(this.gizmoRotation).invert().ft(this.vecA, this.vecA),
                this.quatA.yt(t.ut.RIGHT, 90),
                this.matA.setLookAt(this.eye, t.ut.ZERO, t.ut.UP),
                this.quatB.Ct(this.matA).mul(this.quatA),
                this.modeInstance.handlerGizmos.E[0].node.setRotation(this.quatB),
                this.quatA.yt(t.ut.RIGHT, Math.atan2(-this.vecA.y, this.vecA.z) * t.I.tt),
                this.quatB.yt(t.ut.BACK, 90),
                this.quatC.copy(this.gizmoRotation).mul(this.quatA).mul(this.quatB),
                this.modeInstance.handlerGizmos.X[0].node.setRotation(this.quatC),
                this.quatA.yt(t.ut.UP, Math.atan2(this.vecA.x, this.vecA.z) * t.I.tt),
                this.quatB.copy(this.gizmoRotation).mul(this.quatA),
                this.modeInstance.handlerGizmos.Y[0].node.setRotation(this.quatB),
                this.quatA.yt(t.ut.BACK, Math.atan2(this.vecA.x, -this.vecA.y) * t.I.tt),
                this.quatB.yt(t.ut.RIGHT, 90),
                this.quatC.copy(this.gizmoRotation).mul(this.quatA).mul(this.quatB),
                this.modeInstance.handlerGizmos.Z[0].node.setRotation(this.quatC))
            }
            ,
            s.prototype.onMouseHover = function(t) {
                if (!this.isDragging) {
                    this.updateRay(t.x, t.y);
                    var e = this.ray.Xt(this.modeInstance.pickerMeshInstances);
                    if (e) {
                        var i = e[0];
                        this.hoverAxis = i.meshInstance.node.name,
                        this.plane.Nt(this.ray, this.hoverPoint)
                    } else
                        this.hoverAxis = null
                }
            }
            ,
            s.prototype.onMouseDown = function(t) {
                this.hoverAxis && (t.stopPropagation(),
                this.pickPlane(this.startPoint),
                this.targets.forEach(function(t) {
                    t.__WorldTransformStart__ = Array.from(t.Bc.getWorldTransform().data),
                    t.__LocalTransformStart__ = Array.from(t.Bc.getLocalTransform().data),
                    t.__ParentTransformStart__ = Array.from(t.Bc.parent.getWorldTransform().data)
                }),
                this.isDragging = !0)
            }
            ,
            s.prototype.onMouseUp = function(t) {
                this.isDragging && (t.stopPropagation(),
                t.event.stopImmediatePropagation(),
                this.targets.forEach(function(t) {
                    delete t.__WorldTransformStart__,
                    delete t.__LocalTransformStart__,
                    delete t.__ParentTransformStart__
                }),
                this.isDragging = !1)
            }
            ,
            s.prototype.onMouseMove = function(e) {
                var i = this;
                if (this.isDragging)
                    if (this.updateRay(e.x, e.y),
                    this.pickPlane(this.endPoint),
                    this.mode === s.MODE_TRANSLATE)
                        this.offset.sub2(this.endPoint, this.startPoint),
                        -1 === this.hoverAxis.search("X") && (this.offset.x = 0),
                        -1 === this.hoverAxis.search("Y") && (this.offset.y = 0),
                        -1 === this.hoverAxis.search("Z") && (this.offset.z = 0),
                        this.snap && (this.offset.scale(1 / this.snap),
                        this.offset.x = Math.round(this.offset.x),
                        this.offset.y = Math.round(this.offset.y),
                        this.offset.z = Math.round(this.offset.z),
                        this.offset.scale(this.snap)),
                        this.quatA.copy(this.gizmoRotation),
                        this.targets.forEach(function(t) {
                            i.space === s.SPACE_LOCAL ? (i.matA.set(t.__LocalTransformStart__),
                            i.matA.getTranslation(i.vecA),
                            i.quatA.copy(t.Bc.getLocalRotation()),
                            i.quatA.ft(i.offset, i.offset),
                            i.matB.set(t.__ParentTransformStart__),
                            i.matB.getTRS(i.vecB, i.quatB, i.vecC),
                            i.vecC.x = 1 / i.vecC.x,
                            i.vecC.y = 1 / i.vecC.y,
                            i.vecC.z = 1 / i.vecC.z,
                            i.offset.mul(i.vecC),
                            t.Bc.setPosition(i.vecA.x + i.offset.x, i.vecA.y + i.offset.y, i.vecA.z + i.offset.z),
                            i.app.fire("app:entity:" + t.uid + ":localposition:update", t.Bc.getLocalPosition())) : (i.matA.set(t.__WorldTransformStart__),
                            i.matA.getTranslation(i.vecA),
                            t.Bc.setPosition(i.vecA.x + i.offset.x, i.vecA.y + i.offset.y, i.vecA.z + i.offset.z),
                            i.app.fire("app:entity:" + t.uid + ":position:update", t.Bc.getPosition()))
                        });
                    else if (this.mode === s.MODE_SCALE)
                        this.offset.copy(this.endPoint).sub(this.startPoint),
                        this.snap && (this.offset.scale(1 / this.snap),
                        this.offset.x = Math.round(this.offset.x),
                        this.offset.y = Math.round(this.offset.y),
                        this.offset.z = Math.round(this.offset.z),
                        this.offset.scale(this.snap)),
                        this.offset.add(t.ut.ONE),
                        this.targets.forEach(function(t) {
                            i.matA.set(t.__LocalTransformStart__),
                            i.matA.getScale(i.vecA),
                            t.Bc.setLocalScale(i.vecA.x * i.offset.x, i.vecA.y * i.offset.y, i.vecA.z * i.offset.z),
                            i.app.fire("app:entity:" + t.uid + ":scale:update", t.Bc.getLocalScale())
                        });
                    else if (this.mode === s.MODE_ROTATE) {
                        switch (this.hoverAxis) {
                        case "X":
                            this.vecA.copy(this.unitX.set(1, 0, 0));
                            break;
                        case "Y":
                            this.vecA.copy(this.unitY.set(0, 1, 0));
                            break;
                        case "Z":
                            this.vecA.copy(this.unitZ.set(0, 0, 1))
                        }
                        this.vecB.copy(this.vecA),
                        this.offset.copy(this.endPoint).sub(this.startPoint),
                        this.space === s.SPACE_LOCAL ? this.quatA.copy(this.gizmoRotation) : this.quatA.copy(t.bt.IDENTITY),
                        this.quatA.ft(this.vecB, this.vecB),
                        this.quatA.ft(this.offset, this.offset),
                        this.vecC.cross(this.vecB, this.eye).normalize();
                        var n = 20 / this.eye.length()
                          , r = this.offset.dot(this.vecC) * n;
                        this.snap && (r = Math.round(r / this.snap) * this.snap),
                        this.vecD.copy(this.vecC).scale(r),
                        this.quatB.yt(this.vecA, r),
                        this.targets.forEach(function(t) {
                            i.space === s.SPACE_LOCAL ? (i.matA.set(t.__LocalTransformStart__),
                            i.quatA.Ct(i.matA),
                            i.quatC.mul2(i.quatA, i.quatB),
                            t.Bc.setLocalRotation(i.quatC),
                            i.app.fire("app:entity:" + t.uid + ":localeulerangles:update", t.Bc.getLocalEulerAngles())) : (i.matA.set(t.__WorldTransformStart__),
                            i.quatA.Ct(i.matA),
                            i.quatC.mul2(i.quatB, i.quatA),
                            t.Bc.setRotation(i.quatC),
                            i.app.fire("app:entity:" + t.uid + ":eulerangles:update", t.Bc.getEulerAngles()))
                        })
                    }
            }
            ,
            s.prototype.updateEye = function() {
                var t = this.app.selection.camera.Bc;
                this.cameraPosition.copy(t.getPosition()),
                this.cameraRotation.copy(t.getRotation()),
                this.eye.copy(this.cameraPosition).sub(this.gizmoPosition).normalize()
            }
            ,
            s.prototype.updateRay = function(t, e) {
                this.app.selection.camera.Bc.camera.screenToWorld(t, e, 1, this.ray.direction),
                this.ray.origin.copy(this.cameraPosition),
                this.ray.direction.sub(this.ray.origin)
            }
            ,
            s.prototype.updatePlane = function() {
                var e = this.space
                  , i = this.mode
                  , n = this.unitX
                  , r = this.unitY
                  , a = this.unitZ
                  , h = this.vecA
                  , c = this.quatA
                  , o = this.quatB
                  , u = this.matA
                  , f = this.gizmoPosition
                  , d = this.gizmoRotation;
                switch (i === s.MODE_SCALE && (e = s.SPACE_LOCAL),
                n.set(1, 0, 0),
                r.set(0, 1, 0),
                a.set(0, 0, 1),
                e === s.SPACE_LOCAL && (d.ft(n, n),
                d.ft(r, r),
                d.ft(a, a)),
                i) {
                case s.MODE_TRANSLATE:
                case s.MODE_SCALE:
                    switch (this.hoverAxis) {
                    case "X":
                        h.copy(n).scale(n.dot(this.eye)),
                        this.plane.normal.copy(this.eye).sub(h).normalize();
                        break;
                    case "Y":
                        h.copy(r).scale(r.dot(this.eye)),
                        this.plane.normal.copy(this.eye).sub(h).normalize();
                        break;
                    case "Z":
                        h.copy(a).scale(a.dot(this.eye)),
                        this.plane.normal.copy(this.eye).sub(h).normalize();
                        break;
                    case "XY":
                        this.plane.normal.copy(a);
                        break;
                    case "YZ":
                        this.plane.normal.copy(n);
                        break;
                    case "XZ":
                        this.plane.normal.copy(r)
                    }
                    break;
                case s.MODE_ROTATE:
                    c.yt(t.ut.RIGHT, 90),
                    o.copy(this.cameraRotation),
                    o.mul(c),
                    h.copy(t.ut.UP),
                    o.ft(h, h),
                    this.plane.normal.copy(h)
                }
                this.plane.point.copy(f)
            }
            ,
            s.prototype.pickPlane = function(t) {
                switch (this.plane.Nt(this.ray, t),
                this.quatA.copy(this.gizmoRotation),
                this.mode) {
                case s.MODE_TRANSLATE:
                case s.MODE_SCALE:
                    switch (this.hoverAxis) {
                    case "X":
                        this.vecA.copy(this.unitX).scale(this.unitX.dot(t)),
                        t.copy(this.vecA);
                        break;
                    case "Y":
                        this.vecA.copy(this.unitY).scale(this.unitY.dot(t)),
                        t.copy(this.vecA);
                        break;
                    case "Z":
                        this.vecA.copy(this.unitZ).scale(this.unitZ.dot(t)),
                        t.copy(this.vecA)
                    }
                }
                this.quatA.invert().ft(t, t)
            }
            ,
            s.SPACE_WORLD = "world",
            s.SPACE_LOCAL = "local",
            s.MODE_TRANSLATE = "translate",
            s.MODE_ROTATE = "rotate",
            s.MODE_SCALE = "scale",
            s
        }(L)
          , X = function(e) {
            function s(i) {
                var s = e.call(this, i) || this;
                return s.targets = [],
                s.vecA = new t.ut,
                s.vecB = new t.ut,
                s.vecC = new t.ut,
                s.vecD = new t.ut,
                s.matA = new t.zt,
                s.matB = new t.zt,
                s.matC = new t.zt,
                s.color1 = new t.D(0,0,1),
                s.color2 = new t.D(0,1,0),
                s
            }
            return i(s, e),
            s.prototype.attach = function(e) {
                Array.isArray(e) ? this.targets = e : e instanceof I && (this.targets = [e]),
                this.app.on(t.Lg, this.onUpdate, this)
            }
            ,
            s.prototype.detach = function() {
                this.targets = [],
                this.app.off(t.Lg, this.onUpdate, this)
            }
            ,
            s.prototype.destroy = function() {
                this.detach()
            }
            ,
            s.prototype.onUpdate = function() {
                for (var e = 0, i = this.targets; e < i.length; e++) {
                    var s = i[e];
                    if (s instanceof R && 0 !== s.model.skinInstances.length) {
                        var n = s.model.graph
                          , r = s.model.skinInstances;
                        this.matA.copy(n.getWorldTransform()),
                        this.matB.copy(this.matA).invert();
                        for (var a = 0, h = r; a < h.length; a++) {
                            var c = h[a];
                            this.vecA.copy(t.ut.ZERO),
                            this.vecB.copy(t.ut.ZERO);
                            for (var o = 0, u = c.bones; o < u.length; o++) {
                                var f = u[o];
                                this.matC.mul2(this.matB, f.getWorldTransform()),
                                this.matC.transformPoint(this.vecA, this.vecA),
                                this.matA.transformPoint(this.vecA, this.vecC),
                                this.matC.mul2(this.matB, f.parent.getWorldTransform()),
                                this.matC.transformPoint(this.vecB, this.vecB),
                                this.matA.transformPoint(this.vecB, this.vecD),
                                this.app.Um(this.vecC, this.vecD, this.color1, this.color2, t.yh)
                            }
                        }
                    }
                }
            }
            ,
            s
        }(L);
        function K(t) {
            for (var e = t.split(","), i = e[0], s = e[1], n = i.slice(5, i.lastIndexOf(";")), r = 1024, a = atob(s), h = a.length, c = Math.ceil(h / 1024), o = new Array(c), u = 0; u < c; ++u) {
                for (var f = 1024 * u, d = Math.min(f + 1024, h), l = new Array(d - f), b = f, v = 0; b < d; ++v,
                ++b)
                    l[v] = a[b].charCodeAt(0);
                o[u] = new Uint8Array(l)
            }
            return new Blob(o,{
                type: n
            })
        }
        function Q(t) {
            return URL.createObjectURL(K(t))
        }
        var J = function(e) {
            function s(i) {
                void 0 === i && (i = {});
                var n = e.call(this, i) || this;
                n._width = .5,
                n._height = .5;
                var r = n.Bc.getApplication().Br;
                return n.backEntity = new t.Entity,
                n.backEntity.Il(t.COMPONENT_ELEMENT, {
                    type: t.dv,
                    width: 1,
                    height: 1,
                    pivot: [.5, .5],
                    anchor: [.5, .5, .5, .5],
                    useInput: !1
                }),
                n.Bc.Il(t.COMPONENT_ELEMENT, {
                    type: t.dv,
                    width: 1,
                    height: 1,
                    pivot: [.5, .5],
                    anchor: [.5, .5, .5, .5],
                    useInput: !0
                }),
                n.backEntity.element._image.material = s.createBackMaterial(),
                n.Bc.element._image.material = s.createFrontMaterial(),
                n.Bc.addChild(n.backEntity),
                n.texture = new t.xn(r,{
                    width: 64,
                    height: 64
                }),
                n.img = new Image,
                n.img.onload = function() {
                    n.texture.setSource(n.img),
                    n.backEntity.element._image.material.opacityMap = n.texture,
                    n.backEntity.element._image.material.update(),
                    n.Bc.element._image.material.opacityMap = n.texture,
                    n.Bc.element._image.material.update(),
                    n.onImgSrcChanged()
                }
                ,
                i.imgSrc && (n.imgSrc = i.imgSrc),
                n.width = void 0 !== i.width ? i.width : n._width,
                n.height = void 0 !== i.height ? i.height : n._height,
                n.backVisible = void 0 === i.backVisible || i.backVisible,
                n.enabled = void 0 === i.enabled || i.enabled,
                n
            }
            return i(s, e),
            s.createFrontMaterial = function() {
                var e = new t.Sn;
                return e.blendType = t.$r,
                e.opacityMapChannel = "a",
                e.useLighting = !1,
                e.useSkybox = !1,
                e.emissive.set(1, 1, 1, 1),
                e.update(),
                e
            }
            ,
            s.createBackMaterial = function() {
                var e = new t.Sn;
                return e.blendType = t.$r,
                e.opacityMapChannel = "a",
                e.opacity = .1,
                e.useLighting = !1,
                e.useSkybox = !1,
                e.depthTest = !1,
                e.emissive.set(1, 1, 1, 1),
                e.update(),
                e
            }
            ,
            s.prototype.onImgSrcChanged = function() {}
            ,
            Object.defineProperty(s.prototype, "enabled", {
                get: function() {
                    return this.Bc.enabled
                },
                set: function(t) {
                    this.Bc.enabled = t
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "backVisible", {
                get: function() {
                    return this.backEntity.enabled
                },
                set: function(t) {
                    this.backEntity.enabled = t
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "width", {
                get: function() {
                    return this._width
                },
                set: function(t) {
                    this._width = t,
                    this.Bc.element.width = t,
                    this.backEntity.element.width = t
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "height", {
                get: function() {
                    return this._height
                },
                set: function(t) {
                    this._height = t,
                    this.Bc.element.height = t,
                    this.backEntity.element.height = t
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "imgSrc", {
                get: function() {
                    return this.img.src
                },
                set: function(t) {
                    t.startsWith("data:") ? this.img.src = Q(t) : this.img.src = t
                },
                enumerable: !0,
                configurable: !0
            }),
            s
        }(I), q;
        !function(t) {
            t.DIRECTIONAL = "directional",
            t.POINT = "point",
            t.SPOT = "spot"
        }(q || (q = {}));
        var Z = function(t) {
            function e(e) {
                void 0 === e && (e = {});
                var i = t.call(this, e) || this;
                return i.icon = null,
                i.gizmo = null,
                i.Bc.Il("light", e),
                e.type && (i.type = e.type),
                i
            }
            return i(e, t),
            e.prototype.createIcon = function(t) {
                var i = this;
                void 0 === t && (t = {});
                var s = t.imgSrc || e.ICONS[this.type];
                s && (this.icon = new J({
                    imgSrc: s,
                    name: this.Bc.name + "Icon",
                    enabled: !1
                }),
                this.icon.onImgSrcChanged = function() {
                    i.icon.enabled = !0
                }
                ,
                this.Bc.addChild(this.icon.Bc))
            }
            ,
            Object.defineProperty(e.prototype, "type", {
                get: function() {
                    return this.Bc.light.type
                },
                set: function(t) {
                    this.Bc.light.type = t,
                    this.icon && (this.icon.imgSrc = e.ICONS[t])
                },
                enumerable: !0,
                configurable: !0
            }),
            e.ICONS = {
                directional: null,
                point: null,
                spot: null
            },
            e
        }(I)
          , $ = function() {
            function e(e) {
                this.app = e,
                this.root = new t.Entity,
                this.root.Il("model"),
                this.node = new t.Gh,
                this.model = new t.Xh,
                this.model.graph = this.node,
                this.material = new t.uc,
                this.backMaterial = new t.uc,
                this.backMaterial.blend = !0,
                this.backMaterial.kn = t.he,
                this.backMaterial.Un = t.ue,
                this.backMaterial.depthTest = !1
            }
            return e.prototype.setupModel = function() {
                var t = this;
                this.model.meshInstances.forEach(function(e) {
                    t.model.graph.addChild(e.node)
                })
            }
            ,
            e
        }()
          , tt = function(e) {
            function s(t) {
                var i = e.call(this, t) || this;
                return i.type = A,
                i.model.meshInstances = [i.hg(), i.hg(!0)],
                i.setupModel(),
                i.root.model.model = i.model,
                i
            }
            return i(s, e),
            s.prototype.hg = function(e) {
                void 0 === e && (e = !1);
                for (var i = 10, s = 3, n = [], r = new t.Gh, a, h = 0; h < 10; h++) {
                    var c = 2 * Math.PI * (h / 10)
                      , o = Math.cos(c) / 4
                      , u = Math.sin(c) / 4;
                    n.push(o, 0, u),
                    n.push(o, -3, u)
                }
                return a = t.createLines(this.app.Br, n),
                new t.Yh(r,a,e ? this.backMaterial : this.material)
            }
            ,
            s
        }($)
          , et = function(e) {
            function s(t) {
                var i = e.call(this, t) || this;
                return i.type = y,
                i.model.meshInstances = [i.hg([0, 0, 0]), i.hg([0, 0, 0], !0), i.hg([90, 0, 0]), i.hg([90, 0, 0], !0), i.hg([90, 90, 0]), i.hg([90, 90, 0], !0)],
                i.setupModel(),
                i.root.model.model = i.model,
                i
            }
            return i(s, e),
            s.prototype.hg = function(e, i) {
                void 0 === i && (i = !1);
                var s = new t.Gh
                  , n = t.createCircle(this.app.Br);
                return s.setLocalEulerAngles(e[0], e[1], e[2]),
                new t.Yh(s,n,i ? this.backMaterial : this.material)
            }
            ,
            s
        }($);
        function it(e, i, s) {
            var n = t.dn.collectAttribs(i)
              , r = t.dn;
            return s = t.In.Or(e) + s,
            e.webgl2 && (i = t.In.Er(e) + r.gles3VS + i,
            s = t.In.Er(e) + r.gles3PS + s),
            new t.Mn(e,{
                attributes: n,
                Mr: i,
                Sr: s,
                useTransformFeedback: !1
            })
        }
        var st = "attribute vec3 vertex_position;uniform mat4 matrix_model;uniform mat4 matrix_viewProjection;uniform float range;uniform float innerAngle;uniform float outerAngle;void main(){vec4 positionW=vec4(vertex_position,1.0);float radius=sin(radians(outerAngle))*range;positionW.xz*=radius;positionW.y*=range*cos(radians(outerAngle));gl_Position=matrix_viewProjection*matrix_model*positionW;}"
          , nt = "uniform vec4 uColor;void main(){gl_FragColor=uColor;}"
          , rt = function(e) {
            function s(t) {
                var i = e.call(this, t) || this
                  , s = i;
                return i.type = M,
                i.shader = it(t.Br, st, nt),
                i.material.Hh = function() {
                    this.shader = s.shader
                }
                ,
                i.backMaterial.Hh = i.material.Hh,
                i.model.meshInstances = [i.hg(), i.hg(!0)],
                i.setupModel(),
                i.root.model.model = i.model,
                i
            }
            return i(s, e),
            s.prototype.Mc = function() {
                for (var e = 5, i = 36, s = Math.PI / 180, n = 72, r = 10, a = [], h, c = 0; c < 5; c++)
                    a.push(0, 0, 0),
                    a.push(Math.sin(72 * c * s), -1, Math.cos(72 * c * s));
                for (var c = 0; c < 36; c++)
                    a.push(Math.sin(10 * c * s), -1, Math.cos(10 * c * s)),
                    a.push(Math.sin(10 * (c + 1) * s), -1, Math.cos(10 * (c + 1) * s));
                return (h = t.createLines(this.app.Br, a)).Zh[0].type = t.ki,
                h
            }
            ,
            s.prototype.hg = function(e) {
                void 0 === e && (e = !1);
                var i = new t.Gh
                  , s = this.Mc();
                return new t.Yh(i,s,e ? this.backMaterial : this.material)
            }
            ,
            s
        }($)
          , at = function(e) {
            function s(t) {
                var i = e.call(this, t) || this;
                return i.targets = [],
                i._pools = {
                    directional: [],
                    point: [],
                    spot: []
                },
                i
            }
            return i(s, e),
            s.prototype.attach = function(e) {
                this.detach(),
                Array.isArray(e) ? this.targets = e.filter(function(t) {
                    return t instanceof Z
                }) : e instanceof Z && (this.targets = [e]),
                this.app.on(t.Lg, this.onUpdate, this)
            }
            ,
            s.prototype.detach = function() {
                var e = this;
                this.targets.forEach(function(t) {
                    return e.removeGizmo(t)
                }),
                this.targets = [],
                this.app.off(t.Lg, this.onUpdate, this)
            }
            ,
            s.prototype.destroy = function() {
                this.detach()
            }
            ,
            s.prototype.onUpdate = function() {
                var t = this;
                this.targets.forEach(function(e) {
                    return t.render(e)
                })
            }
            ,
            s.prototype.render = function(t) {
                var e = this.app.Br
                  , i = t.Bc.light.type
                  , s = t.gizmo;
                switch (s ? s.type !== i && (this.removeGizmo(t),
                this.createGizmo(t),
                s = t.gizmo,
                t.Bc.addChild(s.root)) : (this.createGizmo(t),
                s = t.gizmo,
                t.Bc.addChild(s.root)),
                s.material.color.copy(t.Bc.light.color),
                s.backMaterial.color.copy(t.Bc.light.color),
                s.backMaterial.color.a = .05,
                s.material.update(),
                s.backMaterial.update(),
                i) {
                case "directional":
                    break;
                case "point":
                    s.root.setLocalScale(t.Bc.light.range, t.Bc.light.range, t.Bc.light.range);
                    break;
                case "spot":
                    e.scope.resolve("range").setValue(t.Bc.light.range),
                    e.scope.resolve("innerAngle").setValue(t.Bc.light.innerConeAngle),
                    e.scope.resolve("outerAngle").setValue(t.Bc.light.outerConeAngle)
                }
            }
            ,
            s.prototype.createGizmo = function(t) {
                var e = t.Bc.light.type
                  , i = this._pools[e].shift();
                if (!i)
                    switch (e) {
                    case "directional":
                        i = new tt(this.app);
                        break;
                    case "point":
                        i = new et(this.app);
                        break;
                    case "spot":
                        i = new rt(this.app)
                    }
                t.gizmo = i
            }
            ,
            s.prototype.removeGizmo = function(t) {
                if (t.gizmo) {
                    var e = t.Bc.light.type
                      , i = t.gizmo;
                    i.root.enabled = !1,
                    this._pools[e].push(i),
                    t.Bc.removeChild(i.root),
                    t.gizmo = null
                }
            }
            ,
            s
        }(L)
          , ht = function() {
            function t(t) {
                this.app = t
            }
            return t.prototype.create = function(t) {
                switch (t) {
                case "axis":
                    this.axis = new N(this.app);
                    break;
                case "grid":
                    this.grid = new U(this.app);
                    break;
                case "aabb":
                    this.aabb = new F(this.app);
                    break;
                case "transform":
                    this.transform = new Y(this.app);
                    break;
                case "skeleton":
                    this.skeleton = new X(this.app);
                    break;
                case "light":
                    this.light = new at(this.app);
                    break;
                case "obb":
                    this.obb = new k(this.app)
                }
                return this
            }
            ,
            t.prototype.remove = function(t) {
                switch (t) {
                case "axis":
                    this.axis && this.axis.destroy(),
                    this.axis = null;
                    break;
                case "grid":
                    this.grid && this.grid.destroy(),
                    this.grid = null;
                    break;
                case "aabb":
                    this.aabb && this.aabb.destroy(),
                    this.aabb = null;
                    break;
                case "transform":
                    this.transform && this.transform.destroy(),
                    this.transform = null;
                    break;
                case "skeleton":
                    this.skeleton && this.skeleton.destroy(),
                    this.skeleton = null;
                    break;
                case "light":
                    this.light && this.light.destroy(),
                    this.light = null;
                    break;
                case "obb":
                    this.obb && this.obb.destroy(),
                    this.obb = null
                }
                return this
            }
            ,
            t.prototype.destroy = function() {
                this.remove("axis"),
                this.remove("grid"),
                this.remove("aabb"),
                this.remove("transform"),
                this.remove("skeleton"),
                this.remove("light"),
                this.remove("obb"),
                this.app = null
            }
            ,
            t
        }()
          , ct = function() {
            function e(e) {
                this.isPickerEnabled = !1,
                this.app = e,
                this.picker = null,
                this.camera = null,
                this.fromPoint = new t.ut,
                this.toPoint = new t.ut,
                this.worldRay = new t.Qt,
                this._items = {}
            }
            return e.prototype.get = function(t) {
                return this._items[t]
            }
            ,
            e.prototype.add = function(t) {
                var e = t.Bc.getGuid();
                this.get(e) || (this._items[e] = t,
                this.app.fire("app:selection:add", e),
                this.app.fire("app:selection:add:" + e, t))
            }
            ,
            e.prototype.remove = function(t) {
                this.get(t) && (delete this._items[t],
                this.app.fire("app:selection:remove", t),
                this.app.fire("app:selection:remove:" + t, this.get(t)))
            }
            ,
            e.prototype.clear = function() {
                for (var t in this._items)
                    this._items.hasOwnProperty(t) && this.remove(t);
                this.app.fire("app:selection:clear")
            }
            ,
            e.prototype.setCamera = function(t) {
                return this.camera = t,
                this
            }
            ,
            e.prototype.destroy = function() {
                this.clear()
            }
            ,
            e.prototype.prepareRay = function(t, e) {
                var i = this.camera.Bc.camera
                  , s = this.fromPoint
                  , n = this.toPoint
                  , r = this.worldRay;
                return i.screenToWorld(t, e, i.nearClip, s),
                i.screenToWorld(t, e, i.farClip, n),
                r.origin.copy(s),
                r.direction.copy(n).sub(r.origin).normalize(),
                r
            }
            ,
            e.prototype.select = function(t, e) {
                this.checkCamera(),
                this.prepareRay(t, e);
                for (var i = null, s = this.worldRay, n, r = 0, a = this.app.entities.list(); r < a.length; r++) {
                    var h = a[r];
                    if (h instanceof R && h.aabb.Nt(s)) {
                        i = h;
                        break
                    }
                }
                return i
            }
            ,
            e.prototype.select2 = function(t, e) {
                this.checkCamera(),
                this.prepareRay(t, e);
                for (var i = null, s = 1 / 0, n = null, r = this.worldRay, a, h = 0, c = this.app.entities.list(function(t) {
                    return t instanceof R
                }); h < c.length; h++) {
                    var o = c[h];
                    (n = r.Xt(o.model.meshInstances)) && n[0].distance < s && (i = o,
                    s = n[0].distance)
                }
                return i
            }
            ,
            e.prototype.createPicker = function() {
                return this.isPickerEnabled ? this : (this.picker = new t.Picker(this.app.Br,this.app.Br.width,this.app.Br.height),
                this.isPickerEnabled = !0,
                this)
            }
            ,
            e.prototype.preparePicker = function() {
                return this.checkPicker(),
                this.picker.prepare(this.camera.Bc.camera.camera, this.app.scene),
                this
            }
            ,
            e.prototype.pick = function(t, e, i, s) {
                return void 0 === i && (i = 1),
                void 0 === s && (s = 1),
                this.preparePicker(),
                this.picker.getSelection(t, e, i, s)
            }
            ,
            e.prototype.checkCamera = function() {
                if (!this.camera)
                    throw Error("No camera found, please use selection.setCamera first.");
                if (!this.camera.Bc.enabled)
                    throw Error("The attached camera is not enabled now, please enable it first.")
            }
            ,
            e.prototype.checkPicker = function() {
                if (!this.isPickerEnabled)
                    throw Error("Picker is disabled by default. Please call createPicker first.")
            }
            ,
            e
        }();
        function ot() {
            t.Lg = "update",
            t.Rg = "load",
            t.jg = "error",
            t.Ng = "prerender",
            t.Fg = "postrender",
            t.kg = "mouseenter",
            t.Ug = "mouseleave",
            t.COMPONENT_ANIMATION = "animation",
            t.COMPONENT_AUDIOLISTENER = "audiolistener",
            t.COMPONENT_AUDIOSOURCE = "audiosource",
            t.COMPONENT_CAMERA = "camera",
            t.COMPONENT_COLLISION = "collision",
            t.COMPONENT_ELEMENT = "element",
            t.COMPONENT_LIGHT = "light",
            t.COMPONENT_MODEL = "model",
            t.COMPONENT_PARTICLESYSTEM = "particlesystem",
            t.COMPONENT_RIGIDBODY = "rigidbody",
            t.COMPONENT_SCREEN = "screen",
            t.COMPONENT_SCRIPT = "script",
            t.COMPONENT_SOUND = "sound",
            t.COMPONENT_SPRITE = "sprite",
            t.COMPONENT_TEXT = "text",
            t.COMPONENT_ZONE = "zone"
        }
        function ut() {
            t.ut.prototype.div = function(t) {
                return this.x /= t.x,
                this.y /= t.y,
                this.z /= t.z,
                this
            }
        }
        function ft() {
            var e = new t.ut;
            t.zt.prototype.getTRS = function(t, i, s) {
                this.getTranslation(t),
                this.getEulerAngles(e),
                this.getScale(s),
                i.vt(e.x, e.y, e.z)
            }
            ,
            t.zt.prototype.getRotation = function(e) {
                return void 0 === e && (e = new t.bt),
                e.Ct(this)
            }
        }
        function dt() {
            function e(t, e) {
                return e.priority - t.priority
            }
            t.K.on = function(t, i, s, n) {
                return t && "string" == typeof t && i ? (this._callbacks || (this._callbacks = {}),
                this._callbacks[t] || (this._callbacks[t] = []),
                this._callbackActive || (this._callbackActive = {}),
                this._callbackActive[t] && this._callbackActive[t] === this._callbacks[t] && (this._callbackActive[t] = this._callbackActive[t].slice()),
                this._callbacks[t].push({
                    callback: i,
                    scope: s || this,
                    priority: n || 0
                }),
                this._callbacks[t].sort(e),
                this) : this
            }
            ,
            t.K.once = function(t, e, i, s) {
                return e.once = !0,
                this.on(t, e, i, s),
                this
            }
            ,
            t.K.fire2 = function(t, e, i, s, n, r, a, h, c) {
                if (!t || !this._callbacks || !this._callbacks[t])
                    return this;
                var o;
                this._callbackActive || (this._callbackActive = {}),
                this._callbackActive[t] ? (this._callbackActive[t] === this._callbacks[t] && (this._callbackActive[t] = this._callbackActive[t].slice()),
                o = this._callbacks[t].slice()) : this._callbackActive[t] = this._callbacks[t];
                for (var u = 0; (o || this._callbackActive[t]) && u < (o || this._callbackActive[t]).length; u++) {
                    var f = (o || this._callbackActive[t])[u];
                    if (f.callback.call(f.scope, e, i, s, n, r, a, h, c),
                    f.callback.once) {
                        var d = this._callbacks[t].indexOf(f);
                        -1 !== d && (this._callbackActive[t] === this._callbacks[t] && (this._callbackActive[t] = this._callbackActive[t].slice()),
                        this._callbacks[t].splice(d, 1))
                    }
                    if (e._stopPropagation)
                        break
                }
                return o || (this._callbackActive[t] = null),
                this
            }
            ,
            t.MouseEvent.prototype.stopPropagation = function() {
                this._stopPropagation = !0
            }
            ,
            t.TouchEvent.prototype.stopPropagation = function() {
                this._stopPropagation = !0
            }
            ,
            t.KeyboardEvent.prototype.stopPropagation = function() {
                this._stopPropagation = !0
            }
        }
        function lt() {
            t.createLines = function(e, i) {
                for (var s = i.length / 3, n = new t.an(e,[{
                    semantic: t.Yi,
                    components: 3,
                    type: t.He
                }]), r = new t.hn(e,n,s), a = new t.rn(r), h = 0; h < s; h++)
                    a.element[t.Yi].set(i[3 * h], i[3 * h + 1], i[3 * h + 2]),
                    a.next();
                a.end();
                var c = new t.Mesh;
                return c.Zh[0].type = t.ki,
                c.Zh[0].base = 0,
                c.Zh[0].count = s,
                c.Zh[0].indexed = !1,
                c.nn = r,
                c
            }
            ,
            t.createCircle = function(e, i) {
                void 0 === i && (i = {});
                for (var s = [], n = i.radius || 1, r = i.segments || 72, a = i.arc || 2, h = i.Zh || t.Ui, c = 0; c <= r; c++) {
                    var o = a * Math.PI * (c / r)
                      , u = Math.cos(o) * n
                      , f = Math.sin(o) * n;
                    s.push(u, 0, f)
                }
                var d = t.createLines(e, s);
                return d.Zh[0].type = h,
                d
            }
            ,
            t.createQuad = function(e) {
                var i = t.Aa(e), s = [0, 1, 2, 1, 3, 2], n = new t.un(e,t.ri,s.length), r;
                new Uint8Array(n.lock()).set(s),
                n.unlock();
                var a = new t.Mesh;
                return a.nn = i,
                a.cn[0] = n,
                a.Zh[0].type = t.Hi,
                a.Zh[0].base = 0,
                a.Zh[0].count = s.length,
                a.Zh[0].indexed = !0,
                a
            }
        }
        function bt() {
            var e, i, s, n;
            t.Qt.prototype.Kt = (e = new t.ut,
            i = new t.ut,
            s = new t.ut,
            n = new t.ut,
            function r(a, h, c, o, u) {
                u = void 0 === u ? new t.ut : u,
                i.sub2(h, a),
                s.sub2(c, a),
                n.cross(i, s);
                var f = this.direction.dot(n), d;
                if (f > 0) {
                    if (o)
                        return null;
                    d = 1
                } else {
                    if (!(f < 0))
                        return null;
                    d = -1,
                    f = -f
                }
                e.sub2(this.origin, a);
                var l = d * this.direction.dot(s.cross(e, s));
                if (l < 0)
                    return null;
                var b = d * this.direction.dot(i.cross(i, e));
                if (b < 0)
                    return null;
                if (l + b > f)
                    return null;
                var v = -d * e.dot(n);
                return v < 0 ? null : u.copy(this.direction).scale(v / f).add(this.origin)
            }
            ),
            t.Qt.prototype.Xt = function(t) {
                var e = 0
                  , i = [];
                for (e = 0; e < t.length; e++)
                    t[e].Nt(this, i);
                return 0 === i.length ? null : i.sort(function(t, e) {
                    return t.distance - e.distance
                })
            }
        }
        function vt() {
            t.Yh.group = function t(e) {
                var i = {};
                return e.forEach(function(t, e) {
                    i[t.material.name] || (i[t.material.name] = []),
                    i[t.material.name].push(t)
                }),
                i
            }
            ,
            t.Yh.merge = function e(i, s) {
                var n = 0, r = 0, a, h, c, o, u, f, d, l, b, v, m, g, p, w;
                for (a = 0; a < s.length; a++)
                    for (d = (o = (c = s[a]).mesh).nn.format.elements,
                    n += o.nn.numVertices,
                    r += o.Zh[0].count,
                    0 === a && (l = c,
                    b = c.material),
                    h = 0; h < d.length; h++)
                        d[h].name === t.Yi || (d[h].name === t.Xi ? v = !0 : d[h].name === t.SEMANTIC_TEXCOORD0 ? m = !0 : d[h].name === t.SEMANTIC_TEXCOORD1 ? g = !0 : d[h].name === t.Ki ? p = !0 : d[h].name === t.qi && (w = !0));
                var x = 3 + (v ? 3 : 0) + (m ? 2 : 0) + (g ? 2 : 0) + (p ? 4 : 0) + (w ? 1 : 0), z = 3, _ = v ? 6 : 3, A = (v ? 6 : 3) + (m ? 2 : 0), y = (v ? 6 : 3) + (m ? 2 : 0) + (g ? 2 : 0), M = (v ? 6 : 3) + (m ? 2 : 0) + (g ? 2 : 0) + (p ? 4 : 0), S = new ArrayBuffer(n * x * 4), C = new Float32Array(S), O = new Uint8Array(S), E = new t.un(i,t.ai,r,t.xe), D = new Uint16Array(E.lock()), T, P, B, I, j, R, L = 0, N = 0, F = 0, k, U, V, H, G, W, Y, X = new t.ut, K = X.data;
                for (a = 0; a < s.length; a++) {
                    for (d = (o = s[a].mesh).nn.format.elements,
                    u = o.nn.numVertices,
                    P = (T = o.nn.format.size) / 4,
                    h = 0; h < d.length; h++)
                        d[h].name === t.Yi ? k = d[h].offset / 4 : d[h].name === t.Xi ? U = d[h].offset / 4 : d[h].name === t.SEMANTIC_TEXCOORD0 ? V = d[h].offset / 4 : d[h].name === t.SEMANTIC_TEXCOORD1 ? H = d[h].offset / 4 : d[h].name === t.Ki ? G = d[h].offset / 4 : d[h].name === t.qi && (W = d[h].offset / 4);
                    for (B = new Float32Array(o.nn.storage),
                    I = new Uint8Array(o.nn.storage),
                    Y = s[a].node.getWorldTransform(),
                    h = 0; h < u; h++)
                        X.set(B[h * P + k], B[h * P + k + 1], B[h * P + k + 2]),
                        Y.transformPoint(X, X),
                        C[h * x + F] = K[0],
                        C[h * x + F + 1] = K[0],
                        C[h * x + F + 2] = K[0],
                        v && (X.set(B[h * P + U], B[h * P + U + 1], B[h * P + U + 2]),
                        Y.ft(X, X),
                        C[h * x + F + 3] = K[0],
                        C[h * x + F + 3 + 1] = K[1],
                        C[h * x + F + 3 + 2] = K[2]),
                        m && (C[h * x + F + _] = B[h * P + V],
                        C[h * x + F + _ + 1] = B[h * P + V + 1]),
                        g && (C[h * x + F + A] = B[h * P + H],
                        C[h * x + F + A + 1] = B[h * P + H + 1]),
                        p && (X.set(B[h * P + G], B[h * P + G + 1], B[h * P + G + 2]),
                        Y.ft(X, X),
                        C[h * x + F + y] = K[0],
                        C[h * x + F + y + 1] = K[1],
                        C[h * x + F + y + 2] = K[2],
                        C[h * x + F + y + 3] = B[h * P + G + 3]),
                        w && (O[h * x * 4 + 4 * F + 4 * M] = I[h * P * 4 + 4 * W],
                        O[h * x * 4 + 4 * F + 4 * M + 1] = I[h * P * 4 + 4 * W + 1],
                        O[h * x * 4 + 4 * F + 4 * M + 2] = I[h * P * 4 + 4 * W + 2],
                        O[h * x * 4 + 4 * F + 4 * M + 3] = I[h * P * 4 + 4 * W + 3]);
                    for (j = o.Zh[0].base,
                    f = o.Zh[0].count,
                    R = new Uint16Array(o.cn[0].storage),
                    h = 0; h < f; h++)
                        D[h + N] = R[j + h] + L;
                    N += f,
                    F = (L += u) * x
                }
                var Q = [];
                Q.push({
                    semantic: t.Yi,
                    components: 3,
                    type: t.He,
                    normalize: !1
                }),
                v && Q.push({
                    semantic: t.Xi,
                    components: 3,
                    type: t.He,
                    normalize: !1
                }),
                m && Q.push({
                    semantic: t.SEMANTIC_TEXCOORD0,
                    components: 2,
                    type: t.He,
                    normalize: !1
                }),
                g && Q.push({
                    semantic: t.SEMANTIC_TEXCOORD1,
                    components: 2,
                    type: t.He,
                    normalize: !1
                }),
                p && Q.push({
                    semantic: t.Ki,
                    components: 4,
                    type: t.He,
                    normalize: !1
                }),
                w && Q.push({
                    semantic: t.qi,
                    components: 4,
                    type: t.Ne,
                    normalize: !0
                });
                var J = new t.an(i,Q)
                  , q = new t.hn(i,J,n,t.xe,C.buffer);
                E.unlock(),
                (o = new t.Mesh).nn = q,
                o.cn[0] = E,
                o.Zh[0].type = l.mesh.Zh[0].type,
                o.Zh[0].base = 0,
                o.Zh[0].count = r,
                o.Zh[0].indexed = !0;
                var Z = new t.Yh(new t.Gh,o,b);
                return Z.castShadow = l.castShadow,
                Z.parameters = l.parameters,
                Z.isStatic = l.isStatic,
                Z.cull = l.cull,
                Z.layer = l.layer,
                Z._staticLightList = l._staticLightList,
                Z._shaderDefs = l._shaderDefs,
                Z._updateAabb = !1,
                Z
            }
            ,
            t.Yh.prototype.Nt = function() {
                var e = new t.Qt
                  , i = new t.ut
                  , s = new t.jt
                  , n = [new t.ut, new t.ut, new t.ut]
                  , r = new t.ut
                  , a = new t.ut
                  , h = new t.ut
                  , c = new t.zt
                  , o = new t.zt
                  , u = new t.ut
                  , f = new t.ut;
                function d(s, n, d, l, b, v, m) {
                    var g = s.material.cull === t.Ie || s.material.cull === t.Re, p;
                    return null === (p = s.skinInstance ? d.Kt(l, b, v, g, m) : e.Kt(l, b, v, g, m)) ? null : (r.sub2(b, l),
                    a.sub2(v, l),
                    h.cross(r, a).normalize(),
                    u.copy(p),
                    f.copy(p),
                    s.skinInstance ? c.transformPoint(u, u) : (o.transformPoint(f, f),
                    o.transformPoint(l, l),
                    o.transformPoint(b, b),
                    o.transformPoint(v, v),
                    o.ft(h, h)),
                    i.sub2(f, d.origin),
                    {
                        index: n,
                        distance: i.length(),
                        point: f.clone(),
                        localPoint: u.clone(),
                        normal: h.clone(),
                        vertices: [l.clone(), b.clone(), v.clone()],
                        meshInstance: s
                    })
                }
                return function i(r, a) {
                    if (s.copy(this.aabb),
                    !1 === s.Nt(r))
                        return null;
                    var h = this.mesh.nn, u = this.mesh.cn[0], f = this.mesh.Zh[0].base, l = this.mesh.Zh[0].count, b = new Float32Array(h.lock()), v = new Uint8Array(h.lock()), m = 2 === u.bytesPerIndex ? new Uint16Array(u.lock()) : new Uint32Array(u.lock()), g = h.format.elements, p = h.format.size, w, x, z, _, A = 0, y = 0, M = 0, S = null;
                    for (w = 0; w < g.length; w++)
                        g[w].name === t.Yi ? A = g[w].offset : g[w].name === t.Ji ? y = g[w].offset : g[w].name === t.Qi && (M = g[w].offset);
                    var C = A / 4
                      , O = M / 4
                      , E = p / 4;
                    if (a = void 0 === a ? [] : a,
                    e.origin.copy(r.origin),
                    e.direction.copy(r.direction),
                    o.copy(this.node.getWorldTransform()),
                    c.copy(o).invert(),
                    c.transformPoint(e.origin, e.origin),
                    c.ft(e.direction, e.direction),
                    this.skinInstance) {
                        var D = [0, 0, 0, 0]
                          , T = [0, 0, 0, 0]
                          , P = this.skinInstance.matrices
                          , B = [new t.ut, new t.ut, new t.ut, new t.ut];
                        for (w = f; w < f + l; w += 3) {
                            for (x = 0; x < 3; x++) {
                                for (_ = m[w + x],
                                z = 0; z < 4; z++)
                                    D[z] = v[_ * p + y + z],
                                    T[z] = b[_ * E + C + O + z];
                                for (_ = _ * E + C,
                                n[x].set(b[_], b[_ + 1], b[_ + 2]),
                                z = 0; z < 4; z++)
                                    P[D[z]].transformPoint(n[x], B[z]),
                                    B[z].scale(T[z]);
                                n[x].copy(B[0]).add(B[1]).add(B[2]).add(B[3]),
                                o.transformPoint(n[x], n[x])
                            }
                            (S = d(this, w, r, n[0], n[1], n[2])) && a.push(S)
                        }
                    } else
                        for (w = f; w < f + l; w += 3) {
                            for (x = 0; x < 3; x++)
                                _ = m[w + x] * E + C,
                                n[x].set(b[_], b[_ + 1], b[_ + 2]);
                            (S = d(this, w, r, n[0], n[1], n[2])) && a.push(S)
                        }
                    return h.unlock(),
                    u.unlock(),
                    a.length > 0 ? a : null
                }
            }()
        }
        function mt() {
            t.Entity.prototype.getApplication = function() {
                return this._app
            }
        }
        function gt() {
            t.jt.getHalfExtentsDirection = function(e, i) {
                switch (void 0 === i && (i = new t.ut),
                e) {
                case 0:
                    i.set(1, 1, 1);
                    break;
                case 1:
                    i.set(-1, 1, 1);
                    break;
                case 2:
                    i.set(-1, -1, 1);
                    break;
                case 3:
                    i.set(1, -1, 1);
                    break;
                case 4:
                    i.set(1, 1, -1);
                    break;
                case 5:
                    i.set(-1, 1, -1);
                    break;
                case 6:
                    i.set(-1, -1, -1);
                    break;
                case 7:
                    i.set(1, -1, -1)
                }
                return i
            }
            ,
            t.jt.prototype.toJSON = function() {
                return {
                    center: Array.from(this.center.data),
                    halfExtents: Array.from(this.halfExtents.data)
                }
            }
            ,
            t.jt.prototype.Lt = function(t) {
                var e = this.getMax()
                  , i = this.getMin()
                  , s = t.getMax()
                  , n = t.getMin();
                return i.x < s.x && e.x > n.x && i.y < s.y && e.y > n.y && i.z < s.z && e.z > n.z
            }
        }
        function pt() {
            t.xn.prototype.toJSON = function() {
                var e = ["name", "width", "height", "depth", "format", "minFilter", "magFilter", "anisotropy", "addressU", "addressV", "addressW", "mipmaps", "cubemap", "volume", "rgbm", "fixCubemapSeams", "flipY", "compareOnRead", "compareFunc"]
                  , i = {
                    name: null,
                    width: 4,
                    height: 4,
                    depth: 1,
                    format: t.vi,
                    minFilter: t.Qe,
                    magFilter: t.We,
                    anisotropy: 1,
                    addressU: t.qt,
                    addressV: t.qt,
                    addressW: t.qt,
                    mipmaps: !0,
                    cubemap: !1,
                    volume: !1,
                    rgbm: !1,
                    fixCubemapSeams: !1,
                    flipY: !0,
                    compareOnRead: !1,
                    compareFunc: t.qe
                };
                function s(t) {
                    var s = this;
                    void 0 === t && (t = {});
                    var n = {
                        url: null
                    }
                      , r = this.pn[0];
                    return r instanceof HTMLImageElement ? n.url = r.getAttribute("src") : r instanceof HTMLCanvasElement && (n.url = r.toDataURL()),
                    e.forEach(function(t) {
                        n[t] = s[t]
                    }),
                    t.diff && e.forEach(function(t) {
                        var e, r;
                        i[t] === s[t] && delete n[t]
                    }),
                    n
                }
                return s
            }()
        }
        function wt() {
            t.Sn.prototype.toJSON = function() {
                var e = ["alphaTest", "alphaToCoverage", "ambient", "ambientTint", "aoMap", "aoMapChannel", "aoMapOffset", "aoMapTiling", "aoMapUv", "aoMapVertexColor", "blendType", "bumpiness", "conserveEnergy", "cubeMap", "cubeMapProjection", "cubeMapProjectionBox", "cull", "depthTest", "depthWrite", "diffuse", "diffuseMap", "diffuseMapChannel", "diffuseMapOffset", "diffuseMapTiling", "diffuseMapTint", "diffuseMapUv", "diffuseMapVertexColor", "emissive", "emissiveIntensity", "emissiveMap", "emissiveMapChannel", "emissiveMapOffset", "emissiveMapTiling", "emissiveMapTint", "emissiveMapUv", "emissiveMapVertexColor", "fresnelModel", "glossMap", "glossMapChannel", "glossMapOffset", "glossMapTiling", "glossMapUv", "glossMapVertexColor", "heightMap", "heightMapChannel", "heightMapFactor", "heightMapOffset", "heightMapTiling", "heightMapVertexColor", "heightMapUv", "lightMap", "lightMapChannel", "lightMapOffset", "lightMapTiling", "lightMapUv", "lightMapVertexColor", "metalness", "metalnessMap", "metalnessMapChannel", "metalnessMapOffset", "metalnessMapTiling", "metalnessMapUv", "metalnessMapVertexColor", "name", "normalMap", "normalMapOffset", "normalMapTiling", "normalMapUv", "normalMapVertexColor", "occludeSpecular", "occludeSpecularIntensity", "opacity", "opacityMap", "opacityMapChannel", "opacityMapOffset", "opacityMapTiling", "opacityMapUv", "opacityMapVertexColor", "reflectivity", "refraction", "refractionIndex", "shadingModel", "shadowSampleType", "shininess", "specular", "specularAntialias", "specularMap", "specularMapChannel", "specularMapOffset", "specularMapTiling", "specularMapTint", "specularMapUv", "specularMapVertexColor", "sphereMap", "useFog", "useGammaTonemap", "useLighting", "useMetalness", "useSkybox"]
                  , i = null;
                function s(n) {
                    var r = this;
                    void 0 === n && (n = {});
                    var a = {};
                    return e.forEach(function(t) {
                        v[t] ? null !== r[t] ? a[t] = n.onParseTexture ? n.onParseTexture(r[t].name) : r[t].name : a[t] = null : l[t] ? a[t] = Array.from(r[t].data) : f[t] ? a[t] = r[t] ? r[t].toJSON() : null : "bumpiness" === t ? a.bumpMapFactor = r[t] : a[t] = r[t]
                    }),
                    n.diff && (null === i && (i = s.call(t.app.scene.defaultMaterial)),
                    e.forEach(function(t) {
                        "bumpiness" === t && (t = "bumpMapFactor");
                        var e = i[t]
                          , s = a[t];
                        l[t] && (e = e.toString(),
                        s = s.toString()),
                        f[t] && (e = JSON.stringify(e),
                        s = JSON.stringify(s)),
                        e === s && delete a[t]
                    })),
                    a
                }
                return s
            }()
        }
        function xt() {
            var e = function() {
                this.assets = [],
                this.speed = 1,
                this.loop = !0,
                this.activate = !0,
                this.cycleMode = "none",
                this.enabled = !0,
                this.animations = {},
                this.skeleton = null,
                this.model = null,
                this.prevAnim = null,
                this.currAnim = null,
                this.fromSkel = null,
                this.toSkel = null,
                this.blending = !1,
                this.blendTime = 0,
                this.blendTimeRemaining = 0,
                this.playing = !1
            };
            t.Fl = t.inherits(e, t.Ll),
            t.Nl.prototype.onCycleOne = function() {
                this.play(this.currAnim)
            }
            ,
            t.Nl.prototype.onCycleAll = function() {
                this.play(this.nextAnim)
            }
            ,
            Object.defineProperty(t.Nl.prototype, "nextAnim", {
                get: function() {
                    var e = null
                      , i = this.currAnim
                      , s = this.assets.map(function(e) {
                        return e instanceof t.Zf ? e.id : e
                    });
                    if (1 === s.length)
                        e = i;
                    else
                        for (var n = 0; n < s.length; n++) {
                            var r;
                            this.animationsIndex[s[n]] === i && (e = n === s.length - 1 ? this.animationsIndex[s[0]] : this.animationsIndex[s[n + 1]])
                        }
                    return e
                }
            }),
            Object.defineProperty(t.Nl.prototype, "cycleMode", {
                get: function() {
                    return this.data.cycleMode
                },
                set: function(t) {
                    switch (this.off("end", this.onCycleOne),
                    this.off("end", this.onCycleAll),
                    t) {
                    case "one":
                        this.on("end", this.onCycleOne, this);
                        break;
                    case "all":
                        this.on("end", this.onCycleAll, this)
                    }
                    this.data.cycleMode = t
                }
            }),
            t.Nd.prototype.onUpdate = function(t) {
                var e = this.store;
                for (var i in e)
                    if (e.hasOwnProperty(i)) {
                        var s = e[i]
                          , n = s.data;
                        if (n.enabled && n.playing && s.Bc.enabled) {
                            var r = n.skeleton;
                            if (null !== r && null !== n.model) {
                                if (n.lastPlaying || s.Bc.animation.fire("start", n.currAnim),
                                n.blending) {
                                    n.blendTimeRemaining -= t,
                                    n.blendTimeRemaining < 0 && (n.blendTimeRemaining = 0);
                                    var a = 1 - n.blendTimeRemaining / n.blendTime;
                                    r.blend(n.fromSkel, n.toSkel, a)
                                } else {
                                    var h = t * n.speed;
                                    r.addTime(h),
                                    r._time !== r._animation.duration || n.loop || (n.playing = !1,
                                    s.Bc.animation.fire("end", n.currAnim))
                                }
                                n.blending && 0 === n.blendTimeRemaining && (n.blending = !1,
                                r.animation = n.toSkel._animation),
                                n.lastPlaying = n.playing,
                                r.updateGraph()
                            }
                        }
                    }
            }
        }
        function zt() {
            ot(),
            ut(),
            ft(),
            dt(),
            lt(),
            bt(),
            vt(),
            mt(),
            gt(),
            pt(),
            wt(),
            xt()
        }
        var _t = function(e) {
            function s(i, s) {
                void 0 === s && (s = {});
                var a = e.call(this, i, s) || this;
                return a.isEnhanced = !1,
                a.isAutoResized = !1,
                a.enhance(),
                a.root.name = "Application Root",
                a.Br.maxPixelRatio = window.devicePixelRatio,
                a.setCanvasFillMode(t.Ol),
                a.setCanvasResolution(t.Jf),
                a.loader.Tl(t.dm).crossOrigin = !0,
                a.scene.skyboxIntensity = 1,
                a.scene.skyboxMip = 2,
                a.scene.ambientLight = new t.D(.2,.2,.2,1),
                a.scene.gammaCorrection = t.kr,
                a.scene.toneMapping = t.Xr,
                a.assets.primaryKey = s.assetPrimaryKey || C,
                a.assets.textures = new n(a),
                a.assets.cubemaps = new r(a),
                a.assets.materials = new D(a),
                a.assets.models = new T(a),
                a.assets.animations = new P(a),
                a.entities = new B(a),
                a.gizmos = new ht(a),
                a.selection = new ct(a),
                a.onResize = a._onResize.bind(a),
                s.assetPrefix && (a.assets.prefix = s.assetPrefix),
                !1 !== s.autoResize && a.autoResize(!0),
                !1 !== s.autoStart && a.start(),
                a
            }
            return i(s, e),
            s.prototype.destroy = function() {
                this.autoResize(!1),
                this.entities.destroy(),
                this.assets.models.destroy(),
                this.assets.materials.destroy(),
                this.assets.cubemaps.destroy(),
                this.assets.textures.destroy(),
                this.assets.animations.destroy(),
                this.gizmos.destroy(),
                this.selection.destroy(),
                this.onResize = null,
                e.prototype.destroy.call(this),
                this.assets = null,
                t.app = null,
                t.Ir.getApplication = t.Ir._getApplication
            }
            ,
            s.prototype.autoResize = function(t) {
                return void 0 === t && (t = !0),
                this.isAutoResized === t ? this : (t ? (window.addEventListener("resize", this.onResize, !1),
                window.addEventListener("orientationchange", this.onResize, !1)) : (window.removeEventListener("resize", this.onResize, !1),
                window.removeEventListener("orientationchange", this.onResize, !1)),
                this.isAutoResized = t,
                this)
            }
            ,
            s.prototype.enhance = function() {
                var e = this;
                return this.isEnhanced ? this : (t.Ir._getApplication = t.Ir.getApplication,
                t.Ir.getApplication = function() {
                    return e
                }
                ,
                t.PLAYENGINE_ENHANCED || (zt(),
                t.PLAYENGINE_ENHANCED = !0),
                this.mouse && (t.K.attach(this.mouse),
                this.mouse.fire = t.K.fire2),
                this.touch && (t.K.attach(this.touch),
                this.touch.fire = t.K.fire2),
                this.keyboard && t.K.attach(this.keyboard),
                this.isEnhanced = !0,
                this)
            }
            ,
            s.prototype._onResize = function() {
                var t = this.Br.canvas;
                this.Cr(t.width, t.height),
                this.rd = !0,
                this.selection.isPickerEnabled && this.selection.picker.resize(t.width, t.height)
            }
            ,
            s
        }(t.Ir)
          , At = function(t) {
            function e(e) {
                void 0 === e && (e = {});
                var i = t.call(this, e) || this;
                return i.Bc.Il("camera"),
                i.Bc.camera.layers = i.Bc.camera.layers.concat([O, E]),
                i
            }
            return i(e, t),
            e
        }(I)
          , yt = function(e) {
            function s(t) {
                void 0 === t && (t = {});
                var i = e.call(this, t) || this;
                return i.isAttached = !1,
                i
            }
            return i(s, e),
            s.prototype.attach = function(e) {
                var i = e.meshInstance
                  , s = e.triangleIndex
                  , n = e.localPoint;
                if (this.detach(),
                this.isAttached = !0,
                this.meshInstance = i,
                this.triangleIndex = s,
                this.localPoint = n instanceof t.ut ? n : new t.ut(n[0],n[1],n[2]),
                this.meshInstance.skinInstance) {
                    for (var r = this.meshInstance.mesh, a = r.nn, h = r.cn[0], c = a.format.elements, o = a.format.size, u = 0, f = 0, d = 0, l = 0, b = c; l < b.length; l++) {
                        var v = b[l];
                        v.name === t.Yi ? u = v.offset : v.name === t.Ji ? f = v.offset : v.name === t.Qi && (d = v.offset)
                    }
                    this.offsetPF = u / 4,
                    this.offsetWF = d / 4,
                    this.vertSizeF = o / 4,
                    this.vertSize = o,
                    this.offsetI = f,
                    this.data8 = new Uint8Array(a.lock()),
                    this.dataF = new Float32Array(a.lock()),
                    this.indices = 2 === h.bytesPerIndex ? new Uint16Array(h.lock()) : new Uint32Array(h.lock()),
                    this.boneMatrices = this.meshInstance.skinInstance.matrices
                }
                this.onUpdate()
            }
            ,
            s.prototype.detach = function() {
                this.isAttached = !1
            }
            ,
            s.prototype.onUpdate = function() {
                if (this.isAttached) {
                    var t = s.worldCoord
                      , e = s.worldTransform.copy(this.meshInstance.node.getWorldTransform());
                    if (this.meshInstance.skinInstance) {
                        var i = s.i
                          , n = s.j
                          , r = s.index
                          , a = t
                          , h = s.boneIndices
                          , c = s.boneWeights
                          , o = s.boneWeightVertices
                          , u = s.boneTmpPoints
                          , f = this.boneMatrices;
                        for (i = 0; i < 3; i++) {
                            for (r = this.indices[this.triangleIndex + i],
                            n = 0; n < 4; n++)
                                h[n] = this.data8[r * this.vertSize + this.offsetI + n],
                                c[n] = this.dataF[r * this.vertSizeF + this.offsetPF + this.offsetWF + n];
                            for (r = r * this.vertSizeF + this.offsetPF,
                            u[i].set(this.dataF[r], this.dataF[r + 1], this.dataF[r + 2]),
                            n = 0; n < 4; n++)
                                f[h[n]].transformPoint(u[i], o[n]),
                                o[n].scale(c[n]);
                            u[i].copy(o[0]).add(o[1]).add(o[2]).add(o[3])
                        }
                        a.copy(u[0]).add(u[1]).add(u[2]).scale(1 / 3),
                        e.transformPoint(a, t)
                    } else
                        e.transformPoint(this.localPoint, t);
                    this.Bc.setPosition(t)
                }
            }
            ,
            s.i = 0,
            s.j = 0,
            s.index = 0,
            s.worldCoord = new t.ut,
            s.worldTransform = new t.zt,
            s.boneIndices = [0, 0, 0, 0],
            s.boneWeights = [0, 0, 0, 0],
            s.boneWeightVertices = [new t.ut, new t.ut, new t.ut, new t.ut],
            s.boneTmpPoints = [new t.ut, new t.ut, new t.ut],
            s
        }(I)
          , Mt = function() {
            function e(t) {
                this.scriptType = t,
                this.index = {}
            }
            return e.rawToBoolean = function(t) {
                return !!t
            }
            ,
            e.rawToNumber = function(t) {
                if ("number" == typeof t)
                    return t;
                if ("string" == typeof t) {
                    var e = parseInt(t, 10);
                    return isNaN(e) ? null : e
                }
                return "boolean" == typeof t ? !!t : null
            }
            ,
            e.rawToJSON = function(t) {
                if ("object" == typeof t)
                    return t;
                try {
                    return JSON.parse(t)
                } catch (t) {
                    return null
                }
            }
            ,
            e.rawToAsset = function(e, i, s) {
                if (i.array) {
                    var n = [];
                    if (s instanceof Array)
                        for (var r = 0; r < s.length; r++)
                            s[r]instanceof t.Zf ? n.push(s[r]) : "number" == typeof s[r] ? n.push(e.assets.get(s[r]) || null) : "string" == typeof s[r] ? n.push(e.assets.get(parseInt(s[r], 10)) || null) : n.push(null);
                    return n
                }
                return s instanceof t.Zf ? s : "number" == typeof s ? e.assets.get(s) || null : "string" == typeof s && e.assets.get(parseInt(s, 10)) || null
            }
            ,
            e.rawToEntity = function(e, i) {
                return i instanceof t.Gh ? i : "string" == typeof i ? e.root.findByGuid(i) : null
            }
            ,
            e.rawToColor = function(e, i) {
                if (e instanceof t.D)
                    return i instanceof t.D ? (i.copy(e),
                    i) : e.clone();
                if (e instanceof Array && e.length >= 3 && e.length <= 4) {
                    for (var s = 0; s < e.length; s++)
                        if ("number" != typeof e[s])
                            return null;
                    i || (i = new t.D);
                    for (var s = 0; s < 4; s++)
                        i.data[s] = 4 === s && 3 === e.length ? 1 : e[s];
                    return i
                }
                return "string" == typeof e && /#([0-9abcdef]{2}){3,4}/i.test(e) ? (i || (i = new t.D),
                i.fromString(e),
                i) : null
            }
            ,
            e.rawToVector = function(e, i, s) {
                var n = parseInt(e.type.slice(3), 10)
                  , r = "Vec" + n;
                if (i instanceof t[r])
                    return s instanceof t[r] ? s : i.clone();
                if (i instanceof Array && i.length === n) {
                    for (var a = 0; a < i.length; a++)
                        if ("number" != typeof i[a])
                            return null;
                    s || (s = new t[r]);
                    for (var a = 0; a < n; a++)
                        s.data[a] = i[a];
                    return s
                }
                return null
            }
            ,
            e.rawToCurve = function(e) {
                if (e) {
                    var i = void 0, s;
                    if (e instanceof t.Et || e instanceof t.It)
                        i = e.clone();
                    else
                        (i = new (e.keys[0]instanceof Array ? t.It : t.Et)(e.keys)).type = e.type;
                    return i
                }
            }
            ,
            e.rawToValue = function(t, i, s, n) {
                switch (i.type) {
                case "boolean":
                    return e.rawToBoolean(s);
                case "number":
                    return e.rawToNumber(s);
                case "json":
                    return e.rawToJSON(s);
                case "asset":
                    return e.rawToAsset(t, i, s);
                case "entity":
                    return e.rawToEntity(t, s);
                case "rgb":
                case "rgba":
                    return e.rawToColor(s, n);
                case "vec2":
                case "vec3":
                case "vec4":
                    return e.rawToVector(i, s, n);
                case "curve":
                    return e.rawToCurve(s)
                }
                return s
            }
            ,
            e.prototype.add = function(i, s) {
                this.index[i] || t.td.$f[i] || (this.index[i] = s,
                Object.defineProperty(this.scriptType.prototype, i, {
                    configurable: !0,
                    get: function() {
                        return this.__attributes[i]
                    },
                    set: function(t) {
                        var n = this.__attributes[i];
                        this.__attributes[i] = e.rawToValue(this.app, s, t, n),
                        this.fire("attr", i, this.__attributes[i], n),
                        this.fire("attr:" + i, this.__attributes[i], n)
                    }
                }))
            }
            ,
            e.prototype.remove = function(t) {
                return !!this.index[t] && (delete this.index[t],
                delete this.scriptType.prototype[t],
                !0)
            }
            ,
            e.prototype.has = function(t) {
                return !!this.index[t]
            }
            ,
            e
        }()
          , St = function() {
            function e(e) {
                void 0 === e && (e = {}),
                this.app = e.app,
                this.Bc = e.Bc,
                this._enabled = "boolean" != typeof e.enabled || e.enabled,
                this._enabledOld = this.enabled,
                this.__attributes = {},
                this.__attributesRaw = e.attributes || null,
                this.__scriptType = this,
                t.K.attach(this)
            }
            return Object.defineProperty(e.prototype, "enabled", {
                get: function() {
                    return this._enabled && this.Bc.script.enabled && this.Bc.enabled
                },
                set: function(e) {
                    this._enabled = !!e,
                    this.enabled !== this._enabledOld && (this._enabledOld = this.enabled,
                    this.fire(this.enabled ? "enable" : "disable"),
                    this.fire("state", this.enabled),
                    !this._initialized && this.enabled && (this._initialized = !0,
                    this.__initializeAttributes(!0),
                    this.initialize && this.Bc.script._scriptMethod(this, t.ed.scriptMethods.initialize)),
                    this._initialized && !this._postInitialized && this.enabled && !this.Bc.script._beingEnabled && (this._postInitialized = !0,
                    this.postInitialize && this.Bc.script._scriptMethod(this, t.ed.scriptMethods.postInitialize)))
                },
                enumerable: !0,
                configurable: !0
            }),
            e
        }();
        function Ct(e) {
            return function(i) {
                for (var s in e.attributes = new Mt(e),
                e.prototype.__initializeAttributes = function(t) {
                    if (t || this.__attributesRaw) {
                        for (var i in e.attributes.index)
                            this.__attributesRaw && this.__attributesRaw.hasOwnProperty(i) ? this[i] = this.__attributesRaw[i] : this.__attributes.hasOwnProperty(i) || (e.attributes.index[i].hasOwnProperty("default") ? this[i] = e.attributes.index[i].default : this[i] = null);
                        this.__attributesRaw = null
                    }
                }
                ,
                e.__attributes)
                    e.__attributes.hasOwnProperty(s) && e.attributes.add(s, e.__attributes[s]);
                var n;
                return (i ? i.scripts : t.Ir.getApplication().scripts).add(e),
                t.sd._push(e),
                e
            }
        }
        var Ot, Et = Ct(function(e) {
            function s() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(s, e),
            s.prototype.initialize = function() {
                this.on("enable", this.onEnable, this),
                this.on("disable", this.onDisable, this),
                this.onEnable()
            }
            ,
            s.prototype.onSelect = function(t) {}
            ,
            s.prototype.onEnable = function() {
                this.app.mouse.on(t.oo, this.onMouseMove, this)
            }
            ,
            s.prototype.onDisable = function() {
                this.app.mouse.off(t.oo, this.onMouseMove, this)
            }
            ,
            s.prototype.onMouseMove = function(t) {
                var e = this.select(t.x, t.y);
                this.onSelect(e)
            }
            ,
            s.prototype.select = function(t, e) {
                var i = this.app.selection.select(t, e);
                return i && i.model && i.model.meshInstances ? this.app.selection.prepareRay(t, e).Xt(i.model.meshInstances) : null
            }
            ,
            s.__name = "picker",
            s
        }(St)), Dt, Tt = Ct(function(e) {
            function s() {
                var i = null !== e && e.apply(this, arguments) || this;
                return i._targetDistance = 0,
                i._targetPitch = 0,
                i._targetYaw = 0,
                i._distance = 0,
                i._pitch = 0,
                i._yaw = 0,
                i._pivotPoint = new t.ut,
                i._targetPivotPoint = new t.ut,
                i._modelsAabb = new t.jt,
                i
            }
            return i(s, e),
            Object.defineProperty(s.prototype, "distance", {
                get: function() {
                    return this._targetDistance
                },
                set: function(t) {
                    this._targetDistance = this._clampDistance(t)
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "pitch", {
                get: function() {
                    return this._targetPitch
                },
                set: function(t) {
                    this._targetPitch = this._clampPitchAngle(t)
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "yaw", {
                get: function() {
                    return this._targetYaw
                },
                set: function(t) {
                    this._targetYaw = t;
                    var e, i = (this._targetYaw - this._yaw) % 360;
                    this._targetYaw = i > 180 ? this._yaw - (360 - i) : i < -180 ? this._yaw + (360 + i) : this._yaw + i
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "pivotPoint", {
                get: function() {
                    return this._targetPivotPoint
                },
                set: function(t) {
                    this._targetPivotPoint.copy(t)
                },
                enumerable: !0,
                configurable: !0
            }),
            s.prototype.initialize = function() {
                var t = this.Bc.getRotation()
                  , e = this.Bc.getPosition();
                this._checkAspectRatio(),
                this._buildAabb(this.focusEntity || this.app.root, 0),
                this._pivotPoint.copy(this._modelsAabb.center),
                this._yaw = this._calcYaw(t),
                this._pitch = this._clampPitchAngle(this._calcPitch(t, this._yaw)),
                this._targetYaw = this._yaw,
                this._targetPitch = this._pitch,
                this._targetPivotPoint.copy(this._pivotPoint),
                this.Bc.setLocalEulerAngles(this._pitch, this._yaw, 0),
                e.equals(this._modelsAabb.center) || this.resetAndLookAt(e, this._modelsAabb.center)
            }
            ,
            s.prototype.update = function(e) {
                var i = 0 === this.inertiaFactor ? 1 : Math.min(e / this.inertiaFactor, 1);
                this._distance = t.I.st(this._distance, this._targetDistance, i),
                this._yaw = t.I.st(this._yaw, this._targetYaw, i),
                this._pitch = t.I.st(this._pitch, this._targetPitch, i),
                this._pivotPoint = this._pivotPoint.st(this._pivotPoint, this._targetPivotPoint, i),
                this._updatePosition()
            }
            ,
            s.prototype.focus = function(e) {
                this._buildAabb(e, 0);
                var i = this._modelsAabb.halfExtents
                  , s = Math.max(i.x, Math.max(i.y, i.z));
                s /= Math.tan(.5 * this.Bc.camera.fov * t.I.q),
                s *= 2,
                this.distance = s,
                this._removeInertia(),
                this.pivotPoint.copy(this._modelsAabb.center)
            }
            ,
            s.prototype.resetAndLookAt = function(t, e) {
                this.pivotPoint.copy(e),
                this.Bc.setPosition(t),
                this.Bc.lookAt(e);
                var i = s.distanceBetween;
                i.sub2(e, t),
                this.distance = i.length(),
                this.pivotPoint.copy(e);
                var n = this.Bc.getRotation();
                this.yaw = this._calcYaw(n),
                this.pitch = this._calcPitch(n, this.yaw),
                this._removeInertia(),
                this._updatePosition()
            }
            ,
            s.prototype.reset = function(t, e, i) {
                this.pitch = t,
                this.yaw = e,
                this.distance = i,
                this._removeInertia()
            }
            ,
            s.prototype._updatePosition = function() {
                this.Bc.setLocalPosition(0, 0, 0),
                this.Bc.setLocalEulerAngles(this._pitch, this._yaw, 0);
                var t = this.Bc.getPosition();
                t.copy(this.Bc.forward),
                t.scale(-this._distance),
                t.add(this._pivotPoint),
                this.Bc.setPosition(t)
            }
            ,
            s.prototype._removeInertia = function() {
                this._yaw = this._targetYaw,
                this._pitch = this._targetPitch,
                this._distance = this._targetDistance
            }
            ,
            s.prototype._checkAspectRatio = function() {
                var t = this.app.Br.height
                  , e = this.app.Br.width;
                this.Bc.camera.horizontalFov = t > e
            }
            ,
            s.prototype._buildAabb = function(t, e) {
                var i = 0;
                if (t.model) {
                    var s = t.model.meshInstances;
                    for (i = 0; i < s.length; i++)
                        0 === e ? this._modelsAabb.copy(s[i].aabb) : this._modelsAabb.add(s[i].aabb),
                        e += 1
                }
                for (i = 0; i < t.children.length; ++i)
                    e += this._buildAabb(t.children[i], e);
                return e
            }
            ,
            s.prototype._clampDistance = function(e) {
                return this.distanceMax > 0 ? t.I.clamp(e, this.distanceMin, this.distanceMax) : Math.max(e, this.distanceMin)
            }
            ,
            s.prototype._clampPitchAngle = function(e) {
                return t.I.clamp(e, -this.pitchAngleMax, -this.pitchAngleMin)
            }
            ,
            s.prototype._calcPitch = function(e, i) {
                var n = s.quatWithoutYaw
                  , r = s.yawOffset;
                r.vt(0, -i, 0),
                n.mul2(r, e);
                var a = new t.ut;
                return n.ft(t.ut.FORWARD, a),
                Math.atan2(a.y, -a.z) * t.I.tt
            }
            ,
            s.prototype._calcYaw = function(e) {
                var i = new t.ut;
                return e.ft(t.ut.FORWARD, i),
                Math.atan2(-i.x, -i.z) * t.I.tt
            }
            ,
            s.__name = "orbitCamera",
            s.__attributes = {
                distanceMax: {
                    type: "number",
                    default: 0,
                    title: "Distance Max",
                    description: "Setting this at 0 will give an infinite distance limit"
                },
                distanceMin: {
                    type: "number",
                    default: 0,
                    title: "Distance Min"
                },
                pitchAngleMax: {
                    type: "number",
                    default: 90,
                    title: "Pitch Angle Max (degrees)"
                },
                pitchAngleMin: {
                    type: "number",
                    default: -90,
                    title: "Pitch Angle Min (degrees)"
                },
                inertiaFactor: {
                    type: "number",
                    default: 0,
                    title: "Inertia Factor",
                    description: "Higher value means that the camera will continue moving after the user has stopped dragging. 0 is fully responsive."
                },
                focusEntity: {
                    type: "entity",
                    title: "Focus Entity",
                    description: "Entity for the camera to focus on. If blank, then the camera will use the whole scene"
                },
                frameOnStart: {
                    type: "boolean",
                    default: !0,
                    title: "Frame on Start",
                    description: "Frames the entity or scene at the start of the application."
                }
            },
            s.distanceBetween = new t.ut,
            s.fromWorldPoint = new t.ut,
            s.toWorldPoint = new t.ut,
            s.worldDiff = new t.ut,
            s.quatWithoutYaw = new t.bt,
            s.yawOffset = new t.bt,
            s
        }(St)), Pt, Bt = Ct(function(e) {
            function s() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(s, e),
            s.prototype.initialize = function() {
                this.orbitCamera = this.Bc.script.orbitCamera,
                this.orbitCamera && (this.on("enable", this.onEnable),
                this.on("disable", this.onDisable),
                this.onEnable()),
                this.app.mouse.disableContextMenu(),
                this.lookButtonDown = !1,
                this.panButtonDown = !1,
                this.lastPoint = new t.pt,
                this.onMouseOut = this._onMouseOut.bind(this)
            }
            ,
            s.prototype.onEnable = function() {
                this.lookButtonDown = !1,
                this.panButtonDown = !1,
                this.app.mouse.on(t.co, this.onMouseDown, this),
                this.app.mouse.on(t.uo, this.onMouseUp, this, -9),
                this.app.mouse.on(t.oo, this.onMouseMove, this),
                this.app.mouse.on(t.fo, this.onMouseWheel, this),
                window.addEventListener("mouseout", this.onMouseOut, !1)
            }
            ,
            s.prototype.onDisable = function() {
                this.lookButtonDown = !1,
                this.panButtonDown = !1,
                this.app.mouse.off(t.co, this.onMouseDown, this),
                this.app.mouse.off(t.uo, this.onMouseUp, this),
                this.app.mouse.off(t.oo, this.onMouseMove, this),
                this.app.mouse.off(t.fo, this.onMouseWheel, this),
                window.removeEventListener("mouseout", this.onMouseOut, !1)
            }
            ,
            s.prototype.pan = function(t) {
                var e = s.fromWorldPoint
                  , i = s.toWorldPoint
                  , n = s.worldDiff
                  , r = this.Bc.camera
                  , a = this.orbitCamera.distance;
                r.screenToWorld(t.x, t.y, a, e),
                r.screenToWorld(this.lastPoint.x, this.lastPoint.y, a, i),
                n.sub2(i, e),
                this.orbitCamera.pivotPoint.add(n)
            }
            ,
            s.prototype.onMouseDown = function(e) {
                switch (e.event.preventDefault(),
                e.event.stopPropagation(),
                e.button) {
                case t.cf:
                    this.lookButtonDown = !0;
                    break;
                case t.uf:
                case t.ff:
                    this.panButtonDown = !0
                }
                this.app.fire("app:camera:movestart")
            }
            ,
            s.prototype.onMouseUp = function(e) {
                switch (e.event.preventDefault(),
                e.event.stopPropagation(),
                e.button) {
                case t.cf:
                    this.lookButtonDown = !1;
                    break;
                case t.uf:
                case t.ff:
                    this.panButtonDown = !1
                }
                this.app.fire("app:camera:moveend")
            }
            ,
            s.prototype.onMouseMove = function(t) {
                this.lookButtonDown ? (this.orbitCamera.pitch -= t.dy * this.orbitSensitivity,
                this.orbitCamera.yaw -= t.dx * this.orbitSensitivity,
                this.app.fire("app:camera:move")) : this.panButtonDown && (this.pan(t),
                this.app.fire("app:camera:move")),
                this.lastPoint.set(t.x, t.y)
            }
            ,
            s.prototype.onMouseWheel = function(t) {
                t.event.preventDefault(),
                this.orbitCamera.distance -= t.wheel * this.distanceSensitivity * (.1 * this.orbitCamera.distance),
                this.app.fire("app:camera:move")
            }
            ,
            s.prototype._onMouseOut = function() {
                this.lookButtonDown = !1,
                this.panButtonDown = !1
            }
            ,
            s.__name = "orbitCameraMouseInput",
            s.__attributes = {
                orbitSensitivity: {
                    type: "number",
                    default: .3,
                    title: "Orbit Sensitivity",
                    description: "How fast the camera moves around the orbit. Higher is faster"
                },
                distanceSensitivity: {
                    type: "number",
                    default: .15,
                    title: "Distance Sensitivity",
                    description: "How fast the camera moves in and out. Higher is faster"
                }
            },
            s.fromWorldPoint = new t.ut,
            s.toWorldPoint = new t.ut,
            s.worldDiff = new t.ut,
            s
        }(St)), It, jt = Ct(function(e) {
            function s() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(s, e),
            s.prototype.initialize = function() {
                this.orbitCamera = this.Bc.script.orbitCamera,
                this.lastTouchPoint = new t.pt,
                this.lastPinchMidPoint = new t.pt,
                this.lastPinchDistance = 0,
                this.orbitCamera && this.app.touch && (this.on("enable", this.onEnable),
                this.on("disable", this.onDisable),
                this.onEnable())
            }
            ,
            s.prototype.onEnable = function() {
                this.app.touch.on(t.do, this.onTouchStartEndCancel, this),
                this.app.touch.on(t.lo, this.onTouchStartEndCancel, this),
                this.app.touch.on(t.vo, this.onTouchStartEndCancel, this),
                this.app.touch.on(t.bo, this.onTouchMove, this)
            }
            ,
            s.prototype.onDisable = function() {
                this.app.touch.off(t.do, this.onTouchStartEndCancel, this),
                this.app.touch.off(t.lo, this.onTouchStartEndCancel, this),
                this.app.touch.off(t.vo, this.onTouchStartEndCancel, this),
                this.app.touch.off(t.bo, this.onTouchMove, this)
            }
            ,
            s.prototype.getPinchDistance = function(t, e) {
                var i = t.x - e.x
                  , s = t.y - e.y;
                return Math.sqrt(i * i + s * s)
            }
            ,
            s.prototype.calcMidPoint = function(t, e, i) {
                i.set(e.x - t.x, e.y - t.y),
                i.scale(.5),
                i.x += t.x,
                i.y += t.y
            }
            ,
            s.prototype.onTouchStartEndCancel = function(t) {
                t.event.preventDefault();
                var e = t.touches;
                switch (1 === e.length ? this.lastTouchPoint.set(e[0].x, e[0].y) : 2 === e.length && (this.lastPinchDistance = this.getPinchDistance(e[0], e[1]),
                this.calcMidPoint(e[0], e[1], this.lastPinchMidPoint)),
                t.event.type) {
                case "touchstart":
                    this.app.fire("app:camera:movestart");
                    break;
                case "touchend":
                case "touchcancel":
                    this.app.fire("app:camera:moveend")
                }
            }
            ,
            s.prototype.pan = function(t) {
                var e = s.fromWorldPoint
                  , i = s.toWorldPoint
                  , n = s.worldDiff
                  , r = this.Bc.camera
                  , a = this.orbitCamera.distance;
                r.screenToWorld(t.x, t.y, a, e),
                r.screenToWorld(this.lastPinchMidPoint.x, this.lastPinchMidPoint.y, a, i),
                n.sub2(i, e),
                this.orbitCamera.pivotPoint.add(n)
            }
            ,
            s.prototype.onTouchMove = function(t) {
                var e = s.pinchMidPoint
                  , i = t.touches;
                if (1 === i.length) {
                    var n = i[0];
                    this.orbitCamera.pitch -= (n.y - this.lastTouchPoint.y) * this.orbitSensitivity,
                    this.orbitCamera.yaw -= (n.x - this.lastTouchPoint.x) * this.orbitSensitivity,
                    this.lastTouchPoint.set(n.x, n.y),
                    this.app.fire("app:camera:move")
                } else if (2 === i.length) {
                    var r = this.getPinchDistance(i[0], i[1])
                      , a = r - this.lastPinchDistance;
                    this.lastPinchDistance = r,
                    this.orbitCamera.distance -= a * this.distanceSensitivity * .1 * (.1 * this.orbitCamera.distance),
                    this.calcMidPoint(i[0], i[1], e),
                    Math.abs(a) <= this.pinchSensitivity && (this.pan(e),
                    this.app.fire("app:camera:move")),
                    this.lastPinchMidPoint.copy(e)
                }
            }
            ,
            s.__name = "orbitCameraTouchInput",
            s.__attributes = {
                orbitSensitivity: {
                    type: "number",
                    default: .4,
                    title: "Orbit Sensitivity",
                    description: "How fast the camera moves around the orbit. Higher is faster"
                },
                distanceSensitivity: {
                    type: "number",
                    default: .2,
                    title: "Distance Sensitivity",
                    description: "How fast the camera moves in and out. Higher is faster"
                },
                pinchSensitivity: {
                    type: "number",
                    default: 1,
                    title: "Pinch Sensitivity"
                }
            },
            s.fromWorldPoint = new t.ut,
            s.toWorldPoint = new t.ut,
            s.worldDiff = new t.ut,
            s.pinchMidPoint = new t.pt,
            s
        }(St)), Rt = function() {
            function e(e) {
                this.enabled = !0,
                this.renderToScreen = !1;
                var i = t.dn;
                this.app = e,
                this.Br = this.app.Br,
                this.renderer = this.app.renderer,
                this.shaderOutput = i.createShaderFromCode(this.Br, i.fullscreenQuadVS, i.outputTex2DPS, "outputTex2D"),
                this.uSource = this.Br.scope.resolve("source")
            }
            return e.createRenderTarget = function(e, i) {
                return void 0 === i && (i = {}),
                new t.An({
                    colorBuffer: new t.xn(e,{
                        format: i.format || t.vi,
                        width: e.width,
                        height: e.height,
                        minFilter: i.minFilter || t.We,
                        magFilter: i.magFilter || t.We,
                        addressU: i.addressU || t.Zt,
                        addressV: i.addressV || t.Zt,
                        mipmaps: "boolean" == typeof i.mipmaps && i.mipmaps
                    })
                })
            }
            ,
            e
        }(), Lt = function() {
            function e(e) {
                this.app = e,
                this.Br = this.app.Br,
                this.passes = [],
                this.Br.scope.resolve("uTexelSize").setValue([1 / this.Br.width, 1 / this.Br.height]),
                this.inputTarget = Rt.createRenderTarget(this.Br),
                this.outputTarget = Rt.createRenderTarget(this.Br),
                this.app.on(t.Lg, this.onUpdate, this)
            }
            return e.prototype.add = function(t) {
                this.passes.push(t)
            }
            ,
            e.prototype.remove = function(t) {
                var e = this.passes.indexOf(t);
                e > -1 && this.passes.splice(e, 1)
            }
            ,
            e.prototype.render = function() {
                for (var t, e = this.inputTarget, i = this.outputTarget, s = 0, n = this.passes; s < n.length; s++) {
                    var r = n[s];
                    r.enabled && (r.render(e, i, this.dt),
                    t = e,
                    e = i,
                    i = t)
                }
                this.app.fire("app:effects:postrender")
            }
            ,
            e.prototype.onUpdate = function(t) {
                this.dt = t
            }
            ,
            e
        }(), Nt = function(e) {
            function s(i, s) {
                void 0 === s && (s = {
                    color: [0, 0, 0, 0],
                    depth: 1,
                    stencil: 0,
                    flags: t.ye | t.Me
                });
                var n = e.call(this, i) || this;
                return n.clearOptions = s,
                n
            }
            return i(s, e),
            s.prototype.render = function(t) {
                var e = this.Br.Jn();
                this.Br.ln(t),
                this.Br.bn(),
                this.Br.clear(this.clearOptions),
                this.Br.mn(),
                this.Br.ln(e)
            }
            ,
            s
        }(Rt), Ft = function(e) {
            function s(i, s) {
                void 0 === s && (s = {});
                var n = e.call(this, i) || this
                  , r = s.layerId || t.LAYERID_WORLD;
                return n.clearPass = new Nt(i),
                n.renderTarget = Rt.createRenderTarget(n.Br),
                n.layer = n.app.scene.layers.getLayerById(r),
                n.layer.onPreRender = n.onPreRender.bind(n),
                n.layer.onPostRender = n.onPostRender.bind(n),
                n.prevClearOptions = n.layer._clearOptions,
                n
            }
            return i(s, e),
            s.prototype.onPreRender = function() {
                this.clearPass.render(this.renderTarget),
                this.layer.overrideClear = !0,
                this.layer._clearOptions = this.clearPass.clearOptions,
                this.layer.renderTarget = this.renderTarget
            }
            ,
            s.prototype.onPostRender = function() {
                this.layer.renderTarget = null,
                this.layer._clearOptions = this.prevClearOptions,
                this.renderToScreen && (this.Br.hr(!0),
                this.Br.pr(t.ee, t.ue),
                this.uSource.setValue(this.renderTarget.colorBuffer),
                t.Bn(this.Br, null, this.shaderOutput, null, null, !0))
            }
            ,
            s.prototype.render = function(t, e) {
                this.Br.copyRenderTarget(this.renderTarget, e, !0, !1)
            }
            ,
            s
        }(Rt), kt = function(t) {
            function e(e) {
                var i = t.call(this, e) || this;
                return i.renderTarget = Rt.createRenderTarget(i.Br),
                i
            }
            return i(e, t),
            e.prototype.render = function(t, e) {
                this.Br.copyRenderTarget(t, e, !0, !1)
            }
            ,
            e
        }(Rt), Ut = "attribute vec2 vertex_position;uniform vec2 uTexelSize;uniform vec2 uHalfTexelSize;uniform float uKernel;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=vertex_position.xy*0.5+0.5;vec2 dUv=(uTexelSize*vec2(uKernel))+uHalfTexelSize;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(vertex_position,0.0,1.0);}", Vt = "uniform sampler2D uColorBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(uColorBuffer,vUv0);sum+=texture2D(uColorBuffer,vUv1);sum+=texture2D(uColorBuffer,vUv2);sum+=texture2D(uColorBuffer,vUv3);gl_FragColor=sum*0.25;}", Ht = function(e) {
            function s(i, n) {
                void 0 === n && (n = {});
                var r = e.call(this, i) || this;
                return r.shaderBlur = t.dn.createShaderFromCode(r.Br, Ut, Vt, "blur"),
                r.renderTargetX = Rt.createRenderTarget(r.Br),
                r.renderTargetY = Rt.createRenderTarget(r.Br),
                r.resolutionScale = void 0 !== n.resolutionScale ? n.resolutionScale : .5,
                r._kernelSize = void 0 !== n.kernelSize ? n.kernelSize : s.KernelSize.VERY_SMALL,
                r
            }
            return i(s, e),
            Object.defineProperty(s.prototype, "kernelSize", {
                get: function() {
                    return this._kernelSize
                },
                set: function(t) {
                    t < s.KernelSize.VERY_SMALL || t > s.KernelSize.HUGE || (this._kernelSize = t)
                },
                enumerable: !0,
                configurable: !0
            }),
            s.prototype.render = function(e, i) {
                var n = this.renderTargetX, r = this.renderTargetY, a = this.Br, h = s.KernelPresets[this._kernelSize], c = a.scope, o = c.resolve("uKernel"), u = c.resolve("uTexelSize"), f = c.resolve("uHalfTexelSize"), d = c.resolve("uColorBuffer"), l = c.resolve("source"), b = e, v, m;
                for (f.setValue([u.value[0] / 2, u.value[1] / 2]),
                v = 0; v < h.length; v++)
                    m = v % 2 == 0 ? n : r,
                    o.setValue(h[v]),
                    d.setValue(b.colorBuffer),
                    t.Bn(a, m, this.shaderBlur, null, null, !0),
                    b = m;
                l.setValue(b.colorBuffer),
                a.hr(!0),
                a.pr(t.ee, t.ue),
                t.Bn(a, this.renderToScreen ? null : i, this.shaderOutput, null, null, !0)
            }
            ,
            s.KernelSize = {
                VERY_SMALL: 0,
                SMALL: 1,
                MEDIUM: 2,
                LARGE: 3,
                VERY_LARGE: 4,
                HUGE: 5
            },
            s.KernelPresets = [new Float32Array([0, 0]), new Float32Array([0, 1, 1]), new Float32Array([0, 1, 1, 2]), new Float32Array([0, 1, 2, 2, 3]), new Float32Array([0, 1, 2, 3, 4, 4, 5]), new Float32Array([0, 1, 2, 3, 4, 5, 7, 8, 9, 10])],
            s
        }(Rt), Gt = "attribute vec2 vertex_position;uniform vec2 uTexelSize;uniform float uOffset;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){gl_Position=vec4(vertex_position,0.0,1.0);vec2 uv=vertex_position.xy*0.5+0.5;vUv0=vec2(uv.x+uTexelSize.x*uOffset,uv.y);vUv1=vec2(uv.x-uTexelSize.x*uOffset,uv.y);vUv2=vec2(uv.x,uv.y+uTexelSize.y*uOffset);vUv3=vec2(uv.x,uv.y-uTexelSize.y*uOffset);}", Wt = "uniform sampler2D uColorBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(uColorBuffer,vUv0).rg;vec2 c1=texture2D(uColorBuffer,vUv1).rg;vec2 c2=texture2D(uColorBuffer,vUv2).rg;vec2 c3=texture2D(uColorBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)? vec2(d,0.0): vec2(0.0,d);gl_FragColor.a=1.0;}", Yt = "attribute vec2 vertex_position;varying vec2 vUv0;void main(){gl_Position=vec4(vertex_position,0.0,1.0);vUv0=vertex_position.xy*0.5+0.5;}", Xt = "uniform sampler2D uColorBuffer;uniform sampler2D uEdgeBuffer;uniform vec3 uColor;uniform float uPulse;varying vec2 vUv0;void main(){vec4 color=texture2D(uColorBuffer,vUv0);vec2 edge=texture2D(uEdgeBuffer,vUv0).rg;edge*=2.0*uPulse;vec3 outlineColor=edge.x*uColor+edge.y*0.0;color.rgb+=outlineColor;gl_FragColor=color;}", Kt = function(e) {
            function s(i) {
                var n = e.call(this, i) || this;
                n.targets = [],
                n.timer = 0,
                n._offset = 1,
                n._pulse = 0,
                n._color = new t.D(1,1,1,1);
                var r = t.dn;
                return n.shaderOutlineEdge = r.createShaderFromCode(n.Br, Gt, Wt, "outlineEdge"),
                n.shaderOutlineBlend = r.createShaderFromCode(n.Br, Yt, Xt, "outlineBlend"),
                n.renderTargetSource = Rt.createRenderTarget(n.Br),
                n.renderTargetOutlineEdge = Rt.createRenderTarget(n.Br),
                n.renderTargetOutlineBlend = Rt.createRenderTarget(n.Br),
                n.layer = new t.Layer({
                    name: "Outline",
                    opaqueSortMode: t.SORTMODE_NONE,
                    passThrough: !0,
                    shaderPass: s.Vg,
                    clearColor: new t.D(0,0,0,0),
                    clearColorBuffer: !0,
                    clearDepthBuffer: !0,
                    renderTarget: n.renderTargetSource,
                    onPreRender: n.onLayerPreRender.bind(n)
                }),
                n.layerComp = new t.LayerComposition,
                n.layerComp.pushOpaque(n.layer),
                n
            }
            return i(s, e),
            Object.defineProperty(s.prototype, "color", {
                get: function() {
                    return this._color
                },
                set: function(t) {
                    this._color = t
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "offset", {
                get: function() {
                    return this._offset
                },
                set: function(t) {
                    this._offset = t
                },
                enumerable: !0,
                configurable: !0
            }),
            Object.defineProperty(s.prototype, "pulse", {
                get: function() {
                    return this._pulse
                },
                set: function(t) {
                    this._pulse = t
                },
                enumerable: !0,
                configurable: !0
            }),
            s.prototype.prepare = function(t) {
                this.layer.clearCameras(),
                this.layer.addCamera(t.Bc.camera)
            }
            ,
            s.prototype.attach = function(e) {
                if (0 === this.layer.cameras.length)
                    throw Error("You should call prepare before attach.");
                this.detach(),
                Array.isArray(e) ? this.targets = e.filter(function(e) {
                    return e instanceof t.Yh
                }) : e instanceof t.Yh && (this.targets = [e])
            }
            ,
            s.prototype.detach = function() {
                this.targets = []
            }
            ,
            s.prototype.destroy = function() {
                this.detach()
            }
            ,
            s.prototype.render = function(e, i, s) {
                var n = this.Br
                  , r = n.scope.resolve("source")
                  , a = n.scope.resolve("uColor")
                  , h = n.scope.resolve("uEdgeBuffer")
                  , c = n.scope.resolve("uColorBuffer")
                  , o = n.scope.resolve("uOffset")
                  , u = n.scope.resolve("uPulse");
                this.renderer.renderComposition(this.layerComp),
                c.setValue(this.renderTargetSource.colorBuffer),
                o.setValue(this.offset),
                t.Bn(n, this.renderTargetOutlineEdge, this.shaderOutlineEdge, null, null, !0),
                c.setValue(e.colorBuffer),
                h.setValue(this.renderTargetOutlineEdge.colorBuffer),
                a.setValue(this.color.data3),
                u.setValue(.625 + .375 * Math.cos(this.timer * this.pulse * 10)),
                t.Bn(n, this.renderTargetOutlineBlend, this.shaderOutlineBlend, null, null, !0),
                r.setValue(this.renderTargetOutlineBlend.colorBuffer),
                n.hr(!0),
                n.pr(t.ee, t.ue),
                t.Bn(n, this.renderToScreen ? null : i, this.shaderOutput, null, null, !0),
                this.timer += s
            }
            ,
            s.prototype.onLayerPreRender = function() {
                var t = this;
                this.layer.clearMeshInstances(),
                this.targets.length > 0 && this.targets.forEach(function(e) {
                    t.layer.opaqueMeshInstances.push(e)
                })
            }
            ,
            s.Vg = 24,
            s
        }(Rt), Qt = "attribute vec2 vertex_position;uniform vec2 uTexelSize;varying vec2 vUv0;varying vec4 vOffset[3];void main(){vUv0=vertex_position.xy*0.5+0.5;vOffset[0]=vUv0.xyxy+uTexelSize.xyxy*vec4(-1.0,0.0,0.0,1.0);vOffset[1]=vUv0.xyxy+uTexelSize.xyxy*vec4(1.0,0.0,0.0,-1.0);vOffset[2]=vUv0.xyxy+uTexelSize.xyxy*vec4(-2.0,0.0,0.0,2.0);gl_Position=vec4(vertex_position,0.0,1.0);}", Jt = "#define EDGE_THRESHOLD 0.1\nuniform sampler2D uColorBuffer;varying vec2 vUv0;varying vec4 vOffset[3];void main(){const vec2 threshold=vec2(EDGE_THRESHOLD);vec4 delta;vec3 c=texture2D(uColorBuffer,vUv0).rgb;vec3 cLeft=texture2D(uColorBuffer,vOffset[0].xy).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(uColorBuffer,vOffset[0].zw).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(uColorBuffer,vOffset[1].xy).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(uColorBuffer,vOffset[1].zw).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);float maxDelta=max(max(max(delta.x,delta.y),delta.z),delta.w);vec3 cLeftLeft=texture2D(uColorBuffer,vOffset[2].xy).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(uColorBuffer,vOffset[2].zw).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(max(maxDelta,delta.z),delta.w);edges.xy*=step(0.5*maxDelta,delta.xy);gl_FragColor=vec4(edges,0.0,0.0);}", qt = "#define MAX_SEARCH_STEPS_FLOAT 8.0\nattribute vec2 vertex_position;uniform vec2 uTexelSize;varying vec2 vUv0;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv0=vertex_position.xy*0.5+0.5;vPixCoord=vUv0/uTexelSize;vOffset[0]=vUv0.xyxy+uTexelSize.xyxy*vec4(-0.25,0.125,1.25,0.125);vOffset[1]=vUv0.xyxy+uTexelSize.xyxy*vec4(-0.125,0.25,-0.125,-1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*uTexelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(vertex_position,0.0,1.0);}", Zt = "#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + float(offset) * uTexelSize, 0.0)\n#define MAX_SEARCH_STEPS_INT 8\n#define AREATEX_MAX_DISTANCE 16.0\n#define AREATEX_PIXEL_SIZE (1.0 / vec2(160.0, 560.0))\n#define AREATEX_SUBTEX_SIZE (1.0 / 7.0)\n#define SEARCHTEX_SIZE vec2(66.0, 33.0)\n#define SEARCHTEX_PACKED_SIZE vec2(64.0, 16.0)\nuniform sampler2D uEdgeBuffer;uniform sampler2D uAreaBuffer;uniform sampler2D uSearchBuffer;uniform vec2 uTexelSize;varying vec2 vUv0;varying vec4 vOffset[3];varying vec2 vPixCoord;float searchLength(vec2 e,float bias,float scale){e.r=bias+e.r*scale;return 255.0*texture2D(uSearchBuffer,e,0.0).r;}float searchXLeft(vec2 texCoord,float end){/*@PSEUDO_GATHER4*This texCoord has been offset by(-0.25,-0.125)in the vertex shader to*sample between edge,thus fetching four edges in a row.*Sampling with different offsets in each direction allows to disambiguate*which edges are active from the four fetched ones.*/vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){e=texture2D(uEdgeBuffer,texCoord,0.0).rg;texCoord-=vec2(2.0,0.0)*uTexelSize;if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}}texCoord.x+=0.25*uTexelSize.x;texCoord.x+=uTexelSize.x;texCoord.x+=2.0*uTexelSize.x;texCoord.x-=uTexelSize.x*searchLength(e,0.0,0.5);return texCoord.x;}float searchXRight(vec2 texCoord,float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){e=texture2D(uEdgeBuffer,texCoord,0.0).rg;texCoord+=vec2(2.0,0.0)*uTexelSize;if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}}texCoord.x-=0.25*uTexelSize.x;texCoord.x-=uTexelSize.x;texCoord.x-=2.0*uTexelSize.x;texCoord.x+=uTexelSize.x*searchLength(e,0.5,0.5);return texCoord.x;}float searchYUp(vec2 texCoord,float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){e=texture2D(uEdgeBuffer,texCoord,0.0).rg;texCoord+=vec2(0.0,2.0)*uTexelSize;if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}}texCoord.y-=0.25*uTexelSize.y;texCoord.y-=uTexelSize.y;texCoord.y-=2.0*uTexelSize.y;texCoord.y+=uTexelSize.y*searchLength(e.gr,0.0,0.5);return texCoord.y;}float searchYDown(vec2 texCoord,float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){e=texture2D(uEdgeBuffer,texCoord,0.0).rg;texCoord-=vec2(0.0,2.0)*uTexelSize;if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}}texCoord.y+=0.25*uTexelSize.y;texCoord.y+=uTexelSize.y;texCoord.y+=2.0*uTexelSize.y;texCoord.y-=uTexelSize.y*searchLength(e.gr,0.5,0.5);return texCoord.y;}vec2 area(vec2 dist,float e1,float e2,float offset){vec2 texCoord=AREATEX_MAX_DISTANCE*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+(0.5*AREATEX_PIXEL_SIZE);texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(uAreaBuffer,texCoord,0.0).rg;}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(uEdgeBuffer,vUv0).rg;if(e.g>0.0){vec2 d;vec2 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;/*Now fetch the left crossing edges,two at a time using bilinearfiltering. Sampling at-0.25(see @CROSSING_OFFSET)enables to discern whatvalue each edge has.*/float e1=texture2D(uEdgeBuffer,coords,0.0).r;coords.x=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.x;/*Translate distances to pixel units for better interleave arithmetic andmemory accesses.*/d=d/uTexelSize.x-vPixCoord.x;vec2 sqrtD=sqrt(abs(d));coords.y-=uTexelSize.y;float e2=sampleLevelZeroOffset(uEdgeBuffer,coords,ivec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);}if(e.r>0.0){vec2 d;vec2 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(uEdgeBuffer,coords,0.0).g;coords.y=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.y;d=d/uTexelSize.y-vPixCoord.y;vec2 sqrtD=sqrt(abs(d));coords.y-=uTexelSize.y;float e2=sampleLevelZeroOffset(uEdgeBuffer,coords,ivec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);}gl_FragColor=weights;}", $t = "attribute vec2 vertex_position;uniform vec2 uTexelSize;varying vec2 vUv0;varying vec4 vOffset;void main(){vUv0=vertex_position.xy*0.5+0.5;vOffset=vUv0.xyxy+uTexelSize.xyxy*vec4(1.0,0.0,0.0,-1.0);gl_Position=vec4(vertex_position,0.0,1.0);}", te = "uniform sampler2D uColorBuffer;uniform sampler2D uWeightBuffer;uniform vec2 uTexelSize;varying vec2 vUv0;varying vec4 vOffset;void main(){vec4 a;a.xz=texture2D(uWeightBuffer,vUv0).xz;a.y=texture2D(uWeightBuffer,vOffset.zw).g;a.w=texture2D(uWeightBuffer,vOffset.xy).a;vec4 color;if(dot(a,vec4(1.0))<1e-5){color=texture2D(uColorBuffer,vUv0,0.0);}else{/*Up to four lines can be crossing a pixel(one through each edge).*The line with the maximum weight for each direction is favoured.*/vec2 offset;offset.x=a.a>a.b ? a.a :-a.b;offset.y=a.g>a.r ?-a.g : a.r;if(abs(offset.x)>abs(offset.y)){offset.y=0.0;}else{offset.x=0.0;}color=texture2D(uColorBuffer,vUv0,0.0);vec2 coord=vUv0+sign(offset)*uTexelSize;vec4 oppositeColor=texture2D(uColorBuffer,coord,0.0);float s=abs(offset.x)>abs(offset.y)? abs(offset.x): abs(offset.y);color.rgb=pow(abs(color.rgb),vec3(2.2));oppositeColor.rgb=pow(abs(oppositeColor.rgb),vec3(2.2));color=mix(color,oppositeColor,s);color.rgb=pow(abs(color.rgb),vec3(1.0/2.2));}gl_FragColor=color;}", ee = function(e) {
            function s(i) {
                var s = e.call(this, i) || this
                  , n = t.dn;
                return s.shaderColorEdge = n.createShaderFromCode(s.Br, Qt, Jt, "colorEdge"),
                s.shaderSMAAWeight = n.createShaderFromCode(s.Br, qt, Zt, "smaaWeight"),
                s.shaderSMAABlend = n.createShaderFromCode(s.Br, $t, te, "smaaBlend"),
                s.renderTargetColorEdge = Rt.createRenderTarget(s.Br, {
                    format: t.bi
                }),
                s.renderTargetWeight = Rt.createRenderTarget(s.Br),
                s.textureArea = new t.xn(s.Br,{
                    mipmaps: !1,
                    flipY: !1
                }),
                s.textureSearch = new t.xn(s.Br,{
                    minFilter: t.Ge,
                    magFilter: t.Ge,
                    mipmaps: !1,
                    flipY: !1
                }),
                s.clearPass = new Nt(i),
                s.prepareTextures(),
                s
            }
            return i(s, e),
            s.prototype.render = function(e, i) {
                var s = this.Br
                  , n = s.scope
                  , r = n.resolve("uColorBuffer")
                  , a = n.resolve("uEdgeBuffer")
                  , h = n.resolve("uAreaBuffer")
                  , c = n.resolve("uSearchBuffer")
                  , o = n.resolve("uWeightBuffer");
                r.setValue(e.colorBuffer),
                h.setValue(this.textureArea),
                c.setValue(this.textureSearch),
                this.clearPass.render(this.renderTargetColorEdge),
                t.Bn(s, this.renderTargetColorEdge, this.shaderColorEdge, null, null, !1),
                a.setValue(this.renderTargetColorEdge.colorBuffer),
                t.Bn(s, this.renderTargetWeight, this.shaderSMAAWeight, null, null, !1),
                o.setValue(this.renderTargetWeight.colorBuffer),
                t.Bn(s, this.renderToScreen ? null : i, this.shaderSMAABlend, null, null, !1)
            }
            ,
            s.prototype.prepareTextures = function() {
                var t = this
                  , e = new Image;
                e.onload = function() {
                    t.textureArea.setSource(e)
                }
                ,
                e.src = s.IMAGE_AREA;
                var i = new Image;
                i.onload = function() {
                    t.textureSearch.setSource(i)
                }
                ,
                i.src = s.IMAGE_SEARCH
            }
            ,
            s.IMAGE_AREA = "data:image/png;base64,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",
            s.IMAGE_SEARCH = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII",
            s
        }(Rt), ie = "varying float vDepth;uniform mat4 matrix_view;void main(){gl_Position=getPosition();vDepth=-(matrix_view*vec4(getWorldPosition(),1.0)).z;}", se = "varying float vDepth;vec4 packFloat(float depth){const vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const vec4 bit_mask=vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);vec4 res=mod(depth*bit_shift*vec4(255),vec4(256))/vec4(255);res.x=0.0;res-=res.xxyz*bit_mask;return res;}void main(void){gl_FragColor=vec4(vec3(1.0-gl_FragCoord.z),1.0);}", ne = function(e) {
            function s() {
                return e.call(this) || this
            }
            return i(s, e),
            s.prototype.update = function() {}
            ,
            s.prototype.Hh = function(e, i, s) {
                var n = t.dn
                  , r = 0 != (s & t.dh)
                  , a = "" + n.baseVS;
                r ? (a += t.In.Jr(e),
                a += n.transformSkinnedVS,
                a += n.normalSkinnedVS) : (a += n.transformVS,
                a += n.normalVS),
                a += ie,
                this.shader = it(e, a, se)
            }
            ,
            s
        }(t.Vh), re = "varying vec3 vNormal;uniform mat4 matrix_view;void main(){gl_Position=getPosition();vNormal=mat3(matrix_view)*getNormal();}", ae = "varying vec3 vNormal;void main(void){vec3 normalViewColor=normalize(vNormal)*0.5+0.5;gl_FragColor=vec4(normalViewColor,1.0);}", he = function(e) {
            function s() {
                return e.call(this) || this
            }
            return i(s, e),
            s.prototype.update = function() {}
            ,
            s.prototype.Hh = function(e, i, s) {
                var n = t.dn
                  , r = 0 != (s & t.dh)
                  , a = "" + n.baseVS;
                r ? (a += t.In.Jr(e),
                a += n.transformSkinnedVS,
                a += n.normalSkinnedVS) : (a += n.transformVS,
                a += n.normalVS),
                a += re,
                this.shader = it(e, a, ae)
            }
            ,
            s
        }(t.Vh);
        function ce(e, i, s) {
            void 0 === s && (s = {});
            var n = s.results || []
              , r = !n.length
              , a = s.axis || "x"
              , h = s.duration || 1
              , c = []
              , o = []
              , u = []
              , f = -1
              , d = -1
              , l = {}
              , b = new t.jt
              , v = new t.ut
              , m = new t.ut
              , g = new t.ut
              , p = new t.ut
              , w = 0
              , x = 0
              , z = 1 / 0
              , _ = -1 / 0;
            if (i.forEach(function(t, e) {
                var i = t.aabb
                  , s = t.material.cull
                  , a = t.node.getPosition().clone();
                r && (n.push({
                    posBegin: a,
                    posEnd: a.clone(),
                    cull: s
                }),
                c.push({
                    index: e,
                    aabb: i.clone()
                })),
                0 === e ? b.copy(i) : b.add(i)
            }),
            r) {
                s.pivot ? m.copy(s.pivot) : m.copy(b.center),
                f = "number" == typeof s.gap ? s.gap : .618 * b.halfExtents[a] * .618,
                c.sort(function(t, e) {
                    return t.aabb.center[a] - e.aabb.center[a]
                }),
                c.forEach(function(t, e) {
                    (x = v.sub2(m, t.aabb.center).length()) < z && (d = e,
                    z = x)
                });
                for (var A = 0; A < c.length; A++)
                    if (!l[A]) {
                        var y;
                        u = [y = c[A]];
                        for (var M = A + 1; M < c.length; M++)
                            if (!l[M]) {
                                var S = c[M];
                                y.aabb.center[a] === S.aabb.center[a] && (u.push(S),
                                l[M] = !0)
                            }
                        o.push(u)
                    }
                for (var A = 0; A < o.length - 1; A++) {
                    _ = -1 / 0;
                    for (var C = o[A], O = o[A + 1], y = void 0, S = void 0, E = void 0, D = void 0, T = 0, P = C; T < P.length; T++) {
                        var B = P[T]
                          , I = n[B.index].posEnd;
                        I[a] > _ && (y = B,
                        _ = I[a])
                    }
                    for (var M = 0; M < O.length; M++) {
                        S = O[M],
                        D = y;
                        for (var j = M - 1; j >= 0; j--)
                            if (E = O[j],
                            S.aabb.Lt(E.aabb)) {
                                D = E;
                                break
                            }
                        n[S.index].posEnd[a] = n[D.index].posEnd[a] + D.aabb.halfExtents[a] + S.aabb.halfExtents[a] + f
                    }
                }
                x = v.sub2(m, n[c[d].index].posEnd).length(),
                n.forEach(function(t) {
                    t.posEnd[a] -= x
                })
            }
            function R(s) {
                w += s;
                var r = t.I.clamp(w / h, 0, 1);
                n.forEach(function(t, e) {
                    var s = i[e]
                      , n = t.posBegin
                      , a = t.posEnd;
                    p.copy(a).sub(n).scale(r),
                    g.add2(n, p),
                    s.node.setPosition(g)
                }),
                1 === r && (e.off("update", R),
                e.fire("app:utils:axialExplode:end", n)),
                e.rd = !0
            }
            e.fire("app:utils:axialExplode:begin"),
            e.on("update", R),
            e.rd = !0
        }
        function oe(e, i, s) {
            void 0 === s && (s = {});
            var n = s.results || []
              , r = !n.length
              , a = s.duration || 1
              , h = s.threshold || 1
              , c = []
              , o = {}
              , u = []
              , f = []
              , d = 0
              , l = 0
              , b = -1
              , v = new t.jt
              , m = new t.ut
              , g = new t.ut
              , p = new t.ut;
            if (i.forEach(function(e, i) {
                var s = e.aabb
                  , a = e.material.cull
                  , h = e.node.getPosition().clone();
                r && (n.push({
                    posBegin: h,
                    posEnd: h.clone(),
                    cull: a
                }),
                c.push({
                    index: i,
                    sphere: new t.Vt(s.center.clone(),Math.max.apply(null, s.halfExtents.data)),
                    direction: new t.ut,
                    distance: 0,
                    groupIndex: -1,
                    elementIndex: -1
                })),
                0 === i ? v.copy(s) : v.add(s)
            }),
            r) {
                b = "number" == typeof s.gap ? s.gap : .618 * Math.max.apply(null, v.halfExtents.data) * .618;
                for (var w = 0, x = c; w < x.length; w++) {
                    var z;
                    (z = x[w]).direction.sub2(z.sphere.center, v.center),
                    z.distance = z.direction.length(),
                    z.direction.normalize()
                }
                c.sort(function(t, e) {
                    return t.distance - e.distance
                });
                for (var _ = 0; _ < c.length; _++)
                    if (!o[_]) {
                        var z = c[_];
                        o[_] = !0,
                        f = [z];
                        for (var A = _ + 1; A < c.length; A++)
                            if (!o[A]) {
                                var y = c[A];
                                Math.acos(z.direction.dot(y.direction)) * t.I.tt <= h && (f.push(y),
                                o[A] = !0)
                            }
                        u.push(f)
                    }
                for (var _ = 0; _ < u.length; _++) {
                    f = u[_];
                    for (var A = 0; A < f.length; A++)
                        f[A].groupIndex = _,
                        f[A].elementIndex = A
                }
                for (var M = 0, S = c; M < S.length; M++) {
                    var z, C = (z = S[M]).sphere, O = z.index, E = z.groupIndex, D = z.elementIndex;
                    if (0 === D)
                        m.copy(z.direction).scale(z.distance + C.radius + b),
                        n[O].posEnd.copy(m);
                    else {
                        var y, T = (y = (f = u[E])[D - 1]).sphere, P = y.index;
                        l = m.sub2(n[P].posEnd, v.center).length() + T.radius + b + C.radius,
                        m.copy(z.direction).scale(l),
                        n[O].posEnd.copy(m)
                    }
                }
            }
            function B(s) {
                d += s;
                var r = t.I.clamp(d / a, 0, 1);
                n.forEach(function(t, e) {
                    var s = i[e]
                      , n = t.posBegin
                      , a = t.posEnd;
                    p.copy(a).sub(n).scale(r),
                    g.add2(n, p),
                    s.node.setPosition(g)
                }),
                1 === r && (e.off("update", B),
                e.fire("app:utils:radialExplode:end", n)),
                e.rd = !0
            }
            e.fire("app:utils:radialExplode:begin"),
            e.on("update", B),
            e.rd = !0
        }
        e.Ir = _t,
        e.enhancePlaycanvas = zt,
        e.GizmoManager = ht,
        e.Selection = ct,
        e.EntityManager = B,
        e.createShader = it,
        e.TextureManager = n,
        e.CubemapManager = r,
        e.MaterialManager = D,
        e.ModelManager = T,
        e.AnimationManager = P,
        e.Entity = I,
        e.Xh = R,
        e.Qh = At,
        e.oc = Z,
        e.Icon = J,
        e.Annotation = yt,
        e.td = Ct,
        e.ScriptType = St,
        e.Picker = Et,
        e.OrbitCamera = Tt,
        e.OrbitCameraMouseInput = Bt,
        e.OrbitCameraTouchInput = jt,
        e.EffectManager = Lt,
        e.Pass = Rt,
        e.RenderPass = Ft,
        e.ClearPass = Nt,
        e.CopyPass = kt,
        e.BlurPass = Ht,
        e.OutlinePass = Kt,
        e.SMAAPass = ee,
        e.fc = ne,
        e.NormalMaterial = he,
        e.MATERIAL_COLOR_FIELDS = a,
        e.MATERIAL_COLOR_FIELDS2 = h,
        e.MATERIAL_VECTOR_FIELDS = c,
        e.MATERIAL_VECTOR_FIELDS2 = o,
        e.MATERIAL_OBJECT_FIELDS = u,
        e.MATERIAL_OBJECT_FIELDS2 = f,
        e.MATERIAL_ARRAY_FIELDS = d,
        e.MATERIAL_ARRAY_FIELDS2 = l,
        e.MATERIAL_TEXTURE_FIELDS = b,
        e.MATERIAL_TEXTURE_FIELDS2 = v,
        e.GIZMO_AXIS = "axis",
        e.GIZMO_OBB = "obb",
        e.GIZMO_AABB = "aabb",
        e.GIZMO_GRID = "grid",
        e.GIZMO_TRANSFORM = "transform",
        e.GIZMO_SKELETON = "skeleton",
        e.GIZMO_LIGHT = "light",
        e.ca = A,
        e.da = y,
        e.sa = M,
        e.PRIMARY_KEY_UID = "uid",
        e.PRIMARY_KEY_NAME = C,
        e.LAYERID_GIZMO_AXIS = O,
        e.LAYERID_GIZMO_ROTATE = E,
        e.axialExplode = ce,
        e.radialExplode = oe,
        e.dataURItoBlob = K,
        e.createBlobURL = Q
    }
    ).call(this, i(6))
}
, function(t, e) {
    var i = {}.hasOwnProperty;
    t.exports = function(t, e) {
        return i.call(t, e)
    }
}
, function(t, e, i) {
    var s = i(51)
      , n = i(25);
    t.exports = function(t) {
        return s(n(t))
    }
}
, function(t, e, i) {
    var s = i(52)
      , n = i(35)
      , r = i(17)
      , a = i(24)
      , h = i(16)
      , c = i(107)
      , o = Object.getOwnPropertyDescriptor;
    e.f = i(7) ? o : function t(e, i) {
        if (e = r(e),
        i = a(i, !0),
        c)
            try {
                return o(e, i)
            } catch (t) {}
        if (h(e, i))
            return n(!s.f.call(e, i), e[i])
    }
}
, function(t, e, i) {
    var s = i(16)
      , n = i(10)
      , r = i(76)("IE_PROTO")
      , a = Object.prototype;
    t.exports = Object.getPrototypeOf || function(t) {
        return t = n(t),
        s(t, r) ? t[r] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? a : null
    }
}
, function(t, e, i) {
    var s = i(11);
    t.exports = function(t, e, i) {
        if (s(t),
        void 0 === e)
            return t;
        switch (i) {
        case 1:
            return function(i) {
                return t.call(e, i)
            }
            ;
        case 2:
            return function(i, s) {
                return t.call(e, i, s)
            }
            ;
        case 3:
            return function(i, s, n) {
                return t.call(e, i, s, n)
            }
        }
        return function() {
            return t.apply(e, arguments)
        }
    }
}
, function(t, e) {
    var i = {}.toString;
    t.exports = function(t) {
        return i.call(t).slice(8, -1)
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(3);
    t.exports = function(t, e) {
        return !!t && s(function() {
            e ? t.call(null, function() {}, 1) : t.call(null)
        })
    }
}
, function(t, e) {
    var i = t.exports = {
        version: "2.5.7"
    };
    "number" == typeof __e && (__e = i)
}
, function(t, e, i) {
    var s = i(4);
    t.exports = function(t, e) {
        if (!s(t))
            return t;
        var i, n;
        if (e && "function" == typeof (i = t.toString) && !s(n = i.call(t)))
            return n;
        if ("function" == typeof (i = t.valueOf) && !s(n = i.call(t)))
            return n;
        if (!e && "function" == typeof (i = t.toString) && !s(n = i.call(t)))
            return n;
        throw TypeError("Can't convert object to primitive value")
    }
}
, function(t, e) {
    t.exports = function(t) {
        if (null == t)
            throw TypeError("Can't call method on  " + t);
        return t
    }
}
, function(t, e) {
    var i = Math.ceil
      , s = Math.floor;
    t.exports = function(t) {
        return isNaN(t = +t) ? 0 : (t > 0 ? s : i)(t)
    }
}
, function(t, e, i) {
    var s = i(0)
      , n = i(23)
      , r = i(3);
    t.exports = function(t, e) {
        var i = (n.Object || {})[t] || Object[t]
          , a = {};
        a[t] = e(i),
        s(s.S + s.F * r(function() {
            i(1)
        }), "Object", a)
    }
}
, function(t, e, i) {
    var s = i(20)
      , n = i(51)
      , r = i(10)
      , a = i(9)
      , h = i(93);
    t.exports = function(t, e) {
        var i = 1 == t
          , c = 2 == t
          , o = 3 == t
          , u = 4 == t
          , f = 6 == t
          , d = 5 == t || f
          , l = e || h;
        return function(e, h, b) {
            for (var v = r(e), m = n(v), g = s(h, b, 3), p = a(m.length), w = 0, x = i ? l(e, p) : c ? l(e, 0) : void 0, z, _; p > w; w++)
                if ((d || w in m) && (_ = g(z = m[w], w, v),
                t))
                    if (i)
                        x[w] = _;
                    else if (_)
                        switch (t) {
                        case 3:
                            return !0;
                        case 5:
                            return z;
                        case 6:
                            return w;
                        case 2:
                            x.push(z)
                        }
                    else if (u)
                        return !1;
            return f ? -1 : o || u ? u : x
        }
    }
}
, function(t, e, i) {
    "use strict";
    if (i(7)) {
        var s = i(33)
          , n = i(2)
          , r = i(3)
          , a = i(0)
          , h = i(67)
          , c = i(99)
          , o = i(20)
          , u = i(42)
          , f = i(35)
          , d = i(12)
          , l = i(44)
          , b = i(26)
          , v = i(9)
          , m = i(133)
          , g = i(38)
          , p = i(24)
          , w = i(16)
          , x = i(53)
          , z = i(4)
          , _ = i(10)
          , A = i(90)
          , y = i(39)
          , M = i(19)
          , S = i(40).f
          , C = i(92)
          , O = i(36)
          , E = i(5)
          , D = i(28)
          , T = i(57)
          , P = i(64)
          , B = i(95)
          , I = i(47)
          , j = i(61)
          , R = i(41)
          , L = i(94)
          , N = i(123)
          , F = i(8)
          , k = i(18)
          , U = F.f
          , V = k.f
          , H = n.RangeError
          , G = n.TypeError
          , W = n.Uint8Array
          , Y = "ArrayBuffer"
          , X = "SharedArrayBuffer"
          , K = "BYTES_PER_ELEMENT"
          , Q = "prototype"
          , J = Array.prototype
          , q = c.ArrayBuffer
          , Z = c.DataView
          , $ = D(0)
          , tt = D(2)
          , et = D(3)
          , it = D(4)
          , st = D(5)
          , nt = D(6)
          , rt = T(!0)
          , at = T(!1)
          , ht = B.values
          , ct = B.keys
          , ot = B.entries
          , ut = J.lastIndexOf
          , ft = J.reduce
          , dt = J.reduceRight
          , lt = J.join
          , bt = J.sort
          , vt = J.slice
          , mt = J.toString
          , gt = J.toLocaleString
          , pt = E("iterator")
          , wt = E("toStringTag")
          , xt = O("typed_constructor")
          , zt = O("def_constructor")
          , _t = h.CONSTR
          , At = h.TYPED
          , yt = h.VIEW
          , Mt = "Wrong length!"
          , St = D(1, function(t, e) {
            return Tt(P(t, t[zt]), e)
        })
          , Ct = r(function() {
            return 1 === new W(new Uint16Array([1]).buffer)[0]
        })
          , Ot = !!W && !!W.prototype.set && r(function() {
            new W(1).set({})
        })
          , Et = function(t, e) {
            var i = b(t);
            if (i < 0 || i % e)
                throw H("Wrong offset!");
            return i
        }
          , Dt = function(t) {
            if (z(t) && At in t)
                return t;
            throw G(t + " is not a typed array!")
        }
          , Tt = function(t, e) {
            if (!(z(t) && xt in t))
                throw G("It is not a typed array constructor!");
            return new t(e)
        }
          , Pt = function(t, e) {
            return Bt(P(t, t[zt]), e)
        }
          , Bt = function(t, e) {
            for (var i = 0, s = e.length, n = Tt(t, s); s > i; )
                n[i] = e[i++];
            return n
        }
          , It = function(t, e, i) {
            U(t, e, {
                get: function() {
                    return this._d[i]
                }
            })
        }
          , jt = function t(e) {
            var i = _(e), s = arguments.length, n = s > 1 ? arguments[1] : void 0, r = void 0 !== n, a = C(i), h, c, u, f, d, l;
            if (null != a && !A(a)) {
                for (l = a.call(i),
                u = [],
                h = 0; !(d = l.next()).done; h++)
                    u.push(d.value);
                i = u
            }
            for (r && s > 2 && (n = o(n, arguments[2], 2)),
            h = 0,
            c = v(i.length),
            f = Tt(this, c); c > h; h++)
                f[h] = r ? n(i[h], h) : i[h];
            return f
        }
          , Rt = function t() {
            for (var e = 0, i = arguments.length, s = Tt(this, i); i > e; )
                s[e] = arguments[e++];
            return s
        }
          , Lt = !!W && r(function() {
            gt.call(new W(1))
        })
          , Nt = function t() {
            return gt.apply(Lt ? vt.call(Dt(this)) : Dt(this), arguments)
        }
          , Ft = {
            copyWithin: function t(e, i) {
                return N.call(Dt(this), e, i, arguments.length > 2 ? arguments[2] : void 0)
            },
            every: function t(e) {
                return it(Dt(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            fill: function t(e) {
                return L.apply(Dt(this), arguments)
            },
            filter: function t(e) {
                return Pt(this, tt(Dt(this), e, arguments.length > 1 ? arguments[1] : void 0))
            },
            find: function t(e) {
                return st(Dt(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            findIndex: function t(e) {
                return nt(Dt(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            forEach: function t(e) {
                $(Dt(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            indexOf: function t(e) {
                return at(Dt(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            includes: function t(e) {
                return rt(Dt(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            join: function t(e) {
                return lt.apply(Dt(this), arguments)
            },
            lastIndexOf: function t(e) {
                return ut.apply(Dt(this), arguments)
            },
            map: function t(e) {
                return St(Dt(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            reduce: function t(e) {
                return ft.apply(Dt(this), arguments)
            },
            reduceRight: function t(e) {
                return dt.apply(Dt(this), arguments)
            },
            reverse: function t() {
                for (var e = this, i = Dt(this).length, s = Math.floor(i / 2), n = 0, r; n < s; )
                    r = this[n],
                    this[n++] = this[--i],
                    this[i] = r;
                return this
            },
            some: function t(e) {
                return et(Dt(this), e, arguments.length > 1 ? arguments[1] : void 0)
            },
            sort: function t(e) {
                return bt.call(Dt(this), e)
            },
            subarray: function t(e, i) {
                var s = Dt(this)
                  , n = s.length
                  , r = g(e, n);
                return new (P(s, s[zt]))(s.buffer,s.byteOffset + r * s.BYTES_PER_ELEMENT,v((void 0 === i ? n : g(i, n)) - r))
            }
        }
          , kt = function t(e, i) {
            return Pt(this, vt.call(Dt(this), e, i))
        }
          , Ut = function t(e) {
            Dt(this);
            var i = Et(arguments[1], 1)
              , s = this.length
              , n = _(e)
              , r = v(n.length)
              , a = 0;
            if (r + i > s)
                throw H(Mt);
            for (; a < r; )
                this[i + a] = n[a++]
        }
          , Vt = {
            entries: function t() {
                return ot.call(Dt(this))
            },
            keys: function t() {
                return ct.call(Dt(this))
            },
            values: function t() {
                return ht.call(Dt(this))
            }
        }
          , Ht = function(t, e) {
            return z(t) && t[At] && "symbol" != typeof e && e in t && String(+e) == String(e)
        }
          , Gt = function t(e, i) {
            return Ht(e, i = p(i, !0)) ? f(2, e[i]) : V(e, i)
        }
          , Wt = function t(e, i, s) {
            return !(Ht(e, i = p(i, !0)) && z(s) && w(s, "value")) || w(s, "get") || w(s, "set") || s.configurable || w(s, "writable") && !s.writable || w(s, "enumerable") && !s.enumerable ? U(e, i, s) : (e[i] = s.value,
            e)
        };
        _t || (k.f = Gt,
        F.f = Wt),
        a(a.S + a.F * !_t, "Object", {
            getOwnPropertyDescriptor: Gt,
            defineProperty: Wt
        }),
        r(function() {
            mt.call({})
        }) && (mt = gt = function t() {
            return lt.call(this)
        }
        );
        var Yt = l({}, Ft);
        l(Yt, Vt),
        d(Yt, pt, Vt.values),
        l(Yt, {
            slice: kt,
            set: Ut,
            constructor: function() {},
            toString: mt,
            toLocaleString: Nt
        }),
        It(Yt, "buffer", "b"),
        It(Yt, "byteOffset", "o"),
        It(Yt, "byteLength", "l"),
        It(Yt, "length", "e"),
        U(Yt, wt, {
            get: function() {
                return this[At]
            }
        }),
        t.exports = function(t, e, i, c) {
            var o = t + ((c = !!c) ? "Clamped" : "") + "Array"
              , f = "get" + t
              , l = "set" + t
              , b = n[o]
              , g = b || {}
              , p = b && M(b)
              , w = !b || !h.ABV
              , _ = {}
              , A = b && b.prototype
              , C = function(t, i) {
                var s = t._d;
                return s.v[f](i * e + s.o, Ct)
            }
              , O = function(t, i, s) {
                var n = t._d;
                c && (s = (s = Math.round(s)) < 0 ? 0 : s > 255 ? 255 : 255 & s),
                n.v[l](i * e + n.o, s, Ct)
            }
              , E = function(t, e) {
                U(t, e, {
                    get: function() {
                        return C(this, e)
                    },
                    set: function(t) {
                        return O(this, e, t)
                    },
                    enumerable: !0
                })
            };
            w ? (b = i(function(t, i, s, n) {
                u(t, b, o, "_d");
                var r = 0, a = 0, h, c, f, l;
                if (z(i)) {
                    if (!(i instanceof q || (l = x(i)) == Y || l == X))
                        return At in i ? Bt(b, i) : jt.call(b, i);
                    h = i,
                    a = Et(s, e);
                    var g = i.byteLength;
                    if (void 0 === n) {
                        if (g % e)
                            throw H(Mt);
                        if ((c = g - a) < 0)
                            throw H(Mt)
                    } else if ((c = v(n) * e) + a > g)
                        throw H(Mt);
                    f = c / e
                } else
                    f = m(i),
                    h = new q(c = f * e);
                for (d(t, "_d", {
                    b: h,
                    o: a,
                    l: c,
                    e: f,
                    v: new Z(h)
                }); r < f; )
                    E(t, r++)
            }),
            A = b.prototype = y(Yt),
            d(A, "constructor", b)) : r(function() {
                b(1)
            }) && r(function() {
                new b(-1)
            }) && j(function(t) {
                new b,
                new b(null),
                new b(1.5),
                new b(t)
            }, !0) || (b = i(function(t, i, s, n) {
                var r;
                return u(t, b, o),
                z(i) ? i instanceof q || (r = x(i)) == Y || r == X ? void 0 !== n ? new g(i,Et(s, e),n) : void 0 !== s ? new g(i,Et(s, e)) : new g(i) : At in i ? Bt(b, i) : jt.call(b, i) : new g(m(i))
            }),
            $(p !== Function.prototype ? S(g).concat(S(p)) : S(g), function(t) {
                t in b || d(b, t, g[t])
            }),
            b.prototype = A,
            s || (A.constructor = b));
            var D = A[pt]
              , T = !!D && ("values" == D.name || null == D.name)
              , P = Vt.values;
            d(b, xt, !0),
            d(A, At, o),
            d(A, yt, !0),
            d(A, zt, b),
            (c ? new b(1)[wt] == o : wt in A) || U(A, wt, {
                get: function() {
                    return o
                }
            }),
            _[o] = b,
            a(a.G + a.W + a.F * (b != g), _),
            a(a.S, o, {
                BYTES_PER_ELEMENT: e
            }),
            a(a.S + a.F * r(function() {
                g.of.call(b, 1)
            }), o, {
                from: jt,
                of: Rt
            }),
            K in A || d(A, K, e),
            a(a.P, o, Ft),
            R(o),
            a(a.P + a.F * Ot, o, {
                set: Ut
            }),
            a(a.P + a.F * !T, o, Vt),
            s || A.toString == mt || (A.toString = mt),
            a(a.P + a.F * r(function() {
                new b(1).slice()
            }), o, {
                slice: kt
            }),
            a(a.P + a.F * (r(function() {
                return [1, 2].toLocaleString() != new b([1, 2]).toLocaleString()
            }) || !r(function() {
                A.toLocaleString.call([1, 2])
            })), o, {
                toLocaleString: Nt
            }),
            I[o] = T ? D : P,
            s || T || d(A, pt, P)
        }
    } else
        t.exports = function() {}
}
, function(t, e, i) {
    var s = i(128)
      , n = i(0)
      , r = i(56)("metadata")
      , a = r.store || (r.store = new (i(131)))
      , h = function(t, e, i) {
        var n = a.get(t);
        if (!n) {
            if (!i)
                return;
            a.set(t, n = new s)
        }
        var r = n.get(e);
        if (!r) {
            if (!i)
                return;
            n.set(e, r = new s)
        }
        return r
    }
      , c = function(t, e, i) {
        var s = h(e, i, !1);
        return void 0 !== s && s.has(t)
    }
      , o = function(t, e, i) {
        var s = h(e, i, !1);
        return void 0 === s ? void 0 : s.get(t)
    }
      , u = function(t, e, i, s) {
        h(i, s, !0).set(t, e)
    }
      , f = function(t, e) {
        var i = h(t, e, !1)
          , s = [];
        return i && i.forEach(function(t, e) {
            s.push(e)
        }),
        s
    }
      , d = function(t) {
        return void 0 === t || "symbol" == typeof t ? t : String(t)
    }
      , l = function(t) {
        n(n.S, "Reflect", t)
    };
    t.exports = {
        store: a,
        map: h,
        has: c,
        get: o,
        set: u,
        keys: f,
        key: d,
        exp: l
    }
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.parseQuery = d,
    e.parseUrl = l,
    e.parseTextureVariantsData = b,
    e.parseTextureData = v,
    e.parseMaterialData = m,
    e.parseModelData = g,
    e.parseCameraData = p,
    e.parseViewData = w,
    e.parseAnnotationData = x,
    e.parseDoorAnnotationData = z,
    e.parsePanoramaDefaultViewData = _,
    e.parsePanoramaAnnotationViewData = A,
    e.parsePanoramaAnnotationData = y,
    e.parsePanoramaAnchorData = M,
    e.parseCubemapData = S,
    e.parsePanoramaData = C,
    e.parseLightData = O,
    e.parseShadowData = E,
    e.parseSpeederData = D;
    var s = u(i(105))
      , n = u(i(54))
      , r = u(i(49))
      , a = u(i(390))
      , h = u(i(151))
      , c = i(15)
      , o = i(104);
    function u(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var f = location.protocol + "//";
    function d() {
        var t = (0,
        s.default)(location.search.slice(1).split("&").map(function(t) {
            var e = t.indexOf("=");
            return [t.slice(0, e), t.slice(e + 1, t.length)]
        }).map(function(t) {
            var e;
            return (e = {})[t[0]] = t[1],
            e
        }).reduce(function(t, e) {
            return (0,
            h.default)(t, e)
        }, {}), ["autoStart", "jb", "tc", "ts", "tvs", "mp", "mps", "cp", "cps", "uid", "hd", "less", "headlight", "moving", "annotations", "annotations.customdialog", "annotations.custommodal", "attributes", "wheel", "size", "skybox", "scene", "visible", "interior", "exterior", "differ.target", "differ.box", "differ.size", "differ.merge", "differ.measure", "differ.headlight", "differ.visible", "differ.attributes", "model.gc", "model.gmc", "model.aabb", "wheels.aabb", "doors.aabb", "doors.status", "doors.annotations", "windows.status", "vrcamera", "arcamera", "entryMode", "panorama", "speeder.mode", "speeder.action", "anchors", "puid", "accesskey", "timestamp", "signature"]);
        return ["autoStart", "visible", "differ.visible"].forEach(function(e) {
            var i = t[e];
            t[e] = "false" !== i && "0" !== i
        }),
        ["jb", "headlight", "moving", "size", "annotations", "annotations.customdialog", "annotations.custommodal", "attributes", "anchors", "differ.box", "differ.size", "differ.merge", "differ.measure", "differ.headlight", "differ.attributes", "model.aabb", "wheels.aabb", "doors.aabb", "doors.status", "doors.annotations", "windows.status", "vrcamera", "arcamera"].forEach(function(e) {
            var i = t[e];
            t[e] = "true" === i || "1" === i
        }),
        ["speeder.mode", "speeder.action", "model.gc", "model.gmc"].forEach(function(e) {
            var i = t[e];
            void 0 !== i && (t[e] = "true" === i || "1" === i)
        }),
        t.entryMode = parseInt(t.entryMode) || 0,
        t.tc = void 0 === t.tc || !!parseInt(t.tc),
        t.ts = void 0 !== t.ts ? parseInt(t.ts) : 256,
        t.tvs = void 0 !== t.tvs ? parseInt(t.tvs) : t.ts >= 1024 ? 0 : 1,
        t.mp = void 0 !== t.mps || !!parseInt(t.mp),
        t.mps = parseInt(t.mps) || 0,
        t.cp = void 0 === t.cp || !!parseInt(t.cp),
        t.cps = parseInt(t.cps) || 0,
        t["model.gmc"] ? t.modelFileType = "GMC" : (t["model.gc"],
        t.modelFileType = "GC"),
        t
    }
    function l(t) {
        return t && !t.startsWith("http") ? f + t : t || ""
    }
    function b(t, e) {
        void 0 === e && (e = !0);
        var i = {}
          , s = t.name ? t.name.slice(0, t.name.lastIndexOf(".")) : "Untitled"
          , n = e ? f : "";
        for (var a in ["128", "256", "512", "1024", "2048"].forEach(function(e) {
            i["default_" + e] = {
                filename: s + "-" + e,
                url: n + t.url + "?x-oss-process=image/resize,w_" + e
            }
        }),
        t.variants)
            i[a] = {
                filename: s + "-" + a + ".gtc",
                url: n + t.variants[a].url,
                size: t.variants[a].size
            };
        for (var a in t.variants_128)
            i[a + "_128"] = {
                filename: s + "-" + a + "_128.gtc",
                url: n + t.variants_128[a].url,
                size: t.variants_128[a].size
            };
        for (var a in t.variants_256)
            i[a + "_256"] = {
                filename: s + "-" + a + "_256.gtc",
                url: n + t.variants_256[a].url,
                size: t.variants_256[a].size
            };
        for (var a in t.variants_512)
            i[a + "_512"] = {
                filename: s + "-" + a + "_512.gtc",
                url: n + t.variants_512[a].url,
                size: t.variants_512[a].size
            };
        for (var a in t.variants_1024)
            i[a + "_1024"] = {
                filename: s + "-" + a + "_1024.gtc",
                url: n + t.variants_1024[a].url,
                size: t.variants_1024[a].size
            };
        for (var a in t.variants_2048)
            i[a + "_2048"] = {
                filename: s + "-" + a + "_2048.gtc",
                url: n + t.variants_2048[a].url,
                size: t.variants_2048[a].size
            };
        return (0,
        r.default)(i).length ? i : null
    }
    function v(t, e) {
        void 0 === e && (e = !0);
        var i = e ? f : "";
        return {
            uid: t.uid,
            name: t.name,
            url: i + t.url,
            width: t.width,
            height: t.height,
            mipmaps: null == t.mipmaps || t.mipmaps,
            flipY: null == t.flipY || t.flipY,
            variants: b(t, e)
        }
    }
    function m(t) {
        return void 0 === t.data.shader && (t.data.shader = "blinn"),
        "number" == typeof t.data.roughness && t.data.useMetalness && (t.data.shininess = 100 - t.data.roughness),
        "ding_buliao" === t.name && (t.data.aoMapCompression = !1),
        c.MATERIAL_ARRAY_FIELDS.forEach(function(e) {
            void 0 !== t.data[e] && (t.data[e] = t.data[e].map(function(t) {
                return Number(t)
            }),
            c.MATERIAL_COLOR_FIELDS2[e] && (t.data[e].length = 3))
        }),
        ["roughMap", "roughMapChannel", "roughMapOffset", "roughMapTiling", "roughMapUv", "roughMapVertexColor"].forEach(function(e) {
            void 0 !== t.data[e] && (t.data[e.replace("rough", "gloss")] = t.data[e],
            delete t.data[e])
        }),
        (0,
        h.default)({}, t.data, {
            uid: t.uid,
            name: t.name
        })
    }
    function g(t, e) {
        void 0 === e && (e = !0);
        var i = e ? f : "";
        return (0,
        n.default)(t.model.asset.urls) || (t.model.asset.modelFileType ? t.model.asset.url = t.model.asset.urls[t.model.asset.modelFileType] : t.model.asset.url = t.model.asset.urls.GC),
        {
            name: t.model.asset.name,
            uid: t.model.asset.uid,
            url: i + t.model.asset.url,
            mapping: t.model.asset.mapping,
            materials: t.materials.map(m),
            textures: t.textures.filter(function(t) {
                return t.used
            }).map(function(t) {
                return v(t)
            }),
            animations: t.animation ? t.animation.queue.map(function(e) {
                var s = (0,
                a.default)(t.animation.assets, {
                    uid: e
                });
                return {
                    uid: s.uid,
                    name: s.name,
                    url: i + s.url
                }
            }) : []
        }
    }
    function p(t) {
        var e = {
            fov: t.camera.fov,
            nearClip: t.camera.nearClip
        }
          , i = t.orbits && t.orbits[0] ? t.orbits[0] : null;
        return i ? (e.yaw = i.yaw,
        e.pitch = i.pitch,
        e.inverted = i.inverted,
        e.distance = i.distance,
        e.position = i.position,
        e.pivotPoint = i.pivotPoint,
        i.settings && (e.settings = i.settings)) : (0,
        h.default)(e, t.camera.navigator),
        e
    }
    function w(t, e) {
        return void 0 === e && (e = 0),
        (0,
        h.default)({
            uid: t.id,
            name: t.title,
            type: e,
            fov: t.fov,
            position: t.position,
            rotation: [t.pitch, t.yaw, 0],
            pivotPoint: t.pivotPoint,
            inverted: !!t.inverted,
            group: !0
        }, t.settings)
    }
    function x(t) {
        return {
            uid: t.uid,
            name: t.title,
            localPoint: t.position,
            description: t.description,
            type: t.type,
            style: t.style || 0,
            thumbSrc: t.thumb,
            imgSrc: t.url,
            videoSrc: t.url,
            mi: t.mi,
            ti: t.ti
        }
    }
    function z(t) {
        return {
            uid: (0,
            o.createUid)(),
            name: t.key,
            localPoint: t.position,
            key: t.key,
            style: t.style || 1,
            mi: t.meshIndex,
            ti: t.triangleIndex
        }
    }
    function _(t, e) {
        void 0 === e && (e = 1);
        var i = (0,
        o.createUid)()
          , s = (0,
        n.default)(t) ? {} : t.fovs
          , r = (0,
        n.default)(t) ? {} : t.positions;
        return {
            uid: i,
            name: i,
            type: e,
            fov: s.fov || 60,
            fovMax: s.fovMax || 60,
            fovMin: s.fovMin || 10,
            position: [0, 0, 0],
            rotation: [r.pitch || 0, r.yaw || 0, 0]
        }
    }
    function A(t, e) {
        void 0 === e && (e = 1);
        var i = (0,
        o.createUid)();
        return {
            uid: i,
            name: i,
            type: e,
            position: [0, 0, 0],
            rotation: [t.cameras.pitch, t.cameras.yaw, 0]
        }
    }
    function y(t) {
        var e;
        return {
            uid: (0,
            o.createUid)(),
            name: t.data.title,
            localPoint: t.position,
            description: t.data.description,
            type: t.data.type,
            style: t.style,
            thumbSrc: t.data.thumb,
            imgSrc: l(t.data.screenshot),
            videoSrc: t.data.url,
            mi: t.mi,
            ti: t.ti
        }
    }
    function M(t) {
        var e = (0,
        o.createUid)();
        return {
            uid: e,
            name: e,
            localPoint: t.position,
            href: t.panorama,
            style: t.style,
            ti: t.ti,
            mi: t.mi
        }
    }
    function S(t, e) {
        void 0 === e && (e = !0);
        var i = e ? f : "";
        return {
            uid: t.uid,
            name: t.name,
            loadFaces: void 0 !== t.loadFaces && t.loadFaces,
            prefiltered: void 0 === t.prefiltered || t.prefiltered,
            cubemap: t.url ? i + t.url : null,
            textures: ["right", "left", "top", "bottom", "front", "back"].map(function(e) {
                return v(t.textures[e])
            })
        }
    }
    function C(t, e) {
        void 0 === e && (e = !0);
        var i = e ? f : "";
        return {
            uid: t.uid,
            name: t.name,
            loadFaces: !0,
            prefiltered: void 0 === t.prefiltered || t.prefiltered,
            cubemap: t.url ? i + t.url : null,
            textures: ["right", "left", "top", "bottom", "front", "back"].map(function(e) {
                return {
                    url: i + t.data.textures[e]
                }
            })
        }
    }
    function O(t) {
        return {
            enabled: "none" !== t.type,
            uid: (0,
            o.createUid)(),
            name: t.name,
            type: "none" === t.type ? "directional" : t.type,
            color: [t.color[0] / 255, t.color[1] / 255, t.color[2] / 255, t.color[3]],
            range: t.range,
            intensity: t.intensity,
            castShadows: t.shadow,
            falloffMode: t.falloff,
            innerConeAngle: t.angle - t.angle * t.softness / 100,
            outerConeAngle: t.angle,
            shadowType: 2
        }
    }
    function E(t) {
        var e = (0,
        n.default)(t.shadow_material) ? null : (0,
        h.default)(m(t.shadow_material), {
            uid: t.model.asset.uid + "_" + t.shadow_material.uid,
            name: t.model.asset.uid + "_" + t.shadow_material.name
        });
        return {
            enabled: !!t.floor.enabled,
            material: e
        }
    }
    function D(t) {
        return t.map(function(t) {
            return (0,
            h.default)({}, t, {
                speed: t.speed / 3.6
            })
        })
    }
}
, function(t, e, i) {
    var s = i(36)("meta")
      , n = i(4)
      , r = i(16)
      , a = i(8).f
      , h = 0
      , c = Object.isExtensible || function() {
        return !0
    }
      , o = !i(3)(function() {
        return c(Object.preventExtensions({}))
    })
      , u = function(t) {
        a(t, s, {
            value: {
                i: "O" + ++h,
                w: {}
            }
        })
    }
      , f = function(t, e) {
        if (!n(t))
            return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
        if (!r(t, s)) {
            if (!c(t))
                return "F";
            if (!e)
                return "E";
            u(t)
        }
        return t[s].i
    }
      , d = function(t, e) {
        if (!r(t, s)) {
            if (!c(t))
                return !0;
            if (!e)
                return !1;
            u(t)
        }
        return t[s].w
    }
      , l = function(t) {
        return o && b.NEED && c(t) && !r(t, s) && u(t),
        t
    }
      , b = t.exports = {
        KEY: s,
        NEED: !1,
        fastKey: f,
        getWeak: d,
        onFreeze: l
    }
}
, function(t, e) {
    t.exports = !1
}
, function(t, e, i) {
    var s = i(5)("unscopables")
      , n = Array.prototype;
    null == n[s] && i(12)(n, s, {}),
    t.exports = function(t) {
        n[s][t] = !0
    }
}
, function(t, e) {
    t.exports = function(t, e) {
        return {
            enumerable: !(1 & t),
            configurable: !(2 & t),
            writable: !(4 & t),
            value: e
        }
    }
}
, function(t, e) {
    var i = 0
      , s = Math.random();
    t.exports = function(t) {
        return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++i + s).toString(36))
    }
}
, function(t, e, i) {
    var s = i(109)
      , n = i(77);
    t.exports = Object.keys || function t(e) {
        return s(e, n)
    }
}
, function(t, e, i) {
    var s = i(26)
      , n = Math.max
      , r = Math.min;
    t.exports = function(t, e) {
        return (t = s(t)) < 0 ? n(t + e, 0) : r(t, e)
    }
}
, function(t, e, i) {
    var s = i(1)
      , n = i(110)
      , r = i(77)
      , a = i(76)("IE_PROTO")
      , h = function() {}
      , c = "prototype"
      , o = function() {
        var t = i(74)("iframe"), e = r.length, s = "<", n = ">", a;
        for (t.style.display = "none",
        i(78).appendChild(t),
        t.src = "javascript:",
        (a = t.contentWindow.document).open(),
        a.write("<script>document.F=Object<\/script>"),
        a.close(),
        o = a.F; e--; )
            delete o.prototype[r[e]];
        return o()
    };
    t.exports = Object.create || function t(e, i) {
        var r;
        return null !== e ? (h.prototype = s(e),
        r = new h,
        h.prototype = null,
        r[a] = e) : r = o(),
        void 0 === i ? r : n(r, i)
    }
}
, function(t, e, i) {
    var s = i(109)
      , n = i(77).concat("length", "prototype");
    e.f = Object.getOwnPropertyNames || function t(e) {
        return s(e, n)
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(2)
      , n = i(8)
      , r = i(7)
      , a = i(5)("species");
    t.exports = function(t) {
        var e = s[t];
        r && e && !e[a] && n.f(e, a, {
            configurable: !0,
            get: function() {
                return this
            }
        })
    }
}
, function(t, e) {
    t.exports = function(t, e, i, s) {
        if (!(t instanceof e) || void 0 !== s && s in t)
            throw TypeError(i + ": incorrect invocation!");
        return t
    }
}
, function(t, e, i) {
    var s = i(20), n = i(121), r = i(90), a = i(1), h = i(9), c = i(92), o = {}, u = {}, e;
    (e = t.exports = function(t, e, i, f, d) {
        var l = d ? function() {
            return t
        }
        : c(t), b = s(i, f, e ? 2 : 1), v = 0, m, g, p, w;
        if ("function" != typeof l)
            throw TypeError(t + " is not iterable!");
        if (r(l)) {
            for (m = h(t.length); m > v; v++)
                if ((w = e ? b(a(g = t[v])[0], g[1]) : b(t[v])) === o || w === u)
                    return w
        } else
            for (p = l.call(t); !(g = p.next()).done; )
                if ((w = n(p, b, g.value, e)) === o || w === u)
                    return w
    }
    ).BREAK = o,
    e.RETURN = u
}
, function(t, e, i) {
    var s = i(13);
    t.exports = function(t, e, i) {
        for (var n in e)
            s(t, n, e[n], i);
        return t
    }
}
, function(t, e, i) {
    var s = i(8).f
      , n = i(16)
      , r = i(5)("toStringTag");
    t.exports = function(t, e, i) {
        t && !n(t = i ? t : t.prototype, r) && s(t, r, {
            configurable: !0,
            value: e
        })
    }
}
, function(t, e, i) {
    var s = i(0)
      , n = i(25)
      , r = i(3)
      , a = i(80)
      , h = "[" + a + "]"
      , c = "​"
      , o = RegExp("^" + h + h + "*")
      , u = RegExp(h + h + "*$")
      , f = function(t, e, i) {
        var n = {}
          , h = r(function() {
            return !!a[t]() || c[t]() != c
        })
          , o = n[t] = h ? e(d) : a[t];
        i && (n[i] = o),
        s(s.P + s.F * h, "String", n)
    }
      , d = f.trim = function(t, e) {
        return t = String(n(t)),
        1 & e && (t = t.replace(o, "")),
        2 & e && (t = t.replace(u, "")),
        t
    }
    ;
    t.exports = f
}
, function(t, e) {
    t.exports = {}
}
, function(t, e, i) {
    var s = i(4);
    t.exports = function(t, e) {
        if (!s(t) || t._t !== e)
            throw TypeError("Incompatible receiver, " + e + " required!");
        return t
    }
}
, function(t, e, i) {
    var s, n = i(149)(Object.keys, Object);
    t.exports = n
}
, function(t, e) {
    t.exports = libs_826c5930b65a3d3fa7fa
}
, function(t, e, i) {
    var s = i(21);
    t.exports = Object("z").propertyIsEnumerable(0) ? Object : function(t) {
        return "String" == s(t) ? t.split("") : Object(t)
    }
}
, function(t, e) {
    e.f = {}.propertyIsEnumerable
}
, function(t, e, i) {
    var s = i(21)
      , n = i(5)("toStringTag")
      , r = "Arguments" == s(function() {
        return arguments
    }())
      , a = function(t, e) {
        try {
            return t[e]
        } catch (t) {}
    };
    t.exports = function(t) {
        var e, i, h;
        return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (i = a(e = Object(t), n)) ? i : r ? s(e) : "Object" == (h = s(e)) && "function" == typeof e.callee ? "Arguments" : h
    }
}
, function(t, e, i) {
    var s = i(434), n = i(386), r = i(359), a = i(100), h = i(150), c = i(387), o = i(388), u = i(389), f = "[object Map]", d = "[object Set]", l, b = Object.prototype.hasOwnProperty;
    function v(t) {
        if (null == t)
            return !0;
        if (h(t) && (a(t) || "string" == typeof t || "function" == typeof t.splice || c(t) || u(t) || r(t)))
            return !t.length;
        var e = n(t);
        if (e == f || e == d)
            return !t.size;
        if (o(t))
            return !s(t).length;
        for (var i in t)
            if (b.call(t, i))
                return !1;
        return !0
    }
    t.exports = v
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(15);
        function n(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        function r(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }
        var a = function(e) {
            function i(i) {
                var n;
                return (n = e.call(this, i) || this).uid = i.uid,
                n.name = i.name,
                n.bit = -1,
                n.icon = new s.Icon,
                n.icon.Bc.element.on(t.do, n.onMouseDown, r(n)),
                n.icon.Bc.element.on(t.co, n.onMouseDown, r(n)),
                n.icon.Bc.element.on(t.kg, n.onMouseEnter, r(n)),
                n.icon.Bc.element.on(t.Ug, n.onMouseLeave, r(n)),
                n.Bc.addChild(n.icon.Bc),
                n.attach({
                    meshInstance: i.meshInstance,
                    triangleIndex: i.ti,
                    localPoint: i.localPoint
                }),
                n
            }
            n(i, e);
            var a = i.prototype;
            return a.onMouseDown = function t(e) {
                e.stopPropagation(),
                this.focus()
            }
            ,
            a.onMouseEnter = function t() {
                if (this.icon.Bc && this.icon.Bc.element) {
                    var e = this.icon.Bc.element._image.material
                      , i = this.icon.backEntity.element._image.material;
                    e.emissiveTint = !0,
                    i.emissiveTint = !0,
                    e.update(),
                    i.update(),
                    this.manager.app.rd = !0
                }
            }
            ,
            a.onMouseLeave = function t() {
                if (this.icon.Bc && this.icon.Bc.element) {
                    var e = this.icon.Bc.element._image.material
                      , i = this.icon.backEntity.element._image.material;
                    e.emissiveTint = !1,
                    i.emissiveTint = !1,
                    e.update(),
                    i.update(),
                    this.manager.app.rd = !0
                }
            }
            ,
            a.focus = function t() {}
            ,
            a.onFocus = function t() {}
            ,
            a.onBlur = function t() {}
            ,
            a.destroy = function t() {
                this.detach(),
                this.icon.texture.destroy(),
                this.icon.Bc.destroy(),
                this.icon.backEntity.destroy(),
                this.Bc.destroy()
            }
            ,
            i
        }(s.Annotation);
        e.default = a,
        a.BIT_DIALOG = 1,
        a.BIT_INVERTED_DIALOG = 2,
        a.BIT_ANCHOR = 4,
        a.BIT_DOOR = 8,
        a.BIT_NEXT = 16
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    var s = i(23)
      , n = i(2)
      , r = "__core-js_shared__"
      , a = n[r] || (n[r] = {});
    (t.exports = function(t, e) {
        return a[t] || (a[t] = void 0 !== e ? e : {})
    }
    )("versions", []).push({
        version: s.version,
        mode: i(33) ? "pure" : "global",
        copyright: "© 2018 Denis Pushkarev (zloirock.ru)"
    })
}
, function(t, e, i) {
    var s = i(17)
      , n = i(9)
      , r = i(38);
    t.exports = function(t) {
        return function(e, i, a) {
            var h = s(e), c = n(h.length), o = r(a, c), u;
            if (t && i != i) {
                for (; c > o; )
                    if ((u = h[o++]) != u)
                        return !0
            } else
                for (; c > o; o++)
                    if ((t || o in h) && h[o] === i)
                        return t || o || 0;
            return !t && -1
        }
    }
}
, function(t, e) {
    e.f = Object.getOwnPropertySymbols
}
, function(t, e, i) {
    var s = i(21);
    t.exports = Array.isArray || function t(e) {
        return "Array" == s(e)
    }
}
, function(t, e, i) {
    var s = i(4)
      , n = i(21)
      , r = i(5)("match");
    t.exports = function(t) {
        var e;
        return s(t) && (void 0 !== (e = t[r]) ? !!e : "RegExp" == n(t))
    }
}
, function(t, e, i) {
    var s = i(5)("iterator")
      , n = !1;
    try {
        var r = [7][s]();
        r.return = function() {
            n = !0
        }
        ,
        Array.from(r, function() {
            throw 2
        })
    } catch (t) {}
    t.exports = function(t, e) {
        if (!e && !n)
            return !1;
        var i = !1;
        try {
            var r = [7]
              , a = r[s]();
            a.next = function() {
                return {
                    done: i = !0
                }
            }
            ,
            r[s] = function() {
                return a
            }
            ,
            t(r)
        } catch (t) {}
        return i
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(1);
    t.exports = function() {
        var t = s(this)
          , e = "";
        return t.global && (e += "g"),
        t.ignoreCase && (e += "i"),
        t.multiline && (e += "m"),
        t.unicode && (e += "u"),
        t.sticky && (e += "y"),
        e
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(12)
      , n = i(13)
      , r = i(3)
      , a = i(25)
      , h = i(5);
    t.exports = function(t, e, i) {
        var c = h(t)
          , o = i(a, c, ""[t])
          , u = o[0]
          , f = o[1];
        r(function() {
            var e = {};
            return e[c] = function() {
                return 7
            }
            ,
            7 != ""[t](e)
        }) && (n(String.prototype, t, u),
        s(RegExp.prototype, c, 2 == e ? function(t, e) {
            return f.call(t, this, e)
        }
        : function(t) {
            return f.call(t, this)
        }
        ))
    }
}
, function(t, e, i) {
    var s = i(1)
      , n = i(11)
      , r = i(5)("species");
    t.exports = function(t, e) {
        var i = s(t).constructor, a;
        return void 0 === i || null == (a = s(i)[r]) ? e : n(a)
    }
}
, function(t, e, i) {
    var s, n = i(2).navigator;
    t.exports = n && n.userAgent || ""
}
, function(t, e, i) {
    "use strict";
    var s = i(2)
      , n = i(0)
      , r = i(13)
      , a = i(44)
      , h = i(32)
      , c = i(43)
      , o = i(42)
      , u = i(4)
      , f = i(3)
      , d = i(61)
      , l = i(45)
      , b = i(81);
    t.exports = function(t, e, i, v, m, g) {
        var p = s[t]
          , w = p
          , x = m ? "set" : "add"
          , z = w && w.prototype
          , _ = {}
          , A = function(t) {
            var e = z[t];
            r(z, t, "delete" == t ? function(t) {
                return !(g && !u(t)) && e.call(this, 0 === t ? 0 : t)
            }
            : "has" == t ? function t(i) {
                return !(g && !u(i)) && e.call(this, 0 === i ? 0 : i)
            }
            : "get" == t ? function t(i) {
                return g && !u(i) ? void 0 : e.call(this, 0 === i ? 0 : i)
            }
            : "add" == t ? function t(i) {
                return e.call(this, 0 === i ? 0 : i),
                this
            }
            : function t(i, s) {
                return e.call(this, 0 === i ? 0 : i, s),
                this
            }
            )
        };
        if ("function" == typeof w && (g || z.forEach && !f(function() {
            (new w).entries().next()
        }))) {
            var y = new w
              , M = y[x](g ? {} : -0, 1) != y
              , S = f(function() {
                y.has(1)
            })
              , C = d(function(t) {
                new w(t)
            })
              , O = !g && f(function() {
                for (var t = new w, e = 5; e--; )
                    t[x](e, e);
                return !t.has(-0)
            });
            C || ((w = e(function(e, i) {
                o(e, w, t);
                var s = b(new p, e, w);
                return null != i && c(i, m, s[x], s),
                s
            })).prototype = z,
            z.constructor = w),
            (S || O) && (A("delete"),
            A("has"),
            m && A("get")),
            (O || M) && A(x),
            g && z.clear && delete z.clear
        } else
            w = v.getConstructor(e, t, m, x),
            a(w.prototype, i),
            h.NEED = !0;
        return l(w, t),
        _[t] = w,
        n(n.G + n.W + n.F * (w != p), _),
        g || v.setStrong(w, t, m),
        w
    }
}
, function(t, e, i) {
    for (var s = i(2), n = i(12), r = i(36), a = r("typed_array"), h = r("view"), c = !(!s.ArrayBuffer || !s.DataView), o = c, u = 0, f = 9, d, l = "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(","); u < 9; )
        (d = s[l[u++]]) ? (n(d.prototype, a, !0),
        n(d.prototype, h, !0)) : o = !1;
    t.exports = {
        ABV: c,
        CONSTR: o,
        TYPED: a,
        VIEW: h
    }
}
, function(t, e, i) {
    "use strict";
    t.exports = i(33) || !i(3)(function() {
        var t = Math.random();
        __defineSetter__.call(null, t, function() {}),
        delete i(2)[t]
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0);
    t.exports = function(t) {
        s(s.S, t, {
            of: function t() {
                for (var e = arguments.length, i = new Array(e); e--; )
                    i[e] = arguments[e];
                return new this(i)
            }
        })
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(11)
      , r = i(20)
      , a = i(43);
    t.exports = function(t) {
        s(s.S, t, {
            from: function t(e) {
                var i = arguments[1], s, h, c, o;
                return n(this),
                (s = void 0 !== i) && n(i),
                null == e ? new this : (h = [],
                s ? (c = 0,
                o = r(i, arguments[2], 2),
                a(e, !1, function(t) {
                    h.push(o(t, c++))
                })) : a(e, !1, h.push, h),
                new this(h))
            }
        })
    }
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = n(i(54));
        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        var r = function() {
            function e(e) {
                this.app = e,
                this.bit = -1,
                this.texture = new t.xn(e.Br,{
                    format: t.vi,
                    minFilter: t.Qe,
                    magFilter: t.We,
                    addressU: t.Zt,
                    addressV: t.Zt,
                    mipmaps: !0
                }),
                this.Bc = new t.Entity,
                this.Bc.Il("element", {
                    type: t.dv,
                    width: 1,
                    height: 1,
                    pivot: [.5, .5],
                    anchor: [.5, .5, .5, .5],
                    texture: this.texture
                }),
                this.Bc.element.material.depthWrite = !0,
                this.Bc.element.material.update()
            }
            var i = e.prototype;
            return i.generate = function t(e) {
                var i;
                (0,
                s.default)(e) || (this.texture.getSource() || this.texture.setSource(document.createElement("canvas")),
                this.onDraw(e))
            }
            ,
            i.onDraw = function t(e) {}
            ,
            e
        }();
        e.default = r,
        r.BIT_ATTRIBUTE = 1,
        r.BIT_IDENTITY = 2,
        r.BIT_NEXT = 4
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var i = function() {
            function e(e, i, s) {
                this.app = e,
                this.name = i,
                this.uid = s,
                this.usedPrefilteredCubeMap = !0,
                this.loading = !1,
                this.loaded = !1,
                this.assets = [],
                this.prevState = {},
                this.onProgress = this._onProgress.bind(this),
                t.K.attach(this)
            }
            var i = e.prototype;
            return i.load = function e() {
                var i = this;
                return new Promise(function(e, s) {
                    if (i.loaded)
                        return e(i);
                    var n = 0
                      , r = i.assets.length
                      , a = function t() {
                        ++n === r && (i.loading = !1,
                        i.loaded = !0,
                        e(i))
                    };
                    i.loading = !0,
                    i.assets.forEach(function(e) {
                        switch (i.onProgress(e, e, 0, r),
                        e.type) {
                        case t.dm:
                            i.app.assets.textures.load(e.id, {
                                onProgress: i.onProgress
                            }).then(a).catch(s);
                            break;
                        case t.um:
                            i.app.assets.materials.load(e.id, {
                                onProgress: i.onProgress
                            }).then(a).catch(s);
                            break;
                        case t.lm:
                            i.app.assets.cubemaps.load(e.id, {
                                onProgress: i.onProgress
                            }).then(a).catch(s);
                            break;
                        case t.om:
                            i.app.assets.models.load(e.id, {
                                onProgress: i.onProgress
                            }).then(a).catch(s)
                        }
                    })
                }
                )
            }
            ,
            i._onProgress = function t(e, i, s, n) {
                e.loadedCount = s,
                e.totalCount = n;
                var r = this.assets.map(function(t) {
                    return t.loadedCount / t.totalCount || 0
                }).reduce(function(t, e) {
                    return t + e
                }) / this.assets.length, a;
                switch (this.uid) {
                case "0433a2c6c19a9198c6fa16be3a9f30a27a1b5bc8":
                case "599a8dc00af00e2ce3d1bb59fa774eda922e6675":
                case "4ca6583062661f40f16aad364bbc8d2699cb4933":
                    a = "jmyd1d1d:skybox:" + this.uid + ":progress",
                    this.app.sdk.send(a, r)
                }
                a = "jmyd1d1d:" + (this.type || "scene") + ":" + this.uid + ":progress",
                this.app.sdk ? this.app.sdk.send(a, r) : this.fire(a, r),
                1 === r && this.assets.forEach(function(t) {
                    delete t.loadedCount,
                    delete t.totalCount
                })
            }
            ,
            i.onEnable = function t() {}
            ,
            i.onDisable = function t() {}
            ,
            e
        }();
        e.default = i
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.LAYERID_VISUALBOX = e.LAYERID_FLARE = e.LAYERID_SHADOW = e.LAYERID_GROUND = void 0;
    var s = 98;
    e.LAYERID_GROUND = 98;
    var n = 99;
    e.LAYERID_SHADOW = 99;
    var r = 100;
    e.LAYERID_FLARE = 100;
    var a = 101;
    e.LAYERID_VISUALBOX = 101
}
, function(t, e, i) {
    var s = i(4)
      , n = i(2).document
      , r = s(n) && s(n.createElement);
    t.exports = function(t) {
        return r ? n.createElement(t) : {}
    }
}
, function(t, e, i) {
    var s = i(2)
      , n = i(23)
      , r = i(33)
      , a = i(108)
      , h = i(8).f;
    t.exports = function(t) {
        var e = n.Symbol || (n.Symbol = r ? {} : s.Symbol || {});
        "_" == t.charAt(0) || t in e || h(e, t, {
            value: a.f(t)
        })
    }
}
, function(t, e, i) {
    var s = i(56)("keys")
      , n = i(36);
    t.exports = function(t) {
        return s[t] || (s[t] = n(t))
    }
}
, function(t, e) {
    t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}
, function(t, e, i) {
    var s = i(2).document;
    t.exports = s && s.documentElement
}
, function(t, e, i) {
    var s = i(4)
      , n = i(1)
      , r = function(t, e) {
        if (n(t),
        !s(e) && null !== e)
            throw TypeError(e + ": can't set as prototype!")
    };
    t.exports = {
        set: Object.setPrototypeOf || ("__proto__"in {} ? function(t, e, s) {
            try {
                (s = i(20)(Function.call, i(18).f(Object.prototype, "__proto__").set, 2))(t, []),
                e = !(t instanceof Array)
            } catch (t) {
                e = !0
            }
            return function t(i, n) {
                return r(i, n),
                e ? i.__proto__ = n : s(i, n),
                i
            }
        }({}, !1) : void 0),
        check: r
    }
}
, function(t, e) {
    t.exports = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"
}
, function(t, e, i) {
    var s = i(4)
      , n = i(79).set;
    t.exports = function(t, e, i) {
        var r = e.constructor, a;
        return r !== i && "function" == typeof r && (a = r.prototype) !== i.prototype && s(a) && n && n(t, a),
        t
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(26)
      , n = i(25);
    t.exports = function t(e) {
        var i = String(n(this))
          , r = ""
          , a = s(e);
        if (a < 0 || a == 1 / 0)
            throw RangeError("Count can't be negative");
        for (; a > 0; (a >>>= 1) && (i += i))
            1 & a && (r += i);
        return r
    }
}
, function(t, e) {
    t.exports = Math.sign || function t(e) {
        return 0 == (e = +e) || e != e ? e : e < 0 ? -1 : 1
    }
}
, function(t, e) {
    var i = Math.expm1;
    t.exports = !i || i(10) > 22025.465794806718 || i(10) < 22025.465794806718 || -2e-17 != i(-2e-17) ? function t(e) {
        return 0 == (e = +e) ? e : e > -1e-6 && e < 1e-6 ? e + e * e / 2 : Math.exp(e) - 1
    }
    : i
}
, function(t, e, i) {
    var s = i(26)
      , n = i(25);
    t.exports = function(t) {
        return function(e, i) {
            var r = String(n(e)), a = s(i), h = r.length, c, o;
            return a < 0 || a >= h ? t ? "" : void 0 : (c = r.charCodeAt(a)) < 55296 || c > 56319 || a + 1 === h || (o = r.charCodeAt(a + 1)) < 56320 || o > 57343 ? t ? r.charAt(a) : c : t ? r.slice(a, a + 2) : o - 56320 + (c - 55296 << 10) + 65536
        }
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(33)
      , n = i(0)
      , r = i(13)
      , a = i(12)
      , h = i(47)
      , c = i(87)
      , o = i(45)
      , u = i(19)
      , f = i(5)("iterator")
      , d = !([].keys && "next"in [].keys())
      , l = "@@iterator"
      , b = "keys"
      , v = "values"
      , m = function() {
        return this
    };
    t.exports = function(t, e, i, g, p, w, x) {
        c(i, e, g);
        var z = function(t) {
            if (!d && t in M)
                return M[t];
            switch (t) {
            case b:
                return function e() {
                    return new i(this,t)
                }
                ;
            case v:
                return function e() {
                    return new i(this,t)
                }
            }
            return function e() {
                return new i(this,t)
            }
        }, _ = e + " Iterator", A = p == v, y = !1, M = t.prototype, S = M[f] || M[l] || p && M[p], C = S || z(p), O = p ? A ? z("entries") : C : void 0, E = "Array" == e && M.entries || S, D, T, P;
        if (E && (P = u(E.call(new t))) !== Object.prototype && P.next && (o(P, _, !0),
        s || "function" == typeof P[f] || a(P, f, m)),
        A && S && S.name !== v && (y = !0,
        C = function t() {
            return S.call(this)
        }
        ),
        s && !x || !d && !y && M[f] || a(M, f, C),
        h[e] = C,
        h[_] = m,
        p)
            if (D = {
                values: A ? C : z(v),
                keys: w ? C : z(b),
                entries: O
            },
            x)
                for (T in D)
                    T in M || r(M, T, D[T]);
            else
                n(n.P + n.F * (d || y), e, D);
        return D
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(39)
      , n = i(35)
      , r = i(45)
      , a = {};
    i(12)(a, i(5)("iterator"), function() {
        return this
    }),
    t.exports = function(t, e, i) {
        t.prototype = s(a, {
            next: n(1, i)
        }),
        r(t, e + " Iterator")
    }
}
, function(t, e, i) {
    var s = i(60)
      , n = i(25);
    t.exports = function(t, e, i) {
        if (s(e))
            throw TypeError("String#" + i + " doesn't accept regex!");
        return String(n(t))
    }
}
, function(t, e, i) {
    var s = i(5)("match");
    t.exports = function(t) {
        var e = /./;
        try {
            "/./"[t](e)
        } catch (i) {
            try {
                return e[s] = !1,
                !"/./"[t](e)
            } catch (t) {}
        }
        return !0
    }
}
, function(t, e, i) {
    var s = i(47)
      , n = i(5)("iterator")
      , r = Array.prototype;
    t.exports = function(t) {
        return void 0 !== t && (s.Array === t || r[n] === t)
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(8)
      , n = i(35);
    t.exports = function(t, e, i) {
        e in t ? s.f(t, e, n(0, i)) : t[e] = i
    }
}
, function(t, e, i) {
    var s = i(53)
      , n = i(5)("iterator")
      , r = i(47);
    t.exports = i(23).getIteratorMethod = function(t) {
        if (null != t)
            return t[n] || t["@@iterator"] || r[s(t)]
    }
}
, function(t, e, i) {
    var s = i(250);
    t.exports = function(t, e) {
        return new (s(t))(e)
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(10)
      , n = i(38)
      , r = i(9);
    t.exports = function t(e) {
        for (var i = s(this), a = r(i.length), h = arguments.length, c = n(h > 1 ? arguments[1] : void 0, a), o = h > 2 ? arguments[2] : void 0, u = void 0 === o ? a : n(o, a); u > c; )
            i[c++] = e;
        return i
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(34)
      , n = i(124)
      , r = i(47)
      , a = i(17);
    t.exports = i(86)(Array, "Array", function(t, e) {
        this._t = a(t),
        this._i = 0,
        this._k = e
    }, function() {
        var t = this._t
          , e = this._k
          , i = this._i++;
        return !t || i >= t.length ? (this._t = void 0,
        n(1)) : n(0, "keys" == e ? i : "values" == e ? t[i] : [i, t[i]])
    }, "values"),
    r.Arguments = r.Array,
    s("keys"),
    s("values"),
    s("entries")
}
, function(t, e, i) {
    var s = i(20), n = i(114), r = i(78), a = i(74), h = i(2), c = h.process, o = h.setImmediate, u = h.clearImmediate, f = h.MessageChannel, d = h.Dispatch, l = 0, b = {}, v = "onreadystatechange", m, g, p, w = function() {
        var t = +this;
        if (b.hasOwnProperty(t)) {
            var e = b[t];
            delete b[t],
            e()
        }
    }, x = function(t) {
        w.call(t.data)
    };
    o && u || (o = function t(e) {
        for (var i = [], s = 1; arguments.length > s; )
            i.push(arguments[s++]);
        return b[++l] = function() {
            n("function" == typeof e ? e : Function(e), i)
        }
        ,
        m(l),
        l
    }
    ,
    u = function t(e) {
        delete b[e]
    }
    ,
    "process" == i(21)(c) ? m = function(t) {
        c.nextTick(s(w, t, 1))
    }
    : d && d.now ? m = function(t) {
        d.now(s(w, t, 1))
    }
    : f ? (p = (g = new f).port2,
    g.port1.onmessage = x,
    m = s(p.postMessage, p, 1)) : h.addEventListener && "function" == typeof postMessage && !h.importScripts ? (m = function(t) {
        h.postMessage(t + "", "*")
    }
    ,
    h.addEventListener("message", x, !1)) : m = v in a("script") ? function(t) {
        r.appendChild(a("script")).onreadystatechange = function() {
            r.removeChild(this),
            w.call(t)
        }
    }
    : function(t) {
        setTimeout(s(w, t, 1), 0)
    }
    ),
    t.exports = {
        set: o,
        clear: u
    }
}
, function(t, e, i) {
    var s = i(2)
      , n = i(96).set
      , r = s.MutationObserver || s.WebKitMutationObserver
      , a = s.process
      , h = s.Promise
      , c = "process" == i(21)(a);
    t.exports = function() {
        var t, e, i, o = function() {
            var s, n;
            for (c && (s = a.domain) && s.exit(); t; ) {
                n = t.fn,
                t = t.next;
                try {
                    n()
                } catch (s) {
                    throw t ? i() : e = void 0,
                    s
                }
            }
            e = void 0,
            s && s.enter()
        };
        if (c)
            i = function() {
                a.nextTick(o)
            }
            ;
        else if (!r || s.navigator && s.navigator.standalone)
            if (h && h.resolve) {
                var u = h.resolve(void 0);
                i = function() {
                    u.then(o)
                }
            } else
                i = function() {
                    n.call(s, o)
                }
                ;
        else {
            var f = !0
              , d = document.createTextNode("");
            new r(o).observe(d, {
                characterData: !0
            }),
            i = function() {
                d.data = f = !f
            }
        }
        return function(s) {
            var n = {
                fn: s,
                next: void 0
            };
            e && (e.next = n),
            t || (t = n,
            i()),
            e = n
        }
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(11);
    function n(t) {
        var e, i;
        this.promise = new t(function(t, s) {
            if (void 0 !== e || void 0 !== i)
                throw TypeError("Bad Promise constructor");
            e = t,
            i = s
        }
        ),
        this.resolve = s(e),
        this.reject = s(i)
    }
    t.exports.f = function(t) {
        return new n(t)
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(2)
      , n = i(7)
      , r = i(33)
      , a = i(67)
      , h = i(12)
      , c = i(44)
      , o = i(3)
      , u = i(42)
      , f = i(26)
      , d = i(9)
      , l = i(133)
      , b = i(40).f
      , v = i(8).f
      , m = i(94)
      , g = i(45)
      , p = "ArrayBuffer"
      , w = "DataView"
      , x = "prototype"
      , z = "Wrong length!"
      , _ = "Wrong index!"
      , A = s.ArrayBuffer
      , y = s.DataView
      , M = s.Math
      , S = s.RangeError
      , C = s.Infinity
      , O = A
      , E = M.abs
      , D = M.pow
      , T = M.floor
      , P = M.log
      , B = M.LN2
      , I = "buffer"
      , j = "byteLength"
      , R = "byteOffset"
      , L = n ? "_b" : I
      , N = n ? "_l" : j
      , F = n ? "_o" : R;
    function k(t, e, i) {
        var s = new Array(i), n = 8 * i - e - 1, r = (1 << n) - 1, a = r >> 1, h = 23 === e ? D(2, -24) - D(2, -77) : 0, c = 0, o = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0, u, f, d;
        for ((t = E(t)) != t || t === C ? (f = t != t ? 1 : 0,
        u = r) : (u = T(P(t) / B),
        t * (d = D(2, -u)) < 1 && (u--,
        d *= 2),
        (t += u + a >= 1 ? h / d : h * D(2, 1 - a)) * d >= 2 && (u++,
        d /= 2),
        u + a >= r ? (f = 0,
        u = r) : u + a >= 1 ? (f = (t * d - 1) * D(2, e),
        u += a) : (f = t * D(2, a - 1) * D(2, e),
        u = 0)); e >= 8; s[c++] = 255 & f,
        f /= 256,
        e -= 8)
            ;
        for (u = u << e | f,
        n += e; n > 0; s[c++] = 255 & u,
        u /= 256,
        n -= 8)
            ;
        return s[--c] |= 128 * o,
        s
    }
    function U(t, e, i) {
        var s = 8 * i - e - 1, n = (1 << s) - 1, r = n >> 1, a = s - 7, h = i - 1, c = t[h--], o = 127 & c, u;
        for (c >>= 7; a > 0; o = 256 * o + t[h],
        h--,
        a -= 8)
            ;
        for (u = o & (1 << -a) - 1,
        o >>= -a,
        a += e; a > 0; u = 256 * u + t[h],
        h--,
        a -= 8)
            ;
        if (0 === o)
            o = 1 - r;
        else {
            if (o === n)
                return u ? NaN : c ? -C : C;
            u += D(2, e),
            o -= r
        }
        return (c ? -1 : 1) * u * D(2, o - e)
    }
    function V(t) {
        return t[3] << 24 | t[2] << 16 | t[1] << 8 | t[0]
    }
    function H(t) {
        return [255 & t]
    }
    function G(t) {
        return [255 & t, t >> 8 & 255]
    }
    function W(t) {
        return [255 & t, t >> 8 & 255, t >> 16 & 255, t >> 24 & 255]
    }
    function Y(t) {
        return k(t, 52, 8)
    }
    function X(t) {
        return k(t, 23, 4)
    }
    function K(t, e, i) {
        v(t[x], e, {
            get: function() {
                return this[i]
            }
        })
    }
    function Q(t, e, i, s) {
        var n, r = l(+i);
        if (r + e > t[N])
            throw S(_);
        var a = t[L]._b
          , h = r + t[F]
          , c = a.slice(h, h + e);
        return s ? c : c.reverse()
    }
    function J(t, e, i, s, n, r) {
        var a, h = l(+i);
        if (h + e > t[N])
            throw S(_);
        for (var c = t[L]._b, o = h + t[F], u = s(+n), f = 0; f < e; f++)
            c[o + f] = u[r ? f : e - f - 1]
    }
    if (a.ABV) {
        if (!o(function() {
            A(1)
        }) || !o(function() {
            new A(-1)
        }) || o(function() {
            return new A,
            new A(1.5),
            new A(NaN),
            A.name != p
        })) {
            for (var q = (A = function t(e) {
                return u(this, A),
                new O(l(e))
            }
            )[x] = O[x], Z = b(O), $ = 0, tt; Z.length > $; )
                (tt = Z[$++])in A || h(A, tt, O[tt]);
            r || (q.constructor = A)
        }
        var et = new y(new A(2))
          , it = y[x].setInt8;
        et.setInt8(0, 2147483648),
        et.setInt8(1, 2147483649),
        !et.getInt8(0) && et.getInt8(1) || c(y[x], {
            setInt8: function t(e, i) {
                it.call(this, e, i << 24 >> 24)
            },
            setUint8: function t(e, i) {
                it.call(this, e, i << 24 >> 24)
            }
        }, !0)
    } else
        A = function t(e) {
            u(this, A, p);
            var i = l(e);
            this._b = m.call(new Array(i), 0),
            this[N] = i
        }
        ,
        y = function t(e, i, s) {
            u(this, y, w),
            u(e, A, w);
            var n = e[N]
              , r = f(i);
            if (r < 0 || r > n)
                throw S("Wrong offset!");
            if (r + (s = void 0 === s ? n - r : d(s)) > n)
                throw S(z);
            this[L] = e,
            this[F] = r,
            this[N] = s
        }
        ,
        n && (K(A, j, "_l"),
        K(y, I, "_b"),
        K(y, j, "_l"),
        K(y, R, "_o")),
        c(y[x], {
            getInt8: function t(e) {
                return Q(this, 1, e)[0] << 24 >> 24
            },
            getUint8: function t(e) {
                return Q(this, 1, e)[0]
            },
            getInt16: function t(e) {
                var i = Q(this, 2, e, arguments[1]);
                return (i[1] << 8 | i[0]) << 16 >> 16
            },
            getUint16: function t(e) {
                var i = Q(this, 2, e, arguments[1]);
                return i[1] << 8 | i[0]
            },
            getInt32: function t(e) {
                return V(Q(this, 4, e, arguments[1]))
            },
            getUint32: function t(e) {
                return V(Q(this, 4, e, arguments[1])) >>> 0
            },
            getFloat32: function t(e) {
                return U(Q(this, 4, e, arguments[1]), 23, 4)
            },
            getFloat64: function t(e) {
                return U(Q(this, 8, e, arguments[1]), 52, 8)
            },
            setInt8: function t(e, i) {
                J(this, 1, e, H, i)
            },
            setUint8: function t(e, i) {
                J(this, 1, e, H, i)
            },
            setInt16: function t(e, i) {
                J(this, 2, e, G, i, arguments[2])
            },
            setUint16: function t(e, i) {
                J(this, 2, e, G, i, arguments[2])
            },
            setInt32: function t(e, i) {
                J(this, 4, e, W, i, arguments[2])
            },
            setUint32: function t(e, i) {
                J(this, 4, e, W, i, arguments[2])
            },
            setFloat32: function t(e, i) {
                J(this, 4, e, X, i, arguments[2])
            },
            setFloat64: function t(e, i) {
                J(this, 8, e, Y, i, arguments[2])
            }
        });
    g(A, p),
    g(y, w),
    h(y[x], a.VIEW, !0),
    e.ArrayBuffer = A,
    e.DataView = y
}
, function(t, e) {
    var i = Array.isArray;
    t.exports = i
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = function() {
        function t() {
            this._list = [],
            this._uidCache = {},
            this._nameCache = {}
        }
        var e = t.prototype;
        return e.get = function t(e) {
            var i = this.getIndex(e);
            return this._list[i] || null
        }
        ,
        e.getIndex = function t(e) {
            var i, s = this._uidCache[e], n = this._nameCache[e];
            return void 0 !== s && (i = s),
            void 0 !== n && (i = n),
            void 0 !== i ? i : -1
        }
        ,
        e.updateCache = function t() {
            var e = this;
            this._uidCache = {},
            this._nameCache = {},
            this._list.forEach(function(t, i) {
                e._uidCache[t.uid] = i,
                e._nameCache[t.name] = i
            })
        }
        ,
        t
    }();
    e.default = s
}
, function(t, e, i) {
    t.exports = i(50)(36)
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0;
    var s = i(104);
    Object.keys(s).forEach(function(t) {
        "default" !== t && "__esModule" !== t && (e[t] = s[t])
    });
    var n = i(31);
    Object.keys(n).forEach(function(t) {
        "default" !== t && "__esModule" !== t && (e[t] = n[t])
    });
    var r = i(142);
    Object.keys(r).forEach(function(t) {
        "default" !== t && "__esModule" !== t && (e[t] = r[t])
    });
    var a = i(144);
    Object.keys(a).forEach(function(t) {
        "default" !== t && "__esModule" !== t && (e[t] = a[t])
    });
    var h = i(143);
    Object.keys(h).forEach(function(t) {
        "default" !== t && "__esModule" !== t && (e[t] = h[t])
    })
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.createUid = c,
        e.calcYaw = o,
        e.calcPitch = u,
        e.closePowerOfTwo = f,
        e.calcPinchDistance = d,
        e.calcMidPoint = l;
        var i = new t.ut
          , s = new t.ut
          , n = new t.bt
          , r = new t.bt
          , a = 40
          , h = "0123456789abcdef";
        function c() {
            for (var t = "", e = 0; e < a; e++) {
                var i = Math.floor(Math.random() * h.length);
                t += h[i]
            }
            return t
        }
        function o(e) {
            return e.ft(t.ut.FORWARD, i),
            Math.atan2(-i.x, -i.z) * t.I.tt
        }
        function u(e) {
            var s = o(e);
            return n.vt(0, -s, 0),
            r.mul2(n, e),
            r.ft(t.ut.FORWARD, i),
            Math.atan2(i.y, -i.z) * t.I.tt
        }
        function f(t) {
            return Math.pow(2, Math.round(Math.log2(t)))
        }
        function d(t, e) {
            var i = t.x - e.x
              , s = t.y - e.y;
            return Math.sqrt(i * i + s * s)
        }
        function l(t, e, i) {
            i.set(e.x - t.x, e.y - t.y),
            i.scale(.5),
            i.x += t.x,
            i.y += t.y
        }
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    var s = i(412), n, r = i(426)(function(t, e) {
        return null == t ? {} : s(t, e)
    });
    t.exports = r
}
, function(t, e, i) {
    t.exports = i(50)(17)
}
, function(t, e, i) {
    t.exports = !i(7) && !i(3)(function() {
        return 7 != Object.defineProperty(i(74)("div"), "a", {
            get: function() {
                return 7
            }
        }).a
    })
}
, function(t, e, i) {
    e.f = i(5)
}
, function(t, e, i) {
    var s = i(16)
      , n = i(17)
      , r = i(57)(!1)
      , a = i(76)("IE_PROTO");
    t.exports = function(t, e) {
        var i = n(t), h = 0, c = [], o;
        for (o in i)
            o != a && s(i, o) && c.push(o);
        for (; e.length > h; )
            s(i, o = e[h++]) && (~r(c, o) || c.push(o));
        return c
    }
}
, function(t, e, i) {
    var s = i(8)
      , n = i(1)
      , r = i(37);
    t.exports = i(7) ? Object.defineProperties : function t(e, i) {
        n(e);
        for (var a = r(i), h = a.length, c = 0, o; h > c; )
            s.f(e, o = a[c++], i[o]);
        return e
    }
}
, function(t, e, i) {
    var s = i(17)
      , n = i(40).f
      , r = {}.toString
      , a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : []
      , h = function(t) {
        try {
            return n(t)
        } catch (t) {
            return a.slice()
        }
    };
    t.exports.f = function t(e) {
        return a && "[object Window]" == r.call(e) ? h(e) : n(s(e))
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(37)
      , n = i(58)
      , r = i(52)
      , a = i(10)
      , h = i(51)
      , c = Object.assign;
    t.exports = !c || i(3)(function() {
        var t = {}
          , e = {}
          , i = Symbol()
          , s = "abcdefghijklmnopqrst";
        return t[i] = 7,
        s.split("").forEach(function(t) {
            e[t] = t
        }),
        7 != c({}, t)[i] || Object.keys(c({}, e)).join("") != s
    }) ? function t(e, i) {
        for (var c = a(e), o = arguments.length, u = 1, f = n.f, d = r.f; o > u; )
            for (var l = h(arguments[u++]), b = f ? s(l).concat(f(l)) : s(l), v = b.length, m = 0, g; v > m; )
                d.call(l, g = b[m++]) && (c[g] = l[g]);
        return c
    }
    : c
}
, function(t, e, i) {
    "use strict";
    var s = i(11)
      , n = i(4)
      , r = i(114)
      , a = [].slice
      , h = {}
      , c = function(t, e, i) {
        if (!(e in h)) {
            for (var s = [], n = 0; n < e; n++)
                s[n] = "a[" + n + "]";
            h[e] = Function("F,a", "return new F(" + s.join(",") + ")")
        }
        return h[e](t, i)
    };
    t.exports = Function.bind || function t(e) {
        var i = s(this)
          , h = a.call(arguments, 1)
          , o = function() {
            var t = h.concat(a.call(arguments));
            return this instanceof o ? c(i, t.length, t) : r(i, t, e)
        };
        return n(i.prototype) && (o.prototype = i.prototype),
        o
    }
}
, function(t, e) {
    t.exports = function(t, e, i) {
        var s = void 0 === i;
        switch (e.length) {
        case 0:
            return s ? t() : t.call(i);
        case 1:
            return s ? t(e[0]) : t.call(i, e[0]);
        case 2:
            return s ? t(e[0], e[1]) : t.call(i, e[0], e[1]);
        case 3:
            return s ? t(e[0], e[1], e[2]) : t.call(i, e[0], e[1], e[2]);
        case 4:
            return s ? t(e[0], e[1], e[2], e[3]) : t.call(i, e[0], e[1], e[2], e[3])
        }
        return t.apply(i, e)
    }
}
, function(t, e, i) {
    var s = i(2).parseInt
      , n = i(46).trim
      , r = i(80)
      , a = /^[-+]?0[xX]/;
    t.exports = 8 !== s(r + "08") || 22 !== s(r + "0x16") ? function t(e, i) {
        var r = n(String(e), 3);
        return s(r, i >>> 0 || (a.test(r) ? 16 : 10))
    }
    : s
}
, function(t, e, i) {
    var s = i(2).parseFloat
      , n = i(46).trim;
    t.exports = 1 / s(i(80) + "-0") != -1 / 0 ? function t(e) {
        var i = n(String(e), 3)
          , r = s(i);
        return 0 === r && "-" == i.charAt(0) ? -0 : r
    }
    : s
}
, function(t, e, i) {
    var s = i(21);
    t.exports = function(t, e) {
        if ("number" != typeof t && "Number" != s(t))
            throw TypeError(e);
        return +t
    }
}
, function(t, e, i) {
    var s = i(4)
      , n = Math.floor;
    t.exports = function t(e) {
        return !s(e) && isFinite(e) && n(e) === e
    }
}
, function(t, e) {
    t.exports = Math.log1p || function t(e) {
        return (e = +e) > -1e-8 && e < 1e-8 ? e - e * e / 2 : Math.log(1 + e)
    }
}
, function(t, e, i) {
    var s = i(83)
      , n = Math.pow
      , r = n(2, -52)
      , a = n(2, -23)
      , h = n(2, 127) * (2 - a)
      , c = n(2, -126)
      , o = function(t) {
        return t + 1 / r - 1 / r
    };
    t.exports = Math.fround || function t(e) {
        var i = Math.abs(e), n = s(e), u, f;
        return i < c ? n * o(i / c / a) * c * a : (f = (u = (1 + a / r) * i) - (u - i)) > h || f != f ? n * (1 / 0) : n * f
    }
}
, function(t, e, i) {
    var s = i(1);
    t.exports = function(t, e, i, n) {
        try {
            return n ? e(s(i)[0], i[1]) : e(i)
        } catch (e) {
            var r = t.return;
            throw void 0 !== r && s(r.call(t)),
            e
        }
    }
}
, function(t, e, i) {
    var s = i(11)
      , n = i(10)
      , r = i(51)
      , a = i(9);
    t.exports = function(t, e, i, h, c) {
        s(e);
        var o = n(t)
          , u = r(o)
          , f = a(o.length)
          , d = c ? f - 1 : 0
          , l = c ? -1 : 1;
        if (i < 2)
            for (; ; ) {
                if (d in u) {
                    h = u[d],
                    d += l;
                    break
                }
                if (d += l,
                c ? d < 0 : f <= d)
                    throw TypeError("Reduce of empty array with no initial value")
            }
        for (; c ? d >= 0 : f > d; d += l)
            d in u && (h = e(h, u[d], d, o));
        return h
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(10)
      , n = i(38)
      , r = i(9);
    t.exports = [].copyWithin || function t(e, i) {
        var a = s(this)
          , h = r(a.length)
          , c = n(e, h)
          , o = n(i, h)
          , u = arguments.length > 2 ? arguments[2] : void 0
          , f = Math.min((void 0 === u ? h : n(u, h)) - o, h - c)
          , d = 1;
        for (o < c && c < o + f && (d = -1,
        o += f - 1,
        c += f - 1); f-- > 0; )
            o in a ? a[c] = a[o] : delete a[c],
            c += d,
            o += d;
        return a
    }
}
, function(t, e) {
    t.exports = function(t, e) {
        return {
            value: e,
            done: !!t
        }
    }
}
, function(t, e, i) {
    i(7) && "g" != /./g.flags && i(8).f(RegExp.prototype, "flags", {
        configurable: !0,
        get: i(62)
    })
}
, function(t, e) {
    t.exports = function(t) {
        try {
            return {
                e: !1,
                v: t()
            }
        } catch (t) {
            return {
                e: !0,
                v: t
            }
        }
    }
}
, function(t, e, i) {
    var s = i(1)
      , n = i(4)
      , r = i(98);
    t.exports = function(t, e) {
        if (s(t),
        n(e) && e.constructor === t)
            return e;
        var i = r.f(t), a;
        return (0,
        i.resolve)(e),
        i.promise
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(129)
      , n = i(48)
      , r = "Map";
    t.exports = i(66)(r, function(t) {
        return function e() {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        get: function t(e) {
            var i = s.getEntry(n(this, r), e);
            return i && i.v
        },
        set: function t(e, i) {
            return s.def(n(this, r), 0 === e ? 0 : e, i)
        }
    }, s, !0)
}
, function(t, e, i) {
    "use strict";
    var s = i(8).f
      , n = i(39)
      , r = i(44)
      , a = i(20)
      , h = i(42)
      , c = i(43)
      , o = i(86)
      , u = i(124)
      , f = i(41)
      , d = i(7)
      , l = i(32).fastKey
      , b = i(48)
      , v = d ? "_s" : "size"
      , m = function(t, e) {
        var i = l(e), s;
        if ("F" !== i)
            return t._i[i];
        for (s = t._f; s; s = s.n)
            if (s.k == e)
                return s
    };
    t.exports = {
        getConstructor: function(t, e, i, o) {
            var u = t(function(t, s) {
                h(t, u, e, "_i"),
                t._t = e,
                t._i = n(null),
                t._f = void 0,
                t._l = void 0,
                t[v] = 0,
                null != s && c(s, i, t[o], t)
            });
            return r(u.prototype, {
                clear: function t() {
                    for (var i = b(this, e), s = i._i, n = i._f; n; n = n.n)
                        n.r = !0,
                        n.p && (n.p = n.p.n = void 0),
                        delete s[n.i];
                    i._f = i._l = void 0,
                    i[v] = 0
                },
                delete: function(t) {
                    var i = b(this, e)
                      , s = m(i, t);
                    if (s) {
                        var n = s.n
                          , r = s.p;
                        delete i._i[s.i],
                        s.r = !0,
                        r && (r.n = n),
                        n && (n.p = r),
                        i._f == s && (i._f = n),
                        i._l == s && (i._l = r),
                        i[v]--
                    }
                    return !!s
                },
                forEach: function t(i) {
                    b(this, e);
                    for (var s = a(i, arguments.length > 1 ? arguments[1] : void 0, 3), n; n = n ? n.n : this._f; )
                        for (s(n.v, n.k, this); n && n.r; )
                            n = n.p
                },
                has: function t(i) {
                    return !!m(b(this, e), i)
                }
            }),
            d && s(u.prototype, "size", {
                get: function() {
                    return b(this, e)[v]
                }
            }),
            u
        },
        def: function(t, e, i) {
            var s = m(t, e), n, r;
            return s ? s.v = i : (t._l = s = {
                i: r = l(e, !0),
                k: e,
                v: i,
                p: n = t._l,
                n: void 0,
                r: !1
            },
            t._f || (t._f = s),
            n && (n.n = s),
            t[v]++,
            "F" !== r && (t._i[r] = s)),
            t
        },
        getEntry: m,
        setStrong: function(t, e, i) {
            o(t, e, function(t, i) {
                this._t = b(t, e),
                this._k = i,
                this._l = void 0
            }, function() {
                for (var t = this, e = this._k, i = this._l; i && i.r; )
                    i = i.p;
                return this._t && (this._l = i = i ? i.n : this._t._f) ? u(0, "keys" == e ? i.k : "values" == e ? i.v : [i.k, i.v]) : (this._t = void 0,
                u(1))
            }, i ? "entries" : "values", !i, !0),
            f(e)
        }
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(129)
      , n = i(48)
      , r = "Set";
    t.exports = i(66)(r, function(t) {
        return function e() {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        add: function t(e) {
            return s.def(n(this, r), e = 0 === e ? 0 : e, e)
        }
    }, s)
}
, function(t, e, i) {
    "use strict";
    var s = i(28)(0), n = i(13), r = i(32), a = i(112), h = i(132), c = i(4), o = i(3), u = i(48), f = "WeakMap", d = r.getWeak, l = Object.isExtensible, b = h.ufstore, v = {}, m, g = function(t) {
        return function e() {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, p = {
        get: function t(e) {
            if (c(e)) {
                var i = d(e);
                return !0 === i ? b(u(this, f)).get(e) : i ? i[this._i] : void 0
            }
        },
        set: function t(e, i) {
            return h.def(u(this, f), e, i)
        }
    }, w = t.exports = i(66)(f, g, p, h, !0, !0);
    o(function() {
        return 7 != (new w).set((Object.freeze || Object)(v), 7).get(v)
    }) && (a((m = h.getConstructor(g, f)).prototype, p),
    r.NEED = !0,
    s(["delete", "has", "get", "set"], function(t) {
        var e = w.prototype
          , i = e[t];
        n(e, t, function(e, s) {
            if (c(e) && !l(e)) {
                this._f || (this._f = new m);
                var n = this._f[t](e, s);
                return "set" == t ? this : n
            }
            return i.call(this, e, s)
        })
    }))
}
, function(t, e, i) {
    "use strict";
    var s = i(44)
      , n = i(32).getWeak
      , r = i(1)
      , a = i(4)
      , h = i(42)
      , c = i(43)
      , o = i(28)
      , u = i(16)
      , f = i(48)
      , d = o(5)
      , l = o(6)
      , b = 0
      , v = function(t) {
        return t._l || (t._l = new m)
    }
      , m = function() {
        this.a = []
    }
      , g = function(t, e) {
        return d(t.a, function(t) {
            return t[0] === e
        })
    };
    m.prototype = {
        get: function(t) {
            var e = g(this, t);
            if (e)
                return e[1]
        },
        has: function(t) {
            return !!g(this, t)
        },
        set: function(t, e) {
            var i = g(this, t);
            i ? i[1] = e : this.a.push([t, e])
        },
        delete: function(t) {
            var e = l(this.a, function(e) {
                return e[0] === t
            });
            return ~e && this.a.splice(e, 1),
            !!~e
        }
    },
    t.exports = {
        getConstructor: function(t, e, i, r) {
            var o = t(function(t, s) {
                h(t, o, e, "_i"),
                t._t = e,
                t._i = b++,
                t._l = void 0,
                null != s && c(s, i, t[r], t)
            });
            return s(o.prototype, {
                delete: function(t) {
                    if (!a(t))
                        return !1;
                    var i = n(t);
                    return !0 === i ? v(f(this, e)).delete(t) : i && u(i, this._i) && delete i[this._i]
                },
                has: function t(i) {
                    if (!a(i))
                        return !1;
                    var s = n(i);
                    return !0 === s ? v(f(this, e)).has(i) : s && u(s, this._i)
                }
            }),
            o
        },
        def: function(t, e, i) {
            var s = n(r(e), !0);
            return !0 === s ? v(t).set(e, i) : s[t._i] = i,
            t
        },
        ufstore: v
    }
}
, function(t, e, i) {
    var s = i(26)
      , n = i(9);
    t.exports = function(t) {
        if (void 0 === t)
            return 0;
        var e = s(t)
          , i = n(e);
        if (e !== i)
            throw RangeError("Wrong length!");
        return i
    }
}
, function(t, e, i) {
    var s = i(40)
      , n = i(58)
      , r = i(1)
      , a = i(2).Reflect;
    t.exports = a && a.ownKeys || function t(e) {
        var i = s.f(r(e))
          , a = n.f;
        return a ? i.concat(a(e)) : i
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(59)
      , n = i(4)
      , r = i(9)
      , a = i(20)
      , h = i(5)("isConcatSpreadable");
    function c(t, e, i, o, u, f, d, l) {
        for (var b = u, v = 0, m = !!d && a(d, l, 3), g, p; v < o; ) {
            if (v in i) {
                if (g = m ? m(i[v], v, e) : i[v],
                p = !1,
                n(g) && (p = void 0 !== (p = g[h]) ? !!p : s(g)),
                p && f > 0)
                    b = c(t, e, g, r(g.length), b, f - 1) - 1;
                else {
                    if (b >= 9007199254740991)
                        throw TypeError();
                    t[b] = g
                }
                b++
            }
            v++
        }
        return b
    }
    t.exports = c
}
, function(t, e, i) {
    var s = i(9)
      , n = i(82)
      , r = i(25);
    t.exports = function(t, e, i, a) {
        var h = String(r(t))
          , c = h.length
          , o = void 0 === i ? " " : String(i)
          , u = s(e);
        if (u <= c || "" == o)
            return h;
        var f = u - c
          , d = n.call(o, Math.ceil(f / o.length));
        return d.length > f && (d = d.slice(0, f)),
        a ? d + h : h + d
    }
}
, function(t, e, i) {
    var s = i(37)
      , n = i(17)
      , r = i(52).f;
    t.exports = function(t) {
        return function(e) {
            for (var i = n(e), a = s(i), h = a.length, c = 0, o = [], u; h > c; )
                r.call(i, u = a[c++]) && o.push(t ? [u, i[u]] : i[u]);
            return o
        }
    }
}
, function(t, e, i) {
    var s = i(53)
      , n = i(139);
    t.exports = function(t) {
        return function e() {
            if (s(this) != t)
                throw TypeError(t + "#toJSON isn't generic");
            return n(this)
        }
    }
}
, function(t, e, i) {
    var s = i(43);
    t.exports = function(t, e) {
        var i = [];
        return s(t, !1, i.push, i, e),
        i
    }
}
, function(t, e) {
    t.exports = Math.scale || function t(e, i, s, n, r) {
        return 0 === arguments.length || e != e || i != i || s != s || n != n || r != r ? NaN : e === 1 / 0 || e === -1 / 0 ? e : (e - i) * (r - n) / (s - i) + n
    }
}
, function(t, e, i) {
    t.exports = i(50)(0)
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.parseCubemapTextureCompression = r,
    e.skipModelMaterialsOptimizer = a;
    var s = i(104)
      , n = i(143);
    function r(t, e, i) {
        void 0 === i && (i = 0);
        var r = !1, a = 0, h, c = (!(0,
        n.browser)("android") || !e.data.rgbm) && t.assets.useTextureCompression;
        if ("宝来 调整后" === e.name && (c = !1),
        e.data.textures.forEach(function(n, o) {
            if (!r) {
                var u = t.assets.get(n);
                u.data.useTextureCompression = c;
                var f = u.getPreferredAsset({
                    preferredSize: i,
                    useTextureCompression: c
                })
                  , d = f.data.size
                  , l = f.data.format;
                0 === o && (h = l,
                a = 0 === d ? (0,
                s.closePowerOfTwo)(u.data.width) : d),
                o > 0 && (f.data.format !== h && (r = !0),
                d > 0 && a !== d && (r = !0)),
                u.data.preferredSize = a,
                e.data.format = f.data.format
            }
        }),
        r)
            e.data.format = null,
            e.data.compressed = !1,
            e.data.textures.forEach(function(e) {
                var i;
                delete t.assets.get(e).data.preferredSize
            });
        else {
            var o = i !== a ? a : i;
            e.data.width = o,
            e.data.height = o,
            e.data.compressed = "default" !== e.data.format
        }
    }
    function a(t, e) {
        e.data.materials.forEach(function(e) {
            var i;
            t.assets.get(e).data.skipOptimizer = !0
        })
    }
}
, function(t, e, i) {
    "use strict";
    function s(t) {
        var e = navigator.userAgent
          , i = navigator.appVersion;
        return {
            trident: e.indexOf("Trident") > -1,
            presto: e.indexOf("Presto") > -1,
            webKit: e.indexOf("AppleWebKit") > -1,
            gecko: e.indexOf("Gecko") > -1 && -1 == e.indexOf("KHTML"),
            mobile: !!e.match(/AppleWebKit.*Mobile.*/),
            ios: !!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),
            android: e.indexOf("Android") > -1 || e.indexOf("Adr") > -1,
            iPhone: e.indexOf("iPhone") > -1,
            iPad: e.indexOf("iPad") > -1,
            webApp: -1 == e.indexOf("Safari"),
            weixin: e.indexOf("MicroMessenger") > -1,
            qq: " qq" == e.match(/\sQQ/i)
        }[t]
    }
    function n(t) {
        t = t.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var e, i = new RegExp("[\\?&]" + t + "=([^&#]*)").exec(location.search);
        return null == i ? "" : decodeURIComponent(i[1])
    }
    function r(t, e) {
        var i = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""), s = [], n, r;
        if (e = e || i.length,
        t)
            for (n = 0; n < t; n++)
                s[n] = i[0 | Math.random() * e];
        else
            for (s[8] = s[13] = s[18] = s[23] = "-",
            s[14] = "4",
            n = 0; n < 36; n++)
                s[n] || (r = 0 | 16 * Math.random(),
                s[n] = i[19 == n ? 3 & r | 8 : r]);
        return s.join("")
    }
    e.__esModule = !0,
    e.browser = s,
    e.getParam = n,
    e.uuid = r
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.request = r;
    var s = n(i(106));
    function n(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function r(t, e, i) {
        return s.default.get("/wey/datas/" + t + ".json")
    }
}
, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var s = function() {
        function t(t, e) {
            void 0 === e && (e = {}),
            this._callbacks = {},
            this.contentWindow = t.contentWindow,
            this.targetOrigin = e.targetOrigin || "*",
            this.onMessage = this._onMessage.bind(this),
            window.addEventListener("message", this.onMessage, !1)
        }
        return t.prototype.start = function() {
            this.contentWindow.postMessage({
                method: "start"
            }, this.targetOrigin)
        }
        ,
        t.prototype.getOptions = function(t) {
            this.checkCallback(t);
            var e = "getOptions";
            this.once(e, t),
            this.contentWindow.postMessage({
                method: e
            }, this.targetOrigin)
        }
        ,
        t.prototype.getState = function(t) {
            this.checkCallback(t);
            var e = "getState";
            this.once(e, t),
            this.contentWindow.postMessage({
                method: e
            }, this.targetOrigin)
        }
        ,
        t.prototype.setState = function(t) {
            var e = "setState";
            this.contentWindow.postMessage({
                method: e,
                parameters: t
            }, this.targetOrigin)
        }
        ,
        t.prototype.fire = function(t, e) {
            void 0 === e && (e = null);
            var i = this._callbacks[t]
              , s = [];
            void 0 !== i && (i.forEach(function(t, i) {
                t.fn.call(t.scope, e),
                t.once && s.push(i)
            }),
            this._removeCallbacks(i, s))
        }
        ,
        t.prototype.on = function(t, e, i, s) {
            void 0 === i && (i = this),
            void 0 === s && (s = !1),
            this.checkCallback(e),
            void 0 === this._callbacks[t] && (this._callbacks[t] = []),
            this._callbacks[t].push({
                fn: e,
                scope: i,
                once: s
            })
        }
        ,
        t.prototype.once = function(t, e, i) {
            void 0 === i && (i = this),
            this.on(t, e, i, !0)
        }
        ,
        t.prototype.off = function(t, e, i) {
            if (void 0 === i && (i = this),
            void 0 !== this._callbacks[t]) {
                "function" != typeof e && (this._callbacks[t].length = 0);
                for (var s = this._callbacks[t], n = [], r = 0; r < s.length; r++) {
                    var a = s[r];
                    a.fn === e && a.scope === i && n.push(r)
                }
                this._removeCallbacks(s, n)
            }
        }
        ,
        t.prototype.destroy = function() {
            window.removeEventListener("message", this.onMessage, !1),
            this.contentWindow = null,
            this.onMessage = null
        }
        ,
        t.prototype.checkCallback = function(t) {
            if ("function" != typeof t)
                throw new Error("Callback must be a function.")
        }
        ,
        t.prototype._onMessage = function(t) {
            if (t.data) {
                var e = t.data.event || t.data.method
                  , i = t.data.data;
                e && this.fire(e, i)
            }
        }
        ,
        t.prototype._removeCallbacks = function(t, e) {
            e.forEach(function(e, i) {
                t.splice(e - i, 1)
            })
        }
        ,
        t
    }();
    e.default = s
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = function() {
        function t(t) {
            this.uid = t.uid,
            this.name = t.name,
            this.type = -1,
            this.manager = null,
            this.position = t.position,
            this.rotation = t.rotation,
            this.fov = t.fov,
            this.fovMin = t.fovMin || 30,
            this.fovMax = t.fovMax || 60,
            this.pitchAngleMin = null == t.pitchAngleMin ? 0 : t.pitchAngleMin,
            this.pitchAngleMax = null == t.pitchAngleMax ? 90 : t.pitchAngleMax
        }
        var e = t.prototype;
        return e.onEnable = function t() {}
        ,
        e.onDisable = function t() {}
        ,
        t
    }();
    e.default = s,
    s.Hg = 0,
    s.Gg = 1,
    s.Wg = 2,
    s.Yg = 3
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = [{
        hash: "ec3083dade1878098b07bc30668187de",
        name: "展厅",
        tags: [],
        rgbm: !1,
        loadFaces: !0,
        textures: {
            back: {
                hash: "bb35ace712b845c90cc699c344378ce6",
                height: 1024,
                mipmaps: !1,
                name: "93a540018b1ba48659fba4d5821b15fd.jpg",
                uid: "8f6e08a44cf49f0857d6624f1f24b1611e157eaf",
                url: "/wey/datas/textures/bb35ace712b845c90cc699c344378ce6.jpg",
                used: !0,
                variants: {
                    dxt1: {
                        size: 699192,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/8fce41b7548327666ab93d89447d749a.gtc"
                    },
                    etc_rgb: {
                        size: 699192,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/0ddefb3c9fc22524b9adf646f2a06205.gtc"
                    },
                    pvrtc1_4_rgb: {
                        size: 699264,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/a5c04d2b28d980e8ada9a0a0ebb090e0.gtc"
                    }
                },
                width: 1024
            },
            bottom: {
                hash: "7523fabfa0917d76274bb273469b818f",
                height: 1024,
                mipmaps: !1,
                name: "93d2bf63b026d5a4612a1363e25a389d.jpg",
                uid: "17089999258f2e032012d10caa28b21541211da6",
                url: "/wey/datas/textures/7523fabfa0917d76274bb273469b818f.jpg",
                used: !0,
                variants: {
                    dxt1: {
                        size: 699192,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/afc8d7bcf6e5e7a810f113c33fca7ea7.gtc"
                    },
                    etc_rgb: {
                        size: 699192,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/3dd591287bee833ce83ea42369435ec7.gtc"
                    },
                    pvrtc1_4_rgb: {
                        size: 699264,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/43a9f6f8abef2c7fae7a6c0fac9ef365.gtc"
                    }
                },
                width: 1024
            },
            front: {
                hash: "0840f74a224670de97cde88da3b5c2f9",
                height: 1024,
                mipmaps: !1,
                name: "761e61212871ed889c37f0f36f868cfe.jpg",
                uid: "4e9ad59f6c5836ad8a7ba09c28780377d165bd0b",
                url: "/wey/datas/textures/0840f74a224670de97cde88da3b5c2f9.jpg",
                used: !0,
                variants: {
                    dxt1: {
                        size: 699192,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/8aad3299b5fc0bd94e19bfb004628a08.gtc"
                    },
                    etc_rgb: {
                        size: 699192,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/664d18a892b656614832441d01408bb4.gtc"
                    },
                    pvrtc1_4_rgb: {
                        size: 699264,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/c3788eaed7ef0ed36b9a91ffdfa4ed52.gtc"
                    }
                },
                width: 1024
            },
            left: {
                hash: "63d5df0a4790ed70db0bf2e34625e8cb",
                height: 1024,
                mipmaps: !1,
                name: "bb52c41e56ca92f4c0b617fb6244ff6f.jpg",
                uid: "dc32ba64dbfc762aa3b14960511cfe44609c5e92",
                url: "/wey/datas/textures/63d5df0a4790ed70db0bf2e34625e8cb.jpg",
                used: !0,
                variants: {
                    dxt1: {
                        size: 699192,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/55862157dc2e2aa7f274192d85482b45.gtc"
                    },
                    etc_rgb: {
                        size: 699192,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/5a6636c25a211f90c7d2ac36297a2243.gtc"
                    },
                    pvrtc1_4_rgb: {
                        size: 699264,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/eba3fe460d657cb2622e9d134acfb028.gtc"
                    }
                },
                width: 1024
            },
            right: {
                hash: "47ef8efd8d5b002d08386e74c43ee073",
                height: 1024,
                mipmaps: !1,
                name: "95074ab5e4410d1e2801e3d387128d7e.jpg",
                uid: "7a65f992fd283301903128d2ee23378202a974f2",
                url: "/wey/datas/textures/47ef8efd8d5b002d08386e74c43ee073.jpg",
                used: !0,
                variants: {
                    dxt1: {
                        size: 699192,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/834ec41163d33cfba29fdbf03625c02b.gtc"
                    },
                    etc_rgb: {
                        size: 699192,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/4ec0aea8cbd8eec17f765bcc4a69e268.gtc"
                    },
                    pvrtc1_4_rgb: {
                        size: 699264,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/d80b7d2cd54fa87bb4fb2624c6ee5177.gtc"
                    }
                },
                width: 1024
            },
            top: {
                hash: "1dc6e6d73daf7db496d8f5a31248c3a9",
                height: 1024,
                mipmaps: !1,
                name: "8710ba50fe2a5dc210f9838f8be441c7.jpg",
                uid: "20c4a51ccd347d45ebfb94f0f5bc3fac5f1ee2c7",
                url: "/wey/datas/textures/1dc6e6d73daf7db496d8f5a31248c3a9.jpg",
                used: !0,
                variants: {
                    dxt1: {
                        size: 699192,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/a6b0c20958bd2261dac378d40c89d7b7.gtc"
                    },
                    etc_rgb: {
                        size: 699192,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/f4a2b6fa89e17ba696317f1d5108ce64.gtc"
                    },
                    pvrtc1_4_rgb: {
                        size: 699264,
                        url: "demo.jimuyida.com/wey/datas/cubemaps/HDR_03/3265aa1eccd73695ba820244cd7eb51f.gtc"
                    }
                },
                width: 1024
            }
        },
        thumbnail_url: null,
        uid: "0433a2c6c19a9198c6fa16be3a9f30a27a1b5bc8",
        url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/0433a2c6c19a9198c6fa16be3a9f30a27a1b5bc8/cubemaps/ec3083dade1878098b07bc30668187de.dds",
        used: !1
    }, {
        hash: "914aac84ccbca5c446f1793b50aa5a37",
        loadFaces: !1,
        name: "停机坪",
        rgbm: !0,
        textures: {
            back: {
                uid: 9021125
            },
            bottom: {
                uid: 9021124
            },
            front: {
                uid: 9021127
            },
            left: {
                uid: 9021126
            },
            right: {
                uid: 9021128
            },
            top: {
                uid: 9021129
            }
        },
        thumbnail_url: "",
        uid: "599a8dc00af00e2ce3d1bb59fa774eda922e6675",
        url: "demo.jimuyida.com/wey/datas/defaults/dds/Helipad.dds",
        used: !1
    }, {
        hash: "aa117f7766e9291a504ccedb9b12d5e4",
        loadFaces: !1,
        name: "废弃船厂",
        rgbm: !1,
        tags: [],
        textures: {
            back: {
                hash: "f3251b064c8c837d6cd80de3a7caad74",
                uid: "d567a4f651a0ce5a937efd57b74e9c870770208f",
                url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/184251b26f20ecd11531cafe87a3b28f69054e55/cubemaps/f3251b064c8c837d6cd80de3a7caad74.png",
                used: !0
            },
            bottom: {
                hash: "9766f698ef610fde988e10578d95d89c",
                uid: "2c1462ed11a7eb84a363f95f08adfee6115bcd6c",
                url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/184251b26f20ecd11531cafe87a3b28f69054e55/cubemaps/9766f698ef610fde988e10578d95d89c.png",
                used: !0
            },
            front: {
                hash: "96886665477f5f45af0b15e829edc680",
                uid: "f8b735f6aeef4439527deae3c2743fa9a51cb0c8",
                url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/184251b26f20ecd11531cafe87a3b28f69054e55/cubemaps/96886665477f5f45af0b15e829edc680.png",
                used: !0
            },
            left: {
                hash: "5e9ca33e1f09ce43d584eb09f747c037",
                uid: "aa5a5f742838e561b0a0a2e927aa2b8840482c4a",
                url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/184251b26f20ecd11531cafe87a3b28f69054e55/cubemaps/5e9ca33e1f09ce43d584eb09f747c037.png",
                used: !0
            },
            right: {
                hash: "326374df6759fff7249603456a3e41df",
                uid: "836bec2ee0b835f4336d64b7ba3c80c312bc7577",
                url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/184251b26f20ecd11531cafe87a3b28f69054e55/cubemaps/326374df6759fff7249603456a3e41df.png",
                used: !0
            },
            top: {
                hash: "274e31553408a325483a1ce1ba8462e7",
                uid: "534613444d1f4c1aeb1be50da75b747b221f23b0",
                url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/184251b26f20ecd11531cafe87a3b28f69054e55/cubemaps/274e31553408a325483a1ce1ba8462e7.png",
                used: !0
            }
        },
        thumbnail_url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/4ca6583062661f40f16aad364bbc8d2699cb4933/thumbnails/e430a44c9f346e9536c4c69328bbfa63.png",
        uid: "4ca6583062661f40f16aad364bbc8d2699cb4933",
        url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/4ca6583062661f40f16aad364bbc8d2699cb4933/cubemaps/aa117f7766e9291a504ccedb9b12d5e4.dds",
        used: !1
    }];
    e.default = s
}
, function(t, e, i) {
    var s = i(100)
      , n = i(415)
      , r = i(417)
      , a = i(419);
    function h(t, e) {
        return s(t) ? t : n(t, e) ? [t] : r(a(t))
    }
    t.exports = h
}
, function(t, e) {
    function i(t, e) {
        return function(i) {
            return t(e(i))
        }
    }
    t.exports = i
}
, function(t, e, i) {
    var s = i(435)
      , n = i(382);
    function r(t) {
        return null != t && n(t.length) && !s(t)
    }
    t.exports = r
}
, function(t, e, i) {
    var s = i(358), n = i(439), r = i(440), a = i(150), h = i(388), c = i(49), o, u = Object.prototype.hasOwnProperty, f = r(function(t, e) {
        if (h(e) || a(e))
            n(e, c(e), t);
        else
            for (var i in e)
                u.call(e, i) && s(t, i, e[i])
    });
    t.exports = f
}
, function(t, e, i) {
    t.exports = i(50)(5)
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = o(i(361)), n = o(i(106)), r = i(15), a = i(31), h = i(144), c;
        function o(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function u(t, e) {
            for (var i = 0; i < e.length; i++) {
                var s = e[i];
                s.enumerable = s.enumerable || !1,
                s.configurable = !0,
                "value"in s && (s.writable = !0),
                Object.defineProperty(t, s.key, s)
            }
        }
        function f(t, e, i) {
            return e && u(t.prototype, e),
            i && u(t, i),
            t
        }
        function d(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var l = function(e) {
            function i(i, s) {
                var n;
                return (n = e.call(this) || this).app = i,
                n.target = s,
                n._original = {
                    FL: {
                        aabb: new t.jt,
                        pivot: new t.ut,
                        worldTransform: new t.zt,
                        meshInstances: []
                    },
                    FR: {
                        aabb: new t.jt,
                        pivot: new t.ut,
                        worldTransform: new t.zt,
                        meshInstances: []
                    },
                    RL: {
                        aabb: new t.jt,
                        pivot: new t.ut,
                        worldTransform: new t.zt,
                        meshInstances: []
                    },
                    RR: {
                        aabb: new t.jt,
                        pivot: new t.ut,
                        worldTransform: new t.zt,
                        meshInstances: []
                    }
                },
                n._currentIndex = 0,
                n._speed = 120,
                n._angleNext = 0,
                n._isMoving = !1,
                n._whitelist = [],
                n._whitelistEnabled = !0,
                n.syncGround = !0,
                n.radius = 0,
                n.perimeter = 0,
                n.speed = n._speed,
                n
            }
            d(i, e),
            i.getWheels = function t(e, s) {
                void 0 === e && (e = []),
                void 0 === s && (s = {}),
                e.filter(function(t) {
                    var e = t.node.name
                      , s = i.Xg
                      , n = i.Kg
                      , r = i.Qg
                      , a = i.Jg;
                    return e.startsWith(s) || e.startsWith(n) || e.startsWith(r) || e.startsWith(a)
                }).forEach(function(t) {
                    var e;
                    t.node.name.startsWith(i.Xg) ? e = "FL" : t.node.name.startsWith(i.Kg) ? e = "FR" : t.node.name.startsWith(i.Qg) ? e = "RL" : t.node.name.startsWith(i.Jg) && (e = "RR"),
                    s[e].meshInstances.push(t)
                })
            }
            ;
            var n = i.prototype;
            return n.request = function t(e, i) {
                var n = this;
                return new Promise(function(t, r) {
                    var a, c = e;
                    if (n._whitelistEnabled) {
                        var o = (0,
                        s.default)(n._whitelist, function(t) {
                            return t.name === e || t.uid === e
                        });
                        if (-1 === o)
                            return r("Can not request the tire with " + c + ".");
                        if ((a = n._whitelist[o]).loading)
                            return;
                        c = a.uid
                    }
                    var u = n.get(c);
                    u ? t(u) : n._whitelistEnabled ? (a.loading = !0,
                    (0,
                    h.request)(c, "t", i).then(function(e) {
                        a.loading = !1,
                        a.loaded = !0,
                        n.add(e.data),
                        t()
                    }).catch(function(t) {
                        a.loading = !1,
                        r(t)
                    })) : (0,
                    h.request)(c, "t", i).then(function(e) {
                        n.add(e.data),
                        t()
                    }).catch(r)
                }
                )
            }
            ,
            n.prepare = function t() {
                for (var e in i.getWheels(this.target.model.meshInstances, this._original),
                this._original) {
                    for (var s = this._original[e].aabb, n = this._original[e].pivot, r = this._original[e].meshInstances, a = this._original[e].worldTransform, h = i.vecA, c = 0; c < r.length; c++) {
                        var o = r[c];
                        0 === c ? (s.copy(o.aabb),
                        a.copy(o.node.getWorldTransform())) : s.add(o.aabb)
                    }
                    n.copy(s.center),
                    h.set(s.halfExtents.x, 0, 0),
                    "FR" !== e && "RR" !== e || (h.x *= -1),
                    n.add(h)
                }
                this.radius = this._original.FL.aabb.halfExtents.z,
                this.perimeter = 2 * Math.PI * this.radius,
                this._list.push({
                    name: "默认",
                    uid: this.target.uid,
                    loading: !1,
                    loaded: !0
                }),
                this._whitelist.unshift({
                    name: "默认",
                    uid: this.target.uid,
                    loading: !1,
                    loaded: !0
                }),
                this.updateCache()
            }
            ,
            n.add = function t(e, i) {
                void 0 === i && (i = !0);
                var s = this.app.assets.models.add((0,
                a.parseModelData)(e), {
                    mappingKey: "uid"
                });
                s.data.offset = e.size_marker.wheel_offset || 0,
                this._list.push({
                    uid: e.model.asset.uid,
                    name: e.model.asset.name,
                    asset: s,
                    loading: !1,
                    loaded: !1
                }),
                i && this.updateCache()
            }
            ,
            n.remove = function t(e, s) {
                void 0 === s && (s = !0);
                var n = this.getIndex(e)
                  , r = this.get(e)
                  , a = i.KEYS;
                r && n > 0 && (a.forEach(function(t) {
                    var e = r[t];
                    e && e.destroy()
                }),
                r.asset.unload()),
                this._list.splice(n, 1),
                s && this.updateCache()
            }
            ,
            n.load = function t(e) {
                var i = this;
                return new Promise(function(t, s) {
                    var n = i.get(e);
                    if (n.loaded)
                        return t(n.asset);
                    n.loading = !0,
                    i.app.assets.models.load(n.uid, {
                        onProgress: function t(e, s, r, a) {
                            i.app.sdk.send("jmyd1d1d:model:" + n.uid + ":progress", r / a)
                        }
                    }).then(function(e) {
                        n.loading = !1,
                        n.loaded = !0,
                        n.FL = i._createWheel("FL", e),
                        n.FR = i._createWheel("FR", e),
                        n.RL = i._createWheel("RL", e),
                        n.RR = i._createWheel("RR", e),
                        t(e)
                    }).catch(function(t) {
                        n.loading = !1,
                        s(t)
                    })
                }
                )
            }
            ,
            n.switch = function t(e) {
                var i = this.getIndex(e);
                this._currentIndex !== i && (this._toggle(this._currentIndex, !1),
                this._toggle(i, !0),
                this._currentIndex = i,
                this.app.scenes.switch(this.app.scenes.current.uid))
            }
            ,
            n.move = function t() {
                this._isMoving || (this._isMoving = !0,
                this.app.ground.move(),
                this.app.on("update", this.onUpdate, this))
            }
            ,
            n.stop = function t() {
                this._isMoving && (this._isMoving = !1,
                this.app.off("update", this.onUpdate, this),
                this.syncGround && this.app.ground.stop())
            }
            ,
            n.destroy = function t() {
                var e = this;
                this._isMoving = !1,
                this.app.off("update", this.onUpdate, this),
                this._list.forEach(function(t, i) {
                    return e.remove(i)
                }),
                delete this._original
            }
            ,
            n.onUpdate = function e(s) {
                var n = this
                  , r = i.KEYS
                  , a = i.matA
                  , h = i.matB
                  , c = i.matC
                  , o = i.vecA
                  , u = i.vecB
                  , f = i.vecC
                  , d = i.vecD
                  , l = i.vecE
                  , b = i.quatA
                  , v = i.quatB
                  , m = i.quatMove
                  , g = this.speed * s
                  , p = this._angleNext;
                0 === this._currentIndex ? ((p += g) > 360 && (p = g = (p + g) % 360),
                this._angleNext = p,
                r.forEach(function(e) {
                    var i = n._original[e].aabb
                      , s = n._original[e].angle
                      , r = n._original[e].meshInstances
                      , c = n._original[e].worldTransform;
                    o.copy(i.center).scale(-1),
                    u.copy(i.center),
                    f.copy(n.target.Bc.getPosition()),
                    r.forEach(function(i, r) {
                        r > 0 || (s + g > 360 && (g = s + g - 360,
                        n._original[e].angle = 0),
                        d.copy(i.node.getPosition()),
                        l.copy(i.node.getLocalScale()),
                        m.yt(i.node.right, p),
                        a.copy(c),
                        h.Mt(o, t.bt.IDENTITY, t.ut.ONE).mul(a),
                        a.Mt(t.ut.ZERO, m, t.ut.ONE).mul(h),
                        h.Mt(u, t.bt.IDENTITY, t.ut.ONE).mul(a),
                        a.Mt(f, t.bt.IDENTITY, t.ut.ONE).mul(h),
                        a.getTranslation(f),
                        a.getRotation(b),
                        i.node.setPosition(f),
                        i.node.setRotation(b))
                    })
                })) : (m.yt(t.ut.RIGHT, g),
                r.forEach(function(t, e) {
                    var i = n._list[n._currentIndex][t];
                    b.copy(i.getLocalRotation()),
                    v.mul2(m, b),
                    i.setLocalRotation(v)
                })),
                this.app.rd = !0
            }
            ,
            n._toggle = function t(e, s) {
                var n = this
                  , r = i.KEYS;
                0 === e ? r.forEach(function(t) {
                    n._original[t].meshInstances.forEach(function(t) {
                        return t.visible = s
                    })
                }) : this._list[e] && r.forEach(function(t) {
                    n._list[e][t].enabled = s
                }),
                this.app.rd = !0
            }
            ,
            n._createWheel = function e(s, n) {
                var a = new t.Entity
                  , h = new t.Entity
                  , c = i.vecA
                  , o = i.vecB
                  , u = this._original[s].aabb
                  , f = new t.jt
                  , d = 1;
                return h.Il("model", {
                    type: "asset",
                    asset: n
                }),
                a.enabled = !1,
                a.setPosition(this._original[s].pivot),
                a.addChild(h),
                this.target.Bc.addChild(a),
                r.Xh.buildAABB(h, f),
                d = u.halfExtents.z / f.halfExtents.z,
                c.set(d, d, d),
                o.set(u.halfExtents.x * d, 0, 0),
                "FR" === s || "RR" === s ? (c.x *= -1,
                o.x -= n.data.offset) : (o.x *= -1,
                o.x += n.data.offset),
                a.setLocalScale(c),
                h.translate(o),
                a
            }
            ,
            f(i, [{
                key: "speed",
                get: function t() {
                    return this._speed
                },
                set: function t(e) {
                    this._speed = e,
                    this.syncGround && (this.app.ground.speed = e / 60)
                }
            }]),
            i
        }(o(i(101)).default);
        e.default = l,
        l.qg = "cl_",
        l.Xg = "cl_lf_l",
        l.Kg = "cl_rf_l",
        l.Qg = "cl_lr_l",
        l.Jg = "cl_rr_l",
        l.KEYS = ["FL", "FR", "RL", "RR"],
        l.matA = new t.zt,
        l.matB = new t.zt,
        l.matC = new t.zt,
        l.vecA = new t.ut,
        l.vecB = new t.ut,
        l.vecC = new t.ut,
        l.vecD = new t.ut,
        l.vecE = new t.ut,
        l.quatA = new t.bt,
        l.quatB = new t.bt,
        l.quatMove = new t.bt,
        l.red = new t.D(1,0,0)
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = n(i(397));
    function n(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = ""//window.location.protocol + "//"
      , a = {
        AnnotationMap: {
            uid: "2c116db7fd0c7a5d72352b71d4ff4dcb98f0207f",
            url: r + "/wey/datas/annotation.png",
            variants: {},
            data: {
                addressu: "clamp",
                addressv: "clamp"
            }
        },
        AnnotationArrowMap: {
            uid: "36ffa8b45171478dd3857fffbd19f96724c2aafb",
            url: r + "/wey/datas/arrow.png",
            variants: {}
        },
        AnnotationDiamondMap: {
            uid: "2d18cb97fb731cfa766ec4f2a3744505",
            url: r + "/wey/datas/diamond.png",
            variants: {}
        },
        AnnotationHotspotMap: {
            uid: "80e022502e33881e4ee060bc0eff024d47e5896a",
            url: r + "/wey/datas/hotspot.png",
            variants: {}
        },
        ConcreteFloor: {
            preload: !1,
            uid: "bde094bdd3c65b24bd2f6c0a68a542dc240c13a6",
            url: r + "/wey/datas/concrete-texture.jpg",
            variants: {
                pvrtc1_4_rgb: {
                    size: 174976,
                    url: r + "/wey/datas/7f8fa4591bb9815333181e3184a3cecc.gtc"
                },
                dxt1: {
                    size: 87528,
                    url: r + "/wey/datas/67bd6e4739830d0d57bb7c177a8fd294.gtc"
                },
                etc_rgb: {
                    size: 87528,
                    url: r + "/wey/datas/d010b7bbda746ff01dad5fe4329fc05a.gtc"
                }
            }
        },
        FloorGrid: {
            preload: !1,
            uid: "d3157b8742f7fd29fff0755274d28b79e0839f48",
            url: r + "/wey/datas/floor-grid.png",
            variants: {
                pvrtc1_4_rgb: {
                    size: 43904,
                    url: r + "/wey/datas/117b53702fa4e6b80837692b7dce2e8d.gtc"
                },
                dxt1: {
                    size: 43832,
                    url: r + "/wey/datas/fcf4a6dbe38f2c106c6cdb5d76957ddd.gtc"
                },
                etc_rgb: {
                    size: 43832,
                    url: r + "/wey/datas/46a337844f19a4c94c6cece610724d3e.gtc"
                }
            }
        },
        FloorShadow: {
            preload: !1,
            uid: "5d4a3e068a9bb792f033998e1ea12efd238df04a",
            url: r + "/wey/datas/floor-shadow.jpg",
            variants: {
                pvrtc1_4_rgb: {
                    size: 43904,
                    url: r + "/wey/datas/6d034fe2a2e7f060de29b86f9631cd69.gtc"
                },
                dxt1: {
                    size: 43832,
                    url: r + "/wey/datas/fa40cbe851e36dc48fa3165124a5a835.gtc"
                }
            }
        },
        GreyFlareFront: {
            uid: "c4236a89f8fba1e9f35eb2c29d2304782d23a77e",
            url: r + "/wey/datas/grey-flare-front.jpg",
            variants: {
                pvrtc1_4_rgb: {
                    size: 43904,
                    url: r + "/wey/datas/7b5ceb0becc0f37409cfbda86667fc86.gtc"
                },
                dxt1: {
                    size: 21992,
                    url: r + "/wey/datas/fbc46f34b8e24c0e0cb9e94b683f419c.gtc"
                }
            }
        },
        GreyFlareLong: {
            uid: "603487a9d4cdbea8829bc21ca12f662a21848c31",
            url: r + "/wey/datas/grey-flare-long.png",
            variants: {
                pvrtc1_4_rgb: {
                    size: 174976,
                    url: r + "/wey/datas/22a93123ad50752661f42b6993c5ded1.gtc"
                },
                dxt1: {
                    size: 174904,
                    url: r + "/wey/datas/8d97bcefc54aa43c185bf164b2ef356d.gtc"
                }
            }
        },
        GreyFlareRed: {
            uid: "f41e95a688f9c6c6ec9ec4578a56bc6d6976eb27",
            url: r + "/wey/datas/grey-flare-red.png",
            variants: {
                pvrtc1_4_rgb: {
                    size: 43904,
                    url: r + "/wey/datas/84e61d68b13ce22b9bb24823019a1932.gtc"
                },
                dxt1: {
                    size: 21992,
                    url: r + "/wey/datas/2f7fdbf061044653a5061718c8cb01cb.gtc"
                }
            }
        },
        SpeederRoad: {
            preload: !1,
            uid: "608d63ce54286793c81998585b6e300f9c6560db",
            url: r + "/wey/datas/speeder-road.jpg",
            variants: {
                pvrtc1_4_rgb: {
                    size: 174976,
                    url: r + "/wey/datas/9725449c75458552b9ba6dfa8a68f1f6.gtc"
                },
                dxt1: {
                    size: 174904,
                    url: r + "/wey/datas/795f964b5154dd316795dff5df55b8f0.gtc"
                },
                etc_rgb: {
                    size: 174904,
                    url: r + "/wey/datas/32d383fea43d369b9339855c058820c5.gtc"
                }
            }
        },
        SpeederRoadMask: {
            preload: !1,
            uid: "e541b5637d65483627d8f7f0d713e9bffcb27524",
            url: r + "/wey/datas/speeder-road-mask.jpg",
            variants: {
                pvrtc1_4_rgb: {
                    size: 43904,
                    url: r + "/wey/datas/eafab2e4308781faccc852886efdfbc5.gtc"
                },
                dxt1: {
                    size: 43832,
                    url: r + "/wey/datas/f11e6bfa6f05da35147b88e141b869f9.gtc"
                }
            }
        },
        IdentityBillboard: {
            uid: "9b711a1a9cad269e234fec093c6cbcb222ac56ac",
            url: r + "/wey/datas/identity-billboard.png"
        },
        Font: {
            uid: "d8d8dd59e5b2a4a2f30973e6d0bf5e78fc4568fb",
            type: "font",
            url: r + "/wey/datas/msyh.png",
            variants: {
                astc: {
                    size: 699236,
                    url: r + "/wey/datas/daf304fc1201d73df03430024bdfaa58.gtc"
                },
                dxt5: {
                    size: 699216,
                    url: r + "/wey/datas/9e5fd88623b35cc1cb81e2e5e6167900.gtc"
                },
                pvrtc1_4_rgba: {
                    size: 699264,
                    url: r + "/wey/datas/e4e8ab61b828ca00a339681a0bb6e8c9.gtc"
                }
            },
            data: s.default
        }
    };
    e.default = a
}
, function(t, e) {
    function i(t) {
        return null != t && "object" == typeof t
    }
    t.exports = i
}
, function(t, e, i) {
    var s = i(379);
    function n(t, e) {
        for (var i = t.length; i--; )
            if (s(t[i][0], e))
                return i;
        return -1
    }
    t.exports = n
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = o(i(151))
          , n = i(15)
          , r = o(i(72))
          , a = o(i(368))
          , h = i(31)
          , c = i(142);
        function o(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function u(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var f = function(e) {
            function i(i, n) {
                var r;
                (r = e.call(this, i, n.model.asset.name, n.model.asset.uid) || this).data = n;
                var o = (0,
                h.parseModelData)(n)
                  , u = n.cubemaps || (n.cubemap ? [n.cubemap] : []);
                u.length && (r.cubemapAsset = r.app.assets.cubemaps.add((0,
                h.parseCubemapData)(u[0])),
                r.assets.push(r.cubemapAsset),
                (0,
                c.parseCubemapTextureCompression)(i, r.cubemapAsset, i.query.ts)),
                r.cameraData = (0,
                h.parseCameraData)(n);
                var f = r.app.assets.models.add(o, {
                    mappingKey: "uid"
                });
                return r.assets.push(f),
                r.root = new t.Entity(n.name),
                r.root.enabled = !1,
                r.root.setLocalPosition(0, -.05, 0),
                r.root.Il("model", {
                    asset: f
                }),
                n.lights.data.forEach(function(t, e) {
                    var i = (0,
                    s.default)((0,
                    h.parseLightData)(t), n.transforms.lights[e]);
                    !1 === n.lights.enabled && (i.enabled = !1),
                    r.root.addChild(new a.default(i).Bc)
                }),
                (0,
                c.skipModelMaterialsOptimizer)(i, f),
                r
            }
            u(i, e);
            var r = i.prototype;
            return r.setCamera = function e(i) {
                var s = this.app.camera.Bc.script.orbitCamera;
                this.app.camera.Bc.camera.fov = i.fov,
                i.pivotPoint ? (s.pivotPoint = new (Function.prototype.bind.apply(t.ut, [null].concat(i.pivotPoint))),
                s.distance = i.distance,
                s.pitch = i.pitch,
                s.yaw = i.yaw,
                i.settings && (s._originDistanceMin = i.settings.distanceMin,
                s._originDistanceMax = i.settings.distanceMax,
                s.distanceMin = i.settings.distanceMin,
                s.distanceMax = i.settings.distanceMax,
                s.pitchAngleMin = -i.settings.pitchAngleMin,
                s.pitchAngleMax = i.settings.pitchAngleMax)) : (s.focus(this.model.Bc),
                s._updatePosition())
            }
            ,
            r.setScene = function e(i) {
                for (var s in i) {
                    var n = i[s];
                    ["fogColor", "ambientLight"].includes(s) && (n = new (Function.prototype.bind.apply(t.D, [null].concat(i[s].map(function(t, e) {
                        return t > 1 ? t / 255 : t
                    }))))),
                    this.app.scene[s] = n
                }
            }
            ,
            r.setTextureSize = function t(e, i) {
                var s = this;
                void 0 === e && (e = 0),
                void 0 === i && (i = []);
                var r = this.app
                  , a = r.assets.models.get(this.uid)
                  , h = 0
                  , c = 0
                  , o = {}
                  , u = function t() {
                    c++,
                    r.sdk.send("jmyd1d1d:model:" + s.uid + ":progressive:progress", c / h),
                    c === h && r.sdk && r.sdk.send("jmyd1d1d:model:" + s.uid + ":progressive")
                };
                a.data.materials.forEach(function(t) {
                    var e = r.assets.get(t);
                    n.MATERIAL_TEXTURE_FIELDS.forEach(function(i) {
                        var s = e.data[i];
                        "number" == typeof s && (void 0 === o[s] && (o[s] = []),
                        o[s].push({
                            materialAssetId: t,
                            field: i,
                            useTextureCompression: e.data[i + "Compression"],
                            channel: e.data[i + "Channel"]
                        }))
                    })
                });
                var f = function t(s) {
                    var n = o[s]
                      , a = r.assets.get(s);
                    n.forEach(function(t) {
                        var s = r.assets.get(t.materialAssetId)
                          , n = a.getPreferredAsset({
                            preferredSize: i.includes(a.name) ? 0 : e,
                            useTextureCompression: t.useTextureCompression,
                            channel: t.channel
                        });
                        (a !== n || i.includes(a.name)) && (h++,
                        n.ready(function(e) {
                            s.resource[t.field] = e.resource,
                            s.resource.update(),
                            u()
                        }),
                        r.assets.load(n))
                    })
                };
                for (var d in o)
                    f(d)
            }
            ,
            i
        }(r.default);
        e.default = f
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        if (i(159),
        i(356),
        t._babelPolyfill)
            throw new Error("only one instance of @babel/polyfill is allowed");
        t._babelPolyfill = !0
    }
    ).call(this, i(102))
}
, function(t, e, i) {
    i(160),
    i(162),
    i(163),
    i(164),
    i(165),
    i(166),
    i(167),
    i(168),
    i(169),
    i(170),
    i(171),
    i(172),
    i(173),
    i(174),
    i(175),
    i(176),
    i(178),
    i(179),
    i(180),
    i(181),
    i(182),
    i(183),
    i(184),
    i(185),
    i(186),
    i(187),
    i(188),
    i(189),
    i(190),
    i(191),
    i(192),
    i(193),
    i(194),
    i(195),
    i(196),
    i(197),
    i(198),
    i(199),
    i(200),
    i(201),
    i(202),
    i(203),
    i(204),
    i(205),
    i(206),
    i(207),
    i(208),
    i(209),
    i(210),
    i(211),
    i(212),
    i(213),
    i(214),
    i(215),
    i(216),
    i(217),
    i(218),
    i(219),
    i(220),
    i(221),
    i(222),
    i(223),
    i(224),
    i(225),
    i(226),
    i(227),
    i(228),
    i(229),
    i(230),
    i(231),
    i(232),
    i(233),
    i(234),
    i(235),
    i(236),
    i(237),
    i(238),
    i(240),
    i(241),
    i(243),
    i(244),
    i(245),
    i(246),
    i(247),
    i(248),
    i(249),
    i(251),
    i(252),
    i(253),
    i(254),
    i(255),
    i(256),
    i(257),
    i(258),
    i(259),
    i(260),
    i(261),
    i(262),
    i(263),
    i(95),
    i(264),
    i(265),
    i(125),
    i(266),
    i(267),
    i(268),
    i(269),
    i(270),
    i(128),
    i(130),
    i(131),
    i(271),
    i(272),
    i(273),
    i(274),
    i(275),
    i(276),
    i(277),
    i(278),
    i(279),
    i(280),
    i(281),
    i(282),
    i(283),
    i(284),
    i(285),
    i(286),
    i(287),
    i(288),
    i(289),
    i(290),
    i(291),
    i(292),
    i(293),
    i(294),
    i(295),
    i(296),
    i(297),
    i(298),
    i(299),
    i(300),
    i(301),
    i(302),
    i(303),
    i(304),
    i(305),
    i(306),
    i(307),
    i(308),
    i(309),
    i(310),
    i(311),
    i(312),
    i(313),
    i(314),
    i(315),
    i(316),
    i(317),
    i(318),
    i(319),
    i(320),
    i(321),
    i(322),
    i(323),
    i(324),
    i(325),
    i(326),
    i(327),
    i(328),
    i(329),
    i(330),
    i(331),
    i(332),
    i(333),
    i(334),
    i(335),
    i(336),
    i(337),
    i(338),
    i(339),
    i(340),
    i(341),
    i(342),
    i(343),
    i(344),
    i(345),
    i(346),
    i(347),
    i(348),
    i(349),
    i(350),
    i(351),
    i(352),
    i(353),
    i(354),
    i(355),
    t.exports = i(23)
}
, function(t, e, i) {
    "use strict";
    var s = i(2)
      , n = i(16)
      , r = i(7)
      , a = i(0)
      , h = i(13)
      , c = i(32).KEY
      , o = i(3)
      , u = i(56)
      , f = i(45)
      , d = i(36)
      , l = i(5)
      , b = i(108)
      , v = i(75)
      , m = i(161)
      , g = i(59)
      , p = i(1)
      , w = i(4)
      , x = i(17)
      , z = i(24)
      , _ = i(35)
      , A = i(39)
      , y = i(111)
      , M = i(18)
      , S = i(8)
      , C = i(37)
      , O = M.f
      , E = S.f
      , D = y.f
      , T = s.Symbol
      , P = s.JSON
      , B = P && P.stringify
      , I = "prototype"
      , j = l("_hidden")
      , R = l("toPrimitive")
      , L = {}.propertyIsEnumerable
      , N = u("symbol-registry")
      , F = u("symbols")
      , k = u("op-symbols")
      , U = Object.prototype
      , V = "function" == typeof T
      , H = s.QObject
      , G = !H || !H.prototype || !H.prototype.findChild
      , W = r && o(function() {
        return 7 != A(E({}, "a", {
            get: function() {
                return E(this, "a", {
                    value: 7
                }).a
            }
        })).a
    }) ? function(t, e, i) {
        var s = O(U, e);
        s && delete U[e],
        E(t, e, i),
        s && t !== U && E(U, e, s)
    }
    : E
      , Y = function(t) {
        var e = F[t] = A(T.prototype);
        return e._k = t,
        e
    }
      , X = V && "symbol" == typeof T.iterator ? function(t) {
        return "symbol" == typeof t
    }
    : function(t) {
        return t instanceof T
    }
      , K = function t(e, i, s) {
        return e === U && K(k, i, s),
        p(e),
        i = z(i, !0),
        p(s),
        n(F, i) ? (s.enumerable ? (n(e, j) && e[j][i] && (e[j][i] = !1),
        s = A(s, {
            enumerable: _(0, !1)
        })) : (n(e, j) || E(e, j, _(1, {})),
        e[j][i] = !0),
        W(e, i, s)) : E(e, i, s)
    }
      , Q = function t(e, i) {
        p(e);
        for (var s = m(i = x(i)), n = 0, r = s.length, a; r > n; )
            K(e, a = s[n++], i[a]);
        return e
    }
      , J = function t(e, i) {
        return void 0 === i ? A(e) : Q(A(e), i)
    }
      , q = function t(e) {
        var i = L.call(this, e = z(e, !0));
        return !(this === U && n(F, e) && !n(k, e)) && (!(i || !n(this, e) || !n(F, e) || n(this, j) && this[j][e]) || i)
    }
      , Z = function t(e, i) {
        if (e = x(e),
        i = z(i, !0),
        e !== U || !n(F, i) || n(k, i)) {
            var s = O(e, i);
            return !s || !n(F, i) || n(e, j) && e[j][i] || (s.enumerable = !0),
            s
        }
    }
      , $ = function t(e) {
        for (var i = D(x(e)), s = [], r = 0, a; i.length > r; )
            n(F, a = i[r++]) || a == j || a == c || s.push(a);
        return s
    }
      , tt = function t(e) {
        for (var i = e === U, s = D(i ? k : x(e)), r = [], a = 0, h; s.length > a; )
            !n(F, h = s[a++]) || i && !n(U, h) || r.push(F[h]);
        return r
    };
    V || (h((T = function t() {
        if (this instanceof T)
            throw TypeError("Symbol is not a constructor!");
        var e = d(arguments.length > 0 ? arguments[0] : void 0)
          , i = function(t) {
            this === U && i.call(k, t),
            n(this, j) && n(this[j], e) && (this[j][e] = !1),
            W(this, e, _(1, t))
        };
        return r && G && W(U, e, {
            configurable: !0,
            set: i
        }),
        Y(e)
    }
    ).prototype, "toString", function t() {
        return this._k
    }),
    M.f = Z,
    S.f = K,
    i(40).f = y.f = $,
    i(52).f = q,
    i(58).f = tt,
    r && !i(33) && h(U, "propertyIsEnumerable", q, !0),
    b.f = function(t) {
        return Y(l(t))
    }
    ),
    a(a.G + a.W + a.F * !V, {
        Symbol: T
    });
    for (var et = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), it = 0; et.length > it; )
        l(et[it++]);
    for (var st = C(l.store), nt = 0; st.length > nt; )
        v(st[nt++]);
    a(a.S + a.F * !V, "Symbol", {
        for: function(t) {
            return n(N, t += "") ? N[t] : N[t] = T(t)
        },
        keyFor: function t(e) {
            if (!X(e))
                throw TypeError(e + " is not a symbol!");
            for (var i in N)
                if (N[i] === e)
                    return i
        },
        useSetter: function() {
            G = !0
        },
        useSimple: function() {
            G = !1
        }
    }),
    a(a.S + a.F * !V, "Object", {
        create: J,
        defineProperty: K,
        defineProperties: Q,
        getOwnPropertyDescriptor: Z,
        getOwnPropertyNames: $,
        getOwnPropertySymbols: tt
    }),
    P && a(a.S + a.F * (!V || o(function() {
        var t = T();
        return "[null]" != B([t]) || "{}" != B({
            a: t
        }) || "{}" != B(Object(t))
    })), "JSON", {
        stringify: function t(e) {
            for (var i = [e], s = 1, n, r; arguments.length > s; )
                i.push(arguments[s++]);
            if (r = n = i[1],
            (w(n) || void 0 !== e) && !X(e))
                return g(n) || (n = function(t, e) {
                    if ("function" == typeof r && (e = r.call(this, t, e)),
                    !X(e))
                        return e
                }
                ),
                i[1] = n,
                B.apply(P, i)
        }
    }),
    T.prototype[R] || i(12)(T.prototype, R, T.prototype.valueOf),
    f(T, "Symbol"),
    f(Math, "Math", !0),
    f(s.JSON, "JSON", !0)
}
, function(t, e, i) {
    var s = i(37)
      , n = i(58)
      , r = i(52);
    t.exports = function(t) {
        var e = s(t)
          , i = n.f;
        if (i)
            for (var a = i(t), h = r.f, c = 0, o; a.length > c; )
                h.call(t, o = a[c++]) && e.push(o);
        return e
    }
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Object", {
        create: i(39)
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S + s.F * !i(7), "Object", {
        defineProperty: i(8).f
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S + s.F * !i(7), "Object", {
        defineProperties: i(110)
    })
}
, function(t, e, i) {
    var s = i(17)
      , n = i(18).f;
    i(27)("getOwnPropertyDescriptor", function() {
        return function t(e, i) {
            return n(s(e), i)
        }
    })
}
, function(t, e, i) {
    var s = i(10)
      , n = i(19);
    i(27)("getPrototypeOf", function() {
        return function t(e) {
            return n(s(e))
        }
    })
}
, function(t, e, i) {
    var s = i(10)
      , n = i(37);
    i(27)("keys", function() {
        return function t(e) {
            return n(s(e))
        }
    })
}
, function(t, e, i) {
    i(27)("getOwnPropertyNames", function() {
        return i(111).f
    })
}
, function(t, e, i) {
    var s = i(4)
      , n = i(32).onFreeze;
    i(27)("freeze", function(t) {
        return function e(i) {
            return t && s(i) ? t(n(i)) : i
        }
    })
}
, function(t, e, i) {
    var s = i(4)
      , n = i(32).onFreeze;
    i(27)("seal", function(t) {
        return function e(i) {
            return t && s(i) ? t(n(i)) : i
        }
    })
}
, function(t, e, i) {
    var s = i(4)
      , n = i(32).onFreeze;
    i(27)("preventExtensions", function(t) {
        return function e(i) {
            return t && s(i) ? t(n(i)) : i
        }
    })
}
, function(t, e, i) {
    var s = i(4);
    i(27)("isFrozen", function(t) {
        return function e(i) {
            return !s(i) || !!t && t(i)
        }
    })
}
, function(t, e, i) {
    var s = i(4);
    i(27)("isSealed", function(t) {
        return function e(i) {
            return !s(i) || !!t && t(i)
        }
    })
}
, function(t, e, i) {
    var s = i(4);
    i(27)("isExtensible", function(t) {
        return function e(i) {
            return !!s(i) && (!t || t(i))
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S + s.F, "Object", {
        assign: i(112)
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Object", {
        is: i(177)
    })
}
, function(t, e) {
    t.exports = Object.is || function t(e, i) {
        return e === i ? 0 !== e || 1 / e == 1 / i : e != e && i != i
    }
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Object", {
        setPrototypeOf: i(79).set
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(53)
      , n = {};
    n[i(5)("toStringTag")] = "z",
    n + "" != "[object z]" && i(13)(Object.prototype, "toString", function t() {
        return "[object " + s(this) + "]"
    }, !0)
}
, function(t, e, i) {
    var s = i(0);
    s(s.P, "Function", {
        bind: i(113)
    })
}
, function(t, e, i) {
    var s = i(8).f
      , n = Function.prototype
      , r = /^\s*function ([^ (]*)/
      , a = "name";
    a in n || i(7) && s(n, a, {
        configurable: !0,
        get: function() {
            try {
                return ("" + this).match(r)[1]
            } catch (t) {
                return ""
            }
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(4)
      , n = i(19)
      , r = i(5)("hasInstance")
      , a = Function.prototype;
    r in a || i(8).f(a, r, {
        value: function(t) {
            if ("function" != typeof this || !s(t))
                return !1;
            if (!s(this.prototype))
                return t instanceof this;
            for (; t = n(t); )
                if (this.prototype === t)
                    return !0;
            return !1
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(115);
    s(s.G + s.F * (parseInt != n), {
        parseInt: n
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(116);
    s(s.G + s.F * (parseFloat != n), {
        parseFloat: n
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(2)
      , n = i(16)
      , r = i(21)
      , a = i(81)
      , h = i(24)
      , c = i(3)
      , o = i(40).f
      , u = i(18).f
      , f = i(8).f
      , d = i(46).trim
      , l = "Number"
      , b = s.Number
      , v = b
      , m = b.prototype
      , g = r(i(39)(m)) == l
      , p = "trim"in String.prototype
      , w = function(t) {
        var e = h(t, !1);
        if ("string" == typeof e && e.length > 2) {
            var i = (e = p ? e.trim() : d(e, 3)).charCodeAt(0), s, n, r;
            if (43 === i || 45 === i) {
                if (88 === (s = e.charCodeAt(2)) || 120 === s)
                    return NaN
            } else if (48 === i) {
                switch (e.charCodeAt(1)) {
                case 66:
                case 98:
                    n = 2,
                    r = 49;
                    break;
                case 79:
                case 111:
                    n = 8,
                    r = 55;
                    break;
                default:
                    return +e
                }
                for (var a = e.slice(2), c = 0, o = a.length, u; c < o; c++)
                    if ((u = a.charCodeAt(c)) < 48 || u > r)
                        return NaN;
                return parseInt(a, n)
            }
        }
        return +e
    };
    if (!b(" 0o1") || !b("0b1") || b("+0x1")) {
        b = function t(e) {
            var i = arguments.length < 1 ? 0 : e
              , s = this;
            return s instanceof b && (g ? c(function() {
                m.valueOf.call(s)
            }) : r(s) != l) ? a(new v(w(i)), s, b) : w(i)
        }
        ;
        for (var x = i(7) ? o(v) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), z = 0, _; x.length > z; z++)
            n(v, _ = x[z]) && !n(b, _) && f(b, _, u(v, _));
        b.prototype = m,
        m.constructor = b,
        i(13)(s, l, b)
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(26)
      , r = i(117)
      , a = i(82)
      , h = 1..toFixed
      , c = Math.floor
      , o = [0, 0, 0, 0, 0, 0]
      , u = "Number.toFixed: incorrect invocation!"
      , f = "0"
      , d = function(t, e) {
        for (var i = -1, s = e; ++i < 6; )
            s += t * o[i],
            o[i] = s % 1e7,
            s = c(s / 1e7)
    }
      , l = function(t) {
        for (var e = 6, i = 0; --e >= 0; )
            i += o[e],
            o[e] = c(i / t),
            i = i % t * 1e7
    }
      , b = function() {
        for (var t = 6, e = ""; --t >= 0; )
            if ("" !== e || 0 === t || 0 !== o[t]) {
                var i = String(o[t]);
                e = "" === e ? i : e + a.call("0", 7 - i.length) + i
            }
        return e
    }
      , v = function(t, e, i) {
        return 0 === e ? i : e % 2 == 1 ? v(t, e - 1, i * t) : v(t * t, e / 2, i)
    }
      , m = function(t) {
        for (var e = 0, i = t; i >= 4096; )
            e += 12,
            i /= 4096;
        for (; i >= 2; )
            e += 1,
            i /= 2;
        return e
    };
    s(s.P + s.F * (!!h && ("0.000" !== 8e-5.toFixed(3) || "1" !== .9.toFixed(0) || "1.25" !== 1.255.toFixed(2) || "1000000000000000128" !== (0xde0b6b3a7640080).toFixed(0)) || !i(3)(function() {
        h.call({})
    })), "Number", {
        toFixed: function t(e) {
            var i = r(this, u), s = n(e), h = "", c = "0", o, f, g, p;
            if (s < 0 || s > 20)
                throw RangeError(u);
            if (i != i)
                return "NaN";
            if (i <= -1e21 || i >= 1e21)
                return String(i);
            if (i < 0 && (h = "-",
            i = -i),
            i > 1e-21)
                if (f = (o = m(i * v(2, 69, 1)) - 69) < 0 ? i * v(2, -o, 1) : i / v(2, o, 1),
                f *= 4503599627370496,
                (o = 52 - o) > 0) {
                    for (d(0, f),
                    g = s; g >= 7; )
                        d(1e7, 0),
                        g -= 7;
                    for (d(v(10, g, 1), 0),
                    g = o - 1; g >= 23; )
                        l(1 << 23),
                        g -= 23;
                    l(1 << g),
                    d(1, 1),
                    l(2),
                    c = b()
                } else
                    d(0, f),
                    d(1 << -o, 0),
                    c = b() + a.call("0", s);
            return c = s > 0 ? h + ((p = c.length) <= s ? "0." + a.call("0", s - p) + c : c.slice(0, p - s) + "." + c.slice(p - s)) : h + c
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(3)
      , r = i(117)
      , a = 1..toPrecision;
    s(s.P + s.F * (n(function() {
        return "1" !== a.call(1, void 0)
    }) || !n(function() {
        a.call({})
    })), "Number", {
        toPrecision: function t(e) {
            var i = r(this, "Number#toPrecision: incorrect invocation!");
            return void 0 === e ? a.call(i) : a.call(i, e)
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Number", {
        EPSILON: Math.pow(2, -52)
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(2).isFinite;
    s(s.S, "Number", {
        isFinite: function t(e) {
            return "number" == typeof e && n(e)
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Number", {
        isInteger: i(118)
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Number", {
        isNaN: function t(e) {
            return e != e
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(118)
      , r = Math.abs;
    s(s.S, "Number", {
        isSafeInteger: function t(e) {
            return n(e) && r(e) <= 9007199254740991
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Number", {
        MAX_SAFE_INTEGER: 9007199254740991
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Number", {
        MIN_SAFE_INTEGER: -9007199254740991
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(116);
    s(s.S + s.F * (Number.parseFloat != n), "Number", {
        parseFloat: n
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(115);
    s(s.S + s.F * (Number.parseInt != n), "Number", {
        parseInt: n
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(119)
      , r = Math.sqrt
      , a = Math.acosh;
    s(s.S + s.F * !(a && 710 == Math.floor(a(Number.MAX_VALUE)) && a(1 / 0) == 1 / 0), "Math", {
        acosh: function t(e) {
            return (e = +e) < 1 ? NaN : e > 94906265.62425156 ? Math.log(e) + Math.LN2 : n(e - 1 + r(e - 1) * r(e + 1))
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = Math.asinh;
    function r(t) {
        return isFinite(t = +t) && 0 != t ? t < 0 ? -r(-t) : Math.log(t + Math.sqrt(t * t + 1)) : t
    }
    s(s.S + s.F * !(n && 1 / n(0) > 0), "Math", {
        asinh: r
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = Math.atanh;
    s(s.S + s.F * !(n && 1 / n(-0) < 0), "Math", {
        atanh: function t(e) {
            return 0 == (e = +e) ? e : Math.log((1 + e) / (1 - e)) / 2
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(83);
    s(s.S, "Math", {
        cbrt: function t(e) {
            return n(e = +e) * Math.pow(Math.abs(e), 1 / 3)
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        clz32: function t(e) {
            return (e >>>= 0) ? 31 - Math.floor(Math.log(e + .5) * Math.LOG2E) : 32
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = Math.exp;
    s(s.S, "Math", {
        cosh: function t(e) {
            return (n(e = +e) + n(-e)) / 2
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(84);
    s(s.S + s.F * (n != Math.expm1), "Math", {
        expm1: n
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        fround: i(120)
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = Math.abs;
    s(s.S, "Math", {
        hypot: function t(e, i) {
            for (var s = 0, r = 0, a = arguments.length, h = 0, c, o; r < a; )
                h < (c = n(arguments[r++])) ? (s = s * (o = h / c) * o + 1,
                h = c) : s += c > 0 ? (o = c / h) * o : c;
            return h === 1 / 0 ? 1 / 0 : h * Math.sqrt(s)
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = Math.imul;
    s(s.S + s.F * i(3)(function() {
        return -5 != n(4294967295, 5) || 2 != n.length
    }), "Math", {
        imul: function t(e, i) {
            var s = 65535
              , n = +e
              , r = +i
              , a = 65535 & n
              , h = 65535 & r;
            return 0 | a * h + ((65535 & n >>> 16) * h + a * (65535 & r >>> 16) << 16 >>> 0)
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        log10: function t(e) {
            return Math.log(e) * Math.LOG10E
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        log1p: i(119)
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        log2: function t(e) {
            return Math.log(e) / Math.LN2
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        sign: i(83)
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(84)
      , r = Math.exp;
    s(s.S + s.F * i(3)(function() {
        return -2e-17 != !Math.sinh(-2e-17)
    }), "Math", {
        sinh: function t(e) {
            return Math.abs(e = +e) < 1 ? (n(e) - n(-e)) / 2 : (r(e - 1) - r(-e - 1)) * (Math.E / 2)
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(84)
      , r = Math.exp;
    s(s.S, "Math", {
        tanh: function t(e) {
            var i = n(e = +e)
              , s = n(-e);
            return i == 1 / 0 ? 1 : s == 1 / 0 ? -1 : (i - s) / (r(e) + r(-e))
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        trunc: function t(e) {
            return (e > 0 ? Math.floor : Math.ceil)(e)
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(38)
      , r = String.fromCharCode
      , a = String.fromCodePoint;
    s(s.S + s.F * (!!a && 1 != a.length), "String", {
        fromCodePoint: function t(e) {
            for (var i = [], s = arguments.length, a = 0, h; s > a; ) {
                if (h = +arguments[a++],
                n(h, 1114111) !== h)
                    throw RangeError(h + " is not a valid code point");
                i.push(h < 65536 ? r(h) : r(55296 + ((h -= 65536) >> 10), h % 1024 + 56320))
            }
            return i.join("")
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(17)
      , r = i(9);
    s(s.S, "String", {
        raw: function t(e) {
            for (var i = n(e.raw), s = r(i.length), a = arguments.length, h = [], c = 0; s > c; )
                h.push(String(i[c++])),
                c < a && h.push(String(arguments[c]));
            return h.join("")
        }
    })
}
, function(t, e, i) {
    "use strict";
    i(46)("trim", function(t) {
        return function e() {
            return t(this, 3)
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(85)(!0);
    i(86)(String, "String", function(t) {
        this._t = String(t),
        this._i = 0
    }, function() {
        var t = this._t, e = this._i, i;
        return e >= t.length ? {
            value: void 0,
            done: !0
        } : (i = s(t, e),
        this._i += i.length,
        {
            value: i,
            done: !1
        })
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(85)(!1);
    s(s.P, "String", {
        codePointAt: function t(e) {
            return n(this, e)
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(9)
      , r = i(88)
      , a = "endsWith"
      , h = "".endsWith;
    s(s.P + s.F * i(89)(a), "String", {
        endsWith: function t(e) {
            var i = r(this, e, a)
              , s = arguments.length > 1 ? arguments[1] : void 0
              , c = n(i.length)
              , o = void 0 === s ? c : Math.min(n(s), c)
              , u = String(e);
            return h ? h.call(i, u, o) : i.slice(o - u.length, o) === u
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(88)
      , r = "includes";
    s(s.P + s.F * i(89)(r), "String", {
        includes: function t(e) {
            return !!~n(this, e, r).indexOf(e, arguments.length > 1 ? arguments[1] : void 0)
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.P, "String", {
        repeat: i(82)
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(9)
      , r = i(88)
      , a = "startsWith"
      , h = "".startsWith;
    s(s.P + s.F * i(89)(a), "String", {
        startsWith: function t(e) {
            var i = r(this, e, a)
              , s = n(Math.min(arguments.length > 1 ? arguments[1] : void 0, i.length))
              , c = String(e);
            return h ? h.call(i, c, s) : i.slice(s, s + c.length) === c
        }
    })
}
, function(t, e, i) {
    "use strict";
    i(14)("anchor", function(t) {
        return function e(i) {
            return t(this, "a", "name", i)
        }
    })
}
, function(t, e, i) {
    "use strict";
    i(14)("big", function(t) {
        return function e() {
            return t(this, "big", "", "")
        }
    })
}
, function(t, e, i) {
    "use strict";
    i(14)("blink", function(t) {
        return function e() {
            return t(this, "blink", "", "")
        }
    })
}
, function(t, e, i) {
    "use strict";
    i(14)("bold", function(t) {
        return function e() {
            return t(this, "b", "", "")
        }
    })
}
, function(t, e, i) {
    "use strict";
    i(14)("fixed", function(t) {
        return function e() {
            return t(this, "tt", "", "")
        }
    })
}
, function(t, e, i) {
    "use strict";
    i(14)("fontcolor", function(t) {
        return function e(i) {
            return t(this, "font", "color", i)
        }
    })
}
, function(t, e, i) {
    "use strict";
    i(14)("fontsize", function(t) {
        return function e(i) {
            return t(this, "font", "size", i)
        }
    })
}
, function(t, e, i) {
    "use strict";
    i(14)("italics", function(t) {
        return function e() {
            return t(this, "i", "", "")
        }
    })
}
, function(t, e, i) {
    "use strict";
    i(14)("link", function(t) {
        return function e(i) {
            return t(this, "a", "href", i)
        }
    })
}
, function(t, e, i) {
    "use strict";
    i(14)("small", function(t) {
        return function e() {
            return t(this, "small", "", "")
        }
    })
}
, function(t, e, i) {
    "use strict";
    i(14)("strike", function(t) {
        return function e() {
            return t(this, "strike", "", "")
        }
    })
}
, function(t, e, i) {
    "use strict";
    i(14)("sub", function(t) {
        return function e() {
            return t(this, "sub", "", "")
        }
    })
}
, function(t, e, i) {
    "use strict";
    i(14)("sup", function(t) {
        return function e() {
            return t(this, "sup", "", "")
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Date", {
        now: function() {
            return (new Date).getTime()
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(10)
      , r = i(24);
    s(s.P + s.F * i(3)(function() {
        return null !== new Date(NaN).toJSON() || 1 !== Date.prototype.toJSON.call({
            toISOString: function() {
                return 1
            }
        })
    }), "Date", {
        toJSON: function t(e) {
            var i = n(this)
              , s = r(i);
            return "number" != typeof s || isFinite(s) ? i.toISOString() : null
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(239);
    s(s.P + s.F * (Date.prototype.toISOString !== n), "Date", {
        toISOString: n
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(3)
      , n = Date.prototype.getTime
      , r = Date.prototype.toISOString
      , a = function(t) {
        return t > 9 ? t : "0" + t
    };
    t.exports = s(function() {
        return "0385-07-25T07:06:39.999Z" != r.call(new Date(-5e13 - 1))
    }) || !s(function() {
        r.call(new Date(NaN))
    }) ? function t() {
        if (!isFinite(n.call(this)))
            throw RangeError("Invalid time value");
        var e = this
          , i = e.getUTCFullYear()
          , s = e.getUTCMilliseconds()
          , r = i < 0 ? "-" : i > 9999 ? "+" : "";
        return r + ("00000" + Math.abs(i)).slice(r ? -6 : -4) + "-" + a(e.getUTCMonth() + 1) + "-" + a(e.getUTCDate()) + "T" + a(e.getUTCHours()) + ":" + a(e.getUTCMinutes()) + ":" + a(e.getUTCSeconds()) + "." + (s > 99 ? s : "0" + a(s)) + "Z"
    }
    : r
}
, function(t, e, i) {
    var s = Date.prototype
      , n = "Invalid Date"
      , r = "toString"
      , a = s.toString
      , h = s.getTime;
    new Date(NaN) + "" != n && i(13)(s, r, function t() {
        var e = h.call(this);
        return e == e ? a.call(this) : n
    })
}
, function(t, e, i) {
    var s = i(5)("toPrimitive")
      , n = Date.prototype;
    s in n || i(12)(n, s, i(242))
}
, function(t, e, i) {
    "use strict";
    var s = i(1)
      , n = i(24)
      , r = "number";
    t.exports = function(t) {
        if ("string" !== t && t !== r && "default" !== t)
            throw TypeError("Incorrect hint");
        return n(s(this), t != r)
    }
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Array", {
        isArray: i(59)
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(20)
      , n = i(0)
      , r = i(10)
      , a = i(121)
      , h = i(90)
      , c = i(9)
      , o = i(91)
      , u = i(92);
    n(n.S + n.F * !i(61)(function(t) {
        Array.from(t)
    }), "Array", {
        from: function t(e) {
            var i = r(e), n = "function" == typeof this ? this : Array, f = arguments.length, d = f > 1 ? arguments[1] : void 0, l = void 0 !== d, b = 0, v = u(i), m, g, p, w;
            if (l && (d = s(d, f > 2 ? arguments[2] : void 0, 2)),
            null == v || n == Array && h(v))
                for (g = new n(m = c(i.length)); m > b; b++)
                    o(g, b, l ? d(i[b], b) : i[b]);
            else
                for (w = v.call(i),
                g = new n; !(p = w.next()).done; b++)
                    o(g, b, l ? a(w, d, [p.value, b], !0) : p.value);
            return g.length = b,
            g
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(91);
    s(s.S + s.F * i(3)(function() {
        function t() {}
        return !(Array.of.call(t)instanceof t)
    }), "Array", {
        of: function t() {
            for (var e = 0, i = arguments.length, s = new ("function" == typeof this ? this : Array)(i); i > e; )
                n(s, e, arguments[e++]);
            return s.length = i,
            s
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(17)
      , r = [].join;
    s(s.P + s.F * (i(51) != Object || !i(22)(r)), "Array", {
        join: function t(e) {
            return r.call(n(this), void 0 === e ? "," : e)
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(78)
      , r = i(21)
      , a = i(38)
      , h = i(9)
      , c = [].slice;
    s(s.P + s.F * i(3)(function() {
        n && c.call(n)
    }), "Array", {
        slice: function t(e, i) {
            var s = h(this.length)
              , n = r(this);
            if (i = void 0 === i ? s : i,
            "Array" == n)
                return c.call(this, e, i);
            for (var o = a(e, s), u = a(i, s), f = h(u - o), d = new Array(f), l = 0; l < f; l++)
                d[l] = "String" == n ? this.charAt(o + l) : this[o + l];
            return d
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(11)
      , r = i(10)
      , a = i(3)
      , h = [].sort
      , c = [1, 2, 3];
    s(s.P + s.F * (a(function() {
        c.sort(void 0)
    }) || !a(function() {
        c.sort(null)
    }) || !i(22)(h)), "Array", {
        sort: function t(e) {
            return void 0 === e ? h.call(r(this)) : h.call(r(this), n(e))
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(28)(0)
      , r = i(22)([].forEach, !0);
    s(s.P + s.F * !r, "Array", {
        forEach: function t(e) {
            return n(this, e, arguments[1])
        }
    })
}
, function(t, e, i) {
    var s = i(4)
      , n = i(59)
      , r = i(5)("species");
    t.exports = function(t) {
        var e;
        return n(t) && ("function" != typeof (e = t.constructor) || e !== Array && !n(e.prototype) || (e = void 0),
        s(e) && null === (e = e[r]) && (e = void 0)),
        void 0 === e ? Array : e
    }
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(28)(1);
    s(s.P + s.F * !i(22)([].map, !0), "Array", {
        map: function t(e) {
            return n(this, e, arguments[1])
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(28)(2);
    s(s.P + s.F * !i(22)([].filter, !0), "Array", {
        filter: function t(e) {
            return n(this, e, arguments[1])
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(28)(3);
    s(s.P + s.F * !i(22)([].some, !0), "Array", {
        some: function t(e) {
            return n(this, e, arguments[1])
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(28)(4);
    s(s.P + s.F * !i(22)([].every, !0), "Array", {
        every: function t(e) {
            return n(this, e, arguments[1])
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(122);
    s(s.P + s.F * !i(22)([].reduce, !0), "Array", {
        reduce: function t(e) {
            return n(this, e, arguments.length, arguments[1], !1)
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(122);
    s(s.P + s.F * !i(22)([].reduceRight, !0), "Array", {
        reduceRight: function t(e) {
            return n(this, e, arguments.length, arguments[1], !0)
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(57)(!1)
      , r = [].indexOf
      , a = !!r && 1 / [1].indexOf(1, -0) < 0;
    s(s.P + s.F * (a || !i(22)(r)), "Array", {
        indexOf: function t(e) {
            return a ? r.apply(this, arguments) || 0 : n(this, e, arguments[1])
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(17)
      , r = i(26)
      , a = i(9)
      , h = [].lastIndexOf
      , c = !!h && 1 / [1].lastIndexOf(1, -0) < 0;
    s(s.P + s.F * (c || !i(22)(h)), "Array", {
        lastIndexOf: function t(e) {
            if (c)
                return h.apply(this, arguments) || 0;
            var i = n(this)
              , s = a(i.length)
              , o = s - 1;
            for (arguments.length > 1 && (o = Math.min(o, r(arguments[1]))),
            o < 0 && (o = s + o); o >= 0; o--)
                if (o in i && i[o] === e)
                    return o || 0;
            return -1
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.P, "Array", {
        copyWithin: i(123)
    }),
    i(34)("copyWithin")
}
, function(t, e, i) {
    var s = i(0);
    s(s.P, "Array", {
        fill: i(94)
    }),
    i(34)("fill")
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(28)(5)
      , r = "find"
      , a = !0;
    r in [] && Array(1).find(function() {
        a = !1
    }),
    s(s.P + s.F * a, "Array", {
        find: function t(e) {
            return n(this, e, arguments.length > 1 ? arguments[1] : void 0)
        }
    }),
    i(34)(r)
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(28)(6)
      , r = "findIndex"
      , a = !0;
    r in [] && Array(1)[r](function() {
        a = !1
    }),
    s(s.P + s.F * a, "Array", {
        findIndex: function t(e) {
            return n(this, e, arguments.length > 1 ? arguments[1] : void 0)
        }
    }),
    i(34)(r)
}
, function(t, e, i) {
    i(41)("Array")
}
, function(t, e, i) {
    var s = i(2)
      , n = i(81)
      , r = i(8).f
      , a = i(40).f
      , h = i(60)
      , c = i(62)
      , o = s.RegExp
      , u = o
      , f = o.prototype
      , d = /a/g
      , l = /a/g
      , b = new o(d) !== d;
    if (i(7) && (!b || i(3)(function() {
        return l[i(5)("match")] = !1,
        o(d) != d || o(l) == l || "/a/i" != o(d, "i")
    }))) {
        o = function t(e, i) {
            var s = this instanceof o
              , r = h(e)
              , a = void 0 === i;
            return !s && r && e.constructor === o && a ? e : n(b ? new u(r && !a ? e.source : e,i) : u((r = e instanceof o) ? e.source : e, r && a ? c.call(e) : i), s ? this : f, o)
        }
        ;
        for (var v = function(t) {
            t in o || r(o, t, {
                configurable: !0,
                get: function() {
                    return u[t]
                },
                set: function(e) {
                    u[t] = e
                }
            })
        }, m = a(u), g = 0; m.length > g; )
            v(m[g++]);
        f.constructor = o,
        o.prototype = f,
        i(13)(s, "RegExp", o)
    }
    i(41)("RegExp")
}
, function(t, e, i) {
    "use strict";
    i(125);
    var s = i(1)
      , n = i(62)
      , r = i(7)
      , a = "toString"
      , h = /./.toString
      , c = function(t) {
        i(13)(RegExp.prototype, a, t, !0)
    };
    i(3)(function() {
        return "/a/b" != h.call({
            source: "a",
            flags: "b"
        })
    }) ? c(function t() {
        var e = s(this);
        return "/".concat(e.source, "/", "flags"in e ? e.flags : !r && e instanceof RegExp ? n.call(e) : void 0)
    }) : h.name != a && c(function t() {
        return h.call(this)
    })
}
, function(t, e, i) {
    i(63)("match", 1, function(t, e, i) {
        return [function i(s) {
            "use strict";
            var n = t(this)
              , r = null == s ? void 0 : s[e];
            return void 0 !== r ? r.call(s, n) : new RegExp(s)[e](String(n))
        }
        , i]
    })
}
, function(t, e, i) {
    i(63)("replace", 2, function(t, e, i) {
        return [function s(n, r) {
            "use strict";
            var a = t(this)
              , h = null == n ? void 0 : n[e];
            return void 0 !== h ? h.call(n, a, r) : i.call(String(a), n, r)
        }
        , i]
    })
}
, function(t, e, i) {
    i(63)("search", 1, function(t, e, i) {
        return [function i(s) {
            "use strict";
            var n = t(this)
              , r = null == s ? void 0 : s[e];
            return void 0 !== r ? r.call(s, n) : new RegExp(s)[e](String(n))
        }
        , i]
    })
}
, function(t, e, i) {
    i(63)("split", 2, function(t, e, s) {
        "use strict";
        var n = i(60)
          , r = s
          , a = [].push
          , h = "split"
          , c = "length"
          , o = "lastIndex";
        if ("c" == "abbc".split(/(b)*/)[1] || 4 != "test".split(/(?:)/, -1).length || 2 != "ab".split(/(?:ab)*/).length || 4 != ".".split(/(.?)(.?)/).length || ".".split(/()()/).length > 1 || "".split(/.?/).length) {
            var u = void 0 === /()??/.exec("")[1];
            s = function(t, e) {
                var i = String(this);
                if (void 0 === t && 0 === e)
                    return [];
                if (!n(t))
                    return r.call(i, t, e);
                var s = [], h = (t.ignoreCase ? "i" : "") + (t.multiline ? "m" : "") + (t.unicode ? "u" : "") + (t.sticky ? "y" : ""), c = 0, o = void 0 === e ? 4294967295 : e >>> 0, f = new RegExp(t.source,h + "g"), d, l, b, v, m;
                for (u || (d = new RegExp("^" + f.source + "$(?!\\s)",h)); (l = f.exec(i)) && !((b = l.index + l[0].length) > c && (s.push(i.slice(c, l.index)),
                !u && l.length > 1 && l[0].replace(d, function() {
                    for (m = 1; m < arguments.length - 2; m++)
                        void 0 === arguments[m] && (l[m] = void 0)
                }),
                l.length > 1 && l.index < i.length && a.apply(s, l.slice(1)),
                v = l[0].length,
                c = b,
                s.length >= o)); )
                    f.lastIndex === l.index && f.lastIndex++;
                return c === i.length ? !v && f.test("") || s.push("") : s.push(i.slice(c)),
                s.length > o ? s.slice(0, o) : s
            }
        } else
            "0".split(void 0, 0).length && (s = function(t, e) {
                return void 0 === t && 0 === e ? [] : r.call(this, t, e)
            }
            );
        return [function i(n, r) {
            var a = t(this)
              , h = null == n ? void 0 : n[e];
            return void 0 !== h ? h.call(n, a, r) : s.call(String(a), n, r)
        }
        , s]
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(33), n = i(2), r = i(20), a = i(53), h = i(0), c = i(4), o = i(11), u = i(42), f = i(43), d = i(64), l = i(96).set, b = i(97)(), v = i(98), m = i(126), g = i(65), p = i(127), w = "Promise", x = n.TypeError, z = n.process, _ = z && z.versions, A = _ && _.v8 || "", y = n.Promise, M = "process" == a(z), S = function() {}, C, O, E, D, T = O = v.f, P = !!function() {
        try {
            var t = y.resolve(1)
              , e = (t.constructor = {})[i(5)("species")] = function(t) {
                t(S, S)
            }
            ;
            return (M || "function" == typeof PromiseRejectionEvent) && t.then(S)instanceof e && 0 !== A.indexOf("6.6") && -1 === g.indexOf("Chrome/66")
        } catch (t) {}
    }(), B = function(t) {
        var e;
        return !(!c(t) || "function" != typeof (e = t.then)) && e
    }, I = function(t, e) {
        if (!t._n) {
            t._n = !0;
            var i = t._c;
            b(function() {
                for (var s = t._v, n = 1 == t._s, r = 0, a = function(e) {
                    var i = n ? e.ok : e.fail, r = e.resolve, a = e.reject, h = e.domain, c, o, u;
                    try {
                        i ? (n || (2 == t._h && L(t),
                        t._h = 1),
                        !0 === i ? c = s : (h && h.enter(),
                        c = i(s),
                        h && (h.exit(),
                        u = !0)),
                        c === e.promise ? a(x("Promise-chain cycle")) : (o = B(c)) ? o.call(c, r, a) : r(c)) : a(s)
                    } catch (t) {
                        h && !u && h.exit(),
                        a(t)
                    }
                }; i.length > r; )
                    a(i[r++]);
                t._c = [],
                t._n = !1,
                e && !t._h && j(t)
            })
        }
    }, j = function(t) {
        l.call(n, function() {
            var e = t._v, i = R(t), s, r, a;
            if (i && (s = m(function() {
                M ? z.emit("unhandledRejection", e, t) : (r = n.onunhandledrejection) ? r({
                    promise: t,
                    reason: e
                }) : (a = n.console) && a.error && a.error("Unhandled promise rejection", e)
            }),
            t._h = M || R(t) ? 2 : 1),
            t._a = void 0,
            i && s.e)
                throw s.v
        })
    }, R = function(t) {
        return 1 !== t._h && 0 === (t._a || t._c).length
    }, L = function(t) {
        l.call(n, function() {
            var e;
            M ? z.emit("rejectionHandled", t) : (e = n.onrejectionhandled) && e({
                promise: t,
                reason: t._v
            })
        })
    }, N = function(t) {
        var e = this;
        e._d || (e._d = !0,
        (e = e._w || e)._v = t,
        e._s = 2,
        e._a || (e._a = e._c.slice()),
        I(e, !0))
    }, F = function(t) {
        var e = this, i;
        if (!e._d) {
            e._d = !0,
            e = e._w || e;
            try {
                if (e === t)
                    throw x("Promise can't be resolved itself");
                (i = B(t)) ? b(function() {
                    var s = {
                        _w: e,
                        _d: !1
                    };
                    try {
                        i.call(t, r(F, s, 1), r(N, s, 1))
                    } catch (t) {
                        N.call(s, t)
                    }
                }) : (e._v = t,
                e._s = 1,
                I(e, !1))
            } catch (t) {
                N.call({
                    _w: e,
                    _d: !1
                }, t)
            }
        }
    };
    P || (y = function t(e) {
        u(this, y, w, "_h"),
        o(e),
        C.call(this);
        try {
            e(r(F, this, 1), r(N, this, 1))
        } catch (t) {
            N.call(this, t)
        }
    }
    ,
    (C = function t(e) {
        this._c = [],
        this._a = void 0,
        this._s = 0,
        this._d = !1,
        this._v = void 0,
        this._h = 0,
        this._n = !1
    }
    ).prototype = i(44)(y.prototype, {
        then: function t(e, i) {
            var s = T(d(this, y));
            return s.ok = "function" != typeof e || e,
            s.fail = "function" == typeof i && i,
            s.domain = M ? z.domain : void 0,
            this._c.push(s),
            this._a && this._a.push(s),
            this._s && I(this, !1),
            s.promise
        },
        catch: function(t) {
            return this.then(void 0, t)
        }
    }),
    E = function() {
        var t = new C;
        this.promise = t,
        this.resolve = r(F, t, 1),
        this.reject = r(N, t, 1)
    }
    ,
    v.f = T = function(t) {
        return t === y || t === D ? new E(t) : O(t)
    }
    ),
    h(h.G + h.W + h.F * !P, {
        Promise: y
    }),
    i(45)(y, w),
    i(41)(w),
    D = i(23).Promise,
    h(h.S + h.F * !P, w, {
        reject: function t(e) {
            var i = T(this), s;
            return (0,
            i.reject)(e),
            i.promise
        }
    }),
    h(h.S + h.F * (s || !P), w, {
        resolve: function t(e) {
            return p(s && this === D ? y : this, e)
        }
    }),
    h(h.S + h.F * !(P && i(61)(function(t) {
        y.all(t).catch(S)
    })), w, {
        all: function t(e) {
            var i = this
              , s = T(i)
              , n = s.resolve
              , r = s.reject
              , a = m(function() {
                var t = []
                  , s = 0
                  , a = 1;
                f(e, !1, function(e) {
                    var h = s++
                      , c = !1;
                    t.push(void 0),
                    a++,
                    i.resolve(e).then(function(e) {
                        c || (c = !0,
                        t[h] = e,
                        --a || n(t))
                    }, r)
                }),
                --a || n(t)
            });
            return a.e && r(a.v),
            s.promise
        },
        race: function t(e) {
            var i = this
              , s = T(i)
              , n = s.reject
              , r = m(function() {
                f(e, !1, function(t) {
                    i.resolve(t).then(s.resolve, n)
                })
            });
            return r.e && n(r.v),
            s.promise
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(132)
      , n = i(48)
      , r = "WeakSet";
    i(66)(r, function(t) {
        return function e() {
            return t(this, arguments.length > 0 ? arguments[0] : void 0)
        }
    }, {
        add: function t(e) {
            return s.def(n(this, r), e, !0)
        }
    }, s, !1, !0)
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(67)
      , r = i(99)
      , a = i(1)
      , h = i(38)
      , c = i(9)
      , o = i(4)
      , u = i(2).ArrayBuffer
      , f = i(64)
      , d = r.ArrayBuffer
      , l = r.DataView
      , b = n.ABV && u.isView
      , v = d.prototype.slice
      , m = n.VIEW
      , g = "ArrayBuffer";
    s(s.G + s.W + s.F * (u !== d), {
        ArrayBuffer: d
    }),
    s(s.S + s.F * !n.CONSTR, g, {
        isView: function t(e) {
            return b && b(e) || o(e) && m in e
        }
    }),
    s(s.P + s.U + s.F * i(3)(function() {
        return !new d(2).slice(1, void 0).byteLength
    }), g, {
        slice: function t(e, i) {
            if (void 0 !== v && void 0 === i)
                return v.call(a(this), e);
            for (var s = a(this).byteLength, n = h(e, s), r = h(void 0 === i ? s : i, s), o = new (f(this, d))(c(r - n)), u = new l(this), b = new l(o), m = 0; n < r; )
                b.setUint8(m++, u.getUint8(n++));
            return o
        }
    }),
    i(41)(g)
}
, function(t, e, i) {
    var s = i(0);
    s(s.G + s.W + s.F * !i(67).ABV, {
        DataView: i(99).DataView
    })
}
, function(t, e, i) {
    i(29)("Int8", 1, function(t) {
        return function e(i, s, n) {
            return t(this, i, s, n)
        }
    })
}
, function(t, e, i) {
    i(29)("Uint8", 1, function(t) {
        return function e(i, s, n) {
            return t(this, i, s, n)
        }
    })
}
, function(t, e, i) {
    i(29)("Uint8", 1, function(t) {
        return function e(i, s, n) {
            return t(this, i, s, n)
        }
    }, !0)
}
, function(t, e, i) {
    i(29)("Int16", 2, function(t) {
        return function e(i, s, n) {
            return t(this, i, s, n)
        }
    })
}
, function(t, e, i) {
    i(29)("Uint16", 2, function(t) {
        return function e(i, s, n) {
            return t(this, i, s, n)
        }
    })
}
, function(t, e, i) {
    i(29)("Int32", 4, function(t) {
        return function e(i, s, n) {
            return t(this, i, s, n)
        }
    })
}
, function(t, e, i) {
    i(29)("Uint32", 4, function(t) {
        return function e(i, s, n) {
            return t(this, i, s, n)
        }
    })
}
, function(t, e, i) {
    i(29)("Float32", 4, function(t) {
        return function e(i, s, n) {
            return t(this, i, s, n)
        }
    })
}
, function(t, e, i) {
    i(29)("Float64", 8, function(t) {
        return function e(i, s, n) {
            return t(this, i, s, n)
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(11)
      , r = i(1)
      , a = (i(2).Reflect || {}).apply
      , h = Function.apply;
    s(s.S + s.F * !i(3)(function() {
        a(function() {})
    }), "Reflect", {
        apply: function t(e, i, s) {
            var c = n(e)
              , o = r(s);
            return a ? a(c, i, o) : h.call(c, i, o)
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(39)
      , r = i(11)
      , a = i(1)
      , h = i(4)
      , c = i(3)
      , o = i(113)
      , u = (i(2).Reflect || {}).construct
      , f = c(function() {
        function t() {}
        return !(u(function() {}, [], t)instanceof t)
    })
      , d = !c(function() {
        u(function() {})
    });
    s(s.S + s.F * (f || d), "Reflect", {
        construct: function t(e, i) {
            r(e),
            a(i);
            var s = arguments.length < 3 ? e : r(arguments[2]);
            if (d && !f)
                return u(e, i, s);
            if (e == s) {
                switch (i.length) {
                case 0:
                    return new e;
                case 1:
                    return new e(i[0]);
                case 2:
                    return new e(i[0],i[1]);
                case 3:
                    return new e(i[0],i[1],i[2]);
                case 4:
                    return new e(i[0],i[1],i[2],i[3])
                }
                var c = [null];
                return c.push.apply(c, i),
                new (o.apply(e, c))
            }
            var l = s.prototype
              , b = n(h(l) ? l : Object.prototype)
              , v = Function.apply.call(e, b, i);
            return h(v) ? v : b
        }
    })
}
, function(t, e, i) {
    var s = i(8)
      , n = i(0)
      , r = i(1)
      , a = i(24);
    n(n.S + n.F * i(3)(function() {
        Reflect.defineProperty(s.f({}, 1, {
            value: 1
        }), 1, {
            value: 2
        })
    }), "Reflect", {
        defineProperty: function t(e, i, n) {
            r(e),
            i = a(i, !0),
            r(n);
            try {
                return s.f(e, i, n),
                !0
            } catch (t) {
                return !1
            }
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(18).f
      , r = i(1);
    s(s.S, "Reflect", {
        deleteProperty: function t(e, i) {
            var s = n(r(e), i);
            return !(s && !s.configurable) && delete e[i]
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(1)
      , r = function(t) {
        this._t = n(t),
        this._i = 0;
        var e = this._k = [], i;
        for (i in t)
            e.push(i)
    };
    i(87)(r, "Object", function() {
        var t = this, e = this._k, i;
        do {
            if (this._i >= e.length)
                return {
                    value: void 0,
                    done: !0
                }
        } while (!((i = e[this._i++])in this._t));return {
            value: i,
            done: !1
        }
    }),
    s(s.S, "Reflect", {
        enumerate: function t(e) {
            return new r(e)
        }
    })
}
, function(t, e, i) {
    var s = i(18)
      , n = i(19)
      , r = i(16)
      , a = i(0)
      , h = i(4)
      , c = i(1);
    function o(t, e) {
        var i = arguments.length < 3 ? t : arguments[2], a, u;
        return c(t) === i ? t[e] : (a = s.f(t, e)) ? r(a, "value") ? a.value : void 0 !== a.get ? a.get.call(i) : void 0 : h(u = n(t)) ? o(u, e, i) : void 0
    }
    a(a.S, "Reflect", {
        get: o
    })
}
, function(t, e, i) {
    var s = i(18)
      , n = i(0)
      , r = i(1);
    n(n.S, "Reflect", {
        getOwnPropertyDescriptor: function t(e, i) {
            return s.f(r(e), i)
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(19)
      , r = i(1);
    s(s.S, "Reflect", {
        getPrototypeOf: function t(e) {
            return n(r(e))
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Reflect", {
        has: function t(e, i) {
            return i in e
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(1)
      , r = Object.isExtensible;
    s(s.S, "Reflect", {
        isExtensible: function t(e) {
            return n(e),
            !r || r(e)
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Reflect", {
        ownKeys: i(134)
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(1)
      , r = Object.preventExtensions;
    s(s.S, "Reflect", {
        preventExtensions: function t(e) {
            n(e);
            try {
                return r && r(e),
                !0
            } catch (t) {
                return !1
            }
        }
    })
}
, function(t, e, i) {
    var s = i(8)
      , n = i(18)
      , r = i(19)
      , a = i(16)
      , h = i(0)
      , c = i(35)
      , o = i(1)
      , u = i(4);
    function f(t, e, i) {
        var h = arguments.length < 4 ? t : arguments[3], d = n.f(o(t), e), l, b;
        if (!d) {
            if (u(b = r(t)))
                return f(b, e, i, h);
            d = c(0)
        }
        if (a(d, "value")) {
            if (!1 === d.writable || !u(h))
                return !1;
            if (l = n.f(h, e)) {
                if (l.get || l.set || !1 === l.writable)
                    return !1;
                l.value = i,
                s.f(h, e, l)
            } else
                s.f(h, e, c(0, i));
            return !0
        }
        return void 0 !== d.set && (d.set.call(h, i),
        !0)
    }
    h(h.S, "Reflect", {
        set: f
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(79);
    n && s(s.S, "Reflect", {
        setPrototypeOf: function t(e, i) {
            n.check(e, i);
            try {
                return n.set(e, i),
                !0
            } catch (t) {
                return !1
            }
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(57)(!0);
    s(s.P, "Array", {
        includes: function t(e) {
            return n(this, e, arguments.length > 1 ? arguments[1] : void 0)
        }
    }),
    i(34)("includes")
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(135)
      , r = i(10)
      , a = i(9)
      , h = i(11)
      , c = i(93);
    s(s.P, "Array", {
        flatMap: function t(e) {
            var i = r(this), s, o;
            return h(e),
            s = a(i.length),
            o = c(i, 0),
            n(o, i, i, s, 0, 1, e, arguments[1]),
            o
        }
    }),
    i(34)("flatMap")
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(135)
      , r = i(10)
      , a = i(9)
      , h = i(26)
      , c = i(93);
    s(s.P, "Array", {
        flatten: function t() {
            var e = arguments[0]
              , i = r(this)
              , s = a(i.length)
              , o = c(i, 0);
            return n(o, i, i, s, 0, void 0 === e ? 1 : h(e)),
            o
        }
    }),
    i(34)("flatten")
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(85)(!0);
    s(s.P, "String", {
        at: function t(e) {
            return n(this, e)
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(136)
      , r = i(65);
    s(s.P + s.F * /Version\/10\.\d+(\.\d+)? Safari\//.test(r), "String", {
        padStart: function t(e) {
            return n(this, e, arguments.length > 1 ? arguments[1] : void 0, !0)
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(136)
      , r = i(65);
    s(s.P + s.F * /Version\/10\.\d+(\.\d+)? Safari\//.test(r), "String", {
        padEnd: function t(e) {
            return n(this, e, arguments.length > 1 ? arguments[1] : void 0, !1)
        }
    })
}
, function(t, e, i) {
    "use strict";
    i(46)("trimLeft", function(t) {
        return function e() {
            return t(this, 1)
        }
    }, "trimStart")
}
, function(t, e, i) {
    "use strict";
    i(46)("trimRight", function(t) {
        return function e() {
            return t(this, 2)
        }
    }, "trimEnd")
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(25)
      , r = i(9)
      , a = i(60)
      , h = i(62)
      , c = RegExp.prototype
      , o = function(t, e) {
        this._r = t,
        this._s = e
    };
    i(87)(o, "RegExp String", function t() {
        var e = this._r.exec(this._s);
        return {
            value: e,
            done: null === e
        }
    }),
    s(s.P, "String", {
        matchAll: function t(e) {
            if (n(this),
            !a(e))
                throw TypeError(e + " is not a regexp!");
            var i = String(this)
              , s = "flags"in c ? String(e.flags) : h.call(e)
              , u = new RegExp(e.source,~s.indexOf("g") ? s : "g" + s);
            return u.lastIndex = r(e.lastIndex),
            new o(u,i)
        }
    })
}
, function(t, e, i) {
    i(75)("asyncIterator")
}
, function(t, e, i) {
    i(75)("observable")
}
, function(t, e, i) {
    var s = i(0)
      , n = i(134)
      , r = i(17)
      , a = i(18)
      , h = i(91);
    s(s.S, "Object", {
        getOwnPropertyDescriptors: function t(e) {
            for (var i = r(e), s = a.f, c = n(i), o = {}, u = 0, f, d; c.length > u; )
                void 0 !== (d = s(i, f = c[u++])) && h(o, f, d);
            return o
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(137)(!1);
    s(s.S, "Object", {
        values: function t(e) {
            return n(e)
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(137)(!0);
    s(s.S, "Object", {
        entries: function t(e) {
            return n(e)
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(10)
      , r = i(11)
      , a = i(8);
    i(7) && s(s.P + i(68), "Object", {
        __defineGetter__: function t(e, i) {
            a.f(n(this), e, {
                get: r(i),
                enumerable: !0,
                configurable: !0
            })
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(10)
      , r = i(11)
      , a = i(8);
    i(7) && s(s.P + i(68), "Object", {
        __defineSetter__: function t(e, i) {
            a.f(n(this), e, {
                set: r(i),
                enumerable: !0,
                configurable: !0
            })
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(10)
      , r = i(24)
      , a = i(19)
      , h = i(18).f;
    i(7) && s(s.P + i(68), "Object", {
        __lookupGetter__: function t(e) {
            var i = n(this), s = r(e, !0), c;
            do {
                if (c = h(i, s))
                    return c.get
            } while (i = a(i))
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(10)
      , r = i(24)
      , a = i(19)
      , h = i(18).f;
    i(7) && s(s.P + i(68), "Object", {
        __lookupSetter__: function t(e) {
            var i = n(this), s = r(e, !0), c;
            do {
                if (c = h(i, s))
                    return c.set
            } while (i = a(i))
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.P + s.R, "Map", {
        toJSON: i(138)("Map")
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.P + s.R, "Set", {
        toJSON: i(138)("Set")
    })
}
, function(t, e, i) {
    i(69)("Map")
}
, function(t, e, i) {
    i(69)("Set")
}
, function(t, e, i) {
    i(69)("WeakMap")
}
, function(t, e, i) {
    i(69)("WeakSet")
}
, function(t, e, i) {
    i(70)("Map")
}
, function(t, e, i) {
    i(70)("Set")
}
, function(t, e, i) {
    i(70)("WeakMap")
}
, function(t, e, i) {
    i(70)("WeakSet")
}
, function(t, e, i) {
    var s = i(0);
    s(s.G, {
        global: i(2)
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "System", {
        global: i(2)
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(21);
    s(s.S, "Error", {
        isError: function t(e) {
            return "Error" === n(e)
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        clamp: function t(e, i, s) {
            return Math.min(s, Math.max(i, e))
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        DEG_PER_RAD: Math.PI / 180
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = 180 / Math.PI;
    s(s.S, "Math", {
        degrees: function t(e) {
            return e * n
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(140)
      , r = i(120);
    s(s.S, "Math", {
        fscale: function t(e, i, s, a, h) {
            return r(n(e, i, s, a, h))
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        iaddh: function t(e, i, s, n) {
            var r = e >>> 0, a, h = s >>> 0;
            return (i >>> 0) + (n >>> 0) + ((r & h | (r | h) & ~(r + h >>> 0)) >>> 31) | 0
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        isubh: function t(e, i, s, n) {
            var r = e >>> 0, a, h = s >>> 0;
            return (i >>> 0) - (n >>> 0) - ((~r & h | ~(r ^ h) & r - h >>> 0) >>> 31) | 0
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        imulh: function t(e, i) {
            var s = 65535
              , n = +e
              , r = +i
              , a = 65535 & n
              , h = 65535 & r
              , c = n >> 16
              , o = r >> 16
              , u = (c * h >>> 0) + (a * h >>> 16);
            return c * o + (u >> 16) + ((a * o >>> 0) + (65535 & u) >> 16)
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        RAD_PER_DEG: 180 / Math.PI
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = Math.PI / 180;
    s(s.S, "Math", {
        radians: function t(e) {
            return e * n
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        scale: i(140)
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        umulh: function t(e, i) {
            var s = 65535
              , n = +e
              , r = +i
              , a = 65535 & n
              , h = 65535 & r
              , c = n >>> 16
              , o = r >>> 16
              , u = (c * h >>> 0) + (a * h >>> 16);
            return c * o + (u >>> 16) + ((a * o >>> 0) + (65535 & u) >>> 16)
        }
    })
}
, function(t, e, i) {
    var s = i(0);
    s(s.S, "Math", {
        signbit: function t(e) {
            return (e = +e) != e ? e : 0 == e ? 1 / e == 1 / 0 : e > 0
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(23)
      , r = i(2)
      , a = i(64)
      , h = i(127);
    s(s.P + s.R, "Promise", {
        finally: function(t) {
            var e = a(this, n.Promise || r.Promise)
              , i = "function" == typeof t;
            return this.then(i ? function(i) {
                return h(e, t()).then(function() {
                    return i
                })
            }
            : t, i ? function(i) {
                return h(e, t()).then(function() {
                    throw i
                })
            }
            : t)
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(98)
      , r = i(126);
    s(s.S, "Promise", {
        try: function(t) {
            var e = n.f(this)
              , i = r(t);
            return (i.e ? e.reject : e.resolve)(i.v),
            e.promise
        }
    })
}
, function(t, e, i) {
    var s = i(30)
      , n = i(1)
      , r = s.key
      , a = s.set;
    s.exp({
        defineMetadata: function t(e, i, s, h) {
            a(e, i, n(s), r(h))
        }
    })
}
, function(t, e, i) {
    var s = i(30)
      , n = i(1)
      , r = s.key
      , a = s.map
      , h = s.store;
    s.exp({
        deleteMetadata: function t(e, i) {
            var s = arguments.length < 3 ? void 0 : r(arguments[2])
              , c = a(n(i), s, !1);
            if (void 0 === c || !c.delete(e))
                return !1;
            if (c.size)
                return !0;
            var o = h.get(i);
            return o.delete(s),
            !!o.size || h.delete(i)
        }
    })
}
, function(t, e, i) {
    var s = i(30)
      , n = i(1)
      , r = i(19)
      , a = s.has
      , h = s.get
      , c = s.key
      , o = function(t, e, i) {
        var s;
        if (a(t, e, i))
            return h(t, e, i);
        var n = r(e);
        return null !== n ? o(t, n, i) : void 0
    };
    s.exp({
        getMetadata: function t(e, i) {
            return o(e, n(i), arguments.length < 3 ? void 0 : c(arguments[2]))
        }
    })
}
, function(t, e, i) {
    var s = i(130)
      , n = i(139)
      , r = i(30)
      , a = i(1)
      , h = i(19)
      , c = r.keys
      , o = r.key
      , u = function(t, e) {
        var i = c(t, e)
          , r = h(t);
        if (null === r)
            return i;
        var a = u(r, e);
        return a.length ? i.length ? n(new s(i.concat(a))) : a : i
    };
    r.exp({
        getMetadataKeys: function t(e) {
            return u(a(e), arguments.length < 2 ? void 0 : o(arguments[1]))
        }
    })
}
, function(t, e, i) {
    var s = i(30)
      , n = i(1)
      , r = s.get
      , a = s.key;
    s.exp({
        getOwnMetadata: function t(e, i) {
            return r(e, n(i), arguments.length < 3 ? void 0 : a(arguments[2]))
        }
    })
}
, function(t, e, i) {
    var s = i(30)
      , n = i(1)
      , r = s.keys
      , a = s.key;
    s.exp({
        getOwnMetadataKeys: function t(e) {
            return r(n(e), arguments.length < 2 ? void 0 : a(arguments[1]))
        }
    })
}
, function(t, e, i) {
    var s = i(30)
      , n = i(1)
      , r = i(19)
      , a = s.has
      , h = s.key
      , c = function(t, e, i) {
        var s;
        if (a(t, e, i))
            return !0;
        var n = r(e);
        return null !== n && c(t, n, i)
    };
    s.exp({
        hasMetadata: function t(e, i) {
            return c(e, n(i), arguments.length < 3 ? void 0 : h(arguments[2]))
        }
    })
}
, function(t, e, i) {
    var s = i(30)
      , n = i(1)
      , r = s.has
      , a = s.key;
    s.exp({
        hasOwnMetadata: function t(e, i) {
            return r(e, n(i), arguments.length < 3 ? void 0 : a(arguments[2]))
        }
    })
}
, function(t, e, i) {
    var s = i(30)
      , n = i(1)
      , r = i(11)
      , a = s.key
      , h = s.set;
    s.exp({
        metadata: function t(e, i) {
            return function t(s, c) {
                h(e, i, (void 0 !== c ? n : r)(s), a(c))
            }
        }
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(97)()
      , r = i(2).process
      , a = "process" == i(21)(r);
    s(s.G, {
        asap: function t(e) {
            var i = a && r.domain;
            n(i ? i.bind(e) : e)
        }
    })
}
, function(t, e, i) {
    "use strict";
    var s = i(0)
      , n = i(2)
      , r = i(23)
      , a = i(97)()
      , h = i(5)("observable")
      , c = i(11)
      , o = i(1)
      , u = i(42)
      , f = i(44)
      , d = i(12)
      , l = i(43)
      , b = l.RETURN
      , v = function(t) {
        return null == t ? void 0 : c(t)
    }
      , m = function(t) {
        var e = t._c;
        e && (t._c = void 0,
        e())
    }
      , g = function(t) {
        return void 0 === t._o
    }
      , p = function(t) {
        g(t) || (t._o = void 0,
        m(t))
    }
      , w = function(t, e) {
        o(t),
        this._c = void 0,
        this._o = t,
        t = new x(this);
        try {
            var i = e(t)
              , s = i;
            null != i && ("function" == typeof i.unsubscribe ? i = function() {
                s.unsubscribe()
            }
            : c(i),
            this._c = i)
        } catch (e) {
            return void t.error(e)
        }
        g(this) && m(this)
    };
    w.prototype = f({}, {
        unsubscribe: function t() {
            p(this)
        }
    });
    var x = function(t) {
        this._s = t
    };
    x.prototype = f({}, {
        next: function t(e) {
            var i = this._s;
            if (!g(i)) {
                var s = i._o;
                try {
                    var n = v(s.next);
                    if (n)
                        return n.call(s, e)
                } catch (t) {
                    try {
                        p(i)
                    } finally {
                        throw t
                    }
                }
            }
        },
        error: function t(e) {
            var i = this._s;
            if (g(i))
                throw e;
            var s = i._o;
            i._o = void 0;
            try {
                var n = v(s.error);
                if (!n)
                    throw e;
                e = n.call(s, e)
            } catch (t) {
                try {
                    m(i)
                } finally {
                    throw t
                }
            }
            return m(i),
            e
        },
        complete: function t(e) {
            var i = this._s;
            if (!g(i)) {
                var s = i._o;
                i._o = void 0;
                try {
                    var n = v(s.complete);
                    e = n ? n.call(s, e) : void 0
                } catch (t) {
                    try {
                        m(i)
                    } finally {
                        throw t
                    }
                }
                return m(i),
                e
            }
        }
    });
    var z = function t(e) {
        u(this, z, "Observable", "_f")._f = c(e)
    };
    f(z.prototype, {
        subscribe: function t(e) {
            return new w(e,this._f)
        },
        forEach: function t(e) {
            var i = this;
            return new (r.Promise || n.Promise)(function(t, s) {
                c(e);
                var n = i.subscribe({
                    next: function(t) {
                        try {
                            return e(t)
                        } catch (t) {
                            s(t),
                            n.unsubscribe()
                        }
                    },
                    error: s,
                    complete: t
                })
            }
            )
        }
    }),
    f(z, {
        from: function t(e) {
            var i = "function" == typeof this ? this : z
              , s = v(o(e)[h]);
            if (s) {
                var n = o(s.call(e));
                return n.constructor === i ? n : new i(function(t) {
                    return n.subscribe(t)
                }
                )
            }
            return new i(function(t) {
                var i = !1;
                return a(function() {
                    if (!i) {
                        try {
                            if (l(e, !1, function(e) {
                                if (t.next(e),
                                i)
                                    return b
                            }) === b)
                                return
                        } catch (e) {
                            if (i)
                                throw e;
                            return void t.error(e)
                        }
                        t.complete()
                    }
                }),
                function() {
                    i = !0
                }
            }
            )
        },
        of: function t() {
            for (var e = 0, i = arguments.length, s = new Array(i); e < i; )
                s[e] = arguments[e++];
            return new ("function" == typeof this ? this : z)(function(t) {
                var e = !1;
                return a(function() {
                    if (!e) {
                        for (var i = 0; i < s.length; ++i)
                            if (t.next(s[i]),
                            e)
                                return;
                        t.complete()
                    }
                }),
                function() {
                    e = !0
                }
            }
            )
        }
    }),
    d(z.prototype, h, function() {
        return this
    }),
    s(s.G, {
        Observable: z
    }),
    i(41)("Observable")
}
, function(t, e, i) {
    var s = i(2)
      , n = i(0)
      , r = i(65)
      , a = [].slice
      , h = /MSIE .\./.test(r)
      , c = function(t) {
        return function(e, i) {
            var s = arguments.length > 2
              , n = !!s && a.call(arguments, 2);
            return t(s ? function() {
                ("function" == typeof e ? e : Function(e)).apply(this, n)
            }
            : e, i)
        }
    };
    n(n.G + n.B + n.F * h, {
        setTimeout: c(s.setTimeout),
        setInterval: c(s.setInterval)
    })
}
, function(t, e, i) {
    var s = i(0)
      , n = i(96);
    s(s.G + s.B, {
        setImmediate: n.set,
        clearImmediate: n.clear
    })
}
, function(t, e, i) {
    for (var s = i(95), n = i(37), r = i(13), a = i(2), h = i(12), c = i(47), o = i(5), u = o("iterator"), f = o("toStringTag"), d = c.Array, l = {
        CSSRuleList: !0,
        CSSStyleDeclaration: !1,
        CSSValueList: !1,
        ClientRectList: !1,
        DOMRectList: !1,
        DOMStringList: !1,
        DOMTokenList: !0,
        DataTransferItemList: !1,
        FileList: !1,
        HTMLAllCollection: !1,
        HTMLCollection: !1,
        HTMLFormElement: !1,
        HTMLSelectElement: !1,
        MediaList: !0,
        MimeTypeArray: !1,
        NamedNodeMap: !1,
        NodeList: !0,
        PaintRequestList: !1,
        Plugin: !1,
        PluginArray: !1,
        SVGLengthList: !1,
        SVGNumberList: !1,
        SVGPathSegList: !1,
        SVGPointList: !1,
        SVGStringList: !1,
        SVGTransformList: !1,
        SourceBufferList: !1,
        StyleSheetList: !0,
        TextTrackCueList: !1,
        TextTrackList: !1,
        TouchList: !1
    }, b = n(l), v = 0; v < b.length; v++) {
        var m = b[v], g = l[m], p = a[m], w = p && p.prototype, x;
        if (w && (w[u] || h(w, u, d),
        w[f] || h(w, f, m),
        c[m] = d,
        g))
            for (x in s)
                w[x] || r(w, x, s[x], !0)
    }
}
, function(t, e) {
    !function(e) {
        "use strict";
        var i = Object.prototype, s = i.hasOwnProperty, n, r = "function" == typeof Symbol ? Symbol : {}, a = r.iterator || "@@iterator", h = r.asyncIterator || "@@asyncIterator", c = r.toStringTag || "@@toStringTag", o = "object" == typeof t, u = e.regeneratorRuntime;
        if (u)
            o && (t.exports = u);
        else {
            (u = e.regeneratorRuntime = o ? t.exports : {}).wrap = x;
            var f = "suspendedStart"
              , d = "suspendedYield"
              , l = "executing"
              , b = "completed"
              , v = {}
              , m = {};
            m[a] = function() {
                return this
            }
            ;
            var g = Object.getPrototypeOf
              , p = g && g(g(P([])));
            p && p !== i && s.call(p, a) && (m = p);
            var w = y.prototype = _.prototype = Object.create(m);
            A.prototype = w.constructor = y,
            y.constructor = A,
            y[c] = A.displayName = "GeneratorFunction",
            u.isGeneratorFunction = function(t) {
                var e = "function" == typeof t && t.constructor;
                return !!e && (e === A || "GeneratorFunction" === (e.displayName || e.name))
            }
            ,
            u.mark = function(t) {
                return Object.setPrototypeOf ? Object.setPrototypeOf(t, y) : (t.__proto__ = y,
                c in t || (t[c] = "GeneratorFunction")),
                t.prototype = Object.create(w),
                t
            }
            ,
            u.awrap = function(t) {
                return {
                    __await: t
                }
            }
            ,
            M(S.prototype),
            S.prototype[h] = function() {
                return this
            }
            ,
            u.AsyncIterator = S,
            u.async = function(t, e, i, s) {
                var n = new S(x(t, e, i, s));
                return u.isGeneratorFunction(e) ? n : n.next().then(function(t) {
                    return t.done ? t.value : n.next()
                })
            }
            ,
            M(w),
            w[c] = "Generator",
            w[a] = function() {
                return this
            }
            ,
            w.toString = function() {
                return "[object Generator]"
            }
            ,
            u.keys = function(t) {
                var e = [];
                for (var i in t)
                    e.push(i);
                return e.reverse(),
                function i() {
                    for (; e.length; ) {
                        var s = e.pop();
                        if (s in t)
                            return i.value = s,
                            i.done = !1,
                            i
                    }
                    return i.done = !0,
                    i
                }
            }
            ,
            u.values = P,
            T.prototype = {
                constructor: T,
                reset: function(t) {
                    if (this.prev = 0,
                    this.next = 0,
                    this.sent = this._sent = n,
                    this.done = !1,
                    this.delegate = null,
                    this.method = "next",
                    this.arg = n,
                    this.tryEntries.forEach(D),
                    !t)
                        for (var e in this)
                            "t" === e.charAt(0) && s.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = n)
                },
                stop: function() {
                    this.done = !0;
                    var t, e = this.tryEntries[0].completion;
                    if ("throw" === e.type)
                        throw e.arg;
                    return this.rval
                },
                dispatchException: function(t) {
                    if (this.done)
                        throw t;
                    var e = this;
                    function i(i, s) {
                        return h.type = "throw",
                        h.arg = t,
                        e.next = i,
                        s && (e.method = "next",
                        e.arg = n),
                        !!s
                    }
                    for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                        var a = this.tryEntries[r]
                          , h = a.completion;
                        if ("root" === a.tryLoc)
                            return i("end");
                        if (a.tryLoc <= this.prev) {
                            var c = s.call(a, "catchLoc")
                              , o = s.call(a, "finallyLoc");
                            if (c && o) {
                                if (this.prev < a.catchLoc)
                                    return i(a.catchLoc, !0);
                                if (this.prev < a.finallyLoc)
                                    return i(a.finallyLoc)
                            } else if (c) {
                                if (this.prev < a.catchLoc)
                                    return i(a.catchLoc, !0)
                            } else {
                                if (!o)
                                    throw new Error("try statement without catch or finally");
                                if (this.prev < a.finallyLoc)
                                    return i(a.finallyLoc)
                            }
                        }
                    }
                },
                abrupt: function(t, e) {
                    for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                        var n = this.tryEntries[i];
                        if (n.tryLoc <= this.prev && s.call(n, "finallyLoc") && this.prev < n.finallyLoc) {
                            var r = n;
                            break
                        }
                    }
                    r && ("break" === t || "continue" === t) && r.tryLoc <= e && e <= r.finallyLoc && (r = null);
                    var a = r ? r.completion : {};
                    return a.type = t,
                    a.arg = e,
                    r ? (this.method = "next",
                    this.next = r.finallyLoc,
                    v) : this.complete(a)
                },
                complete: function(t, e) {
                    if ("throw" === t.type)
                        throw t.arg;
                    return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg,
                    this.method = "return",
                    this.next = "end") : "normal" === t.type && e && (this.next = e),
                    v
                },
                finish: function(t) {
                    for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                        var i = this.tryEntries[e];
                        if (i.finallyLoc === t)
                            return this.complete(i.completion, i.afterLoc),
                            D(i),
                            v
                    }
                },
                catch: function(t) {
                    for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                        var i = this.tryEntries[e];
                        if (i.tryLoc === t) {
                            var s = i.completion;
                            if ("throw" === s.type) {
                                var n = s.arg;
                                D(i)
                            }
                            return n
                        }
                    }
                    throw new Error("illegal catch attempt")
                },
                delegateYield: function(t, e, i) {
                    return this.delegate = {
                        iterator: P(t),
                        resultName: e,
                        nextLoc: i
                    },
                    "next" === this.method && (this.arg = n),
                    v
                }
            }
        }
        function x(t, e, i, s) {
            var n = e && e.prototype instanceof _ ? e : _
              , r = Object.create(n.prototype)
              , a = new T(s || []);
            return r._invoke = C(t, i, a),
            r
        }
        function z(t, e, i) {
            try {
                return {
                    type: "normal",
                    arg: t.call(e, i)
                }
            } catch (t) {
                return {
                    type: "throw",
                    arg: t
                }
            }
        }
        function _() {}
        function A() {}
        function y() {}
        function M(t) {
            ["next", "throw", "return"].forEach(function(e) {
                t[e] = function(t) {
                    return this._invoke(e, t)
                }
            })
        }
        function S(t) {
            function e(i, n, r, a) {
                var h = z(t[i], t, n);
                if ("throw" !== h.type) {
                    var c = h.arg
                      , o = c.value;
                    return o && "object" == typeof o && s.call(o, "__await") ? Promise.resolve(o.__await).then(function(t) {
                        e("next", t, r, a)
                    }, function(t) {
                        e("throw", t, r, a)
                    }) : Promise.resolve(o).then(function(t) {
                        c.value = t,
                        r(c)
                    }, a)
                }
                a(h.arg)
            }
            var i;
            function n(t, s) {
                function n() {
                    return new Promise(function(i, n) {
                        e(t, s, i, n)
                    }
                    )
                }
                return i = i ? i.then(n, n) : n()
            }
            this._invoke = n
        }
        function C(t, e, i) {
            var s = f;
            return function n(r, a) {
                if (s === l)
                    throw new Error("Generator is already running");
                if (s === b) {
                    if ("throw" === r)
                        throw a;
                    return B()
                }
                for (i.method = r,
                i.arg = a; ; ) {
                    var h = i.delegate;
                    if (h) {
                        var c = O(h, i);
                        if (c) {
                            if (c === v)
                                continue;
                            return c
                        }
                    }
                    if ("next" === i.method)
                        i.sent = i._sent = i.arg;
                    else if ("throw" === i.method) {
                        if (s === f)
                            throw s = b,
                            i.arg;
                        i.dispatchException(i.arg)
                    } else
                        "return" === i.method && i.abrupt("return", i.arg);
                    s = l;
                    var o = z(t, e, i);
                    if ("normal" === o.type) {
                        if (s = i.done ? b : d,
                        o.arg === v)
                            continue;
                        return {
                            value: o.arg,
                            done: i.done
                        }
                    }
                    "throw" === o.type && (s = b,
                    i.method = "throw",
                    i.arg = o.arg)
                }
            }
        }
        function O(t, e) {
            var i = t.iterator[e.method];
            if (i === n) {
                if (e.delegate = null,
                "throw" === e.method) {
                    if (t.iterator.return && (e.method = "return",
                    e.arg = n,
                    O(t, e),
                    "throw" === e.method))
                        return v;
                    e.method = "throw",
                    e.arg = new TypeError("The iterator does not provide a 'throw' method")
                }
                return v
            }
            var s = z(i, t.iterator, e.arg);
            if ("throw" === s.type)
                return e.method = "throw",
                e.arg = s.arg,
                e.delegate = null,
                v;
            var r = s.arg;
            return r ? r.done ? (e[t.resultName] = r.value,
            e.next = t.nextLoc,
            "return" !== e.method && (e.method = "next",
            e.arg = n),
            e.delegate = null,
            v) : r : (e.method = "throw",
            e.arg = new TypeError("iterator result is not an object"),
            e.delegate = null,
            v)
        }
        function E(t) {
            var e = {
                tryLoc: t[0]
            };
            1 in t && (e.catchLoc = t[1]),
            2 in t && (e.finallyLoc = t[2],
            e.afterLoc = t[3]),
            this.tryEntries.push(e)
        }
        function D(t) {
            var e = t.completion || {};
            e.type = "normal",
            delete e.arg,
            t.completion = e
        }
        function T(t) {
            this.tryEntries = [{
                tryLoc: "root"
            }],
            t.forEach(E, this),
            this.reset(!0)
        }
        function P(t) {
            if (t) {
                var e = t[a];
                if (e)
                    return e.call(t);
                if ("function" == typeof t.next)
                    return t;
                if (!isNaN(t.length)) {
                    var i = -1
                      , r = function e() {
                        for (; ++i < t.length; )
                            if (s.call(t, i))
                                return e.value = t[i],
                                e.done = !1,
                                e;
                        return e.value = n,
                        e.done = !0,
                        e
                    };
                    return r.next = r
                }
            }
            return {
                next: B
            }
        }
        function B() {
            return {
                value: n,
                done: !0
            }
        }
    }(function() {
        return this
    }() || Function("return this")())
}
, function(t, e) {
    function i(t) {
        return t
    }
    t.exports = i
}
, function(t, e, i) {
    var s = i(378), n = i(379), r, a = Object.prototype.hasOwnProperty;
    function h(t, e, i) {
        var r = t[e];
        a.call(t, e) && n(r, i) && (void 0 !== i || e in t) || s(t, e, i)
    }
    t.exports = h
}
, function(t, e) {
    function i() {
        return !1
    }
    t.exports = i
}
, function(t, e) {
    var i, s = Object.prototype.toString;
    function n(t) {
        return s.call(t)
    }
    t.exports = n
}
, function(t, e, i) {
    var s = i(437)
      , n = i(391)
      , r = i(438)
      , a = Math.max;
    function h(t, e, i) {
        var h = null == t ? 0 : t.length;
        if (!h)
            return -1;
        var c = null == i ? 0 : r(i);
        return c < 0 && (c = a(h + c, 0)),
        s(t, n(e, 3), c)
    }
    t.exports = h
}
, function(t, e, i) {
    "use strict";
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var s = i(145);
    e.GizmoSDK = s.default;
    var n = i(363);
    e.GizmoSDKAdvanced = n.default
}
, function(t, e, i) {
    "use strict";
    var s = this && this.__extends || (n = Object.setPrototypeOf || {
        __proto__: []
    }instanceof Array && function(t, e) {
        t.__proto__ = e
    }
    || function(t, e) {
        for (var i in e)
            e.hasOwnProperty(i) && (t[i] = e[i])
    }
    ,
    function(t, e) {
        function i() {
            this.constructor = t
        }
        n(t, e),
        t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype,
        new i)
    }
    ), n;
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = i(145)
      , a = i(364)
      , h = function(t) {
        function e(e, i) {
            void 0 === i && (i = {});
            var s = t.call(this, e, i) || this;
            if (s.useJsBridge = !1,
            s.contentWindow = e,
            s.onStart = i.onStart || function() {}
            ,
            s.onGetOptions = i.onGetOptions || function() {}
            ,
            s.onGetState = i.onGetState || function() {}
            ,
            s.onSetState = i.onSetState || function() {}
            ,
            s.contentWindow.getOptions = s.onGetOptions,
            s.contentWindow.getState = s.onGetState,
            s.contentWindow.setState = s.onSetState,
            s.contentWindow.start = s.onStart,
            s.contentWindow.fire = s.fire,
            s.contentWindow.on = s.on,
            s.contentWindow.once = s.once,
            s.contentWindow.off = s.off,
            i.useJsBridge) {
                var n = a.setupWebViewJavascriptBridge
                  , r = a.wrapHandler
                  , h = a.wrapHandler2;
                s.useJsBridge = !0,
                n(function(t) {
                    t.registerHandler("getOptions", r(s.onGetOptions)),
                    t.registerHandler("getState", r(s.onGetState)),
                    t.registerHandler("setState", r(s.onSetState)),
                    t.registerHandler("start", r(s.onStart)),
                    t.registerHandler("on", h(s.addBridgeListener.bind(s))),
                    t.registerHandler("once", h(s.addBridgeListenerOnce.bind(s))),
                    t.registerHandler("off", h(s.removeBridgeListener.bind(s)))
                })
            }
            return s
        }
        return s(e, t),
        e.prototype.send = function(t, e) {
            void 0 === e && (e = null),
            this.useJsBridge && (e = {
                signal: 0,
                data: e
            }),
            this.fire(t, e),
            this.contentWindow.parent.postMessage({
                event: t,
                data: e
            }, this.targetOrigin)
        }
        ,
        e.prototype.addBridgeListener = function(t, e) {
            this.on(t, e),
            e({
                signal: 1,
                data: null
            })
        }
        ,
        e.prototype.addBridgeListenerOnce = function(t, e) {
            this.once(t, e),
            e({
                signal: 1,
                data: null
            })
        }
        ,
        e.prototype.removeBridgeListener = function(t, e) {
            this.off(t, e),
            e({
                signal: 1,
                data: null
            })
        }
        ,
        e.prototype._onMessage = function(t) {
            if (t.data && t.data.method) {
                var e, i = t.data.method;
                switch (i) {
                case "start":
                    this.onStart();
                    break;
                case "setState":
                    this.onSetState(t.data.parameters);
                    break;
                case "getOptions":
                    t.source.postMessage({
                        method: i,
                        data: this.onGetOptions()
                    }, this.targetOrigin);
                    break;
                case "getState":
                    t.source.postMessage({
                        method: i,
                        data: this.onGetState()
                    }, this.targetOrigin)
                }
            }
        }
        ,
        e.Zg = "jmyd1d1d:preload:progress",
        e.$g = "jmyd1d1d:preInitialize",
        e.tp = "jmyd1d1d:postInitialize",
        e.ep = "jmyd1d1d:start",
        e
    }(r.default);
    e.default = h
}
, function(t, e, i) {
    "use strict";
    function s(t) {
        if (window.WebViewJavascriptBridge)
            return t(window.WebViewJavascriptBridge);
        if (document.addEventListener("WebViewJavascriptBridgeReady", function() {
            t(window.WebViewJavascriptBridge)
        }, !1),
        window.WVJBCallbacks)
            return window.WVJBCallbacks.push(t);
        window.WVJBCallbacks = [t];
        var e = document.createElement("iframe");
        e.style.display = "none",
        e.src = "wvjbscheme://__BRIDGE_LOADED__",
        document.documentElement.appendChild(e),
        setTimeout(function() {
            document.documentElement.removeChild(e)
        }, 0)
    }
    function n(t) {
        return function(e, i) {
            i(t(e))
        }
    }
    function r(t) {
        return function(e, i) {
            t(e, i)
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }),
    e.setupWebViewJavascriptBridge = s,
    e.wrapHandler = n,
    e.wrapHandler2 = r
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(15)
          , n = v(i(396))
          , r = v(i(469))
          , a = v(i(470))
          , h = v(i(474))
          , c = v(i(475))
          , o = v(i(153))
          , u = v(i(398))
          , f = v(i(476))
          , d = v(i(366))
          , l = v(i(477))
          , b = v(i(400));
        function v(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function m(t, e) {
            for (var i = 0; i < e.length; i++) {
                var s = e[i];
                s.enumerable = s.enumerable || !1,
                s.configurable = !0,
                "value"in s && (s.writable = !0),
                Object.defineProperty(t, s.key, s)
            }
        }
        function g(t, e, i) {
            return e && m(t.prototype, e),
            i && m(t, i),
            t
        }
        function p(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        function w(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }
        var x = function(e) {
            function i(t) {
                var i, s = (i = e.call(this, t) || this).Bc.getApplication();
                return i._mapping = {},
                i._excludes = [],
                i.uid = t.uid,
                i.annotations = new b.default(s,w(i)),
                i.shadow = new h.default(s,w(i)),
                i.skus = new c.default(s,w(i)),
                i.wheels = new o.default(s,w(i)),
                i.doors = new u.default(s,w(i)),
                i.windows = new f.default(s,w(i)),
                i.sizeMarker = new r.default(s,w(i)),
                i.headlights = new a.default(s,w(i)),
                i.visualBox = new n.default(s,w(i)),
                i.speeder = new d.default(s,w(i)),
                i.billboards = new l.default(s,w(i)),
                i.Bc.klass = w(i),
                i.Bc.Il("script"),
                i.Bc.script.create("opacity"),
                i.Bc.model.castShadows = !1,
                i
            }
            p(i, e),
            i.buildAABB = function e(i, s, n) {
                void 0 === s && (s = []),
                void 0 === n && (n = new t.jt);
                var r = !0, a;
                i.model && i.model.model && i.model.model.meshInstances.forEach(function(t, e) {
                    -1 === s.indexOf(e) && (r ? (r = !1,
                    n.copy(t.aabb)) : n.add(t.aabb))
                });
                return n
            }
            ,
            i.buildOBB = function e(s, n, r) {
                void 0 === n && (n = []),
                void 0 === r && (r = new t.Jt);
                var a = s.getWorldTransform();
                if (!r.isInited) {
                    var h = a.clone();
                    s.setPosition(t.ut.ZERO),
                    s.setRotation(t.bt.IDENTITY),
                    s.setLocalScale(t.ut.ONE),
                    r._aabb.copy(i.buildAABB(s, n)),
                    s.setPosition(h.getTranslation()),
                    s.setEulerAngles(h.getEulerAngles()),
                    s.setLocalScale(h.getScale()),
                    r.isInited = !0
                }
                return r._worldTransform = a,
                r
            }
            ;
            var v = i.prototype;
            return v.generate = function t(e, i) {
                var s = this.Bc.getApplication()
                  , n = s.camera
                  , r = s.assets.models.get(e.uid);
                this.mapping = e.mapping,
                this.Bc.name = r.name,
                this.Bc.model.model = r.resource,
                this.sizeMarker.setCamera(n.Bc),
                this.sizeMarker.generate(i.size_marker),
                this.skus.generate(i.material_sets, i.textures),
                this.wheels.prepare(),
                this.speeder.generate(i.category_data),
                this.doors.prepare(),
                this.doors.generate(i.car_doors),
                this.windows.prepare(),
                this.billboards.setCamera(n),
                this.annotations.setCamera(n),
                this.annotations.generate(i.orbits),
                i.lights.car && (this.headlights.setCamera(n.Bc),
                this.headlights.generate(i.lights.car),
                this.headlights.prepareAssets(i.lights.car.colors)),
                i.category_data && i.category_data.cars && i.category_data.cars.attributes && this.billboards.generate(i.category_data.cars.attributes),
                i.materials.forEach(function(t) {
                    var e = s.assets.materials.get(t.uid);
                    e && e.resource && void 0 !== t.data.layer && e.resource.meshInstances.forEach(function(e) {
                        e.layer = t.data.layer
                    })
                })
            }
            ,
            v.setTextureSize = function t(e) {
                var i = this;
                void 0 === e && (e = 0);
                var n = this.Bc.getApplication()
                  , r = n.assets.models.get(this.uid)
                  , a = 0
                  , h = 0
                  , c = {}
                  , o = function t() {
                    h++,
                    n.sdk.send("jmyd1d1d:model:" + i.uid + ":progressive:progress", h / a),
                    h === a && n.sdk && n.sdk.send("jmyd1d1d:model:" + i.uid + ":progressive")
                };
                r.data.materials.forEach(function(t) {
                    var e = n.assets.get(t);
                    s.MATERIAL_TEXTURE_FIELDS.forEach(function(i) {
                        var s = e.data[i];
                        "number" == typeof s && (void 0 === c[s] && (c[s] = []),
                        c[s].push({
                            materialAssetId: t,
                            field: i,
                            useTextureCompression: e.data[i + "Compression"],
                            preferredSize: e.data[i + "Size"],
                            channel: e.data[i + "Channel"]
                        }))
                    })
                });
                var u = function t(i) {
                    var s = c[i]
                      , r = n.assets.get(i);
                    s.forEach(function(t) {
                        var i = n.assets.get(t.materialAssetId)
                          , s = r.getPreferredAsset({
                            preferredSize: t.preferredSize,
                            useTextureCompression: t.useTextureCompression,
                            channel: t.channel
                        })
                          , h = r.getPreferredAsset({
                            preferredSize: e,
                            useTextureCompression: t.useTextureCompression,
                            channel: t.channel
                        });
                        s.id !== h.id && (a++,
                        h.ready(function(e) {
                            i.resource[t.field] = e.resource,
                            i.resource.update(),
                            o()
                        }),
                        n.assets.load(h))
                    })
                };
                for (var f in c)
                    u(f)
            }
            ,
            g(i, [{
                key: "uid",
                get: function t() {
                    return this._uid
                },
                set: function t(e) {
                    this._uid = e
                }
            }, {
                key: "mapping",
                get: function t() {
                    return this._mapping
                },
                set: function t(e) {
                    var i = {};
                    e.forEach(function(t, e) {
                        i[t] || (i[t] = []),
                        i[t].push(e)
                    }),
                    this._mapping = i
                }
            }, {
                key: "excludes",
                get: function t() {
                    return this._excludes
                },
                set: function t(e) {
                    this._excludes = e
                }
            }, {
                key: "enabled",
                get: function t() {
                    return this.Bc.enabled
                },
                set: function t(e) {
                    var i = this.Bc.getApplication();
                    this.Bc.enabled = e,
                    i.rd = !0
                }
            }, {
                key: "aabb",
                get: function t() {
                    return null === this.model ? null : i.buildAABB(this.Bc, this._excludes, this._aabb)
                }
            }, {
                key: "meshInstances",
                get: function t() {
                    return null === this.model ? null : this.model.meshInstances
                }
            }]),
            i
        }(s.Xh);
        e.default = x
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = a(i(54))
          , n = i(103)
          , r = a(i(71));
        function a(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function h(t, e) {
            for (var i = 0; i < e.length; i++) {
                var s = e[i];
                s.enumerable = s.enumerable || !1,
                s.configurable = !0,
                "value"in s && (s.writable = !0),
                Object.defineProperty(t, s.key, s)
            }
        }
        function c(t, e, i) {
            return e && h(t.prototype, e),
            i && h(t, i),
            t
        }
        var o = function() {
            function e(t, i) {
                this.app = t,
                this.target = i,
                this.timer = 0,
                this.status = e.STATUS_IDLE,
                this.data = [],
                this.billboard = null,
                this._mode = e.MODE_ACCELERATE,
                this._speed = 0
            }
            var i = e.prototype;
            return i.calcTime = function t(e) {
                return e.forEach(function(t, i) {
                    if (0 !== i) {
                        var s = e[0]
                          , n = t;
                        t.time = n.distance / (s.speed + .5 * (n.speed - s.speed))
                    } else
                        t.time = 0
                }),
                e
            }
            ,
            i.calcDistance = function t(e) {
                return e.forEach(function(t, i) {
                    if (0 !== i) {
                        var s = e[0]
                          , n = t;
                        t.distance = s.speed * n.time + .5 * (n.speed - s.speed) * n.time
                    } else
                        t.distance = 0
                }),
                e
            }
            ,
            i.generate = function i(r) {
                void 0 === r && (r = {});
                var a = {}, h, c, o, u;
                if (r && r.cars && r.cars.speeder && (a = r.cars.speeder),
                !(0,
                s.default)(a.acceleration) && !a.acceleration.type) {
                    var f = a.acceleration.slice();
                    a.acceleration = {
                        data: f,
                        type: 0
                    },
                    f = a.deceleration.slice(),
                    a.deceleration = {
                        data: f.reverse().map(function(t) {
                            return {
                                speed: t.speed,
                                distance: t.time
                            }
                        }),
                        type: 1
                    }
                }
                if (!(0,
                s.default)(a.acceleration) && !(0,
                s.default)(a.acceleration.data)) {
                    var d = (0,
                    n.parseSpeederData)(a.acceleration.data);
                    switch (a.acceleration.type) {
                    case 0:
                        this.calcDistance(d);
                        break;
                    case 1:
                        this.calcTime(d)
                    }
                    d.sort(function(t, e) {
                        return t.speed - e.speed
                    }),
                    u = Math.max.apply(null, d.map(function(t) {
                        return t.time
                    })),
                    (c = new t.Et).type = t.Dt,
                    c.add(0, 0),
                    c.add(u, e.ANGLE_SPEED_MAX),
                    h = new t.Et,
                    o = new t.Et,
                    d.forEach(function(t) {
                        h.add(t.time, t.speed),
                        o.add(t.time, t.distance)
                    }),
                    this.data[e.MODE_ACCELERATE] = {
                        data: d,
                        speedCurve: h,
                        distanceCurve: o,
                        angleSpeedCurve: c,
                        totalTime: u
                    }
                }
                if (!(0,
                s.default)(a.deceleration) && !(0,
                s.default)(a.deceleration.data)) {
                    var l = (0,
                    n.parseSpeederData)(a.deceleration.data);
                    switch (a.deceleration.type) {
                    case 0:
                        this.calcDistance(l);
                        break;
                    case 1:
                        this.calcTime(l)
                    }
                    l.sort(function(t, e) {
                        return e.speed - t.speed
                    }),
                    u = Math.max.apply(null, l.map(function(t) {
                        return t.time
                    })),
                    (c = new t.Et).type = t.Dt,
                    c.add(0, e.ANGLE_SPEED_MAX),
                    c.add(u, 0),
                    h = new t.Et,
                    o = new t.Et,
                    l.forEach(function(t) {
                        h.add(t.time, t.speed),
                        o.add(t.time, t.distance)
                    }),
                    this.data[e.MODE_DECELERATE] = {
                        data: l,
                        speedCurve: h,
                        distanceCurve: o,
                        angleSpeedCurve: c,
                        totalTime: u
                    }
                }
            }
            ,
            i.start = function t() {
                this.data[this.mode] && (null === this.billboard && (this.billboard = this.target.billboards._list.filter(function(t) {
                    return t.bit === r.default.BIT_IDENTITY
                })[0]),
                this.status = e.STATUS_RUNNING,
                this.timer = 0,
                this.app.off("update", this.onUpdate, this),
                this.app.on("update", this.onUpdate, this),
                this.target.wheels.move())
            }
            ,
            i.stop = function t() {
                this.status = e.STATUS_IDLE,
                this.timer = 0,
                this.app.off("update", this.onUpdate, this),
                this.target.wheels.stop()
            }
            ,
            i.destroy = function t() {
                this.stop()
            }
            ,
            i.onUpdate = function i(s) {
                var n = this.data[this.mode];
                if (n) {
                    var r = n.speedCurve
                      , a = n.distanceCurve
                      , h = n.angleSpeedCurve;
                    this.timer = t.I.clamp(this.timer + s, 0, n.totalTime);
                    var c = r.value(this.timer)
                      , o = 3.6 * c
                      , u = a.value(this.timer)
                      , f = this.target.wheels.perimeter
                      , d = h.value(this.timer);
                    this._speed = c,
                    this.target.wheels.speed = d,
                    this.billboard.generate(this.billboard.data + ": " + this.timer.toFixed(2) + "s"),
                    this.app.sdk && (this.app.sdk.send("jmyd1d1d:model:" + this.target.uid + ":speeder:speed", {
                        time: this.timer,
                        speed: o
                    }),
                    this.app.sdk.send("jmyd1d1d:model:" + this.target.uid + ":speeder:distance", {
                        time: this.timer,
                        distance: u
                    }),
                    this.app.sdk.send("jmyd1d1d:model:" + this.target.uid + ":speeder:speed+distance", {
                        time: this.timer,
                        speed: o,
                        distance: u
                    })),
                    this.mode === e.MODE_ACCELERATE && o >= 100 && (this.status = e.STATUS_IDLE,
                    this.app.off("update", this.onUpdate, this)),
                    this.mode === e.MODE_DECELERATE && 0 === o && this.stop()
                }
            }
            ,
            c(e, [{
                key: "mode",
                get: function t() {
                    return this._mode
                },
                set: function t(e) {
                    this._mode !== e && (this._mode = e)
                }
            }, {
                key: "speed",
                get: function t() {
                    return this._speed
                },
                set: function t(i) {
                    var s = this.data[this.mode];
                    if (s) {
                        var n = i / (100 / 3.6)
                          , r = (n = this.mode === e.MODE_ACCELERATE ? n : 1 - n) * s.totalTime
                          , a = s.angleSpeedCurve.value(r);
                        this._speed = i,
                        this.target.wheels.speed = a,
                        this.app.off("update", this.onUpdate, this)
                    }
                }
            }]),
            e
        }();
        e.default = o,
        o.MODE_ACCELERATE = 0,
        o.MODE_DECELERATE = 1,
        o.STATUS_IDLE = 0,
        o.STATUS_RUNNING = 1,
        o.ANGLE_SPEED_MAX = 2400
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = a(i(105))
          , n = a(i(55))
          , r = a(i(146));
        function a(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function h(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var c = function(e) {
            function i(t) {
                var i;
                return (i = e.call(this, t) || this).manager = null,
                i.bit = n.default.BIT_DIALOG,
                i.title = t.name,
                i.type = t.type,
                i.description = t.description,
                i.imgSrc = t.imgSrc,
                i.thumbSrc = t.thumbSrc,
                i.videoSrc = t.videoSrc,
                i.viewId = t.viewId,
                i
            }
            h(i, e);
            var a = i.prototype;
            return a.focus = function t() {
                var e = this.manager, i = e.app, n = e.camera, a = e.store, h;
                n.views.get(this.viewId).type === r.default.Hg && n.views.switch(this.viewId),
                i.sdk.send("jmyd1d1d:annotations:" + this.uid + ":select"),
                i.sdk.send("jmyd1d1d:annotations:select", (0,
                s.default)(this, ["uid", "title", "type", "description", "imgSrc", "videoSrc", "thumbSrc", "viewId"])),
                i.store.annotations.customDialog || a.select(this.uid)
            }
            ,
            a.onFocus = function e() {
                this.manager.app.on(t.Lg, this.onUpdateScreenPosition, this)
            }
            ,
            a.onBlur = function e() {
                this.manager.app.off(t.Lg, this.onUpdateScreenPosition, this)
            }
            ,
            a.onUpdateScreenPosition = function t() {
                var e = this.manager.camera
                  , s = i.vecA;
                e && (e.Bc.camera.hc(this.Bc.getPosition(), s),
                this.manager.app.store.annotations.updateScreenPosition(s.x, s.y))
            }
            ,
            i
        }(n.default);
        e.default = c,
        c.vecA = new t.ut,
        c.vecB = new t.ut,
        c.vecC = new t.ut
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        var s;
        function n(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        e.__esModule = !0,
        e.default = void 0;
        var r = function(e) {
            function i(i) {
                var s;
                return (s = e.call(this, i) || this).Bc.light.castShadows = !1,
                s.Bc.light.shadowUpdateMode = t.Ch,
                s
            }
            return n(i, e),
            i
        }(i(15).oc);
        e.default = r
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = n(i(106));
    function n(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function r(t) {
        return function() {
            var e = this
              , i = arguments;
            return new Promise(function(s, n) {
                var r = t.apply(e, i);
                function a(t, e) {
                    try {
                        var i = r[t](e)
                          , a = i.value
                    } catch (t) {
                        return void n(t)
                    }
                    i.done ? s(a) : Promise.resolve(a).then(h, c)
                }
                function h(t) {
                    a("next", t)
                }
                function c(t) {
                    a("throw", t)
                }
                h()
            }
            )
        }
    }
    var a, h = new (function() {
        function t() {
            this.data = {
                eventChange: [],
                stateChange: []
            },
            this.pollTime = 3e4,
            this.uid = null,
            this._pan = !1,
            this._count = 0,
            this._recorderUid = this.guid(),
            this._tempOnceData = {
                start: {},
                move: [],
                end: {}
            },
            this.handleMouseDown = this._handleMouseDown.bind(this),
            this.handleMouseMove = this._handleMouseMove.bind(this),
            this.handleMouseUp = this._handleMouseUp.bind(this),
            this.handleTouchStart = this._handleTouchStart.bind(this),
            this.handleTouchMove = this._handleTouchMove.bind(this),
            this.handleTouchEnd = this._handleTouchEnd.bind(this),
            this.handleUnload = this._handleUnload.bind(this)
        }
        var e = t.prototype;
        return e.guid = function t() {
            function e() {
                return (65536 * (1 + Math.random()) | 0).toString(16).substring(1)
            }
            return e() + e() + e() + e() + e() + e() + e() + e()
        }
        ,
        e.attach = function t(e) {
            var i = this;
            this.app = e,
            window.addEventListener("mousedown", this.handleMouseDown, !1),
            window.addEventListener("mousemove", this.handleMouseMove, !1),
            window.addEventListener("mouseup", this.handleMouseUp, !1),
            window.addEventListener("touchstart", this.handleTouchStart, !1),
            window.addEventListener("touchmove", this.handleTouchMove, !1),
            window.addEventListener("touchend", this.handleTouchEnd, !1),
            window.addEventListener("unload", this.handleUnload, !1),
            window.addEventListener("beforeunload", this.handleUnload, !1),
            this.timer = setInterval(function() {
                i.saveData()
            }, this.pollTime)
        }
        ,
        e.detach = function t(e) {
            this.app = null,
            window.removeEventListener("mousedown", this.handleMouseDown, !1),
            window.removeEventListener("mousemove", this.handleMouseMove, !1),
            window.removeEventListener("mouseup", this.handleMouseUp, !1),
            window.removeEventListener("touchstart", this.handleTouchStart, !1),
            window.removeEventListener("touchmove", this.handleTouchMove, !1),
            window.removeEventListener("touchend", this.handleTouchEnd, !1),
            window.removeEventListener("unload", this.handleUnload, !1),
            window.removeEventListener("beforeunload", this.handleUnload, !1),
            this.timer && clearInterval(this.timer)
        }
        ,
        e.saveData = function t() {
            this.ajax({
                type: 1,
                uid: this.uid,
                recorderUid: this._recorderUid,
                timestamp: Date.now(),
                data: this.data
            }),
            this.clearData()
        }
        ,
        e.clearData = function t() {
            this.data = {
                eventChange: [],
                stateChange: []
            }
        }
        ,
        e.saveStateChange = function t() {
            this.count++,
            this.data.stateChange.push(this.getStateData())
        }
        ,
        e.saveEventData = function t(e) {
            var i;
            switch (e) {
            case "start":
                i = this.getEventStartOrEndData(),
                this._tempOnceData.start = i;
                break;
            case "move":
                i = this.getEventData(),
                this._tempOnceData.move.push(i);
                break;
            case "end":
                this.count++,
                i = this.getEventStartOrEndData(),
                this._tempOnceData.end = i,
                this.data.eventChange.push(this._tempOnceData),
                this._tempOnceData = {
                    start: {},
                    move: [],
                    end: {}
                }
            }
        }
        ,
        e.getEventStartOrEndData = function t() {
            return Object.assign({}, this.getEventData(), this.getStateData())
        }
        ,
        e.getEventData = function t() {
            return {
                event: this.eventData || {
                    x: 0,
                    y: 0
                }
            }
        }
        ,
        e.getStateData = function t() {
            var e = this.app.camera.Bc;
            return {
                timestamp: Date.now(),
                camera: {
                    position: Array.from(e.getLocalPosition().data),
                    rotation: e.getLocalRotation()
                },
                state: this.app.getState()
            }
        }
        ,
        e._handleUnload = function() {
            var t = r(regeneratorRuntime.mark(function t(e) {
                return regeneratorRuntime.wrap(function t(e) {
                    for (; ; )
                        switch (e.prev = e.next) {
                        case 0:
                            if (!this._unloadLock) {
                                e.next = 2;
                                break
                            }
                            return e.abrupt("return");
                        case 2:
                            return this._unloadLock = !0,
                            this.saveData(),
                            this.ajax({
                                type: 2,
                                uid: this.uid,
                                recorderUid: this._recorderUid,
                                data: {
                                    userLeaveTimestamp: Date.now()
                                }
                            }, !1),
                            e.abrupt("return", !1);
                        case 6:
                        case "end":
                            return e.stop()
                        }
                }, t, this)
            }));
            return function e(i) {
                return t.apply(this, arguments)
            }
        }(),
        e._handleMouseDown = function t(e) {
            this._pan = !0,
            this._mouseEvent(e, "start")
        }
        ,
        e._handleMouseMove = function t(e) {
            this._pan && this._mouseEvent(e, "move")
        }
        ,
        e._handleMouseUp = function t(e) {
            this._pan = !1,
            this._mouseEvent(e, "end")
        }
        ,
        e._mouseEvent = function t(e, i) {
            this.eventData = {
                x: e.x,
                y: e.y
            },
            this.saveEventData(i)
        }
        ,
        e._handleTouchStart = function t(e) {
            this._pan = !0,
            this._touchEvent(e, "start")
        }
        ,
        e._handleTouchMove = function t(e) {
            this._pan && this._touchEvent(e, "move")
        }
        ,
        e._handleTouchEnd = function t(e) {
            this._pan = !1,
            this._touchEvent(e, "end", !0)
        }
        ,
        e._touchEvent = function t(e, i, s) {
            this.eventData = [];
            for (var n = 0; n < e.touches.length; n++)
                this.eventData.push({
                    x: e.touches[n].screenX,
                    y: e.touches[n].screenY
                });
            "end" === i && s && this._tempOnceData.move.slice(-1)[0] && (this.eventData = this._tempOnceData.move.slice(-1)[0].event),
            this.saveEventData(i)
        }
        ,
        e.ajax = function t(e, i) {
            function s() {
                return window.XMLHttpRequest ? new XMLHttpRequest : new ActiveXObject("MicroSoft.XMLHTTP")
            }
            void 0 === i && (i = !0);
            var n = s();
            n.open("POST", "https://log.jmyd1d1d.com/scene/b", i),
            n.setRequestHeader("Content-Type", "application/json;charset=UTF-8"),
            n.send(JSON.stringify(e))
        }
        ,
        t
    }());
    e.default = h
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = d(i(72))
          , n = i(104)
          , r = i(31)
          , a = i(142)
          , h = i(144)
          , c = d(i(400))
          , o = d(i(55))
          , u = d(i(367))
          , f = d(i(401));
        function d(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function l(t, e) {
            for (var i = 0; i < e.length; i++) {
                var s = e[i];
                s.enumerable = s.enumerable || !1,
                s.configurable = !0,
                "value"in s && (s.writable = !0),
                Object.defineProperty(t, s.key, s)
            }
        }
        function b(t, e, i) {
            return e && l(t.prototype, e),
            i && l(t, i),
            t
        }
        function v(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        function m(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }
        var g = function(e) {
            function i(i, s) {
                var n;
                return (n = e.call(this, i, s.name, s.uid) || this).type = "panorama",
                n.usedPrefilteredCubeMap = !1,
                n.Bc = new t.Entity("Panorama Scene " + n.uid + " Root"),
                n.defaultView = n.app.camera.views.add((0,
                r.parsePanoramaDefaultViewData)(s.data)),
                n.annotations = new c.default(i,m(n)),
                n.annotations.bits = o.default.BIT_DIALOG | o.default.BIT_ANCHOR,
                n.annotations.setCamera(n.app.camera),
                n.panoramaData = s,
                n.cubemapAsset = n.app.assets.cubemaps.add((0,
                r.parseCubemapData)(s)),
                n.cubemapAsset.loadFaces = !0,
                n.assets.push(n.cubemapAsset),
                n.app.root.addChild(n.Bc),
                n.entryAnimation = !0,
                n.time = 160,
                (0,
                a.parseCubemapTextureCompression)(i, n.cubemapAsset, 512),
                n
            }
            v(i, e);
            var s = i.prototype;
            return s.prepareAnnotations = function t() {
                var e = this;
                if (!(this.annotations._list.length > 0)) {
                    var i = this.panoramaData
                      , s = this.defaultView;
                    i.data.anchors.forEach(function(t) {
                        var i, n = (0,
                        r.parsePanoramaAnnotationViewData)(t);
                        switch (n.fov = s.fov,
                        n.fovMin = s.fovMin,
                        n.fovMax = s.fovMax,
                        e.app.camera.views.add(n),
                        t.type) {
                        case 0:
                            (i = (0,
                            r.parsePanoramaAnchorData)(t)).viewId = n.uid,
                            i.meshInstance = e.meshInstance,
                            e.annotations.create(o.default.BIT_ANCHOR, i);
                            break;
                        case 1:
                            (i = (0,
                            r.parsePanoramaAnnotationData)(t)).viewId = n.uid,
                            i.meshInstance = e.meshInstance,
                            e.annotations.create(o.default.BIT_DIALOG, i)
                        }
                    })
                }
            }
            ,
            s.setScene = function e(i) {
                for (var s in i) {
                    var n = i[s];
                    ["fogColor", "ambientLight"].includes(s) && (n = new (Function.prototype.bind.apply(t.D, [null].concat(i[s])))),
                    this.app.scene[s] = n
                }
            }
            ,
            s.setCamera = function t(e) {
                for (var i in e)
                    this.app.camera.Bc.script.lookCamera[i] = e[i],
                    ["yaw", "pitch"].includes(i) && (this.app.camera.Bc.script.lookCamera["_" + i] = e[i])
            }
            ,
            s.toggleLookCamera = function t(e) {
                var i = this.app.camera.Bc.script
                  , s = i.orbitCamera
                  , n = i.orbitCameraMouseInput
                  , r = i.orbitCameraTouchInput
                  , a = i.lookCamera
                  , h = i.lookCameraMouseInput
                  , c = i.lookCameraTouchInput;
                s && (s.enabled = !e,
                n.enabled = !e,
                r.enabled = !e),
                a.enabled = e,
                h.enabled = e,
                c.enabled = e
            }
            ,
            s.onUpdate = function t(e) {
                var s = this;
                this._t++,
                this._t >= this.time && (this.app.off("update", this.onUpdate, this),
                this.app.once("frameend", function() {
                    return s.app.rd = !0
                }),
                this.app.sdk && this.app.sdk.send("jmyd1d1d:panorama:animation:end", !0));
                var n = this.panoramaData.data;
                this._fov -= (i.START_FOV - n.fovs.fov) / this.time,
                this._picth += (i.START_PITCH - n.positions.pitch) / -138e4 * Math.pow(this._t, 2),
                this._yaw -= (this._startYaw - n.positions.yaw) / this.time,
                this.app.camera.Bc.camera.fov = this._fov,
                this.app.camera.Bc.setLocalEulerAngles(this._picth, this._yaw, 0),
                this.app.scene.skyboxIntensity += 1 / this.time,
                this.app.rd = !0
            }
            ,
            s.toggleModelEntity = function t(e) {
                this.app.model && this.app.model.Bc.model.meshInstances && (this.app.model.Bc.enabled = e),
                this.app.ground.root.enabled = e
            }
            ,
            s.onEnable = function e(s) {
                s && "panorama" !== s.type && (i.lastNotParnoramaScene = s.uid,
                i.defaultScenes.skyboxIntensity = this.app.scene.skyboxIntensity,
                i.defaultCameras.rotateEnbaled = this.app.camera.Bc.script.cameraRotate.enabled,
                i.defaultCameras.fov = this.app.camera.Bc.camera.fov,
                i.defaultCameras.position = this.app.camera.Bc.getPosition().data,
                this.app.model && (this.app.model.billboards && (i.defaultEnableds.billboards = this.app.model.billboards.root.enabled),
                this.app.differ && this.app.differ.target && (i.defaultEnableds.differSize = this.app.differ.size,
                this.app.differ.size = !1),
                this.app.model.sizeMarker && (i.defaultEnableds.sizeMarker = this.app.model.sizeMarker.root.enabled,
                this.app.model.sizeMarker.toggle(!1)))),
                this.app.scene.setSkybox(this.cubemapAsset.resources),
                this.prepareAnnotations(),
                this.toggleLookCamera(!0),
                this.setScene(this.panoramaData.data.rendering),
                this.app.scene.skyboxMip = 0,
                this.app.scene.skyboxIntensity = 1,
                this.app.scene.ambientLight = new t.D(.2,.2,.2),
                this.app.camera.Bc.script.cameraRotate && (this.app.camera.Bc.script.cameraRotate.enabled = !1),
                this.setCamera(this.panoramaData.data.fovs),
                this.setCamera(this.panoramaData.data.positions),
                this.app.camera.Bc.setPosition(0, 0, 0),
                this.toggleModelEntity(!1),
                this.annotations.toggle(!0),
                s && "panorama" === s.type || !this.entryAnimation || (this._t = 0,
                this._fov = i.START_FOV,
                this._picth = i.START_PITCH,
                this._startYaw = i.START_YAW + this.panoramaData.data.positions.yaw,
                this._yaw = this._startYaw,
                this.app.scene.skyboxIntensity = 0,
                this.app.on("update", this.onUpdate, this)),
                this.app.assets.useCubemapProgressive && this.setTextureSize(this.app.assets.useCubemapProgressiveSize)
            }
            ,
            s.onDisable = function t() {
                var e;
                this.app.off("update", this.onUpdate, this),
                this.setScene(i.defaultScenes),
                this.toggleModelEntity(!0),
                this.annotations.toggle(!1),
                this.app.model && (this.app.model.sizeMarker && this.app.model.sizeMarker.toggle(i.defaultEnableds.sizeMarker),
                this.app.model.billboards && this.app.model.billboards.toggle(i.defaultEnableds.billboards),
                this.app.differ && this.app.differ.target && (this.app.differ.size = i.defaultEnableds.differSize)),
                this.toggleLookCamera(!1),
                this.app.camera.Bc.camera.fov = i.defaultCameras.fov,
                (e = this.app.camera.Bc).setPosition.apply(e, i.defaultCameras.position),
                this.app.camera.Bc.script.cameraRotate && (this.app.camera.Bc.script.cameraRotate.enabled = i.cameraRotateEnabled)
            }
            ,
            s.setTextureSize = function t(e) {
                var i = this;
                void 0 === e && (e = 0);
                var s = 0
                  , r = 6
                  , a = []
                  , h = this.app;
                this.cubemapAsset.data.textures.forEach(function(t, r) {
                    var c = h.assets.get(t)
                      , o = c.getPreferredAsset({
                        preferredSize: e
                    })
                      , u = (0,
                    n.closePowerOfTwo)(c.data.width)
                      , f = function t(e) {
                        if (s++,
                        a[r] = e.resource.getSource(),
                        h.sdk && h.sdk.send("jmyd1d1d:panorama:" + i.uid + ":progressive:progress", s / 6),
                        6 === s) {
                            var n = i.cubemapAsset.resource;
                            n._width = u,
                            n._height = u,
                            n._minFilterDirty = !0,
                            n._magFilterDirty = !0,
                            n._addressUDirty = !0,
                            n._addressVDirty = !0,
                            n.setSource(a),
                            h.camera.transientRender(),
                            i.cubemapAsset.data.textures.forEach(function(t) {
                                var e = h.assets.get(t)
                                  , i = e.getPreferredAsset({
                                    preferredSize: 512
                                });
                                e.id !== i.id && i.loaded && i.unload()
                            })
                        }
                    };
                    o.ready(f),
                    h.assets.load(o)
                })
            }
            ,
            b(i, [{
                key: "meshInstance",
                get: function e() {
                    return i.defaultMeshInstance || (i.defaultMeshInstance = new t.Yh(new t.Gh,t.Wh(this.app.Br),this.app.scene.defaultMaterial)),
                    i.defaultMeshInstance
                }
            }]),
            i
        }(s.default);
        e.default = g,
        g.defaultScenes = {
            skyboxMip: 4,
            toneMapping: t.Wr,
            exposure: 1,
            gammaCorrection: t.hh,
            ambientLight: [.4, .4, .4, 1],
            fog: t.Ta,
            fogColor: [0, 0, 0, 1],
            fogDensity: 0,
            fogStart: 1,
            fogEnd: 1e3,
            skyboxIntensity: .68
        },
        g.defaultCameras = {
            rotateEnbaled: !1,
            fov: 45,
            position: [0, 0, 0]
        },
        g.defaultEnableds = {
            sizeMarker: !1,
            billboards: !1,
            differSize: !1
        },
        g.START_FOV = 150,
        g.START_ANGLE = 120,
        g.START_PITCH = -90,
        g.START_YAW = 180,
        g.lastNotParnoramaScene = null,
        g.defaultMeshInstance = null
    }
    ).call(this, i(6))
}
, function(t, e) {
    function i(t, e, i) {
        for (var s = i - 1, n = t.length; ++s < n; )
            if (t[s] === e)
                return s;
        return -1
    }
    t.exports = i
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = a(i(72))
      , n = i(31)
      , r = i(142);
    function a(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function h(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var c = function(t) {
        function e(e, i) {
            var s;
            return (s = t.call(this, e, i.name, i.uid) || this).cubemapAsset = s.app.assets.cubemaps.add((0,
            n.parseCubemapData)(i), {
                rgbm: i.rgbm
            }),
            (0,
            r.parseCubemapTextureCompression)(e, s.cubemapAsset, 1024),
            s.assets.push(s.cubemapAsset),
            s
        }
        var i;
        return h(e, t),
        e.prototype.onEnable = function t() {
            this.app.assets.cubemaps.setSkybox(this.cubemapAsset)
        }
        ,
        e
    }(s.default);
    e.default = c
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = {
        name: "GridGround",
        uid: "fdbf3666fe8434807963be6c702c00ef2c605270",
        material: {
            uid: "e7ff6d5a57f4508e6893e2a8f0bbf4c7dc4d15bf",
            name: "GridGround",
            data: {
                diffuseMap: "d3157b8742f7fd29fff0755274d28b79e0839f48",
                diffuseMapTiling: [12, 12],
                aoMap: "5d4a3e068a9bb792f033998e1ea12efd238df04a",
                aoMapChannel: "r",
                opacityMap: "5d4a3e068a9bb792f033998e1ea12efd238df04a",
                opacityMapChannel: "g",
                blendType: 6
            }
        },
        Bc: {
            scale: [10, 1, 10]
        }
    };
    e.default = s
}
, function(t, e, i) {
    "use strict";
    function s(t) {
        return function() {
            var e = this
              , i = arguments;
            return new Promise(function(s, n) {
                var r = t.apply(e, i);
                function a(t, e) {
                    try {
                        var i = r[t](e)
                          , a = i.value
                    } catch (t) {
                        return void n(t)
                    }
                    i.done ? s(a) : Promise.resolve(a).then(h, c)
                }
                function h(t) {
                    a("next", t)
                }
                function c(t) {
                    a("throw", t)
                }
                h()
            }
            )
        }
    }
    function n(t, e) {
        for (var i = 0; i < e.length; i++) {
            var s = e[i];
            s.enumerable = s.enumerable || !1,
            s.configurable = !0,
            "value"in s && (s.writable = !0),
            Object.defineProperty(t, s.key, s)
        }
    }
    function r(t, e, i) {
        return e && n(t.prototype, e),
        i && n(t, i),
        t
    }
    e.__esModule = !0,
    e.default = void 0;
    var a, h = function() {
        function t(t) {
            var e = this;
            void 0 === t && (t = {}),
            this._orinSize = t.size || "200",
            this._orinSize = this._orinSize.toString(),
            this._images = t.images.map(function(t) {
                return t + "?x-oss-process=image/resize,w_" + e._orinSize
            }),
            this.dom = t.dom,
            this.dom.className += " viewer-covers-root",
            this.onStart = this._onStart.bind(this),
            this.onMove = this._onMove.bind(this),
            this.onEnd = this._onEnd.bind(this),
            this.onMousedown = this._onMousedown.bind(this),
            this.onMouseMove = this._onMouseMove.bind(this),
            this.onMouseup = this._onMouseup.bind(this),
            this.onMousewheel = this._onMousewheel.bind(this),
            this._pan = !1,
            this._startX = 0,
            this._currentImg = 0,
            this._imgDoms = [],
            this._scale = 1,
            this._enabled = !1,
            this._stopTime = 3e3
        }
        var e = t.prototype;
        return e.attach = function t() {
            return this.dom.addEventListener("touchstart", this.onStart, !1),
            this.dom.addEventListener("touchmove", this.onMove, !1),
            this.dom.addEventListener("touchend", this.onEnd, !1),
            this.dom.addEventListener("mousedown", this.onMousedown, !1),
            this.dom.addEventListener("mousemove", this.onMouseMove, !1),
            this.dom.addEventListener("mouseup", this.onMouseup, !1),
            this.dom.addEventListener("mousewheel", this.onMousewheel, !1),
            this
        }
        ,
        e.detach = function t() {
            return this.dom.removeEventListener("touchstart", this.onStart, !1),
            this.dom.removeEventListener("touchmove", this.onMove, !1),
            this.dom.removeEventListener("touchend", this.onEnd, !1),
            this.dom.removeEventListener("mousedown", this.onMousedown, !1),
            this.dom.removeEventListener("mousemove", this.onMouseMove, !1),
            this.dom.removeEventListener("mouseup", this.onMouseup, !1),
            this.dom.removeEventListener("mousewheel", this.onMousewheel, !1),
            window.cancelAnimFrame && this._timer && cancelAnimFrame(this._timer),
            this
        }
        ,
        e.createList = function t() {
            var e = this;
            return this._images.slice(1).map(function(t, i) {
                var s = document.createElement("div");
                return s.className = "img-box",
                s.style.backgroundImage = "url(//" + t + ")",
                s.style.display = 0 === i ? "block" : "none",
                e._imgDoms.push(s),
                e.dom.appendChild(s),
                s
            }),
            this
        }
        ,
        e.removeList = function t() {
            return this.dom.innerHTML = "",
            this
        }
        ,
        e.autoRotate = function t(e) {
            return this.initRequestAnimFrameEvent(),
            this._enabled = !0,
            this._frame = 0,
            this._speed = e || 5,
            this._timer = window.requestAnimFrame(this.update.bind(this)),
            this
        }
        ,
        e.initRequestAnimFrameEvent = function t() {
            window.requestAnimFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame,
            window.cancelAnimFrame = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame
        }
        ,
        e.update = function t() {
            return this._frame++,
            this._frame >= this._speed && this._enabled && !this._pan && (this._frame = 0,
            this._currentImg++,
            this._currentImg >= this._images.length && (this._currentImg = 0),
            this.show(this._currentImg)),
            this._timer = window.requestAnimFrame(this.update.bind(this)),
            this
        }
        ,
        e._onMousedown = function t(e) {
            e.preventDefault(),
            this.pan = !0,
            this._startX = e.clientX
        }
        ,
        e._onMouseMove = function t(e) {
            if (e.preventDefault(),
            this._pan) {
                var i = e
                  , s = parseInt(i.clientX - this._startX)
                  , n = this._currentImg;
                s > 10 && (this._startX = i.clientX,
                --n < 0 && (n = this._images.length - 1),
                this.show(n)),
                s < -10 && (this._startX = i.clientX,
                ++n > this._images.length - 1 && (n = 0),
                this.show(n))
            }
        }
        ,
        e._onMouseup = function t(e) {
            e.preventDefault(),
            this.pan = !1
        }
        ,
        e._onMousewheel = function t(e) {
            e.preventDefault()
        }
        ,
        e._onStart = function t(e) {
            e.preventDefault(),
            this.pan = !0,
            1 === e.touches.length ? this._startX = e.touches[0].clientX : 2 === e.touches.length && (this._startScale = this.getPinchDistance(e.touches[0], e.touches[1]))
        }
        ,
        e._onMove = function t(e) {
            if (e.preventDefault(),
            this._pan)
                if (1 === e.touches.length) {
                    var i = e.touches[0]
                      , s = parseInt(i.clientX - this._startX)
                      , n = this._currentImg;
                    s > 10 && (this._startX = i.clientX,
                    --n < 0 && (n = this._images.length - 1),
                    this.show(n)),
                    s < -10 && (this._startX = i.clientX,
                    ++n > this._images.length - 1 && (n = 0),
                    this.show(n))
                } else
                    e.touches.length
        }
        ,
        e._onEnd = function t(e) {
            e.preventDefault(),
            this.pan = !1
        }
        ,
        e.getPinchDistance = function t(e, i) {
            var s = e.clientX - i.clientX
              , n = e.clientY - i.clientY;
            return Math.sqrt(s * s + n * n)
        }
        ,
        e.show = function t(e) {
            return this._currentImg = e,
            this._imgDoms.forEach(function(t) {
                return t.style.display = "none"
            }),
            this._imgDoms[e].style.display = "block",
            this
        }
        ,
        e.loadHighImage = function t(e) {
            var i = this;
            void 0 === e && (e = {});
            var n = e.size || 640;
            n = n.toString();
            var r = 0;
            return this._images.forEach(function() {
                var t = s(regeneratorRuntime.mark(function t(s, a) {
                    return regeneratorRuntime.wrap(function t(h) {
                        for (; ; )
                            switch (h.prev = h.next) {
                            case 0:
                                return s = s.replace(i._orinSize, n),
                                h.next = 3,
                                i.load(s);
                            case 3:
                                r++,
                                e.onProgress && e.onProgress(+(r / i._images.length).toFixed(2), a),
                                i._imgDoms[a].style.backgroundImage = "url(//" + s + ")";
                            case 6:
                            case "end":
                                return h.stop()
                            }
                    }, t, this)
                }));
                return function(e, i) {
                    return t.apply(this, arguments)
                }
            }()),
            this
        }
        ,
        e.preloadImages = function() {
            var t = s(regeneratorRuntime.mark(function t(e) {
                var i = this, n, r, a;
                return regeneratorRuntime.wrap(function t(h) {
                    for (; ; )
                        switch (h.prev = h.next) {
                        case 0:
                            return void 0 === e && (e = function t() {}
                            ),
                            n = 0,
                            r = this._images,
                            h.next = 5,
                            this.load(r[0]);
                        case 5:
                            return (a = document.createElement("div")).className = "img-box",
                            a.style.backgroundImage = "url(//" + r[0] + ")",
                            this._imgDoms.push(a),
                            this.dom.appendChild(a),
                            e(+(++n / r.length).toFixed(2), 0),
                            r.slice(1).forEach(function() {
                                var t = s(regeneratorRuntime.mark(function t(s, a) {
                                    return regeneratorRuntime.wrap(function t(h) {
                                        for (; ; )
                                            switch (h.prev = h.next) {
                                            case 0:
                                                return h.next = 2,
                                                i.load(s);
                                            case 2:
                                                e(+(++n / r.length).toFixed(2), a);
                                            case 4:
                                            case "end":
                                                return h.stop()
                                            }
                                    }, t, this)
                                }));
                                return function(e, i) {
                                    return t.apply(this, arguments)
                                }
                            }()),
                            h.abrupt("return", this);
                        case 14:
                        case "end":
                            return h.stop()
                        }
                }, t, this)
            }));
            return function e(i) {
                return t.apply(this, arguments)
            }
        }(),
        e.load = function t(e) {
            return new Promise(function(t) {
                var i = new Image;
                i.onload = t,
                i.src = "//" + e
            }
            )
        }
        ,
        r(t, [{
            key: "pan",
            get: function t() {
                return this._pan
            },
            set: function t(e) {
                var i = this;
                this._pan = e,
                e || (this._enabled = !1,
                this._ttt && clearTimeout(this._ttt),
                this._ttt = setTimeout(function() {
                    return i._enabled = !0
                }, this._stopTime))
            }
        }]),
        t
    }();
    e.default = h
}
, function(t, e, i) {}
, , function(t, e, i) {
    t.exports = i(50)(3)
}
, function(t, e, i) {
    var s = i(421);
    function n(t, e, i) {
        "__proto__" == e && s ? s(t, e, {
            configurable: !0,
            enumerable: !0,
            value: i,
            writable: !0
        }) : t[e] = i
    }
    t.exports = n
}
, function(t, e) {
    function i(t, e) {
        return t === e || t != t && e != e
    }
    t.exports = i
}
, function(t, e) {
    var i = 9007199254740991
      , s = /^(?:0|[1-9]\d*)$/;
    function n(t, e) {
        var n = typeof t;
        return !!(e = null == e ? i : e) && ("number" == n || "symbol" != n && s.test(t)) && t > -1 && t % 1 == 0 && t < e
    }
    t.exports = n
}
, function(t, e) {
    function i(t) {
        var e = typeof t;
        return null != t && ("object" == e || "function" == e)
    }
    t.exports = i
}
, function(t, e) {
    var i = 9007199254740991;
    function s(t) {
        return "number" == typeof t && t > -1 && t % 1 == 0 && t <= i
    }
    t.exports = s
}
, function(t, e, i) {
    var s = i(428)
      , n = i(429);
    function r(t, e, i, a, h) {
        var c = -1
          , o = t.length;
        for (i || (i = n),
        h || (h = []); ++c < o; ) {
            var u = t[c];
            e > 0 && i(u) ? e > 1 ? r(u, e - 1, i, a, h) : s(h, u) : a || (h[h.length] = u)
        }
        return h
    }
    t.exports = r
}
, function(t, e, i) {
    var s = i(433)
      , n = Math.max;
    function r(t, e, i) {
        return e = n(void 0 === e ? t.length - 1 : e, 0),
        function() {
            for (var r = arguments, a = -1, h = n(r.length - e, 0), c = Array(h); ++a < h; )
                c[a] = r[e + a];
            a = -1;
            for (var o = Array(e + 1); ++a < e; )
                o[a] = r[a];
            return o[e] = i(c),
            s(t, this, o)
        }
    }
    t.exports = r
}
, function(t, e) {
    function i(t) {
        return t
    }
    t.exports = i
}
, function(t, e) {
    var i, s = Object.prototype.toString;
    function n(t) {
        return s.call(t)
    }
    t.exports = n
}
, function(t, e) {
    function i() {
        return !1
    }
    t.exports = i
}
, function(t, e) {
    function i() {
        return !1
    }
    t.exports = i
}
, function(t, e) {
    function i() {
        return !1
    }
    t.exports = i
}
, function(t, e, i) {
    var s, n, r = i(436)(i(361));
    t.exports = r
}
, function(t, e) {
    function i(t) {
        return t
    }
    t.exports = i
}
, function(t, e, i) {
    var s = i(441)
      , n = i(384)
      , r = i(385);
    function a(t, e) {
        return r(n(t, e, s), t + "")
    }
    t.exports = a
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = i(394)
      , n = r(i(443));
    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    (0,
    s.configure)({
        enforceActions: "observed",
        isolateGlobalState: !0
    });
    var a, h = {
        annotations: new n.default
    };
    e.default = h
}
, function(t, e, i) {
    t.exports = i(50)(1)
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = a(i(141))
      , n = r(i(152));
    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function a(t) {
        if (t && t.__esModule)
            return t;
        var e = {};
        if (null != t)
            for (var i in t)
                if (Object.prototype.hasOwnProperty.call(t, i)) {
                    var s = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(t, i) : {};
                    s.get || s.set ? Object.defineProperty(e, i, s) : e[i] = t[i]
                }
        return e.default = t,
        e
    }
    function h(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var c = function(t) {
        function e() {
            return t.call(this) || this
        }
        h(e, t);
        var i = e.prototype;
        return i.componentDidMount = function t() {
            this.video.setAttribute("webkit-playsinline", "true"),
            this.video.setAttribute("x-webkit-airplay", "true"),
            this.video.setAttribute("x5-video-player-type", "h5"),
            this.video.setAttribute("x5-video-player-fullscreen", "true"),
            this.video.setAttribute("x5-video-ignore-metadata", "true")
        }
        ,
        i.handleClick = function t(e) {
            this.props.onClick(e)
        }
        ,
        i.render = function t() {
            var e = this
              , i = this.props
              , n = i.src
              , r = i.onLoadStart
              , a = i.onCanPlay
              , h = i.onRef;
            return s.default.createElement("video", {
                ref: function t(i) {
                    e.video = i,
                    h(i)
                },
                className: "gc-video",
                src: n,
                playsInline: !0,
                controls: !0,
                preload: "true",
                loop: !0,
                crossOrigin: "*",
                onClick: this.handleClick.bind(this),
                onLoadStart: r,
                onCanPlay: a
            })
        }
        ,
        e
    }(s.Component);
    e.default = c,
    c.propTypes = {
        onClick: n.default.func,
        onLoadStart: n.default.func,
        onCanPlay: n.default.func,
        onRef: n.default.func
    },
    c.defaultProps = {
        onClick: function t() {},
        onLoadStart: function t() {},
        onCanPlay: function t() {},
        onRef: function t() {}
    }
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(15)
          , n = i(73)
          , r = h(i(467))
          , a = h(i(468));
        function h(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function c(t, e) {
            for (var i = 0; i < e.length; i++) {
                var s = e[i];
                s.enumerable = s.enumerable || !1,
                s.configurable = !0,
                "value"in s && (s.writable = !0),
                Object.defineProperty(t, s.key, s)
            }
        }
        function o(t, e, i) {
            return e && c(t.prototype, e),
            i && c(t, i),
            t
        }
        function u(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var f = function(e) {
            function i(i, s) {
                var h;
                return (h = e.call(this) || this).app = i,
                h.target = s,
                h.material = new t.uc,
                h.material.blend = !0,
                h.material.kn = t.he,
                h.material.Un = t.ue,
                h.material.depthWrite = !1,
                h.material.Hh = function(e) {
                    this.shader = new t.Mn(e,{
                        attributes: {
                            vertex_position: t.Yi,
                            vertex_normal: t.Xi
                        },
                        Mr: r.default,
                        Sr: "precision " + e.precision + " float;\n" + a.default
                    })
                }
                ,
                h.meshInstance = null,
                h.Bc.name = "Visual Box",
                h.Bc.model.model = h.createModel(),
                h.Bc.model.layers = [n.LAYERID_VISUALBOX],
                h.Bc.enabled = !1,
                h
            }
            u(i, e);
            var s = i.prototype;
            return s.createModel = function e() {
                var i = this.app.Br
                  , s = new t.Gh
                  , n = new t.Xh
                  , r = t.Wh(i)
                  , a = this.meshInstance = new t.Yh(new t.Gh,r,this.material);
                return n.graph = s,
                n.graph.addChild(a.node),
                n.meshInstances = [a],
                n
            }
            ,
            s.destroy = function t() {
                this.enabled = !1,
                e.prototype.destroy.call(this)
            }
            ,
            s.onUpdate = function t() {
                var e = i.vecA, s = i.vecB, n = i.vecC, r = i.vecD, a = this.target.Bc.getWorldTransform(), h, c = this.target.sizeMarker.obb._aabb, o = this.target.sizeMarker._diffHalfSize;
                r.set(0, o[1], -o[2]),
                n.set.apply(n, o),
                s.copy(c.center).add(r),
                e.copy(c.halfExtents).add(n).scale(2),
                a.transformPoint(s, s),
                this.Bc.setPosition(s),
                this.Bc.setLocalScale(e)
            }
            ,
            o(i, [{
                key: "enabled",
                get: function t() {
                    return this.Bc.enabled
                },
                set: function t(e) {
                    this.Bc.enabled !== e && (e ? this.app.on("update", this.onUpdate, this) : this.app.off("update", this.onUpdate, this),
                    this.Bc.enabled = e)
                }
            }]),
            i
        }(s.Xh);
        e.default = f,
        f.vecA = new t.ut,
        f.vecB = new t.ut,
        f.vecC = new t.ut,
        f.vecD = new t.ut,
        f.RED = new t.D(1,.4,.4,.6),
        f.GREEN = new t.D(.4,1,.4,.6)
    }
    ).call(this, i(6))
}
, function(t) {
    t.exports = {
        version: 2,
        intensity: 0,
        info: {
            face: "msyh",
            maps: [{
                width: 1024,
                height: 512
            }]
        },
        chars: {
            32: {
                id: 32,
                letter: " ",
                x: 1,
                y: 1,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 9.46875,
                xoffset: .166666666667,
                yoffset: .166666666667,
                scale: 48,
                range: .166666666667
            },
            33: {
                id: 33,
                letter: "!",
                x: 67,
                y: 1,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 10,
                xoffset: 11.3515625,
                yoffset: 4.3984375,
                scale: 1.95793499044,
                range: 4.0859375,
                bounds: [2.984375, -.3125, 7, 24.203125]
            },
            34: {
                id: 34,
                letter: '"',
                x: 133,
                y: 1,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 13.9375,
                xoffset: -1.95572916667,
                yoffset: -15.4479166667,
                scale: 6.3734439834,
                range: 1.25520833333,
                bounds: [3.3125, 16.703125, 10.640625, 24.234375]
            },
            35: {
                id: 35,
                letter: "#",
                x: 199,
                y: 1,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 20.421875,
                xoffset: 4.6484375,
                yoffset: 1.625,
                scale: 2.16949152542,
                range: 3.6875,
                bounds: [.5625, 2.0625, 19.640625, 24.1875]
            },
            36: {
                id: 36,
                letter: "$",
                x: 265,
                y: 1,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 18.765625,
                xoffset: 10.8697916667,
                yoffset: 8.66666666667,
                scale: 1.55780933063,
                range: 5.13541666667,
                bounds: [2.65625, -3.53125, 16.6875, 27.28125]
            },
            37: {
                id: 37,
                letter: "%",
                x: 331,
                y: 1,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 28.46875,
                xoffset: 2.94270833333,
                yoffset: 5.11458333333,
                scale: 1.85956416465,
                range: 4.30208333333,
                bounds: [1.359375, -.375, 27.171875, 24.5625]
            },
            38: {
                id: 38,
                letter: "&",
                x: 397,
                y: 1,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 27.84375,
                xoffset: 2.26822916667,
                yoffset: 4.71354166667,
                scale: 1.90216718266,
                range: 4.20572916667,
                bounds: [1.9375, -.390625, 27.171875, 24.609375]
            },
            39: {
                id: 39,
                letter: "'",
                x: 463,
                y: 1,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 8.203125,
                xoffset: .919270833333,
                yoffset: -15.4479166667,
                scale: 6.3734439834,
                range: 1.25520833333,
                bounds: [2.546875, 16.703125, 5.65625, 24.234375]
            },
            40: {
                id: 40,
                letter: "(",
                x: 529,
                y: 1,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 10.6875,
                xoffset: 13.4270833333,
                yoffset: 10.4505208333,
                scale: 1.61599158338,
                range: 4.95052083333,
                bounds: [2.390625, -5.5, 10.359375, 24.203125]
            },
            41: {
                id: 41,
                letter: ")",
                x: 595,
                y: 1,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 10.6875,
                xoffset: 15.4427083333,
                yoffset: 10.4505208333,
                scale: 1.61599158338,
                range: 4.95052083333,
                bounds: [.359375, -5.5, 8.359375, 24.203125]
            },
            42: {
                id: 42,
                letter: "*",
                x: 661,
                y: 1,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 14.5625,
                xoffset: .7421875,
                yoffset: -10.171875,
                scale: 3.98443579767,
                range: 2.0078125,
                bounds: [1.265625, 12.203125, 13.3125, 24.203125]
            },
            43: {
                id: 43,
                letter: "+",
                x: 727,
                y: 1,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 23.734375,
                xoffset: -1.28385416667,
                yoffset: .559895833333,
                scale: 3.01472031403,
                range: 2.65364583333,
                bounds: [3.9375, 2.09375, 19.859375, 18.015625]
            },
            44: {
                id: 44,
                letter: ",",
                x: 793,
                y: 1,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 7.703125,
                xoffset: 2.45052083333,
                yoffset: 5.82552083333,
                scale: 5.76360225141,
                range: 1.38802083333,
                bounds: [.65625, -4.4375, 5.546875, 3.890625]
            },
            45: {
                id: 45,
                letter: "-",
                x: 859,
                y: 1,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 13.84375,
                xoffset: -.903645833333,
                yoffset: -3.45052083333,
                scale: 5.2156196944,
                range: 1.53385416667,
                bounds: [2.4375, 8.40625, 11.640625, 10.765625]
            },
            46: {
                id: 46,
                letter: ".",
                x: 925,
                y: 1,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 7.703125,
                xoffset: -1.18489583333,
                yoffset: 1.08072916667,
                scale: 11.861003861,
                range: .674479166667,
                bounds: [1.859375, -.375, 5.90625, 3.609375]
            },
            47: {
                id: 47,
                letter: "/",
                x: 1,
                y: 67,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 13.671875,
                xoffset: 12.09375,
                yoffset: 8.71875,
                scale: 1.70099667774,
                range: 4.703125,
                bounds: [-.515625, -4.015625, 13.953125, 24.203125]
            },
            48: {
                id: 48,
                letter: "0",
                x: 67,
                y: 67,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 18.765625,
                xoffset: 7.27083333333,
                yoffset: 4.57552083333,
                scale: 1.91880074953,
                range: 4.16927083333,
                bounds: [1.421875, -.40625, 17.390625, 24.609375]
            },
            49: {
                id: 49,
                letter: "1",
                x: 133,
                y: 67,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 18.765625,
                xoffset: 6.65885416667,
                yoffset: 4.11979166667,
                scale: 1.94184576485,
                range: 4.11979166667,
                bounds: [2.8125, 0, 16.828125, 24.71875]
            },
            50: {
                id: 50,
                letter: "2",
                x: 199,
                y: 67,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 18.765625,
                xoffset: 7.28125,
                yoffset: 4.1015625,
                scale: 1.95047619048,
                range: 4.1015625,
                bounds: [1.65625, 0, 16.59375, 24.609375]
            },
            51: {
                id: 51,
                letter: "3",
                x: 265,
                y: 67,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 18.765625,
                xoffset: 7.36458333333,
                yoffset: 4.57552083333,
                scale: 1.91880074953,
                range: 4.16927083333,
                bounds: [2.234375, -.40625, 16.390625, 24.609375]
            },
            52: {
                id: 52,
                letter: "4",
                x: 331,
                y: 67,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 18.765625,
                xoffset: 7.18229166667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [.28125, 0, 17.625, 24.203125]
            },
            53: {
                id: 53,
                letter: "5",
                x: 397,
                y: 67,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 18.765625,
                xoffset: 6.765625,
                yoffset: 4.5078125,
                scale: 1.95047619048,
                range: 4.1015625,
                bounds: [2.765625, -.40625, 16.515625, 24.203125]
            },
            54: {
                id: 54,
                letter: "6",
                x: 463,
                y: 67,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 18.765625,
                xoffset: 7.04427083333,
                yoffset: 4.57552083333,
                scale: 1.91880074953,
                range: 4.16927083333,
                bounds: [1.84375, -.40625, 17.421875, 24.609375]
            },
            55: {
                id: 55,
                letter: "7",
                x: 529,
                y: 67,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 18.765625,
                xoffset: 6.79947916667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [1.46875, 0, 17.203125, 24.203125]
            },
            56: {
                id: 56,
                letter: "8",
                x: 595,
                y: 67,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 18.765625,
                xoffset: 7.27083333333,
                yoffset: 4.57552083333,
                scale: 1.91880074953,
                range: 4.16927083333,
                bounds: [1.65625, -.40625, 17.15625, 24.609375]
            },
            57: {
                id: 57,
                letter: "9",
                x: 661,
                y: 67,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 18.765625,
                xoffset: 7.34895833333,
                yoffset: 4.57552083333,
                scale: 1.91880074953,
                range: 4.16927083333,
                bounds: [1.5625, -.40625, 17.09375, 24.609375]
            },
            58: {
                id: 58,
                letter: ":",
                x: 727,
                y: 67,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 7.703125,
                xoffset: 8.12760416667,
                yoffset: 3.37760416667,
                scale: 2.6643538595,
                range: 3.00260416667,
                bounds: [1.859375, -.375, 5.90625, 17.640625]
            },
            59: {
                id: 59,
                letter: ";",
                x: 793,
                y: 67,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 7.703125,
                xoffset: 11.4140625,
                yoffset: 8.1171875,
                scale: 2.17409766454,
                range: 3.6796875,
                bounds: [.65625, -4.4375, 5.953125, 17.640625]
            },
            60: {
                id: 60,
                letter: "<",
                x: 859,
                y: 67,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 23.734375,
                xoffset: -.859375,
                yoffset: .7421875,
                scale: 2.90084985836,
                range: 2.7578125,
                bounds: [4.5625, 2.015625, 19.21875, 18.5625]
            },
            61: {
                id: 61,
                letter: "=",
                x: 925,
                y: 67,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 23.734375,
                xoffset: -1.28385416667,
                yoffset: .559895833333,
                scale: 3.01472031403,
                range: 2.65364583333,
                bounds: [3.9375, 5.265625, 19.859375, 14.84375]
            },
            62: {
                id: 62,
                letter: ">",
                x: 1,
                y: 133,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 23.734375,
                xoffset: -.869791666667,
                yoffset: .708333333333,
                scale: 2.90359168242,
                range: 2.75520833333,
                bounds: [4.5625, 2.046875, 19.21875, 18.578125]
            },
            63: {
                id: 63,
                letter: "?",
                x: 67,
                y: 133,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 15.453125,
                xoffset: 8.64583333333,
                yoffset: 4.46614583333,
                scale: 1.92601880878,
                range: 4.15364583333,
                bounds: [2.078125, -.3125, 13.859375, 24.609375]
            },
            64: {
                id: 64,
                letter: "@",
                x: 133,
                y: 133,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 33,
                xoffset: 1.9375,
                yoffset: 7.7890625,
                scale: 1.73265651438,
                range: 4.6171875,
                bounds: [2.828125, -3.171875, 30.234375, 24.53125]
            },
            65: {
                id: 65,
                letter: "A",
                x: 199,
                y: 133,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 22.515625,
                xoffset: 4.88541666667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [.359375, 0, 22.140625, 24.203125]
            },
            66: {
                id: 66,
                letter: "B",
                x: 265,
                y: 133,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 20.078125,
                xoffset: 5.36979166667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [3.125, 0, 18.40625, 24.203125]
            },
            67: {
                id: 67,
                letter: "C",
                x: 331,
                y: 133,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 21.40625,
                xoffset: 6.05208333333,
                yoffset: 4.57552083333,
                scale: 1.91880074953,
                range: 4.16927083333,
                bounds: [1.5625, -.40625, 19.6875, 24.609375]
            },
            68: {
                id: 68,
                letter: "D",
                x: 397,
                y: 133,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 24.375,
                xoffset: 3.15885416667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [3.125, 0, 22.828125, 24.203125]
            },
            69: {
                id: 69,
                letter: "E",
                x: 463,
                y: 133,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 17.59375,
                xoffset: 6.50260416667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [3.125, 0, 16.140625, 24.203125]
            },
            70: {
                id: 70,
                letter: "F",
                x: 529,
                y: 133,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 17,
                xoffset: 6.77604166667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [3.125, 0, 15.59375, 24.203125]
            },
            71: {
                id: 71,
                letter: "G",
                x: 595,
                y: 133,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 23.796875,
                xoffset: 5.18489583333,
                yoffset: 4.57552083333,
                scale: 1.91880074953,
                range: 4.16927083333,
                bounds: [1.5625, -.40625, 21.421875, 24.609375]
            },
            72: {
                id: 72,
                letter: "H",
                x: 661,
                y: 133,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 24.75,
                xoffset: 3.76041666667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [3.125, 0, 21.625, 24.203125]
            },
            73: {
                id: 73,
                letter: "I",
                x: 727,
                y: 133,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 9.40625,
                xoffset: 11.4479166667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [.796875, 0, 8.578125, 24.203125]
            },
            74: {
                id: 74,
                letter: "J",
                x: 793,
                y: 133,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 12.671875,
                xoffset: 11.34375,
                yoffset: 4.5078125,
                scale: 1.95047619048,
                range: 4.1015625,
                bounds: [.375, -.40625, 9.75, 24.203125]
            },
            75: {
                id: 75,
                letter: "K",
                x: 859,
                y: 133,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 20.3125,
                xoffset: 4.40104166667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [3.125, 0, 20.34375, 24.203125]
            },
            76: {
                id: 76,
                letter: "L",
                x: 925,
                y: 133,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 16.421875,
                xoffset: 6.62760416667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [3.125, 0, 15.890625, 24.203125]
            },
            77: {
                id: 77,
                letter: "M",
                x: 1,
                y: 199,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 31.265625,
                xoffset: 1.04166666667,
                yoffset: 4.56510416667,
                scale: 1.92,
                range: 4.16666666667,
                bounds: [3.125, 0, 28.125, 24.203125]
            },
            78: {
                id: 78,
                letter: "N",
                x: 67,
                y: 199,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 26.015625,
                xoffset: 3.12760416667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [3.125, 0, 22.890625, 24.203125]
            },
            79: {
                id: 79,
                letter: "O",
                x: 133,
                y: 199,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 26.078125,
                xoffset: 3.63020833333,
                yoffset: 4.57552083333,
                scale: 1.91880074953,
                range: 4.16927083333,
                bounds: [1.5625, -.40625, 24.53125, 24.609375]
            },
            80: {
                id: 80,
                letter: "P",
                x: 199,
                y: 199,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 19.578125,
                xoffset: 5.44791666667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [3.125, 0, 18.25, 24.203125]
            },
            81: {
                id: 81,
                letter: "Q",
                x: 265,
                y: 199,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 26.078125,
                xoffset: 7.43489583333,
                yoffset: 11.8489583333,
                scale: 1.536,
                range: 5.20833333333,
                bounds: [1.5625, -6.640625, 25.234375, 24.609375]
            },
            82: {
                id: 82,
                letter: "R",
                x: 331,
                y: 199,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 20.890625,
                xoffset: 4.17447916667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [3.125, 0, 20.796875, 24.203125]
            },
            83: {
                id: 83,
                letter: "S",
                x: 397,
                y: 199,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 18.46875,
                xoffset: 7.23958333333,
                yoffset: 4.57552083333,
                scale: 1.91880074953,
                range: 4.16927083333,
                bounds: [2, -.40625, 16.875, 24.609375]
            },
            84: {
                id: 84,
                letter: "T",
                x: 463,
                y: 199,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 18.34375,
                xoffset: 6.92447916667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [.671875, 0, 17.75, 24.203125]
            },
            85: {
                id: 85,
                letter: "U",
                x: 529,
                y: 199,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 23.890625,
                xoffset: 4.4609375,
                yoffset: 4.5078125,
                scale: 1.95047619048,
                range: 4.1015625,
                bounds: [2.828125, -.40625, 21.0625, 24.203125]
            },
            86: {
                id: 86,
                letter: "V",
                x: 595,
                y: 199,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 21.640625,
                xoffset: 5.31510416667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [.28125, 0, 21.359375, 24.203125]
            },
            87: {
                id: 87,
                letter: "W",
                x: 661,
                y: 199,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 32.5625,
                xoffset: 4.8671875,
                yoffset: 9.0546875,
                scale: 1.51255539143,
                range: 5.2890625,
                bounds: [.421875, 0, 32.15625, 24.203125]
            },
            88: {
                id: 88,
                letter: "X",
                x: 727,
                y: 199,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 20.640625,
                xoffset: 5.84635416667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [.40625, 0, 20.171875, 24.203125]
            },
            89: {
                id: 89,
                letter: "Y",
                x: 793,
                y: 199,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 19.3125,
                xoffset: 6.43229166667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [.265625, 0, 19.140625, 24.203125]
            },
            90: {
                id: 90,
                letter: "Z",
                x: 859,
                y: 199,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 19.84375,
                xoffset: 6.29166666667,
                yoffset: 4.03385416667,
                scale: 1.9832149774,
                range: 4.03385416667,
                bounds: [.578125, 0, 19.109375, 24.203125]
            },
            91: {
                id: 91,
                letter: "[",
                x: 925,
                y: 199,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 10.6875,
                xoffset: 13.2005208333,
                yoffset: 10.4505208333,
                scale: 1.61599158338,
                range: 4.95052083333,
                bounds: [3.40625, -5.5, 9.796875, 24.203125]
            },
            92: {
                id: 92,
                letter: "\\",
                x: 1,
                y: 265,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 13.3125,
                xoffset: 12.1380208333,
                yoffset: 8.75520833333,
                scale: 1.69911504425,
                range: 4.70833333333,
                bounds: [-.390625, -4.046875, 13.78125, 24.203125]
            },
            93: {
                id: 93,
                letter: "]",
                x: 67,
                y: 265,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 10.6875,
                xoffset: 15.6770833333,
                yoffset: 10.4505208333,
                scale: 1.61599158338,
                range: 4.95052083333,
                bounds: [.921875, -5.5, 7.328125, 24.203125]
            },
            94: {
                id: 94,
                letter: "^",
                x: 133,
                y: 265,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 23.734375,
                xoffset: -1.140625,
                yoffset: -6.8046875,
                scale: 2.97674418605,
                range: 2.6875,
                bounds: [3.828125, 10.5, 19.953125, 24.609375]
            },
            95: {
                id: 95,
                letter: "_",
                x: 199,
                y: 265,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 14.34375,
                xoffset: 2.390625,
                yoffset: 13.5703125,
                scale: 3.34640522876,
                range: 2.390625,
                bounds: [0, -5.015625, 14.34375, -3]
            },
            96: {
                id: 96,
                letter: "`",
                x: 265,
                y: 265,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 9.4375,
                xoffset: -.203125,
                yoffset: -18.6875,
                scale: 7.01369863014,
                range: 1.140625,
                bounds: [1.34375, 20.484375, 8.1875, 26.015625]
            },
            97: {
                id: 97,
                letter: "a",
                x: 331,
                y: 265,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 17.6875,
                xoffset: 3.6640625,
                yoffset: 3.421875,
                scale: 2.65284974093,
                range: 3.015625,
                bounds: [1.453125, -.40625, 15.34375, 17.6875]
            },
            98: {
                id: 98,
                letter: "b",
                x: 397,
                y: 265,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 20.4375,
                xoffset: 6.51822916667,
                yoffset: 4.73697916667,
                scale: 1.84726398076,
                range: 4.33072916667,
                bounds: [2.734375, -.40625, 18.875, 25.578125]
            },
            99: {
                id: 99,
                letter: "c",
                x: 463,
                y: 265,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 16.046875,
                xoffset: 3.9296875,
                yoffset: 3.421875,
                scale: 2.65284974093,
                range: 3.015625,
                bounds: [1.578125, -.40625, 14.6875, 17.6875]
            },
            100: {
                id: 100,
                letter: "d",
                x: 529,
                y: 265,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 20.46875,
                xoffset: 7.66666666667,
                yoffset: 4.73697916667,
                scale: 1.84726398076,
                range: 4.33072916667,
                bounds: [1.578125, -.40625, 17.734375, 25.578125]
            },
            101: {
                id: 101,
                letter: "e",
                x: 595,
                y: 265,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 18.15625,
                xoffset: 2.8671875,
                yoffset: 3.421875,
                scale: 2.65284974093,
                range: 3.015625,
                bounds: [1.578125, -.40625, 16.8125, 17.6875]
            },
            102: {
                id: 102,
                letter: "f",
                x: 661,
                y: 265,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 11.09375,
                xoffset: 11.0677083333,
                yoffset: 4.32552083333,
                scale: 1.84948826008,
                range: 4.32552083333,
                bounds: [.875, 0, 11.59375, 25.953125]
            },
            103: {
                id: 103,
                letter: "g",
                x: 727,
                y: 265,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 20.46875,
                xoffset: 7.5625,
                yoffset: 12.4453125,
                scale: 1.85843920145,
                range: 4.3046875,
                bounds: [1.578125, -8.140625, 17.734375, 17.6875]
            },
            104: {
                id: 104,
                letter: "h",
                x: 793,
                y: 265,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 19.703125,
                xoffset: 7.02083333333,
                yoffset: 4.26302083333,
                scale: 1.87660354307,
                range: 4.26302083333,
                bounds: [2.734375, 0, 17.328125, 25.578125]
            },
            105: {
                id: 105,
                letter: "i",
                x: 859,
                y: 265,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 8.515625,
                xoffset: 12.5598958333,
                yoffset: 4.21614583333,
                scale: 1.89746757258,
                range: 4.21614583333,
                bounds: [2.359375, 0, 6.25, 25.296875]
            },
            106: {
                id: 106,
                letter: "j",
                x: 925,
                y: 265,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 8.546875,
                xoffset: 20.7682291667,
                yoffset: 13.7135416667,
                scale: 1.43551401869,
                range: 5.57291666667,
                bounds: [-3.21875, -8.140625, 6.265625, 25.296875]
            },
            107: {
                id: 107,
                letter: "k",
                x: 1,
                y: 331,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 17.421875,
                xoffset: 6.97395833333,
                yoffset: 4.26302083333,
                scale: 1.87660354307,
                range: 4.26302083333,
                bounds: [2.734375, 0, 17.421875, 25.578125]
            },
            108: {
                id: 108,
                letter: "l",
                x: 67,
                y: 331,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 8.515625,
                xoffset: 12.8020833333,
                yoffset: 4.26302083333,
                scale: 1.87660354307,
                range: 4.26302083333,
                bounds: [2.71875, 0, 5.78125, 25.578125]
            },
            109: {
                id: 109,
                letter: "m",
                x: 133,
                y: 331,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 29.984375,
                xoffset: 1.41145833333,
                yoffset: 7.73958333333,
                scale: 1.92964824121,
                range: 4.14583333333,
                bounds: [2.734375, 0, 27.609375, 17.6875]
            },
            110: {
                id: 110,
                letter: "n",
                x: 199,
                y: 331,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 19.71875,
                xoffset: 1.75260416667,
                yoffset: 2.94791666667,
                scale: 2.71378091873,
                range: 2.94791666667,
                bounds: [2.734375, 0, 17.34375, 17.6875]
            },
            111: {
                id: 111,
                letter: "o",
                x: 265,
                y: 331,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 20.34375,
                xoffset: 1.890625,
                yoffset: 3.421875,
                scale: 2.65284974093,
                range: 3.015625,
                bounds: [1.578125, -.40625, 18.765625, 17.6875]
            },
            112: {
                id: 112,
                letter: "p",
                x: 331,
                y: 331,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 20.4375,
                xoffset: 6.2890625,
                yoffset: 12.2265625,
                scale: 1.87202925046,
                range: 4.2734375,
                bounds: [2.734375, -7.953125, 18.875, 17.6875]
            },
            113: {
                id: 113,
                letter: "q",
                x: 397,
                y: 331,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 20.46875,
                xoffset: 7.4375,
                yoffset: 12.2265625,
                scale: 1.87202925046,
                range: 4.2734375,
                bounds: [1.578125, -7.953125, 17.734375, 17.6875]
            },
            114: {
                id: 114,
                letter: "r",
                x: 463,
                y: 331,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 12.21875,
                xoffset: 4.3515625,
                yoffset: 2.9296875,
                scale: 2.73066666667,
                range: 2.9296875,
                bounds: [2.734375, 0, 12, 17.578125]
            },
            115: {
                id: 115,
                letter: "s",
                x: 529,
                y: 331,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 14.8125,
                xoffset: 4.4609375,
                yoffset: 3.421875,
                scale: 2.65284974093,
                range: 3.015625,
                bounds: [1.765625, -.40625, 13.4375, 17.6875]
            },
            116: {
                id: 116,
                letter: "t",
                x: 595,
                y: 331,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 11.921875,
                xoffset: 9.3125,
                yoffset: 4.171875,
                scale: 2.10699588477,
                range: 3.796875,
                bounds: [.71875, -.375, 11.03125, 22.40625]
            },
            117: {
                id: 117,
                letter: "u",
                x: 661,
                y: 331,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 19.71875,
                xoffset: 2.09635416667,
                yoffset: 3.35416666667,
                scale: 2.71378091873,
                range: 2.94791666667,
                bounds: [2.390625, -.40625, 17, 17.28125]
            },
            118: {
                id: 118,
                letter: "v",
                x: 727,
                y: 331,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 16.796875,
                xoffset: 3.08333333333,
                yoffset: 2.88020833333,
                scale: 2.77757685353,
                range: 2.88020833333,
                bounds: [.21875, 0, 16.65625, 17.28125]
            },
            119: {
                id: 119,
                letter: "w",
                x: 793,
                y: 331,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 25.265625,
                xoffset: 3.69010416667,
                yoffset: 7.68229166667,
                scale: 1.96043395022,
                range: 4.08072916667,
                bounds: [.390625, 0, 24.875, 17.28125]
            },
            120: {
                id: 120,
                letter: "x",
                x: 859,
                y: 331,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 16.21875,
                xoffset: 3.41145833333,
                yoffset: 2.88020833333,
                scale: 2.77757685353,
                range: 2.88020833333,
                bounds: [.40625, 0, 15.8125, 17.28125]
            },
            121: {
                id: 121,
                letter: "y",
                x: 925,
                y: 331,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 16.9375,
                xoffset: 8.44791666667,
                yoffset: 12.3776041667,
                scale: 1.88813767671,
                range: 4.23697916667,
                bounds: [.203125, -8.140625, 16.796875, 17.28125]
            },
            122: {
                id: 122,
                letter: "z",
                x: 1,
                y: 397,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 15.734375,
                xoffset: 3.77083333333,
                yoffset: 2.88020833333,
                scale: 2.77757685353,
                range: 2.88020833333,
                bounds: [.546875, 0, 14.953125, 17.28125]
            },
            123: {
                id: 123,
                letter: "{",
                x: 67,
                y: 397,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 10.6875,
                xoffset: 14.2161458333,
                yoffset: 10.4505208333,
                scale: 1.61599158338,
                range: 4.95052083333,
                bounds: [1.578125, -5.5, 9.59375, 24.203125]
            },
            124: {
                id: 124,
                letter: "|",
                x: 133,
                y: 397,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 8.609375,
                xoffset: 18.7135416667,
                yoffset: 13.9010416667,
                scale: 1.38878842676,
                range: 5.76041666667,
                bounds: [2.984375, -8.140625, 5.671875, 26.421875]
            },
            125: {
                id: 125,
                letter: "}",
                x: 199,
                y: 397,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 10.6875,
                xoffset: 14.6614583333,
                yoffset: 10.4505208333,
                scale: 1.61599158338,
                range: 4.95052083333,
                bounds: [1.140625, -5.5, 9.140625, 24.203125]
            },
            126: {
                id: 126,
                letter: "~",
                x: 265,
                y: 397,
                width: 64,
                height: 64,
                map: 0,
                xadvance: 23.734375,
                xoffset: -.705729166667,
                yoffset: 1.15364583333,
                scale: 2.86300093197,
                range: 2.79427083333,
                bounds: [3.5, 7.34375, 20.265625, 12.703125]
            }
        }
    }
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = c(i(54))
          , n = i(15)
          , r = i(31)
          , a = c(i(55))
          , h = c(i(399));
        function c(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function o(t, e) {
            for (var i = 0; i < e.length; i++) {
                var s = e[i];
                s.enumerable = s.enumerable || !1,
                s.configurable = !0,
                "value"in s && (s.writable = !0),
                Object.defineProperty(t, s.key, s)
            }
        }
        function u(t, e, i) {
            return e && o(t.prototype, e),
            i && o(t, i),
            t
        }
        var f = function() {
            function e(i, s) {
                this.app = i,
                this.target = s,
                this.keys = ["FL", "FR", "RL", "RR"],
                this.maxAngle = 60,
                this.currentTime = 0,
                this.duration = 1,
                this.groups = this.keys.map(function(i) {
                    return {
                        status: e.STATUS_CLOSED,
                        action: e.ip,
                        percent: 0,
                        factor: "FL" === i || "RL" === i ? -1 : 1,
                        pivot: new t.ut,
                        aabb: new t.jt,
                        meshInstances: []
                    }
                })
            }
            var i = e.prototype;
            return i.prepare = function t() {
                var i = this;
                this.target.Bc.model.model.meshInstances.filter(function(t) {
                    var i = t.node.name
                      , s = e.Xg
                      , n = e.Kg
                      , r = e.Qg
                      , a = e.Jg;
                    return i.startsWith(s) || i.startsWith(n) || i.startsWith(r) || i.startsWith(a)
                }).forEach(function(t) {
                    var s;
                    t.node.name.startsWith(e.Xg) ? s = 0 : t.node.name.startsWith(e.Kg) ? s = 1 : t.node.name.startsWith(e.Qg) ? s = 2 : t.node.name.startsWith(e.Jg) && (s = 3),
                    i.groups[s].meshInstances.push(t)
                }),
                this.groups.forEach(function(t) {
                    for (var e = t.aabb, i = t.pivot, s = t.meshInstances, n = 0; n < s.length; n++) {
                        var r = s[n];
                        0 === n ? e.copy(r.aabb) : e.add(r.aabb)
                    }
                    i.copy(e.center),
                    i.z += .9 * e.halfExtents.z
                })
            }
            ,
            i.generate = function t(i) {
                var n = this;
                if (!(0,
                s.default)(i)) {
                    void 0 === i.icons && (i.icons = []),
                    void 0 === i.data && (i.data = []);
                    var h = e.vecA
                      , c = e.matA;
                    i.icons.forEach(function(t) {
                        var e = (0,
                        r.parseDoorAnnotationData)(t), i = n.target.meshInstances[e.mi], s;
                        h.set.apply(h, e.localPoint),
                        c.copy(i.node.getWorldTransform()).invert(),
                        c.transformPoint(h, h),
                        e.localPoint = Array.from(h.data),
                        e.meshInstance = i,
                        n.target.annotations.create(a.default.BIT_DOOR, e).doors = n
                    }),
                    i.data.forEach(function(t, e) {
                        var i;
                        (i = n.groups[e].pivot).set.apply(i, t.pivot)
                    })
                }
            }
            ,
            i.toggle = function t(i) {
                var s = this;
                void 0 === i && (i = []),
                this.keys.forEach(function(t, n) {
                    var r = i[n] ? e.sp : e.ip;
                    r === e.sp && s.groups[n].status !== e.STATUS_CLOSED ? s.groups[n].status = e.STATUS_CLOSED : r === e.ip && s.groups[n].status !== e.STATUS_OPENED && (s.groups[n].status = e.STATUS_OPENED),
                    s.groups[n].action = r
                }),
                this.app.off("update", this.onUpdate, this),
                this.app.on("update", this.onUpdate, this)
            }
            ,
            i.destroy = function t() {
                this.app.off("update", this.onUpdate, this)
            }
            ,
            i.onUpdate = function i(s) {
                var n, r = 0, a = this.maxAngle, h = 0, c = e.vecA, o = e.vecB, u = e.vecC, f = e.quatA, d = e.matA, l = e.matB, b = this.target.windows, v = this.target.Bc.getWorldTransform();
                n = s / this.duration,
                this.groups.forEach(function(i, s) {
                    var r = i.action
                      , m = i.aabb
                      , g = i.pivot
                      , p = i.meshInstances
                      , w = i.percent
                      , x = i.factor
                      , z = b.groups[s];
                    i.status !== r && (r === e.sp ? w += n : w -= n,
                    w = t.I.st(0, 1, w),
                    r === e.sp && 1 === w ? i.status = e.STATUS_OPENED : r === e.ip && 0 === w && (i.status = e.STATUS_CLOSED),
                    c.copy(g),
                    o.copy(c).scale(-1),
                    h = t.I.st(0, a, w) * x,
                    f.yt(t.ut.UP, h),
                    i.percent = w,
                    p.forEach(function(e, i) {
                        d.vt(0, 0, 0),
                        u.copy(e.node.getLocalScale()),
                        e === z.meshInstances[0] && d.copy(z.localTransforms[0]),
                        l.Mt(o, t.bt.IDENTITY, u).mul(d),
                        d.Mt(t.ut.ZERO, f, u).mul(l),
                        l.Mt(c, t.bt.IDENTITY, u).mul(d),
                        d.copy(v).mul(l),
                        e.node.setPosition(d.getTranslation(u)),
                        e.node.setEulerAngles(d.getEulerAngles(u))
                    }))
                }),
                this.groups.every(function(t) {
                    return t.status === t.action
                }) && this.app.off("update", this.onUpdate, this),
                this.app.rd = !0
            }
            ,
            u(e, [{
                key: "status",
                get: function t() {
                    return this.groups.map(function(t) {
                        return !!t.status
                    })
                }
            }, {
                key: "actions",
                get: function t() {
                    return this.groups.map(function(t) {
                        return !!t.action
                    })
                }
            }]),
            e
        }();
        e.default = f,
        f.qg = "cm_",
        f.Xg = "cm_lf",
        f.Kg = "cm_rf",
        f.Qg = "cm_lr",
        f.Jg = "cm_rr",
        f.STATUS_CLOSED = 0,
        f.STATUS_OPENED = 1,
        f.ip = 0,
        f.sp = 1,
        f.quatA = new t.bt,
        f.vecA = new t.ut,
        f.vecB = new t.ut,
        f.vecC = new t.ut,
        f.matA = new t.zt,
        f.matB = new t.zt
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = n(i(55));
    function n(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function r(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var a = function(t) {
        function e(e) {
            var i;
            return (i = t.call(this, e) || this).doors = null,
            i.key = e.key,
            i.bit = s.default.BIT_DOOR,
            i
        }
        r(e, t);
        var i = e.prototype;
        return i.focus = function t() {
            var e = this.doors.actions
              , i = this.getIndex(this.key);
            e[i] = !e[i],
            this.doors.toggle(e)
        }
        ,
        i.getIndex = function t(e) {
            switch (e) {
            case "FL":
                return 0;
            case "FR":
                return 1;
            case "RL":
                return 2;
            case "RR":
                return 3
            }
        }
        ,
        e
    }(s.default);
    e.default = a
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = f(i(54))
          , n = f(i(55))
          , r = f(i(367))
          , a = f(i(480))
          , h = f(i(401))
          , c = f(i(399))
          , o = i(31)
          , u = i(143);
        function f(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function d(t, e) {
            for (var i = 0; i < e.length; i++) {
                var s = e[i];
                s.enumerable = s.enumerable || !1,
                s.configurable = !0,
                "value"in s && (s.writable = !0),
                Object.defineProperty(t, s.key, s)
            }
        }
        function l(t, e, i) {
            return e && d(t.prototype, e),
            i && d(t, i),
            t
        }
        var b = ["default", "diamond", "hotspot", "arrow"]
          , v = function() {
            function e(e, i) {
                this.app = e,
                this.target = i,
                this.root = new t.Entity("Annotations Root"),
                this.root.enabled = !1,
                this.assets = {
                    default: this.app.assets.find("AnnotationMap"),
                    diamond: this.app.assets.find("AnnotationDiamondMap"),
                    hotspot: this.app.assets.find("AnnotationHotspotMap"),
                    arrow: this.app.assets.find("AnnotationArrowMap")
                },
                this.camera = null,
                this.app.store && (this.store = this.app.store.annotations.create(i.uid)),
                this.target.Bc.addChild(this.root),
                this._list = [],
                this._bits = 0
            }
            var i = e.prototype;
            return i.setCamera = function t(e) {
                this.camera = e
            }
            ,
            i.generate = function t(e) {
                var i = this;
                (0,
                s.default)(e) || e.forEach(function(t) {
                    t.annotations.forEach(function(e) {
                        var s = (0,
                        o.parseAnnotationData)(e)
                          , r = (0,
                        o.parseViewData)(e.camera)
                          , a = t.inverted ? n.default.BIT_INVERTED_DIALOG : n.default.BIT_DIALOG;
                        r.uid = s.uid,
                        r.name = s.name,
                        r.fov = t.fov,
                        r.inverted = t.inverted,
                        r.group = !1,
                        s.viewId = s.uid,
                        s.meshInstance = i.target.meshInstances[s.mi],
                        i.app.camera.views.add(r),
                        i.create(a, s)
                    })
                })
            }
            ,
            i.updateIndex = function t() {
                var i = 0;
                this._list.forEach(function(t, s) {
                    var n = 0 === t.style ? e.offsets[i] : [0, 0]
                      , r = 0 === t.style ? e.tiling : [1, 1]
                      , a = e.highlight
                      , h = t.icon.Bc.element._image.material
                      , c = t.icon.backEntity.element._image.material;
                    c.emissive = a,
                    c.emissiveMapOffset.set(n[0], n[1]),
                    c.emissiveMapTiling.set(r[0], r[1]),
                    c.opacityMapOffset.set(n[0], n[1]),
                    c.opacityMapTiling.set(r[0], r[1]),
                    c.useSkybox = !1,
                    c.useLighting = !1,
                    c.update(),
                    h.emissive = a,
                    h.emissiveMapOffset.set(n[0], n[1]),
                    h.emissiveMapTiling.set(r[0], r[1]),
                    h.opacityMapOffset.set(n[0], n[1]),
                    h.opacityMapTiling.set(r[0], r[1]),
                    h.useSkybox = !1,
                    h.useLighting = !1,
                    h.update(),
                    0 === t.style && ++i
                })
            }
            ,
            i.create = function t(e, i) {
                var s;
                switch (i.hasOwnProperty("style") || (i.style = 0),
                e) {
                case n.default.BIT_DIALOG:
                    s = new r.default(i);
                    break;
                case n.default.BIT_INVERTED_DIALOG:
                    s = new a.default(i);
                    break;
                case n.default.BIT_ANCHOR:
                    s = new h.default(i);
                    break;
                case n.default.BIT_DOOR:
                    s = new c.default(i)
                }
                s.style = i.style;
                var o = this.assets[b[i.style]].getPreferredAsset().resource;
                return s.manager = this,
                s.icon.backEntity.element._image.material.emissiveMap = o,
                s.icon.backEntity.element._image.material.opacityMap = o,
                s.icon.Bc.element._image.material.emissiveMap = o,
                s.icon.Bc.element._image.material.opacityMap = o,
                s.Bc.enabled = (this._bits & s.bit) > 0,
                this._list.push(s),
                this.updateIndex(),
                this.store && this.store.add(s),
                this.root.addChild(s.Bc),
                s
            }
            ,
            i.remove = function t(e) {
                this._list[e].destroy(),
                this._list.splice(e, 1),
                this.app.rd = !0
            }
            ,
            i.removeAll = function t() {
                this._list.forEach(function(t) {
                    t.destroy()
                }),
                this._list.length = 0
            }
            ,
            i.toggle = function t(e) {
                this.root.enabled !== e && (e ? this.app.on("update", this.onUpdate, this) : this.app.off("update", this.onUpdate, this),
                this.root.enabled = e,
                this.onBitsChange(),
                this.app.rd = !0)
            }
            ,
            i.toggleBit = function t(e, i) {
                i ? this._bits |= e : this._bits &= ~e,
                this.toggle(this._bits > 0),
                this.onBitsChange(),
                this.app.rd = !0
            }
            ,
            i.checkBit = function t(e) {
                return (this._bits & e) > 0
            }
            ,
            i.onUpdate = function i(s) {
                if (this.app.camera && 0 !== this._list.length) {
                    var n = this.app.camera.Bc
                      , r = e.vecB
                      , a = e.vecC.copy(n.getPosition())
                      , h = e.quatA.copy(n.getRotation())
                      , c = e.size * Math.min(window.devicePixelRatio, 2)
                      , o = 1280 / (2 * Math.tan(n.camera.fov * t.I.q / 2));
                    this._list.forEach(function(t) {
                        var e = r.copy(t.Bc.getPosition()).sub(a)
                          , i = e.dot(n.forward)
                          , s = Math.max(1e-4, i / o * 150) * c;
                        e.normalize().scale(-.75 * s),
                        t.icon.width = s,
                        t.icon.height = s,
                        t.icon.Bc.setLocalPosition(e),
                        t.icon.Bc.setRotation(h),
                        t.onUpdate()
                    })
                }
            }
            ,
            i.onBitsChange = function t() {
                var e = this;
                this._list.forEach(function(t) {
                    t.Bc.enabled = (e._bits & t.bit) > 0
                })
            }
            ,
            l(e, [{
                key: "bits",
                get: function t() {
                    return this._bits
                },
                set: function t(e) {
                    this._bits = e,
                    this.onBitsChange(),
                    this.app.rd = !0
                }
            }]),
            e
        }();
        e.default = v,
        v.offsets = [[0, 49], [49, 49], [99, 49], [149, 49], [199, 49]].map(function(t) {
            return [t[0] / 512, (256 - t[1]) / 256]
        }),
        v.tiling = [50 / 512, 50 / 256],
        v.highlight = new t.D(0,.58,1,1),
        v.size = (0,
        u.browser)("mobile") || 1 !== window.devicePixelRatio ? .2 : .3,
        v.vecA = new t.ut,
        v.vecB = new t.ut,
        v.vecC = new t.ut,
        v.quatA = new t.bt
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = n(i(55));
    function n(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function r(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var a = function(t) {
        function e(e) {
            var i;
            return (i = t.call(this, e) || this).bit = s.default.BIT_ANCHOR,
            i.href = e.href,
            i
        }
        var i;
        return r(e, t),
        e.prototype.focus = function t() {
            if (this.manager) {
                var e = this.manager.app
                  , i = "jmyd1d1d:panorama:anchor"
                  , s = {
                    panorama: this.href
                };
                e.sdk ? e.sdk.send(i, s) : e.fire(i, s)
            }
        }
        ,
        e
    }(s.default);
    e.default = a
}
, function(t, e, i) {
    var s = i(100);
    function n() {
        if (!arguments.length)
            return [];
        var t = arguments[0];
        return s(t) ? t : [t]
    }
    t.exports = n
}
, function(t, e, i) {
    var s = i(371);
    function n(t, e) {
        var i;
        return !!(null == t ? 0 : t.length) && s(t, e, 0) > -1
    }
    t.exports = n
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = {
        name: "ConcreteGround",
        uid: "ed33ec0f360f781b6b06e15326d9ca9dd0ee8169",
        material: {
            uid: "24fce0d933794067840bc9cd2cfb96b3c8b680e1",
            name: "ConcreteGround",
            data: {
                diffuseMap: "bde094bdd3c65b24bd2f6c0a68a542dc240c13a6",
                diffuseMapTiling: [50, 50],
                emissive: [.2, .2, .2],
                shininess: 100,
                reflectivity: .75,
                refraction: .8,
                refractionIndex: 0,
                useLighting: !1,
                useSkybox: !1
            }
        },
        Bc: {
            scale: [100, 1, 100]
        }
    };
    e.default = s
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = {
        name: "SpeederGround",
        uid: "471fd994e813e4fcf6f4961df645026b46d2d354",
        material: {
            uid: "2357f185db70b7f86e265bbe367aad7f65e903cc",
            name: "SpeederGround",
            data: {
                diffuse: [0, 0, 0, 1],
                emissiveMap: "608d63ce54286793c81998585b6e300f9c6560db",
                emissiveMapTiling: [1, 6],
                aoMap: "e541b5637d65483627d8f7f0d713e9bffcb27524",
                aoMapChannel: "g",
                opacityMap: "e541b5637d65483627d8f7f0d713e9bffcb27524",
                opacityMapChannel: "g",
                blendType: 6,
                useLighting: !1,
                useSkybox: !1
            }
        },
        Bc: {
            scale: [5, 1, 15]
        }
    };
    e.default = s
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.HubMountainRoadScene = e.HubVillageScene = e.HubHshcDuskScene = e.HubDuskScene = void 0;
    var s = h(i(522));
    e.HubDuskScene = s.default;
    var n = h(i(523));
    e.HubHshcDuskScene = n.default;
    var r = h(i(524));
    e.HubVillageScene = r.default;
    var a = h(i(525));
    function h(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.HubMountainRoadScene = a.default
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = a;
        var s = r(i(49))
          , n = r(i(154));
        function r(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function a(e, i, r) {
            var a = this;
            (0,
            s.default)(n.default).forEach(function(s) {
                if (!1 !== n.default[s].preload) {
                    var h = a.assets.find(s);
                    h.type === t.dm && (h = h.getPreferredAsset()),
                    h.ready(i),
                    h.once("error", r),
                    a.assets.load(h),
                    e()
                }
            })
        }
    }
    ).call(this, i(6))
}
, , function(t, e, i) {
    i(158),
    t.exports = i(410)
}
, function(t, e, i) {
    "use strict";
    (function(t, e) {
        var s = w(i(141)), n = w(i(377)), r = i(411), a = i(103), h = w(i(106)), c = w(i(393)), o = w(i(444)), u = w(i(458)), f = i(144), d = i(31), l = w(i(369)), b = w(i(545)), v, m, g, p;
        function w(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function x(t) {
            return function() {
                var e = this
                  , i = arguments;
                return new Promise(function(s, n) {
                    var r = t.apply(e, i);
                    function a(t, e) {
                        try {
                            var i = r[t](e)
                              , a = i.value
                        } catch (t) {
                            return void n(t)
                        }
                        i.done ? s(a) : Promise.resolve(a).then(h, c)
                    }
                    function h(t) {
                        a("next", t)
                    }
                    function c(t) {
                        a("throw", t)
                    }
                    h()
                }
                )
            }
        }
        function z(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        i(548);
        var _ = !1;
        var A = (v = (0,
        r.inject)(function(t) {
            return {
                annotations: t.appStore.annotations
            }
        }))(m = (0,
        r.observer)((p = g = function(t) {
            function n(e) {
                var i;
                return (i = t.call(this, e) || this).query = (0,
                d.parseQuery)(),
                i.state = {
                    progress: 0,
                    loaded: !1,
                    screenshotImgs: null
                },
                i
            }
            z(n, t);
            var r = n.prototype;
            return r.componentDidMount = function t() {
                var e = this;
                this.viewer = new u.default(this.el,{
                    enableRecorder: !1,
                    query: this.query,
                    useTextureCompression: this.query.tc,
                    textureResolution: this.query.ts,
                    useTextureVariantStrategy: this.query.tvs,
                    useCubemapProgressive: this.query.cp,
                    useCubemapProgressiveSize: this.query.cps,
                    useModelProgressive: this.query.mp,
                    useModelProgressiveSize: this.query.mps,
                    ldPixelRatio: this.getLdPixelRatio(),
                    userLevel: 0,
                    arVideoWrap: this.videoWrap
                }),
                this.initialize(),
                this.viewer.sdk.on("jmyd1d1d:preload:progress", function(t) {
                    e.setState({
                        progress: 100 * t
                    })
                })
            }
            ,
            r.initialize = function() {
                var t = x(regeneratorRuntime.mark(function t() {
                    var s = this, n, r, a, h, c, o, u, d, b, v, m, g, p;
                    return regeneratorRuntime.wrap(function t(c) {
                        for (; ; )
                            switch (c.prev = c.next) {
                            case 0:
                                return d = null,
                                c.next = 3,
                                i.e(4).then(i.t.bind(null, 552, 7));
                            case 3:
                                return b = c.sent,
                                v = b.genSign,
                                c.next = 7,
                                i.e(1).then(i.t.bind(null, 408, 7));
                            case 7:
                                return m = c.sent,
                                g = new RegExp("demo.jimuyida.com/wey/datas","g"),
                                n = this.query.uid || "003e0695fbfa6f4c6192a16fbdc587d3d6b14778",
                                c.next = 12,
                                (0,
                                f.request)(n, "c", v());
                            case 12:
                                if (a = c.sent.data,
                                !this.query.scene) {
                                    c.next = 27;
                                    break
                                }
                                if (u = this.viewer.scenes.get(this.query.scene),
                                d = {
                                    uid: this.query.scene,
                                    data: null
                                },
                                u) {
                                    c.next = 27;
                                    break
                                }
                                return c.prev = 17,
                                c.next = 20,
                                (0,
                                f.request)(this.query.scene, "s", v());
                            case 20:
                                d.data = c.sent.data,
                                c.next = 27;
                                break;
                            case 23:
                                c.prev = 23,
                                c.t0 = c.catch(17),
                                d = null;
                            case 27:
                                return o = m.default[0].images,
                                e.genSign = v,
                                (r = JSON.parse(JSON.stringify(a).replace(g, "demo.jimuyida.com/wey/datas"))).panoramas = [],
                                r.scene = JSON.parse(JSON.stringify(d).replace(g, "demo.jimuyida.com/wey/datas")),
                                r.entryMode = this.query.entryMode,
                                h = [{
                                    name: "lunzi2",
                                    uid: "fe39178d901bf1e7c4228bfc69efadd132b69eff"
                                }, {
                                    name: "lunzi3",
                                    uid: "4aa8bf0cdfea60bb77c48859830cb8ce98209664"
                                }, {
                                    name: "lunzi4",
                                    uid: "a7afed45bf438288d5eb04d0a80e1632f5aba696"
                                }],
                                this.viewer.permissions.level = 65535,
                                l.default.uid = n,
                                o ? this.setState({
                                    screenshotImgs: o
                                }) : this.viewer.sdk.send("jmyd1d1d:covers:error", {
                                    msg: "该模型未有逐帧截图"
                                }),
                                p = this.query.modelFileType,
                                r.model.asset.modelFileType = p,
                                this.initBehaviorLogData(n, p),
                                this._beforeLoadTimestamp = Date.now(),
                                c.next = 42,
                                this.viewer.gmcParser.loadDeps();
                            case 42:
                                return c.next = 44,
                                this.viewer.configure(r).load();
                            case 44:
                                this.behaviorLogData.loadedTime = Date.now() - this._beforeLoadTimestamp,
                                h.forEach(function(t) {
                                    t.loading = !1,
                                    t.loaded = !1,
                                    s.viewer.model.wheels._whitelist.push(t)
                                }),
                                this.query.autoStart ? (this.viewer.start([0, 3].includes(r.entryMode)),
                                this.setState({
                                    loaded: !0
                                })) : this.viewer.once("start", function() {
                                    s.setState({
                                        loaded: !0
                                    })
                                });
                            case 47:
                            case "end":
                                return c.stop()
                            }
                    }, t, this, [[17, 23]])
                }));
                return function e() {
                    return t.apply(this, arguments)
                }
            }(),
            r.initBehaviorLogData = function t(e, i) {
                var s = this;
                this.behaviorLogData = {
                    modelFileType: i
                },
                this.viewer.sdk.once("jmyd1d1d:onParsedJson:time", function(t) {
                    s.behaviorLogData.arrayBufferParseTime = t
                }),
                this.viewer.sdk.once("jmyd1d1d:onParsedModel:time", function(t) {
                    s.behaviorLogData.jsonParseTime = t
                }),
                this.viewer.sdk.once("jmyd1d1d:start", function() {
                    s.behaviorLogData.totalTime = Date.now() - s._beforeLoadTimestamp
                })
            }
            ,
            r.postBillingCount = function t(e) {
                h.default.post("https://jmyd1d1d.com/viewer/scene/l/" + e, {
                    entryMode: this.query.entryMode
                })
            }
            ,
            r.postLoadTime = function t(e, i) {
                h.default.post("https://log.jmyd1d1d.com/scene/b", {
                    type: 0,
                    uid: e,
                    recorderUid: l.default._recorderUid,
                    data: i
                })
            }
            ,
            r.getLdPixelRatio = function t() {
                var e = window.devicePixelRatio
                  , i = this.query.hd;
                return 1 == (i = null == i ? -1 : i) ? e : 0 == i ? Math.max(.75 * e, 1) : -1 == i ? (0,
                a.browser)("android") ? /(HTC U-1w)|(SM-G9500)|(HUAWEIEML-AL00)|(Mi Note 3)|(NX595J)/.test(navigator.userAgent) ? e : Math.max(.75 * e, 1) : e : void 0
            }
            ,
            r.render = function t() {
                var e = this
                  , i = this.props.annotations
                  , r = this.state
                  , a = r.loaded
                  , h = r.screenshotImgs
                  , c = this.viewer && this.viewer.camera
                  , u = i.selected
                  , f = n.vecA
                  , d = !0;
                return u && c && (f.sub2(u.Bc.getPosition(), c.Bc.getPosition()),
                d = f.dot(c.Bc.forward) > 0),
                s.default.createElement("div", {
                    className: "app"
                }, s.default.createElement("canvas", {
                    id: "viewer",
                    ref: function t(i) {
                        return e.el = i
                    },
                    onMouseDown: this.handleCanvasMouseDown
                }), a && !i.customDialog && u && s.default.createElement(o.default, {
                    type: u.type,
                    title: u.title,
                    description: u.description,
                    imgSrc: u.imgSrc,
                    thumbSrc: u.thumbSrc,
                    videoSrc: u.videoSrc,
                    position: i.screenPosition.slice(),
                    visible: d,
                    customModal: i.customModal,
                    modalOpen: i.modalOpen,
                    onModalOpen: function t() {
                        i.toggle("modalOpen", !0),
                        e.viewer.sdk.send("jmyd1d1d:annotation:dialog", !0),
                        e.viewer.sdk.send("jmyd1d1d:annotation:modal", !0)
                    },
                    onModalClose: function t() {
                        i.toggle("modalOpen", !1),
                        e.viewer.sdk.send("jmyd1d1d:annotation:dialog", !1),
                        e.viewer.sdk.send("jmyd1d1d:annotation:modal", !1)
                    },
                    onClose: function t() {
                        return i.select(null)
                    }
                }), ([2].includes(this.query.entryMode) || [3].includes(this.query.entryMode) && !a) && h && s.default.createElement(b.default, {
                    images: h,
                    app: this.viewer
                }), s.default.createElement("div", {
                    id: "videoWrap",
                    ref: function t(i) {
                        return e.videoWrap = i
                    }
                }))
            }
            ,
            n
        }(s.default.Component),
        g.vecA = new t.ut,
        m = p)) || m) || m, y;
        (function t(e) {
            n.default.render(s.default.createElement(r.Provider, {
                appStore: c.default
            }, s.default.createElement(A, null)), document.getElementById("root"))
        }
        )(A)
    }
    ).call(this, i(6), i(102))
}
, function(t, e, i) {
    t.exports = i(50)(37)
}
, function(t, e, i) {
    var s = i(413)
      , n = i(423);
    function r(t, e) {
        return s(t, e, function(e, i) {
            return n(t, i)
        })
    }
    t.exports = r
}
, function(t, e, i) {
    var s = i(414)
      , n = i(420)
      , r = i(148);
    function a(t, e, i) {
        for (var a = -1, h = e.length, c = {}; ++a < h; ) {
            var o = e[a]
              , u = s(t, o);
            i(u, o) && n(c, r(o, t), u)
        }
        return c
    }
    t.exports = a
}
, function(t, e, i) {
    var s = i(148)
      , n = i(357);
    function r(t, e) {
        for (var i = 0, r = (e = s(e, t)).length; null != t && i < r; )
            t = t[n(e[i++])];
        return i && i == r ? t : void 0
    }
    t.exports = r
}
, function(t, e, i) {
    var s = i(100)
      , n = i(416)
      , r = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/
      , a = /^\w*$/;
    function h(t, e) {
        if (s(t))
            return !1;
        var i = typeof t;
        return !("number" != i && "symbol" != i && "boolean" != i && null != t && !n(t)) || (a.test(t) || !r.test(t) || null != e && t in Object(e))
    }
    t.exports = h
}
, function(t, e) {
    function i() {
        return !1
    }
    t.exports = i
}
, function(t, e, i) {
    var s = i(418)
      , n = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g
      , r = /\\(\\)?/g
      , a = s(function(t) {
        var e = [];
        return 46 === t.charCodeAt(0) && e.push(""),
        t.replace(n, function(t, i, s, n) {
            e.push(s ? n.replace(r, "$1") : i || t)
        }),
        e
    });
    t.exports = a
}
, function(t, e) {
    function i(t) {
        return t
    }
    t.exports = i
}
, function(t, e) {
    function i(t) {
        return t
    }
    t.exports = i
}
, function(t, e, i) {
    var s = i(358)
      , n = i(148)
      , r = i(380)
      , a = i(381)
      , h = i(357);
    function c(t, e, i, c) {
        if (!a(t))
            return t;
        for (var o = -1, u = (e = n(e, t)).length, f = u - 1, d = t; null != d && ++o < u; ) {
            var l = h(e[o])
              , b = i;
            if (o != f) {
                var v = d[l];
                void 0 === (b = c ? c(v, l, d) : void 0) && (b = a(v) ? v : r(e[o + 1]) ? [] : {})
            }
            s(d, l, b),
            d = d[l]
        }
        return t
    }
    t.exports = c
}
, function(t, e, i) {
    var s = i(422)
      , n = function() {
        try {
            var t = s(Object, "defineProperty");
            return t({}, "", {}),
            t
        } catch (t) {}
    }();
    t.exports = n
}
, function(t, e) {
    function i(t, e) {
        return null == t ? void 0 : t[e]
    }
    t.exports = i
}
, function(t, e, i) {
    var s = i(424)
      , n = i(425);
    function r(t, e) {
        return null != t && n(t, e, s)
    }
    t.exports = r
}
, function(t, e) {
    function i(t, e) {
        return null != t && e in Object(t)
    }
    t.exports = i
}
, function(t, e, i) {
    var s = i(148)
      , n = i(359)
      , r = i(100)
      , a = i(380)
      , h = i(382)
      , c = i(357);
    function o(t, e, i) {
        for (var o = -1, u = (e = s(e, t)).length, f = !1; ++o < u; ) {
            var d = c(e[o]);
            if (!(f = null != t && i(t, d)))
                break;
            t = t[d]
        }
        return f || ++o != u ? f : !!(u = null == t ? 0 : t.length) && h(u) && a(d, u) && (r(t) || n(t))
    }
    t.exports = o
}
, function(t, e, i) {
    var s = i(427)
      , n = i(384)
      , r = i(385);
    function a(t) {
        return r(n(t, void 0, s), t + "")
    }
    t.exports = a
}
, function(t, e, i) {
    var s = i(383);
    function n(t) {
        var e;
        return (null == t ? 0 : t.length) ? s(t, 1) : []
    }
    t.exports = n
}
, function(t, e) {
    function i(t, e) {
        for (var i = -1, s = e.length, n = t.length; ++i < s; )
            t[n + i] = e[i];
        return t
    }
    t.exports = i
}
, function(t, e, i) {
    var s = i(430)
      , n = i(359)
      , r = i(100)
      , a = s ? s.isConcatSpreadable : void 0;
    function h(t) {
        return r(t) || n(t) || !!(a && t && t[a])
    }
    t.exports = h
}
, function(t, e, i) {
    var s, n = i(431).Symbol;
    t.exports = n
}
, function(t, e, i) {
    var s = i(432)
      , n = "object" == typeof self && self && self.Object === Object && self
      , r = s || n || Function("return this")();
    t.exports = r
}
, function(t, e, i) {
    (function(e) {
        var i = "object" == typeof e && e && e.Object === Object && e;
        t.exports = i
    }
    ).call(this, i(102))
}
, function(t, e) {
    function i(t, e, i) {
        switch (i.length) {
        case 0:
            return t.call(e);
        case 1:
            return t.call(e, i[0]);
        case 2:
            return t.call(e, i[0], i[1]);
        case 3:
            return t.call(e, i[0], i[1], i[2])
        }
        return t.apply(e, i)
    }
    t.exports = i
}
, function(t, e, i) {
    var s, n = i(149)(Object.keys, Object);
    t.exports = n
}
, function(t, e, i) {
    var s = i(360)
      , n = i(381)
      , r = "[object AsyncFunction]"
      , a = "[object Function]"
      , h = "[object GeneratorFunction]"
      , c = "[object Proxy]";
    function o(t) {
        if (!n(t))
            return !1;
        var e = s(t);
        return e == a || e == h || e == r || e == c
    }
    t.exports = o
}
, function(t, e, i) {
    var s = i(391)
      , n = i(150)
      , r = i(49);
    function a(t) {
        return function(e, i, a) {
            var h = Object(e);
            if (!n(e)) {
                var c = s(i, 3);
                e = r(e),
                i = function(t) {
                    return c(h[t], t, h)
                }
            }
            var o = t(e, i, a);
            return o > -1 ? h[c ? e[o] : o] : void 0
        }
    }
    t.exports = a
}
, function(t, e) {
    function i(t, e, i, s) {
        for (var n = t.length, r = i + (s ? 1 : -1); s ? r-- : ++r < n; )
            if (e(t[r], r, t))
                return r;
        return -1
    }
    t.exports = i
}
, function(t, e) {
    function i(t) {
        return t
    }
    t.exports = i
}
, function(t, e, i) {
    var s = i(358)
      , n = i(378);
    function r(t, e, i, r) {
        var a = !i;
        i || (i = {});
        for (var h = -1, c = e.length; ++h < c; ) {
            var o = e[h]
              , u = r ? r(i[o], t[o], o, i, t) : void 0;
            void 0 === u && (u = t[o]),
            a ? n(i, o, u) : s(i, o, u)
        }
        return i
    }
    t.exports = r
}
, function(t, e, i) {
    var s = i(392)
      , n = i(442);
    function r(t) {
        return s(function(e, i) {
            var s = -1
              , r = i.length
              , a = r > 1 ? i[r - 1] : void 0
              , h = r > 2 ? i[2] : void 0;
            for (a = t.length > 3 && "function" == typeof a ? (r--,
            a) : void 0,
            h && n(i[0], i[1], h) && (a = r < 3 ? void 0 : a,
            r = 1),
            e = Object(e); ++s < r; ) {
                var c = i[s];
                c && t(e, c, s, a)
            }
            return e
        })
    }
    t.exports = r
}
, function(t, e) {
    function i(t) {
        return t
    }
    t.exports = i
}
, function(t, e) {
    function i() {
        return !1
    }
    t.exports = i
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = i(394), n, r, a, h, c, o, u, f, d, l, b, v, m, g, p, w, x, z, _, A;
    function y(t, e, i, s) {
        i && Object.defineProperty(t, e, {
            enumerable: i.enumerable,
            configurable: i.configurable,
            writable: i.writable,
            value: i.initializer ? i.initializer.call(s) : void 0
        })
    }
    function M(t, e, i, s, n) {
        var r = {};
        return Object.keys(s).forEach(function(t) {
            r[t] = s[t]
        }),
        r.enumerable = !!r.enumerable,
        r.configurable = !!r.configurable,
        ("value"in r || r.initializer) && (r.writable = !0),
        r = i.slice().reverse().reduce(function(i, s) {
            return s(t, e, i) || i
        }, r),
        n && void 0 !== r.initializer && (r.value = r.initializer ? r.initializer.call(n) : void 0,
        r.initializer = void 0),
        void 0 === r.initializer && (Object.defineProperty(t, e, r),
        r = null),
        r
    }
    function S(t, e) {
        throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")
    }
    var C = (n = s.action.bound,
    r = s.action.bound,
    a = s.action.bound,
    h = s.action.bound,
    c = s.action.bound,
    u = M((o = function() {
        function t(t, e) {
            y(this, "list", u, this),
            this.manager = t,
            this.uid = e
        }
        var e = t.prototype;
        return e.getIndex = function t(e) {
            for (var i = -1, s = 0, n = this.list.length; s < n; s++)
                if (this.list[s].uid === e) {
                    i = s;
                    break
                }
            return i
        }
        ,
        e.add = function t(e) {
            this.list.push(e)
        }
        ,
        e.remove = function t(e) {
            this.list.splice(e, 1)
        }
        ,
        e.select = function t(e) {
            this.manager.select(this.list[this.getIndex(e)] || null)
        }
        ,
        e.destroy = function t() {
            this.list.clear(),
            this.manager = null
        }
        ,
        t
    }()).prototype, "list", [s.observable], {
        enumerable: !0,
        initializer: function t() {
            return []
        }
    }),
    M(o.prototype, "getIndex", [n], Object.getOwnPropertyDescriptor(o.prototype, "getIndex"), o.prototype),
    M(o.prototype, "add", [r], Object.getOwnPropertyDescriptor(o.prototype, "add"), o.prototype),
    M(o.prototype, "remove", [a], Object.getOwnPropertyDescriptor(o.prototype, "remove"), o.prototype),
    M(o.prototype, "select", [h], Object.getOwnPropertyDescriptor(o.prototype, "select"), o.prototype),
    M(o.prototype, "destroy", [c], Object.getOwnPropertyDescriptor(o.prototype, "destroy"), o.prototype),
    o), O, E = (f = s.action.bound,
    d = s.action.bound,
    l = s.action.bound,
    b = s.action.bound,
    v = s.action.bound,
    m = s.action.bound,
    p = M((g = function() {
        function t() {
            y(this, "targets", p, this),
            y(this, "selected", w, this),
            y(this, "screenPosition", x, this),
            y(this, "customDialog", z, this),
            y(this, "customModal", _, this),
            y(this, "modalOpen", A, this)
        }
        var e = t.prototype;
        return e.create = function t(e) {
            return this.targets[e] = new C(this,e),
            this.targets[e]
        }
        ,
        e.delete = function t(e) {
            var i;
            this.targets[e].destroy(),
            delete this.targets[e]
        }
        ,
        e.select = function t(e) {
            this.selected !== e && (this.selected && this.selected !== e && this.selected.onBlur(),
            this.selected = e,
            e && e.onFocus())
        }
        ,
        e.updateScreenPosition = function t(e, i) {
            this.screenPosition.set(0, e),
            this.screenPosition.set(1, i)
        }
        ,
        e.toggle = function t(e, i) {
            this[e] = i
        }
        ,
        e.destroy = function t() {
            for (var e in this.targets)
                this.targets[e].destroy()
        }
        ,
        t
    }()).prototype, "targets", [s.observable], {
        enumerable: !0,
        initializer: function t() {
            return {}
        }
    }),
    w = M(g.prototype, "selected", [s.observable], {
        enumerable: !0,
        initializer: function t() {
            return null
        }
    }),
    x = M(g.prototype, "screenPosition", [s.observable], {
        enumerable: !0,
        initializer: function t() {
            return [0, 0]
        }
    }),
    z = M(g.prototype, "customDialog", [s.observable], {
        enumerable: !0,
        initializer: function t() {
            return !1
        }
    }),
    _ = M(g.prototype, "customModal", [s.observable], {
        enumerable: !0,
        initializer: function t() {
            return !1
        }
    }),
    A = M(g.prototype, "modalOpen", [s.observable], {
        enumerable: !0,
        initializer: function t() {
            return !1
        }
    }),
    M(g.prototype, "create", [f], Object.getOwnPropertyDescriptor(g.prototype, "create"), g.prototype),
    M(g.prototype, "delete", [d], Object.getOwnPropertyDescriptor(g.prototype, "delete"), g.prototype),
    M(g.prototype, "select", [l], Object.getOwnPropertyDescriptor(g.prototype, "select"), g.prototype),
    M(g.prototype, "updateScreenPosition", [b], Object.getOwnPropertyDescriptor(g.prototype, "updateScreenPosition"), g.prototype),
    M(g.prototype, "toggle", [v], Object.getOwnPropertyDescriptor(g.prototype, "toggle"), g.prototype),
    M(g.prototype, "destroy", [m], Object.getOwnPropertyDescriptor(g.prototype, "destroy"), g.prototype),
    g);
    e.default = E
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = c(i(141))
      , n = h(i(152))
      , r = i(445)
      , a = h(i(450));
    function h(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function c(t) {
        if (t && t.__esModule)
            return t;
        var e = {};
        if (null != t)
            for (var i in t)
                if (Object.prototype.hasOwnProperty.call(t, i)) {
                    var s = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(t, i) : {};
                    s.get || s.set ? Object.defineProperty(e, i, s) : e[i] = t[i]
                }
        return e.default = t,
        e
    }
    function o(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    i(451),
    i(456);
    var u = function(t) {
        function e(e) {
            var i;
            return (i = t.call(this, e) || this).onThumbnailClick = function(t) {
                t && t.stopPropagation(),
                i.props.onModalOpen()
            }
            ,
            i.onModalClose = function() {
                var t;
                i.props.onModalClose(),
                !i.props.thumbSrc && "text" !== i.props.type && i.props.onClose()
            }
            ,
            i.state = {
                mainSrc: ""
            },
            i
        }
        o(e, t);
        var i = e.prototype;
        return i.componentWillReceiveProps = function t(e) {
            var i = e.thumbSrc
              , s = e.type;
            i || "text" === s || this.onThumbnailClick()
        }
        ,
        i.render = function t() {
            var e = !this.props.thumbSrc && "text" !== this.props.type;
            return s.default.createElement("div", {
                className: e ? "" : "gizmo-viewer-annotation-dialog-root",
                style: {
                    left: this.props.position[0],
                    top: this.props.position[1],
                    display: this.props.visible ? "block" : "none"
                }
            }, s.default.createElement("div", {
                className: "dialog"
            }, s.default.createElement("button", {
                className: "btn-close",
                onClick: this.props.onClose
            }), s.default.createElement("div", {
                className: "body"
            }, "text" === this.props.type && s.default.createElement("div", null, s.default.createElement("div", {
                className: "title"
            }, this.props.title), s.default.createElement("div", {
                className: "description"
            }, this.props.description)), ("image" === this.props.type || "video" === this.props.type) && this.props.thumbSrc && s.default.createElement("img", {
                className: "thumbnail",
                src: this.props.thumbSrc || this.props.imgSrc,
                onClick: this.onThumbnailClick
            }), "image" === this.props.type && !this.props.customModal && this.props.modalOpen && s.default.createElement(a.default, {
                mainSrc: this.props.imgSrc || this.props.thumbSrc,
                onCloseRequest: this.onModalClose
            }), "video" === this.props.type && !this.props.customModal && this.props.modalOpen && s.default.createElement(r.GcVideoWrapper, {
                src: this.props.videoSrc,
                open: !0,
                onClose: this.onModalClose
            }))))
        }
        ,
        e
    }(s.Component);
    e.default = u,
    u.propTypes = {
        position: n.default.array,
        offset: n.default.array,
        visible: n.default.bool,
        customModal: n.default.bool,
        modalOpen: n.default.bool,
        onOpen: n.default.func,
        onClose: n.default.func
    },
    u.defaultProps = {
        position: [0, 0],
        offset: [0, 0],
        visible: !0,
        customModal: !1,
        modalOpen: !1,
        onOpen: function t() {},
        onClose: function t() {},
        onModalOpen: function t() {},
        onModalClose: function t() {}
    }
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.GcVideo = e.GcVideoWrapper = void 0;
    var s = r(i(446));
    e.GcVideoWrapper = s.default;
    var n = r(i(395));
    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.GcVideo = n.default
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = u(i(141))
      , n = o(i(377))
      , r = o(i(152))
      , a = o(i(447))
      , h = o(i(395))
      , c = i(103);
    function o(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function u(t) {
        if (t && t.__esModule)
            return t;
        var e = {};
        if (null != t)
            for (var i in t)
                if (Object.prototype.hasOwnProperty.call(t, i)) {
                    var s = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(t, i) : {};
                    s.get || s.set ? Object.defineProperty(e, i, s) : e[i] = t[i]
                }
        return e.default = t,
        e
    }
    function f(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    function d(t) {
        if (void 0 === t)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return t
    }
    i(448);
    var l = function(t) {
        function e() {
            var e;
            return (e = t.call(this) || this).state = {
                loading: !1
            },
            e.videoPlayerResize = e._videoPlayerResize.bind(d(e)),
            e.handlePopstate = e._handlePopstate.bind(d(e)),
            e
        }
        f(e, t);
        var i = e.prototype;
        return i.componentDidMount = function t() {
            window.addEventListener("resize", this.videoPlayerResize, this),
            window.addEventListener("popstate", this.handlePopstate, this),
            this._videoPlayerResize()
        }
        ,
        i.componentWillUnmount = function t() {
            window.removeEventListener("resize", this.videoPlayerResize, this),
            window.removeEventListener("popstate", this.handlePopstate, this)
        }
        ,
        i.componentDidUpdate = function t() {
            this.props.open && this.video.play()
        }
        ,
        i.getClentRect = function t() {
            var e, i;
            return window.innerWidth ? e = window.innerWidth : document.body && document.body.clientWidth && (e = document.body.clientWidth),
            window.innerHeight ? i = window.innerHeight : document.body && document.body.clientHeight && (i = document.body.clientHeight),
            {
                w: e,
                h: i
            }
        }
        ,
        i._videoPlayerResize = function t() {
            var e = this.getClentRect()
              , i = this.video
              , s = this.closeBtn;
            return i ? (i.setAttribute("width", parseInt(.8 * e.w)),
            i.setAttribute("height", parseInt(.6 * e.h)),
            s ? (s.style.top = .05 * e.h + "px",
            void (s.style.left = .05 * e.w + "px")) : void 0) : void 0
        }
        ,
        i._handlePopstate = function t(e) {
            this.props.open && (this.hidePlayer(),
            e.stopPropagation())
        }
        ,
        i.closeVideo = function t(e) {
            e.stopPropagation(),
            this.hidePlayer(),
            this.video && this.video.pause()
        }
        ,
        i.hidePlayer = function t(e) {
            this.shake() || this.props.onClose(!1)
        }
        ,
        i.shake = function t() {
            var e = Date.parse(new Date);
            return e - this.openVodeoTime <= 500 || (this.openVodeoTime = e,
            !1)
        }
        ,
        i.renderContent = function t() {
            var e = this
              , i = this.props
              , n = i.src
              , r = i.open;
            return s.default.createElement("div", {
                style: {
                    display: this.props.open ? "block" : "none"
                },
                className: (0,
                a.default)("gc-video-wrapper", {
                    "vjs-waiting": this.state.loading
                }),
                onClick: function t(e) {
                    return e.stopPropagation()
                }
            }, s.default.createElement(h.default, {
                src: n,
                onRef: function t(i) {
                    return e.video = i
                },
                onLoadStart: function t(i) {
                    return e.setState({
                        loading: !0
                    })
                },
                onCanPlay: function t(i) {
                    e.setState({
                        loading: !1
                    })
                }
            }), s.default.createElement("button", {
                ref: function t(i) {
                    return e.closeBtn
                },
                className: (0,
                a.default)("gc-video-wrapper-close-btn", {
                    "mobile-close": (0,
                    c.browser)("mobile")
                }),
                icon: "close",
                onClick: function t(i) {
                    return e.closeVideo(i)
                }
            }), s.default.createElement("div", {
                className: "vjs-loading-spinner"
            }))
        }
        ,
        i.render = function t() {
            return n.default.createPortal(this.renderContent(), document.body)
        }
        ,
        e
    }(s.Component);
    e.default = l,
    l.propTypes = {
        onClose: r.default.func,
        open: r.default.bool
    },
    l.defaultProps = {
        onClose: function t() {},
        open: !1
    }
}
, function(t, e, i) {
    t.exports = i(50)(35)
}
, function(t, e, i) {}
, , function(t, e, i) {
    t.exports = i(50)(44)
}
, function(t, e, i) {
    var s = i(452), n, r;
    "string" == typeof s && (s = [[t.i, s, ""]]);
    var a = {
        hmr: !0,
        transform: void 0,
        insertInto: void 0
    }
      , h = i(454)(s, a);
    s.locals && (t.exports = s.locals)
}
, function(t, e, i) {
    (e = t.exports = i(453)(!1)).push([t.i, "@-webkit-keyframes closeWindow {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n\n@keyframes closeWindow {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n\n.ril__outer {\n  background-color: rgba(0, 0, 0, 0.85);\n  outline: none;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1000;\n  width: 100%;\n  height: 100%;\n  -ms-content-zooming: none;\n  -ms-user-select: none;\n  -ms-touch-select: none;\n  -ms-touch-action: none;\n      touch-action: none;\n}\n\n.ril__outerClosing {\n  opacity: 0;\n}\n\n.ril__inner {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.ril__image,\n.ril__imagePrev,\n.ril__imageNext {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  max-width: none;\n  -ms-content-zooming: none;\n  -ms-user-select: none;\n  -ms-touch-select: none;\n  -ms-touch-action: none;\n      touch-action: none;\n}\n\n.ril__imageDiscourager {\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n}\n\n.ril__navButtons {\n  border: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 20px;\n  height: 34px;\n  padding: 40px 30px;\n  margin: auto;\n  cursor: pointer;\n  opacity: 0.7;\n}\n.ril__navButtons:hover {\n  opacity: 1;\n}\n.ril__navButtons:active {\n  opacity: 0.7;\n}\n\n.ril__navButtonPrev {\n  left: 0;\n  background: rgba(0, 0, 0, 0.2)\n    url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjM0Ij48cGF0aCBkPSJtIDE5LDMgLTIsLTIgLTE2LDE2IDE2LDE2IDEsLTEgLTE1LC0xNSAxNSwtMTUgeiIgZmlsbD0iI0ZGRiIvPjwvc3ZnPg==')\n    no-repeat center;\n}\n\n.ril__navButtonNext {\n  right: 0;\n  background: rgba(0, 0, 0, 0.2)\n    url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjM0Ij48cGF0aCBkPSJtIDEsMyAyLC0yIDE2LDE2IC0xNiwxNiAtMSwtMSAxNSwtMTUgLTE1LC0xNSB6IiBmaWxsPSIjRkZGIi8+PC9zdmc+')\n    no-repeat center;\n}\n\n.ril__downloadBlocker {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');\n  background-size: cover;\n}\n\n.ril__caption,\n.ril__toolbar {\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  left: 0;\n  right: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n\n.ril__caption {\n  bottom: 0;\n  max-height: 150px;\n  overflow: auto;\n}\n\n.ril__captionContent {\n  padding: 10px 20px;\n  color: #fff;\n}\n\n.ril__toolbar {\n  top: 0;\n  height: 50px;\n}\n\n.ril__toolbarSide {\n  height: 50px;\n  margin: 0;\n}\n\n.ril__toolbarLeftSide {\n  padding-left: 20px;\n  padding-right: 0;\n  -webkit-box-flex: 0;\n      -ms-flex: 0 1 auto;\n          flex: 0 1 auto;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n     text-overflow: ellipsis;\n}\n\n.ril__toolbarRightSide {\n  padding-left: 0;\n  padding-right: 20px;\n  -webkit-box-flex: 0;\n      -ms-flex: 0 0 auto;\n          flex: 0 0 auto;\n}\n\n.ril__toolbarItem {\n  display: inline-block;\n  line-height: 50px;\n  padding: 0;\n  color: #fff;\n  font-size: 120%;\n  max-width: 100%;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n     text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.ril__toolbarItemChild {\n  vertical-align: middle;\n}\n\n.ril__builtinButton {\n  width: 40px;\n  height: 35px;\n  cursor: pointer;\n  border: none;\n  opacity: 0.7;\n}\n.ril__builtinButton:hover {\n  opacity: 1;\n}\n.ril__builtinButton:active {\n  outline: none;\n}\n\n.ril__builtinButtonDisabled {\n  cursor: default;\n  opacity: 0.5;\n}\n.ril__builtinButtonDisabled:hover {\n  opacity: 0.5;\n}\n\n.ril__closeButton {\n  background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIj48cGF0aCBkPSJtIDEsMyAxLjI1LC0xLjI1IDcuNSw3LjUgNy41LC03LjUgMS4yNSwxLjI1IC03LjUsNy41IDcuNSw3LjUgLTEuMjUsMS4yNSAtNy41LC03LjUgLTcuNSw3LjUgLTEuMjUsLTEuMjUgNy41LC03LjUgLTcuNSwtNy41IHoiIGZpbGw9IiNGRkYiLz48L3N2Zz4=')\n    no-repeat center;\n}\n\n.ril__zoomInButton {\n  background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PGcgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTEgMTlsNi02Ii8+PHBhdGggZD0iTTkgOGg2Ii8+PHBhdGggZD0iTTEyIDV2NiIvPjwvZz48Y2lyY2xlIGN4PSIxMiIgY3k9IjgiIHI9IjciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+')\n    no-repeat center;\n}\n\n.ril__zoomOutButton {\n  background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PGcgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTEgMTlsNi02Ii8+PHBhdGggZD0iTTkgOGg2Ii8+PC9nPjxjaXJjbGUgY3g9IjEyIiBjeT0iOCIgcj0iNyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiLz48L3N2Zz4=')\n    no-repeat center;\n}\n\n.ril__outerAnimating {\n  -webkit-animation-name: closeWindow;\n          animation-name: closeWindow;\n}\n\n@-webkit-keyframes pointFade {\n  0%,\n  19.999%,\n  100% {\n    opacity: 0;\n  }\n  20% {\n    opacity: 1;\n  }\n}\n\n@keyframes pointFade {\n  0%,\n  19.999%,\n  100% {\n    opacity: 0;\n  }\n  20% {\n    opacity: 1;\n  }\n}\n\n.ril__loadingCircle {\n  width: 60px;\n  height: 60px;\n  position: relative;\n}\n\n.ril__loadingCirclePoint {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.ril__loadingCirclePoint::before {\n  content: '';\n  display: block;\n  margin: 0 auto;\n  width: 11%;\n  height: 30%;\n  background-color: #fff;\n  border-radius: 30%;\n  -webkit-animation: pointFade 800ms infinite ease-in-out both;\n          animation: pointFade 800ms infinite ease-in-out both;\n}\n.ril__loadingCirclePoint:nth-of-type(1) {\n  -webkit-transform: rotate(0deg);\n          -ms-transform: rotate(0deg);\n      transform: rotate(0deg);\n}\n.ril__loadingCirclePoint:nth-of-type(7) {\n  -webkit-transform: rotate(180deg);\n          -ms-transform: rotate(180deg);\n      transform: rotate(180deg);\n}\n.ril__loadingCirclePoint:nth-of-type(1)::before,\n.ril__loadingCirclePoint:nth-of-type(7)::before {\n  -webkit-animation-delay: -800ms;\n          animation-delay: -800ms;\n}\n.ril__loadingCirclePoint:nth-of-type(2) {\n  -webkit-transform: rotate(30deg);\n          -ms-transform: rotate(30deg);\n      transform: rotate(30deg);\n}\n.ril__loadingCirclePoint:nth-of-type(8) {\n  -webkit-transform: rotate(210deg);\n          -ms-transform: rotate(210deg);\n      transform: rotate(210deg);\n}\n.ril__loadingCirclePoint:nth-of-type(2)::before,\n.ril__loadingCirclePoint:nth-of-type(8)::before {\n  -webkit-animation-delay: -666ms;\n          animation-delay: -666ms;\n}\n.ril__loadingCirclePoint:nth-of-type(3) {\n  -webkit-transform: rotate(60deg);\n          -ms-transform: rotate(60deg);\n      transform: rotate(60deg);\n}\n.ril__loadingCirclePoint:nth-of-type(9) {\n  -webkit-transform: rotate(240deg);\n          -ms-transform: rotate(240deg);\n      transform: rotate(240deg);\n}\n.ril__loadingCirclePoint:nth-of-type(3)::before,\n.ril__loadingCirclePoint:nth-of-type(9)::before {\n  -webkit-animation-delay: -533ms;\n          animation-delay: -533ms;\n}\n.ril__loadingCirclePoint:nth-of-type(4) {\n  -webkit-transform: rotate(90deg);\n          -ms-transform: rotate(90deg);\n      transform: rotate(90deg);\n}\n.ril__loadingCirclePoint:nth-of-type(10) {\n  -webkit-transform: rotate(270deg);\n          -ms-transform: rotate(270deg);\n      transform: rotate(270deg);\n}\n.ril__loadingCirclePoint:nth-of-type(4)::before,\n.ril__loadingCirclePoint:nth-of-type(10)::before {\n  -webkit-animation-delay: -400ms;\n          animation-delay: -400ms;\n}\n.ril__loadingCirclePoint:nth-of-type(5) {\n  -webkit-transform: rotate(120deg);\n          -ms-transform: rotate(120deg);\n      transform: rotate(120deg);\n}\n.ril__loadingCirclePoint:nth-of-type(11) {\n  -webkit-transform: rotate(300deg);\n          -ms-transform: rotate(300deg);\n      transform: rotate(300deg);\n}\n.ril__loadingCirclePoint:nth-of-type(5)::before,\n.ril__loadingCirclePoint:nth-of-type(11)::before {\n  -webkit-animation-delay: -266ms;\n          animation-delay: -266ms;\n}\n.ril__loadingCirclePoint:nth-of-type(6) {\n  -webkit-transform: rotate(150deg);\n          -ms-transform: rotate(150deg);\n      transform: rotate(150deg);\n}\n.ril__loadingCirclePoint:nth-of-type(12) {\n  -webkit-transform: rotate(330deg);\n          -ms-transform: rotate(330deg);\n      transform: rotate(330deg);\n}\n.ril__loadingCirclePoint:nth-of-type(6)::before,\n.ril__loadingCirclePoint:nth-of-type(12)::before {\n  -webkit-animation-delay: -133ms;\n          animation-delay: -133ms;\n}\n.ril__loadingCirclePoint:nth-of-type(7) {\n  -webkit-transform: rotate(180deg);\n          -ms-transform: rotate(180deg);\n      transform: rotate(180deg);\n}\n.ril__loadingCirclePoint:nth-of-type(13) {\n  -webkit-transform: rotate(360deg);\n          -ms-transform: rotate(360deg);\n      transform: rotate(360deg);\n}\n.ril__loadingCirclePoint:nth-of-type(7)::before,\n.ril__loadingCirclePoint:nth-of-type(13)::before {\n  -webkit-animation-delay: 0ms;\n          animation-delay: 0ms;\n}\n\n.ril__loadingContainer {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.ril__imagePrev .ril__loadingContainer,\n.ril__imageNext .ril__loadingContainer {\n  display: none;\n}\n\n.ril__errorContainer {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  color: #fff;\n}\n.ril__imagePrev .ril__errorContainer,\n.ril__imageNext .ril__errorContainer {\n  display: none;\n}\n\n.ril__loadingContainer__icon {\n  color: #fff;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n          -ms-transform: translateX(-50%) translateY(-50%);\n      transform: translateX(-50%) translateY(-50%);\n}", ""])
}
, function(t, e) {
    function i(t, e) {
        var i = t[1] || ""
          , n = t[3];
        if (!n)
            return i;
        if (e && "function" == typeof btoa) {
            var r = s(n)
              , a = n.sources.map(function(t) {
                return "/*# sourceURL=" + n.sourceRoot + t + " */"
            });
            return [i].concat(a).concat([r]).join("\n")
        }
        return [i].join("\n")
    }
    function s(t) {
        var e, i;
        return "/*# " + ("sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(t))))) + " */"
    }
    t.exports = function(t) {
        var e = [];
        return e.toString = function e() {
            return this.map(function(e) {
                var s = i(e, t);
                return e[2] ? "@media " + e[2] + "{" + s + "}" : s
            }).join("")
        }
        ,
        e.i = function(t, i) {
            "string" == typeof t && (t = [[null, t, ""]]);
            for (var s = {}, n = 0; n < this.length; n++) {
                var r = this[n][0];
                "number" == typeof r && (s[r] = !0)
            }
            for (n = 0; n < t.length; n++) {
                var a = t[n];
                "number" == typeof a[0] && s[a[0]] || (i && !a[2] ? a[2] = i : i && (a[2] = "(" + a[2] + ") and (" + i + ")"),
                e.push(a))
            }
        }
        ,
        e
    }
}
, function(t, e, i) {
    var s = {}, n, r = function(t) {
        var e;
        return function() {
            return void 0 === e && (e = t.apply(this, arguments)),
            e
        }
    }(function() {
        return window && document && document.all && !window.atob
    }), a = function(t) {
        return document.querySelector(t)
    }, h = (o = {},
    function(t) {
        if ("function" == typeof t)
            return t();
        if (void 0 === o[t]) {
            var e = a.call(this, t);
            if (window.HTMLIFrameElement && e instanceof window.HTMLIFrameElement)
                try {
                    e = e.contentDocument.head
                } catch (t) {
                    e = null
                }
            o[t] = e
        }
        return o[t]
    }
    ), c, o, u = null, f = 0, d = [], l = i(455);
    function b(t, e) {
        for (var i = 0; i < t.length; i++) {
            var n = t[i]
              , r = s[n.id];
            if (r) {
                r.refs++;
                for (var a = 0; a < r.parts.length; a++)
                    r.parts[a](n.parts[a]);
                for (; a < n.parts.length; a++)
                    r.parts.push(z(n.parts[a], e))
            } else {
                for (var h = [], a = 0; a < n.parts.length; a++)
                    h.push(z(n.parts[a], e));
                s[n.id] = {
                    id: n.id,
                    refs: 1,
                    parts: h
                }
            }
        }
    }
    function v(t, e) {
        for (var i = [], s = {}, n = 0; n < t.length; n++) {
            var r = t[n], a = e.base ? r[0] + e.base : r[0], h, c, o, u = {
                css: r[1],
                media: r[2],
                sourceMap: r[3]
            };
            s[a] ? s[a].parts.push(u) : i.push(s[a] = {
                id: a,
                parts: [u]
            })
        }
        return i
    }
    function m(t, e) {
        var i = h(t.insertInto);
        if (!i)
            throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
        var s = d[d.length - 1];
        if ("top" === t.insertAt)
            s ? s.nextSibling ? i.insertBefore(e, s.nextSibling) : i.appendChild(e) : i.insertBefore(e, i.firstChild),
            d.push(e);
        else if ("bottom" === t.insertAt)
            i.appendChild(e);
        else {
            if ("object" != typeof t.insertAt || !t.insertAt.before)
                throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
            var n = h(t.insertInto + " " + t.insertAt.before);
            i.insertBefore(e, n)
        }
    }
    function g(t) {
        if (null === t.parentNode)
            return !1;
        t.parentNode.removeChild(t);
        var e = d.indexOf(t);
        e >= 0 && d.splice(e, 1)
    }
    function p(t) {
        var e = document.createElement("style");
        return t.attrs.type = "text/css",
        x(e, t.attrs),
        m(t, e),
        e
    }
    function w(t) {
        var e = document.createElement("link");
        return t.attrs.type = "text/css",
        t.attrs.rel = "stylesheet",
        x(e, t.attrs),
        m(t, e),
        e
    }
    function x(t, e) {
        Object.keys(e).forEach(function(i) {
            t.setAttribute(i, e[i])
        })
    }
    function z(t, e) {
        var i, s, n, r;
        if (e.transform && t.css) {
            if (!(r = e.transform(t.css)))
                return function() {}
                ;
            t.css = r
        }
        if (e.singleton) {
            var a = f++;
            i = u || (u = p(e)),
            s = y.bind(null, i, a, !1),
            n = y.bind(null, i, a, !0)
        } else
            t.sourceMap && "function" == typeof URL && "function" == typeof URL.createObjectURL && "function" == typeof URL.revokeObjectURL && "function" == typeof Blob && "function" == typeof btoa ? (i = w(e),
            s = S.bind(null, i, e),
            n = function() {
                g(i),
                i.href && URL.revokeObjectURL(i.href)
            }
            ) : (i = p(e),
            s = M.bind(null, i),
            n = function() {
                g(i)
            }
            );
        return s(t),
        function e(i) {
            if (i) {
                if (i.css === t.css && i.media === t.media && i.sourceMap === t.sourceMap)
                    return;
                s(t = i)
            } else
                n()
        }
    }
    t.exports = function(t, e) {
        if ("undefined" != typeof DEBUG && DEBUG && "object" != typeof document)
            throw new Error("The style-loader cannot be used in a non-browser environment");
        (e = e || {}).attrs = "object" == typeof e.attrs ? e.attrs : {},
        e.singleton || "boolean" == typeof e.singleton || (e.singleton = r()),
        e.insertInto || (e.insertInto = "head"),
        e.insertAt || (e.insertAt = "bottom");
        var i = v(t, e);
        return b(i, e),
        function t(n) {
            for (var r = [], a = 0, h; a < i.length; a++) {
                var c = i[a], o;
                (o = s[c.id]).refs--,
                r.push(o)
            }
            n && b(v(n, e), e);
            for (var a = 0; a < r.length; a++) {
                var o;
                if (0 === (o = r[a]).refs) {
                    for (var u = 0; u < o.parts.length; u++)
                        o.parts[u]();
                    delete s[o.id]
                }
            }
        }
    }
    ;
    var _ = (A = [],
    function(t, e) {
        return A[t] = e,
        A.filter(Boolean).join("\n")
    }
    ), A;
    function y(t, e, i, s) {
        var n = i ? "" : s.css;
        if (t.styleSheet)
            t.styleSheet.cssText = _(e, n);
        else {
            var r = document.createTextNode(n)
              , a = t.childNodes;
            a[e] && t.removeChild(a[e]),
            a.length ? t.insertBefore(r, a[e]) : t.appendChild(r)
        }
    }
    function M(t, e) {
        var i = e.css
          , s = e.media;
        if (s && t.setAttribute("media", s),
        t.styleSheet)
            t.styleSheet.cssText = i;
        else {
            for (; t.firstChild; )
                t.removeChild(t.firstChild);
            t.appendChild(document.createTextNode(i))
        }
    }
    function S(t, e, i) {
        var s = i.css
          , n = i.sourceMap
          , r = void 0 === e.convertToAbsoluteUrls && n;
        (e.convertToAbsoluteUrls || r) && (s = l(s)),
        n && (s += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(n)))) + " */");
        var a = new Blob([s],{
            type: "text/css"
        })
          , h = t.href;
        t.href = URL.createObjectURL(a),
        h && URL.revokeObjectURL(h)
    }
}
, function(t, e) {
    t.exports = function(t) {
        var e = "undefined" != typeof window && window.location;
        if (!e)
            throw new Error("fixUrls requires window.location");
        if (!t || "string" != typeof t)
            return t;
        var i = e.protocol + "//" + e.host, s = i + e.pathname.replace(/\/[^\/]*$/, "/"), n;
        return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(t, e) {
            var n = e.trim().replace(/^"(.*)"$/, function(t, e) {
                return e
            }).replace(/^'(.*)'$/, function(t, e) {
                return e
            }), r;
            return /^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(n) ? t : (r = 0 === n.indexOf("//") ? n : 0 === n.indexOf("/") ? i + n : s + n.replace(/^\.\//, ""),
            "url(" + JSON.stringify(r) + ")")
        })
    }
}
, function(t, e, i) {}
, , function(t, e, i) {
    "use strict";
    (function(t, s) {
        e.__esModule = !0,
        e.default = void 0;
        var n = j(i(49))
          , r = i(15)
          , a = i(362)
          , h = j(i(459))
          , c = j(i(460))
          , o = j(i(365))
          , u = j(i(368))
          , f = j(i(55))
          , d = j(i(481))
          , l = j(i(486))
          , b = j(i(495))
          , v = j(i(496))
          , m = j(i(398))
          , g = j(i(497))
          , p = j(i(153))
          , w = j(i(498))
          , x = j(i(372))
          , z = j(i(370))
          , _ = i(406)
          , A = j(i(530))
          , y = j(i(366))
          , M = j(i(71))
          , S = j(i(531))
          , C = j(i(532))
          , O = i(533)
          , E = i(31)
          , D = j(i(393))
          , T = j(i(154))
          , P = j(i(147))
          , B = j(i(369))
          , I = i(73);
        function j(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function R(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        function L(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }
        var N = function(e) {
            function i(i, s) {
                var r;
                void 0 === s && (s = {}),
                r = e.call(this, i, {
                    mouse: new t.Nf(i),
                    keyboard: new t.Ff(window),
                    touch: "ontouchstart"in window ? new t.Vf(i) : null,
                    elementInput: new t.Gf(i),
                    ud: {
                        preferWebGl2: !0
                    },
                    assetPrimaryKey: "uid",
                    autoResize: !0,
                    autoStart: !1
                }) || this;
                var c = (0,
                O.OrbitCamera)(L(r))
                  , o = (0,
                O.OrbitCameraMouseInput)(L(r))
                  , u = (0,
                O.OrbitCameraTouchInput)(L(r))
                  , f = (0,
                O.LookCamera)(L(r))
                  , m = (0,
                O.LookCameraMouseInput)(L(r))
                  , p = (0,
                O.LookCameraTouchInput)(L(r))
                  , x = (0,
                O.CameraRotate)(L(r))
                  , z = (0,
                O.Picker)(L(r))
                  , _ = (0,
                O.Opacity)(L(r))
                  , y = (0,
                O.ArCamera)(L(r));
                r.nd = !1,
                r.enableRecorder = s.enableRecorder || !1,
                r.store = D.default,
                r.query = s.query || (0,
                E.parseQuery)(),
                r.gmcParser = new h.default({
                    useWasm: !0,
                    useMg: !0,
                    useNostack: !0,
                    onParsedJson: function t(e, i) {
                        return r.sdk.send("jmyd1d1d:onParsedJson:time", i)
                    },
                    onParsedModel: function t(e, i) {
                        return r.sdk.send("jmyd1d1d:onParsedModel:time", i)
                    }
                }),
                r.loader.Tl("model").addParser(r.gmcParser),
                r.assets.useTextureCompression = s.useTextureCompression || !1,
                r.assets.useTextureSize = s.textureResolution || 0,
                r.assets.useTextureVariantStrategy = s.useTextureVariantStrategy || 0,
                r.assets.useCubemapProgressive = s.useCubemapProgressive || !1,
                r.assets.useCubemapProgressiveSize = s.useCubemapProgressiveSize || 0,
                r.assets.useModelProgressive = s.useModelProgressive || !1,
                r.assets.useModelProgressiveSize = s.useModelProgressiveSize || 0,
                r.textureResolution = s.textureResolution || 1024,
                r.ldPixelRatio = s.ldPixelRatio || 1,
                r._arVideoWrap = s.arVideoWrap,
                r.configuration = {},
                (0,
                n.default)(T.default).forEach(function(e) {
                    var i = T.default[e]
                      , s = i.uid
                      , n = i.type || t.dm
                      , a = i.url || i
                      , h = i.data || null
                      , c = i.variants || null
                      , o = new t.Zf(e,n,{
                        url: a,
                        variants: c
                    },h);
                    r.assets.textures._assets[s] = o,
                    r.assets.add(o)
                });
                var M = r.scene.layers.getLayerById(t.LAYERID_WORLD)
                  , S = new t.Layer({
                    name: "Ground",
                    id: I.LAYERID_GROUND,
                    enabled: !0
                })
                  , C = new t.Layer({
                    name: "Shadow",
                    id: I.LAYERID_SHADOW,
                    enabled: !0,
                    transparentSortMode: t.SORTMODE_MATERIALMESH
                })
                  , P = new t.Layer({
                    name: "Flare",
                    id: I.LAYERID_FLARE,
                    enabled: !0
                })
                  , j = new t.Layer({
                    name: "VisualBox",
                    id: I.LAYERID_VISUALBOX,
                    enabled: !1,
                    transparentSortMode: t.SORTMODE_NONE
                });
                return M.transparentSortMode = t.SORTMODE_CUSTOM,
                M.customSortCallback = t.helper.customSortCallback,
                r.scene.layers.insertOpaque(S, 4),
                r.scene.layers.insertTransparent(S, 5),
                r.scene.layers.insertTransparent(C, 6),
                r.scene.layers.insertTransparent(P, 7),
                r.scene.layers.insertTransparent(j, 8),
                r.permissions = new l.default(L(r),s.userLevel),
                r.interfaces = new d.default(L(r)),
                r.lights = new b.default(L(r)),
                r.ground = new g.default(L(r)),
                r.differ = new v.default(L(r)),
                r.scenes = new w.default(L(r)),
                r.speeder = new A.default(L(r)),
                r.sdk = new a.GizmoSDKAdvanced(window,{
                    useJsBridge: r.query.jb,
                    onStart: r.start.bind(L(r)),
                    onGetState: r.getState.bind(L(r)),
                    onGetOptions: r.getOptions.bind(L(r)),
                    onSetState: r.setState.bind(L(r))
                }),
                r.enableRecorder && B.default.attach(L(r)),
                r
            }
            R(i, e);
            var r = i.prototype;
            return r.destroy = function t() {
                delete this.camera,
                delete this.model,
                this.sdk.destroy(),
                e.prototype.destroy.call(this),
                this.enableRecorder && B.default.detach()
            }
            ,
            r.configure = function e(i) {
                var s = this
                  , n = this.configuration
                  , r = (0,
                E.parseShadowData)(i)
                  , a = (0,
                E.parseModelData)(i)
                  , h = (0,
                E.parseCameraData)(i)
                  , u = (0,
                E.parseCubemapData)(P.default[2])
                  , f = i.cubemaps || (i.cubemap ? [i.cubemap] : [])
                  , d = i.panoramas || []
                  , l = i.scene;
                if (n._data = i,
                n.shadowData = r,
                n.modelData = a,
                n.cameraData = h,
                n.cubemapData = u,
                n.cubemapsData = f,
                n.panoramasData = d,
                n.sceneData = l,
                this.scene.skyboxMip = 4,
                this.scene.skyboxIntensity = i.background.data.brightness,
                this.scene.gammaCorrection = t.hh,
                this.scene.toneMapping = t.Wr,
                this.scene.ambientLight = new t.D(0,0,0,0),
                this.camera = new c.default({
                    name: "Camera",
                    videoWrap: this._arVideoWrap
                }),
                this.camera.views.generate(i.orbits),
                this.camera.views.generateAr(),
                "color" === i.background.type) {
                    var b = n.cubemapsData.find(function(t) {
                        return t.uid === i.environment.cubemapUid
                    });
                    this.scenes.generateColorScene({
                        color: i.background.color,
                        cubemap: b
                    }),
                    n.cubemapData = u = b
                }
                return f.forEach(function(t) {
                    return s.scenes.add(new x.default(s,t))
                }),
                d.forEach(function(t) {
                    return s.scenes.add(new z.default(s,t))
                }),
                l && l.data && this.scenes.add(new _.HubDuskScene(this,l.data)),
                this.assets.models.add(a, {
                    mappingKey: "uid"
                }),
                this.model = new o.default({
                    name: "Model",
                    uid: a.uid
                }),
                this.model.shadow.generate(r),
                this
            }
            ,
            r.load = function t() {
                var e;
                switch (this.configuration._data.entryMode || 0) {
                case 0:
                case 3:
                    return S.default.call(this);
                case 1:
                    return C.default.call(this)
                }
            }
            ,
            r.start = function t(i) {
                var s = this;
                void 0 === i && (i = !0),
                this.query || (this.query = (0,
                E.parseQuery)()),
                e.prototype.start.call(this),
                this.once("frameend", function() {
                    s.sdk.send("jmyd1d1d:start"),
                    s.query.autoStart && i && s.initQuery()
                }, this),
                this.camera.transientRender(),
                this.assets.useModelProgressive && this.model.setTextureSize(this.assets.useModelProgressiveSize)
            }
            ,
            r.getOptions = function t() {
                return this.interfaces.getOptions()
            }
            ,
            r.getState = function t() {
                return this.interfaces.getState()
            }
            ,
            r.setState = function t(e) {
                this.interfaces.setState(e)
            }
            ,
            r.initQuery = function t() {
                var e = this, i, n = this.query, r = {
                    attributes: n.attributes,
                    headlight: n.headlight,
                    moving: n.moving,
                    size: n.size,
                    visible: n.visible,
                    annotations: {
                        enabled: n.annotations,
                        customDialog: n["annotations.customdialog"],
                        customModal: n["annotations.custommodal"]
                    },
                    doors: {},
                    windows: {}
                }, a = [], h = s.genSign ? genSign() : {};
                n["model.aabb"] ? a = this.model.model.meshInstances : (n["wheels.aabb"] && p.default.KEYS.forEach(function(t) {
                    a = a.concat(e.model.wheels._original[t].meshInstances)
                }),
                n["doors.aabb"] && this.model.doors.groups.forEach(function(t) {
                    a = a.concat(t.meshInstances)
                })),
                a.length && (this.gizmos.create("aabb"),
                this.gizmos.aabb.attach(a)),
                n.vrcamera && (i = n.vrcamera.split(",").map(function(t) {
                    return parseFloat(t)
                }),
                this.camera.vr.cameraOffsetEntity.setPosition(i[0], i[1], i[2])),
                n.arcamera && this.camera.views.switch("AR_View"),
                void 0 !== n.wheel && (r.wheel = {
                    uid: n.wheel,
                    sign: h
                }),
                void 0 !== n.skybox && (r.skybox = n.skybox),
                void 0 !== n.panorama && (r.panorama = n.panorama),
                void 0 !== n.interior && (r.interior = n.interior),
                void 0 !== n.exterior && (r.exterior = n.exterior),
                void 0 !== n["doors.status"] && (i = n["doors.status"],
                r.doors.status = [i, i, i, i]),
                void 0 !== n["windows.status"] && (i = n["windows.status"],
                r.windows.status = [i, i, i, i]),
                void 0 !== n["doors.annotations"] && (r.doors.annotations = n["doors.annotations"]),
                void 0 !== n["differ.target"] && (r.differ = {
                    target: n["differ.target"] || null,
                    size: n["differ.size"] || !1,
                    box: n["differ.box"] || !1,
                    merge: n["differ.merge"] || !1,
                    measure: n["differ.measure"] || !1,
                    headlight: n["differ.headlight"] || !1,
                    attributes: n["differ.attributes"] || !1,
                    visible: n["differ.visible"] || !0,
                    sign: h
                }),
                !1 !== n.moving || void 0 === n["speeder.mode"] && void 0 === n["speeder.action"] || (r.speeder = {
                    mode: +n["speeder.mode"] || 0,
                    action: +n["speeder.action"] || 0
                }),
                this.setState(r)
            }
            ,
            i
        }(r.Ir);
        e.default = N
    }
    ).call(this, i(6), i(102))
}
, function(module, exports, __webpack_require__) {
    (function(pc) {
        !function t(e, i) {
            var s, n;
            module.exports = i()
        }(window, function() {
            return function(t) {
                var e = {};
                function i(s) {
                    if (e[s])
                        return e[s].exports;
                    var n = e[s] = {
                        i: s,
                        l: !1,
                        exports: {}
                    };
                    return t[s].call(n.exports, n, n.exports, i),
                    n.l = !0,
                    n.exports
                }
                return i.m = t,
                i.c = e,
                i.d = function(t, e, s) {
                    i.o(t, e) || Object.defineProperty(t, e, {
                        enumerable: !0,
                        get: s
                    })
                }
                ,
                i.r = function(t) {
                    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
                        value: "Module"
                    }),
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    })
                }
                ,
                i.t = function(t, e) {
                    if (1 & e && (t = i(t)),
                    8 & e)
                        return t;
                    if (4 & e && "object" == typeof t && t && t.__esModule)
                        return t;
                    var s = Object.create(null);
                    if (i.r(s),
                    Object.defineProperty(s, "default", {
                        enumerable: !0,
                        value: t
                    }),
                    2 & e && "string" != typeof t)
                        for (var n in t)
                            i.d(s, n, function(e) {
                                return t[e]
                            }
                            .bind(null, n));
                    return s
                }
                ,
                i.n = function(t) {
                    var e = t && t.__esModule ? function e() {
                        return t.default
                    }
                    : function e() {
                        return t
                    }
                    ;
                    return i.d(e, "a", e),
                    e
                }
                ,
                i.o = function(t, e) {
                    return Object.prototype.hasOwnProperty.call(t, e)
                }
                ,
                i.p = "",
                i(i.s = 6)
            }([function(t, e, i) {
                "use strict";
                function s(t, e) {
                    var i = new Float32Array(t.length + e.length);
                    return i.set(t),
                    i.set(e, t.length),
                    i
                }
                function n(t, e) {
                    var i = new Uint8Array(t.length + e.length);
                    return i.set(t),
                    i.set(e, t.length),
                    i
                }
                function r(t, e) {
                    if (t.length < 4 * e)
                        throw Error("deserializeInt32:\n can not parse " + e + " int32 from a buffer of length " + t.length);
                    for (var i = [], s = 0; s + 4 <= t.length; ) {
                        var n, r, a, h, c = (255 & t[s + 0]) << 24 | (255 & t[s + 1]) << 16 | (255 & t[s + 2]) << 8 | 255 & t[s + 3];
                        i.push(c),
                        s += 4
                    }
                    return i
                }
                function a(t) {
                    for (var e = t.length, i = -1 / 0; e--; )
                        i = t[e] > i ? t[e] : i;
                    return i
                }
                i.d(e, "c", function() {
                    return s
                }),
                i.d(e, "d", function() {
                    return n
                }),
                i.d(e, "a", function() {
                    return r
                }),
                i.d(e, "b", function() {
                    return a
                })
            }
            , function(t, e, i) {
                "use strict";
                (function(t) {
                    /*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
                    var s = i(7)
                      , n = i(8)
                      , r = i(9);
                    function a() {
                        try {
                            var t = new Uint8Array(1);
                            return t.__proto__ = {
                                __proto__: Uint8Array.prototype,
                                foo: function() {
                                    return 42
                                }
                            },
                            42 === t.foo() && "function" == typeof t.subarray && 0 === t.subarray(1, 1).byteLength
                        } catch (t) {
                            return !1
                        }
                    }
                    function h() {
                        return o.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
                    }
                    function c(t, e) {
                        if (h() < e)
                            throw new RangeError("Invalid typed array length");
                        return o.TYPED_ARRAY_SUPPORT ? (t = new Uint8Array(e)).__proto__ = o.prototype : (null === t && (t = new o(e)),
                        t.length = e),
                        t
                    }
                    function o(t, e, i) {
                        if (!(o.TYPED_ARRAY_SUPPORT || this instanceof o))
                            return new o(t,e,i);
                        if ("number" == typeof t) {
                            if ("string" == typeof e)
                                throw new Error("If encoding is specified then the first argument must be a string");
                            return l(this, t)
                        }
                        return u(this, t, e, i)
                    }
                    function u(t, e, i, s) {
                        if ("number" == typeof e)
                            throw new TypeError('"value" argument must not be a number');
                        return "undefined" != typeof ArrayBuffer && e instanceof ArrayBuffer ? m(t, e, i, s) : "string" == typeof e ? b(t, e, i) : g(t, e)
                    }
                    function f(t) {
                        if ("number" != typeof t)
                            throw new TypeError('"size" argument must be a number');
                        if (t < 0)
                            throw new RangeError('"size" argument must not be negative')
                    }
                    function d(t, e, i, s) {
                        return f(e),
                        e <= 0 ? c(t, e) : void 0 !== i ? "string" == typeof s ? c(t, e).fill(i, s) : c(t, e).fill(i) : c(t, e)
                    }
                    function l(t, e) {
                        if (f(e),
                        t = c(t, e < 0 ? 0 : 0 | p(e)),
                        !o.TYPED_ARRAY_SUPPORT)
                            for (var i = 0; i < e; ++i)
                                t[i] = 0;
                        return t
                    }
                    function b(t, e, i) {
                        if ("string" == typeof i && "" !== i || (i = "utf8"),
                        !o.isEncoding(i))
                            throw new TypeError('"encoding" must be a valid string encoding');
                        var s = 0 | x(e, i)
                          , n = (t = c(t, s)).write(e, i);
                        return n !== s && (t = t.slice(0, n)),
                        t
                    }
                    function v(t, e) {
                        var i = e.length < 0 ? 0 : 0 | p(e.length);
                        t = c(t, i);
                        for (var s = 0; s < i; s += 1)
                            t[s] = 255 & e[s];
                        return t
                    }
                    function m(t, e, i, s) {
                        if (e.byteLength,
                        i < 0 || e.byteLength < i)
                            throw new RangeError("'offset' is out of bounds");
                        if (e.byteLength < i + (s || 0))
                            throw new RangeError("'length' is out of bounds");
                        return e = void 0 === i && void 0 === s ? new Uint8Array(e) : void 0 === s ? new Uint8Array(e,i) : new Uint8Array(e,i,s),
                        o.TYPED_ARRAY_SUPPORT ? (t = e).__proto__ = o.prototype : t = v(t, e),
                        t
                    }
                    function g(t, e) {
                        if (o.isBuffer(e)) {
                            var i = 0 | p(e.length);
                            return 0 === (t = c(t, i)).length ? t : (e.copy(t, 0, 0, i),
                            t)
                        }
                        if (e) {
                            if ("undefined" != typeof ArrayBuffer && e.buffer instanceof ArrayBuffer || "length"in e)
                                return "number" != typeof e.length || et(e.length) ? c(t, 0) : v(t, e);
                            if ("Buffer" === e.type && r(e.data))
                                return v(t, e.data)
                        }
                        throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
                    }
                    function p(t) {
                        if (t >= h())
                            throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + h().toString(16) + " bytes");
                        return 0 | t
                    }
                    function w(t) {
                        return +t != t && (t = 0),
                        o.alloc(+t)
                    }
                    function x(t, e) {
                        if (o.isBuffer(t))
                            return t.length;
                        if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(t) || t instanceof ArrayBuffer))
                            return t.byteLength;
                        "string" != typeof t && (t = "" + t);
                        var i = t.length;
                        if (0 === i)
                            return 0;
                        for (var s = !1; ; )
                            switch (e) {
                            case "ascii":
                            case "latin1":
                            case "binary":
                                return i;
                            case "utf8":
                            case "utf-8":
                            case void 0:
                                return J(t).length;
                            case "ucs2":
                            case "ucs-2":
                            case "utf16le":
                            case "utf-16le":
                                return 2 * i;
                            case "hex":
                                return i >>> 1;
                            case "base64":
                                return $(t).length;
                            default:
                                if (s)
                                    return J(t).length;
                                e = ("" + e).toLowerCase(),
                                s = !0
                            }
                    }
                    function z(t, e, i) {
                        var s = !1;
                        if ((void 0 === e || e < 0) && (e = 0),
                        e > this.length)
                            return "";
                        if ((void 0 === i || i > this.length) && (i = this.length),
                        i <= 0)
                            return "";
                        if ((i >>>= 0) <= (e >>>= 0))
                            return "";
                        for (t || (t = "utf8"); ; )
                            switch (t) {
                            case "hex":
                                return L(this, e, i);
                            case "utf8":
                            case "utf-8":
                                return P(this, e, i);
                            case "ascii":
                                return j(this, e, i);
                            case "latin1":
                            case "binary":
                                return R(this, e, i);
                            case "base64":
                                return T(this, e, i);
                            case "ucs2":
                            case "ucs-2":
                            case "utf16le":
                            case "utf-16le":
                                return N(this, e, i);
                            default:
                                if (s)
                                    throw new TypeError("Unknown encoding: " + t);
                                t = (t + "").toLowerCase(),
                                s = !0
                            }
                    }
                    function _(t, e, i) {
                        var s = t[e];
                        t[e] = t[i],
                        t[i] = s
                    }
                    function A(t, e, i, s, n) {
                        if (0 === t.length)
                            return -1;
                        if ("string" == typeof i ? (s = i,
                        i = 0) : i > 2147483647 ? i = 2147483647 : i < -2147483648 && (i = -2147483648),
                        i = +i,
                        isNaN(i) && (i = n ? 0 : t.length - 1),
                        i < 0 && (i = t.length + i),
                        i >= t.length) {
                            if (n)
                                return -1;
                            i = t.length - 1
                        } else if (i < 0) {
                            if (!n)
                                return -1;
                            i = 0
                        }
                        if ("string" == typeof e && (e = o.from(e, s)),
                        o.isBuffer(e))
                            return 0 === e.length ? -1 : y(t, e, i, s, n);
                        if ("number" == typeof e)
                            return e &= 255,
                            o.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? n ? Uint8Array.prototype.indexOf.call(t, e, i) : Uint8Array.prototype.lastIndexOf.call(t, e, i) : y(t, [e], i, s, n);
                        throw new TypeError("val must be string, number or Buffer")
                    }
                    function y(t, e, i, s, n) {
                        var r = 1, a = t.length, h = e.length, c;
                        if (void 0 !== s && ("ucs2" === (s = String(s).toLowerCase()) || "ucs-2" === s || "utf16le" === s || "utf-16le" === s)) {
                            if (t.length < 2 || e.length < 2)
                                return -1;
                            r = 2,
                            a /= 2,
                            h /= 2,
                            i /= 2
                        }
                        function o(t, e) {
                            return 1 === r ? t[e] : t.readUInt16BE(e * r)
                        }
                        if (n) {
                            var u = -1;
                            for (c = i; c < a; c++)
                                if (o(t, c) === o(e, -1 === u ? 0 : c - u)) {
                                    if (-1 === u && (u = c),
                                    c - u + 1 === h)
                                        return u * r
                                } else
                                    -1 !== u && (c -= c - u),
                                    u = -1
                        } else
                            for (i + h > a && (i = a - h),
                            c = i; c >= 0; c--) {
                                for (var f = !0, d = 0; d < h; d++)
                                    if (o(t, c + d) !== o(e, d)) {
                                        f = !1;
                                        break
                                    }
                                if (f)
                                    return c
                            }
                        return -1
                    }
                    function M(t, e, i, s) {
                        i = Number(i) || 0;
                        var n = t.length - i;
                        s ? (s = Number(s)) > n && (s = n) : s = n;
                        var r = e.length;
                        if (r % 2 != 0)
                            throw new TypeError("Invalid hex string");
                        s > r / 2 && (s = r / 2);
                        for (var a = 0; a < s; ++a) {
                            var h = parseInt(e.substr(2 * a, 2), 16);
                            if (isNaN(h))
                                return a;
                            t[i + a] = h
                        }
                        return a
                    }
                    function S(t, e, i, s) {
                        return tt(J(e, t.length - i), t, i, s)
                    }
                    function C(t, e, i, s) {
                        return tt(q(e), t, i, s)
                    }
                    function O(t, e, i, s) {
                        return C(t, e, i, s)
                    }
                    function E(t, e, i, s) {
                        return tt($(e), t, i, s)
                    }
                    function D(t, e, i, s) {
                        return tt(Z(e, t.length - i), t, i, s)
                    }
                    function T(t, e, i) {
                        return 0 === e && i === t.length ? s.fromByteArray(t) : s.fromByteArray(t.slice(e, i))
                    }
                    function P(t, e, i) {
                        i = Math.min(t.length, i);
                        for (var s = [], n = e; n < i; ) {
                            var r = t[n], a = null, h = r > 239 ? 4 : r > 223 ? 3 : r > 191 ? 2 : 1, c, o, u, f;
                            if (n + h <= i)
                                switch (h) {
                                case 1:
                                    r < 128 && (a = r);
                                    break;
                                case 2:
                                    128 == (192 & (c = t[n + 1])) && (f = (31 & r) << 6 | 63 & c) > 127 && (a = f);
                                    break;
                                case 3:
                                    c = t[n + 1],
                                    o = t[n + 2],
                                    128 == (192 & c) && 128 == (192 & o) && (f = (15 & r) << 12 | (63 & c) << 6 | 63 & o) > 2047 && (f < 55296 || f > 57343) && (a = f);
                                    break;
                                case 4:
                                    c = t[n + 1],
                                    o = t[n + 2],
                                    u = t[n + 3],
                                    128 == (192 & c) && 128 == (192 & o) && 128 == (192 & u) && (f = (15 & r) << 18 | (63 & c) << 12 | (63 & o) << 6 | 63 & u) > 65535 && f < 1114112 && (a = f)
                                }
                            null === a ? (a = 65533,
                            h = 1) : a > 65535 && (a -= 65536,
                            s.push(a >>> 10 & 1023 | 55296),
                            a = 56320 | 1023 & a),
                            s.push(a),
                            n += h
                        }
                        return I(s)
                    }
                    e.Buffer = o,
                    e.SlowBuffer = w,
                    e.INSPECT_MAX_BYTES = 50,
                    o.TYPED_ARRAY_SUPPORT = void 0 !== t.TYPED_ARRAY_SUPPORT ? t.TYPED_ARRAY_SUPPORT : a(),
                    e.kMaxLength = h(),
                    o.poolSize = 8192,
                    o._augment = function(t) {
                        return t.__proto__ = o.prototype,
                        t
                    }
                    ,
                    o.from = function(t, e, i) {
                        return u(null, t, e, i)
                    }
                    ,
                    o.TYPED_ARRAY_SUPPORT && (o.prototype.__proto__ = Uint8Array.prototype,
                    o.__proto__ = Uint8Array,
                    "undefined" != typeof Symbol && Symbol.species && o[Symbol.species] === o && Object.defineProperty(o, Symbol.species, {
                        value: null,
                        configurable: !0
                    })),
                    o.alloc = function(t, e, i) {
                        return d(null, t, e, i)
                    }
                    ,
                    o.allocUnsafe = function(t) {
                        return l(null, t)
                    }
                    ,
                    o.allocUnsafeSlow = function(t) {
                        return l(null, t)
                    }
                    ,
                    o.isBuffer = function t(e) {
                        return !(null == e || !e._isBuffer)
                    }
                    ,
                    o.compare = function t(e, i) {
                        if (!o.isBuffer(e) || !o.isBuffer(i))
                            throw new TypeError("Arguments must be Buffers");
                        if (e === i)
                            return 0;
                        for (var s = e.length, n = i.length, r = 0, a = Math.min(s, n); r < a; ++r)
                            if (e[r] !== i[r]) {
                                s = e[r],
                                n = i[r];
                                break
                            }
                        return s < n ? -1 : n < s ? 1 : 0
                    }
                    ,
                    o.isEncoding = function t(e) {
                        switch (String(e).toLowerCase()) {
                        case "hex":
                        case "utf8":
                        case "utf-8":
                        case "ascii":
                        case "latin1":
                        case "binary":
                        case "base64":
                        case "ucs2":
                        case "ucs-2":
                        case "utf16le":
                        case "utf-16le":
                            return !0;
                        default:
                            return !1
                        }
                    }
                    ,
                    o.concat = function t(e, i) {
                        if (!r(e))
                            throw new TypeError('"list" argument must be an Array of Buffers');
                        if (0 === e.length)
                            return o.alloc(0);
                        var s;
                        if (void 0 === i)
                            for (i = 0,
                            s = 0; s < e.length; ++s)
                                i += e[s].length;
                        var n = o.allocUnsafe(i)
                          , a = 0;
                        for (s = 0; s < e.length; ++s) {
                            var h = e[s];
                            if (!o.isBuffer(h))
                                throw new TypeError('"list" argument must be an Array of Buffers');
                            h.copy(n, a),
                            a += h.length
                        }
                        return n
                    }
                    ,
                    o.byteLength = x,
                    o.prototype._isBuffer = !0,
                    o.prototype.swap16 = function t() {
                        var e = this.length;
                        if (e % 2 != 0)
                            throw new RangeError("Buffer size must be a multiple of 16-bits");
                        for (var i = 0; i < e; i += 2)
                            _(this, i, i + 1);
                        return this
                    }
                    ,
                    o.prototype.swap32 = function t() {
                        var e = this.length;
                        if (e % 4 != 0)
                            throw new RangeError("Buffer size must be a multiple of 32-bits");
                        for (var i = 0; i < e; i += 4)
                            _(this, i, i + 3),
                            _(this, i + 1, i + 2);
                        return this
                    }
                    ,
                    o.prototype.swap64 = function t() {
                        var e = this.length;
                        if (e % 8 != 0)
                            throw new RangeError("Buffer size must be a multiple of 64-bits");
                        for (var i = 0; i < e; i += 8)
                            _(this, i, i + 7),
                            _(this, i + 1, i + 6),
                            _(this, i + 2, i + 5),
                            _(this, i + 3, i + 4);
                        return this
                    }
                    ,
                    o.prototype.toString = function t() {
                        var e = 0 | this.length;
                        return 0 === e ? "" : 0 === arguments.length ? P(this, 0, e) : z.apply(this, arguments)
                    }
                    ,
                    o.prototype.equals = function t(e) {
                        if (!o.isBuffer(e))
                            throw new TypeError("Argument must be a Buffer");
                        return this === e || 0 === o.compare(this, e)
                    }
                    ,
                    o.prototype.inspect = function t() {
                        var i = ""
                          , s = e.INSPECT_MAX_BYTES;
                        return this.length > 0 && (i = this.toString("hex", 0, s).match(/.{2}/g).join(" "),
                        this.length > s && (i += " ... ")),
                        "<Buffer " + i + ">"
                    }
                    ,
                    o.prototype.compare = function t(e, i, s, n, r) {
                        if (!o.isBuffer(e))
                            throw new TypeError("Argument must be a Buffer");
                        if (void 0 === i && (i = 0),
                        void 0 === s && (s = e ? e.length : 0),
                        void 0 === n && (n = 0),
                        void 0 === r && (r = this.length),
                        i < 0 || s > e.length || n < 0 || r > this.length)
                            throw new RangeError("out of range index");
                        if (n >= r && i >= s)
                            return 0;
                        if (n >= r)
                            return -1;
                        if (i >= s)
                            return 1;
                        if (this === e)
                            return 0;
                        for (var a = (r >>>= 0) - (n >>>= 0), h = (s >>>= 0) - (i >>>= 0), c = Math.min(a, h), u = this.slice(n, r), f = e.slice(i, s), d = 0; d < c; ++d)
                            if (u[d] !== f[d]) {
                                a = u[d],
                                h = f[d];
                                break
                            }
                        return a < h ? -1 : h < a ? 1 : 0
                    }
                    ,
                    o.prototype.includes = function t(e, i, s) {
                        return -1 !== this.indexOf(e, i, s)
                    }
                    ,
                    o.prototype.indexOf = function t(e, i, s) {
                        return A(this, e, i, s, !0)
                    }
                    ,
                    o.prototype.lastIndexOf = function t(e, i, s) {
                        return A(this, e, i, s, !1)
                    }
                    ,
                    o.prototype.write = function t(e, i, s, n) {
                        if (void 0 === i)
                            n = "utf8",
                            s = this.length,
                            i = 0;
                        else if (void 0 === s && "string" == typeof i)
                            n = i,
                            s = this.length,
                            i = 0;
                        else {
                            if (!isFinite(i))
                                throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                            i |= 0,
                            isFinite(s) ? (s |= 0,
                            void 0 === n && (n = "utf8")) : (n = s,
                            s = void 0)
                        }
                        var r = this.length - i;
                        if ((void 0 === s || s > r) && (s = r),
                        e.length > 0 && (s < 0 || i < 0) || i > this.length)
                            throw new RangeError("Attempt to write outside buffer bounds");
                        n || (n = "utf8");
                        for (var a = !1; ; )
                            switch (n) {
                            case "hex":
                                return M(this, e, i, s);
                            case "utf8":
                            case "utf-8":
                                return S(this, e, i, s);
                            case "ascii":
                                return C(this, e, i, s);
                            case "latin1":
                            case "binary":
                                return O(this, e, i, s);
                            case "base64":
                                return E(this, e, i, s);
                            case "ucs2":
                            case "ucs-2":
                            case "utf16le":
                            case "utf-16le":
                                return D(this, e, i, s);
                            default:
                                if (a)
                                    throw new TypeError("Unknown encoding: " + n);
                                n = ("" + n).toLowerCase(),
                                a = !0
                            }
                    }
                    ,
                    o.prototype.toJSON = function t() {
                        return {
                            type: "Buffer",
                            data: Array.prototype.slice.call(this._arr || this, 0)
                        }
                    }
                    ;
                    var B = 4096;
                    function I(t) {
                        var e = t.length;
                        if (e <= B)
                            return String.fromCharCode.apply(String, t);
                        for (var i = "", s = 0; s < e; )
                            i += String.fromCharCode.apply(String, t.slice(s, s += B));
                        return i
                    }
                    function j(t, e, i) {
                        var s = "";
                        i = Math.min(t.length, i);
                        for (var n = e; n < i; ++n)
                            s += String.fromCharCode(127 & t[n]);
                        return s
                    }
                    function R(t, e, i) {
                        var s = "";
                        i = Math.min(t.length, i);
                        for (var n = e; n < i; ++n)
                            s += String.fromCharCode(t[n]);
                        return s
                    }
                    function L(t, e, i) {
                        var s = t.length;
                        (!e || e < 0) && (e = 0),
                        (!i || i < 0 || i > s) && (i = s);
                        for (var n = "", r = e; r < i; ++r)
                            n += Q(t[r]);
                        return n
                    }
                    function N(t, e, i) {
                        for (var s = t.slice(e, i), n = "", r = 0; r < s.length; r += 2)
                            n += String.fromCharCode(s[r] + 256 * s[r + 1]);
                        return n
                    }
                    function F(t, e, i) {
                        if (t % 1 != 0 || t < 0)
                            throw new RangeError("offset is not uint");
                        if (t + e > i)
                            throw new RangeError("Trying to access beyond buffer length")
                    }
                    function k(t, e, i, s, n, r) {
                        if (!o.isBuffer(t))
                            throw new TypeError('"buffer" argument must be a Buffer instance');
                        if (e > n || e < r)
                            throw new RangeError('"value" argument is out of bounds');
                        if (i + s > t.length)
                            throw new RangeError("Index out of range")
                    }
                    function U(t, e, i, s) {
                        e < 0 && (e = 65535 + e + 1);
                        for (var n = 0, r = Math.min(t.length - i, 2); n < r; ++n)
                            t[i + n] = (e & 255 << 8 * (s ? n : 1 - n)) >>> 8 * (s ? n : 1 - n)
                    }
                    function V(t, e, i, s) {
                        e < 0 && (e = 4294967295 + e + 1);
                        for (var n = 0, r = Math.min(t.length - i, 4); n < r; ++n)
                            t[i + n] = e >>> 8 * (s ? n : 3 - n) & 255
                    }
                    function H(t, e, i, s, n, r) {
                        if (i + s > t.length)
                            throw new RangeError("Index out of range");
                        if (i < 0)
                            throw new RangeError("Index out of range")
                    }
                    function G(t, e, i, s, r) {
                        return r || H(t, e, i, 4, 3.4028234663852886e38, -3.4028234663852886e38),
                        n.write(t, e, i, s, 23, 4),
                        i + 4
                    }
                    function W(t, e, i, s, r) {
                        return r || H(t, e, i, 8, 1.7976931348623157e308, -1.7976931348623157e308),
                        n.write(t, e, i, s, 52, 8),
                        i + 8
                    }
                    o.prototype.slice = function t(e, i) {
                        var s = this.length, n;
                        if ((e = ~~e) < 0 ? (e += s) < 0 && (e = 0) : e > s && (e = s),
                        (i = void 0 === i ? s : ~~i) < 0 ? (i += s) < 0 && (i = 0) : i > s && (i = s),
                        i < e && (i = e),
                        o.TYPED_ARRAY_SUPPORT)
                            (n = this.subarray(e, i)).__proto__ = o.prototype;
                        else {
                            var r = i - e;
                            n = new o(r,void 0);
                            for (var a = 0; a < r; ++a)
                                n[a] = this[a + e]
                        }
                        return n
                    }
                    ,
                    o.prototype.readUIntLE = function t(e, i, s) {
                        e |= 0,
                        i |= 0,
                        s || F(e, i, this.length);
                        for (var n = this[e], r = 1, a = 0; ++a < i && (r *= 256); )
                            n += this[e + a] * r;
                        return n
                    }
                    ,
                    o.prototype.readUIntBE = function t(e, i, s) {
                        e |= 0,
                        i |= 0,
                        s || F(e, i, this.length);
                        for (var n = this[e + --i], r = 1; i > 0 && (r *= 256); )
                            n += this[e + --i] * r;
                        return n
                    }
                    ,
                    o.prototype.readUInt8 = function t(e, i) {
                        return i || F(e, 1, this.length),
                        this[e]
                    }
                    ,
                    o.prototype.readUInt16LE = function t(e, i) {
                        return i || F(e, 2, this.length),
                        this[e] | this[e + 1] << 8
                    }
                    ,
                    o.prototype.readUInt16BE = function t(e, i) {
                        return i || F(e, 2, this.length),
                        this[e] << 8 | this[e + 1]
                    }
                    ,
                    o.prototype.readUInt32LE = function t(e, i) {
                        return i || F(e, 4, this.length),
                        (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3]
                    }
                    ,
                    o.prototype.readUInt32BE = function t(e, i) {
                        return i || F(e, 4, this.length),
                        16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3])
                    }
                    ,
                    o.prototype.readIntLE = function t(e, i, s) {
                        e |= 0,
                        i |= 0,
                        s || F(e, i, this.length);
                        for (var n = this[e], r = 1, a = 0; ++a < i && (r *= 256); )
                            n += this[e + a] * r;
                        return n >= (r *= 128) && (n -= Math.pow(2, 8 * i)),
                        n
                    }
                    ,
                    o.prototype.readIntBE = function t(e, i, s) {
                        e |= 0,
                        i |= 0,
                        s || F(e, i, this.length);
                        for (var n = i, r = 1, a = this[e + --n]; n > 0 && (r *= 256); )
                            a += this[e + --n] * r;
                        return a >= (r *= 128) && (a -= Math.pow(2, 8 * i)),
                        a
                    }
                    ,
                    o.prototype.readInt8 = function t(e, i) {
                        return i || F(e, 1, this.length),
                        128 & this[e] ? -1 * (255 - this[e] + 1) : this[e]
                    }
                    ,
                    o.prototype.readInt16LE = function t(e, i) {
                        i || F(e, 2, this.length);
                        var s = this[e] | this[e + 1] << 8;
                        return 32768 & s ? 4294901760 | s : s
                    }
                    ,
                    o.prototype.readInt16BE = function t(e, i) {
                        i || F(e, 2, this.length);
                        var s = this[e + 1] | this[e] << 8;
                        return 32768 & s ? 4294901760 | s : s
                    }
                    ,
                    o.prototype.readInt32LE = function t(e, i) {
                        return i || F(e, 4, this.length),
                        this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24
                    }
                    ,
                    o.prototype.readInt32BE = function t(e, i) {
                        return i || F(e, 4, this.length),
                        this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]
                    }
                    ,
                    o.prototype.readFloatLE = function t(e, i) {
                        return i || F(e, 4, this.length),
                        n.read(this, e, !0, 23, 4)
                    }
                    ,
                    o.prototype.readFloatBE = function t(e, i) {
                        return i || F(e, 4, this.length),
                        n.read(this, e, !1, 23, 4)
                    }
                    ,
                    o.prototype.readDoubleLE = function t(e, i) {
                        return i || F(e, 8, this.length),
                        n.read(this, e, !0, 52, 8)
                    }
                    ,
                    o.prototype.readDoubleBE = function t(e, i) {
                        return i || F(e, 8, this.length),
                        n.read(this, e, !1, 52, 8)
                    }
                    ,
                    o.prototype.writeUIntLE = function t(e, i, s, n) {
                        var r;
                        (e = +e,
                        i |= 0,
                        s |= 0,
                        n) || k(this, e, i, s, Math.pow(2, 8 * s) - 1, 0);
                        var a = 1
                          , h = 0;
                        for (this[i] = 255 & e; ++h < s && (a *= 256); )
                            this[i + h] = e / a & 255;
                        return i + s
                    }
                    ,
                    o.prototype.writeUIntBE = function t(e, i, s, n) {
                        var r;
                        (e = +e,
                        i |= 0,
                        s |= 0,
                        n) || k(this, e, i, s, Math.pow(2, 8 * s) - 1, 0);
                        var a = s - 1
                          , h = 1;
                        for (this[i + a] = 255 & e; --a >= 0 && (h *= 256); )
                            this[i + a] = e / h & 255;
                        return i + s
                    }
                    ,
                    o.prototype.writeUInt8 = function t(e, i, s) {
                        return e = +e,
                        i |= 0,
                        s || k(this, e, i, 1, 255, 0),
                        o.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)),
                        this[i] = 255 & e,
                        i + 1
                    }
                    ,
                    o.prototype.writeUInt16LE = function t(e, i, s) {
                        return e = +e,
                        i |= 0,
                        s || k(this, e, i, 2, 65535, 0),
                        o.TYPED_ARRAY_SUPPORT ? (this[i] = 255 & e,
                        this[i + 1] = e >>> 8) : U(this, e, i, !0),
                        i + 2
                    }
                    ,
                    o.prototype.writeUInt16BE = function t(e, i, s) {
                        return e = +e,
                        i |= 0,
                        s || k(this, e, i, 2, 65535, 0),
                        o.TYPED_ARRAY_SUPPORT ? (this[i] = e >>> 8,
                        this[i + 1] = 255 & e) : U(this, e, i, !1),
                        i + 2
                    }
                    ,
                    o.prototype.writeUInt32LE = function t(e, i, s) {
                        return e = +e,
                        i |= 0,
                        s || k(this, e, i, 4, 4294967295, 0),
                        o.TYPED_ARRAY_SUPPORT ? (this[i + 3] = e >>> 24,
                        this[i + 2] = e >>> 16,
                        this[i + 1] = e >>> 8,
                        this[i] = 255 & e) : V(this, e, i, !0),
                        i + 4
                    }
                    ,
                    o.prototype.writeUInt32BE = function t(e, i, s) {
                        return e = +e,
                        i |= 0,
                        s || k(this, e, i, 4, 4294967295, 0),
                        o.TYPED_ARRAY_SUPPORT ? (this[i] = e >>> 24,
                        this[i + 1] = e >>> 16,
                        this[i + 2] = e >>> 8,
                        this[i + 3] = 255 & e) : V(this, e, i, !1),
                        i + 4
                    }
                    ,
                    o.prototype.writeIntLE = function t(e, i, s, n) {
                        if (e = +e,
                        i |= 0,
                        !n) {
                            var r = Math.pow(2, 8 * s - 1);
                            k(this, e, i, s, r - 1, -r)
                        }
                        var a = 0
                          , h = 1
                          , c = 0;
                        for (this[i] = 255 & e; ++a < s && (h *= 256); )
                            e < 0 && 0 === c && 0 !== this[i + a - 1] && (c = 1),
                            this[i + a] = (e / h >> 0) - c & 255;
                        return i + s
                    }
                    ,
                    o.prototype.writeIntBE = function t(e, i, s, n) {
                        if (e = +e,
                        i |= 0,
                        !n) {
                            var r = Math.pow(2, 8 * s - 1);
                            k(this, e, i, s, r - 1, -r)
                        }
                        var a = s - 1
                          , h = 1
                          , c = 0;
                        for (this[i + a] = 255 & e; --a >= 0 && (h *= 256); )
                            e < 0 && 0 === c && 0 !== this[i + a + 1] && (c = 1),
                            this[i + a] = (e / h >> 0) - c & 255;
                        return i + s
                    }
                    ,
                    o.prototype.writeInt8 = function t(e, i, s) {
                        return e = +e,
                        i |= 0,
                        s || k(this, e, i, 1, 127, -128),
                        o.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)),
                        e < 0 && (e = 255 + e + 1),
                        this[i] = 255 & e,
                        i + 1
                    }
                    ,
                    o.prototype.writeInt16LE = function t(e, i, s) {
                        return e = +e,
                        i |= 0,
                        s || k(this, e, i, 2, 32767, -32768),
                        o.TYPED_ARRAY_SUPPORT ? (this[i] = 255 & e,
                        this[i + 1] = e >>> 8) : U(this, e, i, !0),
                        i + 2
                    }
                    ,
                    o.prototype.writeInt16BE = function t(e, i, s) {
                        return e = +e,
                        i |= 0,
                        s || k(this, e, i, 2, 32767, -32768),
                        o.TYPED_ARRAY_SUPPORT ? (this[i] = e >>> 8,
                        this[i + 1] = 255 & e) : U(this, e, i, !1),
                        i + 2
                    }
                    ,
                    o.prototype.writeInt32LE = function t(e, i, s) {
                        return e = +e,
                        i |= 0,
                        s || k(this, e, i, 4, 2147483647, -2147483648),
                        o.TYPED_ARRAY_SUPPORT ? (this[i] = 255 & e,
                        this[i + 1] = e >>> 8,
                        this[i + 2] = e >>> 16,
                        this[i + 3] = e >>> 24) : V(this, e, i, !0),
                        i + 4
                    }
                    ,
                    o.prototype.writeInt32BE = function t(e, i, s) {
                        return e = +e,
                        i |= 0,
                        s || k(this, e, i, 4, 2147483647, -2147483648),
                        e < 0 && (e = 4294967295 + e + 1),
                        o.TYPED_ARRAY_SUPPORT ? (this[i] = e >>> 24,
                        this[i + 1] = e >>> 16,
                        this[i + 2] = e >>> 8,
                        this[i + 3] = 255 & e) : V(this, e, i, !1),
                        i + 4
                    }
                    ,
                    o.prototype.writeFloatLE = function t(e, i, s) {
                        return G(this, e, i, !0, s)
                    }
                    ,
                    o.prototype.writeFloatBE = function t(e, i, s) {
                        return G(this, e, i, !1, s)
                    }
                    ,
                    o.prototype.writeDoubleLE = function t(e, i, s) {
                        return W(this, e, i, !0, s)
                    }
                    ,
                    o.prototype.writeDoubleBE = function t(e, i, s) {
                        return W(this, e, i, !1, s)
                    }
                    ,
                    o.prototype.copy = function t(e, i, s, n) {
                        if (s || (s = 0),
                        n || 0 === n || (n = this.length),
                        i >= e.length && (i = e.length),
                        i || (i = 0),
                        n > 0 && n < s && (n = s),
                        n === s)
                            return 0;
                        if (0 === e.length || 0 === this.length)
                            return 0;
                        if (i < 0)
                            throw new RangeError("targetStart out of bounds");
                        if (s < 0 || s >= this.length)
                            throw new RangeError("sourceStart out of bounds");
                        if (n < 0)
                            throw new RangeError("sourceEnd out of bounds");
                        n > this.length && (n = this.length),
                        e.length - i < n - s && (n = e.length - i + s);
                        var r = n - s, a;
                        if (this === e && s < i && i < n)
                            for (a = r - 1; a >= 0; --a)
                                e[a + i] = this[a + s];
                        else if (r < 1e3 || !o.TYPED_ARRAY_SUPPORT)
                            for (a = 0; a < r; ++a)
                                e[a + i] = this[a + s];
                        else
                            Uint8Array.prototype.set.call(e, this.subarray(s, s + r), i);
                        return r
                    }
                    ,
                    o.prototype.fill = function t(e, i, s, n) {
                        if ("string" == typeof e) {
                            if ("string" == typeof i ? (n = i,
                            i = 0,
                            s = this.length) : "string" == typeof s && (n = s,
                            s = this.length),
                            1 === e.length) {
                                var r = e.charCodeAt(0);
                                r < 256 && (e = r)
                            }
                            if (void 0 !== n && "string" != typeof n)
                                throw new TypeError("encoding must be a string");
                            if ("string" == typeof n && !o.isEncoding(n))
                                throw new TypeError("Unknown encoding: " + n)
                        } else
                            "number" == typeof e && (e &= 255);
                        if (i < 0 || this.length < i || this.length < s)
                            throw new RangeError("Out of range index");
                        if (s <= i)
                            return this;
                        var a;
                        if (i >>>= 0,
                        s = void 0 === s ? this.length : s >>> 0,
                        e || (e = 0),
                        "number" == typeof e)
                            for (a = i; a < s; ++a)
                                this[a] = e;
                        else {
                            var h = o.isBuffer(e) ? e : J(new o(e,n).toString())
                              , c = h.length;
                            for (a = 0; a < s - i; ++a)
                                this[a + i] = h[a % c]
                        }
                        return this
                    }
                    ;
                    var Y = /[^+\/0-9A-Za-z-_]/g;
                    function X(t) {
                        if ((t = K(t).replace(Y, "")).length < 2)
                            return "";
                        for (; t.length % 4 != 0; )
                            t += "=";
                        return t
                    }
                    function K(t) {
                        return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")
                    }
                    function Q(t) {
                        return t < 16 ? "0" + t.toString(16) : t.toString(16)
                    }
                    function J(t, e) {
                        var i;
                        e = e || 1 / 0;
                        for (var s = t.length, n = null, r = [], a = 0; a < s; ++a) {
                            if ((i = t.charCodeAt(a)) > 55295 && i < 57344) {
                                if (!n) {
                                    if (i > 56319) {
                                        (e -= 3) > -1 && r.push(239, 191, 189);
                                        continue
                                    }
                                    if (a + 1 === s) {
                                        (e -= 3) > -1 && r.push(239, 191, 189);
                                        continue
                                    }
                                    n = i;
                                    continue
                                }
                                if (i < 56320) {
                                    (e -= 3) > -1 && r.push(239, 191, 189),
                                    n = i;
                                    continue
                                }
                                i = 65536 + (n - 55296 << 10 | i - 56320)
                            } else
                                n && (e -= 3) > -1 && r.push(239, 191, 189);
                            if (n = null,
                            i < 128) {
                                if ((e -= 1) < 0)
                                    break;
                                r.push(i)
                            } else if (i < 2048) {
                                if ((e -= 2) < 0)
                                    break;
                                r.push(i >> 6 | 192, 63 & i | 128)
                            } else if (i < 65536) {
                                if ((e -= 3) < 0)
                                    break;
                                r.push(i >> 12 | 224, i >> 6 & 63 | 128, 63 & i | 128)
                            } else {
                                if (!(i < 1114112))
                                    throw new Error("Invalid code point");
                                if ((e -= 4) < 0)
                                    break;
                                r.push(i >> 18 | 240, i >> 12 & 63 | 128, i >> 6 & 63 | 128, 63 & i | 128)
                            }
                        }
                        return r
                    }
                    function q(t) {
                        for (var e = [], i = 0; i < t.length; ++i)
                            e.push(255 & t.charCodeAt(i));
                        return e
                    }
                    function Z(t, e) {
                        for (var i, s, n, r = [], a = 0; a < t.length && !((e -= 2) < 0); ++a)
                            s = (i = t.charCodeAt(a)) >> 8,
                            n = i % 256,
                            r.push(n),
                            r.push(s);
                        return r
                    }
                    function $(t) {
                        return s.toByteArray(X(t))
                    }
                    function tt(t, e, i, s) {
                        for (var n = 0; n < s && !(n + i >= e.length || n >= t.length); ++n)
                            e[n + i] = t[n];
                        return n
                    }
                    function et(t) {
                        return t != t
                    }
                }
                ).call(this, i(4))
            }
            , function(t, e) {
                t.exports = {
                    onLoadTextDecoder: function() {
                        return Promise.all([__webpack_require__.e(14).then(__webpack_require__.t.bind(null, 553, 7))])
                    },
                    onLoadJsDecoder: function() {
                        return Promise.all([__webpack_require__.e(0), __webpack_require__.e(8), __webpack_require__.e(15)]).then(__webpack_require__.t.bind(null, 554, 7))
                    },
                    onLoadJsDecoderMg: function() {
                        return Promise.all([__webpack_require__.e(0), __webpack_require__.e(9), __webpack_require__.e(20)]).then(__webpack_require__.t.bind(null, 555, 7))
                    },
                    onLoadJsDecoderMgNostack: function() {
                        return Promise.all([__webpack_require__.e(0), __webpack_require__.e(10), __webpack_require__.e(19)]).then(__webpack_require__.t.bind(null, 556, 7))
                    },
                    onLoadWasmDecoder: function() {
                        return Promise.all([Promise.all([__webpack_require__.e(0), __webpack_require__.e(5)]).then(__webpack_require__.t.bind(null, 557, 7)), Promise.all([__webpack_require__.e(11), __webpack_require__.e(18)]).then(__webpack_require__.t.bind(null, 558, 7))])
                    },
                    onLoadWasmDecoderMg: function() {
                        return Promise.all([Promise.all([__webpack_require__.e(0), __webpack_require__.e(6)]).then(__webpack_require__.t.bind(null, 559, 7)), Promise.all([__webpack_require__.e(12), __webpack_require__.e(17)]).then(__webpack_require__.t.bind(null, 560, 7))])
                    },
                    onLoadWasmDecoderMgNostack: function() {
                        return Promise.all([Promise.all([__webpack_require__.e(0), __webpack_require__.e(7)]).then(__webpack_require__.t.bind(null, 561, 7)), Promise.all([__webpack_require__.e(13), __webpack_require__.e(16)]).then(__webpack_require__.t.bind(null, 562, 7))])
                    }
                }
            }
            , function(t, e) {
                t.exports = s;
                var i = null;
                try {
                    i = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11])),{}).exports
                } catch (t) {}
                function s(t, e, i) {
                    this.low = 0 | t,
                    this.high = 0 | e,
                    this.unsigned = !!i
                }
                function n(t) {
                    return !0 === (t && t.__isLong__)
                }
                s.prototype.__isLong__,
                Object.defineProperty(s.prototype, "__isLong__", {
                    value: !0
                }),
                s.isLong = n;
                var r = {}
                  , a = {};
                function h(t, e) {
                    var i, s, n;
                    return e ? (n = 0 <= (t >>>= 0) && t < 256) && (s = a[t]) ? s : (i = o(t, (0 | t) < 0 ? -1 : 0, !0),
                    n && (a[t] = i),
                    i) : (n = -128 <= (t |= 0) && t < 128) && (s = r[t]) ? s : (i = o(t, t < 0 ? -1 : 0, !1),
                    n && (r[t] = i),
                    i)
                }
                function c(t, e) {
                    if (isNaN(t))
                        return e ? x : w;
                    if (e) {
                        if (t < 0)
                            return x;
                        if (t >= m)
                            return M
                    } else {
                        if (t <= -g)
                            return S;
                        if (t + 1 >= g)
                            return y
                    }
                    return t < 0 ? c(-t, e).neg() : o(t % v | 0, t / v | 0, e)
                }
                function o(t, e, i) {
                    return new s(t,e,i)
                }
                s.fromInt = h,
                s.fromNumber = c,
                s.fromBits = o;
                var u = Math.pow;
                function f(t, e, i) {
                    if (0 === t.length)
                        throw Error("empty string");
                    if ("NaN" === t || "Infinity" === t || "+Infinity" === t || "-Infinity" === t)
                        return w;
                    if ("number" == typeof e ? (i = e,
                    e = !1) : e = !!e,
                    (i = i || 10) < 2 || 36 < i)
                        throw RangeError("radix");
                    var s;
                    if ((s = t.indexOf("-")) > 0)
                        throw Error("interior hyphen");
                    if (0 === s)
                        return f(t.substring(1), e, i).neg();
                    for (var n = c(u(i, 8)), r = w, a = 0; a < t.length; a += 8) {
                        var h = Math.min(8, t.length - a)
                          , o = parseInt(t.substring(a, a + h), i);
                        if (h < 8) {
                            var d = c(u(i, h));
                            r = r.mul(d).add(c(o))
                        } else
                            r = (r = r.mul(n)).add(c(o))
                    }
                    return r.unsigned = e,
                    r
                }
                function d(t, e) {
                    return "number" == typeof t ? c(t, e) : "string" == typeof t ? f(t, e) : o(t.low, t.high, "boolean" == typeof e ? e : t.unsigned)
                }
                s.fromString = f,
                s.fromValue = d;
                var l = 65536
                  , b = 1 << 24
                  , v = 4294967296
                  , m = v * v
                  , g = m / 2
                  , p = h(1 << 24)
                  , w = h(0);
                s.ZERO = w;
                var x = h(0, !0);
                s.UZERO = x;
                var z = h(1);
                s.ONE = z;
                var _ = h(1, !0);
                s.UONE = _;
                var A = h(-1);
                s.NEG_ONE = A;
                var y = o(-1, 2147483647, !1);
                s.MAX_VALUE = y;
                var M = o(-1, -1, !0);
                s.MAX_UNSIGNED_VALUE = M;
                var S = o(0, -2147483648, !1);
                s.MIN_VALUE = S;
                var C = s.prototype;
                C.toInt = function t() {
                    return this.unsigned ? this.low >>> 0 : this.low
                }
                ,
                C.toNumber = function t() {
                    return this.unsigned ? (this.high >>> 0) * v + (this.low >>> 0) : this.high * v + (this.low >>> 0)
                }
                ,
                C.toString = function t(e) {
                    if ((e = e || 10) < 2 || 36 < e)
                        throw RangeError("radix");
                    if (this.isZero())
                        return "0";
                    if (this.isNegative()) {
                        if (this.eq(S)) {
                            var i = c(e)
                              , s = this.div(i)
                              , n = s.mul(i).sub(this);
                            return s.toString(e) + n.toInt().toString(e)
                        }
                        return "-" + this.neg().toString(e)
                    }
                    for (var r = c(u(e, 6), this.unsigned), a = this, h = ""; ; ) {
                        var o = a.div(r), f, d = (a.sub(o.mul(r)).toInt() >>> 0).toString(e);
                        if ((a = o).isZero())
                            return d + h;
                        for (; d.length < 6; )
                            d = "0" + d;
                        h = "" + d + h
                    }
                }
                ,
                C.getHighBits = function t() {
                    return this.high
                }
                ,
                C.getHighBitsUnsigned = function t() {
                    return this.high >>> 0
                }
                ,
                C.getLowBits = function t() {
                    return this.low
                }
                ,
                C.getLowBitsUnsigned = function t() {
                    return this.low >>> 0
                }
                ,
                C.getNumBitsAbs = function t() {
                    if (this.isNegative())
                        return this.eq(S) ? 64 : this.neg().getNumBitsAbs();
                    for (var e = 0 != this.high ? this.high : this.low, i = 31; i > 0 && 0 == (e & 1 << i); i--)
                        ;
                    return 0 != this.high ? i + 33 : i + 1
                }
                ,
                C.isZero = function t() {
                    return 0 === this.high && 0 === this.low
                }
                ,
                C.eqz = C.isZero,
                C.isNegative = function t() {
                    return !this.unsigned && this.high < 0
                }
                ,
                C.isPositive = function t() {
                    return this.unsigned || this.high >= 0
                }
                ,
                C.isOdd = function t() {
                    return 1 == (1 & this.low)
                }
                ,
                C.isEven = function t() {
                    return 0 == (1 & this.low)
                }
                ,
                C.equals = function t(e) {
                    return n(e) || (e = d(e)),
                    (this.unsigned === e.unsigned || this.high >>> 31 != 1 || e.high >>> 31 != 1) && (this.high === e.high && this.low === e.low)
                }
                ,
                C.eq = C.equals,
                C.notEquals = function t(e) {
                    return !this.eq(e)
                }
                ,
                C.neq = C.notEquals,
                C.ne = C.notEquals,
                C.lessThan = function t(e) {
                    return this.comp(e) < 0
                }
                ,
                C.lt = C.lessThan,
                C.lessThanOrEqual = function t(e) {
                    return this.comp(e) <= 0
                }
                ,
                C.lte = C.lessThanOrEqual,
                C.le = C.lessThanOrEqual,
                C.greaterThan = function t(e) {
                    return this.comp(e) > 0
                }
                ,
                C.gt = C.greaterThan,
                C.greaterThanOrEqual = function t(e) {
                    return this.comp(e) >= 0
                }
                ,
                C.gte = C.greaterThanOrEqual,
                C.ge = C.greaterThanOrEqual,
                C.compare = function t(e) {
                    if (n(e) || (e = d(e)),
                    this.eq(e))
                        return 0;
                    var i = this.isNegative()
                      , s = e.isNegative();
                    return i && !s ? -1 : !i && s ? 1 : this.unsigned ? e.high >>> 0 > this.high >>> 0 || e.high === this.high && e.low >>> 0 > this.low >>> 0 ? -1 : 1 : this.sub(e).isNegative() ? -1 : 1
                }
                ,
                C.comp = C.compare,
                C.negate = function t() {
                    return !this.unsigned && this.eq(S) ? S : this.not().add(z)
                }
                ,
                C.neg = C.negate,
                C.add = function t(e) {
                    n(e) || (e = d(e));
                    var i = this.high >>> 16, s = 65535 & this.high, r = this.low >>> 16, a = 65535 & this.low, h = e.high >>> 16, c = 65535 & e.high, u = e.low >>> 16, f, l = 0, b = 0, v = 0, m = 0;
                    return v += (m += a + (65535 & e.low)) >>> 16,
                    b += (v += r + u) >>> 16,
                    l += (b += s + c) >>> 16,
                    l += i + h,
                    o((v &= 65535) << 16 | (m &= 65535), (l &= 65535) << 16 | (b &= 65535), this.unsigned)
                }
                ,
                C.subtract = function t(e) {
                    return n(e) || (e = d(e)),
                    this.add(e.neg())
                }
                ,
                C.sub = C.subtract,
                C.multiply = function t(e) {
                    if (this.isZero())
                        return w;
                    var s;
                    if (n(e) || (e = d(e)),
                    i)
                        return o(i.mul(this.low, this.high, e.low, e.high), i.get_high(), this.unsigned);
                    if (e.isZero())
                        return w;
                    if (this.eq(S))
                        return e.isOdd() ? S : w;
                    if (e.eq(S))
                        return this.isOdd() ? S : w;
                    if (this.isNegative())
                        return e.isNegative() ? this.neg().mul(e.neg()) : this.neg().mul(e).neg();
                    if (e.isNegative())
                        return this.mul(e.neg()).neg();
                    if (this.lt(p) && e.lt(p))
                        return c(this.toNumber() * e.toNumber(), this.unsigned);
                    var r = this.high >>> 16
                      , a = 65535 & this.high
                      , h = this.low >>> 16
                      , u = 65535 & this.low
                      , f = e.high >>> 16
                      , l = 65535 & e.high
                      , b = e.low >>> 16
                      , v = 65535 & e.low
                      , m = 0
                      , g = 0
                      , x = 0
                      , z = 0;
                    return x += (z += u * v) >>> 16,
                    g += (x += h * v) >>> 16,
                    x &= 65535,
                    g += (x += u * b) >>> 16,
                    m += (g += a * v) >>> 16,
                    g &= 65535,
                    m += (g += h * b) >>> 16,
                    g &= 65535,
                    m += (g += u * l) >>> 16,
                    m += r * v + a * b + h * l + u * f,
                    o((x &= 65535) << 16 | (z &= 65535), (m &= 65535) << 16 | (g &= 65535), this.unsigned)
                }
                ,
                C.mul = C.multiply,
                C.divide = function t(e) {
                    if (n(e) || (e = d(e)),
                    e.isZero())
                        throw Error("division by zero");
                    var s, r, a, h;
                    if (i)
                        return this.unsigned || -2147483648 !== this.high || -1 !== e.low || -1 !== e.high ? o((this.unsigned ? i.div_u : i.div_s)(this.low, this.high, e.low, e.high), i.get_high(), this.unsigned) : this;
                    if (this.isZero())
                        return this.unsigned ? x : w;
                    if (this.unsigned) {
                        if (e.unsigned || (e = e.toUnsigned()),
                        e.gt(this))
                            return x;
                        if (e.gt(this.shru(1)))
                            return _;
                        h = x
                    } else {
                        var f;
                        if (this.eq(S))
                            return e.eq(z) || e.eq(A) ? S : e.eq(S) ? z : (r = this.shr(1).div(e).shl(1)).eq(w) ? e.isNegative() ? z : A : (a = this.sub(e.mul(r)),
                            h = r.add(a.div(e)));
                        if (e.eq(S))
                            return this.unsigned ? x : w;
                        if (this.isNegative())
                            return e.isNegative() ? this.neg().div(e.neg()) : this.neg().div(e).neg();
                        if (e.isNegative())
                            return this.div(e.neg()).neg();
                        h = w
                    }
                    for (a = this; a.gte(e); ) {
                        r = Math.max(1, Math.floor(a.toNumber() / e.toNumber()));
                        for (var l = Math.ceil(Math.log(r) / Math.LN2), b = l <= 48 ? 1 : u(2, l - 48), v = c(r), m = v.mul(e); m.isNegative() || m.gt(a); )
                            m = (v = c(r -= b, this.unsigned)).mul(e);
                        v.isZero() && (v = z),
                        h = h.add(v),
                        a = a.sub(m)
                    }
                    return h
                }
                ,
                C.div = C.divide,
                C.modulo = function t(e) {
                    var s;
                    return n(e) || (e = d(e)),
                    i ? o((this.unsigned ? i.rem_u : i.rem_s)(this.low, this.high, e.low, e.high), i.get_high(), this.unsigned) : this.sub(this.div(e).mul(e))
                }
                ,
                C.mod = C.modulo,
                C.rem = C.modulo,
                C.not = function t() {
                    return o(~this.low, ~this.high, this.unsigned)
                }
                ,
                C.and = function t(e) {
                    return n(e) || (e = d(e)),
                    o(this.low & e.low, this.high & e.high, this.unsigned)
                }
                ,
                C.or = function t(e) {
                    return n(e) || (e = d(e)),
                    o(this.low | e.low, this.high | e.high, this.unsigned)
                }
                ,
                C.xor = function t(e) {
                    return n(e) || (e = d(e)),
                    o(this.low ^ e.low, this.high ^ e.high, this.unsigned)
                }
                ,
                C.shiftLeft = function t(e) {
                    return n(e) && (e = e.toInt()),
                    0 == (e &= 63) ? this : e < 32 ? o(this.low << e, this.high << e | this.low >>> 32 - e, this.unsigned) : o(0, this.low << e - 32, this.unsigned)
                }
                ,
                C.shl = C.shiftLeft,
                C.shiftRight = function t(e) {
                    return n(e) && (e = e.toInt()),
                    0 == (e &= 63) ? this : e < 32 ? o(this.low >>> e | this.high << 32 - e, this.high >> e, this.unsigned) : o(this.high >> e - 32, this.high >= 0 ? 0 : -1, this.unsigned)
                }
                ,
                C.shr = C.shiftRight,
                C.shiftRightUnsigned = function t(e) {
                    if (n(e) && (e = e.toInt()),
                    0 === (e &= 63))
                        return this;
                    var i = this.high, s;
                    return e < 32 ? o(this.low >>> e | i << 32 - e, i >>> e, this.unsigned) : o(32 === e ? i : i >>> e - 32, 0, this.unsigned)
                }
                ,
                C.shru = C.shiftRightUnsigned,
                C.shr_u = C.shiftRightUnsigned,
                C.toSigned = function t() {
                    return this.unsigned ? o(this.low, this.high, !1) : this
                }
                ,
                C.toUnsigned = function t() {
                    return this.unsigned ? this : o(this.low, this.high, !0)
                }
                ,
                C.toBytes = function t(e) {
                    return e ? this.toBytesLE() : this.toBytesBE()
                }
                ,
                C.toBytesLE = function t() {
                    var e = this.high
                      , i = this.low;
                    return [255 & i, i >>> 8 & 255, i >>> 16 & 255, i >>> 24, 255 & e, e >>> 8 & 255, e >>> 16 & 255, e >>> 24]
                }
                ,
                C.toBytesBE = function t() {
                    var e = this.high
                      , i = this.low;
                    return [e >>> 24, e >>> 16 & 255, e >>> 8 & 255, 255 & e, i >>> 24, i >>> 16 & 255, i >>> 8 & 255, 255 & i]
                }
                ,
                s.fromBytes = function t(e, i, n) {
                    return n ? s.fromBytesLE(e, i) : s.fromBytesBE(e, i)
                }
                ,
                s.fromBytesLE = function t(e, i) {
                    return new s(e[0] | e[1] << 8 | e[2] << 16 | e[3] << 24,e[4] | e[5] << 8 | e[6] << 16 | e[7] << 24,i)
                }
                ,
                s.fromBytesBE = function t(e, i) {
                    return new s(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7],e[0] << 24 | e[1] << 16 | e[2] << 8 | e[3],i)
                }
            }
            , function(t, e) {
                var i;
                i = function() {
                    return this
                }();
                try {
                    i = i || Function("return this")() || (0,
                    eval)("this")
                } catch (t) {
                    "object" == typeof window && (i = window)
                }
                t.exports = i
            }
            , function(module, __webpack_exports__, __webpack_require__) {
                "use strict";
                (function(global, Buffer) {
                    var long__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3)
                      , long__WEBPACK_IMPORTED_MODULE_0___default = __webpack_require__.n(long__WEBPACK_IMPORTED_MODULE_0__)
                      , buffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1)
                      , buffer__WEBPACK_IMPORTED_MODULE_1___default = __webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_1__)
                      , commonjsGlobal = "undefined" != typeof window ? window : void 0 !== global ? global : "undefined" != typeof self ? self : {};
                    function createCommonjsModule(t, e) {
                        return t(e = {
                            exports: {}
                        }, e.exports),
                        e.exports
                    }
                    var map = createCommonjsModule(function(t) {
                        if (void 0 !== commonjsGlobal.Map)
                            t.exports = commonjsGlobal.Map,
                            t.exports.Map = commonjsGlobal.Map;
                        else {
                            var e = function t(e) {
                                this._keys = [],
                                this._values = {};
                                for (var i = 0; i < e.length; i++)
                                    if (null != e[i]) {
                                        var s = e[i]
                                          , n = s[0]
                                          , r = s[1];
                                        this._keys.push(n),
                                        this._values[n] = {
                                            v: r,
                                            i: this._keys.length - 1
                                        }
                                    }
                            };
                            e.prototype.clear = function() {
                                this._keys = [],
                                this._values = {}
                            }
                            ,
                            e.prototype.delete = function(t) {
                                var e = this._values[t];
                                return null != e && (delete this._values[t],
                                this._keys.splice(e.i, 1),
                                !0)
                            }
                            ,
                            e.prototype.entries = function() {
                                var t = this
                                  , e = 0;
                                return {
                                    next: function i() {
                                        var s = t._keys[e++];
                                        return {
                                            value: void 0 !== s ? [s, t._values[s].v] : void 0,
                                            done: void 0 === s
                                        }
                                    }
                                }
                            }
                            ,
                            e.prototype.forEach = function(t, e) {
                                e = e || this;
                                for (var i = 0; i < this._keys.length; i++) {
                                    var s = this._keys[i];
                                    t.call(e, this._values[s].v, s, e)
                                }
                            }
                            ,
                            e.prototype.get = function(t) {
                                return this._values[t] ? this._values[t].v : void 0
                            }
                            ,
                            e.prototype.has = function(t) {
                                return null != this._values[t]
                            }
                            ,
                            e.prototype.keys = function() {
                                var t = this
                                  , e = 0;
                                return {
                                    next: function i() {
                                        var s = t._keys[e++];
                                        return {
                                            value: void 0 !== s ? s : void 0,
                                            done: void 0 === s
                                        }
                                    }
                                }
                            }
                            ,
                            e.prototype.set = function(t, e) {
                                return this._values[t] ? (this._values[t].v = e,
                                this) : (this._keys.push(t),
                                this._values[t] = {
                                    v: e,
                                    i: this._keys.length - 1
                                },
                                this)
                            }
                            ,
                            e.prototype.values = function() {
                                var t = this
                                  , e = 0;
                                return {
                                    next: function i() {
                                        var s = t._keys[e++];
                                        return {
                                            value: void 0 !== s ? t._values[s].v : void 0,
                                            done: void 0 === s
                                        }
                                    }
                                }
                            }
                            ,
                            Object.defineProperty(e.prototype, "size", {
                                enumerable: !0,
                                get: function t() {
                                    return this._keys.length
                                }
                            }),
                            t.exports = e
                        }
                    })
                      , map_1 = map.Map;
                    long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype.toExtendedJSON = function(t) {
                        return t && t.relaxed ? this.toNumber() : {
                            $numberLong: this.toString()
                        }
                    }
                    ,
                    long__WEBPACK_IMPORTED_MODULE_0___default.a.fromExtendedJSON = function(t, e) {
                        var i = long__WEBPACK_IMPORTED_MODULE_0___default.a.fromString(t.$numberLong);
                        return e && e.relaxed ? i.toNumber() : i
                    }
                    ,
                    Object.defineProperty(long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype, "_bsontype", {
                        value: "Long"
                    });
                    var long_1 = long__WEBPACK_IMPORTED_MODULE_0___default.a;
                    function _typeof(t) {
                        return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                            return typeof t
                        }
                        : function(t) {
                            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                        }
                        )(t)
                    }
                    function _classCallCheck(t, e) {
                        if (!(t instanceof e))
                            throw new TypeError("Cannot call a class as a function")
                    }
                    function _defineProperties(t, e) {
                        for (var i = 0; i < e.length; i++) {
                            var s = e[i];
                            s.enumerable = s.enumerable || !1,
                            s.configurable = !0,
                            "value"in s && (s.writable = !0),
                            Object.defineProperty(t, s.key, s)
                        }
                    }
                    function _createClass(t, e, i) {
                        return e && _defineProperties(t.prototype, e),
                        i && _defineProperties(t, i),
                        t
                    }
                    function _inherits(t, e) {
                        if ("function" != typeof e && null !== e)
                            throw new TypeError("Super expression must either be null or a function");
                        t.prototype = Object.create(e && e.prototype, {
                            constructor: {
                                value: t,
                                writable: !0,
                                configurable: !0
                            }
                        }),
                        e && _setPrototypeOf(t, e)
                    }
                    function _getPrototypeOf(t) {
                        return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function t(e) {
                            return e.__proto__ || Object.getPrototypeOf(e)
                        }
                        )(t)
                    }
                    function _setPrototypeOf(t, e) {
                        return (_setPrototypeOf = Object.setPrototypeOf || function t(e, i) {
                            return e.__proto__ = i,
                            e
                        }
                        )(t, e)
                    }
                    function _assertThisInitialized(t) {
                        if (void 0 === t)
                            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return t
                    }
                    function _possibleConstructorReturn(t, e) {
                        return !e || "object" != typeof e && "function" != typeof e ? _assertThisInitialized(t) : e
                    }
                    var Double = function() {
                        function t(e) {
                            _classCallCheck(this, t),
                            this.value = e
                        }
                        return _createClass(t, [{
                            key: "valueOf",
                            value: function t() {
                                return this.value
                            }
                        }, {
                            key: "toJSON",
                            value: function t() {
                                return this.value
                            }
                        }, {
                            key: "toExtendedJSON",
                            value: function t(e) {
                                return e && e.relaxed && isFinite(this.value) ? this.value : {
                                    $numberDouble: this.value.toString()
                                }
                            }
                        }], [{
                            key: "fromExtendedJSON",
                            value: function e(i, s) {
                                return s && s.relaxed ? parseFloat(i.$numberDouble) : new t(parseFloat(i.$numberDouble))
                            }
                        }]),
                        t
                    }();
                    Object.defineProperty(Double.prototype, "_bsontype", {
                        value: "Double"
                    });
                    var double_1 = Double
                      , Timestamp = function(t) {
                        function e(t, i) {
                            var s;
                            return _classCallCheck(this, e),
                            s = _possibleConstructorReturn(this, t instanceof long_1 ? _getPrototypeOf(e).call(this, t.low, t.high) : _getPrototypeOf(e).call(this, t, i)),
                            _possibleConstructorReturn(s)
                        }
                        return _inherits(e, t),
                        _createClass(e, [{
                            key: "toJSON",
                            value: function t() {
                                return {
                                    $timestamp: this.toString()
                                }
                            }
                        }, {
                            key: "toExtendedJSON",
                            value: function t() {
                                return {
                                    $timestamp: {
                                        t: this.high,
                                        i: this.low
                                    }
                                }
                            }
                        }], [{
                            key: "fromInt",
                            value: function t(i) {
                                return new e(long_1.fromInt(i))
                            }
                        }, {
                            key: "fromNumber",
                            value: function t(i) {
                                return new e(long_1.fromNumber(i))
                            }
                        }, {
                            key: "fromBits",
                            value: function t(i, s) {
                                return new e(i,s)
                            }
                        }, {
                            key: "fromString",
                            value: function t(i, s) {
                                return new e(long_1.fromString(i, s))
                            }
                        }, {
                            key: "fromExtendedJSON",
                            value: function t(i) {
                                return new e(i.$timestamp.i,i.$timestamp.t)
                            }
                        }]),
                        e
                    }(long_1);
                    Object.defineProperty(Timestamp.prototype, "_bsontype", {
                        value: "Timestamp"
                    });
                    var timestamp = Timestamp
                      , require$$0 = {};
                    function normalizedFunctionString(t) {
                        return t.toString().replace("function(", "function (")
                    }
                    function insecureRandomBytes(t) {
                        for (var e = new Uint8Array(t), i = 0; i < t; ++i)
                            e[i] = Math.floor(256 * Math.random());
                        return e
                    }
                    var randomBytes = insecureRandomBytes;
                    if ("undefined" != typeof window && window.crypto && window.crypto.getRandomValues)
                        randomBytes = function t(e) {
                            return window.crypto.getRandomValues(new Uint8Array(e))
                        }
                        ;
                    else {
                        try {
                            randomBytes = require$$0.randomBytes
                        } catch (t) {}
                        null == randomBytes && (randomBytes = insecureRandomBytes)
                    }
                    var utils = {
                        normalizedFunctionString: normalizedFunctionString,
                        randomBytes: randomBytes
                    }
                      , Buffer$1 = buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer
                      , randomBytes$1 = utils.randomBytes
                      , PROCESS_UNIQUE = randomBytes$1(5)
                      , checkForHexRegExp = new RegExp("^[0-9a-fA-F]{24}$")
                      , hasBufferType = !1;
                    try {
                        Buffer$1 && Buffer$1.from && (hasBufferType = !0)
                    } catch (t) {
                        hasBufferType = !1
                    }
                    for (var hexTable = [], _i = 0; _i < 256; _i++)
                        hexTable[_i] = (_i <= 15 ? "0" : "") + _i.toString(16);
                    for (var decodeLookup = [], i = 0; i < 10; )
                        decodeLookup[48 + i] = i++;
                    for (; i < 16; )
                        decodeLookup[55 + i] = decodeLookup[87 + i] = i++;
                    var _Buffer = Buffer$1;
                    function convertToHex(t) {
                        return t.toString("hex")
                    }
                    function makeObjectIdError(t, e) {
                        var i = t[e];
                        return new TypeError('ObjectId string "'.concat(t, '" contains invalid character "').concat(i, '" with character code (').concat(t.charCodeAt(e), "). All character codes for a non-hex string must be less than 256."))
                    }
                    var ObjectId = function() {
                        function t(e) {
                            if (_classCallCheck(this, t),
                            e instanceof t)
                                return e;
                            if (null == e || "number" == typeof e)
                                return this.id = this.generate(e),
                                void (t.cacheHexString && (this.__id = this.toString("hex")));
                            var i = t.isValid(e);
                            if (!i && null != e)
                                throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
                            if (i && "string" == typeof e && 24 === e.length && hasBufferType)
                                return new t(Buffer$1.from(e, "hex"));
                            if (i && "string" == typeof e && 24 === e.length)
                                return t.createFromHexString(e);
                            if (null == e || 12 !== e.length) {
                                if (null != e && e.toHexString)
                                    return e;
                                throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")
                            }
                            this.id = e,
                            t.cacheHexString && (this.__id = this.toString("hex"))
                        }
                        return _createClass(t, [{
                            key: "toHexString",
                            value: function e() {
                                if (t.cacheHexString && this.__id)
                                    return this.__id;
                                var i = "";
                                if (!this.id || !this.id.length)
                                    throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [" + JSON.stringify(this.id) + "]");
                                if (this.id instanceof _Buffer)
                                    return i = convertToHex(this.id),
                                    t.cacheHexString && (this.__id = i),
                                    i;
                                for (var s = 0; s < this.id.length; s++) {
                                    var n = hexTable[this.id.charCodeAt(s)];
                                    if ("string" != typeof n)
                                        throw makeObjectIdError(this.id, s);
                                    i += n
                                }
                                return t.cacheHexString && (this.__id = i),
                                i
                            }
                        }, {
                            key: "get_inc",
                            value: function e() {
                                return t.index = (t.index + 1) % 16777215
                            }
                        }, {
                            key: "getInc",
                            value: function t() {
                                return this.get_inc()
                            }
                        }, {
                            key: "generate",
                            value: function t(e) {
                                "number" != typeof e && (e = ~~(Date.now() / 1e3));
                                var i = this.get_inc()
                                  , s = Buffer$1.alloc(12);
                                return s[3] = 255 & e,
                                s[2] = e >> 8 & 255,
                                s[1] = e >> 16 & 255,
                                s[0] = e >> 24 & 255,
                                s[4] = PROCESS_UNIQUE[0],
                                s[5] = PROCESS_UNIQUE[1],
                                s[6] = PROCESS_UNIQUE[2],
                                s[7] = PROCESS_UNIQUE[3],
                                s[8] = PROCESS_UNIQUE[4],
                                s[11] = 255 & i,
                                s[10] = i >> 8 & 255,
                                s[9] = i >> 16 & 255,
                                s
                            }
                        }, {
                            key: "toString",
                            value: function t(e) {
                                return this.id && this.id.copy ? this.id.toString("string" == typeof e ? e : "hex") : this.toHexString()
                            }
                        }, {
                            key: "toJSON",
                            value: function t() {
                                return this.toHexString()
                            }
                        }, {
                            key: "equals",
                            value: function e(i) {
                                return i instanceof t ? this.toString() === i.toString() : "string" == typeof i && t.isValid(i) && 12 === i.length && this.id instanceof _Buffer ? i === this.id.toString("binary") : "string" == typeof i && t.isValid(i) && 24 === i.length ? i.toLowerCase() === this.toHexString() : "string" == typeof i && t.isValid(i) && 12 === i.length ? i === this.id : !(null == i || !(i instanceof t || i.toHexString)) && i.toHexString() === this.toHexString()
                            }
                        }, {
                            key: "getTimestamp",
                            value: function t() {
                                var e = new Date
                                  , i = this.id[3] | this.id[2] << 8 | this.id[1] << 16 | this.id[0] << 24;
                                return e.setTime(1e3 * Math.floor(i)),
                                e
                            }
                        }, {
                            key: "toExtendedJSON",
                            value: function t() {
                                return this.toHexString ? {
                                    $oid: this.toHexString()
                                } : {
                                    $oid: this.toString("hex")
                                }
                            }
                        }], [{
                            key: "createPk",
                            value: function e() {
                                return new t
                            }
                        }, {
                            key: "createFromTime",
                            value: function e(i) {
                                var s = Buffer$1.from([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
                                return s[3] = 255 & i,
                                s[2] = i >> 8 & 255,
                                s[1] = i >> 16 & 255,
                                s[0] = i >> 24 & 255,
                                new t(s)
                            }
                        }, {
                            key: "createFromHexString",
                            value: function e(i) {
                                if (void 0 === i || null != i && 24 !== i.length)
                                    throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
                                if (hasBufferType)
                                    return new t(Buffer$1.from(i, "hex"));
                                for (var s = new _Buffer(12), n = 0, r = 0; r < 24; )
                                    s[n++] = decodeLookup[i.charCodeAt(r++)] << 4 | decodeLookup[i.charCodeAt(r++)];
                                return new t(s)
                            }
                        }, {
                            key: "isValid",
                            value: function e(i) {
                                return null != i && ("number" == typeof i || ("string" == typeof i ? 12 === i.length || 24 === i.length && checkForHexRegExp.test(i) : i instanceof t || (i instanceof _Buffer && 12 === i.length || !!i.toHexString && (12 === i.id.length || 24 === i.id.length && checkForHexRegExp.test(i.id)))))
                            }
                        }, {
                            key: "fromExtendedJSON",
                            value: function e(i) {
                                return new t(i.$oid)
                            }
                        }]),
                        t
                    }();
                    Object.defineProperty(ObjectId.prototype, "generationTime", {
                        enumerable: !0,
                        get: function t() {
                            return this.id[3] | this.id[2] << 8 | this.id[1] << 16 | this.id[0] << 24
                        },
                        set: function t(e) {
                            this.id[3] = 255 & e,
                            this.id[2] = e >> 8 & 255,
                            this.id[1] = e >> 16 & 255,
                            this.id[0] = e >> 24 & 255
                        }
                    }),
                    ObjectId.prototype.inspect = ObjectId.prototype.toString,
                    ObjectId.index = ~~(16777215 * Math.random()),
                    Object.defineProperty(ObjectId.prototype, "_bsontype", {
                        value: "ObjectId"
                    });
                    var objectid = ObjectId;
                    function alphabetize(t) {
                        return t.split("").sort().join("")
                    }
                    var BSONRegExp = function() {
                        function t(e, i) {
                            _classCallCheck(this, t),
                            this.pattern = e || "",
                            this.options = i ? alphabetize(i) : "";
                            for (var s = 0; s < this.options.length; s++)
                                if ("i" !== this.options[s] && "m" !== this.options[s] && "x" !== this.options[s] && "l" !== this.options[s] && "s" !== this.options[s] && "u" !== this.options[s])
                                    throw new Error("The regular expression option [".concat(this.options[s], "] is not supported"))
                        }
                        return _createClass(t, [{
                            key: "toExtendedJSON",
                            value: function t() {
                                return {
                                    $regularExpression: {
                                        pattern: this.pattern,
                                        options: this.options
                                    }
                                }
                            }
                        }], [{
                            key: "fromExtendedJSON",
                            value: function e(i) {
                                return new t(i.$regularExpression.pattern,i.$regularExpression.options.split("").sort().join(""))
                            }
                        }]),
                        t
                    }();
                    Object.defineProperty(BSONRegExp.prototype, "_bsontype", {
                        value: "BSONRegExp"
                    });
                    var regexp = BSONRegExp
                      , BSONSymbol = function() {
                        function t(e) {
                            _classCallCheck(this, t),
                            this.value = e
                        }
                        return _createClass(t, [{
                            key: "valueOf",
                            value: function t() {
                                return this.value
                            }
                        }, {
                            key: "toString",
                            value: function t() {
                                return this.value
                            }
                        }, {
                            key: "inspect",
                            value: function t() {
                                return this.value
                            }
                        }, {
                            key: "toJSON",
                            value: function t() {
                                return this.value
                            }
                        }, {
                            key: "toExtendedJSON",
                            value: function t() {
                                return {
                                    $symbol: this.value
                                }
                            }
                        }], [{
                            key: "fromExtendedJSON",
                            value: function e(i) {
                                return new t(i.$symbol)
                            }
                        }]),
                        t
                    }();
                    Object.defineProperty(BSONSymbol.prototype, "_bsontype", {
                        value: "Symbol"
                    });
                    var symbol = BSONSymbol
                      , Int32 = function() {
                        function t(e) {
                            _classCallCheck(this, t),
                            this.value = e
                        }
                        return _createClass(t, [{
                            key: "valueOf",
                            value: function t() {
                                return this.value
                            }
                        }, {
                            key: "toJSON",
                            value: function t() {
                                return this.value
                            }
                        }, {
                            key: "toExtendedJSON",
                            value: function t(e) {
                                return e && e.relaxed ? this.value : {
                                    $numberInt: this.value.toString()
                                }
                            }
                        }], [{
                            key: "fromExtendedJSON",
                            value: function e(i, s) {
                                return s && s.relaxed ? parseInt(i.$numberInt, 10) : new t(i.$numberInt)
                            }
                        }]),
                        t
                    }();
                    Object.defineProperty(Int32.prototype, "_bsontype", {
                        value: "Int32"
                    });
                    var int_32 = Int32
                      , Code = function() {
                        function t(e, i) {
                            _classCallCheck(this, t),
                            this.code = e,
                            this.scope = i
                        }
                        return _createClass(t, [{
                            key: "toJSON",
                            value: function t() {
                                return {
                                    scope: this.scope,
                                    code: this.code
                                }
                            }
                        }, {
                            key: "toExtendedJSON",
                            value: function t() {
                                return this.scope ? {
                                    $code: this.code,
                                    $scope: this.scope
                                } : {
                                    $code: this.code
                                }
                            }
                        }], [{
                            key: "fromExtendedJSON",
                            value: function e(i) {
                                return new t(i.$code,i.$scope)
                            }
                        }]),
                        t
                    }();
                    Object.defineProperty(Code.prototype, "_bsontype", {
                        value: "Code"
                    });
                    var code = Code
                      , PARSE_STRING_REGEXP = /^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/
                      , PARSE_INF_REGEXP = /^(\+|-)?(Infinity|inf)$/i
                      , PARSE_NAN_REGEXP = /^(\+|-)?NaN$/i
                      , EXPONENT_MAX = 6111
                      , EXPONENT_MIN = -6176
                      , EXPONENT_BIAS = 6176
                      , MAX_DIGITS = 34
                      , NAN_BUFFER = [124, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0].reverse()
                      , INF_NEGATIVE_BUFFER = [248, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0].reverse()
                      , INF_POSITIVE_BUFFER = [120, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0].reverse()
                      , EXPONENT_REGEX = /^([-+])?(\d+)?$/;
                    function isDigit(t) {
                        return !isNaN(parseInt(t, 10))
                    }
                    function divideu128(t) {
                        var e = long_1.fromNumber(1e9)
                          , i = long_1.fromNumber(0);
                        if (!(t.parts[0] || t.parts[1] || t.parts[2] || t.parts[3]))
                            return {
                                quotient: t,
                                rem: i
                            };
                        for (var s = 0; s <= 3; s++)
                            i = (i = i.shiftLeft(32)).add(new long_1(t.parts[s],0)),
                            t.parts[s] = i.div(e).low,
                            i = i.modulo(e);
                        return {
                            quotient: t,
                            rem: i
                        }
                    }
                    function multiply64x2(t, e) {
                        if (!t && !e)
                            return {
                                high: long_1.fromNumber(0),
                                low: long_1.fromNumber(0)
                            };
                        var i = t.shiftRightUnsigned(32)
                          , s = new long_1(t.getLowBits(),0)
                          , n = e.shiftRightUnsigned(32)
                          , r = new long_1(e.getLowBits(),0)
                          , a = i.multiply(n)
                          , h = i.multiply(r)
                          , c = s.multiply(n)
                          , o = s.multiply(r);
                        return a = a.add(h.shiftRightUnsigned(32)),
                        h = new long_1(h.getLowBits(),0).add(c).add(o.shiftRightUnsigned(32)),
                        {
                            high: a = a.add(h.shiftRightUnsigned(32)),
                            low: o = h.shiftLeft(32).add(new long_1(o.getLowBits(),0))
                        }
                    }
                    function lessThan(t, e) {
                        var i = t.high >>> 0, s = e.high >>> 0, n, r;
                        return i < s || i === s && t.low >>> 0 < e.low >>> 0
                    }
                    function invalidErr(t, e) {
                        throw new TypeError('"'.concat(t, '" is not a valid Decimal128 string - ').concat(e))
                    }
                    function Decimal128(t) {
                        this.bytes = t
                    }
                    Decimal128.fromString = function(t) {
                        var e = !1
                          , i = !1
                          , s = !1
                          , n = 0
                          , r = 0
                          , a = 0
                          , h = 0
                          , c = 0
                          , o = [0]
                          , u = 0
                          , f = 0
                          , d = 0
                          , l = 0
                          , b = 0
                          , v = 0
                          , m = [0, 0]
                          , g = [0, 0]
                          , p = 0
                          , w = 0;
                        if (t.length >= 7e3)
                            throw new TypeError(t + " not a valid Decimal128 string");
                        var x = t.match(PARSE_STRING_REGEXP)
                          , z = t.match(PARSE_INF_REGEXP)
                          , _ = t.match(PARSE_NAN_REGEXP);
                        if (!x && !z && !_ || 0 === t.length)
                            throw new TypeError(t + " not a valid Decimal128 string");
                        if (x) {
                            var A = x[2]
                              , y = x[4]
                              , M = x[5]
                              , S = x[6];
                            y && void 0 === S && invalidErr(t, "missing exponent power"),
                            y && void 0 === A && invalidErr(t, "missing exponent base"),
                            void 0 === y && (M || S) && invalidErr(t, "missing e before exponent")
                        }
                        if ("+" !== t[w] && "-" !== t[w] || (e = "-" === t[w++]),
                        !isDigit(t[w]) && "." !== t[w]) {
                            if ("i" === t[w] || "I" === t[w])
                                return new Decimal128(Buffer.from(e ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));
                            if ("N" === t[w])
                                return new Decimal128(Buffer.from(NAN_BUFFER))
                        }
                        for (; isDigit(t[w]) || "." === t[w]; )
                            "." !== t[w] ? (u < 34 && ("0" !== t[w] || s) && (s || (c = r),
                            s = !0,
                            o[f++] = parseInt(t[w], 10),
                            u += 1),
                            s && (a += 1),
                            i && (h += 1),
                            r += 1,
                            w += 1) : (i && invalidErr(t, "contains multiple periods"),
                            i = !0,
                            w += 1);
                        if (i && !r)
                            throw new TypeError(t + " not a valid Decimal128 string");
                        if ("e" === t[w] || "E" === t[w]) {
                            var C = t.substr(++w).match(EXPONENT_REGEX);
                            if (!C || !C[2])
                                return new Decimal128(Buffer.from(NAN_BUFFER));
                            b = parseInt(C[0], 10),
                            w += C[0].length
                        }
                        if (t[w])
                            return new Decimal128(Buffer.from(NAN_BUFFER));
                        if (d = 0,
                        u) {
                            if (l = u - 1,
                            1 !== (n = a))
                                for (; "0" === t[c + n - 1]; )
                                    n -= 1
                        } else
                            d = 0,
                            l = 0,
                            o[0] = 0,
                            a = 1,
                            u = 1,
                            n = 0;
                        for (b <= h && h - b > 16384 ? b = EXPONENT_MIN : b -= h; b > EXPONENT_MAX; ) {
                            if ((l += 1) - d > MAX_DIGITS) {
                                var O;
                                if (o.join("").match(/^0+$/)) {
                                    b = EXPONENT_MAX;
                                    break
                                }
                                invalidErr(t, "overflow")
                            }
                            b -= 1
                        }
                        for (; b < EXPONENT_MIN || u < a; ) {
                            if (0 === l && n < u) {
                                b = EXPONENT_MIN,
                                n = 0;
                                break
                            }
                            if (u < a ? a -= 1 : l -= 1,
                            b < EXPONENT_MAX)
                                b += 1;
                            else {
                                var E;
                                if (o.join("").match(/^0+$/)) {
                                    b = EXPONENT_MAX;
                                    break
                                }
                                invalidErr(t, "overflow")
                            }
                        }
                        if (l - d + 1 < n) {
                            var D = r;
                            i && (c += 1,
                            D += 1),
                            e && (c += 1,
                            D += 1);
                            var T = parseInt(t[c + l + 1], 10)
                              , P = 0;
                            if (T >= 5 && (P = 1,
                            5 === T))
                                for (P = o[l] % 2 == 1,
                                v = c + l + 2; v < D; v++)
                                    if (parseInt(t[v], 10)) {
                                        P = 1;
                                        break
                                    }
                            if (P)
                                for (var B = l; B >= 0; B--)
                                    if (++o[B] > 9 && (o[B] = 0,
                                    0 === B)) {
                                        if (!(b < EXPONENT_MAX))
                                            return new Decimal128(Buffer.from(e ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));
                                        b += 1,
                                        o[B] = 1
                                    }
                        }
                        if (m = long_1.fromNumber(0),
                        g = long_1.fromNumber(0),
                        0 === n)
                            m = long_1.fromNumber(0),
                            g = long_1.fromNumber(0);
                        else if (l - d < 17) {
                            var I = d;
                            for (g = long_1.fromNumber(o[I++]),
                            m = new long_1(0,0); I <= l; I++)
                                g = (g = g.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(o[I]))
                        } else {
                            var j = d;
                            for (m = long_1.fromNumber(o[j++]); j <= l - 17; j++)
                                m = (m = m.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(o[j]));
                            for (g = long_1.fromNumber(o[j++]); j <= l; j++)
                                g = (g = g.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(o[j]))
                        }
                        var R = multiply64x2(m, long_1.fromString("100000000000000000"));
                        R.low = R.low.add(g),
                        lessThan(R.low, g) && (R.high = R.high.add(long_1.fromNumber(1))),
                        p = b + EXPONENT_BIAS;
                        var L = {
                            low: long_1.fromNumber(0),
                            high: long_1.fromNumber(0)
                        };
                        R.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber(1)) ? (L.high = L.high.or(long_1.fromNumber(3).shiftLeft(61)),
                        L.high = L.high.or(long_1.fromNumber(p).and(long_1.fromNumber(16383).shiftLeft(47))),
                        L.high = L.high.or(R.high.and(long_1.fromNumber(0x7fffffffffff)))) : (L.high = L.high.or(long_1.fromNumber(16383 & p).shiftLeft(49)),
                        L.high = L.high.or(R.high.and(long_1.fromNumber(562949953421311)))),
                        L.low = R.low,
                        e && (L.high = L.high.or(long_1.fromString("9223372036854775808")));
                        var N = Buffer.alloc(16);
                        return w = 0,
                        N[w++] = 255 & L.low.low,
                        N[w++] = L.low.low >> 8 & 255,
                        N[w++] = L.low.low >> 16 & 255,
                        N[w++] = L.low.low >> 24 & 255,
                        N[w++] = 255 & L.low.high,
                        N[w++] = L.low.high >> 8 & 255,
                        N[w++] = L.low.high >> 16 & 255,
                        N[w++] = L.low.high >> 24 & 255,
                        N[w++] = 255 & L.high.low,
                        N[w++] = L.high.low >> 8 & 255,
                        N[w++] = L.high.low >> 16 & 255,
                        N[w++] = L.high.low >> 24 & 255,
                        N[w++] = 255 & L.high.high,
                        N[w++] = L.high.high >> 8 & 255,
                        N[w++] = L.high.high >> 16 & 255,
                        N[w++] = L.high.high >> 24 & 255,
                        new Decimal128(N)
                    }
                    ;
                    var COMBINATION_MASK = 31
                      , EXPONENT_MASK = 16383
                      , COMBINATION_INFINITY = 30
                      , COMBINATION_NAN = 31;
                    Decimal128.prototype.toString = function() {
                        for (var t, e, i, s, n, r, a = 0, h = new Array(36), c = 0; c < h.length; c++)
                            h[c] = 0;
                        var o = 0, u, f, d = !1, l, b = {
                            parts: new Array(4)
                        }, v, m, g = [];
                        o = 0;
                        var p = this.bytes, w;
                        if (s = p[o++] | p[o++] << 8 | p[o++] << 16 | p[o++] << 24,
                        i = p[o++] | p[o++] << 8 | p[o++] << 16 | p[o++] << 24,
                        e = p[o++] | p[o++] << 8 | p[o++] << 16 | p[o++] << 24,
                        t = p[o++] | p[o++] << 8 | p[o++] << 16 | p[o++] << 24,
                        o = 0,
                        {
                            low: new long_1(s,i),
                            high: new long_1(e,t)
                        }.high.lessThan(long_1.ZERO) && g.push("-"),
                        (n = t >> 26 & COMBINATION_MASK) >> 3 == 3) {
                            if (n === COMBINATION_INFINITY)
                                return g.join("") + "Infinity";
                            if (n === COMBINATION_NAN)
                                return "NaN";
                            r = t >> 15 & EXPONENT_MASK,
                            l = 8 + (t >> 14 & 1)
                        } else
                            l = t >> 14 & 7,
                            r = t >> 17 & EXPONENT_MASK;
                        if (u = r - EXPONENT_BIAS,
                        b.parts[0] = (16383 & t) + ((15 & l) << 14),
                        b.parts[1] = e,
                        b.parts[2] = i,
                        b.parts[3] = s,
                        0 === b.parts[0] && 0 === b.parts[1] && 0 === b.parts[2] && 0 === b.parts[3])
                            d = !0;
                        else
                            for (m = 3; m >= 0; m--) {
                                var x = 0
                                  , z = divideu128(b);
                                if (b = z.quotient,
                                x = z.rem.low)
                                    for (v = 8; v >= 0; v--)
                                        h[9 * m + v] = x % 10,
                                        x = Math.floor(x / 10)
                            }
                        if (d)
                            a = 1,
                            h[o] = 0;
                        else
                            for (a = 36; !h[o]; )
                                a -= 1,
                                o += 1;
                        if ((f = a - 1 + u) >= 34 || f <= -7 || u > 0) {
                            if (a > 34)
                                return g.push(0),
                                u > 0 ? g.push("E+" + u) : u < 0 && g.push("E" + u),
                                g.join("");
                            g.push(h[o++]),
                            (a -= 1) && g.push(".");
                            for (var _ = 0; _ < a; _++)
                                g.push(h[o++]);
                            g.push("E"),
                            f > 0 ? g.push("+" + f) : g.push(f)
                        } else if (u >= 0)
                            for (var A = 0; A < a; A++)
                                g.push(h[o++]);
                        else {
                            var y = a + u;
                            if (y > 0)
                                for (var M = 0; M < y; M++)
                                    g.push(h[o++]);
                            else
                                g.push("0");
                            for (g.push("."); y++ < 0; )
                                g.push("0");
                            for (var S = 0; S < a - Math.max(y - 1, 0); S++)
                                g.push(h[o++])
                        }
                        return g.join("")
                    }
                    ,
                    Decimal128.prototype.toJSON = function() {
                        return {
                            $numberDecimal: this.toString()
                        }
                    }
                    ,
                    Decimal128.prototype.toExtendedJSON = function() {
                        return {
                            $numberDecimal: this.toString()
                        }
                    }
                    ,
                    Decimal128.fromExtendedJSON = function(t) {
                        return Decimal128.fromString(t.$numberDecimal)
                    }
                    ,
                    Object.defineProperty(Decimal128.prototype, "_bsontype", {
                        value: "Decimal128"
                    });
                    var decimal128 = Decimal128
                      , MinKey = function() {
                        function t() {
                            _classCallCheck(this, t)
                        }
                        return _createClass(t, [{
                            key: "toExtendedJSON",
                            value: function t() {
                                return {
                                    $minKey: 1
                                }
                            }
                        }], [{
                            key: "fromExtendedJSON",
                            value: function e() {
                                return new t
                            }
                        }]),
                        t
                    }();
                    Object.defineProperty(MinKey.prototype, "_bsontype", {
                        value: "MinKey"
                    });
                    var min_key = MinKey
                      , MaxKey = function() {
                        function t() {
                            _classCallCheck(this, t)
                        }
                        return _createClass(t, [{
                            key: "toExtendedJSON",
                            value: function t() {
                                return {
                                    $maxKey: 1
                                }
                            }
                        }], [{
                            key: "fromExtendedJSON",
                            value: function e() {
                                return new t
                            }
                        }]),
                        t
                    }();
                    Object.defineProperty(MaxKey.prototype, "_bsontype", {
                        value: "MaxKey"
                    });
                    var max_key = MaxKey
                      , DBRef = function() {
                        function t(e, i, s, n) {
                            _classCallCheck(this, t);
                            var r = e.split(".");
                            2 === r.length && (s = r.shift(),
                            e = r.shift()),
                            this.collection = e,
                            this.oid = i,
                            this.db = s,
                            this.fields = n || {}
                        }
                        return _createClass(t, [{
                            key: "toJSON",
                            value: function t() {
                                var e = Object.assign({
                                    $ref: this.collection,
                                    $id: this.oid
                                }, this.fields);
                                return null != this.db && (e.$db = this.db),
                                e
                            }
                        }, {
                            key: "toExtendedJSON",
                            value: function t() {
                                var e = {
                                    $ref: this.collection,
                                    $id: this.oid
                                };
                                return this.db && (e.$db = this.db),
                                e = Object.assign(e, this.fields)
                            }
                        }], [{
                            key: "fromExtendedJSON",
                            value: function e(i) {
                                var s = Object.assign({}, i);
                                return ["$ref", "$id", "$db"].forEach(function(t) {
                                    return delete s[t]
                                }),
                                new t(i.$ref,i.$id,i.$db,s)
                            }
                        }]),
                        t
                    }();
                    Object.defineProperty(DBRef.prototype, "_bsontype", {
                        value: "DBRef"
                    });
                    var db_ref = DBRef
                      , Binary = function() {
                        function t(e, i) {
                            if (_classCallCheck(this, t),
                            !(null == e || "string" == typeof e || Buffer.isBuffer(e) || e instanceof Uint8Array || Array.isArray(e)))
                                throw new TypeError("only String, Buffer, Uint8Array or Array accepted");
                            if (this.sub_type = null == i ? BSON_BINARY_SUBTYPE_DEFAULT : i,
                            this.position = 0,
                            null == e || e instanceof Number)
                                void 0 !== Buffer ? this.buffer = Buffer.alloc(t.BUFFER_SIZE) : "undefined" != typeof Uint8Array ? this.buffer = new Uint8Array(new ArrayBuffer(t.BUFFER_SIZE)) : this.buffer = new Array(t.BUFFER_SIZE);
                            else {
                                if ("string" == typeof e)
                                    if (void 0 !== Buffer)
                                        this.buffer = Buffer.from(e);
                                    else {
                                        if ("undefined" == typeof Uint8Array && !Array.isArray(e))
                                            throw new TypeError("only String, Buffer, Uint8Array or Array accepted");
                                        this.buffer = writeStringToArray(e)
                                    }
                                else
                                    this.buffer = e;
                                this.position = e.length
                            }
                        }
                        return _createClass(t, [{
                            key: "put",
                            value: function e(i) {
                                if (null != i.length && "number" != typeof i && 1 !== i.length)
                                    throw new TypeError("only accepts single character String, Uint8Array or Array");
                                if ("number" != typeof i && i < 0 || i > 255)
                                    throw new TypeError("only accepts number in a valid unsigned byte range 0-255");
                                var s = null;
                                if (s = "string" == typeof i ? i.charCodeAt(0) : null != i.length ? i[0] : i,
                                this.buffer.length > this.position)
                                    this.buffer[this.position++] = s;
                                else if (void 0 !== Buffer && Buffer.isBuffer(this.buffer)) {
                                    var n = Buffer.alloc(t.BUFFER_SIZE + this.buffer.length);
                                    this.buffer.copy(n, 0, 0, this.buffer.length),
                                    this.buffer = n,
                                    this.buffer[this.position++] = s
                                } else {
                                    var r = null;
                                    r = isUint8Array(this.buffer) ? new Uint8Array(new ArrayBuffer(t.BUFFER_SIZE + this.buffer.length)) : new Array(t.BUFFER_SIZE + this.buffer.length);
                                    for (var a = 0; a < this.buffer.length; a++)
                                        r[a] = this.buffer[a];
                                    this.buffer = r,
                                    this.buffer[this.position++] = s
                                }
                            }
                        }, {
                            key: "write",
                            value: function t(e, i) {
                                if (i = "number" == typeof i ? i : this.position,
                                this.buffer.length < i + e.length) {
                                    var s = null;
                                    if (void 0 !== Buffer && Buffer.isBuffer(this.buffer))
                                        s = Buffer.alloc(this.buffer.length + e.length),
                                        this.buffer.copy(s, 0, 0, this.buffer.length);
                                    else if (isUint8Array(this.buffer)) {
                                        s = new Uint8Array(new ArrayBuffer(this.buffer.length + e.length));
                                        for (var n = 0; n < this.position; n++)
                                            s[n] = this.buffer[n]
                                    }
                                    this.buffer = s
                                }
                                if (void 0 !== Buffer && Buffer.isBuffer(e) && Buffer.isBuffer(this.buffer))
                                    e.copy(this.buffer, i, 0, e.length),
                                    this.position = i + e.length > this.position ? i + e.length : this.position;
                                else if (void 0 !== Buffer && "string" == typeof e && Buffer.isBuffer(this.buffer))
                                    this.buffer.write(e, i, "binary"),
                                    this.position = i + e.length > this.position ? i + e.length : this.position;
                                else if (isUint8Array(e) || Array.isArray(e) && "string" != typeof e) {
                                    for (var r = 0; r < e.length; r++)
                                        this.buffer[i++] = e[r];
                                    this.position = i > this.position ? i : this.position
                                } else if ("string" == typeof e) {
                                    for (var a = 0; a < e.length; a++)
                                        this.buffer[i++] = e.charCodeAt(a);
                                    this.position = i > this.position ? i : this.position
                                }
                            }
                        }, {
                            key: "read",
                            value: function t(e, i) {
                                if (i = i && i > 0 ? i : this.position,
                                this.buffer.slice)
                                    return this.buffer.slice(e, e + i);
                                for (var s = "undefined" != typeof Uint8Array ? new Uint8Array(new ArrayBuffer(i)) : new Array(i), n = 0; n < i; n++)
                                    s[n] = this.buffer[e++];
                                return s
                            }
                        }, {
                            key: "value",
                            value: function t(e) {
                                if ((e = null != e && e) && void 0 !== Buffer && Buffer.isBuffer(this.buffer) && this.buffer.length === this.position)
                                    return this.buffer;
                                if (void 0 !== Buffer && Buffer.isBuffer(this.buffer))
                                    return e ? this.buffer.slice(0, this.position) : this.buffer.toString("binary", 0, this.position);
                                if (e) {
                                    if (null != this.buffer.slice)
                                        return this.buffer.slice(0, this.position);
                                    for (var i = isUint8Array(this.buffer) ? new Uint8Array(new ArrayBuffer(this.position)) : new Array(this.position), s = 0; s < this.position; s++)
                                        i[s] = this.buffer[s];
                                    return i
                                }
                                return convertArraytoUtf8BinaryString(this.buffer, 0, this.position)
                            }
                        }, {
                            key: "length",
                            value: function t() {
                                return this.position
                            }
                        }, {
                            key: "toJSON",
                            value: function t() {
                                return null != this.buffer ? this.buffer.toString("base64") : ""
                            }
                        }, {
                            key: "toString",
                            value: function t(e) {
                                return null != this.buffer ? this.buffer.slice(0, this.position).toString(e) : ""
                            }
                        }, {
                            key: "toExtendedJSON",
                            value: function t() {
                                var e = Buffer.isBuffer(this.buffer) ? this.buffer.toString("base64") : Buffer.from(this.buffer).toString("base64")
                                  , i = Number(this.sub_type).toString(16);
                                return {
                                    $binary: {
                                        base64: e,
                                        subType: 1 === i.length ? "0" + i : i
                                    }
                                }
                            }
                        }], [{
                            key: "fromExtendedJSON",
                            value: function e(i) {
                                var s = i.$binary.subType ? parseInt(i.$binary.subType, 16) : 0, n;
                                return new t(new Buffer(i.$binary.base64,"base64"),s)
                            }
                        }]),
                        t
                    }()
                      , BSON_BINARY_SUBTYPE_DEFAULT = 0;
                    function isUint8Array(t) {
                        return "[object Uint8Array]" === Object.prototype.toString.call(t)
                    }
                    function writeStringToArray(t) {
                        for (var e = "undefined" != typeof Uint8Array ? new Uint8Array(new ArrayBuffer(t.length)) : new Array(t.length), i = 0; i < t.length; i++)
                            e[i] = t.charCodeAt(i);
                        return e
                    }
                    function convertArraytoUtf8BinaryString(t, e, i) {
                        for (var s = "", n = e; n < i; n++)
                            s += String.fromCharCode(t[n]);
                        return s
                    }
                    Binary.BUFFER_SIZE = 256,
                    Binary.SUBTYPE_DEFAULT = 0,
                    Binary.SUBTYPE_FUNCTION = 1,
                    Binary.SUBTYPE_BYTE_ARRAY = 2,
                    Binary.SUBTYPE_UUID_OLD = 3,
                    Binary.SUBTYPE_UUID = 4,
                    Binary.SUBTYPE_MD5 = 5,
                    Binary.SUBTYPE_USER_DEFINED = 128,
                    Object.defineProperty(Binary.prototype, "_bsontype", {
                        value: "Binary"
                    });
                    var binary = Binary
                      , constants = {
                        BSON_INT32_MAX: 2147483647,
                        BSON_INT32_MIN: -2147483648,
                        BSON_INT64_MAX: Math.pow(2, 63) - 1,
                        BSON_INT64_MIN: -Math.pow(2, 63),
                        JS_INT_MAX: 9007199254740992,
                        JS_INT_MIN: -9007199254740992,
                        BSON_DATA_NUMBER: 1,
                        BSON_DATA_STRING: 2,
                        BSON_DATA_OBJECT: 3,
                        BSON_DATA_ARRAY: 4,
                        BSON_DATA_BINARY: 5,
                        BSON_DATA_UNDEFINED: 6,
                        BSON_DATA_OID: 7,
                        BSON_DATA_BOOLEAN: 8,
                        BSON_DATA_DATE: 9,
                        BSON_DATA_NULL: 10,
                        BSON_DATA_REGEXP: 11,
                        BSON_DATA_DBPOINTER: 12,
                        BSON_DATA_CODE: 13,
                        BSON_DATA_SYMBOL: 14,
                        BSON_DATA_CODE_W_SCOPE: 15,
                        BSON_DATA_INT: 16,
                        BSON_DATA_TIMESTAMP: 17,
                        BSON_DATA_LONG: 18,
                        BSON_DATA_DECIMAL128: 19,
                        BSON_DATA_MIN_KEY: 255,
                        BSON_DATA_MAX_KEY: 127,
                        BSON_BINARY_SUBTYPE_DEFAULT: 0,
                        BSON_BINARY_SUBTYPE_FUNCTION: 1,
                        BSON_BINARY_SUBTYPE_BYTE_ARRAY: 2,
                        BSON_BINARY_SUBTYPE_UUID: 3,
                        BSON_BINARY_SUBTYPE_MD5: 4,
                        BSON_BINARY_SUBTYPE_USER_DEFINED: 128
                    }
                      , keysToCodecs = {
                        $oid: objectid,
                        $binary: binary,
                        $symbol: symbol,
                        $numberInt: int_32,
                        $numberDecimal: decimal128,
                        $numberDouble: double_1,
                        $numberLong: long_1,
                        $minKey: min_key,
                        $maxKey: max_key,
                        $regularExpression: regexp,
                        $timestamp: timestamp
                    };
                    function deserializeValue(t, e, i, s) {
                        if ("number" == typeof i) {
                            if (s.relaxed)
                                return i;
                            if (Math.floor(i) === i) {
                                if (i >= BSON_INT32_MIN && i <= BSON_INT32_MAX)
                                    return new int_32(i);
                                if (i >= BSON_INT64_MIN && i <= BSON_INT64_MAX)
                                    return new long_1.fromNumber(i)
                            }
                            return new double_1(i)
                        }
                        if (null == i || "object" !== _typeof(i))
                            return i;
                        if (i.$undefined)
                            return null;
                        for (var n = Object.keys(i).filter(function(t) {
                            return t.startsWith("$") && null != i[t]
                        }), r = 0; r < n.length; r++) {
                            var a = keysToCodecs[n[r]];
                            if (a)
                                return a.fromExtendedJSON(i, s)
                        }
                        if (null != i.$date) {
                            var h = i.$date
                              , c = new Date;
                            return "string" == typeof h ? c.setTime(Date.parse(h)) : h instanceof long_1 ? c.setTime(h.toNumber()) : "number" == typeof h && s.relaxed && c.setTime(h),
                            c
                        }
                        if (null != i.$code) {
                            var o = Object.assign({}, i);
                            return i.$scope && (o.$scope = deserializeValue(t, null, i.$scope)),
                            code.fromExtendedJSON(i)
                        }
                        if (null != i.$ref || null != i.$dbPointer) {
                            var u = i.$ref ? i : i.$dbPointer;
                            if (u instanceof db_ref)
                                return u;
                            var f = Object.keys(u).filter(function(t) {
                                return t.startsWith("$")
                            })
                              , d = !0;
                            if (f.forEach(function(t) {
                                -1 === ["$ref", "$id", "$db"].indexOf(t) && (d = !1)
                            }),
                            d)
                                return db_ref.fromExtendedJSON(u)
                        }
                        return i
                    }
                    function parse(t, e) {
                        var i = this;
                        return "boolean" == typeof (e = Object.assign({}, {
                            relaxed: !0
                        }, e)).relaxed && (e.strict = !e.relaxed),
                        "boolean" == typeof e.strict && (e.relaxed = !e.strict),
                        JSON.parse(t, function(t, s) {
                            return deserializeValue(i, t, s, e)
                        })
                    }
                    var BSON_INT32_MAX = 2147483647
                      , BSON_INT32_MIN = -2147483648
                      , BSON_INT64_MAX = 0x8000000000000000
                      , BSON_INT64_MIN = -0x8000000000000000;
                    function stringify(t, e, i, s) {
                        null != i && "object" === _typeof(i) && (s = i,
                        i = 0),
                        null != e && "object" === _typeof(e) && (s = e,
                        e = null,
                        i = 0),
                        s = Object.assign({}, {
                            relaxed: !0
                        }, s);
                        var n = Array.isArray(t) ? serializeArray(t, s) : serializeDocument(t, s);
                        return JSON.stringify(n, e, i)
                    }
                    function serialize(t, e) {
                        return e = e || {},
                        JSON.parse(stringify(t, e))
                    }
                    function deserialize(t, e) {
                        return e = e || {},
                        parse(JSON.stringify(t), e)
                    }
                    function serializeArray(t, e) {
                        return t.map(function(t) {
                            return serializeValue(t, e)
                        })
                    }
                    function getISOString(t) {
                        var e = t.toISOString();
                        return 0 !== t.getUTCMilliseconds() ? e : e.slice(0, -5) + "Z"
                    }
                    function serializeValue(t, e) {
                        if (Array.isArray(t))
                            return serializeArray(t, e);
                        if (void 0 === t)
                            return null;
                        if (t instanceof Date) {
                            var i = t.getTime()
                              , s = i > -1 && i < 2534023188e5;
                            return e.relaxed && s ? {
                                $date: getISOString(t)
                            } : {
                                $date: {
                                    $numberLong: t.getTime().toString()
                                }
                            }
                        }
                        if ("number" == typeof t && !e.relaxed) {
                            if (Math.floor(t) === t) {
                                var n, r = t >= BSON_INT64_MIN && t <= BSON_INT64_MAX;
                                if (t >= BSON_INT32_MIN && t <= BSON_INT32_MAX)
                                    return {
                                        $numberInt: t.toString()
                                    };
                                if (r)
                                    return {
                                        $numberLong: t.toString()
                                    }
                            }
                            return {
                                $numberDouble: t.toString()
                            }
                        }
                        return null != t && "object" === _typeof(t) ? serializeDocument(t, e) : t
                    }
                    function serializeDocument(t, e) {
                        if (null == t || "object" !== _typeof(t))
                            throw new Error("not an object instance");
                        if (t._bsontype && "function" == typeof t.toExtendedJSON)
                            return "Code" === t._bsontype && t.scope ? t.scope = serializeDocument(t.scope, e) : "DBRef" === t._bsontype && t.oid && (t.oid = serializeDocument(t.oid, e)),
                            t.toExtendedJSON(e);
                        var i = {};
                        for (var s in t) {
                            var n = t[s];
                            if (Array.isArray(n) ? i[s] = serializeArray(n, e) : null != n && "function" == typeof n.toExtendedJSON ? ("Code" === n._bsontype && n.scope ? n.scope = serializeDocument(n.scope, e) : "DBRef" === n._bsontype && n.oid && (n.oid = serializeDocument(n.oid, e)),
                            i[s] = n.toExtendedJSON(e)) : n instanceof Date ? i[s] = serializeValue(n, e) : null != n && "object" === _typeof(n) && (i[s] = serializeDocument(n, e)),
                            i[s] = serializeValue(n, e),
                            n instanceof RegExp) {
                                var r = n.flags;
                                void 0 === r && (r = n.toString().match(/[gimuy]*$/)[0]);
                                var a = new regexp(n.source,r);
                                i[s] = a.toExtendedJSON()
                            }
                        }
                        return i
                    }
                    var extended_json = {
                        parse: parse,
                        deserialize: deserialize,
                        serialize: serialize,
                        stringify: stringify
                    }
                      , FIRST_BIT = 128
                      , FIRST_TWO_BITS = 192
                      , FIRST_THREE_BITS = 224
                      , FIRST_FOUR_BITS = 240
                      , FIRST_FIVE_BITS = 248
                      , TWO_BIT_CHAR = 192
                      , THREE_BIT_CHAR = 224
                      , FOUR_BIT_CHAR = 240
                      , CONTINUING_CHAR = 128;
                    function validateUtf8(t, e, i) {
                        for (var s = 0, n = e; n < i; n += 1) {
                            var r = t[n];
                            if (s) {
                                if ((r & FIRST_TWO_BITS) !== CONTINUING_CHAR)
                                    return !1;
                                s -= 1
                            } else if (r & FIRST_BIT)
                                if ((r & FIRST_THREE_BITS) === TWO_BIT_CHAR)
                                    s = 1;
                                else if ((r & FIRST_FOUR_BITS) === THREE_BIT_CHAR)
                                    s = 2;
                                else {
                                    if ((r & FIRST_FIVE_BITS) !== FOUR_BIT_CHAR)
                                        return !1;
                                    s = 3
                                }
                        }
                        return !s
                    }
                    var validateUtf8_1 = validateUtf8
                      , validate_utf8 = {
                        validateUtf8: validateUtf8_1
                    }
                      , Buffer$2 = buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer
                      , validateUtf8$1 = validate_utf8.validateUtf8
                      , JS_INT_MAX_LONG = long_1.fromNumber(constants.JS_INT_MAX)
                      , JS_INT_MIN_LONG = long_1.fromNumber(constants.JS_INT_MIN)
                      , functionCache = {};
                    function deserialize$1(t, e, i) {
                        var s = (e = null == e ? {} : e) && e.index ? e.index : 0
                          , n = t[s] | t[s + 1] << 8 | t[s + 2] << 16 | t[s + 3] << 24;
                        if (n < 5)
                            throw new Error("bson size must be >= 5, is ".concat(n));
                        if (e.allowObjectSmallerThanBufferSize && t.length < n)
                            throw new Error("buffer length ".concat(t.length, " must be >= bson size ").concat(n));
                        if (!e.allowObjectSmallerThanBufferSize && t.length !== n)
                            throw new Error("buffer length ".concat(t.length, " must === bson size ").concat(n));
                        if (n + s > t.length)
                            throw new Error("(bson size ".concat(n, " + options.index ").concat(s, " must be <= buffer length ").concat(Buffer$2.byteLength(t), ")"));
                        if (0 !== t[s + n - 1])
                            throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");
                        return deserializeObject(t, s, e, i)
                    }
                    function deserializeObject(t, e, i, s) {
                        var n = null != i.evalFunctions && i.evalFunctions
                          , r = null != i.cacheFunctions && i.cacheFunctions
                          , a = null != i.cacheFunctionsCrc32 && i.cacheFunctionsCrc32;
                        if (!a)
                            var h = null;
                        var c = null == i.fieldsAsRaw ? null : i.fieldsAsRaw
                          , o = null != i.raw && i.raw
                          , u = "boolean" == typeof i.bsonRegExp && i.bsonRegExp
                          , f = null != i.promoteBuffers && i.promoteBuffers
                          , d = null == i.promoteLongs || i.promoteLongs
                          , l = null == i.promoteValues || i.promoteValues
                          , b = e;
                        if (t.length < 5)
                            throw new Error("corrupt bson message < 5 bytes long");
                        var v = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24;
                        if (v < 5 || v > t.length)
                            throw new Error("corrupt bson message");
                        for (var m = s ? [] : {}, g = 0, p = !1; ; ) {
                            var w = t[e++];
                            if (0 === w)
                                break;
                            for (var x = e; 0 !== t[x] && x < t.length; )
                                x++;
                            if (x >= Buffer$2.byteLength(t))
                                throw new Error("Bad BSON Document: illegal CString");
                            var z = s ? g++ : t.toString("utf8", e, x);
                            if (e = x + 1,
                            w === constants.BSON_DATA_STRING) {
                                var _ = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24;
                                if (_ <= 0 || _ > t.length - e || 0 !== t[e + _ - 1])
                                    throw new Error("bad string length in bson");
                                if (!validateUtf8$1(t, e, e + _ - 1))
                                    throw new Error("Invalid UTF-8 string in BSON document");
                                var A = t.toString("utf8", e, e + _ - 1);
                                m[z] = A,
                                e += _
                            } else if (w === constants.BSON_DATA_OID) {
                                var y = Buffer$2.alloc(12);
                                t.copy(y, 0, e, e + 12),
                                m[z] = new objectid(y),
                                e += 12
                            } else if (w === constants.BSON_DATA_INT && !1 === l)
                                m[z] = new int_32(t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24);
                            else if (w === constants.BSON_DATA_INT)
                                m[z] = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24;
                            else if (w === constants.BSON_DATA_NUMBER && !1 === l)
                                m[z] = new double_1(t.readDoubleLE(e)),
                                e += 8;
                            else if (w === constants.BSON_DATA_NUMBER)
                                m[z] = t.readDoubleLE(e),
                                e += 8;
                            else if (w === constants.BSON_DATA_DATE) {
                                var M = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24
                                  , S = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24;
                                m[z] = new Date(new long_1(M,S).toNumber())
                            } else if (w === constants.BSON_DATA_BOOLEAN) {
                                if (0 !== t[e] && 1 !== t[e])
                                    throw new Error("illegal boolean type value");
                                m[z] = 1 === t[e++]
                            } else if (w === constants.BSON_DATA_OBJECT) {
                                var C = e
                                  , O = t[e] | t[e + 1] << 8 | t[e + 2] << 16 | t[e + 3] << 24;
                                if (O <= 0 || O > t.length - e)
                                    throw new Error("bad embedded document length in bson");
                                m[z] = o ? t.slice(e, e + O) : deserializeObject(t, C, i, !1),
                                e += O
                            } else if (w === constants.BSON_DATA_ARRAY) {
                                var E = e
                                  , D = t[e] | t[e + 1] << 8 | t[e + 2] << 16 | t[e + 3] << 24
                                  , T = i
                                  , P = e + D;
                                if (c && c[z]) {
                                    for (var B in T = {},
                                    i)
                                        T[B] = i[B];
                                    T.raw = !0
                                }
                                if (m[z] = deserializeObject(t, E, T, !0),
                                0 !== t[(e += D) - 1])
                                    throw new Error("invalid array terminator byte");
                                if (e !== P)
                                    throw new Error("corrupted array bson")
                            } else if (w === constants.BSON_DATA_UNDEFINED)
                                m[z] = void 0;
                            else if (w === constants.BSON_DATA_NULL)
                                m[z] = null;
                            else if (w === constants.BSON_DATA_LONG) {
                                var I = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24
                                  , j = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24
                                  , R = new long_1(I,j);
                                m[z] = d && !0 === l && R.lessThanOrEqual(JS_INT_MAX_LONG) && R.greaterThanOrEqual(JS_INT_MIN_LONG) ? R.toNumber() : R
                            } else if (w === constants.BSON_DATA_DECIMAL128) {
                                var L = Buffer$2.alloc(16);
                                t.copy(L, 0, e, e + 16),
                                e += 16;
                                var N = new decimal128(L);
                                m[z] = N.toObject ? N.toObject() : N
                            } else if (w === constants.BSON_DATA_BINARY) {
                                var F = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24
                                  , k = F
                                  , U = t[e++];
                                if (F < 0)
                                    throw new Error("Negative binary type element size found");
                                if (F > Buffer$2.byteLength(t))
                                    throw new Error("Binary type size larger than document size");
                                if (null != t.slice) {
                                    if (U === binary.SUBTYPE_BYTE_ARRAY) {
                                        if ((F = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24) < 0)
                                            throw new Error("Negative binary type element size found for subtype 0x02");
                                        if (F > k - 4)
                                            throw new Error("Binary type with subtype 0x02 contains to long binary size");
                                        if (F < k - 4)
                                            throw new Error("Binary type with subtype 0x02 contains to short binary size")
                                    }
                                    m[z] = f && l ? t.slice(e, e + F) : new binary(t.slice(e, e + F),U)
                                } else {
                                    var V = "undefined" != typeof Uint8Array ? new Uint8Array(new ArrayBuffer(F)) : new Array(F);
                                    if (U === binary.SUBTYPE_BYTE_ARRAY) {
                                        if ((F = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24) < 0)
                                            throw new Error("Negative binary type element size found for subtype 0x02");
                                        if (F > k - 4)
                                            throw new Error("Binary type with subtype 0x02 contains to long binary size");
                                        if (F < k - 4)
                                            throw new Error("Binary type with subtype 0x02 contains to short binary size")
                                    }
                                    for (x = 0; x < F; x++)
                                        V[x] = t[e + x];
                                    m[z] = f && l ? V : new binary(V,U)
                                }
                                e += F
                            } else if (w === constants.BSON_DATA_REGEXP && !1 === u) {
                                for (x = e; 0 !== t[x] && x < t.length; )
                                    x++;
                                if (x >= t.length)
                                    throw new Error("Bad BSON Document: illegal CString");
                                var H = t.toString("utf8", e, x);
                                for (x = e = x + 1; 0 !== t[x] && x < t.length; )
                                    x++;
                                if (x >= t.length)
                                    throw new Error("Bad BSON Document: illegal CString");
                                var G = t.toString("utf8", e, x);
                                e = x + 1;
                                var W = new Array(G.length);
                                for (x = 0; x < G.length; x++)
                                    switch (G[x]) {
                                    case "m":
                                        W[x] = "m";
                                        break;
                                    case "s":
                                        W[x] = "g";
                                        break;
                                    case "i":
                                        W[x] = "i"
                                    }
                                m[z] = new RegExp(H,W.join(""))
                            } else if (w === constants.BSON_DATA_REGEXP && !0 === u) {
                                for (x = e; 0 !== t[x] && x < t.length; )
                                    x++;
                                if (x >= t.length)
                                    throw new Error("Bad BSON Document: illegal CString");
                                var Y = t.toString("utf8", e, x);
                                for (x = e = x + 1; 0 !== t[x] && x < t.length; )
                                    x++;
                                if (x >= t.length)
                                    throw new Error("Bad BSON Document: illegal CString");
                                var X = t.toString("utf8", e, x);
                                e = x + 1,
                                m[z] = new regexp(Y,X)
                            } else if (w === constants.BSON_DATA_SYMBOL) {
                                var K = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24;
                                if (K <= 0 || K > t.length - e || 0 !== t[e + K - 1])
                                    throw new Error("bad string length in bson");
                                m[z] = t.toString("utf8", e, e + K - 1),
                                e += K
                            } else if (w === constants.BSON_DATA_TIMESTAMP) {
                                var Q = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24
                                  , J = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24;
                                m[z] = new timestamp(Q,J)
                            } else if (w === constants.BSON_DATA_MIN_KEY)
                                m[z] = new min_key;
                            else if (w === constants.BSON_DATA_MAX_KEY)
                                m[z] = new max_key;
                            else if (w === constants.BSON_DATA_CODE) {
                                var q = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24;
                                if (q <= 0 || q > t.length - e || 0 !== t[e + q - 1])
                                    throw new Error("bad string length in bson");
                                var Z = t.toString("utf8", e, e + q - 1);
                                if (n)
                                    if (r) {
                                        var $ = a ? h(Z) : Z;
                                        m[z] = isolateEvalWithHash(functionCache, $, Z, m)
                                    } else
                                        m[z] = isolateEval(Z);
                                else
                                    m[z] = new code(Z);
                                e += q
                            } else if (w === constants.BSON_DATA_CODE_W_SCOPE) {
                                var tt = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24;
                                if (tt < 13)
                                    throw new Error("code_w_scope total size shorter minimum expected length");
                                var et = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24;
                                if (et <= 0 || et > t.length - e || 0 !== t[e + et - 1])
                                    throw new Error("bad string length in bson");
                                var it = t.toString("utf8", e, e + et - 1)
                                  , st = e += et
                                  , nt = t[e] | t[e + 1] << 8 | t[e + 2] << 16 | t[e + 3] << 24
                                  , rt = deserializeObject(t, st, i, !1);
                                if (e += nt,
                                tt < 8 + nt + et)
                                    throw new Error("code_w_scope total size is to short, truncating scope");
                                if (tt > 8 + nt + et)
                                    throw new Error("code_w_scope total size is to long, clips outer document");
                                if (n) {
                                    if (r) {
                                        var at = a ? h(it) : it;
                                        m[z] = isolateEvalWithHash(functionCache, at, it, m)
                                    } else
                                        m[z] = isolateEval(it);
                                    m[z].scope = rt
                                } else
                                    m[z] = new code(it,rt)
                            } else {
                                if (w !== constants.BSON_DATA_DBPOINTER)
                                    throw new Error("Detected unknown BSON type " + w.toString(16) + ' for fieldname "' + z + '", are you using the latest BSON parser?');
                                var ht = t[e++] | t[e++] << 8 | t[e++] << 16 | t[e++] << 24;
                                if (ht <= 0 || ht > t.length - e || 0 !== t[e + ht - 1])
                                    throw new Error("bad string length in bson");
                                if (!validateUtf8$1(t, e, e + ht - 1))
                                    throw new Error("Invalid UTF-8 string in BSON document");
                                var ct = t.toString("utf8", e, e + ht - 1);
                                e += ht;
                                var ot = Buffer$2.alloc(12);
                                t.copy(ot, 0, e, e + 12);
                                var ut = new objectid(ot);
                                e += 12,
                                m[z] = new db_ref(ct,ut)
                            }
                        }
                        if (v !== e - b) {
                            if (s)
                                throw new Error("corrupt array bson");
                            throw new Error("corrupt object bson")
                        }
                        var ft = Object.keys(m).filter(function(t) {
                            return t.startsWith("$")
                        })
                          , dt = !0;
                        if (ft.forEach(function(t) {
                            -1 === ["$ref", "$id", "$db"].indexOf(t) && (dt = !1)
                        }),
                        !dt)
                            return m;
                        if (null != m.$id && null != m.$ref) {
                            var lt = Object.assign({}, m);
                            return delete lt.$ref,
                            delete lt.$id,
                            delete lt.$db,
                            new db_ref(m.$ref,m.$id,m.$db || null,lt)
                        }
                        return m
                    }
                    function isolateEvalWithHash(functionCache, hash, functionString, object) {
                        var value = null;
                        return null == functionCache[hash] && (eval("value = " + functionString),
                        functionCache[hash] = value),
                        functionCache[hash].bind(object)
                    }
                    function isolateEval(functionString) {
                        var value = null;
                        return eval("value = " + functionString),
                        value
                    }
                    var deserializer = deserialize$1;
                    function readIEEE754(t, e, i, s, n) {
                        var r, a, h = "big" === i, c = 8 * n - s - 1, o = (1 << c) - 1, u = o >> 1, f = -7, d = h ? 0 : n - 1, l = h ? 1 : -1, b = t[e + d];
                        for (d += l,
                        r = b & (1 << -f) - 1,
                        b >>= -f,
                        f += c; f > 0; r = 256 * r + t[e + d],
                        d += l,
                        f -= 8)
                            ;
                        for (a = r & (1 << -f) - 1,
                        r >>= -f,
                        f += s; f > 0; a = 256 * a + t[e + d],
                        d += l,
                        f -= 8)
                            ;
                        if (0 === r)
                            r = 1 - u;
                        else {
                            if (r === o)
                                return a ? NaN : 1 / 0 * (b ? -1 : 1);
                            a += Math.pow(2, s),
                            r -= u
                        }
                        return (b ? -1 : 1) * a * Math.pow(2, r - s)
                    }
                    function writeIEEE754(t, e, i, s, n, r) {
                        var a, h, c, o = "big" === s, u = 8 * r - n - 1, f = (1 << u) - 1, d = f >> 1, l = 23 === n ? Math.pow(2, -24) - Math.pow(2, -77) : 0, b = o ? r - 1 : 0, v = o ? -1 : 1, m = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;
                        for (e = Math.abs(e),
                        isNaN(e) || e === 1 / 0 ? (h = isNaN(e) ? 1 : 0,
                        a = f) : (a = Math.floor(Math.log(e) / Math.LN2),
                        e * (c = Math.pow(2, -a)) < 1 && (a--,
                        c *= 2),
                        (e += a + d >= 1 ? l / c : l * Math.pow(2, 1 - d)) * c >= 2 && (a++,
                        c /= 2),
                        a + d >= f ? (h = 0,
                        a = f) : a + d >= 1 ? (h = (e * c - 1) * Math.pow(2, n),
                        a += d) : (h = e * Math.pow(2, d - 1) * Math.pow(2, n),
                        a = 0)),
                        isNaN(e) && (h = 0); n >= 8; )
                            t[i + b] = 255 & h,
                            b += v,
                            h /= 256,
                            n -= 8;
                        for (a = a << n | h,
                        isNaN(e) && (a += 8),
                        u += n; u > 0; )
                            t[i + b] = 255 & a,
                            b += v,
                            a /= 256,
                            u -= 8;
                        t[i + b - v] |= 128 * m
                    }
                    var float_parser = {
                        readIEEE754: readIEEE754,
                        writeIEEE754: writeIEEE754
                    }
                      , Buffer$3 = buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer
                      , writeIEEE754$1 = float_parser.writeIEEE754
                      , normalizedFunctionString$1 = utils.normalizedFunctionString
                      , regexp$1 = /\x00/
                      , ignoreKeys = new Set(["$db", "$ref", "$id", "$clusterTime"])
                      , isDate = function t(e) {
                        return "object" === _typeof(e) && "[object Date]" === Object.prototype.toString.call(e)
                    }
                      , isRegExp = function t(e) {
                        return "[object RegExp]" === Object.prototype.toString.call(e)
                    };
                    function serializeString(t, e, i, s, n) {
                        t[s++] = constants.BSON_DATA_STRING;
                        var r = n ? t.write(e, s, "ascii") : t.write(e, s, "utf8");
                        t[(s = s + r + 1) - 1] = 0;
                        var a = t.write(i, s + 4, "utf8");
                        return t[s + 3] = a + 1 >> 24 & 255,
                        t[s + 2] = a + 1 >> 16 & 255,
                        t[s + 1] = a + 1 >> 8 & 255,
                        t[s] = a + 1 & 255,
                        s = s + 4 + a,
                        t[s++] = 0,
                        s
                    }
                    function serializeNumber(t, e, i, s, n) {
                        var r, a;
                        if (Math.floor(i) === i && i >= constants.JS_INT_MIN && i <= constants.JS_INT_MAX)
                            if (i >= constants.BSON_INT32_MIN && i <= constants.BSON_INT32_MAX)
                                t[s++] = constants.BSON_DATA_INT,
                                s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                                t[s++] = 0,
                                t[s++] = 255 & i,
                                t[s++] = i >> 8 & 255,
                                t[s++] = i >> 16 & 255,
                                t[s++] = i >> 24 & 255;
                            else if (i >= constants.JS_INT_MIN && i <= constants.JS_INT_MAX) {
                                var h;
                                t[s++] = constants.BSON_DATA_NUMBER,
                                s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                                t[s++] = 0,
                                writeIEEE754$1(t, i, s, "little", 52, 8),
                                s += 8
                            } else {
                                var c;
                                t[s++] = constants.BSON_DATA_LONG,
                                s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                                t[s++] = 0;
                                var o = long_1.fromNumber(i)
                                  , u = o.getLowBits()
                                  , f = o.getHighBits();
                                t[s++] = 255 & u,
                                t[s++] = u >> 8 & 255,
                                t[s++] = u >> 16 & 255,
                                t[s++] = u >> 24 & 255,
                                t[s++] = 255 & f,
                                t[s++] = f >> 8 & 255,
                                t[s++] = f >> 16 & 255,
                                t[s++] = f >> 24 & 255
                            }
                        else
                            t[s++] = constants.BSON_DATA_NUMBER,
                            s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                            t[s++] = 0,
                            writeIEEE754$1(t, i, s, "little", 52, 8),
                            s += 8;
                        return s
                    }
                    function serializeNull(t, e, i, s, n) {
                        var r;
                        return t[s++] = constants.BSON_DATA_NULL,
                        s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0,
                        s
                    }
                    function serializeBoolean(t, e, i, s, n) {
                        var r;
                        return t[s++] = constants.BSON_DATA_BOOLEAN,
                        s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0,
                        t[s++] = i ? 1 : 0,
                        s
                    }
                    function serializeDate(t, e, i, s, n) {
                        var r;
                        t[s++] = constants.BSON_DATA_DATE,
                        s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0;
                        var a = long_1.fromNumber(i.getTime())
                          , h = a.getLowBits()
                          , c = a.getHighBits();
                        return t[s++] = 255 & h,
                        t[s++] = h >> 8 & 255,
                        t[s++] = h >> 16 & 255,
                        t[s++] = h >> 24 & 255,
                        t[s++] = 255 & c,
                        t[s++] = c >> 8 & 255,
                        t[s++] = c >> 16 & 255,
                        t[s++] = c >> 24 & 255,
                        s
                    }
                    function serializeRegExp(t, e, i, s, n) {
                        var r;
                        if (t[s++] = constants.BSON_DATA_REGEXP,
                        s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0,
                        i.source && null != i.source.match(regexp$1))
                            throw Error("value " + i.source + " must not contain null bytes");
                        return s += t.write(i.source, s, "utf8"),
                        t[s++] = 0,
                        i.ignoreCase && (t[s++] = 105),
                        i.global && (t[s++] = 115),
                        i.multiline && (t[s++] = 109),
                        t[s++] = 0,
                        s
                    }
                    function serializeBSONRegExp(t, e, i, s, n) {
                        var r;
                        if (t[s++] = constants.BSON_DATA_REGEXP,
                        s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0,
                        null != i.pattern.match(regexp$1))
                            throw Error("pattern " + i.pattern + " must not contain null bytes");
                        return s += t.write(i.pattern, s, "utf8"),
                        t[s++] = 0,
                        s += t.write(i.options.split("").sort().join(""), s, "utf8"),
                        t[s++] = 0,
                        s
                    }
                    function serializeMinMax(t, e, i, s, n) {
                        var r;
                        return t[s++] = null === i ? constants.BSON_DATA_NULL : i instanceof min_key ? constants.BSON_DATA_MIN_KEY : constants.BSON_DATA_MAX_KEY,
                        s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0,
                        s
                    }
                    function serializeObjectId(t, e, i, s, n) {
                        var r;
                        if (t[s++] = constants.BSON_DATA_OID,
                        s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0,
                        "string" == typeof i.id)
                            t.write(i.id, s, "binary");
                        else {
                            if (!i.id || !i.id.copy)
                                throw new TypeError("object [" + JSON.stringify(i) + "] is not a valid ObjectId");
                            i.id.copy(t, s, 0, 12)
                        }
                        return s + 12
                    }
                    function serializeBuffer(t, e, i, s, n) {
                        var r;
                        t[s++] = constants.BSON_DATA_BINARY,
                        s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0;
                        var a = i.length;
                        return t[s++] = 255 & a,
                        t[s++] = a >> 8 & 255,
                        t[s++] = a >> 16 & 255,
                        t[s++] = a >> 24 & 255,
                        t[s++] = constants.BSON_BINARY_SUBTYPE_DEFAULT,
                        i.copy(t, s, 0, a),
                        s += a
                    }
                    function serializeObject(t, e, i, s, n, r, a, h, c, o) {
                        for (var u = 0; u < o.length; u++)
                            if (o[u] === i)
                                throw new Error("cyclic dependency detected");
                        var f;
                        o.push(i),
                        t[s++] = Array.isArray(i) ? constants.BSON_DATA_ARRAY : constants.BSON_DATA_OBJECT,
                        s += c ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0;
                        var d = serializeInto(t, i, n, s, r + 1, a, h, o);
                        return o.pop(),
                        d
                    }
                    function serializeDecimal128(t, e, i, s, n) {
                        var r;
                        return t[s++] = constants.BSON_DATA_DECIMAL128,
                        s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0,
                        i.bytes.copy(t, s, 0, 16),
                        s + 16
                    }
                    function serializeLong(t, e, i, s, n) {
                        var r;
                        t[s++] = "Long" === i._bsontype ? constants.BSON_DATA_LONG : constants.BSON_DATA_TIMESTAMP,
                        s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0;
                        var a = i.getLowBits()
                          , h = i.getHighBits();
                        return t[s++] = 255 & a,
                        t[s++] = a >> 8 & 255,
                        t[s++] = a >> 16 & 255,
                        t[s++] = a >> 24 & 255,
                        t[s++] = 255 & h,
                        t[s++] = h >> 8 & 255,
                        t[s++] = h >> 16 & 255,
                        t[s++] = h >> 24 & 255,
                        s
                    }
                    function serializeInt32(t, e, i, s, n) {
                        var r;
                        return t[s++] = constants.BSON_DATA_INT,
                        s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0,
                        t[s++] = 255 & i,
                        t[s++] = i >> 8 & 255,
                        t[s++] = i >> 16 & 255,
                        t[s++] = i >> 24 & 255,
                        s
                    }
                    function serializeDouble(t, e, i, s, n) {
                        var r;
                        return t[s++] = constants.BSON_DATA_NUMBER,
                        s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0,
                        writeIEEE754$1(t, i.value, s, "little", 52, 8),
                        s += 8
                    }
                    function serializeFunction(t, e, i, s, n, r, a) {
                        var h;
                        t[s++] = constants.BSON_DATA_CODE,
                        s += a ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0;
                        var c = normalizedFunctionString$1(i)
                          , o = t.write(c, s + 4, "utf8") + 1;
                        return t[s] = 255 & o,
                        t[s + 1] = o >> 8 & 255,
                        t[s + 2] = o >> 16 & 255,
                        t[s + 3] = o >> 24 & 255,
                        s = s + 4 + o - 1,
                        t[s++] = 0,
                        s
                    }
                    function serializeCode(t, e, i, s, n, r, a, h, c) {
                        if (i.scope && "object" === _typeof(i.scope)) {
                            var o;
                            t[s++] = constants.BSON_DATA_CODE_W_SCOPE,
                            s += c ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                            t[s++] = 0;
                            var u = s
                              , f = "string" == typeof i.code ? i.code : i.code.toString();
                            s += 4;
                            var d = t.write(f, s + 4, "utf8") + 1;
                            t[s] = 255 & d,
                            t[s + 1] = d >> 8 & 255,
                            t[s + 2] = d >> 16 & 255,
                            t[s + 3] = d >> 24 & 255,
                            t[s + 4 + d - 1] = 0,
                            s = s + d + 4;
                            var l = serializeInto(t, i.scope, n, s, r + 1, a, h);
                            s = l - 1;
                            var b = l - u;
                            t[u++] = 255 & b,
                            t[u++] = b >> 8 & 255,
                            t[u++] = b >> 16 & 255,
                            t[u++] = b >> 24 & 255,
                            t[s++] = 0
                        } else {
                            var v;
                            t[s++] = constants.BSON_DATA_CODE,
                            s += c ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                            t[s++] = 0;
                            var m = i.code.toString()
                              , g = t.write(m, s + 4, "utf8") + 1;
                            t[s] = 255 & g,
                            t[s + 1] = g >> 8 & 255,
                            t[s + 2] = g >> 16 & 255,
                            t[s + 3] = g >> 24 & 255,
                            s = s + 4 + g - 1,
                            t[s++] = 0
                        }
                        return s
                    }
                    function serializeBinary(t, e, i, s, n) {
                        var r;
                        t[s++] = constants.BSON_DATA_BINARY,
                        s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0;
                        var a = i.value(!0)
                          , h = i.position;
                        return i.sub_type === binary.SUBTYPE_BYTE_ARRAY && (h += 4),
                        t[s++] = 255 & h,
                        t[s++] = h >> 8 & 255,
                        t[s++] = h >> 16 & 255,
                        t[s++] = h >> 24 & 255,
                        t[s++] = i.sub_type,
                        i.sub_type === binary.SUBTYPE_BYTE_ARRAY && (h -= 4,
                        t[s++] = 255 & h,
                        t[s++] = h >> 8 & 255,
                        t[s++] = h >> 16 & 255,
                        t[s++] = h >> 24 & 255),
                        a.copy(t, s, 0, i.position),
                        s += i.position
                    }
                    function serializeSymbol(t, e, i, s, n) {
                        var r;
                        t[s++] = constants.BSON_DATA_SYMBOL,
                        s += n ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0;
                        var a = t.write(i.value, s + 4, "utf8") + 1;
                        return t[s] = 255 & a,
                        t[s + 1] = a >> 8 & 255,
                        t[s + 2] = a >> 16 & 255,
                        t[s + 3] = a >> 24 & 255,
                        s = s + 4 + a - 1,
                        t[s++] = 0,
                        s
                    }
                    function serializeDBRef(t, e, i, s, n, r, a) {
                        var h;
                        t[s++] = constants.BSON_DATA_OBJECT,
                        s += a ? t.write(e, s, "ascii") : t.write(e, s, "utf8"),
                        t[s++] = 0;
                        var c = s, o, u = {
                            $ref: i.collection,
                            $id: i.oid
                        };
                        null != i.db && (u.$db = i.db);
                        var f = (o = serializeInto(t, u = Object.assign(u, i.fields), !1, s, n + 1, r)) - c;
                        return t[c++] = 255 & f,
                        t[c++] = f >> 8 & 255,
                        t[c++] = f >> 16 & 255,
                        t[c++] = f >> 24 & 255,
                        o
                    }
                    function serializeInto(t, e, i, s, n, r, a, h) {
                        s = s || 0,
                        (h = h || []).push(e);
                        var c = s + 4;
                        if (Array.isArray(e))
                            for (var o = 0; o < e.length; o++) {
                                var u = "" + o
                                  , f = e[o];
                                if (f && f.toBSON) {
                                    if ("function" != typeof f.toBSON)
                                        throw new TypeError("toBSON is not a function");
                                    f = f.toBSON()
                                }
                                var d = _typeof(f);
                                "string" === d ? c = serializeString(t, u, f, c, !0) : "number" === d ? c = serializeNumber(t, u, f, c, !0) : "boolean" === d ? c = serializeBoolean(t, u, f, c, !0) : f instanceof Date || isDate(f) ? c = serializeDate(t, u, f, c, !0) : void 0 === f ? c = serializeNull(t, u, f, c, !0) : null === f ? c = serializeNull(t, u, f, c, !0) : "ObjectId" === f._bsontype ? c = serializeObjectId(t, u, f, c, !0) : Buffer$3.isBuffer(f) ? c = serializeBuffer(t, u, f, c, !0) : f instanceof RegExp || isRegExp(f) ? c = serializeRegExp(t, u, f, c, !0) : "object" === d && null == f._bsontype ? c = serializeObject(t, u, f, c, i, n, r, a, !0, h) : "object" === d && "Decimal128" === f._bsontype ? c = serializeDecimal128(t, u, f, c, !0) : "Long" === f._bsontype || "Timestamp" === f._bsontype ? c = serializeLong(t, u, f, c, !0) : "Double" === f._bsontype ? c = serializeDouble(t, u, f, c, !0) : "function" == typeof f && r ? c = serializeFunction(t, u, f, c, i, n, r, !0) : "Code" === f._bsontype ? c = serializeCode(t, u, f, c, i, n, r, a, !0) : "Binary" === f._bsontype ? c = serializeBinary(t, u, f, c, !0) : "Symbol" === f._bsontype ? c = serializeSymbol(t, u, f, c, !0) : "DBRef" === f._bsontype ? c = serializeDBRef(t, u, f, c, n, r, !0) : "BSONRegExp" === f._bsontype ? c = serializeBSONRegExp(t, u, f, c, !0) : "Int32" === f._bsontype ? c = serializeInt32(t, u, f, c, !0) : "MinKey" !== f._bsontype && "MaxKey" !== f._bsontype || (c = serializeMinMax(t, u, f, c, !0))
                            }
                        else if (e instanceof map)
                            for (var l = e.entries(), b = !1; !b; ) {
                                var v = l.next();
                                if (!(b = v.done)) {
                                    var m = v.value[0]
                                      , g = v.value[1]
                                      , p = _typeof(g);
                                    if ("string" == typeof m && !ignoreKeys.has(m)) {
                                        if (null != m.match(regexp$1))
                                            throw Error("key " + m + " must not contain null bytes");
                                        if (i) {
                                            if ("$" === m[0])
                                                throw Error("key " + m + " must not start with '$'");
                                            if (~m.indexOf("."))
                                                throw Error("key " + m + " must not contain '.'")
                                        }
                                    }
                                    "string" === p ? c = serializeString(t, m, g, c) : "number" === p ? c = serializeNumber(t, m, g, c) : "boolean" === p ? c = serializeBoolean(t, m, g, c) : g instanceof Date || isDate(g) ? c = serializeDate(t, m, g, c) : null === g || void 0 === g && !1 === a ? c = serializeNull(t, m, g, c) : "ObjectId" === g._bsontype ? c = serializeObjectId(t, m, g, c) : Buffer$3.isBuffer(g) ? c = serializeBuffer(t, m, g, c) : g instanceof RegExp || isRegExp(g) ? c = serializeRegExp(t, m, g, c) : "object" === p && null == g._bsontype ? c = serializeObject(t, m, g, c, i, n, r, a, !1, h) : "object" === p && "Decimal128" === g._bsontype ? c = serializeDecimal128(t, m, g, c) : "Long" === g._bsontype || "Timestamp" === g._bsontype ? c = serializeLong(t, m, g, c) : "Double" === g._bsontype ? c = serializeDouble(t, m, g, c) : "Code" === g._bsontype ? c = serializeCode(t, m, g, c, i, n, r, a) : "function" == typeof g && r ? c = serializeFunction(t, m, g, c, i, n, r) : "Binary" === g._bsontype ? c = serializeBinary(t, m, g, c) : "Symbol" === g._bsontype ? c = serializeSymbol(t, m, g, c) : "DBRef" === g._bsontype ? c = serializeDBRef(t, m, g, c, n, r) : "BSONRegExp" === g._bsontype ? c = serializeBSONRegExp(t, m, g, c) : "Int32" === g._bsontype ? c = serializeInt32(t, m, g, c) : "MinKey" !== g._bsontype && "MaxKey" !== g._bsontype || (c = serializeMinMax(t, m, g, c))
                                }
                            }
                        else {
                            if (e.toBSON) {
                                if ("function" != typeof e.toBSON)
                                    throw new TypeError("toBSON is not a function");
                                if (null != (e = e.toBSON()) && "object" !== _typeof(e))
                                    throw new TypeError("toBSON function did not return an object")
                            }
                            for (var w in e) {
                                var x = e[w];
                                if (x && x.toBSON) {
                                    if ("function" != typeof x.toBSON)
                                        throw new TypeError("toBSON is not a function");
                                    x = x.toBSON()
                                }
                                var z = _typeof(x);
                                if ("string" == typeof w && !ignoreKeys.has(w)) {
                                    if (null != w.match(regexp$1))
                                        throw Error("key " + w + " must not contain null bytes");
                                    if (i) {
                                        if ("$" === w[0])
                                            throw Error("key " + w + " must not start with '$'");
                                        if (~w.indexOf("."))
                                            throw Error("key " + w + " must not contain '.'")
                                    }
                                }
                                "string" === z ? c = serializeString(t, w, x, c) : "number" === z ? c = serializeNumber(t, w, x, c) : "boolean" === z ? c = serializeBoolean(t, w, x, c) : x instanceof Date || isDate(x) ? c = serializeDate(t, w, x, c) : void 0 === x ? !1 === a && (c = serializeNull(t, w, x, c)) : null === x ? c = serializeNull(t, w, x, c) : "ObjectId" === x._bsontype ? c = serializeObjectId(t, w, x, c) : Buffer$3.isBuffer(x) ? c = serializeBuffer(t, w, x, c) : x instanceof RegExp || isRegExp(x) ? c = serializeRegExp(t, w, x, c) : "object" === z && null == x._bsontype ? c = serializeObject(t, w, x, c, i, n, r, a, !1, h) : "object" === z && "Decimal128" === x._bsontype ? c = serializeDecimal128(t, w, x, c) : "Long" === x._bsontype || "Timestamp" === x._bsontype ? c = serializeLong(t, w, x, c) : "Double" === x._bsontype ? c = serializeDouble(t, w, x, c) : "Code" === x._bsontype ? c = serializeCode(t, w, x, c, i, n, r, a) : "function" == typeof x && r ? c = serializeFunction(t, w, x, c, i, n, r) : "Binary" === x._bsontype ? c = serializeBinary(t, w, x, c) : "Symbol" === x._bsontype ? c = serializeSymbol(t, w, x, c) : "DBRef" === x._bsontype ? c = serializeDBRef(t, w, x, c, n, r) : "BSONRegExp" === x._bsontype ? c = serializeBSONRegExp(t, w, x, c) : "Int32" === x._bsontype ? c = serializeInt32(t, w, x, c) : "MinKey" !== x._bsontype && "MaxKey" !== x._bsontype || (c = serializeMinMax(t, w, x, c))
                            }
                        }
                        h.pop(),
                        t[c++] = 0;
                        var _ = c - s;
                        return t[s++] = 255 & _,
                        t[s++] = _ >> 8 & 255,
                        t[s++] = _ >> 16 & 255,
                        t[s++] = _ >> 24 & 255,
                        c
                    }
                    var serializer = serializeInto
                      , Buffer$4 = buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer
                      , normalizedFunctionString$2 = utils.normalizedFunctionString;
                    function isDate$1(t) {
                        return "object" === _typeof(t) && "[object Date]" === Object.prototype.toString.call(t)
                    }
                    function calculateObjectSize(t, e, i) {
                        var s = 5;
                        if (Array.isArray(t))
                            for (var n = 0; n < t.length; n++)
                                s += calculateElement(n.toString(), t[n], e, !0, i);
                        else
                            for (var r in t.toBSON && (t = t.toBSON()),
                            t)
                                s += calculateElement(r, t[r], e, !1, i);
                        return s
                    }
                    function calculateElement(t, e, i, s, n) {
                        switch (e && e.toBSON && (e = e.toBSON()),
                        _typeof(e)) {
                        case "string":
                            return 1 + Buffer$4.byteLength(t, "utf8") + 1 + 4 + Buffer$4.byteLength(e, "utf8") + 1;
                        case "number":
                            return Math.floor(e) === e && e >= constants.JS_INT_MIN && e <= constants.JS_INT_MAX && e >= constants.BSON_INT32_MIN && e <= constants.BSON_INT32_MAX ? (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 5 : (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 9;
                        case "undefined":
                            return s || !n ? (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 1 : 0;
                        case "boolean":
                            return (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 2;
                        case "object":
                            if (null == e || e instanceof min_key || e instanceof max_key || "MinKey" === e._bsontype || "MaxKey" === e._bsontype)
                                return (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 1;
                            if (e instanceof objectid || "ObjectId" === e._bsontype)
                                return (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 13;
                            if (e instanceof Date || isDate$1(e))
                                return (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 9;
                            if (void 0 !== Buffer$4 && Buffer$4.isBuffer(e))
                                return (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 6 + e.length;
                            if (e instanceof long_1 || e instanceof double_1 || e instanceof timestamp || "Long" === e._bsontype || "Double" === e._bsontype || "Timestamp" === e._bsontype)
                                return (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 9;
                            if (e instanceof decimal128 || "Decimal128" === e._bsontype)
                                return (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 17;
                            if (e instanceof code || "Code" === e._bsontype)
                                return null != e.scope && Object.keys(e.scope).length > 0 ? (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 1 + 4 + 4 + Buffer$4.byteLength(e.code.toString(), "utf8") + 1 + calculateObjectSize(e.scope, i, n) : (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 1 + 4 + Buffer$4.byteLength(e.code.toString(), "utf8") + 1;
                            if (e instanceof binary || "Binary" === e._bsontype)
                                return e.sub_type === binary.SUBTYPE_BYTE_ARRAY ? (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + (e.position + 1 + 4 + 1 + 4) : (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + (e.position + 1 + 4 + 1);
                            if (e instanceof symbol || "Symbol" === e._bsontype)
                                return (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + Buffer$4.byteLength(e.value, "utf8") + 4 + 1 + 1;
                            if (e instanceof db_ref || "DBRef" === e._bsontype) {
                                var r = Object.assign({
                                    $ref: e.collection,
                                    $id: e.oid
                                }, e.fields);
                                return null != e.db && (r.$db = e.db),
                                (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 1 + calculateObjectSize(r, i, n)
                            }
                            return e instanceof RegExp || "[object RegExp]" === Object.prototype.toString.call(e) ? (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 1 + Buffer$4.byteLength(e.source, "utf8") + 1 + (e.global ? 1 : 0) + (e.ignoreCase ? 1 : 0) + (e.multiline ? 1 : 0) + 1 : e instanceof regexp || "BSONRegExp" === e._bsontype ? (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 1 + Buffer$4.byteLength(e.pattern, "utf8") + 1 + Buffer$4.byteLength(e.options, "utf8") + 1 : (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + calculateObjectSize(e, i, n) + 1;
                        case "function":
                            if (e instanceof RegExp || "[object RegExp]" === Object.prototype.toString.call(e) || "[object RegExp]" === String.call(e))
                                return (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 1 + Buffer$4.byteLength(e.source, "utf8") + 1 + (e.global ? 1 : 0) + (e.ignoreCase ? 1 : 0) + (e.multiline ? 1 : 0) + 1;
                            if (i && null != e.scope && Object.keys(e.scope).length > 0)
                                return (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 1 + 4 + 4 + Buffer$4.byteLength(normalizedFunctionString$2(e), "utf8") + 1 + calculateObjectSize(e.scope, i, n);
                            if (i)
                                return (null != t ? Buffer$4.byteLength(t, "utf8") + 1 : 0) + 1 + 4 + Buffer$4.byteLength(normalizedFunctionString$2(e), "utf8") + 1
                        }
                        return 0
                    }
                    var calculate_size = calculateObjectSize
                      , Buffer$5 = buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer
                      , ensure_buffer = function t(e) {
                        if (e instanceof Buffer$5)
                            return e;
                        if (e instanceof Uint8Array)
                            return Buffer$5.from(e.buffer);
                        throw new TypeError("Must use either Buffer or Uint8Array")
                    }
                      , Buffer$6 = buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer
                      , MAXSIZE = 17825792
                      , buffer$1 = Buffer$6.alloc(MAXSIZE);
                    function setInternalBufferSize(t) {
                        buffer$1.length < t && (buffer$1 = Buffer$6.alloc(t))
                    }
                    function serialize$1(t, e) {
                        var i = "boolean" == typeof (e = e || {}).checkKeys && e.checkKeys
                          , s = "boolean" == typeof e.serializeFunctions && e.serializeFunctions
                          , n = "boolean" != typeof e.ignoreUndefined || e.ignoreUndefined
                          , r = "number" == typeof e.minInternalBufferSize ? e.minInternalBufferSize : MAXSIZE;
                        buffer$1.length < r && (buffer$1 = Buffer$6.alloc(r));
                        var a = serializer(buffer$1, t, i, 0, 0, s, n, [])
                          , h = Buffer$6.alloc(a);
                        return buffer$1.copy(h, 0, 0, h.length),
                        h
                    }
                    function serializeWithBufferAndIndex(t, e, i) {
                        var s = "boolean" == typeof (i = i || {}).checkKeys && i.checkKeys
                          , n = "boolean" == typeof i.serializeFunctions && i.serializeFunctions
                          , r = "boolean" != typeof i.ignoreUndefined || i.ignoreUndefined
                          , a = "number" == typeof i.index ? i.index : 0
                          , h = serializer(buffer$1, t, s, 0, 0, n, r);
                        return buffer$1.copy(e, a, 0, h),
                        a + h - 1
                    }
                    function deserialize$2(t, e) {
                        return t = ensure_buffer(t),
                        deserializer(t, e)
                    }
                    function calculateObjectSize$1(t, e) {
                        var i = "boolean" == typeof (e = e || {}).serializeFunctions && e.serializeFunctions
                          , s = "boolean" != typeof e.ignoreUndefined || e.ignoreUndefined;
                        return calculate_size(t, i, s)
                    }
                    function deserializeStream(t, e, i, s, n, r) {
                        r = Object.assign({
                            allowObjectSmallerThanBufferSize: !0
                        }, r),
                        t = ensure_buffer(t);
                        for (var a = e, h = 0; h < i; h++) {
                            var c = t[a] | t[a + 1] << 8 | t[a + 2] << 16 | t[a + 3] << 24;
                            r.index = a,
                            s[n + h] = deserializer(t, r),
                            a += c
                        }
                        return a
                    }
                    var bson = {
                        BSON_INT32_MAX: constants.BSON_INT32_MAX,
                        BSON_INT32_MIN: constants.BSON_INT32_MIN,
                        BSON_INT64_MAX: constants.BSON_INT64_MAX,
                        BSON_INT64_MIN: constants.BSON_INT64_MIN,
                        JS_INT_MAX: constants.JS_INT_MAX,
                        JS_INT_MIN: constants.JS_INT_MIN,
                        BSON_DATA_NUMBER: constants.BSON_DATA_NUMBER,
                        BSON_DATA_STRING: constants.BSON_DATA_STRING,
                        BSON_DATA_OBJECT: constants.BSON_DATA_OBJECT,
                        BSON_DATA_ARRAY: constants.BSON_DATA_ARRAY,
                        BSON_DATA_BINARY: constants.BSON_DATA_BINARY,
                        BSON_DATA_UNDEFINED: constants.BSON_DATA_UNDEFINED,
                        BSON_DATA_OID: constants.BSON_DATA_OID,
                        BSON_DATA_BOOLEAN: constants.BSON_DATA_BOOLEAN,
                        BSON_DATA_DATE: constants.BSON_DATA_DATE,
                        BSON_DATA_NULL: constants.BSON_DATA_NULL,
                        BSON_DATA_REGEXP: constants.BSON_DATA_REGEXP,
                        BSON_DATA_DBPOINTER: constants.BSON_DATA_DBPOINTER,
                        BSON_DATA_CODE: constants.BSON_DATA_CODE,
                        BSON_DATA_SYMBOL: constants.BSON_DATA_SYMBOL,
                        BSON_DATA_CODE_W_SCOPE: constants.BSON_DATA_CODE_W_SCOPE,
                        BSON_DATA_INT: constants.BSON_DATA_INT,
                        BSON_DATA_TIMESTAMP: constants.BSON_DATA_TIMESTAMP,
                        BSON_DATA_LONG: constants.BSON_DATA_LONG,
                        BSON_DATA_DECIMAL128: constants.BSON_DATA_DECIMAL128,
                        BSON_DATA_MIN_KEY: constants.BSON_DATA_MIN_KEY,
                        BSON_DATA_MAX_KEY: constants.BSON_DATA_MAX_KEY,
                        BSON_BINARY_SUBTYPE_DEFAULT: constants.BSON_BINARY_SUBTYPE_DEFAULT,
                        BSON_BINARY_SUBTYPE_FUNCTION: constants.BSON_BINARY_SUBTYPE_FUNCTION,
                        BSON_BINARY_SUBTYPE_BYTE_ARRAY: constants.BSON_BINARY_SUBTYPE_BYTE_ARRAY,
                        BSON_BINARY_SUBTYPE_UUID: constants.BSON_BINARY_SUBTYPE_UUID,
                        BSON_BINARY_SUBTYPE_MD5: constants.BSON_BINARY_SUBTYPE_MD5,
                        BSON_BINARY_SUBTYPE_USER_DEFINED: constants.BSON_BINARY_SUBTYPE_USER_DEFINED,
                        Code: code,
                        Map: map,
                        BSONSymbol: symbol,
                        DBRef: db_ref,
                        Binary: binary,
                        ObjectId: objectid,
                        Long: long_1,
                        Timestamp: timestamp,
                        Double: double_1,
                        Int32: int_32,
                        MinKey: min_key,
                        MaxKey: max_key,
                        BSONRegExp: regexp,
                        Decimal128: decimal128,
                        serialize: serialize$1,
                        serializeWithBufferAndIndex: serializeWithBufferAndIndex,
                        deserialize: deserialize$2,
                        calculateObjectSize: calculateObjectSize$1,
                        deserializeStream: deserializeStream,
                        setInternalBufferSize: setInternalBufferSize,
                        ObjectID: objectid,
                        EJSON: extended_json
                    }
                      , bson_1 = bson.BSON_INT32_MAX
                      , bson_2 = bson.BSON_INT32_MIN
                      , bson_3 = bson.BSON_INT64_MAX
                      , bson_4 = bson.BSON_INT64_MIN
                      , bson_5 = bson.JS_INT_MAX
                      , bson_6 = bson.JS_INT_MIN
                      , bson_7 = bson.BSON_DATA_NUMBER
                      , bson_8 = bson.BSON_DATA_STRING
                      , bson_9 = bson.BSON_DATA_OBJECT
                      , bson_10 = bson.BSON_DATA_ARRAY
                      , bson_11 = bson.BSON_DATA_BINARY
                      , bson_12 = bson.BSON_DATA_UNDEFINED
                      , bson_13 = bson.BSON_DATA_OID
                      , bson_14 = bson.BSON_DATA_BOOLEAN
                      , bson_15 = bson.BSON_DATA_DATE
                      , bson_16 = bson.BSON_DATA_NULL
                      , bson_17 = bson.BSON_DATA_REGEXP
                      , bson_18 = bson.BSON_DATA_DBPOINTER
                      , bson_19 = bson.BSON_DATA_CODE
                      , bson_20 = bson.BSON_DATA_SYMBOL
                      , bson_21 = bson.BSON_DATA_CODE_W_SCOPE
                      , bson_22 = bson.BSON_DATA_INT
                      , bson_23 = bson.BSON_DATA_TIMESTAMP
                      , bson_24 = bson.BSON_DATA_LONG
                      , bson_25 = bson.BSON_DATA_DECIMAL128
                      , bson_26 = bson.BSON_DATA_MIN_KEY
                      , bson_27 = bson.BSON_DATA_MAX_KEY
                      , bson_28 = bson.BSON_BINARY_SUBTYPE_DEFAULT
                      , bson_29 = bson.BSON_BINARY_SUBTYPE_FUNCTION
                      , bson_30 = bson.BSON_BINARY_SUBTYPE_BYTE_ARRAY
                      , bson_31 = bson.BSON_BINARY_SUBTYPE_UUID
                      , bson_32 = bson.BSON_BINARY_SUBTYPE_MD5
                      , bson_33 = bson.BSON_BINARY_SUBTYPE_USER_DEFINED
                      , bson_34 = bson.Code
                      , bson_35 = bson.BSONSymbol
                      , bson_36 = bson.DBRef
                      , bson_37 = bson.Binary
                      , bson_38 = bson.ObjectId
                      , bson_39 = bson.Long
                      , bson_40 = bson.Timestamp
                      , bson_41 = bson.Double
                      , bson_42 = bson.Int32
                      , bson_43 = bson.MinKey
                      , bson_44 = bson.MaxKey
                      , bson_45 = bson.BSONRegExp
                      , bson_46 = bson.Decimal128
                      , bson_47 = bson.serialize
                      , bson_48 = bson.serializeWithBufferAndIndex
                      , bson_49 = bson.deserialize
                      , bson_50 = bson.calculateObjectSize
                      , bson_51 = bson.deserializeStream
                      , bson_52 = bson.setInternalBufferSize
                      , bson_53 = bson.ObjectID
                      , bson_54 = bson.EJSON;
                    __webpack_exports__.a = bson
                }
                ).call(this, __webpack_require__(4), __webpack_require__(1).Buffer)
            }
            , function(t, e, i) {
                "use strict";
                i.r(e),
                function(t) {
                    var s = i(5)
                      , n = i(0)
                      , r = i(2)
                      , a = i.n(r)
                      , h = 0
                      , c = 32
                      , o = 0
                      , u = 9
                      , f = 9
                      , d = 4
                      , l = 13
                      , b = 4
                      , v = 32
                      , m = 2
                      , g = 10
                      , p = "utf-8"
                      , w = function t() {}
                      , x = function() {
                        function e(i) {
                            void 0 === i && (i = {});
                            var s = this;
                            this.useMg = void 0 !== i.useMg && i.useMg,
                            this.useWasm = void 0 === i.useWasm || i.useWasm,
                            this.useNostack = void 0 === i.useNostack || i.useNostack,
                            this.onLoadJsDecoder = i.onLoadJsDecoder || null,
                            this.onLoadWasmDecoder = i.onLoadWasmDecoder || null,
                            this.onLoadTextDecoder = i.onLoadTextDecoder || null,
                            this.onParsedJson = i.onParsedJson || w,
                            this.onParsedModel = i.onParsedModel || w,
                            this.textDecoder = t.TextDecoder ? new TextDecoder(p) : null,
                            this.gizmoDecoderType = {},
                            this.gizmoModule = null,
                            pc.pd.prototype.load = function(t, e) {
                                var i = {}
                                  , s = pc.path.getExtension(t).toLowerCase();
                                return ".gc" !== s && ".gmc" !== s && ".gdc" !== s || (i.cache = !0,
                                i.responseType = "arraybuffer"),
                                pc.http.get(t, i, function(i, s) {
                                    e && (i ? e(pc.string.format("Error loading model: {0} [{1}]", t, i)) : e(null, s))
                                })
                            }
                            ,
                            pc.pd.prototype.open = function(t, i) {
                                for (var n = pc.path.getExtension(t), r, a, h, c, o, u, f = 0; f < this._parsers.length; f++) {
                                    var d = this._parsers[f].parser;
                                    d instanceof pc.Pv ? a = d : d instanceof pc.Tv ? h = d : d instanceof e && (c = d)
                                }
                                switch (n) {
                                case ".gmc":
                                case ".gdc":
                                    o = performance.now(),
                                    r = c.parse(i),
                                    u = performance.now(),
                                    s.onParsedJson(r, u - o);
                                    break;
                                case ".gc":
                                    o = performance.now(),
                                    r = h.parse(i),
                                    u = performance.now(),
                                    s.onParsedJson(r, u - o);
                                    break;
                                case ".json":
                                    r = i
                                }
                                o = performance.now();
                                var l = a.parse(r);
                                return u = performance.now(),
                                s.onParsedModel(l, u - o),
                                l
                            }
                        }
                        var i = e.prototype;
                        return i.loadDeps = function t() {
                            var e = this;
                            return new Promise(function(t, i) {
                                var s = 0
                                  , n = 1
                                  , r = function e() {
                                    ++s === n && t()
                                };
                                e.gizmoDecoderType.onModuleLoaded = function(t) {
                                    e.gizmoModule = t,
                                    r()
                                }
                                ,
                                e.textDecoder || (n++,
                                e.np().then(r).catch(i)),
                                e.useWasm && "object" == typeof WebAssembly ? e.rp().catch(i) : e.ap().catch(i)
                            }
                            )
                        }
                        ,
                        i.np = function t() {
                            var e = this
                              , i = this.onLoadTextDecoder;
                            return i || (i = a.a.onLoadTextDecoder),
                            i().then(function(t) {
                                e.textDecoder = new t[0].default.TextDecoder(p)
                            })
                        }
                        ,
                        i.ap = function t(e) {
                            var i = this
                              , s = this.onLoadJsDecoder;
                            return s || (s = this.useMg ? this.useNostack ? a.a.onLoadJsDecoderMgNostack : a.a.onLoadJsDecoderMg : a.a.onLoadJsDecoder),
                            s().then(function(t) {
                                var e;
                                (0,
                                t.default)(i.gizmoDecoderType)
                            })
                        }
                        ,
                        i.rp = function t(e) {
                            var i = this
                              , s = this.onLoadWasmDecoder;
                            return s || (s = this.useMg ? this.useNostack ? a.a.onLoadWasmDecoderMgNostack : a.a.onLoadWasmDecoderMg : a.a.onLoadWasmDecoder),
                            s().then(function(t) {
                                var e = t[0].default
                                  , s = t[1].default;
                                i.gizmoDecoderType.wasmBinary = e,
                                s(i.gizmoDecoderType)
                            })
                        }
                        ,
                        i.parse = function t(e) {
                            var i = {}
                              , s = this.gizmoModule
                              , n = new Int8Array(e)
                              , r = (n.length / 1024 / 1024).toFixed(2)
                              , a = 0
                              , h = new s.Decrypter;
                            this.hp(n, i),
                            h.Init(n);
                            for (var c = 32; c < n.length; c++)
                                n[c] = h.GetAt(c);
                            return s.destroy(h),
                            this.op(n, i),
                            this.fp(n, i),
                            {
                                model: i.jsonModel
                            }
                        }
                        ,
                        i.hp = function t(e, i) {
                            var s = 0
                              , r = 32
                              , a = e.subarray(0, 32)
                              , h = 0
                              , c = 9
                              , o = a.subarray(0, 9)
                              , u = 9
                              , f = 13
                              , d = a.subarray(9, 13)
                              , l = 13
                              , b = 17
                              , v = a.subarray(13, 17)
                              , m = Object(n.a)(v, 1)[0]
                              , g = Array(m).fill(0);
                            i.fileFlag = this.textDecoder.decode(o),
                            i.fileVersion = Object(n.a)(d, 1)[0],
                            i.verticesIndicesOffsets = g,
                            i.pointer = 32
                        }
                        ,
                        i.op = function t(e, i) {
                            var r = i.pointer
                              , a = e.subarray(r, r + 4)
                              , h = Object(n.a)(a, 1)[0]
                              , c = new Uint8Array(e.subarray(r + 4, r + 4 + h))
                              , o = s.a.deserialize(c)
                              , u = 10 === o.version;
                            i.jsonModel = o,
                            i.isWireframe = u,
                            i.pointer = r + 4 + h
                        }
                        ,
                        i.fp = function t(e, i) {
                            for (var s = i.pointer, r = e.length, a = r - s, h, c; a > 0; ) {
                                var o = e.subarray(s, s + 4)
                                  , u = Object(n.a)(o, 1)[0]
                                  , f = e.subarray(s + 4, s + 4 + u);
                                this.dp(f, u, i),
                                a = r - (s += 4 + u)
                            }
                        }
                        ,
                        i.dp = function t(e, i, s) {
                            s.gizmoObjects = [];
                            var n = this.gizmoModule
                              , r = new n.DecoderBuffer;
                            s.gizmoObjects.push(r),
                            r.Init(e, i);
                            var a = new n.Decoder
                              , h = new n.Mesh;
                            s.gizmoObjects.push(a),
                            s.gizmoObjects.push(h);
                            var c = a.DecodeBufferToMesh(r, h);
                            if (!c.ok())
                                throw this.lp(s),
                                c.error_msg();
                            this.bp(h, a, s),
                            this.lp(s)
                        }
                        ,
                        i.bp = function t(e, i, s) {
                            var n = this.gizmoModule
                              , r = this.vp(e, i, s)
                              , a = r[0]
                              , h = r[1]
                              , c = r[2]
                              , o = this.gp(e, i, s)
                              , u = this.pp(e, i, n.POSITION, Float32Array)
                              , f = this.pp(e, i, n.NORMAL, Float32Array)
                              , d = this.pp(e, i, n.TEX_COORD, Float32Array)
                              , l = this.pp(e, i, n.TEX_COORD1, Float32Array)
                              , b = this.pp(e, i, n.COLOR, Uint8Array)
                              , v = this.pp(e, i, n.BLEND_INDEX, Uint8Array)
                              , m = this.pp(e, i, n.BLEND_WEIGHT, Float32Array);
                            if (s.isWireframe) {
                                var g = this.wp(u, o);
                                u = g[0],
                                o = g[1]
                            }
                            var p = 0 != s.verticesIndicesOffsets[c];
                            this.xp(h, c, o, u, f, b, d, l, v, m, p, s)
                        }
                        ,
                        i.vp = function t(e, i, s) {
                            var n = this.gizmoModule
                              , r = i.GetMetadata(e)
                              , a = new n.MetadataQuerier
                              , h = a.GetIntEntry(r, "n")
                              , c = a.GetIntEntry(r, "m")
                              , o = a.GetIntEntry(r, "v");
                            return s.isWireframe && (invalidPositionVal = a.GetDoubleEntry(r, "i")),
                            n.destroy(a),
                            [h, c, o]
                        }
                        ,
                        i.gp = function t(e, i, s) {
                            var n = this.gizmoModule
                              , r = e.num_faces()
                              , a = new Uint32Array(3 * r)
                              , h = new n.GizmoInt32Array;
                            i.GetAllFacesFromMesh(e, h);
                            for (var c = 0, o = 3 * r; c < o; c++)
                                a[c] = h.GetValue(c);
                            return n.destroy(h),
                            a
                        }
                        ,
                        i.pp = function t(e, i, s, n, r) {
                            var a = this.gizmoModule, h = n === Float32Array ? new Float32Array(0) : new Uint8Array(0), c = 0, o = i.GetAttributeId(e, s), u;
                            if (s === a.POSITION && (c = e.num_points(),
                            -1 === o))
                                throw this.lp(r),
                                "position attribute not found in gizmo mesh.";
                            if (-1 === o)
                                return h;
                            var f = i.GetAttribute(e, o)
                              , d = e.num_points() * f.num_components();
                            switch (n) {
                            case Float32Array:
                                h = new Float32Array(d),
                                u = new a.GizmoFloat32Array,
                                i.GetAttributeFloatForAllPoints(e, f, u);
                                for (var l = 0; l < d; l++)
                                    h[l] = u.GetValue(l);
                                a.destroy(u);
                                break;
                            case Uint8Array:
                                h = new Uint8Array(d),
                                u = new a.GizmoUInt8Array,
                                i.GetAttributeUInt8ForAllPoints(e, f, u);
                                for (var l = 0; l < d; l++)
                                    h[l] = u.GetValue(l);
                                a.destroy(u)
                            }
                            return h
                        }
                        ,
                        i.xp = function t(e, i, s, r, a, h, c, o, u, f, d, l) {
                            var b = l.jsonModel
                              , v = b.meshes[e]
                              , m = b.vertices[i];
                            if (d) {
                                if (r.length > 0) {
                                    var g = m.position.data;
                                    m.position.data = Object(n.c)(g, r)
                                }
                                if (a.length > 0) {
                                    var p = m.normal.data;
                                    m.normal.data = Object(n.c)(p, a)
                                }
                                if (c.length > 0) {
                                    var w = m.texCoord0.data;
                                    m.texCoord0.data = Object(n.c)(w, c)
                                }
                                if (o.length > 0) {
                                    var x = m.texCoord1.data;
                                    m.texCoord1.data = Object(n.c)(x, o)
                                }
                                if (h.length > 0) {
                                    var z = m.color.data;
                                    m.color.data = Object(n.d)(z, h)
                                }
                                if (u.length > 0) {
                                    var _ = m.blendIndices.data;
                                    m.blendIndices.data = Object(n.d)(_, u)
                                }
                                if (f.length > 0) {
                                    var A = m.blendWeight.data;
                                    m.blendWeight.data = Object(n.c)(A, f)
                                }
                            } else
                                r.length > 0 && (m.position.data = r),
                                a.length > 0 && (m.normal.data = a),
                                c.length > 0 && (m.texCoord0.data = c),
                                o.length > 0 && (m.texCoord1.data = o),
                                h.length > 0 && (m.color.data = h),
                                u.length > 0 && (m.blendIndices.data = u),
                                f.length > 0 && (m.blendWeight.data = f);
                            for (var y = l.verticesIndicesOffsets[i], M = 0; M < s.length; M++)
                                s[M] += y;
                            v.indices = s,
                            v.vertices = i,
                            l.verticesIndicesOffsets[i] = Object(n.b)(s) + 1
                        }
                        ,
                        i.wp = function t(e, i) {
                            function s() {
                                for (var t = 0, i = 0; i < e.length; i += 3)
                                    e[i] >= invalidPositionVal || (t += 3);
                                return t
                            }
                            function r(t) {
                                for (var i = 0, s = 0; i < e.length; i += 3)
                                    e[i] >= invalidPositionVal || (t[s++] = e[i],
                                    t[s++] = e[i + 1],
                                    t[s++] = e[i + 2])
                            }
                            function a(t, e) {
                                var i = Object(n.b)(t)
                                  , s = new Uint32Array(i);
                                s.fill(e.length);
                                for (var r = 1, a = 0, h, c; a < e[0]; a++)
                                    s[a] = 0;
                                e.sort(function(t, e) {
                                    return t - e
                                });
                                for (var a = 0; a < e.length - 1; a++) {
                                    h = e[a],
                                    c = e[a + 1];
                                    for (var o = h; o <= c; o++)
                                        s[o] = r;
                                    r += 1
                                }
                                return s
                            }
                            function h(t) {
                                for (var s = new Set, n = 0, r = 0, h; n < i.length; n += 3)
                                    for (var c = 0; c < 3; c++)
                                        h = i[n + c],
                                        e[3 * h] >= invalidPositionVal ? s.add(h) : t[r++] = h;
                                s = Array.from(s);
                                for (var o = a(i, s), n = 0; n < t.length; n++)
                                    t[n] -= o[t[n]]
                            }
                            var c = new Float32Array(s());
                            r(c);
                            var o = new Int32Array(i.length / 3 * 2);
                            return h(o),
                            [c, o]
                        }
                        ,
                        i.lp = function t(e) {
                            for (var i = this.gizmoModule, s = 0; s < e.gizmoObjects.length; s++)
                                i.destroy(e.gizmoObjects[s])
                        }
                        ,
                        e
                    }();
                    e.default = x
                }
                .call(this, i(4))
            }
            , function(t, e, i) {
                "use strict";
                e.byteLength = u,
                e.toByteArray = d,
                e.fromByteArray = v;
                for (var s = [], n = [], r = "undefined" != typeof Uint8Array ? Uint8Array : Array, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", h = 0, c = a.length; h < c; ++h)
                    s[h] = a[h],
                    n[a.charCodeAt(h)] = h;
                function o(t) {
                    var e = t.length;
                    if (e % 4 > 0)
                        throw new Error("Invalid string. Length must be a multiple of 4");
                    var i = t.indexOf("="), s;
                    return -1 === i && (i = e),
                    [i, i === e ? 0 : 4 - i % 4]
                }
                function u(t) {
                    var e = o(t)
                      , i = e[0]
                      , s = e[1];
                    return 3 * (i + s) / 4 - s
                }
                function f(t, e, i) {
                    return 3 * (e + i) / 4 - i
                }
                function d(t) {
                    for (var e, i = o(t), s = i[0], a = i[1], h = new r(f(t, s, a)), c = 0, u = a > 0 ? s - 4 : s, d = 0; d < u; d += 4)
                        e = n[t.charCodeAt(d)] << 18 | n[t.charCodeAt(d + 1)] << 12 | n[t.charCodeAt(d + 2)] << 6 | n[t.charCodeAt(d + 3)],
                        h[c++] = e >> 16 & 255,
                        h[c++] = e >> 8 & 255,
                        h[c++] = 255 & e;
                    return 2 === a && (e = n[t.charCodeAt(d)] << 2 | n[t.charCodeAt(d + 1)] >> 4,
                    h[c++] = 255 & e),
                    1 === a && (e = n[t.charCodeAt(d)] << 10 | n[t.charCodeAt(d + 1)] << 4 | n[t.charCodeAt(d + 2)] >> 2,
                    h[c++] = e >> 8 & 255,
                    h[c++] = 255 & e),
                    h
                }
                function l(t) {
                    return s[t >> 18 & 63] + s[t >> 12 & 63] + s[t >> 6 & 63] + s[63 & t]
                }
                function b(t, e, i) {
                    for (var s, n = [], r = e; r < i; r += 3)
                        s = (t[r] << 16 & 16711680) + (t[r + 1] << 8 & 65280) + (255 & t[r + 2]),
                        n.push(l(s));
                    return n.join("")
                }
                function v(t) {
                    for (var e, i = t.length, n = i % 3, r = [], a = 16383, h = 0, c = i - n; h < c; h += 16383)
                        r.push(b(t, h, h + 16383 > c ? c : h + 16383));
                    return 1 === n ? (e = t[i - 1],
                    r.push(s[e >> 2] + s[e << 4 & 63] + "==")) : 2 === n && (e = (t[i - 2] << 8) + t[i - 1],
                    r.push(s[e >> 10] + s[e >> 4 & 63] + s[e << 2 & 63] + "=")),
                    r.join("")
                }
                n["-".charCodeAt(0)] = 62,
                n["_".charCodeAt(0)] = 63
            }
            , function(t, e) {
                e.read = function(t, e, i, s, n) {
                    var r, a, h = 8 * n - s - 1, c = (1 << h) - 1, o = c >> 1, u = -7, f = i ? n - 1 : 0, d = i ? -1 : 1, l = t[e + f];
                    for (f += d,
                    r = l & (1 << -u) - 1,
                    l >>= -u,
                    u += h; u > 0; r = 256 * r + t[e + f],
                    f += d,
                    u -= 8)
                        ;
                    for (a = r & (1 << -u) - 1,
                    r >>= -u,
                    u += s; u > 0; a = 256 * a + t[e + f],
                    f += d,
                    u -= 8)
                        ;
                    if (0 === r)
                        r = 1 - o;
                    else {
                        if (r === c)
                            return a ? NaN : 1 / 0 * (l ? -1 : 1);
                        a += Math.pow(2, s),
                        r -= o
                    }
                    return (l ? -1 : 1) * a * Math.pow(2, r - s)
                }
                ,
                e.write = function(t, e, i, s, n, r) {
                    var a, h, c, o = 8 * r - n - 1, u = (1 << o) - 1, f = u >> 1, d = 23 === n ? Math.pow(2, -24) - Math.pow(2, -77) : 0, l = s ? 0 : r - 1, b = s ? 1 : -1, v = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;
                    for (e = Math.abs(e),
                    isNaN(e) || e === 1 / 0 ? (h = isNaN(e) ? 1 : 0,
                    a = u) : (a = Math.floor(Math.log(e) / Math.LN2),
                    e * (c = Math.pow(2, -a)) < 1 && (a--,
                    c *= 2),
                    (e += a + f >= 1 ? d / c : d * Math.pow(2, 1 - f)) * c >= 2 && (a++,
                    c /= 2),
                    a + f >= u ? (h = 0,
                    a = u) : a + f >= 1 ? (h = (e * c - 1) * Math.pow(2, n),
                    a += f) : (h = e * Math.pow(2, f - 1) * Math.pow(2, n),
                    a = 0)); n >= 8; t[i + l] = 255 & h,
                    l += b,
                    h /= 256,
                    n -= 8)
                        ;
                    for (a = a << n | h,
                    o += n; o > 0; t[i + l] = 255 & a,
                    l += b,
                    a /= 256,
                    o -= 8)
                        ;
                    t[i + l - b] |= 128 * v
                }
            }
            , function(t, e) {
                var i = {}.toString;
                t.exports = Array.isArray || function(t) {
                    return "[object Array]" == i.call(t)
                }
            }
            ])
        })
    }
    ).call(this, __webpack_require__(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(15)
          , n = c(i(461))
          , r = c(i(465))
          , a = c(i(466))
          , h = i(73);
        function c(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function o(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        function u(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }
        var f = function(e) {
            function i(i) {
                var s, a = (s = e.call(this, i) || this).Bc.getApplication();
                return s._timer = null,
                s.Bc.Il("script"),
                s.Bc.camera.layers.push(h.LAYERID_GROUND, h.LAYERID_SHADOW, h.LAYERID_FLARE, h.LAYERID_VISUALBOX),
                s.Bc.camera.nearClip = .1,
                s.Bc.setLocalPosition(0, 0, 2),
                s.Bc.camera.frustumCulling = !0,
                s.Bc.camera.clearColor = new t.D(0,0,0,0),
                s.Bc.script.create("orbitCamera"),
                s.Bc.script.create("orbitCameraMouseInput"),
                s.Bc.script.create("orbitCameraTouchInput"),
                s.Bc.script.create("picker"),
                s.Bc.script.create("lookCamera", {
                    enabled: !1,
                    attributes: {
                        fovLocked: !1
                    }
                }),
                s.Bc.script.create("lookCameraMouseInput", {
                    enabled: !1
                }),
                s.Bc.script.create("lookCameraTouchInput", {
                    enabled: !1
                }),
                s.Bc.script.create("cameraRotate", {
                    enabled: !1,
                    attributes: {
                        speed: 10
                    }
                }),
                i.videoWrap && s.Bc.script.create("arCamera", {
                    enabled: !1,
                    attributes: {
                        videoWrap: i.videoWrap
                    }
                }),
                s.effects = new r.default(a,u(s)),
                s.views = new n.default(a,u(s)),
                s
            }
            o(i, e);
            var s = i.prototype;
            return s.transientRender = function t(e) {
                var i = this
                  , s = i.Bc.getApplication();
                window.requestAnimationFrame(function() {
                    "number" != typeof e && (e = 1e3),
                    clearTimeout(i._timer),
                    s.nd = !0,
                    i._timer = setTimeout(function() {
                        s.nd = !1
                    }, e)
                })
            }
            ,
            s.persistRender = function t() {
                var e = this
                  , i = e.Bc.getApplication();
                window.requestAnimationFrame(function() {
                    clearTimeout(e._timer),
                    i.nd = !0
                })
            }
            ,
            s.generate = function e(i) {
                var s = this.Bc.getApplication()
                  , n = this.Bc.script.orbitCamera;
                this.Bc.parent || s.root.addChild(this.Bc),
                this.Bc.camera.fov = i.fov,
                i.pivotPoint ? (n.pivotPoint = new (Function.prototype.bind.apply(t.ut, [null].concat(i.pivotPoint))),
                n.distance = i.distance,
                n.pitch = i.pitch,
                n.yaw = i.yaw,
                i.settings && (n._originDistanceMin = i.settings.distanceMin,
                n._originDistanceMax = i.settings.distanceMax,
                n.distanceMin = i.settings.distanceMin,
                n.distanceMax = i.settings.distanceMax,
                n.pitchAngleMin = -i.settings.pitchAngleMin,
                n.pitchAngleMax = i.settings.pitchAngleMax)) : (n.focus(this.model.Bc),
                n._updatePosition())
            }
            ,
            i
        }(s.Qh);
        e.default = f
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = u(i(54))
      , n = u(i(101))
      , r = i(31)
      , a = u(i(146))
      , h = u(i(462))
      , c = u(i(463))
      , o = u(i(464));
    function u(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function f(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var d = function(t) {
        function e(e, i) {
            var s;
            return (s = t.call(this) || this).app = e,
            s.target = i,
            s.current = null,
            s._currentIndex = -1,
            s
        }
        f(e, t);
        var i = e.prototype;
        return i.generate = function t(e) {
            var i = this;
            (0,
            s.default)(e) || (e.forEach(function(t) {
                return i.add((0,
                r.parseViewData)(t))
            }),
            this._currentIndex = 0,
            this.current = this._list[0])
        }
        ,
        i.generateAr = function t() {
            this.add({
                type: a.default.Yg
            })
        }
        ,
        i.add = function t(e) {
            var i;
            switch (e.type) {
            case a.default.Hg:
                i = new h.default(e);
                break;
            case a.default.Gg:
                i = new c.default(e);
                break;
            case a.default.Yg:
                i = new o.default(e)
            }
            return i.manager = this,
            this._list.push(i),
            this.updateCache(),
            i
        }
        ,
        i.remove = function t(e) {
            var i = this.getIndex(e);
            -1 !== i && (this._list.splice(i, 1),
            this.updateCache())
        }
        ,
        i.switch = function t(e) {
            var i = this.get(e)
              , s = this.getIndex(e)
              , n = this.target.Bc.camera;
            i && (this.current && this.current !== i && this.current.onDisable(),
            this._currentIndex = s,
            i.onEnable(this.current),
            this.current = i,
            this.app.camera.transientRender())
        }
        ,
        e
    }(n.default);
    e.default = d
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = r(i(146))
          , n = r(i(55));
        function r(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function a(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var h = function(e) {
            function i(t) {
                var n;
                n = e.call(this, t) || this;
                var r = i.vecA
                  , a = i.vecB;
                return n.type = s.default.Hg,
                n.group = t.group || !1,
                n.pivotPoint = t.pivotPoint,
                n.distance = r.set.apply(r, n.position).sub(a.set.apply(a, n.pivotPoint)).length(),
                n.distanceMin = t.distanceMin || 0,
                n.distanceMax = t.distanceMax || 0,
                n.inverted = t.inverted,
                n
            }
            a(i, e);
            var r = i.prototype;
            return r.onEnable = function e(s) {
                var r = this.manager.app
                  , a = this.manager.target.Bc.camera
                  , h = this.manager.target.Bc.script
                  , c = h.orbitCamera
                  , o = r.model.annotations;
                c.enabled = !0,
                h.orbitCameraMouseInput.enabled = !0,
                h.orbitCameraTouchInput.enabled = !0,
                a.fov = this.fov,
                c.distanceMax = this.distanceMax,
                c.distanceMin = this.distanceMin,
                c.distance = this.distance,
                c.pitchAngleMax = this.pitchAngleMax,
                c.pitchAngleMin = -Math.abs(this.pitchAngleMin),
                c.pivotPoint = new (Function.prototype.bind.apply(t.ut, [null].concat(this.pivotPoint))),
                c.pitch = this.rotation[0],
                c.yaw = this.rotation[1],
                c.inverted = this.inverted,
                c.inertiaFactor = .2,
                s instanceof i && s.group && null === i.LAST_VIEW_GROUP && (i.LAST_VIEW_GROUP = s),
                s instanceof i && this.group && i.LAST_VIEW_GROUP && i.LAST_VIEW_GROUP.inverted !== this.inverted && (!1 === i.LAST_VIEW_GROUP.inverted ? (i.LAST_VIEW_GROUP_ANNOTATIONS_STATUS = o.checkBit(n.default.BIT_DIALOG),
                o.toggleBit(n.default.BIT_DIALOG, !1),
                o.toggleBit(n.default.BIT_INVERTED_DIALOG, i.LAST_VIEW_GROUP_ANNOTATIONS_STATUS)) : (i.LAST_VIEW_GROUP_ANNOTATIONS_STATUS = o.checkBit(n.default.BIT_INVERTED_DIALOG),
                o.toggleBit(n.default.BIT_DIALOG, i.LAST_VIEW_GROUP_ANNOTATIONS_STATUS),
                o.toggleBit(n.default.BIT_INVERTED_DIALOG, !1)),
                o.store.select(null),
                i.LAST_VIEW_GROUP = this)
            }
            ,
            r.onDisable = function t() {}
            ,
            i
        }(s.default);
        e.default = h,
        h.vecA = new t.ut,
        h.vecB = new t.ut,
        h.LAST_VIEW_GROUP = null,
        h.LAST_VIEW_GROUP_ANNOTATIONS_STATUS = null
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = n(i(146));
    function n(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function r(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var a = function(t) {
        function e(e) {
            var i;
            return (i = t.call(this, e) || this).type = s.default.Gg,
            i
        }
        r(e, t);
        var i = e.prototype;
        return i.onEnable = function t() {
            var e = this.manager.target.Bc.camera
              , i = this.manager.target.Bc.script
              , s = i.lookCamera;
            s.enabled = !0,
            i.lookCameraMouseInput.enabled = !0,
            i.lookCameraTouchInput.enabled = !0,
            e.fov = this.fov,
            s.pitchAngleMax = this.pitchAngleMax,
            s.pitchAngleMin = -Math.abs(this.pitchAngleMin),
            s.pitch = this.rotation[0],
            s.yaw = this.rotation[1],
            s.inertiaFactor = .2
        }
        ,
        i.onDisable = function t() {}
        ,
        e
    }(s.default);
    e.default = a
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = n(i(146));
    function n(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var r = function() {
        function t(t) {
            this.uid = "3aa22853-90c3-412b-880b-cc5573b27708",
            this.name = "Ar Camera",
            this.type = s.default.Yg
        }
        var e = t.prototype;
        return e.onEnable = function t() {
            var e = this.manager.app
              , i = this.manager.target.Bc.script
              , s = i.arCamera;
            i.orbitCamera.enabled = !1,
            i.lookCamera.enabled = !1,
            s.enabled = !0,
            e.scene.skyboxVisible = !1,
            e.ground.root.enabled = !1,
            setTimeout(function() {
                return s.setModelCenter()
            }, 300)
        }
        ,
        e.onDisable = function t() {
            var e = this.manager.app, i;
            this.manager.target.Bc.script.arCamera.enabled = !1,
            e.scene.skyboxVisible = !0,
            e.ground.root.enabled = !0
        }
        ,
        t
    }();
    e.default = r
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = function() {
        function t(t, e) {
            this.app = t,
            this.target = e,
            this._effects = {}
        }
        var e;
        return t.prototype.generate = function t(e) {
            if (e) {
                var i = e.data
                  , s = this.target.Bc.camera.postEffects;
                for (var n in this._effects)
                    i[n] && (Object.assign(this._effects[n], i[n]),
                    i[n].enabled ? s.addEffect(this._effects[n]) : s.removeEffect(this._effects[n]));
                e.enabled || s.effects.forEach(function(t) {
                    return s.removeEffect(t.effect)
                })
            }
        }
        ,
        t
    }();
    e.default = s
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = n(i(55));
        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        var r = function() {
            function e(e, i) {
                this.app = e,
                this.Bc = i.Bc,
                this.vrEntered = !1,
                this.sprites = [],
                this.selected = null,
                this.timer = 0,
                this.duration = 1,
                this.ray = new t.Qt,
                this.cameraOffsetEntity = new t.Entity("Camera Offset"),
                this.cameraOffsetEntity.setPosition(0, 1.7, 3),
                this.generatePointer(),
                this.generateProgress(),
                this.Bc.addChild(this.cameraPointer),
                this.Bc.addChild(this.progressWrapper),
                this.app.root.addChild(this.cameraOffsetEntity),
                this.app.vr.on("displayconnect", this.onDisplayConnect, this),
                this.app.vr.off("displaydisconnect", this.onDisplayDisconnect, this),
                this.app.on("update", this.onUpdate, this)
            }
            var i = e.prototype;
            return i.prepare = function t() {
                var e = this;
                this.sprites = this.app.model.annotations.filter(function(t) {
                    return t.bit === s.default.BIT_DOOR
                }).map(function(t) {
                    return t.Bc.on("app:vrcamera:hover", e.onPointerHover, e),
                    {
                        Bc: t.Bc,
                        meshInstance: t.Bc.element._image._meshInstance
                    }
                })
            }
            ,
            i.generatePointer = function e() {
                this.cameraPointer = new t.Entity("Camera Pointer"),
                this.cameraPointer.Il("model", {
                    type: "plane"
                }),
                this.cameraPointerMaterial = new t.uc,
                this.cameraPointerMaterial.color = new t.D(1,0,0,1),
                this.cameraPointerMaterial.depthTest = !1,
                this.cameraPointerMaterial.update(),
                this.cameraPointer.model.model.meshInstances[0].material = this.cameraPointerMaterial,
                this.cameraPointer.model.model.meshInstances[0].drawOrder = 999,
                this.cameraPointer.setLocalPosition(0, 0, -2.424),
                this.cameraPointer.setLocalEulerAngles(90, 0, 0),
                this.cameraPointer.setLocalScale(.02, .02, .02),
                this.cameraPointer.enabled = !1
            }
            ,
            i.generateProgress = function i() {
                this.progressWrapper = new t.Entity("VR Progress Wrapper"),
                this.progressWrapper.enabled = !1,
                this.progressWrapper.setLocalScale(.5, e.PROGRESS_HEIGHT, 1),
                this.progressWrapper.setLocalPosition(0, 0, -5),
                this.progress = new t.Entity("VR Progress"),
                this.progressFront = new t.Entity("VR Progress Front"),
                this.progressBack = new t.Entity("VR Progress Back"),
                this.progressFrontMaterial = new t.uc,
                this.progressFrontMaterial.color = new t.D(.6,0,0,1),
                this.progressFrontMaterial.depthTest = !1,
                this.progressFrontMaterial.depthWrite = !1,
                this.progressFrontMaterial.update(),
                this.progressBackMaterial = new t.uc,
                this.progressBackMaterial.color = new t.D(.6,.6,.6,1),
                this.progressBackMaterial.depthTest = !1,
                this.progressBackMaterial.depthWrite = !1,
                this.progressBackMaterial.update(),
                this.progress.Il("model", {
                    type: "plane"
                }),
                this.progress.setLocalPosition(.5, 0, .001),
                this.progress.setLocalEulerAngles(90, 0, 0),
                this.progress.model.model.meshInstances[0].material = this.progressFrontMaterial,
                this.progressFront.addChild(this.progress),
                this.progressBack.Il("model", {
                    type: "plane"
                }),
                this.progressBack.setLocalPosition(.5, 0, 0),
                this.progressBack.setLocalEulerAngles(90, 0, 0),
                this.progressBack.model.model.meshInstances[0].material = this.progressBackMaterial,
                this.progressWrapper.addChild(this.progressFront),
                this.progressWrapper.addChild(this.progressBack)
            }
            ,
            i.toggleVR = function t() {
                this.app.vr && this.app.vr.display && (this.vrEntered ? this.Bc.camera.exitVr(this.onExitVR.bind(this)) : this.Bc.camera.enterVr(this.onEnterVR.bind(this)))
            }
            ,
            i.onEnterVR = function t(e) {
                e || (this.Bc.reparent(this.cameraOffsetEntity),
                this.Bc.setLocalPosition(0, 0, 0),
                this.Bc.script.orbitCamera.enabled = !1,
                this.Bc.script.orbitCameraMouseInput.enabled = !1,
                this.Bc.script.orbitCameraTouchInput.enabled = !1,
                this.cameraPointer.enabled = !0,
                this.vrEntered = !0)
            }
            ,
            i.onExitVR = function t(e) {
                e || (this.Bc.reparent(this.app.root),
                this.Bc.setPosition(this.cameraOffsetEntity.getPosition()),
                this.Bc.script.orbitCamera.enabled = !0,
                this.Bc.script.orbitCameraMouseInput.enabled = !0,
                this.Bc.script.orbitCameraTouchInput.enabled = !0,
                this.cameraPointer.enabled = !1,
                this.vrEntered = !1,
                this.app.rd = !0)
            }
            ,
            i.onPresentChange = function t(e) {
                this.vrEntered && !e.presentchange && this.onExitVR()
            }
            ,
            i.onUpdate = function t(i) {
                var s = this;
                if (this.vrEntered) {
                    var n = 1 / 0
                      , r = null
                      , a = e.vecA
                      , h = e.vecB
                      , c = e.vecC
                      , o = e.vecD
                      , u = e.vecE
                      , f = e.quatA;
                    if (this.ray.origin.copy(this.Bc.getPosition()),
                    this.ray.direction.copy(this.Bc.forward),
                    this.sprites.forEach(function(t) {
                        if (t.Bc.enabled && t.meshInstance.aabb.Nt(s.ray, a)) {
                            var e = h.sub2(a, s.ray.origin).length();
                            e < n && (n = e,
                            r = t)
                        }
                    }),
                    r) {
                        var d = r.Bc
                          , l = r.meshInstance.aabb;
                        this.selected && this.selected !== d && (this.timer = 0),
                        c.copy(d.getPosition()),
                        o.copy(d.getLocalScale()),
                        u.copy(o),
                        o.x *= -.5 * d.element.width,
                        o.y *= .8 * d.element.height,
                        f.copy(this.Bc.getRotation()),
                        f.ft(o, o),
                        c.add(o),
                        this.timer += i,
                        this.selected = d,
                        this.progressWrapper.setPosition(c),
                        this.progressWrapper.setLocalScale(u.x, e.PROGRESS_HEIGHT, 1),
                        this.progressWrapper.enabled = !0,
                        this.selected.fire("app:vrcamera:hover")
                    } else
                        this.timer = 0,
                        this.progressWrapper.enabled = !1;
                    this.app.rd = !0
                }
            }
            ,
            i.onPointerHover = function e() {
                var i = t.I.clamp(this.timer / this.duration, 0, 1);
                this.progressFront.setLocalScale(i, 1, 1),
                i >= 1 && (this.timer = 0,
                this.selected.element.fire("click"))
            }
            ,
            i.onDisplayConnect = function t(e) {
                e.display.bufferScale_ = window.devicePixelRatio,
                e.on("presentchange", this.onPresentChange, this)
            }
            ,
            i.onDisplayDisconnect = function t(e) {
                e.off("presentchange", this.onPresentChange, this)
            }
            ,
            e
        }();
        e.default = r,
        r.vecA = new t.ut,
        r.vecB = new t.ut,
        r.vecC = new t.ut,
        r.vecD = new t.ut,
        r.vecE = new t.ut,
        r.quatA = new t.bt,
        r.PROGRESS_HEIGHT = .1
    }
    ).call(this, i(6))
}
, function(t, e) {
    t.exports = "attribute vec3 vertex_position;\nattribute vec3 vertex_normal;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nuniform mat4 matrix_model;\nuniform mat3 matrix_normal;\nuniform mat4 matrix_view;\nuniform mat4 matrix_viewProjection;\n\nvoid main() {\n  vNormal = normalize(matrix_normal * vertex_normal);\n  vec4 posW = matrix_model * vec4(vertex_position, 1.0);\n  // posW += vec4(vNormal, 0.0);\n  vPosition = posW.xyz;\n  gl_Position = matrix_viewProjection * posW;\n}\n"
}
, function(t, e) {
    t.exports = "varying vec3 vNormal;\nvarying vec3 vPosition;\nuniform vec4 uColor;\nuniform vec3 view_position;\n\nvoid main() {\n  vec3 viewNormal = normalize(view_position - vPosition);\n  float light = dot(vNormal, viewNormal);\n  gl_FragColor = vec4(uColor.rgb * light * 2.0, uColor.a);\n}\n"
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = o(i(54))
          , n = i(15)
          , r = o(i(397))
          , a = o(i(365))
          , h = o(i(153))
          , c = o(i(154));
        function o(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function u(t, e) {
            for (var i = 0; i < e.length; i++) {
                var s = e[i];
                s.enumerable = s.enumerable || !1,
                s.configurable = !0,
                "value"in s && (s.writable = !0),
                Object.defineProperty(t, s.key, s)
            }
        }
        function f(t, e, i) {
            return e && u(t.prototype, e),
            i && u(t, i),
            t
        }
        var d = function() {
            function e(i, s) {
                var a = this;
                this.app = i,
                this.obb = new t.Jt,
                this.root = new t.Entity("SizeMarker Root"),
                this.root.enabled = !1,
                this.unit = "m",
                this._target = null,
                this._scaleFactor = 1,
                this._align = e.ALIGN_RIGHT,
                this._size = [0, 0, 0],
                this._diffHalfSize = [0, 0, 0],
                this._color = new t.D(1,1,1,1),
                this._wheelbase = 0,
                this._wheels = {
                    FL: {
                        aabb: new t.jt,
                        meshInstances: []
                    },
                    FR: {
                        aabb: new t.jt,
                        meshInstances: []
                    },
                    RL: {
                        aabb: new t.jt,
                        meshInstances: []
                    },
                    RR: {
                        aabb: new t.jt,
                        meshInstances: []
                    }
                },
                s instanceof n.Xh ? (this._target = s,
                this.target = s.Bc) : this.target = s;
                var h = this.app.assets.find("Font", "font");
                h ? this.fontAsset = h : (this.fontAsset = new t.Zf("Font","font",{
                    url: c.default.Font.url
                },r.default),
                this.app.assets.add(this.fontAsset),
                this.app.assets.load(this.fontAsset)),
                this.markers = ["x", "y", "z", "w"].map(function(t) {
                    return a.createMarker(t)
                }),
                this.app.root.addChild(this.root)
            }
            var i = e.prototype;
            return i.createMarker = function e(i) {
                var s = new t.Entity;
                return s.name = i + "Marker",
                s.Il("element", {
                    type: "text"
                }),
                s.element.fontAsset = this.fontAsset,
                s.element.fontSize = 1,
                s.element.lineHeight = 1,
                s.element.anchor = new t.wt(.5,.5,.5,.5),
                s.element.pivot = new t.pt(.5,.5),
                s.element.text = "0" + this.unit,
                s.element.color = this._color,
                this.root.addChild(s),
                s.enabled = !1,
                s
            }
            ,
            i.setCamera = function t(e) {
                this.camera = e
            }
            ,
            i.generate = function e(i) {
                var n = void 0 !== i.exclude_meshes ? i.exclude_meshes.map(function(t) {
                    return t.index
                }) : []
                  , r = this.generateSize(n)
                  , a = this.generateWheelbase()
                  , h = this.obb._aabb;
                this._target && (this._target.excludes = n),
                this._scaleFactor = .05 * this.obb._aabb.getMax().length(),
                (0,
                s.default)(i) ? (this.size = r,
                this.wheelbase = a) : (this.color = new t.D(i.color.slice().map(function(t, e) {
                    return 3 === e ? t : t / 255
                })),
                this.wheelbase = i.wheelbase || a,
                this.size = "0,0,0" === i.size.toString() ? r : i.size,
                i.enabled && this.toggle(!0))
            }
            ,
            i.generateSize = function t(e) {
                void 0 === e && (e = []),
                this.obb.isInited = !1,
                a.default.buildOBB(this.target, e, this.obb);
                var i = this.obb._aabb, s;
                return [2 * i.halfExtents.x, 2 * i.halfExtents.y, 2 * i.halfExtents.z].map(function(t) {
                    return +t.toFixed(3)
                })
            }
            ,
            i.generateWheelbase = function t() {
                for (var e in h.default.getWheels(this.target.model.model.meshInstances, this._wheels),
                this._wheels)
                    for (var i = this._wheels[e].aabb, s = this._wheels[e].meshInstances, n = 0; n < s.length; n++) {
                        var r = s[n];
                        0 === n ? i.copy(r.aabb) : i.add(r.aabb)
                    }
                return +(this._wheels.FL.aabb.center.z - this._wheels.RL.aabb.center.z).toFixed(3)
            }
            ,
            i.toggle = function t(e) {
                var i = this;
                this.root.enabled !== e && (this.app.camera && this.app.camera.transientRender(),
                e ? this.app.on("update", this.onUpdate, this) : this.app.off("update", this.onUpdate, this),
                this.root.enabled = e,
                this.markers.forEach(function(t, s) {
                    t.enabled = e && s < 3,
                    t.element.fontSize = i._scaleFactor,
                    t.element.lineHeihgt = i._scaleFactor
                }))
            }
            ,
            i.destroy = function t() {
                this.toggle(!1),
                this.app.root.removeChild(this.root),
                this.root.destroy()
            }
            ,
            i.onUpdate = function t() {
                var i = this
                  , s = e.px
                  , n = e.mx
                  , r = e.nx
                  , a = e.bx0
                  , h = e.bx1
                  , c = e.py
                  , o = e.my
                  , u = e.ny
                  , f = e.by0
                  , d = e.by1
                  , l = e.pz
                  , b = e.mz
                  , v = e.nz
                  , m = e.bz0
                  , g = e.bz1
                  , p = e.pw
                  , w = e.mw
                  , x = e.nw
                  , z = e.bw0
                  , _ = e.bw1
                  , A = e.vecA
                  , y = e.quat.copy(this.camera.getRotation())
                  , M = this.app
                  , S = this.obb._aabb
                  , C = this._diffHalfSize
                  , O = this._wheels
                  , E = this.markers
                  , D = this.target.getWorldTransform()
                  , T = S.center.x + S.halfExtents.x
                  , P = S.center.x - S.halfExtents.x
                  , B = S.center.y + S.halfExtents.y
                  , I = Math.max(S.center.y - S.halfExtents.y, 0)
                  , j = S.center.z + S.halfExtents.z
                  , R = S.center.z - S.halfExtents.z;
                a.set(T + C[0], I, j),
                h.set(P - C[0], I, j),
                A.set(0, 0, 1).scale(this._scaleFactor),
                s.copy(a).add(A),
                r.copy(h).add(A),
                n.copy(r).add(s).scale(.5),
                n.z += E[0].element.width / 2,
                f.set(S.center.x + (S.halfExtents.x + C[0]) * this._align, B + 2 * C[1], R - 2 * C[2]),
                d.set(S.center.x + (S.halfExtents.x + C[0]) * this._align, I, R - 2 * C[2]),
                A.set(this._align, 0, -1).normalize().scale(this._scaleFactor),
                c.copy(f).add(A),
                u.copy(d).add(A),
                o.copy(u).add(c).scale(.5),
                o.x += E[1].element.width / 2 * this._align,
                m.set(S.center.x + (S.halfExtents.x + C[0]) * this._align, I, j),
                g.set(S.center.x + (S.halfExtents.x + C[0]) * this._align, I, R - 2 * C[2]),
                A.set(this._align, 0, 0).scale(this._scaleFactor),
                l.copy(m).add(A),
                v.copy(g).add(A),
                b.copy(v).add(l).scale(.5),
                b.x += E[2].element.width / 2 * this._align,
                D.transformPoint(a, a),
                D.transformPoint(h, h),
                D.transformPoint(s, s),
                D.transformPoint(n, n),
                D.transformPoint(r, r),
                D.transformPoint(f, f),
                D.transformPoint(d, d),
                D.transformPoint(c, c),
                D.transformPoint(o, o),
                D.transformPoint(u, u),
                D.transformPoint(m, m),
                D.transformPoint(g, g),
                D.transformPoint(l, l),
                D.transformPoint(b, b),
                D.transformPoint(v, v),
                E.forEach(function(t, e) {
                    var s;
                    switch (A.set(0, .5 * i._scaleFactor, 0),
                    e) {
                    case 0:
                        (s = n).add(A);
                        break;
                    case 1:
                        s = o;
                        break;
                    case 2:
                        (s = b).add(A);
                        break;
                    case 3:
                        (s = w).add(A)
                    }
                    t.setRotation(y),
                    t.setPosition(s)
                }),
                M.Um(a, s, this._color),
                M.Um(h, r, this._color),
                M.Um(s, r, this._color),
                M.Um(f, c, this._color),
                M.Um(d, u, this._color),
                M.Um(c, u, this._color),
                M.Um(m, l, this._color),
                M.Um(g, v, this._color),
                M.Um(l, v, this._color)
            }
            ,
            f(e, [{
                key: "size",
                get: function t() {
                    return this._size
                },
                set: function t(e) {
                    var i = this
                      , s = this.obb._aabb;
                    this._size = e,
                    this.markers.forEach(function(t, e) {
                        e > 2 || (t.element.text = i.size[e] + i.unit)
                    }),
                    this._diffHalfSize = [e[0] / 2 - s.halfExtents.x, e[1] / 2 - s.halfExtents.y, e[2] / 2 - s.halfExtents.z].map(function(t) {
                        return +t.toFixed(3)
                    })
                }
            }, {
                key: "wheelbase",
                get: function t() {
                    return this._wheelbase
                },
                set: function t(e) {
                    this._wheelbase = e,
                    this.markers[3].element.text = e + this.unit
                }
            }, {
                key: "color",
                get: function t() {
                    return this._color.data
                },
                set: function e(i) {
                    var s = this;
                    Array.isArray(i) && (i = new t.D(i[0] / 255,i[1] / 255,i[2] / 255,i[3])),
                    this._color = i,
                    this.markers.forEach(function(t) {
                        return t.element.color = s._color
                    })
                }
            }, {
                key: "align",
                get: function t() {
                    return this._align
                },
                set: function t(i) {
                    [e.ALIGN_LEFT, e.ALIGN_RIGHT].includes(i) && (this._align = i,
                    this.app.camera.transientRender())
                }
            }]),
            e
        }();
        e.default = d,
        d.px = new t.ut,
        d.mx = new t.ut,
        d.nx = new t.ut,
        d.bx0 = new t.ut,
        d.bx1 = new t.ut,
        d.my = new t.ut,
        d.py = new t.ut,
        d.ny = new t.ut,
        d.by0 = new t.ut,
        d.by1 = new t.ut,
        d.mz = new t.ut,
        d.pz = new t.ut,
        d.nz = new t.ut,
        d.bz0 = new t.ut,
        d.bz1 = new t.ut,
        d.mw = new t.ut,
        d.pw = new t.ut,
        d.nw = new t.ut,
        d.bw0 = new t.ut,
        d.bw1 = new t.ut,
        d.vecA = new t.ut,
        d.quat = new t.bt,
        d.ALIGN_LEFT = -1,
        d.ALIGN_RIGHT = 1
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = r(i(471))
          , n = i(73);
        function r(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        var a = function() {
            function e(e, i) {
                this.app = e,
                this.target = i,
                this.root = new t.Entity,
                this.root.name = "HeadLight Root",
                this.root.enabled = !1,
                this.channels = {
                    FlareFront: "r",
                    FlareLong: "b",
                    FlareRed: "r",
                    GreyFlareFront: "r",
                    GreyFlareLong: "b",
                    GreyFlareRed: "r"
                },
                this.directionToCamera = new t.ut,
                this.colors = {
                    A: [.5, .5, .5, 1],
                    B: [.25, .7490196078431373, .9411764705882353, 1],
                    C: [1, .49019607843137253, .23137254901960785, 1]
                }
            }
            var i = e.prototype;
            return i.setCamera = function t(e) {
                this.camera = e
            }
            ,
            i.prepareAssets = function t(e) {
                var i = this;
                this.root.children.forEach(function(t) {
                    t.flares.forEach(function(t) {
                        return i.updateFlareMap(t, e)
                    })
                })
            }
            ,
            i.updateFlareMap = function e(i, s) {
                var n, r, a;
                void 0 === s && (s = this.colors);
                var h = this.app.assets.textures ? this.app.assets.textures.get(i.textureAssetUid) : this.app.hl.$m(i.textureAssetUid), c = h.getPreferredAsset().resource, o = i.material, u;
                switch (o.depthTest = !1,
                o.ambient.set(0, 0, 0),
                o.diffuse.set(0, 0, 0),
                o.specular.set(0, 0, 0),
                o.specularMapTint = !0,
                o.emissiveMap = c,
                o.emissiveMapTint = !0,
                o.opacity = .99,
                o.opacityMap = c,
                o.opacityMapChannel = this.channels[h.name],
                o.shininess = 0,
                o.blendType = t.xa,
                o.useSkybox = !1,
                o.useLighting = !1,
                o.useGammaTonemap = !1,
                h.name) {
                case "FlareFront":
                case "GreyFlareFront":
                    u = s.A,
                    (n = o.emissive).set.apply(n, u),
                    o.emissiveIntensity = .5;
                    break;
                case "FlareLong":
                case "GreyFlareLong":
                    u = s.B,
                    (r = o.emissive).set.apply(r, u),
                    o.emissiveIntensity = 1;
                    break;
                case "FlareRed":
                case "GreyFlareRed":
                    u = s.C,
                    (a = o.emissive).set.apply(a, u),
                    o.emissiveIntensity = .5
                }
                o.update()
            }
            ,
            i.generate = function e(i) {
                var n = this;
                i.data.forEach(function(e) {
                    var i = e.name
                      , r = e.position
                      , a = e.rotation
                      , h = e.flares
                      , c = new t.Entity;
                    c.name = i,
                    c.flares = [],
                    c.setLocalPosition.apply(c, r),
                    c.setLocalEulerAngles.apply(c, a),
                    h.forEach(function(t) {
                        var e = new s.default(n.app,t);
                        c.flares.push(e),
                        c.addChild(e.Bc)
                    }),
                    n.root.addChild(c)
                })
            }
            ,
            i.createLight = function e(i) {
                var s = new t.Entity;
                return s.name = i,
                s.flares = [],
                this.root.addChild(s),
                {
                    name: i,
                    position: Array.from(s.getLocalPosition().data),
                    rotation: Array.from(s.getLocalEulerAngles().data),
                    flares: []
                }
            }
            ,
            i.createFlare = function t(e, i, n) {
                var r = new s.default(this.app,i);
                return void 0 === n ? (e.flares.push(r),
                e.addChild(r.Bc)) : (e.flares.splice(n, 0, r),
                e.ac(r.Bc, n)),
                i && i.texture && this.updateFlareMap(r, i.colors),
                {
                    position: Array.from(r.Bc.getLocalPosition().data),
                    rotation: Array.from(r.Bc.getLocalEulerAngles().data),
                    opacityMax: r.opacityMax,
                    scale: Array.from(r.plane.getLocalScale().data),
                    fadeDropOff: r.fadeDropOff,
                    texture: r.textureAssetUid
                }
            }
            ,
            i.removeLight = function t(e) {
                var i = this.root.children[e];
                i && (this.root.removeChild(i),
                i.destroy())
            }
            ,
            i.removeFlare = function t(e, i) {
                var s = e.flares[i];
                s && (e.removeChild(s.Bc),
                e.flares.splice(i, 1),
                s.Bc.destroy())
            }
            ,
            i.toJSON = function t() {
                return {
                    enabled: this.root.enabled,
                    data: this.root.children.map(function(t) {
                        return {
                            name: t.name,
                            position: Array.from(t.getLocalPosition().data),
                            rotation: Array.from(t.getLocalEulerAngles().data),
                            flares: t.flares.map(function(t) {
                                var e = t.Bc;
                                return {
                                    position: Array.from(e.getLocalPosition().data),
                                    rotation: Array.from(e.getLocalEulerAngles().data),
                                    opacityMax: t.opacityMax,
                                    scale: t.scale,
                                    fadeDropOff: t.fadeDropOff,
                                    texture: t.textureAssetUid
                                }
                            })
                        }
                    })
                }
            }
            ,
            i.toggle = function t(e) {
                this.root.enabled !== e && (e ? (this.target.Bc.addChild(this.root),
                this.app.on("update", this.onUpdate, this)) : (this.target.Bc.removeChild(this.root),
                this.app.off("update", this.onUpdate, this)),
                this.root.enabled = e,
                this.app.rd = !0)
            }
            ,
            i.destroy = function t() {
                this.toggle(!1),
                this.root.children.forEach(function(t) {
                    t.flares.forEach(function(t) {
                        t.plane.model.model.destroy(),
                        t.plane.destroy(),
                        t.Bc.destroy()
                    }),
                    t.flares.length = 0
                }),
                this.root.destroy()
            }
            ,
            i.onUpdate = function i() {
                var s = e.THRESHOLD_DOT
                  , n = e.THRESHOLD_RANGE
                  , r = this.camera.getPosition()
                  , a = this.camera.getRotation()
                  , h = this.directionToCamera;
                this.root.children.forEach(function(e, i) {
                    e.flares.forEach(function(e, i) {
                        var c, o, u, f = e.Bc.getPosition();
                        h.sub2(r, f).normalize(),
                        u = ((c = -1 * h.dot(e.Bc.forward)) - s) / n,
                        c < s ? e.meshInstance.visible = !1 : (o = t.I.clamp(u / e.fadeDropOff, 0, e.opacityMax),
                        e.plane.setRotation(a),
                        e.plane.rotateLocal(90, 0, 0),
                        e.meshInstance.visible = !0,
                        e.meshInstance.setParameter("material_opacity", o))
                    })
                })
            }
            ,
            e
        }();
        e.default = a,
        a.THRESHOLD_ANGLE = 90,
        a.THRESHOLD_DOT = Math.cos(a.THRESHOLD_ANGLE * t.I.q),
        a.THRESHOLD_RANGE = 1 - a.THRESHOLD_DOT
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(73)
          , n = a(i(472))
          , r = a(i(473));
        function a(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        var h = function() {
            function e(e, i) {
                var n, r, a;
                (void 0 === i && (i = {}),
                this.app = e,
                this.plane = new t.Entity("Plane"),
                this.plane.Il("model"),
                this.plane.model.model = this.createModel(),
                this.plane.model.layers = [s.LAYERID_FLARE],
                this.Bc = new t.Entity("Flare"),
                this.Bc.addChild(this.plane),
                this.meshInstance = this.plane.model.model.meshInstances[0],
                this.material = this.meshInstance.material,
                this.opacityMax = "number" == typeof i.opacityMax ? i.opacityMax : 1,
                this.fadeDropOff = "number" == typeof i.fadeDropOff ? Math.max(.1, i.fadeDropOff) : 1.8,
                this.textureAssetUid = i.texture,
                i.position) && (n = this.Bc).setLocalPosition.apply(n, i.position);
                i.rotation && (r = this.Bc).setLocalEulerAngles.apply(r, i.rotation);
                i.scale && (a = this.plane).setLocalScale.apply(a, i.scale)
            }
            var i = e.prototype;
            return i.createModel = function e() {
                var i = new t.Xh
                  , s = new t.Gh
                  , n = new t.Yh(new t.Gh,t.Pc(this.app.Br),new t.Sn);
                return n.material.blendType = t.$r,
                i.graph = s,
                i.graph.addChild(n.node),
                i.meshInstances.push(n),
                i
            }
            ,
            i.dg = function e() {
                var i = new t.uc;
                return i.depthTest = !1,
                i.depthWrite = !1,
                i.blend = !0,
                i.kn = 1,
                i.Un = 1,
                i.update(),
                i.Hh = function(e) {
                    var i = n.default
                      , s = "precision " + e.precision + " float;\n" + r.default;
                    this.shader = t.dn.createShaderFromCode(e, i, s, "flare")
                }
                ,
                i
            }
            ,
            i.Mc = function e() {
                for (var i = this.app, s = [-.5, .5, 0, .5, .5, 0, .5, -.5, 0, -.5, -.5, 0], n = [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1], r = [0, 1, 1, 1, 1, 0, 0, 0], a = [2, 1, 0, 0, 3, 2], h = t.yc(s, n, r, a), c = new t.an(i.Br,[{
                    semantic: t.Yi,
                    components: 3,
                    type: t.He
                }, {
                    semantic: t.Xi,
                    components: 3,
                    type: t.He
                }, {
                    semantic: t.Ki,
                    components: 4,
                    type: t.He
                }, {
                    semantic: t.SEMANTIC_TEXCOORD0,
                    components: 2,
                    type: t.He
                }, {
                    semantic: t.SEMANTIC_TEXCOORD1,
                    components: 2,
                    type: t.He
                }]), o = new t.hn(i.Br,c,s.length / 3), u = new t.rn(o), f = 0; f < s.length / 3; f++)
                    u.element[t.Yi].set(s[3 * f], s[3 * f + 1], s[3 * f + 2]),
                    u.element[t.Xi].set(n[3 * f], n[3 * f + 1], n[3 * f + 2]),
                    u.element[t.Ki].set(h[3 * f], h[3 * f + 1], h[3 * f + 2], h[3 * f + 3]),
                    u.element[t.SEMANTIC_TEXCOORD0].set(r[2 * f], r[2 * f + 1]),
                    u.element[t.SEMANTIC_TEXCOORD1].set(r[2 * f], r[2 * f + 1]),
                    u.next();
                u.end();
                var d = new t.un(i.Br,t.ri,a.length), l;
                new Uint8Array(d.lock()).set(a),
                d.unlock();
                var b = new t.jt;
                b.compute(s);
                var v = new t.Mesh;
                return v.nn = o,
                v.cn[0] = d,
                v.Zh[0].type = t.Hi,
                v.Zh[0].base = 0,
                v.Zh[0].count = a.length,
                v.Zh[0].indexed = !0,
                v.aabb = b,
                v
            }
            ,
            i.update = function t(e) {
                var i, s, n;
                "scale"in e && (i = this.plane).setLocalScale.apply(i, e.scale);
                "position"in e && (s = this.Bc).setLocalPosition.apply(s, e.position);
                "rotation"in e && (n = this.Bc).setLocalEulerAngles.apply(n, e.rotation)
            }
            ,
            e
        }();
        e.default = h
    }
    ).call(this, i(6))
}
, function(t, e) {
    t.exports = "attribute vec3 vertex_position;\nuniform mat4 matrix_model;\nuniform mat4 matrix_projection;\nuniform mat4 matrix_view;\nuniform mat4 matrix_viewInverse;\nuniform mat3 matrix_normal;\nuniform float uScale;\nvarying vec2 vUv0;\nvarying float vDist;\nvoid main(void) {\n    // model\n    vec3 modelPosition = vec3(matrix_model[3]);\n    vec3 modelForward = normalize(vec3(matrix_model[2]) * -1.0);\n\n    // camera\n    vec3 cameraPosition = vec3(matrix_viewInverse[3]);\n    vec3 directionToCamera = normalize(cameraPosition - modelPosition);\n\n    vec3 forward = vec3(matrix_view[0][2], matrix_view[1][2], matrix_view[2][2]);\n    vec3 normal = normalize(matrix_normal * vec3(0, 1, 0));\n    float d = max(0.0, (dot(forward, normal) - 0.35) * (1.0 / (1.0 - 0.35)));\n    mat4 modelMatrix = matrix_view * matrix_model;\n    modelMatrix[0][0] = 1.0;\n    modelMatrix[0][1] = 0.0;\n    modelMatrix[0][2] = 0.0;\n    modelMatrix[1][0] = 0.0;\n    modelMatrix[1][1] = 1.0;\n    modelMatrix[1][2] = 0.0;\n    modelMatrix[2][0] = 0.0;\n    modelMatrix[2][1] = 0.0;\n    modelMatrix[2][2] = 1.0;\n    vec4 positionW = modelMatrix * vec4(vertex_position * uScale * d, 1.0);\n    gl_Position = matrix_projection * positionW;\n    vUv0 = vertex_position.xy + vec2(0.5);\n    vUv0.y = 1.0 - vUv0.y;\n    vDist = -dot(directionToCamera, modelForward);\n}\n"
}
, function(t, e) {
    t.exports = "varying vec2 vUv0;\nvarying float vDist;\nuniform float uOpacityMax;\nuniform float uFadeDropOff;\nuniform sampler2D texture_diffuseMap;\nvoid main(void) {\n    vec3 diffuse = texture2D(texture_diffuseMap, vUv0).rgb;\n    float opacity = clamp(vDist * uFadeDropOff, 0.0, uOpacityMax);\n    if (diffuse.r * opacity < 0.0001) discard;\n\n    gl_FragColor = vec4(diffuse * opacity, 1.0);\n}\n"
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = h(i(54))
          , n = i(15)
          , r = h(i(101))
          , a = i(73);
        function h(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        var c = function() {
            function e(i, s) {
                var n;
                this.app = i,
                this.target = s,
                this.root = new t.Entity("Shadow Root"),
                (n = this.root).setLocalPosition.apply(n, e.DEFAULT_POSITION),
                this.plane = new t.Entity("Shadow"),
                this.plane.setLocalScale(e.SIZE_PLANE, 1, e.SIZE_PLANE),
                this.plane.Il("model", {
                    type: "plane",
                    castShadows: !1,
                    castShadowsLightmap: !1,
                    receiveShadows: !1,
                    layers: [a.LAYERID_SHADOW]
                }),
                this.planeMeshInstance = this.plane.model.model.meshInstances[0],
                this.planeMeshInstance.node.name = "Shadow Plane",
                this.root.addChild(this.plane),
                this.target.Bc.addChild(this.root)
            }
            var i = e.prototype;
            return i.generate = function t(e) {
                (0,
                s.default)(e.material) || (e.material.opacityMapSize = 512,
                this.app.assets.materials.link(e.material),
                this.materialAsset = this.app.assets.materials.add(e.material))
            }
            ,
            i.load = function t() {
                var e = this;
                return new Promise(function(t, i) {
                    if (!e.materialAsset)
                        return t();
                    e.app.assets.materials.load(e.materialAsset.id).then(function() {
                        e.planeMeshInstance.material = e.materialAsset.resource,
                        t()
                    }).catch(i)
                }
                )
            }
            ,
            i.destroy = function t() {
                var e = this;
                this.root.enabled = !1,
                this.root.destroy(),
                this.plane = null,
                this.planeMeshInstance = null,
                this.materialAsset.unload(),
                n.MATERIAL_TEXTURE_FIELDS.forEach(function(t) {
                    var i = e.materialAsset.data[t], s;
                    void 0 !== i && e.app.assets.get(i).getPreferredAsset().unload()
                })
            }
            ,
            e
        }();
        e.default = c,
        c.SIZE_PLANE = 8,
        c.DEFAULT_POSITION = [0, -.01, 0],
        c.vecA = new t.ut
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = h(i(49)), n = i(15), r = i(31), a;
    function h(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function c(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var o = function(t) {
        function e(e, i) {
            var s;
            return (s = t.call(this) || this).app = e,
            s.target = i,
            s._exteriorIndex = 0,
            s._interiorIndex = 0,
            s
        }
        c(e, t);
        var i = e.prototype;
        return i.generate = function t(e, i) {
            var n = this;
            i.filter(function(t) {
                return !t.used
            }).forEach(function(t) {
                return n.app.assets.textures.add((0,
                r.parseTextureData)(t))
            }),
            e.forEach(function(t) {
                if (0 === t.materials.length) {
                    var e = {
                        uid: t.uid,
                        name: t.name,
                        materials: (0,
                        s.default)(n.target.mapping).map(function(t) {
                            return {
                                mapping: t,
                                asset: n.app.assets.materials.get(t)
                            }
                        }),
                        type: t.type,
                        category: t.category,
                        loading: !1,
                        loaded: !0
                    };
                    e.color = n.getColor(e, t.main_material),
                    n._list.push(e)
                } else
                    n.add(t, !1)
            }),
            this.updateCache()
        }
        ,
        i.add = function t(e, i) {
            var s = this;
            void 0 === i && (i = !0);
            var n = {
                uid: e.uid,
                name: e.name,
                materials: e.materials.map(function(t) {
                    var e = (0,
                    r.parseMaterialData)(t);
                    return e.uid = "",
                    s.app.assets.materials.link(e),
                    {
                        mapping: t.uid,
                        asset: s.app.assets.materials.add(e)
                    }
                }),
                type: e.type,
                category: e.category,
                loading: !1,
                loaded: !1
            };
            n.color = this.getColor(n, e.main_material),
            this._list.push(n),
            i && this.updateCache()
        }
        ,
        i.remove = function t(e, i) {
            var s = this;
            void 0 === i && (i = !0);
            var n = this.getIndex(e), r;
            this.get(e).materials.forEach(function(t) {
                var e = t.asset;
                e.unload(),
                s.app.assets.remove(e)
            }),
            this._list.splice(n, 1),
            i && this.updateCache()
        }
        ,
        i.load = function t(e) {
            var i = this;
            return new Promise(function(t, s) {
                var n = i.get(e);
                if (n.loaded)
                    t(n);
                else {
                    var r = 0
                      , a = n.materials.length
                      , h = function e() {
                        ++r === a && (n.loading = !1,
                        n.loaded = !0,
                        t(n))
                    };
                    n.loading = !0,
                    n.materials.forEach(function(t) {
                        var e = t.asset;
                        i.app.assets.materials.load(e.id).then(h)
                    })
                }
            }
            )
        }
        ,
        i.switch = function t(e) {
            var i = this
              , s = this.get(e)
              , n = this.getIndex(e);
            s && s.loaded && (0 !== s.category && 1 !== s.category || (this._interiorIndex = n),
            0 !== s.category && 2 !== s.category || (this._exteriorIndex = n),
            s.materials.forEach(function(t) {
                var e = i.target.mapping[t.mapping];
                e && e.forEach(function(e) {
                    i.target.model.meshInstances[e].material = t.asset.resource
                })
            }),
            this.app.scenes.switch(this.app.scenes.current.uid),
            this.app.assets.useModelProgressive && this.target.setTextureSize(this.app.assets.useModelProgressiveSize))
        }
        ,
        i.getColor = function t(e, i) {
            if (!i)
                return "Not set main material";
            var s = e.materials.find(function(t) {
                return t.mapping === i
            });
            return (s = s && s.asset.data.diffuse ? s.asset.data.diffuse : [1, 1, 1, 1]).map(function(t, e) {
                return 3 === e ? t : parseInt(255 * t)
            })
        }
        ,
        e
    }(h(i(101)).default);
    e.default = o
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = n(i(54));
        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function r(t, e) {
            for (var i = 0; i < e.length; i++) {
                var s = e[i];
                s.enumerable = s.enumerable || !1,
                s.configurable = !0,
                "value"in s && (s.writable = !0),
                Object.defineProperty(t, s.key, s)
            }
        }
        function a(t, e, i) {
            return e && r(t.prototype, e),
            i && r(t, i),
            t
        }
        var h = function() {
            function e(i, s) {
                this.app = i,
                this.target = s,
                this.keys = ["FL", "FR", "RL", "RR"],
                this.currentTime = 0,
                this.duration = 1,
                this.groups = this.keys.map(function(i) {
                    return {
                        status: e.STATUS_CLOSED,
                        action: e.ip,
                        percent: 0,
                        factor: "FL" === i || "RL" === i ? -1 : 1,
                        aabb: new t.jt,
                        meshInstances: [],
                        worldTransforms: [],
                        localTransforms: [],
                        targetPosition: new t.ut,
                        targetRotation: new t.ut
                    }
                })
            }
            var i = e.prototype;
            return i.prepare = function i() {
                var s = this;
                this.target.Bc.model.model.meshInstances.filter(function(t) {
                    var i = t.node.name
                      , s = e.Xg
                      , n = e.Kg
                      , r = e.Qg
                      , a = e.Jg;
                    return i.startsWith(s) || i.startsWith(n) || i.startsWith(r) || i.startsWith(a)
                }).forEach(function(i) {
                    var n, r;
                    i.node.name.startsWith(e.Xg) ? r = 0 : i.node.name.startsWith(e.Kg) ? r = 1 : i.node.name.startsWith(e.Qg) ? r = 2 : i.node.name.startsWith(e.Jg) && (r = 3),
                    i.material.cull = 0,
                    s.groups[r].meshInstances.push(i),
                    s.groups[r].worldTransforms.push((new t.zt).copy(i.node.getWorldTransform())),
                    s.groups[r].localTransforms.push((new t.zt).copy(i.node.getLocalTransform()))
                }),
                this.groups.forEach(function(t, e) {
                    for (var i = t.aabb, n = t.meshInstances, r = 0; r < n.length; r++) {
                        var a = n[r];
                        0 === r ? i.copy(a.aabb) : i.add(a.aabb)
                    }
                    s.reset(e)
                })
            }
            ,
            i.generate = function t(e) {
                var i = this;
                (0,
                s.default)(e) || e.data.forEach(function(t, e) {
                    var s, n, r = i.groups[e];
                    (s = r.targetPosition).set.apply(s, t.targetPosition),
                    (n = r.targetRotation).set.apply(n, t.targetRotation)
                })
            }
            ,
            i.reset = function i(s) {
                var n = 1.05
                  , r = 2.05
                  , a = .05
                  , h = e.vecA
                  , c = e.vecB
                  , o = e.vecC
                  , u = this.groups[s]
                  , f = u.aabb
                  , d = u.targetPosition
                  , l = u.targetRotation;
                h.copy(f.center).add(f.halfExtents),
                c.copy(f.center).add(o.set(-f.halfExtents.x, -f.halfExtents.y, f.halfExtents.z)),
                o.sub2(h, c);
                var b = Math.acos(o.normalize().dot(t.ut.UP)) * t.I.tt;
                switch (s) {
                case 0:
                case 2:
                    d.set(f.center.x + 1.05 * f.halfExtents.x, f.center.y - 2.05 * f.halfExtents.y, f.center.z + .05 * f.halfExtents.z),
                    l.set(0, 0, -b);
                    break;
                case 1:
                case 3:
                    d.set(f.center.x - 1.05 * f.halfExtents.x, f.center.y - 2.05 * f.halfExtents.y, f.center.z + .05 * f.halfExtents.z),
                    l.set(0, 0, b)
                }
            }
            ,
            i.toggle = function t(i) {
                void 0 === i && (i = []),
                this.groups.forEach(function(t, s) {
                    var n = i[s] ? e.sp : e.ip;
                    n === e.sp && t.status !== e.STATUS_CLOSED ? t.status = e.STATUS_CLOSED : n === e.ip && t.status !== e.STATUS_OPENED && (t.status = e.STATUS_OPENED),
                    t.action = n
                }),
                this.app.off("update", this.onUpdate, this),
                this.app.on("update", this.onUpdate, this)
            }
            ,
            i.destroy = function t() {
                this.app.off("update", this.onUpdate, this)
            }
            ,
            i.onUpdate = function i(s) {
                var n, r = this.keys, a = e.vecA, h = e.vecB, c = e.vecC, o = e.vecD, u = e.quatA, f = e.quatB, d = e.quatC, l = e.quatD, b = e.matA, v = e.matB, m = e.matC, g = 0, p = this.target.doors, w = this.target.Bc.getWorldTransform();
                n = s / this.duration,
                this.groups.forEach(function(i, s) {
                    var r = i.action
                      , l = i.aabb
                      , x = i.factor
                      , z = i.meshInstances
                      , _ = i.worldTransforms
                      , A = i.localTransforms
                      , y = i.percent
                      , M = i.targetPosition
                      , S = i.targetRotation
                      , C = p.groups[s];
                    i.status !== r && (r === e.sp ? y += n : y -= n,
                    y = t.I.st(0, 1, y),
                    r === e.sp && 1 === y ? i.status = e.STATUS_OPENED : r === e.ip && 0 === y && (i.status = e.STATUS_CLOSED),
                    i.percent = y,
                    a.copy(C.pivot),
                    h.copy(a).scale(-1),
                    g = t.I.st(0, p.maxAngle, C.percent) * C.factor,
                    u.yt(t.ut.UP, g),
                    b.Mt(h, t.bt.IDENTITY, t.ut.ONE),
                    v.Mt(t.ut.ZERO, u, t.ut.ONE),
                    m.Mt(a, t.bt.IDENTITY, t.ut.ONE),
                    m.mul(v).mul(b),
                    b.copy(w).mul(m),
                    m.copy(b),
                    z.forEach(function(e, i) {
                        b.copy(e.node.getWorldTransform()),
                        v.copy(_[i]),
                        v.getTranslation(h),
                        c.copy(M).sub(l.center),
                        o.st(h, c, y),
                        u.Ct(v),
                        f.vt(S.x, S.y, S.z),
                        d.Ot(u, f, y),
                        a.copy(l.center),
                        h.copy(a).scale(-1),
                        c.copy(e.node.getLocalScale()),
                        b.Mt(h, t.bt.IDENTITY, c).mul(v),
                        v.Mt(o, d, c).mul(b),
                        b.Mt(a, t.bt.IDENTITY, c).mul(v),
                        A[i].copy(b),
                        m.mul(b),
                        m.getTranslation(a),
                        m.getEulerAngles(h),
                        e.node.setPosition(a),
                        e.node.setEulerAngles(h)
                    }))
                }),
                this.groups.every(function(t) {
                    return t.status === t.action
                }) && this.app.off("update", this.onUpdate, this),
                this.app.rd = !0
            }
            ,
            a(e, [{
                key: "status",
                get: function t() {
                    return this.groups.map(function(t) {
                        return !!t.status
                    })
                }
            }, {
                key: "actions",
                get: function t() {
                    return this.groups.map(function(t) {
                        return !!t.action
                    })
                }
            }]),
            e
        }();
        e.default = h,
        h.Xg = "cm_lf_b",
        h.Kg = "cm_rf_b",
        h.Qg = "cm_lr_b",
        h.Jg = "cm_rr_b",
        h.KEYS = ["FL", "FR", "RL", "RR"],
        h.STATUS_CLOSED = 0,
        h.STATUS_OPENED = 1,
        h.ip = 0,
        h.sp = 1,
        h.vecA = new t.ut,
        h.vecB = new t.ut,
        h.vecC = new t.ut,
        h.vecD = new t.ut,
        h.quatA = new t.bt,
        h.quatB = new t.bt,
        h.quatC = new t.bt,
        h.quatD = new t.bt,
        h.matA = new t.zt,
        h.matB = new t.zt,
        h.matC = new t.zt
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = c(i(54))
          , n = c(i(49))
          , r = c(i(71))
          , a = c(i(478))
          , h = c(i(479));
        function c(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function o(t, e) {
            for (var i = 0; i < e.length; i++) {
                var s = e[i];
                s.enumerable = s.enumerable || !1,
                s.configurable = !0,
                "value"in s && (s.writable = !0),
                Object.defineProperty(t, s.key, s)
            }
        }
        function u(t, e, i) {
            return e && o(t.prototype, e),
            i && o(t, i),
            t
        }
        var f = function() {
            function e(e, i) {
                this.app = e,
                this.target = i,
                this.root = new t.Entity("Billboard Manager Root"),
                this.root.enabled = !1,
                this.camera = null,
                this.target.Bc.addChild(this.root),
                this._list = [],
                this._bits = r.default.BIT_ATTRIBUTE
            }
            var i = e.prototype;
            return i.setCamera = function t(e) {
                this.camera = e
            }
            ,
            i.generate = function t(e) {
                var i = this;
                if (!(0,
                s.default)(e)) {
                    var h = [[], []]
                      , c = this.target.aabb
                      , o = this.target.Bc.getPosition();
                    (0,
                    n.default)(e.data).forEach(function(t) {
                        var i = 0;
                        switch (t) {
                        case "train":
                        case "level":
                        case "price":
                            i = 1;
                            break;
                        default:
                            i = 0
                        }
                        h[i].push({
                            label: a.default.zp[t],
                            text: e.data[t]
                        })
                    }),
                    h.forEach(function(t, e) {
                        var s;
                        i.add(r.default.BIT_ATTRIBUTE, t).Bc.setLocalPosition(o.x, c.center.y + c.halfExtents.y, c.center.z + c.halfExtents.z * (0 === e ? 1 : -1))
                    }),
                    e.enabled && this.toggle(e.enabled)
                }
            }
            ,
            i.add = function t(e, i) {
                var s, n;
                switch (e) {
                case r.default.BIT_ATTRIBUTE:
                    n = new a.default(this.app);
                    break;
                case r.default.BIT_IDENTITY:
                    var c = this.target.aabb
                      , o = this.target.Bc.getPosition();
                    (n = new h.default(this.app,i)).defaultPosition = [o.x, c.center.y + c.halfExtents.y + .5, o.z],
                    (s = n.Bc).setLocalPosition.apply(s, n.defaultPosition)
                }
                return n.generate(i),
                this.root.addChild(n.Bc),
                this._list.push(n),
                n
            }
            ,
            i.remove = function t(e) {
                var i = this._list[e];
                this.root.removeChild(i.Bc),
                i.Bc.enabled = !1,
                i.Bc.destroy(),
                i.texture.destroy(),
                this._list.splice(e, 1)
            }
            ,
            i.toggle = function t(e) {
                this.root.enabled !== e && (e ? this.app.on("update", this.onUpdate, this) : this.app.off("update", this.onUpdate, this),
                this.root.enabled = e,
                this.onBitsChange(),
                this.app.rd = !0)
            }
            ,
            i.toggleBit = function t(e, i) {
                i ? this._bits |= e : this._bits &= ~e,
                this.onBitsChange(),
                this.app.rd = !0
            }
            ,
            i.destroy = function t() {
                this.toggle(!1);
                for (var e = this._list.length, i = 0; i < e; i++)
                    this.remove(0);
                this.root.destroy()
            }
            ,
            i.onUpdate = function i(s) {
                if (0 !== this._list.length) {
                    var n = e.vecA
                      , a = e.vecB
                      , h = this.camera.Bc
                      , c = h.getEulerAngles()
                      , o = 1280 / (2 * Math.tan(h.camera.fov * t.I.q / 2));
                    n.copy(h.getPosition()),
                    this._list.forEach(function(t, e) {
                        if (t.Bc.setEulerAngles(c.z, c.y, c.z),
                        t.bit === r.default.BIT_IDENTITY) {
                            a.copy(t.Bc.getPosition());
                            var i = a.sub(n).dot(h.forward)
                              , s = Math.max(1e-4, i / o * 150)
                              , u = t.defaultPosition;
                            s = Math.max(s, 1),
                            t.Bc.setLocalPosition(u[0], u[1] + (s - 1) / 4, u[2]),
                            t.Bc.element.width = s,
                            t.Bc.element.height = s / 2
                        }
                    })
                }
            }
            ,
            i.onBitsChange = function t() {
                var e = this;
                this._list.forEach(function(t) {
                    t.Bc.enabled = (e._bits & t.bit) > 0
                })
            }
            ,
            u(e, [{
                key: "bits",
                get: function t() {
                    return this._bits
                },
                set: function t(e) {
                    this._bits = e,
                    this.onBitsChange(),
                    this.app.rd = !0
                }
            }]),
            e
        }();
        e.default = f,
        f.vecA = new t.ut,
        f.vecB = new t.ut
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = n(i(71));
    function n(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function r(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var a = function(t) {
        function e(e) {
            var i;
            return (i = t.call(this, e) || this).bit = s.default.BIT_ATTRIBUTE,
            i
        }
        var i;
        return r(e, t),
        e.prototype.onDraw = function t(e) {
            var i = this.texture.getSource()
              , s = i.getContext("2d")
              , n = this.app.Br.maxPixelRatio
              , r = this.texture
              , a = 14 * n + "px PingFang SC, Microsoft Yahei, Aria"
              , h = {
                height: 13,
                separate: 10,
                vertical: 20,
                horizontal: 30,
                lineHeight: 10,
                lineWidth: 2,
                linePadding: 6,
                minWidth: 260,
                maxWidth: 600
            };
            for (var c in h)
                h[c] *= n;
            s.font = a;
            var o = []
              , u = 0
              , f = 0
              , d = 0
              , l = e.length;
            for (u = 0; u < l; u++) {
                f = s.measureText(e[u].label + ":").width;
                for (var b = e[u].text.split(""), v = 0, m = b.length; v < m; v++) {
                    var g = b.slice(0, v);
                    if ((d = s.measureText(g.join("")).width) + f >= h.maxWidth) {
                        g.splice(v - 1, 1, "..."),
                        e[u].text = g.join("");
                        break
                    }
                }
                o.push({
                    label: f,
                    text: d
                })
            }
            for (f = Math.max.apply(Math, o.map(function(t) {
                return t.label + t.text
            })),
            f = Math.max(h.minWidth, f + 2 * h.horizontal + h.separate),
            d = l * h.height + (l - 1) * h.lineHeight + 2 * h.vertical,
            i.width = f,
            i.height = d,
            r._width = f,
            r._height = d,
            s.font = a,
            s.fillStyle = "rgba(0, 0, 22, 0.7)",
            s.fillRect(h.lineWidth, 0, i.width - h.lineWidth, i.height),
            s.lineWidth = 2 * h.lineWidth,
            s.strokeStyle = "#FFD5A2",
            s.beginPath(),
            s.moveTo(h.lineWidth, h.linePadding),
            s.lineTo(h.lineWidth, d - h.linePadding),
            s.stroke(),
            u = 0; u < l; u++)
                f = h.horizontal,
                d = u * h.height + h.height + h.vertical + u * h.lineHeight,
                s.fillStyle = "#FFD5A2",
                s.fillText(e[u].label + ":", f, d),
                s.fillStyle = "#ffffff",
                s.fillText(e[u].text, f + o[u].label + h.separate, d);
            r.upload(),
            this.Bc.element.width = r._width / n / 200,
            this.Bc.element.height = r._height / n / 200
        }
        ,
        e
    }(s.default);
    e.default = a,
    a.zp = {
        sweptVolume: "排量(升)",
        gearbox: "变速箱",
        driver: "驱动方式",
        intake: "进气形式",
        train: "车系名称",
        level: "级别",
        price: "厂商指导价"
    }
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = r(i(71))
          , n = r(i(154));
        function r(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function a(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var h = function(e) {
            function i(t, i) {
                var n;
                return (n = e.call(this, t) || this).bit = s.default.BIT_IDENTITY,
                n.data = i,
                n
            }
            var r;
            return a(i, e),
            i.prototype.onDraw = function e(i) {
                var s = this.texture.getSource(), r = s.getContext("2d"), a = this.app.Br.maxPixelRatio, h = this.texture, c = 18 * a, o = 128 * a, u = 64 * a, f = c + "px PingFang SC, Microsoft Yahei, Aria", d, l = this.app.assets.textures.get(n.default.IdentityBillboard.uid).resource.getSource();
                s.width = o,
                s.height = u,
                h._width = o,
                h._height = u,
                h._pot = t.I.rt(o) && t.I.rt(u),
                r.drawImage(l, 0, 0, o, u),
                r.font = f,
                r.textAlign = "center",
                r.fillStyle = "#FFD5A2",
                r.fillText(i, o / 2, u / 2 + c / 2),
                h.upload()
            }
            ,
            i
        }(s.default);
        e.default = h
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = r(i(55)), n;
    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function a(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var h = function(t) {
        function e(e) {
            var i;
            return (i = t.call(this, e) || this).bit = s.default.BIT_INVERTED_DIALOG,
            i
        }
        return a(e, t),
        e
    }(r(i(367)).default);
    e.default = h
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = n(i(482));
    function n(t) {
        if (t && t.__esModule)
            return t;
        var e = {};
        if (null != t)
            for (var i in t)
                if (Object.prototype.hasOwnProperty.call(t, i)) {
                    var s = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(t, i) : {};
                    s.get || s.set ? Object.defineProperty(e, i, s) : e[i] = t[i]
                }
        return e.default = t,
        e
    }
    function r(t, e) {
        for (var i = 0; i < e.length; i++) {
            var s = e[i];
            s.enumerable = s.enumerable || !1,
            s.configurable = !0,
            "value"in s && (s.writable = !0),
            Object.defineProperty(t, s.key, s)
        }
    }
    function a(t, e, i) {
        return e && r(t.prototype, e),
        i && r(t, i),
        t
    }
    var h = function() {
        function t(t) {
            this.app = t,
            this.version = 1
        }
        var e = t.prototype;
        return e.getOptions = function t() {
            return this.interface.getOptions.call(this.app)
        }
        ,
        e.getState = function t() {
            return this.interface.getState.call(this.app)
        }
        ,
        e.setState = function t(e) {
            this.interface.setState.call(this.app, e)
        }
        ,
        a(t, [{
            key: "interface",
            get: function t() {
                switch (this.version) {
                case 1:
                default:
                    return s
                }
            }
        }]),
        t
    }();
    e.default = h
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.getOptions = b,
    e.getState = v,
    e.setState = m;
    var s = l(i(483))
      , n = l(i(485))
      , r = l(i(105))
      , a = l(i(151))
      , h = l(i(49))
      , c = l(i(55))
      , o = l(i(71))
      , u = l(i(369))
      , f = l(i(147))
      , d = l(i(370));
    function l(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function b() {
        var t = this
          , e = {
            accesskey: "string",
            timestamp: "number",
            signature: "string"
        }
          , i = this.differ.target
          , s = {
            orientation: [0, 90, -90],
            moving: [!0, !1],
            annotations: [!0, !1],
            attributes: [!0, !1],
            doors: {
                annotations: [!0, !1],
                status: [[!0, !1], [!0, !1], [!0, !1], [!0, !1]]
            },
            headlight: [!0, !1],
            size: [!0, !1],
            visible: [!0, !1],
            rotate: {
                enabled: [!0, !1],
                speed: "number"
            },
            differ: {
                target: ["uid", null],
                merge: [!0, !1],
                measure: [!0, !1],
                size: [!0, !1],
                headlight: [!0, !1],
                box: [!0, !1],
                visible: [!0, !1],
                distance: "number",
                sign: e,
                interior: i ? i.skus._list.filter(function(t) {
                    return 0 === t.category || 1 === t.category
                }).map(function(t) {
                    return (0,
                    r.default)(t, ["uid", "name"])
                }) : null,
                exterior: i ? i.skus._list.filter(function(t) {
                    return 0 === t.category || 2 === t.category
                }).map(function(t) {
                    return (0,
                    r.default)(t, ["uid", "name"])
                }) : null,
                wheel: i ? i.wheels._whitelist.map(function(t) {
                    return (0,
                    r.default)(t, ["uid", "name"])
                }).map(function(t) {
                    return (0,
                    a.default)(t, {
                        sign: e
                    })
                }) : null
            },
            speeder: {
                mode: [0, 1].map(function(e) {
                    return i ? !!t.model.speeder.data[e] & !!i.speeder.data[e] ? e : null : t.model.speeder.data[e] ? e : null
                }).filter(function(t) {
                    return null !== t
                }),
                action: [-1, 0, 1],
                speed: "number"
            },
            wheel: this.model.wheels._whitelist.map(function(t) {
                return (0,
                r.default)(t, ["uid", "name"])
            }).map(function(t) {
                return (0,
                a.default)(t, {
                    sign: e
                })
            }),
            interior: this.model.skus._list.filter(function(t) {
                return 0 === t.category || 1 === t.category
            }).map(function(t) {
                return (0,
                r.default)(t, ["uid", "name", "color"])
            }),
            exterior: this.model.skus._list.filter(function(t) {
                return 0 === t.category || 2 === t.category
            }).map(function(t) {
                return (0,
                r.default)(t, ["uid", "name", "color"])
            }),
            scene: this.scenes._list.map(function(t) {
                return {
                    uid: t.uid,
                    name: t.name
                }
            }),
            view: this.camera.views._currentIndex > -1 ? this.camera.views._list.filter(function(t) {
                return t.group
            }).map(function(t) {
                return {
                    uid: t.uid,
                    name: t.name
                }
            }) : null,
            panorama: this.scenes._list.filter(function(t) {
                return "panorama" === t.type
            }).map(function(t) {
                return {
                    target: t.uid,
                    name: t.name,
                    anchors: [!0, !1],
                    annotations: [!0, !1]
                }
            }),
            ar: {
                enabled: [!0, !1],
                center: [!0, !1],
                support: this.camera.Bc.script.arCamera.isUsermedia()
            }
        };
        return this.permissions.getFeatures(s)
    }
    function v() {
        var t = this.model.wheels
          , e = this.model.skus
          , i = this.model.doors
          , s = this.model.annotations
          , n = this.differ.target
          , a = this.currentCamera || 0
          , h = this.scenes.current
          , u = this.camera.views._list[this.camera.views._currentIndex];
        return {
            ar: {
                enabled: this.camera.Bc.script.arCamera.enabled
            },
            camera: u ? {
                uid: u.uid,
                name: u.name
            } : null,
            orientation: this.camera.Bc.script.orbitCamera.orientation,
            moving: t._isMoving,
            annotations: {
                items: this.model.annotations._list.length,
                enabled: this.model.annotations.root.enabled
            },
            attributes: {
                items: this.model.billboards._list.filter(function(t) {
                    return t.bit === o.default.BIT_ATTRIBUTE
                }).length,
                enabled: this.model.billboards.root.enabled
            },
            doors: {
                status: this.model.doors.status,
                annotations: (this.model.annotations.bits & c.default.BIT_DOOR) > 0
            },
            headlight: this.model.headlights.root.enabled,
            size: this.model.sizeMarker.root.enabled,
            visible: this.model.enabled,
            rotate: {
                enabled: this.camera.Bc.script.cameraRotate.enabled,
                speed: this.camera.Bc.script.cameraRotate.speed
            },
            differ: {
                target: n ? n.uid : null,
                merge: this.differ.merge,
                measure: this.differ.measure,
                box: this.differ.box,
                headlight: !!n && n.headlights.root.enabled,
                visible: !n || n.enabled,
                distance: 2 * this.differ.halfDistance,
                size: !!n && n.sizeMarker.root.enabled,
                exterior: n ? (0,
                r.default)(n.skus._list[n.skus._exteriorIndex], ["uid", "name"]) : null,
                interior: n ? (0,
                r.default)(n.skus._list[n.skus._interiorIndex], ["uid", "name"]) : null,
                wheel: n ? (0,
                r.default)(n.wheels._list[n.wheels._currentIndex], ["uid", "name"]) : null
            },
            speeder: {
                status: this.speeder.status,
                mode: this.speeder.mode
            },
            wheel: (0,
            r.default)(t._list[t._currentIndex], ["uid", "name"]),
            exterior: (0,
            r.default)(e._list[e._exteriorIndex], ["uid", "name"]),
            interior: (0,
            r.default)(e._list[e._interiorIndex], ["uid", "name"]),
            scene: (0,
            r.default)(this.scenes.current, ["uid", "name"]),
            skybox: (0,
            r.default)(this.scenes.current, ["uid", "name"]),
            view: (0,
            r.default)(this.camera.views.current, ["uid", "name"]),
            panorama: h && "panorama" === h.type ? {
                target: h.uid,
                name: h.name,
                anchors: h.annotations.root.enabled && (h.annotations.bits & c.default.BIT_ANCHOR) > 0,
                annotations: h.annotations.root.enabled && (h.annotations.bits & c.default.BIT_DIALOG) > 0
            } : null
        }
    }
    function m(t) {
        var e = this;
        function i(t) {
            return t.uid ? t.uid : t.name ? t.name : t
        }
        function r(t) {}
        function a(t, e) {
            var i = this;
            t.skus.load(e).then(function() {
                t.skus.switch(e),
                i.rd = !0
            }).catch(r)
        }
        function o(t, e, i) {
            var s = this;
            t.wheels.request(e, i).then(function() {
                t.wheels.load(e).then(function() {
                    t.wheels.switch(e),
                    s.rd = !0
                }).catch(r)
            }).catch(r)
        }
        function f(t) {
            var e = this;
            void 0 !== t.mode && (this.speeder.mode = t.mode);
            var i = this.getOptions()
              , s = this.speeder.scene;
            i.speeder.mode.includes(this.speeder.mode) && (this.model.doors.toggle([!1, !1, !1, !1]),
            this.scenes.load(s.uid).then(function() {
                switch (void 0 !== t.speed && (e.scenes.switch(s.uid),
                e.speeder.speed = t.speed),
                t.action) {
                case -1:
                    e.speeder.reset();
                    break;
                case 0:
                    e.speeder.reset(),
                    e.speeder.stop(),
                    s.prevState.scene && e.scenes.switch(s.prevState.scene.uid);
                    break;
                case 1:
                    e.scenes.switch(s.uid),
                    e.speeder.reset(),
                    e.speeder.start()
                }
            }))
        }
        t && ((0,
        h.default)(t).forEach(function(h) {
            var u = null != t[h] ? i(t[h]) : null;
            switch (h) {
            case "ar":
                t[h].enabled ? (e.camera.Bc.script.arCamera.enabled || e.camera.views.switch("3aa22853-90c3-412b-880b-cc5573b27708"),
                t[h].center && e.camera.Bc.script.arCamera.setModelCenter()) : e.camera.views.switch(e.camera.views._list[0].uid);
                break;
            case "view":
                e.camera.views._currentIndex > -1 && e.camera.views.switch(u);
                break;
            case "orientation":
                e.camera.Bc.script.orbitCamera.orientation = u;
                break;
            case "wheel":
                o.call(e, e.model, u, t[h].sign);
                break;
            case "panorama":
                if (u && u.target) {
                    e.scenes.load(u.target).then(function() {
                        e.store.annotations.select(null),
                        e.scenes.switch(u.target),
                        e.scenes.current.annotations.bits = (u.annotations ? c.default.BIT_DIALOG : 0) | (u.anchors ? c.default.BIT_ANCHOR : 0),
                        e.rd = !0
                    });
                    break
                }
                if (0 !== e.configuration._data.entryMode) {
                    e.configuration._data.entryMode = 0,
                    e.load().then(function() {
                        e.initQuery()
                    });
                    break
                }
                u = d.default.lastNotParnoramaScene;
            case "skybox":
            case "scene":
                if (!u)
                    break;
                e.scenes.load(u).then(function() {
                    e.scenes.switch(u),
                    e.rd = !0
                });
                break;
            case "interior":
            case "exterior":
                u && a.call(e, e.model, u, r);
                break;
            case "headlight":
                if (e.differ.merge)
                    return;
                e.model.headlights.toggle(u);
                break;
            case "moving":
                u ? (e.model.wheels.move(),
                e.differ.target && e.differ.target.wheels.move()) : (e.model.wheels.stop(),
                e.differ.target && e.differ.target.wheels.stop());
                break;
            case "size":
                e.model.sizeMarker.toggle(u);
                break;
            case "doors":
                u.status && e.model.doors.toggle(u.status),
                e.model.annotations.toggleBit(c.default.BIT_DOOR, u.annotations);
                break;
            case "windows":
                u.status && e.model.windows.toggle(u.status);
                break;
            case "annotations":
                (0,
                s.default)(u) ? (void 0 !== u.enabled && e.model.annotations.toggleBit(c.default.BIT_DIALOG, u.enabled),
                ["customDialog", "customModal", "modalOpen"].forEach(function(t) {
                    void 0 !== u[t] && e.store.annotations.toggle(t, u[t])
                })) : e.model.annotations.toggleBit(c.default.BIT_DIALOG, u);
                break;
            case "attributes":
                e.model.billboards.toggle(u);
                break;
            case "rotate":
                e.camera.Bc.script.cameraRotate.enabled = !!u.enabled,
                (0,
                n.default)(u.speed) && (e.camera.Bc.script.cameraRotate.speed = u.speed);
                break;
            case "visible":
                e.model.enabled = !!u;
                break;
            case "shadow":
                e.model.shadow.root.enabled = u,
                e.differ.target && (e.differ.target.shadow.root.enabled = u),
                e.rd = !0;
                break;
            case "ground":
                e.ground.root.enabled = u,
                e.rd = !0;
                break;
            case "speeder":
                t.differ && t.differ.target || f.call(e, u);
                break;
            case "differ":
                if (e.getState().panorama)
                    break;
                if (u.target)
                    e.model.doors.toggle([!1, !1, !1, !1]),
                    e.differ.add(u.target, t[h].sign).then(function() {
                        e.differ.toggle(!0),
                        e.differ.target.enabled = void 0 === u.visible || u.visible,
                        e.differ.merge = !!u.merge,
                        e.differ.measure = !!u.measure,
                        e.differ.box = !!u.box,
                        e.differ.size = !!u.size,
                        e.model.sizeMarker.align = -1,
                        e.differ.target.enabled && (e.differ.target.headlights.toggle(!!u.headlight),
                        e.differ.target.billboards.toggle(!!u.attributes)),
                        (0,
                        n.default)(u.distance) && (e.differ.halfDistance = u.distance / 2),
                        u.wheel && o.call(e, e.differ.target, i(u.wheel), u.wheel.sign),
                        u.interior && a.call(e, e.differ.target, i(u.interior)),
                        u.exterior && a.call(e, e.differ.target, i(u.exterior)),
                        e.speeder._isRunning ? (e.speeder.reset(),
                        e.speeder.stop(),
                        e.speeder.scene.updateSize(),
                        void 0 !== e.differ.target.speeder.data[e.speeder.mode] && (e.differ._timerEnabled ? e.once("jmyd1d1d:differ:timer:end", function() {
                            e.speeder.start()
                        }) : e.speeder.start())) : e.model.wheels._isMoving && e.differ.target.wheels.move(),
                        t.speeder && f.call(e, t.speeder),
                        e.rd = !0
                    });
                else {
                    if (!e.differ.target)
                        return;
                    e.speeder.distance > 0 && e.speeder.reset(),
                    e.differ.merge = !1,
                    e.differ.measure = !1,
                    e.differ.box = !1,
                    e.differ.size = !1,
                    e.model.sizeMarker.align = 1,
                    e.differ.toggle(!1),
                    e.differ.remove(),
                    e.scenes.current === e.speeder.scene && e.speeder.scene.updateSize(),
                    e.rd = !0
                }
            }
        }),
        this.enableRecorder && u.default.saveStateChange())
    }
}
, function(t, e, i) {
    var s = i(360)
      , n = i(484)
      , r = i(155)
      , a = "[object Object]"
      , h = Function.prototype
      , c = Object.prototype
      , o = h.toString
      , u = c.hasOwnProperty
      , f = o.call(Object);
    function d(t) {
        if (!r(t) || s(t) != a)
            return !1;
        var e = n(t);
        if (null === e)
            return !0;
        var i = u.call(e, "constructor") && e.constructor;
        return "function" == typeof i && i instanceof i && o.call(i) == f
    }
    t.exports = d
}
, function(t, e, i) {
    var s, n = i(149)(Object.getPrototypeOf, Object);
    t.exports = n
}
, function(t, e, i) {
    var s = i(360)
      , n = i(155)
      , r = "[object Number]";
    function a(t) {
        return "number" == typeof t || n(t) && s(t) == r
    }
    t.exports = a
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = o(i(487)), n = o(i(488)), r = o(i(361)), a = o(i(105)), h = o(i(49)), c;
    function o(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    var u = o(i(147)).default.map(function(t) {
        return t.uid
    })
      , f = {
        5: ["orientation", "moving", "annotations", "headlight", "size", "visible", "rotate", "differ", "wheel", "interior", "exterior", "skybox", "scene"],
        9: ["explode"],
        10: ["panorama"],
        11: ["doors"],
        12: ["speeder", "attributes"],
        14: ["view"],
        15: ["ar"]
    }
      , d = {
        5: {
            scene: function t(e) {
                return (0,
                s.default)(u.concat(["166df11524d37adccec9fae07fabf2ffed4517c3"]), e.uid)
            }
        },
        8: {
            scene: function t(e) {
                return "海边高速" === e.name
            }
        },
        10: {
            scene: function t(e) {
                return "panorama" === e.type
            }
        },
        13: {
            scene: function t(e) {
                return "05f70705bb5141bab16b59c051106759c8235519" === e.uid
            }
        },
        15: {
            scene: function t(e) {
                return (0,
                s.default)(["b57c5830ca12e2a6124ef0c86dc28a0b4c64e271", "8bf092885b7b8f838497a29d4f616c7d1ce6b0a3", "27d5807bcd2bf90ebc09d325451b251c143ec407"], e.uid)
            }
        },
        65535: {
            skybox: function t(e) {
                return !0
            },
            scene: function t(e) {
                return !0
            }
        }
    }
      , l = function() {
        function t(t, e) {
            this.app = t,
            this.level = e
        }
        var e = t.prototype;
        return e.hasPermission = function t(e) {
            return 65535 === this.level || 1 == (this.level >> e & 1)
        }
        ,
        e.filterTopFeatures = function t() {
            var e = this
              , i = [];
            return (0,
            h.default)(f).forEach(function(t) {
                if (e.hasPermission(t)) {
                    var s = f[t];
                    i = (0,
                    n.default)(i, s || [])
                }
            }),
            i
        }
        ,
        e.filterSubFeatures = function t(e) {
            var i = this
              , s = (0,
            h.default)(d).map(function(t) {
                return Number(t)
            }).sort(function(t, e) {
                return t - e
            });
            return (0,
            h.default)(e).forEach(function(t) {
                var n = null;
                s.forEach(function(s) {
                    if (i.hasPermission(s)) {
                        var r = d[s];
                        if (r[t]) {
                            var a = e[t].filter(r[t]);
                            n = null === n ? a : n.concat(a)
                        }
                    }
                }),
                null !== n && (e[t] = n.filter(function(t, e) {
                    return e === (0,
                    r.default)(n, function(e) {
                        return e.uid === t.uid
                    })
                }))
            }),
            e
        }
        ,
        e.getFeatures = function t(e) {
            var i = this.filterTopFeatures(this.level);
            return i = (0,
            a.default)(e, i),
            this.filterSubFeatures(i),
            i.skybox = i.scene,
            i
        }
        ,
        t
    }();
    e.default = l
}
, function(t, e, i) {
    var s = i(371);
    function n(t, e) {
        var i;
        return !!(null == t ? 0 : t.length) && s(t, e, 0) > -1
    }
    t.exports = n
}
, function(t, e, i) {
    var s = i(383)
      , n = i(392)
      , r = i(489)
      , a = i(494)
      , h = n(function(t) {
        return r(s(t, 1, a, !0))
    });
    t.exports = h
}
, function(t, e, i) {
    var s = i(402)
      , n = i(490)
      , r = i(491)
      , a = i(403)
      , h = i(492)
      , c = i(493)
      , o = 200;
    function u(t, e, i) {
        var u = -1
          , f = n
          , d = t.length
          , l = !0
          , b = []
          , v = b;
        if (i)
            l = !1,
            f = r;
        else if (d >= o) {
            var m = e ? null : h(t);
            if (m)
                return c(m);
            l = !1,
            f = a,
            v = new s
        } else
            v = e ? [] : b;
        t: for (; ++u < d; ) {
            var g = t[u]
              , p = e ? e(g) : g;
            if (g = i || 0 !== g ? g : 0,
            l && p == p) {
                for (var w = v.length; w--; )
                    if (v[w] === p)
                        continue t;
                e && v.push(p),
                b.push(g)
            } else
                f(v, p, i) || (v !== b && v.push(p),
                b.push(g))
        }
        return b
    }
    t.exports = u
}
, function(t, e, i) {
    var s = i(371);
    function n(t, e) {
        var i;
        return !!(null == t ? 0 : t.length) && s(t, e, 0) > -1
    }
    t.exports = n
}
, function(t, e) {
    function i(t, e, i) {
        for (var s = -1, n = null == t ? 0 : t.length; ++s < n; )
            if (i(e, t[s]))
                return !0;
        return !1
    }
    t.exports = i
}
, function(t, e) {
    function i() {}
    t.exports = i
}
, function(t, e) {
    function i() {
        return []
    }
    t.exports = i
}
, function(t, e, i) {
    var s = i(150)
      , n = i(155);
    function r(t) {
        return n(t) && s(t)
    }
    t.exports = r
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = c(i(151))
          , n = c(i(54))
          , r = c(i(101))
          , a = c(i(368))
          , h = i(31);
        function c(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function o(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var u = function(e) {
            function i(i) {
                var s;
                return (s = e.call(this) || this).app = i,
                s.root = new t.Entity("Light Root"),
                s.app.root.addChild(s.root),
                s
            }
            o(i, e);
            var r = i.prototype;
            return r.generate = function t(e) {
                var i = this;
                (0,
                n.default)(e) || e.lights.data.forEach(function(t, n) {
                    var r = (0,
                    s.default)((0,
                    h.parseLightData)(t), e.transforms.lights[n]);
                    !1 === e.lights.enabled && (r.enabled = !1),
                    i.add(new a.default(r))
                })
            }
            ,
            r.add = function t(e) {
                this.get(e.uid) || (this.root.addChild(e.Bc),
                this._list.push(e),
                this.updateCache())
            }
            ,
            r.remove = function t(e) {
                var i = this.getIndex(e)
                  , s = this.get(i);
                this.root.removeChild(s.Bc),
                this._list.splice(i, 1),
                this.updateCache()
            }
            ,
            i
        }(r.default);
        e.default = u
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(144)
          , n = i(31)
          , r = i(73)
          , a = u(i(372))
          , h = u(i(365))
          , c = u(i(396))
          , o = u(i(71));
        function u(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function f(t) {
            return function() {
                var e = this
                  , i = arguments;
                return new Promise(function(s, n) {
                    var r = t.apply(e, i);
                    function a(t, e) {
                        try {
                            var i = r[t](e)
                              , a = i.value
                        } catch (t) {
                            return void n(t)
                        }
                        i.done ? s(a) : Promise.resolve(a).then(h, c)
                    }
                    function h(t) {
                        a("next", t)
                    }
                    function c(t) {
                        a("throw", t)
                    }
                    h()
                }
                )
            }
        }
        function d(t, e) {
            for (var i = 0; i < e.length; i++) {
                var s = e[i];
                s.enumerable = s.enumerable || !1,
                s.configurable = !0,
                "value"in s && (s.writable = !0),
                Object.defineProperty(t, s.key, s)
            }
        }
        function l(t, e, i) {
            return e && d(t.prototype, e),
            i && d(t, i),
            t
        }
        var b = function() {
            function e(e) {
                var i = this;
                this.app = e,
                this.root = new t.Entity("Differ Root"),
                this.root.enabled = !1,
                this.origin = null,
                this.target = null,
                this.camera = null,
                this._halfDistance = 2.2,
                this._scaleFactor = 1,
                this._timerEnabled = !1,
                this._blendEnabled = !1,
                this._merge = !1,
                this._distanceTimer = 0,
                this._distanceDuration = 1,
                this._measure = !1,
                this._box = !1,
                this._targetSize = !1,
                this.app.root.addChild(this.root),
                this.markers = ["x", "y", "z"].map(function(t) {
                    return i.createMarkers(t)
                })
            }
            var i = e.prototype;
            return i.toggle = function t(e) {
                this.root.enabled !== e && (e ? this.app.on("update", this.onUpdate, this, -9) : this.app.off("update", this.onUpdate, this, -9),
                this.root.enabled = e)
            }
            ,
            i.setOrigin = function t(e) {
                this.origin = e,
                this.origin.visualBox.material.color.copy(c.default.RED),
                this.root.addChild(this.origin.visualBox.Bc)
            }
            ,
            i.setCamera = function t(e) {
                this.camera = e
            }
            ,
            i.createMarkers = function e(i) {
                var s = new t.Entity;
                return s.name = i + "Marker",
                s.Il("element", {
                    type: "text"
                }),
                s.element.fontSize = 1,
                s.element.lineHeight = 1,
                s.element.anchor = new t.wt(.5,.5,.5,.5),
                s.element.pivot = new t.pt(.5,.5),
                s.enabled = !1,
                this.root.addChild(s),
                s
            }
            ,
            i.prepare = function t() {
                var i = this
                  , s = e.py0
                  , n = e.py1
                  , r = e.py00
                  , a = e.py01
                  , h = e.py11
                  , c = e.my
                  , o = e.nz0
                  , u = e.nz1
                  , f = e.nz00
                  , d = e.nz01
                  , l = e.nz11
                  , b = e.mz
                  , v = e.vecA
                  , m = e.vecB
                  , g = e.vecC
                  , p = e.vecD
                  , w = this.origin.sizeMarker.obb
                  , x = this.target.sizeMarker.obb
                  , z = this.origin.sizeMarker.size
                  , _ = this.target.sizeMarker.size
                  , A = this.origin.sizeMarker.fontAsset;
                m.set.apply(m, this.origin.sizeMarker._diffHalfSize),
                g.set.apply(g, this.target.sizeMarker._diffHalfSize),
                p.copy(m),
                p.y *= 2,
                p.z *= 2,
                v.copy(w._aabb.halfExtents).add(p),
                v.z *= -1,
                s.copy(w._aabb.center).add(v),
                w._worldTransform.transformPoint(s, s),
                p.copy(m),
                p.y *= 2,
                p.z *= 2,
                v.copy(w._aabb.halfExtents).add(p),
                v.x *= -1,
                v.z *= -1,
                r.copy(w._aabb.center).add(v),
                w._worldTransform.transformPoint(r, r),
                p.copy(g),
                p.y *= 2,
                p.z *= 2,
                v.copy(x._aabb.halfExtents).add(p),
                v.x *= -1,
                v.z *= -1,
                n.copy(x._aabb.center).add(v),
                x._worldTransform.transformPoint(n, n),
                p.copy(m),
                p.y = 0,
                p.z *= 2,
                v.copy(w._aabb.halfExtents).add(p),
                v.y *= -1,
                v.z *= -1,
                o.copy(w._aabb.center).add(v),
                w._worldTransform.transformPoint(o, o),
                p.copy(m),
                p.y = 0,
                p.z *= 2,
                v.copy(w._aabb.halfExtents).add(p),
                v.x *= -1,
                v.y *= -1,
                v.z *= -1,
                f.copy(w._aabb.center).add(v),
                w._worldTransform.transformPoint(f, f),
                p.copy(g),
                p.y = 0,
                p.z *= 2,
                v.copy(x._aabb.halfExtents).add(p),
                v.x *= -1,
                v.y *= -1,
                v.z *= -1,
                u.copy(x._aabb.center).add(v),
                x._worldTransform.transformPoint(u, u),
                a.copy(s),
                a.x = n.x,
                h.copy(a),
                h.y = n.y,
                v.copy(a).sub(h).scale(-.5),
                c.copy(a).add(v),
                d.copy(o),
                d.x = u.x,
                l.copy(d),
                l.y = u.y,
                v.copy(l).sub(u).scale(-.5),
                b.copy(l).add(v),
                this._scaleFactor = .05 * w._aabb.getMax().length(),
                this.markers.forEach(function(t, e) {
                    t.element.fontAsset = A,
                    t.element.fontSize = i._scaleFactor,
                    t.element.lineHeight = i._scaleFactor,
                    t.element.text = Math.abs(z[e] - _[e]).toFixed(2) + "m",
                    1 === e && (v.set(.6 * t.element.width, 0, 0),
                    c.add(v),
                    t.setLocalPosition(c)),
                    2 === e && (v.set(0, .5 * i._scaleFactor, 0),
                    b.add(v),
                    t.setLocalPosition(b))
                })
            }
            ,
            i.add = function() {
                var t = f(regeneratorRuntime.mark(function t(i, u) {
                    var f = this, d, l, b, v, m, g, p, w, x;
                    return regeneratorRuntime.wrap(function t(z) {
                        for (; ; )
                            switch (z.prev = z.next) {
                            case 0:
                                if (void 0 !== i) {
                                    z.next = 2;
                                    break
                                }
                                return z.abrupt("return");
                            case 2:
                                if (!this.target) {
                                    z.next = 7;
                                    break
                                }
                                if (this.target.uid !== i) {
                                    z.next = 5;
                                    break
                                }
                                return z.abrupt("return");
                            case 5:
                                this.remove();
                            case 7:
                                return d = !1,
                                z.next = 10,
                                (0,
                                s.request)(i, "c", u);
                            case 10:
                                return l = z.sent,
                                b = l.data,
                                d && (b = JSON.parse(JSON.stringify(b).replace(new RegExp("demo.jimuyida.com/wey/datas","g"), "demo.jimuyida.com/wey/datas"))),
                                void 0 !== b.cubemaps && b.cubemaps.forEach(function(t) {
                                    return f.app.scenes.add(new a.default(f.app,t))
                                }),
                                b.model.asset.modelFileType = this.app.query.modelFileType,
                                v = (0,
                                n.parseShadowData)(b),
                                m = (0,
                                n.parseModelData)(b),
                                g = this.app.assets.models.add(m),
                                p = this.app.scene.layers.getLayerById(r.LAYERID_VISUALBOX),
                                w = this.app.scene.layers.getLayerById(r.LAYERID_SHADOW),
                                z.next = 22,
                                this.app.assets.models.load(i, {
                                    onProgress: function t(e, s, n, r) {
                                        f.app.sdk.send("jmyd1d1d:model:" + i + ":progress", n / r)
                                    }
                                });
                            case 22:
                                return this.target = new h.default({
                                    name: "Model2",
                                    uid: m.uid
                                }),
                                this.target.generate(m, b),
                                this.target.shadow.generate(v),
                                this.target.shadow.root.setLocalPosition(0, -.02, 0),
                                this.target.billboards.add(o.default.BIT_IDENTITY, "车二"),
                                z.next = 29,
                                this.target.shadow.load();
                            case 29:
                                this.origin.wheels._whitelist.forEach(function(t, e) {
                                    0 !== e && f.target.wheels._whitelist.push(t)
                                }),
                                this.target.visualBox.material.color.copy(c.default.GREEN),
                                this.root.addChild(this.target.visualBox.Bc),
                                p.clearMeshInstances(),
                                this.target.sizeMarker.size[2] > this.origin.sizeMarker.size[2] ? p.addMeshInstances([this.origin.visualBox.meshInstance, this.target.visualBox.meshInstance]) : p.addMeshInstances([this.target.visualBox.meshInstance, this.origin.visualBox.meshInstance]),
                                x = this.origin.obb._aabb.center.z + this.origin.obb._aabb.halfExtents.z - (this.target.obb._aabb.center.z + this.target.obb._aabb.halfExtents.z),
                                e.pos1.z = x,
                                this.target.Bc.setPosition(this._halfDistance, 0, x),
                                this.origin.Bc.setPosition(-this._halfDistance, 0, 0),
                                this.app.root.addChild(this.target.Bc),
                                this.app.scenes.switch(this.app.scenes.current.uid),
                                this.halfDistance = this._halfDistance,
                                this.app.assets.useModelProgressive && this.target.setTextureSize(this.app.assets.useModelProgressiveSize),
                                this.app.sdk && this.app.sdk.send("jmyd1d1d:model:" + i + ":add");
                            case 43:
                            case "end":
                                return z.stop()
                            }
                    }, t, this)
                }));
                return function e(i, s) {
                    return t.apply(this, arguments)
                }
            }(),
            i.remove = function e() {
                var i = this;
                if (this.target) {
                    var s = this.app.assets.models.get(this.target.uid)
                      , n = s.data.materials.map(function(t) {
                        return i.app.assets.materials.get(t)
                    })
                      , r = s.data.textures.map(function(t) {
                        return i.app.assets.textures.get(t)
                    });
                    this.origin.Bc.enabled = !0,
                    this.origin.Bc.setPosition(t.ut.ZERO),
                    this.origin.Bc.script.opacity.percent = 1,
                    this.origin.billboards.bits = o.default.BIT_ATTRIBUTE,
                    this.target.Bc.enabled = !0,
                    this.target.Bc.script.opacity.percent = 1,
                    this.app.root.removeChild(this.target.Bc),
                    this.root.removeChild(this.target.visualBox.Bc),
                    this.target.visualBox.destroy(),
                    this.target.wheels.destroy(),
                    this.target.shadow.destroy(),
                    this.target.sizeMarker.destroy(),
                    this.target.headlights.destroy(),
                    this.target.speeder.destroy(),
                    this.target.billboards.destroy(),
                    this.target.destroy(),
                    this.target = null
                }
            }
            ,
            i.destroy = function t() {
                this.remove(),
                this.toggle(!1),
                this.origin = null
            }
            ,
            i.onUpdate = function i(s) {
                var n, r, a = e.py0, h = e.py1, c = e.py00, o = e.py01, u = e.py11, f = e.nz0, d = e.nz1, l = e.nz00, b = e.nz01, v = e.nz11, m = e.vecA, g = e.vecB, p = e.vecC, w = e.vecD, x = e.white, z = e.green, _ = e.pos0, A = e.pos1, y = e.pos2, M = e.pos3, S = e.blue, C = this.camera.getRotation();
                this.target && this.prepare(),
                this._timerEnabled && (this._distanceTimer += s,
                n = t.I.clamp(this._distanceTimer / this._distanceDuration, 0, 1),
                m.st(_, y, n),
                g.st(A, M, n),
                this.origin.Bc.setPosition(m),
                this.target.Bc.setPosition(g),
                this._blendEnabled && (r = this._merge ? 1 - n : n,
                this.origin.Bc.enabled = r > 0,
                this.target.Bc.enabled = r > 0,
                this.origin.Bc.script.opacity.percent = n,
                this.target.Bc.script.opacity.percent = n),
                this._distanceTimer > this._distanceDuration && (this._timerEnabled = !1,
                this.app.fire("jmyd1d1d:differ:timer:end")),
                this.app.rd = !0),
                this._measure && (this.app.Um(c, o, x),
                this.app.Um(o, u, z),
                this.app.Um(u, h, x),
                this.app.Um(l, b, x),
                this.app.Um(b, v, x),
                this.app.Um(v, d, S)),
                this.markers.forEach(function(t) {
                    return t.setRotation(C)
                })
            }
            ,
            l(e, [{
                key: "measure",
                get: function t() {
                    return this._measure
                },
                set: function t(e) {
                    this.markers[1].enabled = e,
                    this.markers[2].enabled = e,
                    this._measure = e,
                    this.app.camera.transientRender(100)
                }
            }, {
                key: "merge",
                get: function t() {
                    return this._merge
                },
                set: function t(i) {
                    var s = e.pos0.copy(this.origin.Bc.getPosition())
                      , n = e.pos1.copy(this.target.Bc.getPosition());
                    this.origin.Bc.script.opacity.prepare(i),
                    this.target.Bc.script.opacity.prepare(i),
                    this._timerEnabled = this._merge !== i,
                    this._blendEnabled = !0,
                    this._distanceTimer = this._timerEnabled ? 0 : this._distanceTimer,
                    this._merge = i,
                    i ? (e.pos2.set(0, 0, s.z),
                    e.pos3.set(0, 0, n.z)) : (e.pos2.set(-this.halfDistance, 0, s.z),
                    e.pos3.set(this.halfDistance, 0, n.z))
                }
            }, {
                key: "box",
                get: function t() {
                    return this._box
                },
                set: function t(e) {
                    this._box !== e && (e ? (this.origin.visualBox.enabled = !0,
                    this.target.visualBox.enabled = !0) : (this.origin.visualBox.enabled = !1,
                    this.target.visualBox.enabled = !1),
                    this.app.scene.layers.getLayerById(r.LAYERID_VISUALBOX).enabled = e,
                    this._box = e)
                }
            }, {
                key: "halfDistance",
                get: function t() {
                    return this._halfDistance
                },
                set: function t(i) {
                    this._timerEnabled = this._halfDistance !== i,
                    this._blendEnabled = !1,
                    this._distanceTimer = this._timerEnabled ? 0 : this._distanceTimer,
                    this._halfDistance = i;
                    var s = e.pos0.copy(this.origin.Bc.getPosition());
                    if (e.pos2.set(-i, 0, s.z),
                    this.target) {
                        var n = e.pos1.copy(this.target.Bc.getPosition());
                        e.pos3.set(i, 0, n.z)
                    }
                }
            }, {
                key: "size",
                set: function t(e) {
                    this.target.sizeMarker.toggle(e),
                    this._targetSize = e
                },
                get: function t() {
                    return this._targetSize
                }
            }]),
            e
        }();
        e.default = b,
        b.py0 = new t.ut,
        b.py1 = new t.ut,
        b.py00 = new t.ut,
        b.py01 = new t.ut,
        b.py11 = new t.ut,
        b.my = new t.ut,
        b.nz0 = new t.ut,
        b.nz1 = new t.ut,
        b.nz00 = new t.ut,
        b.nz01 = new t.ut,
        b.nz11 = new t.ut,
        b.mz = new t.ut,
        b.pos0 = new t.ut,
        b.pos1 = new t.ut,
        b.pos2 = new t.ut,
        b.pos3 = new t.ut,
        b.vecA = new t.ut,
        b.vecB = new t.ut,
        b.vecC = new t.ut,
        b.vecD = new t.ut,
        b.white = new t.D(1,1,1),
        b.green = new t.D(0,1,0),
        b.blue = new t.D(0,0,1)
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = o(i(101))
          , n = o(i(373))
          , r = o(i(404))
          , a = o(i(405))
          , h = i(31)
          , c = i(73);
        function o(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function u(t, e) {
            for (var i = 0; i < e.length; i++) {
                var s = e[i];
                s.enumerable = s.enumerable || !1,
                s.configurable = !0,
                "value"in s && (s.writable = !0),
                Object.defineProperty(t, s.key, s)
            }
        }
        function f(t, e, i) {
            return e && u(t.prototype, e),
            i && u(t, i),
            t
        }
        function d(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var l = function(e) {
            function i(i) {
                var s;
                return (s = e.call(this) || this).app = i,
                s.root = new t.Entity("Ground Root"),
                s.root.setLocalPosition(0, -.05, 0),
                s.plane = new t.Entity,
                s.plane.Il("model", {
                    type: "plane"
                }),
                s.plane.model.model.meshInstances[0].node.name = "Ground Plane",
                s.material = null,
                s._speed = 1,
                s._isMoving = !1,
                s._currentIndex = 0,
                s.root.addChild(s.plane),
                s.app.root.addChild(s.root),
                s.add(n.default),
                s.add(r.default),
                s.add(a.default),
                s
            }
            d(i, e);
            var s = i.prototype;
            return s.add = function t(e) {
                var i = (0,
                h.parseMaterialData)(e.material);
                this.app.assets.materials.link(i),
                this._list.push({
                    uid: e.uid,
                    name: e.name,
                    Bc: e.Bc,
                    materialAsset: this.app.assets.materials.add(i)
                }),
                this.updateCache()
            }
            ,
            s.load = function t(e) {
                var i = this;
                return new Promise(function(t, s) {
                    var n = i.get(e);
                    if (n) {
                        if (n.materialAsset.loaded)
                            return t(n);
                        i.app.assets.materials.load(n.materialAsset.id).then(function() {
                            return t(n)
                        }).catch(s)
                    } else
                        s("No ground with primaryKey " + e)
                }
                )
            }
            ,
            s.switch = function t(e) {
                var i = this.get(e), s;
                i && (this.material = i.materialAsset.resource,
                (s = this.plane).setLocalScale.apply(s, i.Bc.scale),
                this.plane.model.model.meshInstances[0].material = i.materialAsset.resource,
                this.plane.model.layers = [c.LAYERID_GROUND])
            }
            ,
            s.move = function t() {
                this._isMoving || (this._isMoving = !0,
                this.app.on("update", this.onUpdate, this))
            }
            ,
            s.stop = function t() {
                this._isMoving && (this._isMoving = !1,
                this.app.off("update", this.onUpdate, this))
            }
            ,
            s.onUpdate = function t(e) {
                var i = this.speed * e
                  , s = -30;
                this.material.diffuseMapOffset.y -= i,
                this.material.emissiveMapOffset.y -= i,
                this.material.diffuseMapOffset.y < -30 && (this.material.diffuseMapOffset.y = 0),
                this.material.emissiveMapOffset.y < -30 && (this.material.emissiveMapOffset.y = 0),
                this.material.update()
            }
            ,
            f(i, [{
                key: "speed",
                get: function t() {
                    return this._speed
                },
                set: function t(e) {
                    this._speed = e
                }
            }]),
            i
        }(s.default);
        e.default = l
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = z(i(499))
      , n = z(i(105))
      , r = i(103)
      , a = z(i(101))
      , h = z(i(513))
      , c = z(i(372))
      , o = z(i(514))
      , u = z(i(370))
      , f = z(i(516))
      , d = z(i(517))
      , l = z(i(519))
      , b = z(i(520))
      , v = i(406)
      , m = z(i(147))
      , g = z(i(526))
      , p = z(i(527))
      , w = z(i(528))
      , x = z(i(529));
    function z(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function _(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var A = function(t) {
        function e(e) {
            var i;
            (i = t.call(this) || this).app = e,
            i.current = null,
            i.add(new h.default(e)),
            i.add(new o.default(e)),
            i.add(new f.default(e)),
            i.add(new d.default(e)),
            i.add(new b.default(e)),
            i.add(new v.HubDuskScene(e,g.default)),
            i.add(new v.HubHshcDuskScene(e,p.default)),
            i.add(new v.HubVillageScene(e,w.default)),
            i.add(new v.HubMountainRoadScene(e,x.default));
            for (var s = 1; s < m.default.length; s++)
                i.add(new c.default(e,m.default[s]));
            return i
        }
        _(e, t);
        var i = e.prototype;
        return i.request = function t(e, i) {
            return new Promise(function(t, s) {
                (0,
                r.request)(e, "s", i).then(t).catch(s)
            }
            )
        }
        ,
        i.generatePanoramas = function t(e) {
            var i = this;
            void 0 === e && (e = []),
            this._panoramaGenerated || (this._panoramaGenerated = !0,
            e.forEach(function(t) {
                i.add(new u.default(i.app,t))
            }))
        }
        ,
        i.generateColorScene = function t(e) {
            void 0 === e && (e = {}),
            this._colorSceneGenerated || (this._colorSceneGenerated = !0,
            this.get(e.cubemap.uid) && (e.cubemap.uid = (0,
            r.uuid)(40)),
            this.add(new l.default(this.app,e)))
        }
        ,
        i.add = function t(e) {
            this.get(e.uid) || (this._list.push(e),
            this.updateCache())
        }
        ,
        i.remove = function t(e) {
            var i = this.getIndex(e)
              , s = this.get(i);
            this._list.splice(i, 1),
            this.updateCache()
        }
        ,
        i.load = function t(e, i) {
            var s = this;
            return void 0 === i && (i = {}),
            new Promise(function(t, n) {
                var r = s.get(e);
                r ? r.load(i.onProgress).then(t) : n(new Error("No scene with primary key: " + e))
            }
            )
        }
        ,
        i.switch = function t(e) {
            var i = this.get(e)
              , r = this.current ? (0,
            n.default)(this.current, ["uid", "name"]) : null
              , a = (0,
            n.default)(i, ["uid", "name"]);
            this.current && this.current !== i && this.current.onDisable(),
            this.current !== i && (i.onEnable(this.current),
            this.current = i),
            this.app.sdk && !(0,
            s.default)(r, a) && (this.app.sdk.send("jmyd1d1d:scene:updated", {
                last: r,
                current: a
            }),
            this.app.sdk.send("jmyd1d1d:scene:update", {
                last: r,
                current: a
            })),
            this.app.rd = !0
        }
        ,
        e
    }(a.default);
    e.default = A
}
, function(t, e, i) {
    var s = i(500);
    function n(t, e) {
        return s(t, e)
    }
    t.exports = n
}
, function(t, e, i) {
    var s = i(501)
      , n = i(155);
    function r(t, e, i, a, h) {
        return t === e || (null == t || null == e || !n(t) && !n(e) ? t != t && e != e : s(t, e, i, a, r, h))
    }
    t.exports = r
}
, function(t, e, i) {
    var s = i(502), n = i(508), r = i(510), a = i(511), h = i(386), c = i(100), o = i(387), u = i(389), f = 1, d = "[object Arguments]", l = "[object Array]", b = "[object Object]", v, m = Object.prototype.hasOwnProperty;
    function g(t, e, i, v, g, p) {
        var w = c(t)
          , x = c(e)
          , z = w ? l : h(t)
          , _ = x ? l : h(e)
          , A = (z = z == d ? b : z) == b
          , y = (_ = _ == d ? b : _) == b
          , M = z == _;
        if (M && o(t)) {
            if (!o(e))
                return !1;
            w = !0,
            A = !1
        }
        if (M && !A)
            return p || (p = new s),
            w || u(t) ? n(t, e, i, v, g, p) : r(t, e, z, i, v, g, p);
        if (!(i & f)) {
            var S = A && m.call(t, "__wrapped__")
              , C = y && m.call(e, "__wrapped__");
            if (S || C) {
                var O = S ? t.value() : t
                  , E = C ? e.value() : e;
                return p || (p = new s),
                g(O, E, i, v, p)
            }
        }
        return !!M && (p || (p = new s),
        a(t, e, i, v, g, p))
    }
    t.exports = g
}
, function(t, e, i) {
    var s = i(503)
      , n = i(504)
      , r = i(505)
      , a = i(506)
      , h = i(507);
    function c(t) {
        var e = -1
          , i = null == t ? 0 : t.length;
        for (this.clear(); ++e < i; ) {
            var s = t[e];
            this.set(s[0], s[1])
        }
    }
    c.prototype.clear = s,
    c.prototype.delete = n,
    c.prototype.get = r,
    c.prototype.has = a,
    c.prototype.set = h,
    t.exports = c
}
, function(t, e) {
    function i() {
        this.__data__ = [],
        this.size = 0
    }
    t.exports = i
}
, function(t, e, i) {
    var s = i(156), n, r = Array.prototype.splice;
    function a(t) {
        var e = this.__data__, i = s(e, t), n;
        return !(i < 0) && (i == e.length - 1 ? e.pop() : r.call(e, i, 1),
        --this.size,
        !0)
    }
    t.exports = a
}
, function(t, e, i) {
    var s = i(156);
    function n(t) {
        var e = this.__data__
          , i = s(e, t);
        return i < 0 ? void 0 : e[i][1]
    }
    t.exports = n
}
, function(t, e, i) {
    var s = i(156);
    function n(t) {
        return s(this.__data__, t) > -1
    }
    t.exports = n
}
, function(t, e, i) {
    var s = i(156);
    function n(t, e) {
        var i = this.__data__
          , n = s(i, t);
        return n < 0 ? (++this.size,
        i.push([t, e])) : i[n][1] = e,
        this
    }
    t.exports = n
}
, function(t, e, i) {
    var s = i(402)
      , n = i(509)
      , r = i(403)
      , a = 1
      , h = 2;
    function c(t, e, i, c, o, u) {
        var f = i & a
          , d = t.length
          , l = e.length;
        if (d != l && !(f && l > d))
            return !1;
        var b = u.get(t);
        if (b && u.get(e))
            return b == e;
        var v = -1
          , m = !0
          , g = i & h ? new s : void 0;
        for (u.set(t, e),
        u.set(e, t); ++v < d; ) {
            var p = t[v]
              , w = e[v];
            if (c)
                var x = f ? c(w, p, v, e, t, u) : c(p, w, v, t, e, u);
            if (void 0 !== x) {
                if (x)
                    continue;
                m = !1;
                break
            }
            if (g) {
                if (!n(e, function(t, e) {
                    if (!r(g, e) && (p === t || o(p, t, i, c, u)))
                        return g.push(e)
                })) {
                    m = !1;
                    break
                }
            } else if (p !== w && !o(p, w, i, c, u)) {
                m = !1;
                break
            }
        }
        return u.delete(t),
        u.delete(e),
        m
    }
    t.exports = c
}
, function(t, e) {
    function i(t, e) {
        for (var i = -1, s = null == t ? 0 : t.length; ++i < s; )
            if (e(t[i], i, t))
                return !0;
        return !1
    }
    t.exports = i
}
, function(t, e) {
    function i(t, e) {
        return t === e || t != t && e != e
    }
    t.exports = i
}
, function(t, e, i) {
    var s = i(512), n = 1, r, a = Object.prototype.hasOwnProperty;
    function h(t, e, i, r, h, c) {
        var o = i & n, u = s(t), f = u.length, d, l;
        if (f != s(e).length && !o)
            return !1;
        for (var b = f; b--; ) {
            var v = u[b];
            if (!(o ? v in e : a.call(e, v)))
                return !1
        }
        var m = c.get(t);
        if (m && c.get(e))
            return m == e;
        var g = !0;
        c.set(t, e),
        c.set(e, t);
        for (var p = o; ++b < f; ) {
            var w = t[v = u[b]]
              , x = e[v];
            if (r)
                var z = o ? r(x, w, v, e, t, c) : r(w, x, v, t, e, c);
            if (!(void 0 === z ? w === x || h(w, x, i, r, c) : z)) {
                g = !1;
                break
            }
            p || (p = "constructor" == v)
        }
        if (g && !p) {
            var _ = t.constructor
              , A = e.constructor;
            _ != A && "constructor"in t && "constructor"in e && !("function" == typeof _ && _ instanceof _ && "function" == typeof A && A instanceof A) && (g = !1)
        }
        return c.delete(t),
        c.delete(e),
        g
    }
    t.exports = h
}
, function(t, e, i) {
    var s, n = i(149)(Object.keys, Object);
    t.exports = n
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = u(i(390))
      , n = i(31)
      , r = i(142)
      , a = u(i(72))
      , h = u(i(147))
      , c = u(i(404))
      , o = u(i(373));
    function u(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function f(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var d = function(t) {
        function e(e) {
            var i;
            i = t.call(this, e, "展厅", "0433a2c6c19a9198c6fa16be3a9f30a27a1b5bc8") || this;
            var a = (0,
            s.default)(h.default, function(t) {
                return t.uid === i.uid
            })
              , o = i.app.assets.cubemaps.add((0,
            n.parseCubemapData)(a, {
                rgbm: a.rgbm
            }));
            return (0,
            r.parseCubemapTextureCompression)(e, o, 1024),
            i.cubemapAsset = o,
            i.assets.push(i.cubemapAsset, i.app.ground.get(c.default.uid).materialAsset),
            i
        }
        f(e, t);
        var i = e.prototype;
        return i.onEnable = function t() {
            this.app.scene.skyboxMip = 0,
            this.app.assets.cubemaps.setSkybox(this.cubemapAsset),
            this.app.ground.switch(c.default.uid),
            this.app.ground.speed = this.app.model.wheels.speed / 200,
            this.app.ground.material.cubeMap = this.cubemapAsset.resource,
            this.app.ground.material.update()
        }
        ,
        i.onDisable = function t() {
            this.app.scene.skyboxMip = 4,
            this.app.ground.switch(o.default.uid),
            this.app.ground.speed = this.app.model.wheels.speed / 60
        }
        ,
        e
    }(a.default);
    e.default = d
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = a(i(72))
          , n = i(515)
          , r = i(31);
        function a(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function h(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var c = function(e) {
            function i(i) {
                var s;
                return (s = e.call(this, i, "海边高速", "0da3944660633937846df2ba2dfdf2b2943390b8") || this).root = new t.Entity("Seaside Root"),
                s.root.setLocalPosition(0, -.05, 0),
                s.root.setLocalScale(.8, .8, .8),
                s.root.enabled = !1,
                s.modelAsset = s.app.assets.models.add((0,
                r.parseModelData)(n.sceneData)),
                s.groundAsset = s.app.assets.models.add((0,
                r.parseModelData)(n.groundData)),
                s.signAsset = s.app.assets.models.add((0,
                r.parseModelData)(n.signData)),
                s.assets.push(s.modelAsset, s.groundAsset, s.signAsset),
                s.modelEntity = new t.Entity("Seaside Model"),
                s.modelEntity.Il("model", {
                    asset: s.modelAsset
                }),
                s.groundEntity = new t.Entity("Seaside Ground"),
                s.groundEntity.Il("model", {
                    asset: s.groundAsset
                }),
                s.signEntity = new t.Entity("Seaside Sign"),
                s.signEntity.Il("model", {
                    asset: s.signAsset
                }),
                s.root.addChild(s.modelEntity),
                s.root.addChild(s.groundEntity),
                s.root.addChild(s.signEntity),
                s
            }
            h(i, e);
            var s = i.prototype;
            return s.onEnable = function e() {
                this.prevState.ambientLight = this.app.scene.ambientLight,
                this.root.enabled = !0,
                this.app.root.addChild(this.root),
                this.app.ground.root.enabled = !1,
                this.app.scene.ambientLight = new t.D(0,0,0)
            }
            ,
            s.onDisable = function t() {
                this.root.enabled = !1,
                this.app.root.removeChild(this.root),
                this.app.ground.root.enabled = !0,
                this.app.scene.ambientLight = this.prevState.ambientLight
            }
            ,
            i
        }(s.default);
        e.default = c
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.signData = e.groundData = e.sceneData = void 0;
    var s = {
        materials: [{
            data: {
                alphaTest: 0,
                ambient: [.588, .588, .588],
                ambientTint: !1,
                aoMap: null,
                aoMapChannel: "r",
                aoMapOffset: [0, 0],
                aoMapTiling: [1, 1],
                aoMapUv: 0,
                aoMapVertexColor: !1,
                blendType: 3,
                bumpMapFactor: 1,
                conserveEnergy: !0,
                cubeMap: null,
                cubeMapProjection: 0,
                cubeMapProjectionBox: {
                    center: [0, 0, 0],
                    halfExtents: [.5, .5, .5]
                },
                cull: 1,
                depthTest: !0,
                depthWrite: !0,
                diffuse: [.588, .588, .588],
                diffuseMap: "7d514f18d0e48836b2c8df7b76aef7f3c2f0215d",
                diffuseMapChannel: "rgb",
                diffuseMapOffset: [0, 0],
                diffuseMapTiling: [1, 1],
                diffuseMapTint: !1,
                diffuseMapUv: 0,
                diffuseMapVertexColor: !1,
                emissive: [0, 0, 0],
                emissiveIntensity: .8,
                emissiveMap: "7d514f18d0e48836b2c8df7b76aef7f3c2f0215d",
                emissiveMapChannel: "rgb",
                emissiveMapOffset: [0, 0],
                emissiveMapTiling: [1, 1],
                emissiveMapTint: !1,
                emissiveMapUv: 0,
                emissiveMapVertexColor: !1,
                fresnelFactor: 0,
                fresnelModel: 0,
                glossMap: null,
                glossMapChannel: "r",
                glossMapOffset: [0, 0],
                glossMapTiling: [1, 1],
                glossMapUv: 0,
                glossMapVertexColor: !1,
                heightMap: null,
                heightMapChannel: "r",
                heightMapFactor: 1,
                heightMapOffset: [0, 0],
                heightMapTiling: [1, 1],
                heightMapUv: 0,
                lightMap: null,
                lightMapChannel: "rgb",
                lightMapOffset: [0, 0],
                lightMapTiling: [1, 1],
                lightMapUv: 1,
                lightMapVertexColor: !1,
                metalness: 1,
                metalnessMap: null,
                metalnessMapChannel: "r",
                metalnessMapOffset: [0, 0],
                metalnessMapTiling: [1, 1],
                metalnessMapTint: !1,
                metalnessMapUv: 0,
                metalnessMapVertexColor: !1,
                normalMap: null,
                normalMapOffset: [0, 0],
                normalMapTiling: [1, 1],
                normalMapUv: 0,
                occludeSpecular: 1,
                opacity: 1,
                opacityMap: null,
                opacityMapChannel: "r",
                opacityMapOffset: [0, 0],
                opacityMapTiling: [1, 1],
                opacityMapUv: 0,
                opacityMapVertexColor: !1,
                reflectivity: 1,
                refraction: 0,
                refractionIndex: .6666666666666666,
                shader: "blinn",
                shadowSampleType: 1,
                shininess: 9.09091,
                specular: [0, 0, 0],
                specularAntialias: !0,
                specularMap: null,
                specularMapChannel: "rgb",
                specularMapOffset: [0, 0],
                specularMapTiling: [1, 1],
                specularMapTint: !1,
                specularMapUv: 0,
                specularMapVertexColor: !1,
                sphereMap: null,
                useFog: !1,
                useGammaTonemap: !0,
                useLighting: !1,
                useMetalness: !1,
                useSkybox: !1
            },
            name: "Material #25",
            uid: "12124175",
            used: !0
        }],
        model: {
            asset: {
                hash: "a689555c491ccd7c76ab227180ec2305",
                mapping: [12124175],
                name: "p02_S.gc",
                size: 742,
                uid: "12124200",
                url: "demo.jimuyida.com/wey/datas/demo/demoviewer/models/p02_S.gc",
                used: !0
            },
            transforms: {
                rotation: [0, 0, 0]
            }
        },
        textures: [{
            hash: "a32c3cf6eb2bc8f4d8feac9da37872ab",
            height: 2048,
            mipmaps: !0,
            name: "ma-MAG_8663_FN_0418.jpg",
            uid: "7d514f18d0e48836b2c8df7b76aef7f3c2f0215d",
            url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/e02f711a00c853e1bfeb552f0623f8155fb7d5a3/c85bc8a48258bb1194c25ffad4ff036c609978f8/textures/a32c3cf6eb2bc8f4d8feac9da37872ab.jpg",
            used: !0,
            variants: {
                astc: {
                    size: 0,
                    url: ""
                },
                dxt1: {
                    size: 5592552,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/e02f711a00c853e1bfeb552f0623f8155fb7d5a3/c85bc8a48258bb1194c25ffad4ff036c609978f8/textures/a70298a50a55c202f79d3b78443a2eba.gtc"
                },
                dxt5: {
                    size: 0,
                    url: ""
                },
                etc_a: {
                    size: 0,
                    url: ""
                },
                etc_rgb: {
                    size: 5592552,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/e02f711a00c853e1bfeb552f0623f8155fb7d5a3/c85bc8a48258bb1194c25ffad4ff036c609978f8/textures/77ef37c55870c4dfad4f13dbeef3b721.gtc"
                },
                pvrtc1_4_rgb: {
                    size: 11185024,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/e02f711a00c853e1bfeb552f0623f8155fb7d5a3/c85bc8a48258bb1194c25ffad4ff036c609978f8/textures/439b3257954a81cd5ccb16601bc799d4.gtc"
                },
                pvrtc1_4_rgba: {
                    size: 0,
                    url: ""
                }
            },
            width: 4096
        }]
    };
    e.sceneData = s;
    var n = {
        materials: [{
            data: {
                alphaTest: 0,
                ambient: [.588, .588, .588],
                ambientTint: !1,
                aoMap: null,
                aoMapChannel: "r",
                aoMapOffset: [0, 0],
                aoMapTiling: [1, 1],
                aoMapUv: 0,
                aoMapVertexColor: !1,
                blendType: 3,
                bumpMapFactor: 1,
                conserveEnergy: !0,
                cubeMap: null,
                cubeMapProjection: 0,
                cubeMapProjectionBox: {
                    center: [0, 0, 0],
                    halfExtents: [.5, .5, .5]
                },
                cull: 1,
                depthTest: !0,
                depthWrite: !0,
                diffuse: [.588, .588, .588],
                diffuseMap: "383d98e7fed4c6e291c58ae3534740758cc9d124",
                diffuseMapChannel: "rgb",
                diffuseMapOffset: [0, 0],
                diffuseMapTiling: [1, 1],
                diffuseMapTint: !1,
                diffuseMapUv: 0,
                diffuseMapVertexColor: !1,
                emissive: [0, 0, 0],
                emissiveIntensity: .8,
                emissiveMap: "383d98e7fed4c6e291c58ae3534740758cc9d124",
                emissiveMapChannel: "rgb",
                emissiveMapOffset: [0, 0],
                emissiveMapTiling: [1, 1],
                emissiveMapTint: !1,
                emissiveMapUv: 0,
                emissiveMapVertexColor: !1,
                fresnelFactor: 0,
                fresnelModel: 0,
                glossMap: null,
                glossMapChannel: "r",
                glossMapOffset: [0, 0],
                glossMapTiling: [1, 1],
                glossMapUv: 0,
                glossMapVertexColor: !1,
                heightMap: null,
                heightMapChannel: "r",
                heightMapFactor: 1,
                heightMapOffset: [0, 0],
                heightMapTiling: [1, 1],
                heightMapUv: 0,
                lightMap: null,
                lightMapChannel: "rgb",
                lightMapOffset: [0, 0],
                lightMapTiling: [1, 1],
                lightMapUv: 1,
                lightMapVertexColor: !1,
                metalness: 1,
                metalnessMap: null,
                metalnessMapChannel: "r",
                metalnessMapOffset: [0, 0],
                metalnessMapTiling: [1, 1],
                metalnessMapTint: !1,
                metalnessMapUv: 0,
                metalnessMapVertexColor: !1,
                normalMap: null,
                normalMapOffset: [0, 0],
                normalMapTiling: [1, 1],
                normalMapUv: 0,
                occludeSpecular: 1,
                opacity: 1,
                opacityMap: null,
                opacityMapChannel: "r",
                opacityMapOffset: [0, 0],
                opacityMapTiling: [1, 1],
                opacityMapUv: 0,
                opacityMapVertexColor: !1,
                reflectivity: 1,
                refraction: 0,
                refractionIndex: .6666666666666666,
                shader: "blinn",
                shadowSampleType: 1,
                shininess: 9.09091,
                specular: [0, 0, 0],
                specularAntialias: !0,
                specularMap: null,
                specularMapChannel: "rgb",
                specularMapOffset: [0, 0],
                specularMapTiling: [1, 1],
                specularMapTint: !1,
                specularMapUv: 0,
                specularMapVertexColor: !1,
                sphereMap: null,
                useFog: !0,
                useGammaTonemap: !0,
                useLighting: !1,
                useMetalness: !1,
                useSkybox: !1
            },
            name: "Material #27",
            uid: "12124201",
            used: !0
        }],
        model: {
            asset: {
                hash: "a689555c491ccd7c76ab227180ec2305",
                mapping: [12124201],
                name: "p02_G.gc",
                size: 742,
                uid: "12124174",
                url: "demo.jimuyida.com/wey/datas/demo/demoviewer/models/p02_G.gc",
                used: !0
            },
            transforms: {
                rotation: [0, 0, 0]
            }
        },
        textures: [{
            hash: "e312636a4bba34eea04a81f91e1bc42f",
            height: 2048,
            mipmaps: !0,
            name: "07d42eb1d55b1fc0ddfdc5556c9eeac9.jpg",
            uid: "383d98e7fed4c6e291c58ae3534740758cc9d124",
            url: "demo.jimuyida.com/wey/datas/demo/demoviewer/textures/lADPBbCc1gZUjLrNCADNCAA_2048_2048.jpg",
            used: !0,
            variants: {
                astc: {
                    size: 0,
                    url: ""
                },
                dxt1: {
                    size: 2796344,
                    url: "demo.jimuyida.com/wey/datas/demo/demoviewer/textures/57cfd515d498a5ebec38cd46bfba88c3.gtc"
                },
                dxt5: {
                    size: 0,
                    url: ""
                },
                etc_a: {
                    size: 0,
                    url: ""
                },
                etc_rgb: {
                    size: 2796344,
                    url: "demo.jimuyida.com/wey/datas/demo/demoviewer/textures/53162654960865df615a45f97db89660.gtc"
                },
                pvrtc1_4_rgb: {
                    size: 2796416,
                    url: "demo.jimuyida.com/wey/datas/demo/demoviewer/textures/808737a98c0a7d2c8df0213b4e0db3fc.gtc"
                },
                pvrtc1_4_rgba: {
                    size: 0,
                    url: ""
                }
            },
            width: 2048
        }]
    };
    e.groundData = n;
    var r = {
        materials: [{
            data: {
                alphaTest: 0,
                ambient: [.588, .588, .588],
                ambientTint: !1,
                aoMap: null,
                aoMapChannel: "r",
                aoMapOffset: [0, 0],
                aoMapTiling: [1, 1],
                aoMapUv: 0,
                aoMapVertexColor: !1,
                blendType: 3,
                bumpMapFactor: 1,
                conserveEnergy: !0,
                cubeMap: null,
                cubeMapProjection: 0,
                cubeMapProjectionBox: {
                    center: [0, 0, 0],
                    halfExtents: [.5, .5, .5]
                },
                cull: 0,
                depthTest: !0,
                depthWrite: !0,
                diffuse: [.588, .588, .588],
                diffuseMap: null,
                diffuseMapChannel: "rgb",
                diffuseMapOffset: [0, 0],
                diffuseMapTiling: [1, 1],
                diffuseMapTint: !1,
                diffuseMapUv: 0,
                diffuseMapVertexColor: !1,
                emissive: [0, 0, 0],
                emissiveIntensity: 1.33,
                emissiveMap: "bd671797d5264ac1b9fd20b45855e9644a9a755e",
                emissiveMapChannel: "rgb",
                emissiveMapOffset: [0, 0],
                emissiveMapTiling: [1, 1],
                emissiveMapTint: !1,
                emissiveMapUv: 0,
                emissiveMapVertexColor: !1,
                fresnelFactor: 0,
                fresnelModel: 0,
                glossMap: null,
                glossMapChannel: "r",
                glossMapOffset: [0, 0],
                glossMapTiling: [1, 1],
                glossMapUv: 0,
                glossMapVertexColor: !1,
                heightMap: null,
                heightMapChannel: "r",
                heightMapFactor: 1,
                heightMapOffset: [0, 0],
                heightMapTiling: [1, 1],
                heightMapUv: 0,
                lightMap: null,
                lightMapChannel: "rgb",
                lightMapOffset: [0, 0],
                lightMapTiling: [1, 1],
                lightMapUv: 1,
                lightMapVertexColor: !1,
                metalness: 1,
                metalnessMap: null,
                metalnessMapChannel: "r",
                metalnessMapOffset: [0, 0],
                metalnessMapTiling: [1, 1],
                metalnessMapTint: !1,
                metalnessMapUv: 0,
                metalnessMapVertexColor: !1,
                normalMap: null,
                normalMapOffset: [0, 0],
                normalMapTiling: [1, 1],
                normalMapUv: 0,
                occludeSpecular: 1,
                opacity: 1,
                opacityMap: null,
                opacityMapChannel: "r",
                opacityMapOffset: [0, 0],
                opacityMapTiling: [1, 1],
                opacityMapUv: 0,
                opacityMapVertexColor: !1,
                reflectivity: 1,
                refraction: 0,
                refractionIndex: .6666666666666666,
                shader: "blinn",
                shadowSampleType: 1,
                shininess: 9.09091,
                specular: [0, 0, 0],
                specularAntialias: !0,
                specularMap: null,
                specularMapChannel: "rgb",
                specularMapOffset: [0, 0],
                specularMapTiling: [1, 1],
                specularMapTint: !1,
                specularMapUv: 0,
                specularMapVertexColor: !1,
                sphereMap: null,
                useFog: !0,
                useGammaTonemap: !0,
                useLighting: !1,
                useMetalness: !1,
                useSkybox: !1
            },
            name: "Material #28",
            uid: "12124314",
            used: !0
        }],
        model: {
            asset: {
                hash: "49b56f9274890755c611fa17ee125063",
                mapping: [12124314],
                name: "p02_SIGN.gc",
                size: 1518,
                uid: "12124313",
                url: "demo.jimuyida.com/wey/datas/demo/demoviewer/models/p02_SIGN.gc",
                used: !0
            },
            transforms: {
                rotation: [0, 0, 0]
            }
        },
        textures: [{
            hash: "403c9869cd67938c6f68a81968b50db4",
            height: 1024,
            mipmaps: !0,
            name: "sign.jpg",
            uid: "bd671797d5264ac1b9fd20b45855e9644a9a755e",
            url: "demo.jimuyida.com/wey/datas/demo/demoviewer/textures/lADPBbCc1ggUpKvNBADNAgA_512_1024.jpg",
            used: !0,
            variants: {
                etc_rgb: {
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/8014ee81975723657f675331e305fb8c72ab4144/8deffd9614c237168c0c2f21078e152fa24eeba8/textures/684752404f8a8b959517d40661de5fca.gtc",
                    size: 349672
                },
                dxt1: {
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/8014ee81975723657f675331e305fb8c72ab4144/8deffd9614c237168c0c2f21078e152fa24eeba8/textures/ac36c8db60629c724a63f5ad0d233ef2.gtc",
                    size: 349672
                },
                pvrtc1_4_rgb: {
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/8014ee81975723657f675331e305fb8c72ab4144/8deffd9614c237168c0c2f21078e152fa24eeba8/textures/4bd404190a415d3a6f1010f6ae8dca6c.gtc",
                    size: 699264
                }
            },
            width: 512
        }]
    };
    e.signData = r
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = r(i(72))
      , n = r(i(405));
    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function a(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var h = function(t) {
        function e(e) {
            var i;
            return (i = t.call(this, e, "SpeederScene", "586f0f246df4c11e685cb2ffa62bd48ed335fc2f") || this).speederGround = i.app.ground.get(n.default.uid),
            i.assets.push(i.speederGround.materialAsset),
            i
        }
        a(e, t);
        var i = e.prototype;
        return i.onEnable = function t(e) {
            this.prevState.ground = this.app.ground._list[this.app.ground._currentIndex],
            this.prevState.scene = e,
            this.prevState.speed = this.app.model.wheels.speed,
            this.prevState.attributes = this.app.model.billboards.root.enabled,
            this.cubemapAsset = e.cubemapAsset || null;
            var i = this.app.assets.cubemaps.get("4ca6583062661f40f16aad364bbc8d2699cb4933");
            this.app.assets.cubemaps.setSkybox(i),
            this.app.ground.switch(this.speederGround.uid),
            this.app.camera.Bc.script.picker.enabled = !1,
            this.updateSize()
        }
        ,
        i.onDisable = function t() {
            this.cubemapAsset = null,
            this.app.ground.switch(this.prevState.ground.uid),
            this.app.camera.Bc.script.picker.enabled = !0,
            this.app.model.wheels.speed = this.prevState.speed,
            this.app.model.billboards.toggle(this.prevState.attributes),
            this.app.differ.target && (this.app.differ.target.wheels.speed = this.prevState.speed),
            this.prevState = {}
        }
        ,
        i.updateSize = function t() {
            var e, i = n.default.Bc.scale.concat();
            this.app.differ.target && (i[0] *= 2),
            (e = this.app.ground.plane).setLocalScale.apply(e, i)
        }
        ,
        e
    }(s.default);
    e.default = h
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = a(i(72))
          , n = a(i(518))
          , r = i(31);
        function a(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function h(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var c = function(e) {
            function i(i) {
                var s;
                (s = e.call(this, i, "高楼大厦", "40d223dd0415b616c9d2e2df34082e3d1493dff7") || this).type = "buiding",
                s.root = new t.Entity("Building Root"),
                s.root.setLocalPosition(0, -.05, 0),
                s.root.setLocalScale(5, 3, 5),
                s.root.enabled = !1;
                var a = (0,
                r.parseCubemapData)(n.default.cubemap)
                  , h = (0,
                r.parseModelData)(n.default);
                return s.cubemapAsset = s.app.assets.cubemaps.add(a, {
                    rgbm: !0
                }),
                s.modelAsset = s.app.assets.models.add(h),
                s.assets.push(s.modelAsset, s.cubemapAsset),
                s.root.Il("model", {
                    asset: s.modelAsset
                }),
                s
            }
            h(i, e);
            var s = i.prototype;
            return s.onEnable = function t() {
                this.prevState.toneMapping = this.app.scene.toneMapping,
                this.prevState.gammaCorrection = this.app.scene.gammaCorrection,
                this.prevState.skyboxIntensity = this.app.scene.skyboxIntensity,
                this.app.assets.cubemaps.setSkybox(this.cubemapAsset),
                this.root.enabled = !0,
                this.app.root.addChild(this.root),
                this.app.ground.root.enabled = !1,
                this.app.scene.toneMapping = 0,
                this.app.scene.gammaCorrection = 1,
                this.app.scene.skyboxIntensity = 1
            }
            ,
            s.onDisable = function t() {
                this.root.enabled = !1,
                this.app.root.removeChild(this.root),
                this.app.ground.root.enabled = !0,
                this.app.scene.toneMapping = this.prevState.toneMapping,
                this.app.scene.gammaCorrection = this.prevState.gammaCorrection,
                this.app.scene.skyboxIntensity = this.prevState.skyboxIntensity
            }
            ,
            i
        }(s.default);
        e.default = c
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = "//"
      , n = {
        cubemap: {
            textures: {
                right: {
                    used: !0,
                    hash: "52e56f547054460cd26617b67d3a6768",
                    uid: "01deab6af0a51ec1daee14970d6006ba4e68f1dd",
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/right.png",
                    width: 256,
                    variants: {
                        pvrtc1_4_rgba: {
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/c88060d60998bd0b77f50c57be4ee169.gtc",
                            size: 43904
                        },
                        dxt5: {
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/ef52cbe16f952847f6baf7eda7bc9671.gtc",
                            size: 87536
                        },
                        astc: {
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/48ad00d93f26c8261bdaf44510a0cd54.gtc",
                            size: 87556
                        },
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/e68a4312bf7088267f25ec2be3703fd5.gtc",
                            size: 43832
                        },
                        etc_a: {
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/d3fba69e00b1dea61c1a7decee0c0318.gtc",
                            size: 43832
                        }
                    },
                    name: "right.png",
                    height: 256
                },
                bottom: {
                    used: !0,
                    hash: "c0744f1ab0bcea1004f234650eebd109",
                    uid: "ecba2eb002e5174e6acd0c95305e906d115ebf1b",
                    flipY: !1,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/bottom.png",
                    width: 256,
                    variants: {
                        astc: {
                            size: 87556,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/1d7122419e41e9863149ef4b0756a381.gtc"
                        },
                        dxt5: {
                            size: 87536,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/bdbc9cd84f989e6a7e6dfe125a4aa5b2.gtc"
                        },
                        etc_a: {
                            size: 43832,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/350f1fca91993afc2b78c5dd484810c4.gtc"
                        },
                        etc_rgb: {
                            size: 43832,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/4bfe68adb565a99980b69fa43ff60c73.gtc"
                        },
                        pvrtc1_4_rgba: {
                            size: 43904,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/3c1a38fb37ecc51959fcb76b500a93a4.gtc"
                        }
                    },
                    name: "bottom.png",
                    height: 256
                },
                top: {
                    uid: "5d5b5ac6174f21dde74e253729058247717f550a",
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/top.png",
                    width: 256,
                    variants: {
                        astc: {
                            size: 87556,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/6243d8a82a149d8cf248ea8119baaed0.gtc"
                        },
                        dxt5: {
                            size: 87536,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/a82c818f9b8ab19d1e8ae4ad874fd309.gtc"
                        },
                        etc_a: {
                            size: 43832,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/44f9c112ef2843dba3eff31cc7aec670.gtc"
                        },
                        etc_rgb: {
                            size: 43832,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/94103a08510054b26c6bbba0908e34ac.gtc"
                        },
                        pvrtc1_4_rgba: {
                            size: 43904,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/fc1c2e1c81ea61e989b3907e0597f7ee.gtc"
                        }
                    },
                    name: "top.png",
                    height: 256
                },
                back: {
                    used: !0,
                    hash: "abe56d92a24a54ba8650c9583416c4e9",
                    uid: "31d738c1b95fa7d7ef37af7ce5719e994bc9c35c",
                    flipY: !1,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/back.png",
                    width: 256,
                    variants: {
                        astc: {
                            size: 87556,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/8b8d79a4102e5314b1b50dffc48ebd9e.gtc"
                        },
                        dxt5: {
                            size: 87536,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/bf575e0c456312df2f67766bb16ce8d0.gtc"
                        },
                        etc_a: {
                            size: 43832,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/a8985d866bfd314eba36ae3adacb822f.gtc"
                        },
                        etc_rgb: {
                            size: 43832,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/56817a7f94a04081cd3dc4150d04ee60.gtc"
                        },
                        pvrtc1_4_rgba: {
                            size: 43904,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/61208051ee943ab748625399d55ef0d0.gtc"
                        }
                    },
                    name: "back.png",
                    height: 256
                },
                front: {
                    used: !0,
                    hash: "b06710b0475a6b73f95757c29e9cc511",
                    uid: "9a76600e4d89cee44cd2a2d88e19d5b5297d7f13",
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/front.png",
                    width: 256,
                    variants: {
                        astc: {
                            size: 87556,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/9a5540dedd34d319154ba7fbe573bc76.gtc"
                        },
                        dxt5: {
                            size: 87536,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/3a319d46799e454242c665697720e9ca.gtc"
                        },
                        etc_a: {
                            size: 43832,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/88296c6c1f32759227f15d91a4cb767c.gtc"
                        },
                        etc_rgb: {
                            size: 43832,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/3c26e31e7d93c8ddece96882918bb165.gtc"
                        },
                        pvrtc1_4_rgba: {
                            size: 43904,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/fbc4ddafba215464a30dfbcb2e81b893.gtc"
                        }
                    },
                    name: "front.png",
                    height: 256
                },
                left: {
                    used: !0,
                    hash: "39d2026870bc55d0b3f7250d15697928",
                    uid: "d39b964af60cfc2aa608954edee1e58e32eb6102",
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/left.png",
                    width: 256,
                    variants: {
                        astc: {
                            size: 87556,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/a5345f4d11929c4a056703bcaaa65964.gtc"
                        },
                        dxt5: {
                            size: 87536,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/59f590b551c4af61d8688ba7ac830478.gtc"
                        },
                        etc_a: {
                            size: 43832,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/06a950757fe3941372c8724991a36547.gtc"
                        },
                        etc_rgb: {
                            size: 43832,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/e480a952f0d2a15d58696a5097d660cc.gtc"
                        },
                        pvrtc1_4_rgba: {
                            size: 43904,
                            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/67b276e1f36c7e555a892656196bf5bf.gtc"
                        }
                    },
                    name: "left.png",
                    height: 256
                }
            },
            used: !1,
            hash: "8c7fa44b28fb09f40a5e0b924e59faea",
            uid: "dc8ca6a905b1a641daa643d6c2cc20e492dd98e0",
            tags: [],
            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/cubemap/cubemap.dds",
            thumbnail_url: null,
            rgbm: !1,
            name: "高楼大厦"
        },
        model: {
            asset: {
                hash: "a9907a9fe722d6a6bbf4c1fde59ea222",
                mapping: ["5ba21069efa4d2317ae4834643ec906a", "29d8119fd0e8c9d8268e37c543c34364"],
                name: "半圆",
                uid: "40d223dd0415b616c9d2e2df34082e3d1493dff7",
                url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/models/model.gc",
                used: !0
            }
        },
        materials: [{
            data: {
                ambient: [.699999988079071, .699999988079071, .699999988079071, 1],
                diffuse: [1, 1, 1, 1],
                emissive: [0, 0, 0, 1],
                lightMap: "dcc61c584b38ed70374a93b90d1326b8",
                lightMapUv: 0,
                metalness: 0,
                name: "Sphere",
                opacityMapChannel: "g",
                shininess: 0,
                specular: [.3294117748737335, .3294117748737335, .3294117748737335, 1],
                useLighting: !1,
                useMetalness: !0,
                useSkybox: !1
            },
            name: "buiding-material-1",
            uid: "5ba21069efa4d2317ae4834643ec906a"
        }, {
            data: {
                aoMap: "24813dc8f9493274960ef3866df7c718",
                aoMapTiling: [15, 15],
                cubeMapProjectionBox: {
                    center: [0, 0, 0],
                    halfExtents: [.5, .5, .5]
                },
                diffuseMap: "55e943327193027c01440035f8b1c850",
                diffuseMapTiling: [15, 15],
                glossMap: "a1d9522a798cfb85965c1936fba20373",
                glossMapTiling: [15, 15],
                heightMapVertexColor: !1,
                name: "buiding-material-1",
                normalMap: "0e0a7ac5a39e2d0e5e8046f39a287345",
                normalMapTiling: [15, 15],
                normalMapVertexColor: !1,
                opacityMapChannel: "g",
                shininess: 65,
                specular: [.125490203499794, .125490203499794, .125490203499794, 1]
            },
            name: "buiding-material-1",
            uid: "29d8119fd0e8c9d8268e37c543c34364"
        }],
        textures: [{
            height: 512,
            name: "dcc61c584b38ed70374a93b90d1326b8.jpg",
            uid: "dcc61c584b38ed70374a93b90d1326b8",
            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/dcc61c584b38ed70374a93b90d1326b8.jpg",
            variants: {
                dxt1: {
                    size: 1398280,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/cd876e39c6bf382b60ecc377f3bbbcdf.gtc"
                },
                etc_rgb: {
                    size: 1398280,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/1c02f09717b581871034f3904b9e565d.gtc"
                },
                pvrtc1_4_rgb: {
                    size: 11185024,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/a14b6dacaf18c1d3cc4387bcc6f422e1.gtc"
                }
            },
            width: 4096,
            used: !0
        }, {
            uid: "24813dc8f9493274960ef3866df7c718",
            height: 512,
            name: "24813dc8f9493274960ef3866df7c718.jpg",
            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/24813dc8f9493274960ef3866df7c718.jpg",
            variants: {
                dxt1: {
                    size: 174904,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/3a400af5e052f58df4399279b00761d5.gtc"
                },
                etc_rgb: {
                    size: 174904,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/63fc43f55c15a328c0d40f3f41632513.gtc"
                },
                pvrtc1_4_rgb: {
                    size: 174976,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/17ebd18213ca256a7bb6957cfef7d864.gtc"
                }
            },
            width: 512,
            used: !0
        }, {
            uid: "55e943327193027c01440035f8b1c850",
            height: 512,
            name: "55e943327193027c01440035f8b1c850.jpg",
            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/55e943327193027c01440035f8b1c850.jpg",
            variants: {
                dxt1: {
                    size: 174904,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/429f52463453d9a4bd15f55afc8e3344.gtc"
                },
                etc_rgb: {
                    size: 174904,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/ba5f683ca92e806843be26dea3d62268.gtc"
                },
                pvrtc1_4_rgb: {
                    size: 174976,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/a83df889d81c7aee9e0ed7bb100a83dc.gtc"
                }
            },
            width: 512,
            used: !0
        }, {
            height: 512,
            uid: "a1d9522a798cfb85965c1936fba20373",
            name: "a1d9522a798cfb85965c1936fba20373.jpg",
            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/a1d9522a798cfb85965c1936fba20373.jpg",
            variants: {
                dxt1: {
                    size: 174904,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/5644139e093731c5e9eee8192f75bf19.gtc"
                },
                etc_rgb: {
                    size: 174904,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/99a6112f0e8065276c7c7ff72cad2802.gtc"
                },
                pvrtc1_4_rgb: {
                    size: 174976,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/8d1e1c2fb52f284213697fae671ef206.gtc"
                }
            },
            width: 512,
            used: !0
        }, {
            uid: "0e0a7ac5a39e2d0e5e8046f39a287345",
            height: 512,
            name: "0e0a7ac5a39e2d0e5e8046f39a287345.jpg",
            url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/0e0a7ac5a39e2d0e5e8046f39a287345.jpg",
            variants: {
                dxt1: {
                    size: 174904,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/f937b7155b9ca22c365c222d5f8b5d2f.gtc"
                },
                etc_rgb: {
                    size: 174904,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/970c9db23968cacfae62b0af87c756f5.gtc"
                },
                pvrtc1_4_rgb: {
                    size: 174976,
                    url: "//demo.jimuyida.com/wey/datas/viewer/assets/buildingscene/textures/b9b02574c15b6df105ef6a6a74a07f8e.gtc"
                }
            },
            width: 512,
            used: !0
        }],
        lights: [{
            enabled: !0,
            type: "directional",
            color: [.8392156958580017, .8392156958580017, .8392156958580017, 1],
            intensity: .5,
            castShadows: !1,
            shadowDistance: 10,
            shadowResolution: 1024,
            shadowBias: .2,
            normalOffsetBias: .05,
            range: 8,
            innerConeAngle: 0,
            outerConeAngle: 45,
            falloffMode: 0,
            shadowType: 3,
            vsmBlurSize: 11,
            vsmBlurMode: 1,
            vsmBias: .0025,
            cookieAsset: null,
            cookie: null,
            cookieIntensity: 1,
            cookieFalloff: !0,
            cookieChannel: "rgb",
            cookieAngle: 0,
            cookieScale: null,
            cookieOffset: null,
            shadowUpdateMode: 2,
            mask: 1,
            affectDynamic: !0,
            affectLightmapped: !1,
            bake: !1,
            bakeDir: !0,
            isStatic: !1
        }]
    };
    e.default = n
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = r(i(72))
      , n = i(31);
    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function a(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var h = function(t) {
        function e(e, i) {
            var s;
            return (s = t.call(this, e, i.cubemap.name, i.cubemap.uid) || this).type = "color",
            s.color = i.color,
            s.cubemapAsset = s.app.assets.cubemaps.add((0,
            n.parseCubemapData)(i.cubemap), {
                rgbm: i.cubemap.rgbm
            }),
            s.assets.push(s.cubemapAsset),
            s
        }
        a(e, t);
        var i = e.prototype;
        return i.onEnable = function t() {
            this.app.assets.cubemaps.setSkybox(this.cubemapAsset),
            this.app.scene.skyboxVisible = !1,
            this.app.Br.canvas.style.backgroundColor = "rgba(" + this.color.join(",") + ")",
            this.app.ground && (this.app.ground.root.enabled = !1)
        }
        ,
        i.onDisable = function t() {
            this.app.scene.skyboxVisible = !0,
            this.app.ground && (this.app.ground.root.enabled = !0),
            this.app.Br.canvas.style.backgroundColor = "transparent"
        }
        ,
        e
    }(s.default);
    e.default = h
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = h(i(105))
          , n = h(i(72))
          , r = h(i(521))
          , a = i(103);
        function h(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function c(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var o = function(e) {
            function i(i) {
                var s;
                return (s = e.call(this, i, "上海", "bc0b1e6cab8bee7cc8fa67219881d34c6771ec0f") || this).root = new t.Entity("Shanghai Root"),
                s.root.enabled = !1,
                s.modelAsset = i.assets.models.add((0,
                a.parseModelData)(r.default)),
                s.cubemapAsset = i.assets.cubemaps.add((0,
                a.parseCubemapData)(r.default.cubemap), {
                    rgbm: r.default.cubemap.rgbm
                }),
                s.assets.push(s.modelAsset, s.cubemapAsset),
                s.modelEntity = new t.Entity("Shanghai Model"),
                s.modelEntity.Il("model", {
                    asset: s.modelAsset
                }),
                s.modelEntity.setLocalPosition(0, -.1, 0),
                s.root.addChild(s.modelEntity),
                s
            }
            c(i, e);
            var n = i.prototype;
            return n.onEnable = function t() {
                this.prevState.scene = (0,
                s.default)(this.app.scene, ["skyboxIntensity"]),
                this.prevState.camera = (0,
                s.default)(this.app.camera.Bc.script.orbitCamera, ["distanceMax"]),
                this.app.scene.skyboxIntensity = 4,
                this.app.assets.cubemaps.setSkybox(this.cubemapAsset),
                this.app.camera.Bc.script.orbitCamera.distanceMax = 6,
                this.app.ground.root.enabled = !1,
                this.app.root.addChild(this.root),
                this.root.enabled = !0
            }
            ,
            n.onDisable = function t() {
                for (var e in this.prevState.scene)
                    this.app.scene[e] = this.prevState.scene[e];
                this.app.camera.Bc.script.orbitCamera.distanceMax = this.prevState.camera.distanceMax,
                this.root.enabled = !1,
                this.app.root.removeChild(this.root),
                this.app.ground.root.enabled = !0
            }
            ,
            i
        }(n.default);
        e.default = o
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = {
        cubemap: {
            name: "上海",
            uid: "2046fa1694add69fe8a19a4cc73a57d1a087e4e9",
            url: "demo.jimuyida.com/wey/datas/demo/shanghai/cubemaps/ec3083dade1878098b07bc30668187de.dds",
            rgbm: !0,
            loadFaces: !1,
            textures: {
                left: {},
                right: {},
                top: {},
                bottom: {},
                front: {},
                back: {}
            }
        },
        materials: [{
            data: {
                ambient: [.2, .2, .2],
                diffuse: [.8, .8, .8],
                emissive: [0, 0, 0],
                emissiveMap: "76b53637319cffd360f3d31add47cba28f7c1fbb",
                emissiveMapSize: 2048,
                shininess: 0,
                useFog: !1,
                useSkybox: !1,
                useLighting: !1,
                useGammaTonemap: !1
            },
            name: "Shanghai",
            uid: "2b798f28393973a74815e62b21bb4845d873be63"
        }],
        textures: [{
            name: "Shanghai_Bake_sunny.jpg",
            width: 4096,
            variants_512: {
                pvrtc1_4_rgb: {
                    size: 174976,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/c8222e445b63193b233ba3b1b8296623.gtc"
                },
                dxt1: {
                    size: 174904,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/7309799c37e624293e77d2aad193f6a7.gtc"
                },
                astc: {
                    size: 0,
                    url: ""
                },
                dxt5: {
                    size: 0,
                    url: ""
                },
                pvrtc1_4_rgba: {
                    size: 0,
                    url: ""
                },
                etc_a: {
                    size: 0,
                    url: ""
                },
                etc_rgb: {
                    size: 174904,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/e52bc1689adfbf2b848057110f374a78.gtc"
                }
            },
            variants: {
                pvrtc1_4_rgb: {
                    size: 11185024,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/21cce651913c697ec5ee2c86733f4883.gtc"
                },
                dxt1: {
                    size: 11184952,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/1237e95008d7c52bd067c19949c4af46.gtc"
                },
                astc: {
                    size: 0,
                    url: ""
                },
                dxt5: {
                    size: 0,
                    url: ""
                },
                pvrtc1_4_rgba: {
                    size: 0,
                    url: ""
                },
                etc_a: {
                    size: 0,
                    url: ""
                },
                etc_rgb: {
                    size: 11184952,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/07f30674703b6e5a75aca659ac4ce262.gtc"
                }
            },
            variants_1024: {
                pvrtc1_4_rgb: {
                    size: 699264,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/bbdb1b3227f5eb9c51481f4891b32bfc.gtc"
                },
                dxt1: {
                    size: 699192,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/085f298be76ec009a579b8ca56bdebea.gtc"
                },
                astc: {
                    size: 0,
                    url: ""
                },
                dxt5: {
                    size: 0,
                    url: ""
                },
                pvrtc1_4_rgba: {
                    size: 0,
                    url: ""
                },
                etc_a: {
                    size: 0,
                    url: ""
                },
                etc_rgb: {
                    size: 699192,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/ef77e3635aa79f672d5d595b96d99270.gtc"
                }
            },
            variants_256: {
                pvrtc1_4_rgb: {
                    size: 43904,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/3eb4ba267cf3c1c3c90298d8f54e8e90.gtc"
                },
                dxt1: {
                    size: 43832,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/cdb8a9f4bea0b2001533840a08c9fc0e.gtc"
                },
                astc: {
                    size: 0,
                    url: ""
                },
                dxt5: {
                    size: 0,
                    url: ""
                },
                pvrtc1_4_rgba: {
                    size: 0,
                    url: ""
                },
                etc_a: {
                    size: 0,
                    url: ""
                },
                etc_rgb: {
                    size: 43832,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/a8706ba0680f70e20544b255b3da0992.gtc"
                }
            },
            height: 4096,
            mipmaps: !0,
            variants_2048: {
                pvrtc1_4_rgb: {
                    size: 2796416,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/93c7069010aefa27097c1eb261fcf3ce.gtc"
                },
                dxt1: {
                    size: 2796344,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/29b1a58afa53cdca2ba90cf9f93220e3.gtc"
                },
                astc: {
                    size: 0,
                    url: ""
                },
                dxt5: {
                    size: 0,
                    url: ""
                },
                pvrtc1_4_rgba: {
                    size: 0,
                    url: ""
                },
                etc_a: {
                    size: 0,
                    url: ""
                },
                etc_rgb: {
                    size: 2796344,
                    url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/52fe916a01731fa84d5e16b224db7285.gtc"
                }
            },
            url: "demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/1e4f6530d00fd959481c91b6f1985bce02c0ad05/7b6c551a287be8d1f6c126317f2e0d4408d4d3ad/textures/594db79bf877c2ff5940950df48e782e.jpg",
            flipY: !0,
            uid: "76b53637319cffd360f3d31add47cba28f7c1fbb",
            hash: "594db79bf877c2ff5940950df48e782e",
            used: !0
        }],
        model: {
            asset: {
                name: "Shanghai",
                uid: "4f0cfce3d1260a9f4a53be385f291daf478c553e",
                hash: "4f0cfce3d1260a9f4a53be385f291daf478c553e",
                mapping: ["2b798f28393973a74815e62b21bb4845d873be63"],
                url: "demo.jimuyida.com/wey/datas/demo/shanghai/models/7ac0ca6e32df49cf684fdf636b3d9086.gc"
            }
        }
    };
    e.default = s
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = r(i(49)), n;
        function r(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function a(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var h = function(e) {
            function i() {
                return e.apply(this, arguments) || this
            }
            a(i, e);
            var n = i.prototype;
            return n.onEnable = function e() {
                var i = this;
                this.app.ground.root.enabled = !1,
                this.prevState.ambientLight = this.app.scene.ambientLight,
                this.prevState.skyboxIntensity = this.app.scene.skyboxIntensity,
                (0,
                s.default)(this.data.rendering).forEach(function(t) {
                    i.prevState[t] = i.app.scene[t]
                }),
                this.app.scene.setSkybox(this.cubemapAsset.resources),
                this.app.scene.skyboxIntensity = this.data.background.data.brightness,
                this.app.scene.ambientLight = new t.D(0,0,0),
                this.setScene(this.data.rendering),
                this.root.enabled = !0,
                this.app.root.addChild(this.root),
                this.setTextureSize(this.app.query.mps || 2048, ["ao7.jpg"])
            }
            ,
            n.onDisable = function t() {
                var e = this;
                this.app.ground.root.enabled = !0,
                this.app.scene.ambientLight = this.prevState.ambientLight,
                this.app.scene.skyboxIntensity = this.prevState.skyboxIntensity,
                (0,
                s.default)(this.data.rendering).forEach(function(t) {
                    e.app.scene[t] = e.prevState[t]
                }),
                this.root.enabled = !1,
                this.app.root.removeChild(this.root)
            }
            ,
            i
        }(r(i(157)).default);
        e.default = h
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = r(i(49)), n;
    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function a(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var h = function(t) {
        function e() {
            return t.apply(this, arguments) || this
        }
        a(e, t);
        var i = e.prototype;
        return i.onEnable = function t() {
            var e = this;
            this.app.ground.root.enabled = !1,
            this.prevState.skyboxIntensity = this.app.scene.skyboxIntensity,
            (0,
            s.default)(this.data.rendering).forEach(function(t) {
                e.prevState[t] = e.app.scene[t]
            }),
            this.app.scene.setSkybox(this.cubemapAsset.resources),
            this.app.scene.skyboxIntensity = this.data.background.data.brightness,
            this.setScene(this.data.rendering),
            this.root.enabled = !0,
            this.app.root.addChild(this.root),
            this.setCamera(this.cameraData),
            this.setTextureSize(this.app.query.mps || 2048, ["ao7.jpg"])
        }
        ,
        i.onDisable = function t() {
            var e = this;
            this.app.ground.root.enabled = !0,
            this.app.scene.skyboxIntensity = this.prevState.skyboxIntensity,
            (0,
            s.default)(this.data.rendering).forEach(function(t) {
                e.app.scene[t] = e.prevState[t]
            }),
            this.setCamera(this.app.configuration.cameraData),
            this.root.enabled = !1,
            this.app.root.removeChild(this.root)
        }
        ,
        e
    }(r(i(157)).default);
    e.default = h
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = r(i(49)), n;
    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function a(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var h = function(t) {
        function e() {
            return t.apply(this, arguments) || this
        }
        a(e, t);
        var i = e.prototype;
        return i.onEnable = function t() {
            var e = this;
            this.app.ground.root.enabled = !1,
            this.prevState.skyboxIntensity = this.app.scene.skyboxIntensity,
            (0,
            s.default)(this.data.rendering).forEach(function(t) {
                e.prevState[t] = e.app.scene[t]
            }),
            this.app.scene.setSkybox(this.cubemapAsset.resources),
            this.app.scene.skyboxIntensity = this.data.background.data.brightness,
            this.setScene(this.data.rendering),
            this.root.enabled = !0,
            this.app.root.addChild(this.root),
            this.setCamera(this.cameraData),
            this.setTextureSize(this.app.query.mps || 2048)
        }
        ,
        i.onDisable = function t() {
            var e = this;
            this.app.ground.root.enabled = !0,
            this.app.scene.skyboxIntensity = this.prevState.skyboxIntensity,
            (0,
            s.default)(this.data.rendering).forEach(function(t) {
                e.app.scene[t] = e.prevState[t]
            }),
            this.setCamera(this.app.configuration.cameraData),
            this.root.enabled = !1,
            this.app.root.removeChild(this.root)
        }
        ,
        e
    }(r(i(157)).default);
    e.default = h
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = r(i(49)), n;
    function r(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function a(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    var h = function(t) {
        function e() {
            return t.apply(this, arguments) || this
        }
        a(e, t);
        var i = e.prototype;
        return i.onEnable = function t() {
            var e = this;
            this.app.ground.root.enabled = !1,
            this.prevState.skyboxIntensity = this.app.scene.skyboxIntensity,
            (0,
            s.default)(this.data.rendering).forEach(function(t) {
                e.prevState[t] = e.app.scene[t]
            }),
            this.app.scene.setSkybox(this.cubemapAsset.resources),
            this.app.scene.skyboxIntensity = this.data.background.data.brightness,
            this.setScene(this.data.rendering),
            this.root.enabled = !0,
            this.app.root.addChild(this.root),
            this.setCamera(this.cameraData),
            this.setTextureSize(this.app.query.mps, ["tiny.jpg"])
        }
        ,
        i.onDisable = function t() {
            var e = this;
            this.app.ground.root.enabled = !0,
            this.app.scene.skyboxIntensity = this.prevState.skyboxIntensity,
            (0,
            s.default)(this.data.rendering).forEach(function(t) {
                e.app.scene[t] = e.prevState[t]
            }),
            this.setCamera(this.app.configuration.cameraData),
            this.root.enabled = !1,
            this.app.root.removeChild(this.root)
        }
        ,
        e
    }(r(i(157)).default);
    e.default = h
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = i(15)
      , n = {
        textures: [{
            used: !0,
            hash: "fcabaacf92f14e5aa022f5629879e47a",
            uid: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/fcabaacf92f14e5aa022f5629879e47a.jpg",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 1024,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/0c9c31c84a2f013d1e5018d7a8993f97.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/bb452ae72be2bd36f48883cdfe3a395e.gtc",
                    size: 43832
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/ebc4a46a5c3459fbc93e0ebad2ff2ec8.gtc",
                    size: 43904
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/ee6334c3da424bf12ff3e8517edf957f.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/2312fc1ba853ac3b7c39b72daff7bfb5.gtc",
                    size: 699192
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/a1db5e157d9e4524af8b190307f0a7bf.gtc",
                    size: 699264
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/45548afc82f0bf42b437ca239acc7bc3.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/832b7da7093ad807b8a8de1cf2ff62f7.gtc",
                    size: 174904
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/08be0030f88f3e6a397d82ee3859fc1e.gtc",
                    size: 174976
                }
            },
            width: 1024,
            name: "ao7.jpg"
        }, {
            used: !0,
            hash: "83bff0839cf1edcbd952e79c9c8d3561",
            uid: "f9183d83459587c490797688ebaf02ab50755a20",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/83bff0839cf1edcbd952e79c9c8d3561.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/0fef27c149426d52b21130f2876b888d.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/54680867be8750426e82032ae34d190e.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/e400d56045c4745a6bb48befa4836438.gtc",
                    size: 174904
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Bitmap2Material_3_Base_Color_2.png"
        }, {
            used: !0,
            hash: "36acd34d295a6c75eba150a22c66eeab",
            uid: "857c2ca4b9029b0c10709eae2116c3600e8e053a",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/36acd34d295a6c75eba150a22c66eeab.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 128,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/e75773c37fda65df8d8174d5656c22ad.gtc",
                    size: 11064
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/28e99d47a77ef5eaf3d28d6bc0a04823.gtc",
                    size: 11064
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/06bbe2aff6b704a1863e0e34bfc8cef7.gtc",
                    size: 11136
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/43a95d7da8c093b0f7f9371cad6d226d.gtc",
                    size: 22e3
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/c5e3909112574c11c2f680cc8edc4dba.gtc",
                    size: 22020
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 128,
            name: "Bitmap2Material_3_Base_Color_7.png"
        }, {
            used: !0,
            hash: "7b25e31036fa913f5d09cd2a1a39f403",
            uid: "cbfa985939f09abeb885ef3edd9d2248129b20b6",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/7b25e31036fa913f5d09cd2a1a39f403.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/98a34cf2e66a63b327982b1156af05c6.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/77604b963f60c737a7517ff1bde623f2.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/5a0b503d628b2d823388a732f0c359d3.gtc",
                    size: 174976
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/86ad9bac2ed60650dc1678b148bc70cc.gtc",
                    size: 349680
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/8ecaa897845d5d437d3ea1ba9b862e12.gtc",
                    size: 349700
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Tex_0504_0.png"
        }, {
            used: !0,
            hash: "d4908298852af7143564721f40be968b",
            uid: "8ba25af0aff1689adcfb95170da6cef05f3662d6",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/d4908298852af7143564721f40be968b.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/21647100fb56fd3ee691d1feaf0b16a2.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/fcb96c30dd1dcc7f8869a2d8c73dc3e1.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/4e958e2719ab0f87eff6c5c4dc7b6176.gtc",
                    size: 43832
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 256,
            name: "Bitmap2Material_3_Base_Color_3.png"
        }, {
            used: !0,
            hash: "56cf8c363b26e6a4e1327c5dfdbca423",
            uid: "2d3b151e8c48d00bfd7b9aa988a962af824aa02d",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/56cf8c363b26e6a4e1327c5dfdbca423.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/03b9c34b98a0d95029c20c183f85b77f.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/1874b88633befd6c537e7431480033ba.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/7777412e3f6de6b5fd833813b9dba413.gtc",
                    size: 43832
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 256,
            name: "lALPDgQ9qVH8sO7NBADNBAA_1024_1024.png_620x10000q90g.png"
        }, {
            used: !0,
            hash: "497131ad1fbc89972da72d3b1e8f0b69",
            uid: "5013796346dff58afecad56905060dd23734a6de",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/497131ad1fbc89972da72d3b1e8f0b69.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/f50778ccbff860b836dd76aeed69fea5.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/2da27db328f5540daadc13a7227c9a90.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/c75e363f1f8dc1264ee8dffdf208e123.gtc",
                    size: 43832
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 256,
            name: "Tex_2394_1.png"
        }, {
            used: !0,
            hash: "c1e0ac659881875377ee33ec69c6fce9",
            uid: "5cb6bc1db6796466d3b7b40f1f6724ef16fe09a6",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/c1e0ac659881875377ee33ec69c6fce9.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/b9b9cf95e3ae463ab041bf51d7a2fd03.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/07de1d7c5423f24cd213e74f7fe73bee.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/1c2b730fb1e5948154c656a5bc261394.gtc",
                    size: 43832
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/59ecc7c05d346eeb46bc4bacbec3be13.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/a8905915d66a76722a22f5757a46882f.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/80d5896506f811cef45b231b5feb2e74.gtc",
                    size: 174904
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Bitmap2Material_3_Base_Color_1.png"
        }, {
            used: !0,
            hash: "70dc15ca7b82c711cc9fa9a2e1b16b9e",
            uid: "8ac110df78faa24783379646466c4b3c037b7c52",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/70dc15ca7b82c711cc9fa9a2e1b16b9e.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 128,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/48be37450f6e521b796c7dab0f2f6d83.gtc",
                    size: 11064
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/28e99d47a77ef5eaf3d28d6bc0a04823.gtc",
                    size: 11064
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/edafadb971f8a89095c70f0fe378f738.gtc",
                    size: 11136
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/b24ea4974e2ddb28faf9f3b49b221679.gtc",
                    size: 22e3
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/8c8baf002d4e9dab4abe91d155992054.gtc",
                    size: 22020
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 128,
            name: "Bitmap2Material_3_Base_Color_9.png"
        }, {
            used: !0,
            hash: "8affa645f6f9e05515dc998161b3c46d",
            uid: "e04a98064ebf188401835e51f03cc9ee2402a9cc",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/8affa645f6f9e05515dc998161b3c46d.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/67c3f6bc7c705512aaf9b99c00f35ff9.gtc",
                    size: 21992
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/d9760318d83114cb237b2a871f86d9c5.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/3cc859139d30f76fbf68ec54b0cb312c.gtc",
                    size: 21992
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 128,
            name: "deng1.png"
        }, {
            used: !0,
            hash: "7ccdc443e1766c68d4b6d993bc36cfae",
            uid: "2edf763ab127045582b57b56722354e6890cd85d",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/7ccdc443e1766c68d4b6d993bc36cfae.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/c5e48ca47f63374d8d45564802cd01d3.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/c477294bfd5f1c8c9cb9d26ece26c19c.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/8d93b960bd69a3ee27de41586103a82c.gtc",
                    size: 174904
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Bitmap2Material_3_Base_Color.png"
        }, {
            used: !0,
            hash: "dba4d1d2bcc41029adc66af2599c285b",
            uid: "bfdefd01f804b24f219015acc8a04a1fe9a5e60e",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/dba4d1d2bcc41029adc66af2599c285b.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/c7b63d02a4cac5c3dcba9fcbb7cac9ea.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/2cac86fc89d916f6bc0fa93a9af1aa47.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/7b6a8af1d5043f642e579fd47a59bf47.gtc",
                    size: 43832
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 256,
            name: "Bitmap2Material_3_Normal_3.png"
        }, {
            used: !0,
            hash: "e9717adf478fe9852ae156674916c683",
            uid: "79b8d85b29633c00ace49f700202db799d62d4f0",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/e9717adf478fe9852ae156674916c683.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/a38e2f060f608a3b37db6578796e1686.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/0a2abc3912b42a2d61d7b4a51acc7a69.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/a0eeb23c168e8af4f561cb011e66535a.gtc",
                    size: 174904
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "changjing_xiaozhuzi_BaseColor.png"
        }, {
            used: !0,
            hash: "fbdb9ac74ffa132429855e1564b273a5",
            uid: "9703f17c87f16bb73c400e1c974ef612f3b0bb34",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/fbdb9ac74ffa132429855e1564b273a5.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 2048,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/dfc11a22363c6a8f3d1044fef5193ac0.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/56869ff14326b75ee31557e18a66bd80.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/824612521898b14ef35507dd7058a088.gtc",
                    size: 43832
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/49a77f5d04f0274eafe85eae572e1a70.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/003db7557aab8427e6fe119d609e462b.gtc",
                    size: 699264
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/90920ed3154559fdf2ddc2098317d712.gtc",
                    size: 699192
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/65a63ec160e8bb39023bce0fc88aed0a.gtc",
                    size: 2796344
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/0cb0cd5c2ee7fe17b0d641932d561f0b.gtc",
                    size: 2796416
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/1dbd5afca031058659130c31a7c05c40.gtc",
                    size: 2796344
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/4dd9166e47dbde5c51d370e7ea17a945.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/fee3cea379a0cf4eef772d9d9a9f5b1a.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/8b8f55d4cda4c66daf51680517d295d8.gtc",
                    size: 174904
                }
            },
            width: 2048,
            name: "changjing_baisezhuan_BaseColor.png"
        }, {
            used: !0,
            hash: "fedff2d8be9e40482e1faba4df5d2f63",
            uid: "f34c9d2b2946a2f75ff88d9c491ba16cf87c53a2",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/fedff2d8be9e40482e1faba4df5d2f63.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/b37d83f827f33beb0cb8c4d31d814da0.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/a188108fa6c3ab5ec9f6f97603cdcb60.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/f5e2bd44320f1a2ec25f7771dca9bcd2.gtc",
                    size: 43904
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/ea3afb3509a06bdf2597bfa42f8ba781.gtc",
                    size: 87536
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/3213c5d30f36b71ed718c83ee3cd6561.gtc",
                    size: 87556
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/98ecd4bc702f6fcbb651f254c910fc2f.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/6d775d25f8eab8768bede112a8f84312.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/0bb93599312dca905426cc7f84433327.gtc",
                    size: 174976
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/077e47eefb6a5292f69ea529c732872e.gtc",
                    size: 349680
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/3298be56298c89daf198d75dcb11746c.gtc",
                    size: 349700
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Bitmap2Material_3_Base_Color_10.png"
        }, {
            used: !0,
            hash: "41c3e7409870dad663f4143d0a945f23",
            uid: "bbdecd18d757769ff076feadb09f5da000f06adf",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/41c3e7409870dad663f4143d0a945f23.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/08241105b83d21db38cc8a672ff81f67.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/31fde7f69b698efae99a27b64ffb465c.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/03abe3e146c2702843b69f2804d95df4.gtc",
                    size: 43832
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 256,
            name: "Bitmap2Material_3_Base_Color_5.png"
        }, {
            used: !0,
            hash: "d54df14248332a7136c0564b7affc9aa",
            uid: "4bb69d65de82f3a339856027cdfa142dc20fc83e",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/d54df14248332a7136c0564b7affc9aa.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/39002532368c891f89edb9f1be0766ee.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/6115d069431a0c6e05bd8e90378d4951.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/727bd7bf3e8945fa379eee3ea782bd97.gtc",
                    size: 43832
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 256,
            name: "tilling_sample_DefaultMaterial_BaseColor_1.png"
        }, {
            used: !0,
            hash: "956f3f3691d4ea9f3b5cec32de1ef29a",
            uid: "d4d7c2a66d663420b0e6ada8aa57c3547b58d36f",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/956f3f3691d4ea9f3b5cec32de1ef29a.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/b683e9a9324e8453f2570ec165ac9a8a.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/d68e0d3b75db39bc169b049892623ebd.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/932fa285ea0ba2349647009e31dfa202.gtc",
                    size: 174976
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/2b4582fe7bc4aadc0a9314a0a9857ef4.gtc",
                    size: 349680
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/6740b704bcf8aaedc9e5af3a42a9dc3f.gtc",
                    size: 349700
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Tex_2291_0.png"
        }, {
            used: !0,
            hash: "9cf38d1063eccd62b9ce5866c7452d9c",
            uid: "eab6051c5d86b2e5c24b9f82d1de475b068162f4",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/9cf38d1063eccd62b9ce5866c7452d9c.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 1024,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/b23df93918b591b81d1713614cbada39.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/72539069d1e978c40f4b9d3c790060cc.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/889a9d6811b0700024a5ab9dfa161751.gtc",
                    size: 43832
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/daedde8253fda6fdfdf96c76f5c1aabd.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/d5eeba7c25b149146037888bf9c3c5e7.gtc",
                    size: 699264
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/65911e24fad0bdca1eb86e71669b5eab.gtc",
                    size: 699192
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/87c25d4a8a355c0c78e5c3c9f4ef2dd0.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/2d02f923f927add8273d49d2cd078d7e.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/787ab0dfe6ea0a1227c51cce8b0bc8d4.gtc",
                    size: 174904
                }
            },
            width: 1024,
            name: "Material $0_Base_Color.png"
        }, {
            used: !0,
            hash: "bf3de41c711774cd70c82e4c2d280681",
            uid: "7d91b9f738c6979143017bc7156f5e40e8128954",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/bf3de41c711774cd70c82e4c2d280681.jpg",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/c1a8f4a8bf2bf10049fbf1cf7f00c0ad.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/0484707b2c771baa44671d4b99811549.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/8e883e3cbb493496726da56712da1cd7.gtc",
                    size: 43832
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/860d6ef83b42ef27036f97035811f8f1.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/4c0a3a81119ca91f2e902742cf60960e.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/15e33d12a3bf44a0faf70dc0ff0a1fe9.gtc",
                    size: 174904
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Tex_0504.jpg"
        }, {
            used: !0,
            hash: "a58574f7a4c1a96d764c96899f252582",
            uid: "297e8ecec840596597ab2ed03a51e9c63ddc2964",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/a58574f7a4c1a96d764c96899f252582.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/d9c729d967cb512736f1d789f55e09ac.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/bfa2b4ecbbdf5a6e18fdeab2451757da.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/fbf7f1667ff14387c7bc506abb760d76.gtc",
                    size: 43832
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 256,
            name: "Bitmap2Material_3_Base_Color_red.png"
        }, {
            used: !0,
            hash: "3f8865af7db4eda953fb96bdd8b0f0fc",
            uid: "edf6b265ef080077da80ddf449c61bd7be5e8118",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/3f8865af7db4eda953fb96bdd8b0f0fc.jpg",
            variants_2048: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/e411875d07f845fafc56c58839268307.gtc",
                    size: 2796344
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/29d48e45ef75058ab63fcdd58db0758e.gtc",
                    size: 2796344
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/6be2fdf1e7a599715f43ed1caff4eaf9.gtc",
                    size: 2796416
                }
            },
            mipmaps: !0,
            height: 4096,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/ac6f552d010fb05fcc466ae7dab566b2.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/e53792985f27546a531eb69154d738f9.gtc",
                    size: 43832
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/130484ee42b4f825d3274bd183841ba9.gtc",
                    size: 43904
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/665cb84564a8ea83d644ac596c042ffc.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/898d7a898ded98556b26df46f3533146.gtc",
                    size: 699192
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/2aa3a332357fb4d127b8ee27d43695a3.gtc",
                    size: 699264
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/8d74b3251fe4525cdc26bd761ac3e6ca.gtc",
                    size: 11184952
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/ecd6eff6ef5e5da098218c823f980aca.gtc",
                    size: 11184952
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/e11ccde3ffb460a135855aa86b4b27f6.gtc",
                    size: 11185024
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/ceff7bb444ff89d965d5766b41e9687a.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/2f2cd4b90d9401ede1409552e97f6d06.gtc",
                    size: 174904
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/899706d3d150ae21834cf07925fe81b3.gtc",
                    size: 174976
                }
            },
            width: 8192,
            name: "Left_00000.jpg"
        }, {
            used: !0,
            hash: "7fa6981ca92a1cf3cf47d5db20193793",
            uid: "58ee929eacdcfcaab1350177a5f8e1a5ecbf84c4",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/7fa6981ca92a1cf3cf47d5db20193793.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/81608c3a00a083174901163b4a397e7f.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/74bd92c6543badc727d44847bb3b7b80.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/66ae6685fb15cbe7d3247eb567ee7b3d.gtc",
                    size: 43904
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/308d73c50412023b4f1c833e7fda318e.gtc",
                    size: 87536
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/6db6dabbdfaf78b07507d5afad626e5f.gtc",
                    size: 87556
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/907428b8acfce38ee1f89a7f76dbd500.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/30a53065ea32a8aa8dddf6c869d53c3a.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/7bde5a50ad5bb995e1fdedb855038b2a.gtc",
                    size: 174976
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/de33f341d0cfe3aeeec7aae0cfed6aee.gtc",
                    size: 349680
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/5f62bc2e248bc161efacfd355e4ad2b1.gtc",
                    size: 349700
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "shu.png"
        }, {
            used: !0,
            hash: "635a4e5f991834d0478c12367572816b",
            uid: "7bb1a3daf43b54f90eb4e2f88b08b672f52f0227",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/635a4e5f991834d0478c12367572816b.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/9511b74118c1123fce063aeab02a2fbe.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/1583d8e457207dfd458a3c4c11542521.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/05f70705bb5141bab16b59c051106759c8235519/textures/0e48d5848d6d714a2009ed06d388a830.gtc",
                    size: 174904
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Bitmap2Material_3_Base_Color_8.png"
        }],
        rendering: {
            toneMapping: 0,
            gammaCorrection: 0,
            fogStart: 0,
            fogEnd: 500,
            fog: "linear",
            fogColor: [33, 24, 11, 1],
            fogDensity: .01,
            exposure: 1.22
        },
        size_marker: {
            color: [152, 152, 152, 1],
            enabled: !1,
            wheel_offset: 0,
            wheelbase: 0,
            orin_size: [290.425, 182.055, 290.368],
            exclude_meshes: [],
            categories: [],
            size: [140.461, 88.069, 140.383]
        },
        floor: {
            shadow: {
                scale: 1
            },
            enabled: !1
        },
        orbits: [{
            distance: 9.374460082305676,
            fov: 60,
            title: "默认视角",
            yaw: 36,
            settings: {
                pitchAngleMin: 0,
                distanceMax: 17,
                distanceMin: 4,
                pitchAngleMax: 90
            },
            inverted: !1,
            pivotPoint: [0, .6265384554862976, 0],
            annotations: [],
            pitch: -14.399999999999977,
            position: [5.07744026184082, 2.957871913909912, 7.527614593505859],
            type: "front",
            id: "7d713184-f180-47b3-92d1-4458a75c1afd"
        }],
        camera: {
            fov: 60,
            move: !1,
            nearClip: .05,
            navigator: {
                distance: 9.374460082305676,
                yaw: 10476,
                pivotPoint: [0, .6265384554862976, 0],
                pitch: -14.399999999999977,
                position: [5.337057113647461, 2.957871913909912, 7.345829010009766],
                type: "orbit"
            },
            advanced: !1
        },
        category_data: {
            scene: {}
        },
        wireframe: {
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/sources/c84f302e7d9a756e11e552ff7341a555.gc",
            color: [255, 255, 255, 1],
            enabled: !1
        },
        scenes: {
            scene: null
        },
        general: {
            modelRotation: [0, 0, 0],
            renderer: "PBR"
        },
        environment: {
            cubemapUid: "49043123eec65939a7ae2f787342b85f631fbcd3",
            brightness: .8,
            enabled: !0,
            type: "user"
        },
        lights: {
            car: {
                data: [],
                colors: {
                    A: [.5, .5, .5, 1],
                    C: [1, .49019607843137253, .23137254901960785, 1],
                    B: [.25, .7490196078431373, .9411764705882353, 1]
                },
                enabled: !0
            },
            enabled: !0,
            data: [{
                vsmBlurSize: 11,
                color: [247, 235, 214, 1],
                intensity: .1,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 52.72,
                newName: "light1",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light1",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 10,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }, {
                vsmBlurSize: 11,
                color: [255, 231, 60, 1],
                intensity: .88,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 100,
                newName: "light2",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light2",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 10,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }, {
                vsmBlurSize: 11,
                color: [255, 212, 115, 1],
                intensity: 5,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 75,
                newName: "light3",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light3",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 4.942,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }, {
                vsmBlurSize: 11,
                color: [255, 232, 168, 1],
                intensity: .72,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 35.87,
                newName: "light3",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light3",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 4.0280000000000005,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }, {
                vsmBlurSize: 11,
                color: [240, 249, 174, 1],
                intensity: 1,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 45,
                newName: "light4",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light4",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 4.297,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }, {
                vsmBlurSize: 11,
                color: [255, 205, 0, 1],
                intensity: 1.36,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 45,
                newName: "light5",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light5",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 10,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }]
        },
        materials: [{
            used: !0,
            data: {
                diffuseMap: "eab6051c5d86b2e5c24b9f82d1de475b068162f4",
                cubeMap: "5884e13115cfca1f1316e2c026fa75dcd810028b",
                layer: 15,
                reflectivity: 2.65,
                roughness: 100,
                emissive: [.16470588235294117, .13725490196078433, .0784313725490196, 1],
                specular: [.30196078431372547, .30196078431372547, .30196078431372547, 1],
                emissiveIntensity: .5,
                shininess: 18,
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                aoMapUv: 1
            },
            name: "Material $0",
            uid: "5180440865bd129ee0f07342ea15716833a4d749"
        }, {
            used: !0,
            data: {
                layer: 15,
                useMetalness: !0,
                shininess: 100,
                roughness: 82,
                specular: [.35294117647058826, .35294117647058826, .35294117647058826, 1],
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                aoMapUv: 1,
                diffuse: [.30196078431372547, .30196078431372547, .30196078431372547, 1]
            },
            name: "_changjing_changjingTex_0513_0_dds2",
            uid: "605c6c1ba55df02ebbb0b5bc35f0b07646c9c69b"
        }, {
            used: !0,
            data: {
                cull: 0,
                opacity: .15,
                layer: 15,
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                cubeMap: "aefe7036e0896db1c5049ecade443fb1fe0b31d4",
                shininess: 100,
                reflectivity: 4.58,
                emissive: [.32941176470588235, .32941176470588235, .32941176470588235, 1],
                specular: [.5215686274509804, .5215686274509804, .9058823529411765, 1],
                blendType: 2,
                roughness: 75,
                aoMapUv: 1
            },
            name: "dazhuanpanboli",
            uid: "deb9611f6f810ae3a11c05c699d8dc6a2d89ced1"
        }, {
            used: !0,
            data: {
                diffuseMapTint: !0,
                diffuseMap: "edf6b265ef080077da80ddf449c61bd7be5e8118",
                diffuseMapVertexColor: !0,
                layer: 15,
                emissiveMap: "edf6b265ef080077da80ddf449c61bd7be5e8118",
                emissive: [1, 1, 1, 1],
                emissiveIntensity: .88,
                shininess: 100,
                roughness: 0
            },
            name: "sky",
            uid: "3df553aa9aa02ee631530252ac3e7831bb00535c"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMap: "857c2ca4b9029b0c10709eae2116c3600e8e053a",
                aoMapChannel: "r",
                layer: 15,
                emissiveMap: "857c2ca4b9029b0c10709eae2116c3600e8e053a",
                emissive: [1, 1, 1, 1],
                useMetalness: !0,
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                diffuse: [.64, .64, .64, 1],
                diffuseMapTint: !0,
                useLighting: !1,
                roughness: 0,
                specular: [.07450980392156863, .07450980392156863, .07450980392156863, 1],
                emissiveIntensity: .51,
                shininess: 0,
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                aoMapUv: 1
            },
            name: "_changjing_changjing01_Tex_0684_0_dds",
            uid: "1bbb92138592257d1e996168f924e0ff9521ee54"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMap: "8ba25af0aff1689adcfb95170da6cef05f3662d6",
                aoMapChannel: "r",
                layer: 15,
                emissiveMap: "8ba25af0aff1689adcfb95170da6cef05f3662d6",
                metalness: .67,
                emissive: [1, 1, 1, 1],
                useMetalness: !0,
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                diffuse: [.83, .83, .83, 1],
                diffuseMapTint: !0,
                roughness: 100,
                specular: [.06666666666666667, .06666666666666667, .06666666666666667, 1],
                emissiveIntensity: .33,
                shininess: 23,
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                aoMapUv: 1
            },
            name: "_changjing_changjing01_Tex_13881_0_dds",
            uid: "baee2c864bcbdf7cc9296e4c7f07c26c51732a2a"
        }, {
            used: !0,
            data: {
                opacity: 0,
                layer: 15,
                aoMapChannel: "r",
                aoMapUv: 1,
                emissive: [.11764705882352941, .07450980392156863, .047058823529411764, 1],
                roughness: 83,
                specular: [.10588235294117647, .10588235294117647, .10588235294117647, 1],
                emissiveIntensity: .61,
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                shininess: 23,
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                useMetalness: !0,
                diffuse: [.3764705882352941, .34509803921568627, .30980392156862746, 1]
            },
            name: "_changjing_changjing01_Tex_2484_0_dds",
            uid: "a0a68d9089ea67acaf9b54b3337f6548fc24bd93"
        }, {
            used: !0,
            data: {
                opacity: 0,
                layer: 15,
                roughness: 75,
                diffuse: [.587999999523163, .587999999523163, .587999999523163, 1],
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1]
            },
            name: "_changjing_changjingTex_0465_0_dds",
            uid: "bc15e4ec15abc4b67fdaa8a570b7f24e0fbd7a1a"
        }, {
            used: !0,
            data: {
                opacity: 0,
                layer: 15,
                roughness: 75,
                diffuse: [.21176470588235294, .20784313725490197, .20784313725490197, 1],
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1]
            },
            name: "_changjing_changjingTex_0474_0_dds",
            uid: "6bee370ddd27b3885dc86054d2b9181bbdacccfe"
        }, {
            used: !0,
            data: {
                opacity: 0,
                layer: 15,
                aoMapChannel: "r",
                aoMapUv: 1,
                emissive: [.058823529411764705, .058823529411764705, .058823529411764705, 1],
                roughness: 94,
                specular: [.07450980392156863, .07450980392156863, .07450980392156863, 1],
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                shininess: 21,
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                useMetalness: !0,
                diffuse: [.3137254901960784, .3137254901960784, .3176470588235294, 1]
            },
            name: "_changjing_changjingTex_0809_0_dds",
            uid: "f5a85a13153d16245b1edee50d6a5a0b54edea84"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMap: "5013796346dff58afecad56905060dd23734a6de",
                useLighting: !1,
                layer: 15,
                emissiveMap: "5013796346dff58afecad56905060dd23734a6de",
                roughness: 0,
                refractionIndex: 2.05,
                emissive: [1, 1, 1, 1],
                specular: [.2627450980392157, .2627450980392157, .2627450980392157, 1],
                reflectivity: 0,
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                shininess: 100,
                cubeMapProjectionBox: {
                    halfExtents: [.5, .5, .5],
                    center: [0, 0, 0]
                },
                aoMapUv: 1
            },
            name: "_changjing_changjingTex_2394_0_dds",
            uid: "0dc5f6e7fcc5a96e1ac4defff3d9ec0c2bd8a625"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMapTint: !0,
                diffuseMap: "7bb1a3daf43b54f90eb4e2f88b08b672f52f0227",
                aoMapChannel: "r",
                aoMapUv: 1,
                layer: 15,
                emissiveMap: "7bb1a3daf43b54f90eb4e2f88b08b672f52f0227",
                emissive: [1, 1, 1, 1],
                specular: [.12549019607843137, .12549019607843137, .12549019607843137, 1],
                emissiveIntensity: .78,
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                shininess: 73,
                roughness: 100,
                useMetalness: !0,
                diffuse: [.66, .66, .66, 1]
            },
            name: "_changjing_changjingTex_2689_0_dds",
            uid: "30e0a98592a5b263c6bacce7e18ec7ff79b26dd0"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMap: "2edf763ab127045582b57b56722354e6890cd85d",
                layer: 15,
                emissiveMap: "2edf763ab127045582b57b56722354e6890cd85d",
                emissive: [1, 1, 1, 1],
                emissiveIntensity: .6,
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                shininess: 100,
                roughness: 75,
                aoMapUv: 1
            },
            name: "_changjing_changjingTex_9271_0_dds",
            uid: "9ac63245b6d2151fb1350c05912d5e1f5b1fc6d2"
        }, {
            used: !0,
            data: {
                opacity: 0,
                layer: 15,
                aoMapChannel: "r",
                bumpiness: -1,
                emissive: [1, 1, 1, 1],
                emissiveMap: "9703f17c87f16bb73c400e1c974ef612f3b0bb34",
                shininess: 0,
                diffuseMapTiling: [.6, .6],
                ambient: [.941176533699036, .870588302612305, .592156887054443, 1],
                roughness: 100,
                diffuse: [.27058823529411763, .27058823529411763, .27058823529411763, 1],
                diffuseMapTint: !0,
                normalMapTiling: [.6, .6],
                emissiveIntensity: .39,
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                aoMapUv: 1,
                emissiveMapTiling: [.6, .6]
            },
            name: "baisezhuan",
            uid: "a2bbfc2271b756f4fbfdd0ee3a5d10b3130045aa"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMapTint: !0,
                diffuseMap: "8ac110df78faa24783379646466c4b3c037b7c52",
                aoMapChannel: "r",
                layer: 15,
                emissiveMap: "8ac110df78faa24783379646466c4b3c037b7c52",
                roughness: 75,
                emissive: [1, 1, 1, 1],
                heightMapFactor: 2,
                emissiveIntensity: .45,
                ambient: [.52549022436142, .890196144580841, .329411774873734, 1],
                shininess: 0,
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                aoMapUv: 1,
                diffuse: [.68, .68, .68, 1]
            },
            name: "caodi",
            uid: "73e1418801b01302471d63cb4e0585301ed71bc8"
        }, {
            used: !0,
            data: {
                layer: 15,
                aoMapChannel: "r",
                emissive: [.24705882352941178, .03529411764705882, .03529411764705882, 1],
                roughness: 100,
                useMetalness: !0,
                diffuseMapTiling: [20, 20],
                specular: [.00392156862745098, .00392156862745098, .00392156862745098, 1],
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                aoMapUv: 1,
                diffuse: [.4392156862745098, .09803921568627451, .09803921568627451, 1],
                emissiveIntensity: .8
            },
            name: "hongditan",
            uid: "7a4d03ef0cbbe0173117b5e7f5d40cacfaaa07f1"
        }, {
            used: !0,
            data: {
                layer: 15,
                aoMapChannel: "r",
                shininess: 0,
                emissiveMap: "4bb69d65de82f3a339856027cdfa142dc20fc83e",
                emissive: [1, 1, 1, 1],
                useMetalness: !0,
                diffuseMapTiling: [.6, .6],
                ambient: [.854902029037476, .505882382392883, .521568655967712, 1],
                blendType: 2,
                roughness: 85,
                diffuse: [.5529411764705883, .3686274509803922, .3686274509803922, 1],
                bumpiness: 0,
                opacityMapUv: 1,
                normalMapTiling: [.6, .6],
                heightMapFactor: .32,
                emissiveIntensity: .68,
                opacityMapChannel: "r",
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                aoMapUv: 1,
                emissiveMapTiling: [.6, .6]
            },
            name: "hongzhuan",
            uid: "4e0e085e7f360241762055387370f67ded08e41f"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMap: "2d3b151e8c48d00bfd7b9aa988a962af824aa02d",
                aoMapChannel: "r",
                layer: 15,
                emissiveMap: "2d3b151e8c48d00bfd7b9aa988a962af824aa02d",
                metalness: .66,
                emissive: [1, 1, 1, 1],
                ambient: [.478431403636932, .854902029037476, .94901967048645, 1],
                diffuse: [.56, .56, .56, 1],
                diffuseMapTint: !0,
                roughness: 100,
                specular: [.06666666666666667, .06666666666666667, .06666666666666667, 1],
                emissiveIntensity: .45,
                shininess: 33,
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                aoMapUv: 1
            },
            name: "huatanbianyuan",
            uid: "4523e2071915d32577c064f8f3b0eafa3798fd84"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMapTint: !0,
                diffuseMap: "f9183d83459587c490797688ebaf02ab50755a20",
                aoMapChannel: "r",
                layer: 15,
                emissiveMap: "f9183d83459587c490797688ebaf02ab50755a20",
                roughness: 75,
                emissive: [1, 1, 1, 1],
                emissiveIntensity: .17,
                ambient: [.592156887054443, .607843160629272, .952941238880157, 1],
                shininess: 53,
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                aoMapUv: 1,
                diffuse: [.5529411764705883, .5490196078431373, .5490196078431373, 1]
            },
            name: "huatanzhuan",
            uid: "8744a559a0a6c208682ac7ee513564a5ef9ae929"
        }, {
            used: !0,
            data: {
                diffuseMapTint: !0,
                diffuseMap: "d4d7c2a66d663420b0e6ada8aa57c3547b58d36f",
                useMetalness: !0,
                opacityMap: "7d91b9f738c6979143017bc7156f5e40e8128954",
                layer: 15,
                roughness: 0,
                blendType: 2,
                opacityMapChannel: "g"
            },
            name: "lambert14",
            uid: "bd9c5326b234c313c9f1914434d91d65640ffbcd"
        }, {
            used: !0,
            data: {
                diffuseMap: "f34c9d2b2946a2f75ff88d9c491ba16cf87c53a2",
                aoMapChannel: "r",
                useLighting: !1,
                layer: 15,
                emissiveMap: "f34c9d2b2946a2f75ff88d9c491ba16cf87c53a2",
                roughness: 100,
                emissive: [1, 1, 1, 1],
                specular: [.10588235294117647, .10588235294117647, .10588235294117647, 1],
                emissiveIntensity: .51,
                shininess: 95,
                metalnessMap: "f34c9d2b2946a2f75ff88d9c491ba16cf87c53a2",
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                aoMapUv: 1
            },
            name: "lambert2",
            uid: "2ad6a6c082cd784e1d8509c202527c6ef0ceb466"
        }, {
            used: !0,
            data: {
                cull: 0,
                opacityMap: "7d91b9f738c6979143017bc7156f5e40e8128954",
                layer: 15,
                blendType: 2,
                opacityMapChannel: "b",
                diffuseMap: "cbfa985939f09abeb885ef3edd9d2248129b20b6",
                roughness: 75
            },
            name: "lambert5",
            uid: "59e2d9117b3c6acc6c65ec319a53cf4dbbc7cc1e"
        }, {
            used: !0,
            data: {
                cull: 0,
                diffuseMapTint: !0,
                layer: 14,
                useMetalness: !0,
                opacityMap: "7d91b9f738c6979143017bc7156f5e40e8128954",
                diffuseMap: "cbfa985939f09abeb885ef3edd9d2248129b20b6",
                roughness: 100,
                blendType: 2,
                opacityMapChannel: "b",
                diffuse: [.2784313725490196, .2784313725490196, .2784313725490196, 1]
            },
            name: "lambert7",
            uid: "6f089eed62a322aaf471ca67542b57ca47bc14fc"
        }, {
            used: !0,
            data: {
                diffuseMapTint: !0,
                diffuseMap: "bbdecd18d757769ff076feadb09f5da000f06adf",
                aoMapChannel: "r",
                layer: 15,
                emissiveMap: "bbdecd18d757769ff076feadb09f5da000f06adf",
                roughness: 64,
                emissive: [1, 1, 1, 1],
                useMetalness: !0,
                emissiveIntensity: .41,
                specular: [.08235294117647059, .08235294117647059, .08235294117647059, 1],
                shininess: 51,
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                aoMapUv: 1,
                diffuse: [.72, .72, .72, 1]
            },
            name: "loutibai",
            uid: "b2536c390498d9f8f36eec43f28e55aff9d20448"
        }, {
            used: !0,
            data: {
                diffuseMap: "e04a98064ebf188401835e51f03cc9ee2402a9cc",
                aoMapChannel: "r",
                metalness: .63,
                layer: 15,
                roughness: 66,
                emissive: [1, 1, 1, 1],
                useMetalness: !0,
                emissiveMap: "e04a98064ebf188401835e51f03cc9ee2402a9cc",
                specular: [.14901960784313725, .14901960784313725, .14901960784313725, 1],
                shininess: 36,
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                aoMapUv: 1,
                emissiveIntensity: .66
            },
            name: "ludeng",
            uid: "7fa3a4c14f4d841270f79aec8c04373436508068"
        }, {
            used: !0,
            data: {
                opacity: .9,
                useFog: !1,
                layer: 15,
                diffuseMapTint: !0,
                useLighting: !1,
                shininess: 90,
                roughness: 100,
                ambient: [.788235366344452, .588235318660736, .854902029037476, 1],
                blendType: 2,
                aoMapUv: 1,
                diffuse: [.2784313725490196, .2784313725490196, .23529411764705882, 1]
            },
            name: "paiziboli",
            uid: "75a9040dcfff388818736dd808b8443b3d0cb1bc"
        }, {
            used: !0,
            data: {
                diffuseMap: "5cb6bc1db6796466d3b7b40f1f6724ef16fe09a6",
                aoMapChannel: "r",
                metalness: .57,
                layer: 15,
                roughness: 100,
                emissive: [1, 1, 1, 1],
                specular: [.19607843137254902, .19607843137254902, .19607843137254902, 1],
                emissiveMap: "5cb6bc1db6796466d3b7b40f1f6724ef16fe09a6",
                shininess: 47,
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                aoMapUv: 1,
                diffuse: [.6666666666666666, .6666666666666666, .6862745098039216, 1],
                emissiveIntensity: .37
            },
            name: "shizhuzi",
            uid: "10d35082c2bff137c0cdab9df0656b22bd6daeb9"
        }, {
            used: !0,
            data: {
                cull: 0,
                diffuseMapTint: !0,
                diffuseMap: "58ee929eacdcfcaab1350177a5f8e1a5ecbf84c4",
                opacityMap: "7d91b9f738c6979143017bc7156f5e40e8128954",
                layer: 14,
                emissiveMap: "58ee929eacdcfcaab1350177a5f8e1a5ecbf84c4",
                emissive: [1, 1, 1, 1],
                emissiveIntensity: .32,
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                blendType: 2,
                opacityMapChannel: "r",
                roughness: 100,
                diffuse: [.3176470588235294, .3176470588235294, .3176470588235294, 1],
                depthWrite: !1
            },
            name: "shu",
            uid: "ecf88e3030a739b49872705d1602ab27c0fcd916"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMap: "297e8ecec840596597ab2ed03a51e9c63ddc2964",
                aoMapChannel: "r",
                layer: 15,
                emissiveMap: "297e8ecec840596597ab2ed03a51e9c63ddc2964",
                shininess: 23,
                emissive: [1, 1, 1, 1],
                useMetalness: !0,
                diffuseMapTiling: [1.5, 1],
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                normalMap: "bfdefd01f804b24f219015acc8a04a1fe9a5e60e",
                diffuse: [.64, .64, .64, 1],
                diffuseMapTint: !0,
                roughness: 81,
                specular: [.07450980392156863, .07450980392156863, .07450980392156863, 1],
                emissiveIntensity: .53,
                aoMap: "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006",
                aoMapUv: 1
            },
            name: "xiaolutiaozi",
            uid: "866bcfd2c3c8331f8dce24e0ddc8d0832463c01f"
        }, {
            used: !0,
            data: {
                diffuseMap: "79b8d85b29633c00ace49f700202db799d62d4f0",
                useMetalness: !0,
                metalness: .94,
                layer: 15,
                emissive: [1, 1, 1, 1],
                specular: [.06666666666666667, .06666666666666667, .06666666666666667, 1],
                emissiveMap: "79b8d85b29633c00ace49f700202db799d62d4f0",
                shininess: 100,
                roughness: 50,
                aoMapUv: 1,
                emissiveIntensity: .62
            },
            name: "xiaozhuzi",
            uid: "6f1c251e1bb2fee771efc89b6f5e9a6efcc1d455"
        }, {
            used: !0,
            data: {
                cull: 0,
                diffuseMapTint: !0,
                diffuseMap: "d4d7c2a66d663420b0e6ada8aa57c3547b58d36f",
                opacityMap: "7d91b9f738c6979143017bc7156f5e40e8128954",
                shininess: 28,
                layer: 15,
                roughness: 100,
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                blendType: 2,
                opacityMapChannel: "g",
                diffuse: [.1411764705882353, .1411764705882353, .1411764705882353, 1],
                depthWrite: !1
            },
            name: "zhipianshu3",
            uid: "b0f4ef14bab5920991bbab99328246476f38e18b"
        }, {
            used: !0,
            data: {
                cull: 0,
                opacityMap: "7d91b9f738c6979143017bc7156f5e40e8128954",
                diffuseMap: "cbfa985939f09abeb885ef3edd9d2248129b20b6",
                layer: 15,
                emissiveMap: "cbfa985939f09abeb885ef3edd9d2248129b20b6",
                shininess: 0,
                emissive: [1, 1, 1, 1],
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                blendType: 2,
                diffuse: [.6862745098039216, .6862745098039216, .6862745098039216, 1],
                depthWrite: !1,
                diffuseMapTint: !0,
                roughness: 100,
                emissiveIntensity: .56,
                opacityMapChannel: "b",
                aoMap: "cbfa985939f09abeb885ef3edd9d2248129b20b6"
            },
            name: "zhuwu5",
            uid: "0d44e2277796aaf3ae70c77b5a9f9ea322147ea2"
        }],
        backgroundImage: null,
        transforms: {
            lights: [{
                position: [-2.1779844760894775, 4.514537334442139, 5.046281814575195],
                rotation: [-30.010631561279297, 17.463632583618164, -63.585243225097656]
            }, {
                position: [-12.579097747802734, 3.1119420528411865, 11.067232131958008],
                rotation: [28.833141326904297, -61.890106201171875, 1.1470117568969727]
            }, {
                position: [-8.9334077835083, 4.086692810058594, 9.937705993652344],
                rotation: [-145.84512329101562, -10.3585786819458, 106.9366683959961]
            }, {
                position: [1.1199309825897217, 3.8801207542419434, 21.409086227416992],
                rotation: [0, 0, 17.374258041381836]
            }, {
                position: [-10.424235343933105, 3.8073854446411133, 5.3926897048950195],
                rotation: [0, 0, 0]
            }, {
                position: [26.502676010131836, 9.018889427185059, 0],
                rotation: [0, 0, -30.765052795410156]
            }],
            model: {
                rotation: [0, 0, 0]
            }
        },
        background: {
            color: [0, 0, 0, 1],
            type: "environment",
            imageUid: "b46e1fe90726b07dc62505c15bb27d42d7840442",
            enabled: !0,
            data: {
                brightness: .8,
                blur: 0
            }
        },
        model: {
            asset: {
                used: !0,
                hash: "05f70705bb5141bab16b59c051106759c8235519",
                uid: "05f70705bb5141bab16b59c051106759c8235519",
                url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/sources/7be902b60bd70c59336da31ed6e8effa.gc",
                mapping: ["5180440865bd129ee0f07342ea15716833a4d749", "605c6c1ba55df02ebbb0b5bc35f0b07646c9c69b", "deb9611f6f810ae3a11c05c699d8dc6a2d89ced1", "3df553aa9aa02ee631530252ac3e7831bb00535c", "1bbb92138592257d1e996168f924e0ff9521ee54", "baee2c864bcbdf7cc9296e4c7f07c26c51732a2a", "a0a68d9089ea67acaf9b54b3337f6548fc24bd93", "bc15e4ec15abc4b67fdaa8a570b7f24e0fbd7a1a", "6bee370ddd27b3885dc86054d2b9181bbdacccfe", "f5a85a13153d16245b1edee50d6a5a0b54edea84", "0dc5f6e7fcc5a96e1ac4defff3d9ec0c2bd8a625", "30e0a98592a5b263c6bacce7e18ec7ff79b26dd0", "9ac63245b6d2151fb1350c05912d5e1f5b1fc6d2", "a2bbfc2271b756f4fbfdd0ee3a5d10b3130045aa", "73e1418801b01302471d63cb4e0585301ed71bc8", "7a4d03ef0cbbe0173117b5e7f5d40cacfaaa07f1", "4e0e085e7f360241762055387370f67ded08e41f", "4523e2071915d32577c064f8f3b0eafa3798fd84", "8744a559a0a6c208682ac7ee513564a5ef9ae929", "bd9c5326b234c313c9f1914434d91d65640ffbcd", "2ad6a6c082cd784e1d8509c202527c6ef0ceb466", "59e2d9117b3c6acc6c65ec319a53cf4dbbc7cc1e", "6f089eed62a322aaf471ca67542b57ca47bc14fc", "b2536c390498d9f8f36eec43f28e55aff9d20448", "7fa3a4c14f4d841270f79aec8c04373436508068", "75a9040dcfff388818736dd808b8443b3d0cb1bc", "10d35082c2bff137c0cdab9df0656b22bd6daeb9", "ecf88e3030a739b49872705d1602ab27c0fcd916", "866bcfd2c3c8331f8dce24e0ddc8d0832463c01f", "6f1c251e1bb2fee771efc89b6f5e9a6efcc1d455", "b0f4ef14bab5920991bbab99328246476f38e18b", "0d44e2277796aaf3ae70c77b5a9f9ea322147ea2"],
                name: "[待完成] 汽车场景-黄昏-稍明亮"
            }
        },
        shadow_material: {},
        material_sets: [{
            category: 0,
            uid: "ac9d2700243ca172e113204cd1b552737546f4e8",
            materials: [],
            main_material: "5180440865bd129ee0f07342ea15716833a4d749",
            type: 0,
            name: "默认"
        }],
        cubemaps: [{
            textures: {
                right: {
                    used: !0,
                    hash: "bef05e98a202fa37642ba88347fd976e.png",
                    uid: "f0a63a19ae56b6e3e82b2b777bed01bd35622962",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/49043123eec65939a7ae2f787342b85f631fbcd3/cubemaps/bef05e98a202fa37642ba88347fd976e.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                bottom: {
                    used: !0,
                    hash: "d53ed5e96c1046f7f327cbf802d22226.png",
                    uid: "df7d0e2f7b5827c4b30b18abc7f6d483a3a500a6",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/49043123eec65939a7ae2f787342b85f631fbcd3/cubemaps/d53ed5e96c1046f7f327cbf802d22226.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                top: {
                    used: !0,
                    hash: "e25b622ceadc0e5d27c640d1ec43a5a7.png",
                    uid: "7cdc0deb4c6888bec46577a2669acb0ab294d663",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/49043123eec65939a7ae2f787342b85f631fbcd3/cubemaps/e25b622ceadc0e5d27c640d1ec43a5a7.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                back: {
                    used: !0,
                    hash: "4d5639459fc0d802b9d6aacac8e300f2.png",
                    uid: "7028adbec7511609a2870443b1496cc3e3caa69a",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/49043123eec65939a7ae2f787342b85f631fbcd3/cubemaps/4d5639459fc0d802b9d6aacac8e300f2.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                front: {
                    used: !0,
                    hash: "4f2cb338f2225cb936dcb237aaf50c93.png",
                    uid: "2e750b65ebd1612b0f5d0ae1a63b0cfab2a0c585",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/49043123eec65939a7ae2f787342b85f631fbcd3/cubemaps/4f2cb338f2225cb936dcb237aaf50c93.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                left: {
                    used: !0,
                    hash: "2152282f9e42106d9de1e0423d4dc6d4.png",
                    uid: "cccf36962dd96b45cef68ae110634964743c1427",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/49043123eec65939a7ae2f787342b85f631fbcd3/cubemaps/2152282f9e42106d9de1e0423d4dc6d4.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                }
            },
            prefiltered: !0,
            used: !1,
            hash: "0310e9c57d99dbddd3c505b064aab84e",
            uid: "49043123eec65939a7ae2f787342b85f631fbcd3",
            tags: [],
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/49043123eec65939a7ae2f787342b85f631fbcd3/cubemaps/0310e9c57d99dbddd3c505b064aab84e.dds",
            loadFaces: !0,
            thumbnail_url: null,
            rgbm: !1,
            name: "Left_00000hb"
        }, {
            textures: {
                right: {
                    used: !0,
                    hash: "7011b4c8d4cc813a9346702c8aa1c06a",
                    uid: "5e2fe5756981d05bc11197ee58996f053d08cb10",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/aefe7036e0896db1c5049ecade443fb1fe0b31d4/cubemaps/7011b4c8d4cc813a9346702c8aa1c06a.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                bottom: {
                    used: !0,
                    hash: "54369f1549ace4c6a1d094abc3343d14",
                    uid: "e5ba8de7d42116924508a4865b25c3c9cef3756e",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/aefe7036e0896db1c5049ecade443fb1fe0b31d4/cubemaps/54369f1549ace4c6a1d094abc3343d14.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                top: {
                    used: !0,
                    hash: "b17c34eaa38f1e647063bf9735b53446",
                    uid: "03be45db11cac34abd22f25012fa8a3e440f522b",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/aefe7036e0896db1c5049ecade443fb1fe0b31d4/cubemaps/b17c34eaa38f1e647063bf9735b53446.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                back: {
                    used: !0,
                    hash: "37bfd7ba0ba677c1ae10cf691ee5aff8",
                    uid: "05d33feb9e1b7f2b40951af87c4205683ba6bfb0",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/aefe7036e0896db1c5049ecade443fb1fe0b31d4/cubemaps/37bfd7ba0ba677c1ae10cf691ee5aff8.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                front: {
                    used: !0,
                    hash: "c464535f26a3c0e6dbeee9886baabaa4",
                    uid: "f7adcdb80970e947844133f03c9af277d0917575",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/aefe7036e0896db1c5049ecade443fb1fe0b31d4/cubemaps/c464535f26a3c0e6dbeee9886baabaa4.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                left: {
                    used: !0,
                    hash: "2f867ef6525fd43bdeb9ebcaa7009ea8",
                    uid: "6802f1c4839c4fabd632669d1b063b538cd13e95",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/aefe7036e0896db1c5049ecade443fb1fe0b31d4/cubemaps/2f867ef6525fd43bdeb9ebcaa7009ea8.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                }
            },
            prefiltered: !0,
            used: !1,
            hash: "0c07e94d60bf81dd84c35092d9c243a7",
            uid: "aefe7036e0896db1c5049ecade443fb1fe0b31d4",
            tags: [],
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/aefe7036e0896db1c5049ecade443fb1fe0b31d4/cubemaps/0c07e94d60bf81dd84c35092d9c243a7.dds",
            loadFaces: !0,
            thumbnail_url: null,
            rgbm: !1,
            name: "lake"
        }, {
            textures: {
                right: {
                    used: !0,
                    hash: "081a3a31f792674b1e176e4a26e5fa91",
                    uid: "6eb8086a78144936cf04be43fa1e75714b3b36a9",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/5884e13115cfca1f1316e2c026fa75dcd810028b/cubemaps/081a3a31f792674b1e176e4a26e5fa91.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                bottom: {
                    used: !0,
                    hash: "84e8b63b043e3cc21924ef9e584d5100",
                    uid: "9b4f60a8c27a4c26c857318c9c594533ca24b237",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/5884e13115cfca1f1316e2c026fa75dcd810028b/cubemaps/84e8b63b043e3cc21924ef9e584d5100.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                top: {
                    used: !0,
                    hash: "ba1fcd1be4c5ca0c89a78dd62f8f7364",
                    uid: "5ca9999861e12b7d1891727d284ae6ebc21dbbbb",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/5884e13115cfca1f1316e2c026fa75dcd810028b/cubemaps/ba1fcd1be4c5ca0c89a78dd62f8f7364.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                back: {
                    used: !0,
                    hash: "4aed30f175931e7362e031ecb4b97331",
                    uid: "ee549336f0a9d28729e8c2b313bbb9080010c71d",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/5884e13115cfca1f1316e2c026fa75dcd810028b/cubemaps/4aed30f175931e7362e031ecb4b97331.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                front: {
                    used: !0,
                    hash: "2e6b235271103bdaaeacf1f27a881ba1",
                    uid: "705c6658d139ccbbb8e0725fda22e50596679517",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/5884e13115cfca1f1316e2c026fa75dcd810028b/cubemaps/2e6b235271103bdaaeacf1f27a881ba1.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                left: {
                    used: !0,
                    hash: "0ed16cfffb08f2c1d95225621a21b75a",
                    uid: "2850fdd320c04cff75e8c105fe145d2821a68d70",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/5884e13115cfca1f1316e2c026fa75dcd810028b/cubemaps/0ed16cfffb08f2c1d95225621a21b75a.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                }
            },
            prefiltered: !0,
            used: !1,
            hash: "f4b74ceaf803e676ac7164360a02836f",
            uid: "5884e13115cfca1f1316e2c026fa75dcd810028b",
            tags: [],
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/b7b684715b76ad6a78548cbec4b8264de46114a4/5884e13115cfca1f1316e2c026fa75dcd810028b/cubemaps/f4b74ceaf803e676ac7164360a02836f.dds",
            loadFaces: !0,
            thumbnail_url: null,
            rgbm: !1,
            name: "海蚀地貌"
        }],
        effects: {
            enabled: !1,
            data: {
                bokeh: {
                    aperture: .025,
                    maxBlur: 1,
                    enabled: !1,
                    focus: 1,
                    aspect: 1
                },
                sepia: {
                    amount: 0,
                    enabled: !1
                },
                bloom: {
                    bloomThreshold: .71,
                    enabled: !0,
                    blurAmount: 2.55,
                    bloomIntensity: 1.81
                },
                vignette: {
                    enabled: !1,
                    darkness: 1.3,
                    offset: .83
                },
                hueSaturation: {
                    hue: 0,
                    saturation: 0,
                    enabled: !1
                }
            }
        }
    };
    n.model.asset.name = "黄昏",
    n.materials.forEach(function(t) {
        "12a6a2f5f7b0e4c70880a252d197cb2a9b8cd006" === t.data.aoMap && (t.data.aoMapSize = 256,
        t.data.aoMapCompression = !1),
        s.MATERIAL_TEXTURE_FIELDS.forEach(function(e) {
            t.data[e] && (t.data[e + "Size"] = 256)
        })
    });
    var r = n;
    e.default = r
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = i(15)
      , n = {
        textures: [{
            used: !0,
            hash: "956f3f3691d4ea9f3b5cec32de1ef29a",
            uid: "b5e7565bb75a5028804297ca929058d52ac397a5",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/956f3f3691d4ea9f3b5cec32de1ef29a.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/b683e9a9324e8453f2570ec165ac9a8a.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/d68e0d3b75db39bc169b049892623ebd.gtc",
                    size: 174904
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/2b4582fe7bc4aadc0a9314a0a9857ef4.gtc",
                    size: 349680
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/6740b704bcf8aaedc9e5af3a42a9dc3f.gtc",
                    size: 349700
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/932fa285ea0ba2349647009e31dfa202.gtc",
                    size: 174976
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Tex_2291_0.png"
        }, {
            used: !0,
            hash: "9cf38d1063eccd62b9ce5866c7452d9c",
            uid: "73930fd281e4ea723106ec01b8d566e5a2cc034e",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/9cf38d1063eccd62b9ce5866c7452d9c.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 1024,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/b23df93918b591b81d1713614cbada39.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/72539069d1e978c40f4b9d3c790060cc.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/889a9d6811b0700024a5ab9dfa161751.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/daedde8253fda6fdfdf96c76f5c1aabd.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/d5eeba7c25b149146037888bf9c3c5e7.gtc",
                    size: 699264
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/65911e24fad0bdca1eb86e71669b5eab.gtc",
                    size: 699192
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/87c25d4a8a355c0c78e5c3c9f4ef2dd0.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/2d02f923f927add8273d49d2cd078d7e.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/787ab0dfe6ea0a1227c51cce8b0bc8d4.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 1024,
            name: "Material $0_Base_Color.png"
        }, {
            used: !0,
            hash: "d54df14248332a7136c0564b7affc9aa",
            uid: "269174a67bc575468a195a884f0dd09ceb3a034b",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/d54df14248332a7136c0564b7affc9aa.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/39002532368c891f89edb9f1be0766ee.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/6115d069431a0c6e05bd8e90378d4951.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/727bd7bf3e8945fa379eee3ea782bd97.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 256,
            name: "tilling_sample_DefaultMaterial_BaseColor_1.png"
        }, {
            used: !0,
            hash: "70dc15ca7b82c711cc9fa9a2e1b16b9e",
            uid: "e556af693996226e6d717ed6a4535b87f6d1deaf",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/70dc15ca7b82c711cc9fa9a2e1b16b9e.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 128,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/48be37450f6e521b796c7dab0f2f6d83.gtc",
                    size: 11064
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/28e99d47a77ef5eaf3d28d6bc0a04823.gtc",
                    size: 11064
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/b24ea4974e2ddb28faf9f3b49b221679.gtc",
                    size: 22e3
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/8c8baf002d4e9dab4abe91d155992054.gtc",
                    size: 22020
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/edafadb971f8a89095c70f0fe378f738.gtc",
                    size: 11136
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 128,
            name: "Bitmap2Material_3_Base_Color_9.png"
        }, {
            used: !0,
            hash: "fedff2d8be9e40482e1faba4df5d2f63",
            uid: "023adb9e16ccdf4e14682fbec4dc1e5d2e40bbb6",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/fedff2d8be9e40482e1faba4df5d2f63.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/b37d83f827f33beb0cb8c4d31d814da0.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/a188108fa6c3ab5ec9f6f97603cdcb60.gtc",
                    size: 43832
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/ea3afb3509a06bdf2597bfa42f8ba781.gtc",
                    size: 87536
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/3213c5d30f36b71ed718c83ee3cd6561.gtc",
                    size: 87556
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/f5e2bd44320f1a2ec25f7771dca9bcd2.gtc",
                    size: 43904
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/98ecd4bc702f6fcbb651f254c910fc2f.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/6d775d25f8eab8768bede112a8f84312.gtc",
                    size: 174904
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/077e47eefb6a5292f69ea529c732872e.gtc",
                    size: 349680
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/3298be56298c89daf198d75dcb11746c.gtc",
                    size: 349700
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/0bb93599312dca905426cc7f84433327.gtc",
                    size: 174976
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Bitmap2Material_3_Base_Color_10.png"
        }, {
            used: !0,
            hash: "8affa645f6f9e05515dc998161b3c46d",
            uid: "f1469c124e6dd65118cbf6c581c024724aeba117",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/8affa645f6f9e05515dc998161b3c46d.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/67c3f6bc7c705512aaf9b99c00f35ff9.gtc",
                    size: 21992
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/d9760318d83114cb237b2a871f86d9c5.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/3cc859139d30f76fbf68ec54b0cb312c.gtc",
                    size: 21992
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 128,
            name: "deng1.png"
        }, {
            used: !0,
            hash: "e9717adf478fe9852ae156674916c683",
            uid: "e92468635a098b029079ada1162856fa1e0501e5",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/e9717adf478fe9852ae156674916c683.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/a38e2f060f608a3b37db6578796e1686.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/0a2abc3912b42a2d61d7b4a51acc7a69.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/a0eeb23c168e8af4f561cb011e66535a.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "changjing_xiaozhuzi_BaseColor.png"
        }, {
            used: !0,
            hash: "56cf8c363b26e6a4e1327c5dfdbca423",
            uid: "402565e180d5a3277d22d0e5e1eebb704e6a7f4d",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/56cf8c363b26e6a4e1327c5dfdbca423.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/03b9c34b98a0d95029c20c183f85b77f.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/1874b88633befd6c537e7431480033ba.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/7777412e3f6de6b5fd833813b9dba413.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 256,
            name: "lALPDgQ9qVH8sO7NBADNBAA_1024_1024.png_620x10000q90g.png"
        }, {
            used: !0,
            hash: "41c3e7409870dad663f4143d0a945f23",
            uid: "d3975028fe800f90e90228d890c3c2383d5abc51",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/41c3e7409870dad663f4143d0a945f23.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/08241105b83d21db38cc8a672ff81f67.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/31fde7f69b698efae99a27b64ffb465c.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/03abe3e146c2702843b69f2804d95df4.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 256,
            name: "Bitmap2Material_3_Base_Color_5.png"
        }, {
            used: !0,
            hash: "635a4e5f991834d0478c12367572816b",
            uid: "2d438cc51ca8117f7bfce952de99a476709082f4",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/635a4e5f991834d0478c12367572816b.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/9511b74118c1123fce063aeab02a2fbe.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/1583d8e457207dfd458a3c4c11542521.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/0e48d5848d6d714a2009ed06d388a830.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Bitmap2Material_3_Base_Color_8.png"
        }, {
            used: !0,
            hash: "a58574f7a4c1a96d764c96899f252582",
            uid: "44fbdff9b697dbc9e0282c1fc5d4b2055e9da1fa",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/a58574f7a4c1a96d764c96899f252582.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/d9c729d967cb512736f1d789f55e09ac.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/bfa2b4ecbbdf5a6e18fdeab2451757da.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/fbf7f1667ff14387c7bc506abb760d76.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 256,
            name: "Bitmap2Material_3_Base_Color_red.png"
        }, {
            used: !0,
            hash: "83bff0839cf1edcbd952e79c9c8d3561",
            uid: "1bc464f58b4c927b3081305ab0249ccdb5df9eaf",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/83bff0839cf1edcbd952e79c9c8d3561.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/0fef27c149426d52b21130f2876b888d.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/54680867be8750426e82032ae34d190e.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/e400d56045c4745a6bb48befa4836438.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Bitmap2Material_3_Base_Color_2.png"
        }, {
            used: !0,
            hash: "fbdb9ac74ffa132429855e1564b273a5",
            uid: "d8d27ec56314c42bb75da2a1f43577cf54646a27",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/fbdb9ac74ffa132429855e1564b273a5.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 2048,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/dfc11a22363c6a8f3d1044fef5193ac0.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/56869ff14326b75ee31557e18a66bd80.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/824612521898b14ef35507dd7058a088.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/49a77f5d04f0274eafe85eae572e1a70.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/003db7557aab8427e6fe119d609e462b.gtc",
                    size: 699264
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/90920ed3154559fdf2ddc2098317d712.gtc",
                    size: 699192
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/65a63ec160e8bb39023bce0fc88aed0a.gtc",
                    size: 2796344
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/0cb0cd5c2ee7fe17b0d641932d561f0b.gtc",
                    size: 2796416
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/1dbd5afca031058659130c31a7c05c40.gtc",
                    size: 2796344
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/4dd9166e47dbde5c51d370e7ea17a945.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/fee3cea379a0cf4eef772d9d9a9f5b1a.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/8b8f55d4cda4c66daf51680517d295d8.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 2048,
            name: "changjing_baisezhuan_BaseColor.png"
        }, {
            used: !0,
            hash: "7fa6981ca92a1cf3cf47d5db20193793",
            uid: "98321a96b5614309198a4ef3f9bd4757bd0ff81e",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/7fa6981ca92a1cf3cf47d5db20193793.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/81608c3a00a083174901163b4a397e7f.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/74bd92c6543badc727d44847bb3b7b80.gtc",
                    size: 43832
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/308d73c50412023b4f1c833e7fda318e.gtc",
                    size: 87536
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/6db6dabbdfaf78b07507d5afad626e5f.gtc",
                    size: 87556
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/66ae6685fb15cbe7d3247eb567ee7b3d.gtc",
                    size: 43904
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/907428b8acfce38ee1f89a7f76dbd500.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/30a53065ea32a8aa8dddf6c869d53c3a.gtc",
                    size: 174904
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/de33f341d0cfe3aeeec7aae0cfed6aee.gtc",
                    size: 349680
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/5f62bc2e248bc161efacfd355e4ad2b1.gtc",
                    size: 349700
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/7bde5a50ad5bb995e1fdedb855038b2a.gtc",
                    size: 174976
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "shu.png"
        }, {
            used: !0,
            hash: "d4908298852af7143564721f40be968b",
            uid: "1bfeeff5fa6b81868d58f71e8b915444dc99aa1e",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/d4908298852af7143564721f40be968b.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/21647100fb56fd3ee691d1feaf0b16a2.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/fcb96c30dd1dcc7f8869a2d8c73dc3e1.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/4e958e2719ab0f87eff6c5c4dc7b6176.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 256,
            name: "Bitmap2Material_3_Base_Color_3.png"
        }, {
            used: !0,
            hash: "36acd34d295a6c75eba150a22c66eeab",
            uid: "c42d291f749c39a3bbd6ddd6c0424a59865873ea",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/36acd34d295a6c75eba150a22c66eeab.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 128,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/e75773c37fda65df8d8174d5656c22ad.gtc",
                    size: 11064
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/28e99d47a77ef5eaf3d28d6bc0a04823.gtc",
                    size: 11064
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/43a95d7da8c093b0f7f9371cad6d226d.gtc",
                    size: 22e3
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/c5e3909112574c11c2f680cc8edc4dba.gtc",
                    size: 22020
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/06bbe2aff6b704a1863e0e34bfc8cef7.gtc",
                    size: 11136
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 128,
            name: "Bitmap2Material_3_Base_Color_7.png"
        }, {
            used: !0,
            hash: "dba4d1d2bcc41029adc66af2599c285b",
            uid: "eded7fcae7f64ff7dc9c7a383ccbd5b316c4886a",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/dba4d1d2bcc41029adc66af2599c285b.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/c7b63d02a4cac5c3dcba9fcbb7cac9ea.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/2cac86fc89d916f6bc0fa93a9af1aa47.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/7b6a8af1d5043f642e579fd47a59bf47.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 256,
            name: "Bitmap2Material_3_Normal_3.png"
        }, {
            used: !0,
            hash: "c1e0ac659881875377ee33ec69c6fce9",
            uid: "4ee2ee27df508e0c6246aabcaa8860f4a2e9e7e0",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/c1e0ac659881875377ee33ec69c6fce9.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/b9b9cf95e3ae463ab041bf51d7a2fd03.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/07de1d7c5423f24cd213e74f7fe73bee.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/1c2b730fb1e5948154c656a5bc261394.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/59ecc7c05d346eeb46bc4bacbec3be13.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/a8905915d66a76722a22f5757a46882f.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/80d5896506f811cef45b231b5feb2e74.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Bitmap2Material_3_Base_Color_1.png"
        }, {
            used: !0,
            hash: "fcabaacf92f14e5aa022f5629879e47a",
            uid: "eb02146a1d8d632c39104b1c5855acfea8511904",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/fcabaacf92f14e5aa022f5629879e47a.jpg",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 1024,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/0c9c31c84a2f013d1e5018d7a8993f97.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/ebc4a46a5c3459fbc93e0ebad2ff2ec8.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/bb452ae72be2bd36f48883cdfe3a395e.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/ee6334c3da424bf12ff3e8517edf957f.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/a1db5e157d9e4524af8b190307f0a7bf.gtc",
                    size: 699264
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/2312fc1ba853ac3b7c39b72daff7bfb5.gtc",
                    size: 699192
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/45548afc82f0bf42b437ca239acc7bc3.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/08be0030f88f3e6a397d82ee3859fc1e.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/832b7da7093ad807b8a8de1cf2ff62f7.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 1024,
            name: "ao7.jpg"
        }, {
            used: !0,
            hash: "7ccdc443e1766c68d4b6d993bc36cfae",
            uid: "305ba9a2b7245c8451da59d0ecfdc285f004b5b0",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/7ccdc443e1766c68d4b6d993bc36cfae.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/c5e48ca47f63374d8d45564802cd01d3.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/c477294bfd5f1c8c9cb9d26ece26c19c.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/8d93b960bd69a3ee27de41586103a82c.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Bitmap2Material_3_Base_Color.png"
        }, {
            used: !0,
            hash: "3f8865af7db4eda953fb96bdd8b0f0fc",
            uid: "6ac60797accb1d3ba855d7c5548ffbee58069651",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/3f8865af7db4eda953fb96bdd8b0f0fc.jpg",
            variants_2048: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/e411875d07f845fafc56c58839268307.gtc",
                    size: 2796344
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/6be2fdf1e7a599715f43ed1caff4eaf9.gtc",
                    size: 2796416
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/29d48e45ef75058ab63fcdd58db0758e.gtc",
                    size: 2796344
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 4096,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/ac6f552d010fb05fcc466ae7dab566b2.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/130484ee42b4f825d3274bd183841ba9.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/e53792985f27546a531eb69154d738f9.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/665cb84564a8ea83d644ac596c042ffc.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/2aa3a332357fb4d127b8ee27d43695a3.gtc",
                    size: 699264
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/898d7a898ded98556b26df46f3533146.gtc",
                    size: 699192
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/8d74b3251fe4525cdc26bd761ac3e6ca.gtc",
                    size: 11184952
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/e11ccde3ffb460a135855aa86b4b27f6.gtc",
                    size: 11185024
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/ecd6eff6ef5e5da098218c823f980aca.gtc",
                    size: 11184952
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/ceff7bb444ff89d965d5766b41e9687a.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/899706d3d150ae21834cf07925fe81b3.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/2f2cd4b90d9401ede1409552e97f6d06.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 8192,
            name: "Left_00000.jpg"
        }, {
            used: !0,
            hash: "bf3de41c711774cd70c82e4c2d280681",
            uid: "ddcc9872978387471180e7bd2f32a5cf6dc4ca03",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/bf3de41c711774cd70c82e4c2d280681.jpg",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/c1a8f4a8bf2bf10049fbf1cf7f00c0ad.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/0484707b2c771baa44671d4b99811549.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/8e883e3cbb493496726da56712da1cd7.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/860d6ef83b42ef27036f97035811f8f1.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/4c0a3a81119ca91f2e902742cf60960e.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/15e33d12a3bf44a0faf70dc0ff0a1fe9.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Tex_0504.jpg"
        }, {
            used: !0,
            hash: "7b25e31036fa913f5d09cd2a1a39f403",
            uid: "49e8502378fe1b103d07a7632aae5bc6c239180f",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/7b25e31036fa913f5d09cd2a1a39f403.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/98a34cf2e66a63b327982b1156af05c6.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/77604b963f60c737a7517ff1bde623f2.gtc",
                    size: 174904
                },
                dxt5: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/86ad9bac2ed60650dc1678b148bc70cc.gtc",
                    size: 349680
                },
                astc: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/8ecaa897845d5d437d3ea1ba9b862e12.gtc",
                    size: 349700
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/5a0b503d628b2d823388a732f0c359d3.gtc",
                    size: 174976
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "Tex_0504_0.png"
        }, {
            used: !0,
            hash: "497131ad1fbc89972da72d3b1e8f0b69",
            uid: "cbc6754b089aa0dfea45756556e466dfab6e7d27",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/497131ad1fbc89972da72d3b1e8f0b69.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 256,
            variants_256: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/f50778ccbff860b836dd76aeed69fea5.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/2da27db328f5540daadc13a7227c9a90.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/8bf092885b7b8f838497a29d4f616c7d1ce6b0a3/textures/c75e363f1f8dc1264ee8dffdf208e123.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 256,
            name: "Tex_2394_1.png"
        }],
        rendering: {
            toneMapping: 0,
            gammaCorrection: 0,
            fogStart: 0,
            fogEnd: 500,
            fog: "linear",
            fogColor: [33, 24, 11, 1],
            fogDensity: .01,
            exposure: 1.22
        },
        size_marker: {
            color: [152, 152, 152, 1],
            enabled: !1,
            wheel_offset: 0,
            wheelbase: 0,
            orin_size: [290.425, 182.055, 290.368],
            exclude_meshes: [],
            categories: [],
            size: [140.461, 88.069, 140.383]
        },
        floor: {
            shadow: {
                scale: 1
            },
            enabled: !1
        },
        orbits: [{
            distance: "5.3",
            fov: 60,
            title: "默认视角",
            yaw: 27.300000000013824,
            settings: {
                pitchAngleMin: 0,
                distanceMax: 8.5,
                distanceMin: 3.5,
                pitchAngleMax: 90
            },
            inverted: !1,
            pivotPoint: [0, .6265384554862976, 0],
            annotations: [],
            pitch: -19.199999999999996,
            position: [3.3394582271575928, 2.826500415802002, 7.500545978546143],
            type: "front",
            id: "7d713184-f180-47b3-92d1-4458a75c1afd"
        }],
        camera: {
            fov: 60,
            move: !1,
            nearClip: .05,
            navigator: {
                distance: 5.3,
                yaw: 9747.300000000014,
                pivotPoint: [0, .6265384554862976, 0],
                pitch: -19.199999999999996,
                position: [2.29563045501709, 2.3695318698883057, 4.447702407836914],
                type: "orbit"
            },
            advanced: !1
        },
        category_data: {
            scene: {}
        },
        wireframe: {
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/sources/c84f302e7d9a756e11e552ff7341a555.gc",
            color: [255, 255, 255, 1],
            enabled: !1
        },
        scenes: {
            scene: null
        },
        general: {
            modelRotation: [0, 0, 0],
            renderer: "PBR"
        },
        environment: {
            cubemapUid: "b9cac8a5b2664a986bd23787e44c274d6f00a873",
            brightness: .8,
            enabled: !0,
            type: "user"
        },
        lights: {
            car: {
                data: [],
                colors: {
                    A: [.5, .5, .5, 1],
                    C: [1, .49019607843137253, .23137254901960785, 1],
                    B: [.25, .7490196078431373, .9411764705882353, 1]
                },
                enabled: !0
            },
            enabled: !0,
            data: [{
                vsmBlurSize: 11,
                color: [247, 235, 214, 1],
                intensity: .1,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 52.72,
                newName: "light1",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light1",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 10,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }, {
                vsmBlurSize: 11,
                color: [255, 231, 60, 1],
                intensity: .88,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 100,
                newName: "light2",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light2",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 10,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }, {
                vsmBlurSize: 11,
                color: [255, 212, 115, 1],
                intensity: 5,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 75,
                newName: "light3",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light3",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 4.942,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }, {
                vsmBlurSize: 11,
                color: [255, 232, 168, 1],
                intensity: .72,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 35.87,
                newName: "light3",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light3",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 4.0280000000000005,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }, {
                vsmBlurSize: 11,
                color: [240, 249, 174, 1],
                intensity: 1,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 45,
                newName: "light4",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light4",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 4.297,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }, {
                vsmBlurSize: 11,
                color: [255, 205, 0, 1],
                intensity: 1.36,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 45,
                newName: "light5",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light5",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 10,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }]
        },
        materials: [{
            used: !0,
            data: {
                opacity: 0,
                layer: 15,
                aoMapChannel: "r",
                diffuseMapTint: !0,
                emissive: [1, 1, 1, 1],
                emissiveMap: "d8d27ec56314c42bb75da2a1f43577cf54646a27",
                shininess: 0,
                diffuseMapTiling: [.6, .6],
                ambient: [.941176533699036, .870588302612305, .592156887054443, 1],
                roughness: 100,
                diffuse: [.27058823529411763, .27058823529411763, .27058823529411763, 1],
                bumpiness: -1,
                normalMapTiling: [.6, .6],
                emissiveIntensity: .39,
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                aoMapUv: 1,
                emissiveMapTiling: [60, 60]
            },
            name: "baisezhuan",
            uid: "949247581d8d14f6899d2b0ff5c839246b5f01a0"
        }, {
            used: !0,
            data: {
                layer: 15,
                aoMapChannel: "r",
                shininess: 0,
                emissiveMap: "269174a67bc575468a195a884f0dd09ceb3a034b",
                emissive: [1, 1, 1, 1],
                useMetalness: !0,
                diffuseMapTiling: [.6, .6],
                ambient: [.854902029037476, .505882382392883, .521568655967712, 1],
                blendType: 2,
                roughness: 85,
                diffuse: [.5529411764705883, .3686274509803922, .3686274509803922, 1],
                bumpiness: 0,
                opacityMapUv: 1,
                normalMapTiling: [.6, .6],
                heightMapFactor: .32,
                emissiveIntensity: .68,
                opacityMapChannel: "r",
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                aoMapUv: 1,
                emissiveMapTiling: [60, 60]
            },
            name: "hongzhuan",
            uid: "17bd4f7dcabbf199bf5e427648019ac43a4c5251"
        }, {
            used: !0,
            data: {
                diffuseMap: "73930fd281e4ea723106ec01b8d566e5a2cc034e",
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                cubeMap: "d30ff41fc722975784fa265131da4d848f682e4d",
                layer: 15,
                reflectivity: 2.65,
                shininess: 18,
                emissive: [.16470588235294117, .13725490196078433, .0784313725490196, 1],
                specular: [.30196078431372547, .30196078431372547, .30196078431372547, 1],
                emissiveIntensity: .5,
                roughness: 100,
                aoMapUv: 1
            },
            name: "Material $0",
            uid: "75daeafe96d9f8023927517e5392b5a9ef768ecb"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMap: "cbc6754b089aa0dfea45756556e466dfab6e7d27",
                cubeMapProjectionBox: {
                    center: [0, 0, 0],
                    halfExtents: [.5, .5, .5]
                },
                useLighting: !1,
                layer: 15,
                reflectivity: 0,
                emissive: [1, 1, 1, 1],
                refractionIndex: 2.05,
                specular: [.2627450980392157, .2627450980392157, .2627450980392157, 1],
                emissiveMap: "cbc6754b089aa0dfea45756556e466dfab6e7d27",
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                shininess: 100,
                roughness: 0,
                aoMapUv: 1
            },
            name: "_changjing_changjingTex_2394_0_dds",
            uid: "cc95e7cfddeb7749f3ebb2de26e59f37d79733ba"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMap: "305ba9a2b7245c8451da59d0ecfdc285f004b5b0",
                shininess: 100,
                layer: 15,
                roughness: 75,
                emissive: [1, 1, 1, 1],
                emissiveMap: "305ba9a2b7245c8451da59d0ecfdc285f004b5b0",
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                aoMapUv: 1,
                emissiveIntensity: .6
            },
            name: "_changjing_changjingTex_9271_0_dds",
            uid: "845b2db763ad57e7d9747b897a9a218b18710b74"
        }, {
            used: !0,
            data: {
                opacity: .9,
                diffuseMapTint: !0,
                layer: 15,
                useFog: !1,
                useLighting: !1,
                shininess: 90,
                roughness: 100,
                ambient: [.788235366344452, .588235318660736, .854902029037476, 1],
                blendType: 2,
                aoMapUv: 1,
                diffuse: [.2784313725490196, .2784313725490196, .23529411764705882, 1]
            },
            name: "paiziboli",
            uid: "4ed8dc889761facedbd786c9f2af2610f65b6506"
        }, {
            used: !0,
            data: {
                layer: 15,
                useMetalness: !0,
                shininess: 100,
                roughness: 82,
                specular: [.35294117647058826, .35294117647058826, .35294117647058826, 1],
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                aoMapUv: 1,
                diffuse: [.30196078431372547, .30196078431372547, .30196078431372547, 1]
            },
            name: "_changjing_changjingTex_0513_0_dds2",
            uid: "85aec5fa63793d8596ec35b34b939a74c1ada943"
        }, {
            used: !0,
            data: {
                opacity: .15,
                cull: 0,
                layer: 15,
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                cubeMap: "aca37fea4d8bb7c35ced4a1807c0681e79b16a1e",
                shininess: 100,
                reflectivity: 4.58,
                emissive: [.32941176470588235, .32941176470588235, .32941176470588235, 1],
                specular: [.5215686274509804, .5215686274509804, .9058823529411765, 1],
                blendType: 2,
                roughness: 75,
                aoMapUv: 1
            },
            name: "dazhuanpanboli",
            uid: "45412eeaa8d23ef76aad07b60c087f1b9e66ee8a"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMapTint: !0,
                diffuseMap: "2d438cc51ca8117f7bfce952de99a476709082f4",
                aoMapChannel: "r",
                aoMapUv: 1,
                layer: 15,
                emissiveMap: "2d438cc51ca8117f7bfce952de99a476709082f4",
                emissive: [1, 1, 1, 1],
                specular: [.12549019607843137, .12549019607843137, .12549019607843137, 1],
                emissiveIntensity: .78,
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                shininess: 73,
                roughness: 100,
                useMetalness: !0,
                diffuse: [.66, .66, .66, 1]
            },
            name: "_changjing_changjingTex_2689_0_dds",
            uid: "4f897c81b150df332f9b244a9f1f2bdc2875cda0"
        }, {
            used: !0,
            data: {
                cull: 0,
                opacityMap: "ddcc9872978387471180e7bd2f32a5cf6dc4ca03",
                diffuseMap: "49e8502378fe1b103d07a7632aae5bc6c239180f",
                blendType: 2,
                opacityMapChannel: "b",
                layer: 15,
                roughness: 75
            },
            name: "lambert5",
            uid: "c88652b678ec56c3fe7b0ac43484cd0f882357b6"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMap: "44fbdff9b697dbc9e0282c1fc5d4b2055e9da1fa",
                aoMapChannel: "r",
                layer: 15,
                emissiveMap: "44fbdff9b697dbc9e0282c1fc5d4b2055e9da1fa",
                shininess: 23,
                emissive: [1, 1, 1, 1],
                useMetalness: !0,
                diffuseMapTiling: [1.5, 1],
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                normalMap: "eded7fcae7f64ff7dc9c7a383ccbd5b316c4886a",
                diffuse: [.64, .64, .64, 1],
                diffuseMapTint: !0,
                roughness: 81,
                specular: [.07450980392156863, .07450980392156863, .07450980392156863, 1],
                emissiveIntensity: .53,
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                aoMapUv: 1
            },
            name: "xiaolutiaozi",
            uid: "8ecd80e0db5d1121a250edf851aac5efa2d55117"
        }, {
            used: !0,
            data: {
                diffuseMap: "e92468635a098b029079ada1162856fa1e0501e5",
                useMetalness: !0,
                metalness: .94,
                layer: 15,
                roughness: 50,
                emissive: [1, 1, 1, 1],
                specular: [.06666666666666667, .06666666666666667, .06666666666666667, 1],
                emissiveMap: "e92468635a098b029079ada1162856fa1e0501e5",
                shininess: 100,
                aoMapUv: 1,
                emissiveIntensity: .62
            },
            name: "xiaozhuzi",
            uid: "8baca5fd09f0d57598b03ebe75298e6b4cd2bbc4"
        }, {
            used: !0,
            data: {
                cull: 0,
                opacityMap: "ddcc9872978387471180e7bd2f32a5cf6dc4ca03",
                diffuseMap: "b5e7565bb75a5028804297ca929058d52ac397a5",
                diffuseMapTint: !0,
                shininess: 28,
                layer: 15,
                roughness: 100,
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                blendType: 2,
                opacityMapChannel: "g",
                diffuse: [.1411764705882353, .1411764705882353, .1411764705882353, 1],
                depthWrite: !1
            },
            name: "zhipianshu3",
            uid: "3f8caf22f68227a58a1669dfcdc37612d58835f1"
        }, {
            used: !0,
            data: {
                cull: 0,
                opacityMap: "ddcc9872978387471180e7bd2f32a5cf6dc4ca03",
                diffuseMap: "49e8502378fe1b103d07a7632aae5bc6c239180f",
                layer: 15,
                emissiveMap: "49e8502378fe1b103d07a7632aae5bc6c239180f",
                shininess: 0,
                emissive: [1, 1, 1, 1],
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                blendType: 2,
                diffuse: [.6862745098039216, .6862745098039216, .6862745098039216, 1],
                depthWrite: !1,
                diffuseMapTint: !0,
                roughness: 100,
                emissiveIntensity: .56,
                opacityMapChannel: "b",
                aoMap: "49e8502378fe1b103d07a7632aae5bc6c239180f"
            },
            name: "zhuwu5",
            uid: "4363320729a587fcbedb7d3fc93d0c4388681939"
        }, {
            used: !0,
            data: {
                diffuseMapTint: !0,
                diffuseMap: "6ac60797accb1d3ba855d7c5548ffbee58069651",
                diffuseMapVertexColor: !0,
                layer: 15,
                emissiveMap: "6ac60797accb1d3ba855d7c5548ffbee58069651",
                shininess: 100,
                emissive: [1, 1, 1, 1],
                emissiveIntensity: .88,
                roughness: 0
            },
            name: "sky",
            uid: "02d0575a26ae4bfd24aca0134bf4f0e23dbf9e54"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMap: "c42d291f749c39a3bbd6ddd6c0424a59865873ea",
                aoMapChannel: "r",
                layer: 15,
                emissiveMap: "c42d291f749c39a3bbd6ddd6c0424a59865873ea",
                emissive: [1, 1, 1, 1],
                useMetalness: !0,
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                diffuse: [.64, .64, .64, 1],
                diffuseMapTint: !0,
                useLighting: !1,
                roughness: 0,
                specular: [.07450980392156863, .07450980392156863, .07450980392156863, 1],
                emissiveIntensity: .51,
                shininess: 0,
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                aoMapUv: 1
            },
            name: "_changjing_changjing01_Tex_0684_0_dds",
            uid: "bfa4da03d3c37669c163187b873c368a0cc5a259"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMap: "1bfeeff5fa6b81868d58f71e8b915444dc99aa1e",
                aoMapChannel: "r",
                layer: 15,
                emissiveMap: "1bfeeff5fa6b81868d58f71e8b915444dc99aa1e",
                metalness: .67,
                emissive: [1, 1, 1, 1],
                useMetalness: !0,
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                diffuse: [.83, .83, .83, 1],
                diffuseMapTint: !0,
                roughness: 100,
                specular: [.06666666666666667, .06666666666666667, .06666666666666667, 1],
                emissiveIntensity: .33,
                shininess: 23,
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                aoMapUv: 1
            },
            name: "_changjing_changjing01_Tex_13881_0_dds",
            uid: "7f2ce53e785ddc54e69d594e508192118524ceb9"
        }, {
            used: !0,
            data: {
                opacity: 0,
                layer: 15,
                aoMapChannel: "r",
                aoMapUv: 1,
                emissive: [.11764705882352941, .07450980392156863, .047058823529411764, 1],
                roughness: 83,
                specular: [.10588235294117647, .10588235294117647, .10588235294117647, 1],
                emissiveIntensity: .61,
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                shininess: 23,
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                useMetalness: !0,
                diffuse: [.3764705882352941, .34509803921568627, .30980392156862746, 1]
            },
            name: "_changjing_changjing01_Tex_2484_0_dds",
            uid: "1d31d4558aa0ea2c7d5eed2fb8dd4084aa83a776"
        }, {
            used: !0,
            data: {
                opacity: 0,
                layer: 15,
                roughness: 75,
                diffuse: [.587999999523163, .587999999523163, .587999999523163, 1],
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1]
            },
            name: "_changjing_changjingTex_0465_0_dds",
            uid: "ac0c9291556913a1d646624c5ec4f0ffd471c7f9"
        }, {
            used: !0,
            data: {
                opacity: 0,
                layer: 15,
                roughness: 75,
                diffuse: [.21176470588235294, .20784313725490197, .20784313725490197, 1],
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1]
            },
            name: "_changjing_changjingTex_0474_0_dds",
            uid: "1ff822d96e948168e2d502607c4e9939562afa2b"
        }, {
            used: !0,
            data: {
                opacity: 0,
                layer: 15,
                aoMapChannel: "r",
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                emissive: [.058823529411764705, .058823529411764705, .058823529411764705, 1],
                roughness: 94,
                useMetalness: !0,
                specular: [.07450980392156863, .07450980392156863, .07450980392156863, 1],
                shininess: 21,
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                aoMapUv: 1,
                diffuse: [.3137254901960784, .3137254901960784, .3176470588235294, 1]
            },
            name: "_changjing_changjingTex_0809_0_dds",
            uid: "7b1944630c0688a588e6fd35598cca0f18b4441d"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMapTint: !0,
                diffuseMap: "e556af693996226e6d717ed6a4535b87f6d1deaf",
                aoMapChannel: "r",
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                layer: 15,
                emissiveMap: "e556af693996226e6d717ed6a4535b87f6d1deaf",
                emissive: [1, 1, 1, 1],
                heightMapFactor: 2,
                emissiveIntensity: .45,
                ambient: [.52549022436142, .890196144580841, .329411774873734, 1],
                shininess: 0,
                roughness: 75,
                aoMapUv: 1,
                diffuse: [.68, .68, .68, 1]
            },
            name: "caodi",
            uid: "ab6f4bc9d4db17fa8ad9e665820b07c4f68cbf29"
        }, {
            used: !0,
            data: {
                layer: 15,
                aoMapChannel: "r",
                emissive: [.24705882352941178, .03529411764705882, .03529411764705882, 1],
                roughness: 100,
                useMetalness: !0,
                diffuseMapTiling: [20, 20],
                specular: [.00392156862745098, .00392156862745098, .00392156862745098, 1],
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                aoMapUv: 1,
                diffuse: [.4392156862745098, .09803921568627451, .09803921568627451, 1],
                emissiveIntensity: .8
            },
            name: "hongditan",
            uid: "a77ed01488b9b1cea402cef147de1772a5bcd6f2"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMap: "402565e180d5a3277d22d0e5e1eebb704e6a7f4d",
                aoMapChannel: "r",
                layer: 15,
                emissiveMap: "402565e180d5a3277d22d0e5e1eebb704e6a7f4d",
                metalness: .66,
                emissive: [1, 1, 1, 1],
                ambient: [.478431403636932, .854902029037476, .94901967048645, 1],
                diffuse: [.56, .56, .56, 1],
                diffuseMapTint: !0,
                roughness: 100,
                specular: [.06666666666666667, .06666666666666667, .06666666666666667, 1],
                emissiveIntensity: .45,
                shininess: 33,
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                aoMapUv: 1
            },
            name: "huatanbianyuan",
            uid: "f0c71db772445fdc14cc6ebacd7813976c60a15e"
        }, {
            used: !0,
            data: {
                opacity: 0,
                diffuseMapTint: !0,
                diffuseMap: "1bc464f58b4c927b3081305ab0249ccdb5df9eaf",
                aoMapChannel: "r",
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                layer: 15,
                emissiveMap: "1bc464f58b4c927b3081305ab0249ccdb5df9eaf",
                emissive: [1, 1, 1, 1],
                emissiveIntensity: .17,
                ambient: [.592156887054443, .607843160629272, .952941238880157, 1],
                shininess: 53,
                roughness: 75,
                aoMapUv: 1,
                diffuse: [.5529411764705883, .5490196078431373, .5490196078431373, 1]
            },
            name: "huatanzhuan",
            uid: "6b46243d27ea67ec897e94299c017214752e3ebe"
        }, {
            used: !0,
            data: {
                diffuseMapTint: !0,
                diffuseMap: "b5e7565bb75a5028804297ca929058d52ac397a5",
                useMetalness: !0,
                opacityMap: "ddcc9872978387471180e7bd2f32a5cf6dc4ca03",
                layer: 15,
                roughness: 0,
                blendType: 2,
                opacityMapChannel: "g"
            },
            name: "lambert14",
            uid: "dfe46deccaad32e923e58de4d9289a3bfe36166c"
        }, {
            used: !0,
            data: {
                diffuseMap: "023adb9e16ccdf4e14682fbec4dc1e5d2e40bbb6",
                aoMapChannel: "r",
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                useLighting: !1,
                layer: 15,
                emissiveMap: "023adb9e16ccdf4e14682fbec4dc1e5d2e40bbb6",
                emissive: [1, 1, 1, 1],
                specular: [.10588235294117647, .10588235294117647, .10588235294117647, 1],
                emissiveIntensity: .51,
                shininess: 95,
                metalnessMap: "023adb9e16ccdf4e14682fbec4dc1e5d2e40bbb6",
                roughness: 100,
                aoMapUv: 1
            },
            name: "lambert2",
            uid: "8cfb7cad5589dc423f1047382a25ec450c18327e"
        }, {
            used: !0,
            data: {
                cull: 0,
                opacityMap: "ddcc9872978387471180e7bd2f32a5cf6dc4ca03",
                diffuseMap: "49e8502378fe1b103d07a7632aae5bc6c239180f",
                useMetalness: !0,
                diffuseMapTint: !0,
                layer: 14,
                roughness: 100,
                blendType: 2,
                opacityMapChannel: "b",
                diffuse: [.2784313725490196, .2784313725490196, .2784313725490196, 1]
            },
            name: "lambert7",
            uid: "b816bbadcd3275344507610a3278738ab2ba0b63"
        }, {
            used: !0,
            data: {
                diffuseMapTint: !0,
                diffuseMap: "d3975028fe800f90e90228d890c3c2383d5abc51",
                useMetalness: !0,
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                layer: 15,
                emissiveMap: "d3975028fe800f90e90228d890c3c2383d5abc51",
                emissive: [1, 1, 1, 1],
                specular: [.08235294117647059, .08235294117647059, .08235294117647059, 1],
                emissiveIntensity: .41,
                shininess: 51,
                aoMapChannel: "r",
                roughness: 64,
                aoMapUv: 1,
                diffuse: [.72, .72, .72, 1]
            },
            name: "loutibai",
            uid: "86e8f75f512b80e62189419aa047b4c737b30ec9"
        }, {
            used: !0,
            data: {
                metalness: .63,
                diffuseMap: "f1469c124e6dd65118cbf6c581c024724aeba117",
                useMetalness: !0,
                roughness: 66,
                layer: 15,
                emissiveMap: "f1469c124e6dd65118cbf6c581c024724aeba117",
                emissive: [1, 1, 1, 1],
                specular: [.14901960784313725, .14901960784313725, .14901960784313725, 1],
                emissiveIntensity: .66,
                shininess: 36,
                aoMapChannel: "r",
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                aoMapUv: 1
            },
            name: "ludeng",
            uid: "8480dc2aa45accbf81335e842b9c92c8107ba6cf"
        }, {
            used: !0,
            data: {
                metalness: .57,
                diffuseMap: "4ee2ee27df508e0c6246aabcaa8860f4a2e9e7e0",
                aoMapChannel: "r",
                roughness: 100,
                layer: 15,
                emissiveMap: "4ee2ee27df508e0c6246aabcaa8860f4a2e9e7e0",
                emissive: [1, 1, 1, 1],
                specular: [.19607843137254902, .19607843137254902, .19607843137254902, 1],
                emissiveIntensity: .37,
                shininess: 47,
                aoMap: "eb02146a1d8d632c39104b1c5855acfea8511904",
                aoMapUv: 1,
                diffuse: [.6666666666666666, .6666666666666666, .6862745098039216, 1]
            },
            name: "shizhuzi",
            uid: "1a3c89ed2a4bda01f2c7f3f7c54c42ed2f323a4c"
        }, {
            used: !0,
            data: {
                cull: 0,
                opacityMap: "ddcc9872978387471180e7bd2f32a5cf6dc4ca03",
                diffuseMap: "98321a96b5614309198a4ef3f9bd4757bd0ff81e",
                diffuseMapTint: !0,
                layer: 14,
                emissiveMap: "98321a96b5614309198a4ef3f9bd4757bd0ff81e",
                emissive: [1, 1, 1, 1],
                emissiveIntensity: .32,
                ambient: [.587999999523163, .587999999523163, .587999999523163, 1],
                blendType: 2,
                opacityMapChannel: "r",
                roughness: 100,
                diffuse: [.3176470588235294, .3176470588235294, .3176470588235294, 1],
                depthWrite: !1
            },
            name: "shu",
            uid: "e823a135b5a590392952fcf53ce453fcc9d9d623"
        }],
        backgroundImage: null,
        transforms: {
            lights: [{
                position: [-2.1779844760894775, 4.514537334442139, 5.046281814575195],
                rotation: [-30.010631561279297, 17.463632583618164, -63.585243225097656]
            }, {
                position: [-12.579097747802734, 3.1119420528411865, 11.067232131958008],
                rotation: [28.833141326904297, -61.890106201171875, 1.1470117568969727]
            }, {
                position: [-8.9334077835083, 4.086692810058594, 9.937705993652344],
                rotation: [-145.84512329101562, -10.3585786819458, 106.9366683959961]
            }, {
                position: [1.1199309825897217, 3.8801207542419434, 21.409086227416992],
                rotation: [0, 0, 17.374258041381836]
            }, {
                position: [-10.424235343933105, 3.8073854446411133, 5.3926897048950195],
                rotation: [0, 0, 0]
            }, {
                position: [26.502676010131836, 9.018889427185059, 0],
                rotation: [0, 0, -30.765052795410156]
            }],
            model: {
                rotation: [0, 0, 0]
            }
        },
        background: {
            color: [0, 0, 0, 1],
            type: "environment",
            imageUid: "b46e1fe90726b07dc62505c15bb27d42d7840442",
            enabled: !0,
            data: {
                brightness: .8,
                blur: 0
            }
        },
        model: {
            asset: {
                used: !0,
                hash: "8bf092885b7b8f838497a29d4f616c7d1ce6b0a3",
                uid: "8bf092885b7b8f838497a29d4f616c7d1ce6b0a3",
                url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/sources/f6cba428c5b8e8927549349dd79bf31e.gc",
                mapping: ["75daeafe96d9f8023927517e5392b5a9ef768ecb", "85aec5fa63793d8596ec35b34b939a74c1ada943", "45412eeaa8d23ef76aad07b60c087f1b9e66ee8a", "02d0575a26ae4bfd24aca0134bf4f0e23dbf9e54", "bfa4da03d3c37669c163187b873c368a0cc5a259", "7f2ce53e785ddc54e69d594e508192118524ceb9", "1d31d4558aa0ea2c7d5eed2fb8dd4084aa83a776", "ac0c9291556913a1d646624c5ec4f0ffd471c7f9", "1ff822d96e948168e2d502607c4e9939562afa2b", "7b1944630c0688a588e6fd35598cca0f18b4441d", "cc95e7cfddeb7749f3ebb2de26e59f37d79733ba", "4f897c81b150df332f9b244a9f1f2bdc2875cda0", "845b2db763ad57e7d9747b897a9a218b18710b74", "949247581d8d14f6899d2b0ff5c839246b5f01a0", "ab6f4bc9d4db17fa8ad9e665820b07c4f68cbf29", "a77ed01488b9b1cea402cef147de1772a5bcd6f2", "17bd4f7dcabbf199bf5e427648019ac43a4c5251", "f0c71db772445fdc14cc6ebacd7813976c60a15e", "6b46243d27ea67ec897e94299c017214752e3ebe", "dfe46deccaad32e923e58de4d9289a3bfe36166c", "8cfb7cad5589dc423f1047382a25ec450c18327e", "c88652b678ec56c3fe7b0ac43484cd0f882357b6", "b816bbadcd3275344507610a3278738ab2ba0b63", "86e8f75f512b80e62189419aa047b4c737b30ec9", "8480dc2aa45accbf81335e842b9c92c8107ba6cf", "4ed8dc889761facedbd786c9f2af2610f65b6506", "1a3c89ed2a4bda01f2c7f3f7c54c42ed2f323a4c", "e823a135b5a590392952fcf53ce453fcc9d9d623", "8ecd80e0db5d1121a250edf851aac5efa2d55117", "8baca5fd09f0d57598b03ebe75298e6b4cd2bbc4", "3f8caf22f68227a58a1669dfcdc37612d58835f1", "4363320729a587fcbedb7d3fc93d0c4388681939"],
                name: "花生好车定制场景2"
            }
        },
        shadow_material: {},
        material_sets: [{
            category: 0,
            uid: "a5c14727a47a5b7fef53fd4a3f9fc88281e77e58",
            materials: [],
            main_material: "75daeafe96d9f8023927517e5392b5a9ef768ecb",
            type: 0,
            name: "默认"
        }],
        cubemaps: [{
            textures: {
                right: {
                    used: !0,
                    hash: "7011b4c8d4cc813a9346702c8aa1c06a",
                    uid: "10cbe672068915f25d32128d349f60c01ac14bde",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/aca37fea4d8bb7c35ced4a1807c0681e79b16a1e/cubemaps/7011b4c8d4cc813a9346702c8aa1c06a.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                bottom: {
                    used: !0,
                    hash: "54369f1549ace4c6a1d094abc3343d14",
                    uid: "5e397fdf73f8018a95055e05a23e8edde6fdf940",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/aca37fea4d8bb7c35ced4a1807c0681e79b16a1e/cubemaps/54369f1549ace4c6a1d094abc3343d14.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                top: {
                    used: !0,
                    hash: "b17c34eaa38f1e647063bf9735b53446",
                    uid: "935c8a280a796952a2cb0a9118048214bfe81bdb",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/aca37fea4d8bb7c35ced4a1807c0681e79b16a1e/cubemaps/b17c34eaa38f1e647063bf9735b53446.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                back: {
                    used: !0,
                    hash: "37bfd7ba0ba677c1ae10cf691ee5aff8",
                    uid: "726450e7f3dbe3aa5743d28e23c4b8a54f9b9c31",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/aca37fea4d8bb7c35ced4a1807c0681e79b16a1e/cubemaps/37bfd7ba0ba677c1ae10cf691ee5aff8.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                front: {
                    used: !0,
                    hash: "c464535f26a3c0e6dbeee9886baabaa4",
                    uid: "d02ec772204418a1f09da5f0579eb176d79f7ca0",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/aca37fea4d8bb7c35ced4a1807c0681e79b16a1e/cubemaps/c464535f26a3c0e6dbeee9886baabaa4.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                left: {
                    used: !0,
                    hash: "2f867ef6525fd43bdeb9ebcaa7009ea8",
                    uid: "abd7a2f78b44b04b2aae73b875432165c9df5dde",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/aca37fea4d8bb7c35ced4a1807c0681e79b16a1e/cubemaps/2f867ef6525fd43bdeb9ebcaa7009ea8.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                }
            },
            prefiltered: !0,
            used: !1,
            hash: "0c07e94d60bf81dd84c35092d9c243a7",
            uid: "aca37fea4d8bb7c35ced4a1807c0681e79b16a1e",
            tags: [],
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/aca37fea4d8bb7c35ced4a1807c0681e79b16a1e/cubemaps/0c07e94d60bf81dd84c35092d9c243a7.dds",
            loadFaces: !0,
            thumbnail_url: null,
            rgbm: !1,
            name: "lake"
        }, {
            textures: {
                right: {
                    used: !0,
                    hash: "bef05e98a202fa37642ba88347fd976e",
                    uid: "7f286286190cc54376f7eae19160824d7f706727",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b9cac8a5b2664a986bd23787e44c274d6f00a873/cubemaps/bef05e98a202fa37642ba88347fd976e.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                bottom: {
                    used: !0,
                    hash: "d53ed5e96c1046f7f327cbf802d22226",
                    uid: "47d9de71dc1c65b82cac2e7d9bf3cbbba77bf987",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b9cac8a5b2664a986bd23787e44c274d6f00a873/cubemaps/d53ed5e96c1046f7f327cbf802d22226.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                top: {
                    used: !0,
                    hash: "e25b622ceadc0e5d27c640d1ec43a5a7",
                    uid: "320ede36a6de9671bf896a4409aab7ac5c59a084",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b9cac8a5b2664a986bd23787e44c274d6f00a873/cubemaps/e25b622ceadc0e5d27c640d1ec43a5a7.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                back: {
                    used: !0,
                    hash: "4d5639459fc0d802b9d6aacac8e300f2",
                    uid: "71c16b1411752aa8894b92eed788bbe63a842a88",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b9cac8a5b2664a986bd23787e44c274d6f00a873/cubemaps/4d5639459fc0d802b9d6aacac8e300f2.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                front: {
                    used: !0,
                    hash: "4f2cb338f2225cb936dcb237aaf50c93",
                    uid: "b4f384aa4ea18e9cee971149dfe3e9101af5e1bb",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b9cac8a5b2664a986bd23787e44c274d6f00a873/cubemaps/4f2cb338f2225cb936dcb237aaf50c93.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                left: {
                    used: !0,
                    hash: "2152282f9e42106d9de1e0423d4dc6d4",
                    uid: "5777f0df49a1f62ab56d3626d4a76e3725b8ee68",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b9cac8a5b2664a986bd23787e44c274d6f00a873/cubemaps/2152282f9e42106d9de1e0423d4dc6d4.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                }
            },
            prefiltered: !0,
            used: !1,
            hash: "0310e9c57d99dbddd3c505b064aab84e",
            uid: "b9cac8a5b2664a986bd23787e44c274d6f00a873",
            tags: [],
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b9cac8a5b2664a986bd23787e44c274d6f00a873/cubemaps/0310e9c57d99dbddd3c505b064aab84e.dds",
            loadFaces: !0,
            thumbnail_url: null,
            rgbm: !1,
            name: "Left_00000hb"
        }, {
            textures: {
                right: {
                    used: !0,
                    hash: "081a3a31f792674b1e176e4a26e5fa91",
                    uid: "122e317691aa77a8d6219ce0cb9609b5102a6c5a",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/d30ff41fc722975784fa265131da4d848f682e4d/cubemaps/081a3a31f792674b1e176e4a26e5fa91.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                bottom: {
                    used: !0,
                    hash: "84e8b63b043e3cc21924ef9e584d5100",
                    uid: "0376b16f4efe57b674812f7b2e184086aee87ad8",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/d30ff41fc722975784fa265131da4d848f682e4d/cubemaps/84e8b63b043e3cc21924ef9e584d5100.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                top: {
                    used: !0,
                    hash: "ba1fcd1be4c5ca0c89a78dd62f8f7364",
                    uid: "2d26c599fbc9b5b014c2b922844a23d6b51e0d77",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/d30ff41fc722975784fa265131da4d848f682e4d/cubemaps/ba1fcd1be4c5ca0c89a78dd62f8f7364.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                back: {
                    used: !0,
                    hash: "4aed30f175931e7362e031ecb4b97331",
                    uid: "98ef7df524715047b6d38235653f995fe9460ee2",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/d30ff41fc722975784fa265131da4d848f682e4d/cubemaps/4aed30f175931e7362e031ecb4b97331.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                front: {
                    used: !0,
                    hash: "2e6b235271103bdaaeacf1f27a881ba1",
                    uid: "541499b9d896b51d44a536d0e5bbad80bc38ea96",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/d30ff41fc722975784fa265131da4d848f682e4d/cubemaps/2e6b235271103bdaaeacf1f27a881ba1.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                },
                left: {
                    used: !0,
                    hash: "0ed16cfffb08f2c1d95225621a21b75a",
                    uid: "2aaaa3ecfd4cf8da2286ea67e824e3e90b3624e8",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/d30ff41fc722975784fa265131da4d848f682e4d/cubemaps/0ed16cfffb08f2c1d95225621a21b75a.png",
                    variants_2048: null,
                    height: null,
                    variants_256: null,
                    variants_1024: null,
                    variants: null,
                    variants_512: null,
                    width: null
                }
            },
            prefiltered: !0,
            used: !1,
            hash: "f4b74ceaf803e676ac7164360a02836f",
            uid: "d30ff41fc722975784fa265131da4d848f682e4d",
            tags: [],
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/d30ff41fc722975784fa265131da4d848f682e4d/cubemaps/f4b74ceaf803e676ac7164360a02836f.dds",
            loadFaces: !0,
            thumbnail_url: null,
            rgbm: !1,
            name: "海蚀地貌"
        }],
        effects: {
            enabled: !1,
            data: {
                bokeh: {
                    aperture: .025,
                    maxBlur: 1,
                    enabled: !1,
                    focus: 1,
                    aspect: 1
                },
                sepia: {
                    amount: 0,
                    enabled: !1
                },
                bloom: {
                    bloomThreshold: .71,
                    enabled: !0,
                    blurAmount: 2.55,
                    bloomIntensity: 1.81
                },
                vignette: {
                    enabled: !1,
                    darkness: 1.3,
                    offset: .83
                },
                hueSaturation: {
                    hue: 0,
                    saturation: 0,
                    enabled: !1
                }
            }
        }
    };
    n.model.asset.name = "花生好车定制场景2",
    n.materials.forEach(function(t) {
        "eb02146a1d8d632c39104b1c5855acfea8511904" === t.data.aoMap && (t.data.aoMapSize = 256,
        t.data.aoMapCompression = !1),
        s.MATERIAL_TEXTURE_FIELDS.forEach(function(e) {
            t.data[e] && (t.data[e + "Size"] = 256)
        })
    });
    var r = n;
    e.default = r
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = {
        wireframe: {
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/sources/b07568a9759f42f025dfd85eede66f60.gc",
            color: [255, 255, 255, 1],
            enabled: !1
        },
        general: {
            modelRotation: [0, 0, 0],
            renderer: "PBR"
        },
        rendering: {
            toneMapping: 0,
            gammaCorrection: 0,
            fogStart: 1,
            fogEnd: 1e3,
            fog: "none",
            fogColor: [0, 0, 0, 1],
            fogDensity: 0,
            exposure: 1
        },
        transforms: {
            lights: [{
                position: [.07490880787372589, 1.7976850271224976, 3.3731837272644043],
                rotation: [85.02761840820312, -30.674814224243164, -81.48795318603516]
            }, {
                position: [.07782351970672607, 1.5016509294509888, -3.1350808143615723],
                rotation: [-39.598052978515625, 2.505549101528004e-9, -.40637001395225525]
            }, {
                position: [2.466517448425293, 1.096395492553711, 0],
                rotation: [0, 0, -62.74192810058594]
            }],
            model: {
                rotation: [0, 0, 0]
            }
        },
        shadow_material: {},
        floor: {
            shadow: {
                scale: 1
            },
            enabled: !1
        },
        size_marker: {
            color: [152, 152, 152, 1],
            enabled: !1,
            wheel_offset: 0,
            wheelbase: 0,
            orin_size: [32.819, 32.726, 32.819],
            exclude_meshes: [],
            categories: [],
            size: [2.25, 1.69, 4.77]
        },
        environment: {
            cubemapUid: "ed37cf93c388bc1ef113ce1611ff6b269449a30f",
            brightness: 2,
            enabled: !0,
            type: "user"
        },
        lights: {
            car: {
                data: [],
                colors: {
                    A: [.5, .5, .5, 1],
                    C: [1, .49019607843137253, .23137254901960785, 1],
                    B: [.25, .7490196078431373, .9411764705882353, 1]
                },
                enabled: !0
            },
            enabled: !0,
            data: [{
                vsmBlurSize: 11,
                color: [255, 255, 255, 1],
                intensity: .7,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 45,
                newName: "light1",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light1",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 10,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }, {
                vsmBlurSize: 11,
                color: [255, 255, 255, 1],
                intensity: .7,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 45,
                newName: "light2",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light2",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 10,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }, {
                vsmBlurSize: 11,
                color: [255, 255, 255, 1],
                intensity: .7,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 45,
                newName: "light3",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light3",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 10,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }]
        },
        camera: {
            fov: 60,
            move: !1,
            nearClip: .05,
            navigator: {
                distance: 5.3,
                yaw: 12264,
                pivotPoint: [0, 1, 0],
                pitch: -15,
                position: [2.0822503566741943, 2.3717410564422607, 4.6768107414245605],
                type: "orbit"
            },
            advanced: !1
        },
        backgroundImage: null,
        cubemaps: [{
            textures: {
                right: {
                    used: !0,
                    hash: "e0145ff31a50fefb457e217cad5cb535",
                    uid: "493c90be41423c9b19534a131c2091ac2afa0000",
                    flipY: !1,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/e0145ff31a50fefb457e217cad5cb535.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 512,
                    variants_256: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/fe977fad1da4d9c5dedc00b7b3f1d2e0.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/415184560a15288d8b46ffa435934eab.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/50c13089bd620bc89c43cc4d9117c29a.gtc",
                            size: 174976
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    width: 512
                },
                bottom: {
                    used: !0,
                    hash: "e0145ff31a50fefb457e217cad5cb535",
                    uid: "493c90be41423c9b19534a131c2091ac2afa0000",
                    flipY: !1,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/e0145ff31a50fefb457e217cad5cb535.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 512,
                    variants_256: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/fe977fad1da4d9c5dedc00b7b3f1d2e0.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/415184560a15288d8b46ffa435934eab.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/50c13089bd620bc89c43cc4d9117c29a.gtc",
                            size: 174976
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    width: 512
                },
                top: {
                    used: !0,
                    hash: "e0145ff31a50fefb457e217cad5cb535",
                    uid: "493c90be41423c9b19534a131c2091ac2afa0000",
                    flipY: !1,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/e0145ff31a50fefb457e217cad5cb535.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 512,
                    variants_256: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/fe977fad1da4d9c5dedc00b7b3f1d2e0.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/415184560a15288d8b46ffa435934eab.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/50c13089bd620bc89c43cc4d9117c29a.gtc",
                            size: 174976
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    width: 512
                },
                back: {
                    used: !0,
                    hash: "e0145ff31a50fefb457e217cad5cb535",
                    uid: "493c90be41423c9b19534a131c2091ac2afa0000",
                    flipY: !1,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/e0145ff31a50fefb457e217cad5cb535.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 512,
                    variants_256: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/fe977fad1da4d9c5dedc00b7b3f1d2e0.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/415184560a15288d8b46ffa435934eab.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/50c13089bd620bc89c43cc4d9117c29a.gtc",
                            size: 174976
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    width: 512
                },
                front: {
                    used: !0,
                    hash: "e0145ff31a50fefb457e217cad5cb535",
                    uid: "493c90be41423c9b19534a131c2091ac2afa0000",
                    flipY: !1,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/e0145ff31a50fefb457e217cad5cb535.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 512,
                    variants_256: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/fe977fad1da4d9c5dedc00b7b3f1d2e0.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/415184560a15288d8b46ffa435934eab.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/50c13089bd620bc89c43cc4d9117c29a.gtc",
                            size: 174976
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    width: 512
                },
                left: {
                    used: !0,
                    hash: "e0145ff31a50fefb457e217cad5cb535",
                    uid: "493c90be41423c9b19534a131c2091ac2afa0000",
                    flipY: !1,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/e0145ff31a50fefb457e217cad5cb535.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 512,
                    variants_256: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/fe977fad1da4d9c5dedc00b7b3f1d2e0.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/415184560a15288d8b46ffa435934eab.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/50c13089bd620bc89c43cc4d9117c29a.gtc",
                            size: 174976
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    width: 512
                }
            },
            used: !1,
            hash: "300c4bcf2909c287dab71c385eff1045",
            uid: "dee651f4364e3d2abe8c5e92012651d2a1768c58",
            tags: [],
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/263be557ac046acda0ab5272593201c31734bd33/dee651f4364e3d2abe8c5e92012651d2a1768c58/cubemaps/300c4bcf2909c287dab71c385eff1045.dds",
            thumbnail_url: null,
            rgbm: !1,
            name: "666"
        }, {
            textures: {
                right: {
                    used: !0,
                    hash: "f75b279719e78f9afaefa780f131e691",
                    uid: "1c7a3210c5905efb8441bca166fa57f4591f0d70",
                    flipY: !1,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/f75b279719e78f9afaefa780f131e691.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 1024,
                    variants_256: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/011d803efa44b404193e48f3b279d807.gtc",
                            size: 43832
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/d4c812a09e7fdab2cbc3f476063c800f.gtc",
                            size: 43832
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/afdbf5227e8570f86fc23fd57cb5be6a.gtc",
                            size: 43904
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/698a50bc6980641d29b700a8a4d6926b.gtc",
                            size: 699192
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/aa77feeb136640a9f39c094694806e7a.gtc",
                            size: 699192
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/feddd63e16b88521bea9d9cdfdb4cc18.gtc",
                            size: 699264
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/e8bc18b5ebf6a4ae845a38dadede6880.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/c8d3d9fcbd5cc6517254aafb180b98ea.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/f5cad35374a8cb0a7c9ee444199434a2.gtc",
                            size: 174976
                        }
                    },
                    width: 1024
                },
                bottom: {
                    used: !0,
                    hash: "34c8d393a5cd95cdabeb8e5ceb27b5b9",
                    uid: "af01ef7093d9326cccd5bdb70148ddba5604b93e",
                    flipY: !1,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/34c8d393a5cd95cdabeb8e5ceb27b5b9.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 1024,
                    variants_256: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/d5ed2e73babd57cf5143882726f5d3cb.gtc",
                            size: 43832
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/43e2919adc8c4812f01910f73f3a5218.gtc",
                            size: 43832
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/d2d44119c42c557c99116dd2a4d4315d.gtc",
                            size: 43904
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/a13b9fe0595666e81de957e85434d879.gtc",
                            size: 699192
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/2cbc6f384430134c4e765fd911dc6088.gtc",
                            size: 699192
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/7e5e3e85e4ca9704aca4fea373201d52.gtc",
                            size: 699264
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/0eadc750d0c612990a28561d6c08d2d2.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/f8004986507e492a685d5320a6d4f170.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/0e8af83603bba641177d0f8ff3793486.gtc",
                            size: 174976
                        }
                    },
                    width: 1024
                },
                top: {
                    used: !0,
                    hash: "0ae5515b986a191b6ee19dcd4cbd89c0",
                    uid: "983628ccc4f60461934e9da0ecca963f7861fd01",
                    flipY: !1,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/0ae5515b986a191b6ee19dcd4cbd89c0.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 1024,
                    variants_256: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/ec0998855203c3e4b2b5cb8d2db24318.gtc",
                            size: 43832
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/d650978ae9ed103bc17c37c5dec501ed.gtc",
                            size: 43832
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/d7425c7b08708c8453b69f4fdcccb42c.gtc",
                            size: 43904
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/9e3677588fe9e69497793a90eca8e182.gtc",
                            size: 699192
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/8f5aa838c37600b9d000ab2899b4c033.gtc",
                            size: 699192
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/de120ff236268b082ed36f787ae882f6.gtc",
                            size: 699264
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/bfeacda28c2986166e1734f72a602880.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/4cdc33fb26d29fa84d45d426a35525aa.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/43c20b8722231fc4b4763087f3b3e254.gtc",
                            size: 174976
                        }
                    },
                    width: 1024
                },
                back: {
                    used: !0,
                    hash: "97bfc82538fa3870eb5d636f4ba14307",
                    uid: "421ea4eed1a32cf0b5dbccc6d109a375f24d4b42",
                    flipY: !1,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/97bfc82538fa3870eb5d636f4ba14307.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 1024,
                    variants_256: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/b0bd46709d3d3da7260493a315b7dbb0.gtc",
                            size: 43832
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/c1e32647c539ee129486fe2c1d6e9adf.gtc",
                            size: 43832
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/bcf709ae050a1e2e108a036149ec590f.gtc",
                            size: 43904
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/c96a0397e2ddf4e224ac840ae549cf95.gtc",
                            size: 699192
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/7cc51fa33de44bd8b26eaf9211ec28b6.gtc",
                            size: 699192
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/b961c77ad89a28b8a3fe5c3c9615f922.gtc",
                            size: 699264
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/4e33defcfafa9610be06dff4d89b1a5f.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/32714dba94d3c0bfbbde3383df951b42.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/55aa23c10264b8524bc0b96f7aa7926c.gtc",
                            size: 174976
                        }
                    },
                    width: 1024
                },
                front: {
                    used: !0,
                    hash: "a2f3d6e65ba3af965c32f64ed16ac579",
                    uid: "5e8e95008645c2cde07fb83f98875b75b25e649f",
                    flipY: !1,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/a2f3d6e65ba3af965c32f64ed16ac579.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 1024,
                    variants_256: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/37e4a58cc083c1699a4782e23a13715d.gtc",
                            size: 43832
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/da9fb6bcb859bd602b7c14e46eb7dede.gtc",
                            size: 43832
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/a781bfc6427cff9c9874c4a34bdec672.gtc",
                            size: 43904
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/20407763609e307e3fcb46867e521b02.gtc",
                            size: 699192
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/be08c880768abb7593f8f660d7a111cb.gtc",
                            size: 699192
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/d7ae20e7cdb74d2cde352573b615df82.gtc",
                            size: 699264
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/47c3bb433f86bb53bd43f5d4436b93b9.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/990081b764cb552787ae17fac391155d.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/7d63e95363f17fe4b259be590f027524.gtc",
                            size: 174976
                        }
                    },
                    width: 1024
                },
                left: {
                    used: !0,
                    hash: "6922c9a114fa7fe2d365f7488b504299",
                    uid: "ae2eadac0912d2d40ae72aece38969e1ec86f3d2",
                    flipY: !1,
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/6922c9a114fa7fe2d365f7488b504299.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 1024,
                    variants_256: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/0732522377c52bf2fc6cb6630d48ea59.gtc",
                            size: 43832
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/3e30b409d28b73853dc3d82e0104fb19.gtc",
                            size: 43832
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/c2db4336d45b4b54ce227e585b63b420.gtc",
                            size: 43904
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/5c9296f840ac771376b3212646bdfeb2.gtc",
                            size: 699192
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/66ebf651e918954b75c858e72bc5bef5.gtc",
                            size: 699192
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/7173fa56e0b0e9fe407d08006317c98d.gtc",
                            size: 699264
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/71d1dd00aa058e1f6f8614d1d6479384.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/88a2333c26e1aa597aba92d760d59ee2.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/a476be34afceaf7e65cdf0cfa9002576.gtc",
                            size: 174976
                        }
                    },
                    width: 1024
                }
            },
            prefiltered: !0,
            used: !1,
            hash: "3728c10007310912db533d1dedce6514",
            uid: "ed37cf93c388bc1ef113ce1611ff6b269449a30f",
            tags: [],
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/ed37cf93c388bc1ef113ce1611ff6b269449a30f/cubemaps/3728c10007310912db533d1dedce6514.dds",
            loadFaces: !0,
            thumbnail_url: null,
            rgbm: !1,
            name: "d14096"
        }],
        material_sets: [{
            category: 0,
            uid: "95087df16bbec5333ff8531dab3d30cab0bae128",
            materials: [],
            main_material: "f9c435dc4d9ab7f71c0031a36946558b07df0c80",
            type: 0,
            name: "艾尔斯灰"
        }, {
            category: 1,
            uid: "dfc134ee7e7799e2871a82378867de8493483ef0",
            materials: [{
                used: !0,
                data: {
                    layer: 15,
                    aoMapChannel: "b",
                    roughness: 75,
                    specular: [.1411764705882353, .1411764705882353, .1411764705882353, 1],
                    normalMapTiling: [40, 40],
                    aoMap: "3ce390df69f2924d286d7e674625d62bba687ee9",
                    diffuse: [.11764705882352941, .11372549019607843, .10980392156862745, 1]
                },
                name: "pizhi",
                uid: "5a39a7de8ff25bf22ff20a8dd873e9e1743833b8"
            }, {
                used: !0,
                data: {
                    layer: 15,
                    aoMapChannel: "b",
                    useLighting: !1,
                    emissive: [.09019607843137255, .09019607843137255, .09019607843137255, 1],
                    roughness: 75,
                    aoMap: "cef35b5a4720ca9b9b97f021666fb375b206874c",
                    aoMapUv: 1,
                    diffuse: [.8392156862745098, .8392156862745098, .788235294117647, 1]
                },
                name: "ding_buliao",
                uid: "0234fbfa0c74471863dc890859df1fabaa9d7c47"
            }],
            main_material: "5a39a7de8ff25bf22ff20a8dd873e9e1743833b8",
            type: 1,
            name: "黑色内饰"
        }, {
            category: 1,
            uid: "750d2451b917f7671fb82a5fa3d0dc744d4e6939",
            materials: [{
                used: !0,
                data: {
                    layer: 15,
                    aoMapChannel: "b",
                    emissive: [.07450980392156863, .07450980392156863, .07450980392156863, 1],
                    roughness: 75,
                    specular: [.1411764705882353, .1411764705882353, .1411764705882353, 1],
                    normalMapTiling: [40, 40],
                    aoMap: "3ce390df69f2924d286d7e674625d62bba687ee9",
                    diffuse: [.3254901960784314, .3137254901960784, .29411764705882354, 1]
                },
                name: "pizhi",
                uid: "5a39a7de8ff25bf22ff20a8dd873e9e1743833b8"
            }, {
                used: !0,
                data: {
                    layer: 15,
                    aoMapChannel: "b",
                    useLighting: !1,
                    emissive: [.09019607843137255, .09019607843137255, .09019607843137255, 1],
                    roughness: 75,
                    aoMap: "cef35b5a4720ca9b9b97f021666fb375b206874c",
                    aoMapUv: 1,
                    diffuse: [.8392156862745098, .8392156862745098, .788235294117647, 1]
                },
                name: "ding_buliao",
                uid: "0234fbfa0c74471863dc890859df1fabaa9d7c47"
            }],
            main_material: "5a39a7de8ff25bf22ff20a8dd873e9e1743833b8",
            type: 1,
            name: "白灰内饰"
        }, {
            category: 2,
            uid: "4499f298afd1723e96ae11835a2703a1174e096f",
            materials: [{
                used: !0,
                data: {
                    layer: 15,
                    cubeMap: "dee651f4364e3d2abe8c5e92012651d2a1768c58",
                    shininess: 100,
                    reflectivity: .8,
                    roughness: 75,
                    refractionIndex: 0,
                    useSkybox: !1,
                    specular: [.15294117647058825, .15294117647058825, .15294117647058825, 1],
                    diffuse: [.4666666666666667, .5019607843137255, .5372549019607843, 1]
                },
                name: "ck3",
                uid: "24077cdc158a04838fe1a2a89618bb4b5b3d7ff9"
            }],
            main_material: "24077cdc158a04838fe1a2a89618bb4b5b3d7ff9",
            type: 1,
            name: "雪域白"
        }, {
            category: 2,
            uid: "36329371a3027c32a1a69872808d3a1f056de281",
            materials: [{
                used: !0,
                data: {
                    layer: 15,
                    cubeMap: "dee651f4364e3d2abe8c5e92012651d2a1768c58",
                    shininess: 100,
                    reflectivity: .8,
                    roughness: 75,
                    refractionIndex: 0,
                    useSkybox: !1,
                    specular: [.15294117647058825, .15294117647058825, .15294117647058825, 1],
                    diffuse: [.11372549019607843, .11372549019607843, .11372549019607843, 1]
                },
                name: "ck3",
                uid: "24077cdc158a04838fe1a2a89618bb4b5b3d7ff9"
            }],
            main_material: "24077cdc158a04838fe1a2a89618bb4b5b3d7ff9",
            type: 1,
            name: "玄晶黑"
        }],
        textures: [{
            used: !0,
            hash: "707593efedb7382fcd1eeb85a346f891",
            uid: "e0eeaee336a8c4d4f9c7ab0114085661f172df3f",
            flipY: !0,
            url: "/wey/datas/textures/707593efedb7382fcd1eeb85a346f891.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 1024,
            variants_256: {
                etc_rgb: {
                    url: "/wey/datas/textures/58db25879dc0397c7d2c819531aa2079.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/37d51a26e054dafa66e800970e76d251.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "/wey/datas/textures/4ac568f32f0c5c190b61e29798aefb5d.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "/wey/datas/textures/cca6147b393305d5942c2e4eac76ab2f.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/a9a366e78eb6c1b037ba0ed459a06f3b.gtc",
                    size: 699264
                },
                dxt1: {
                    url: "/wey/datas/textures/1ca50e3c5e65c2ab2d44006faf2b3cec.gtc",
                    size: 699192
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "/wey/datas/textures/d5890755cfea92554dcda7dc3037dcd6.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/ab05d5dea6f754c868f664870eb6e791.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "/wey/datas/textures/b35ddd94675fad8f7f5c6cd9f6987d55.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 1024,
            name: "ao1.png"
        }, {
            used: !0,
            hash: "b740c30a15f87bff4e59f100ab6c1ae5",
            uid: "9ec18311dd773935064fcb334f6e9503ef0821b5",
            flipY: !0,
            url: "/wey/datas/textures/b740c30a15f87bff4e59f100ab6c1ae5.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 2048,
            variants_256: {
                etc_rgb: {
                    url: "/wey/datas/textures/d5f8a44d14049a69258a7d929ac470f6.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/8f8b7e5825fb553440f10f6be7233fab.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "/wey/datas/textures/16c9cc70182eeb09a7bb6cb22fe2a914.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "/wey/datas/textures/0945d7f506c42721bc3150419edaedab.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/594058f668b60192145396b9ff6ed0b8.gtc",
                    size: 699264
                },
                dxt1: {
                    url: "/wey/datas/textures/8f9e85bcada20097d52a4b9af9382d16.gtc",
                    size: 699192
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "/wey/datas/textures/befe392c6169dee7d76a3ff2d9758eb9.gtc",
                    size: 2796344
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/8cb86271c63dac78618e580c5e49606e.gtc",
                    size: 2796416
                },
                dxt1: {
                    url: "/wey/datas/textures/e0cb296479908bf93b6e0c572ffa9efe.gtc",
                    size: 2796344
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "/wey/datas/textures/df69e24179f0489fa6b6e8222b6994fa.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/8907e6e2b10b3d4cdeb1974b95af74c6.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "/wey/datas/textures/3a2566f4c47de033b51473e1670b74c0.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 2048,
            name: "dm1.png"
        }, {
            used: !0,
            hash: "f9f01ad5ac8ee7f9eddac3254ff2623e",
            uid: "cef35b5a4720ca9b9b97f021666fb375b206874c",
            flipY: !0,
            url: "/wey/datas/textures/f9f01ad5ac8ee7f9eddac3254ff2623e.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 1024,
            variants_256: {
                etc_rgb: {
                    url: "/wey/datas/textures/ab50c9929ae621d2e081dcc9f46161e1.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/fa410e1c31912fadffe8f31e677c8ec5.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "/wey/datas/textures/5e3994926b4981a3e32d91ab47d6bc33.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "/wey/datas/textures/d86c1bd087d4b7362898e3133766c221.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/65af69ad0c8cd1795942d1a27fa6d2ca.gtc",
                    size: 699264
                },
                dxt1: {
                    url: "/wey/datas/textures/864304bb051b4f514ed8a857c40042e6.gtc",
                    size: 699192
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "/wey/datas/textures/e7722fb4ce4a75fb738526cdb9a8c3f0.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/1d98e8cdd0ea728f8546e278bf395d06.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "/wey/datas/textures/ead796a052eb43d9fd87c47f8623c32c.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 1024,
            name: "ck.png"
        }, {
            used: !0,
            hash: "80967b63f57e27a5215977e5aad57bbc",
            uid: "27e473124605a9dca3609d4c39fa87f9f1cabd1c",
            flipY: !0,
            url: "/wey/datas/textures/80967b63f57e27a5215977e5aad57bbc.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 1024,
            variants_256: {
                etc_rgb: {
                    url: "/wey/datas/textures/da3da1c94ad8c2e034aea8646e35d0fe.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/8b250016728ed5a3a4ba8b68e40f47be.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "/wey/datas/textures/76a4b287c17340cbfd249938e7f79c75.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "/wey/datas/textures/f553244d311f3094111f413fac68872e.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/8b856c4e075939c32576b2e62aff70bb.gtc",
                    size: 699264
                },
                dxt1: {
                    url: "/wey/datas/textures/00ab93868278bbce1c68aed157322ec4.gtc",
                    size: 699192
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "/wey/datas/textures/fcad0369aaac4813647b320ba7b7951e.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/0684539e79f74ad96e7de560ff8c6585.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "/wey/datas/textures/1a07da3f60ff56f9d5a0595ba92bb382.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 1024,
            name: "p2.png"
        }, {
            used: !0,
            hash: "266bf56ebfe64141886063a695edd018",
            uid: "7421b9e8b15ef22fb2614d715cf3f76350292d67",
            flipY: !0,
            url: "/wey/datas/textures/266bf56ebfe64141886063a695edd018.jpg",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 800,
            variants_256: {
                etc_rgb: {
                    url: "/wey/datas/textures/3dafcaca0f224171b8bb60bc7b694cea.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/5784fa9f1549a9737d43e6d6c89355fd.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "/wey/datas/textures/26e0cb351d5580831f9328f754b13f34.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "/wey/datas/textures/43cae066cc15de8479aac490f3ae23f3.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/72d7c2071e401f5f8234e01991d5b217.gtc",
                    size: 699264
                },
                dxt1: {
                    url: "/wey/datas/textures/0ad0a7681a370320048fc1bad6a1ebe1.gtc",
                    size: 699192
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "/wey/datas/textures/d8e3bbc3355b677288c8bc65a6ff38e2.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/51522ccc2cd8878d569b22c4c995906c.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "/wey/datas/textures/301d7d53537c5a91366ac0c5d044ff1e.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 800,
            name: "20131031043159965356.jpg"
        }, {
            used: !0,
            hash: "4fd9cdf9445e7b40260761928f9c1812",
            uid: "3ce390df69f2924d286d7e674625d62bba687ee9",
            flipY: !0,
            url: "/wey/datas/textures/4fd9cdf9445e7b40260761928f9c1812.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 1024,
            variants_256: {
                etc_rgb: {
                    url: "/wey/datas/textures/44e04e2e638acecb29496b3e0c439599.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/1549948352d0700cff99e4065a4cb562.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "/wey/datas/textures/49f621ed59d9dbb376713d548bd9c853.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "/wey/datas/textures/426f46bfe8c443303036317097191430.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/f183dfad6ce1cb292b7ab8b3d309a840.gtc",
                    size: 699264
                },
                dxt1: {
                    url: "/wey/datas/textures/b1b14e848d1b6610d2ad197ec09578b9.gtc",
                    size: 699192
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "/wey/datas/textures/18a96dc9dbf61a404a57de37f1e8c0a4.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/a523de50c0c39bfaf5494b7f82a27a6b.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "/wey/datas/textures/1b3a7e838c57e0e8fd2890334aca3975.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 1024,
            name: "yingpi.png"
        }, {
            used: !0,
            hash: "1da84458e72fc734e381de58fe6a70e1",
            uid: "0199f2dce50b332c2c18194a69770d3f8537916f",
            flipY: !0,
            url: "/wey/datas/textures/1da84458e72fc734e381de58fe6a70e1.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !0,
            height: 512,
            variants_256: {
                etc_rgb: {
                    url: "/wey/datas/textures/6f1bd527ad74fe2db13ba540b930e354.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/5628e6b548e500b152674a620aea51ae.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "/wey/datas/textures/273a9900f5e1f914ad384ed9ac0177e5.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "/wey/datas/textures/886c0a7290bfa7d00d4c3fe833bdc9b1.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/f077d8987812bd9060eae1652ac7c161.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "/wey/datas/textures/b06c4b80ddff03ab88da1d74d2c4768b.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 512,
            name: "xiaocao_ao.png"
        }, {
            used: !0,
            hash: "40813fd56c9a3e671a1983c9c773a6a8",
            uid: "07a6f48e5aeb90ad46dc0664c0d58dd6261c6d9c",
            flipY: !0,
            url: "/wey/datas/textures/40813fd56c9a3e671a1983c9c773a6a8.png",
            variants_2048: {
                etc_rgb: {
                    url: "/wey/datas/textures/07df05e7ddec665da5dcb5293aabfe81.gtc",
                    size: 2796344
                },
                etc_a: {
                    url: "/wey/datas/textures/62c545cd94d036e2fc6baa2b672500bb.gtc",
                    size: 2796344
                },
                dxt5: {
                    url: "/wey/datas/textures/9e2adbacf41390ef088e2b2f2697af9a.gtc",
                    size: 5592560
                },
                astc: {
                    url: "/wey/datas/textures/a1f81510aae7996c5bc7584862653695.gtc",
                    size: 5592580
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "/wey/datas/textures/f2c940496e1c893d9140f01f7eb8f651.gtc",
                    size: 2796416
                }
            },
            mipmaps: !1,
            height: 2048,
            variants_256: {
                etc_rgb: {
                    url: "/wey/datas/textures/9218e5b87b63822db15802c6b4ad882d.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "/wey/datas/textures/b57b1f6d6e8eb64fc60595dad0e25428.gtc",
                    size: 43832
                },
                dxt5: {
                    url: "/wey/datas/textures/9b249b8ad1a87ae92034f6f25332616f.gtc",
                    size: 87536
                },
                astc: {
                    url: "/wey/datas/textures/1b6ea97c61c82fd14d3734ad67cde340.gtc",
                    size: 87556
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "/wey/datas/textures/5690255508d19e5703900e3e1e2f202e.gtc",
                    size: 43904
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "/wey/datas/textures/8ab04bec21a638792a6ab116f354ad2b.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "/wey/datas/textures/0dac529d35e504f02c3449ca84a115f9.gtc",
                    size: 699192
                },
                dxt5: {
                    url: "/wey/datas/textures/c7b4af3cc030b24b3fca4b6bae40f271.gtc",
                    size: 1398256
                },
                astc: {
                    url: "/wey/datas/textures/b69b85752ab17283a7ad16c241e62547.gtc",
                    size: 1398276
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "/wey/datas/textures/a3e9ecca401a9e6020157622214e6475.gtc",
                    size: 699264
                }
            },
            variants: {
                etc_rgb: {
                    url: "/wey/datas/textures/fc99d0a2ac2dc47054e212dccb7ed79d.gtc",
                    size: 5592552
                },
                etc_a: {
                    url: "/wey/datas/textures/77d709c2f3e3410e9360baaf9d433882.gtc",
                    size: 5592552
                },
                dxt5: {
                    url: "/wey/datas/textures/576091fe91b8a0ea2b9c0c061db7c2f1.gtc",
                    size: 11184976
                },
                astc: {
                    url: "/wey/datas/textures/2e2990de6ab81dbfd9a41239398966b7.gtc",
                    size: 11184996
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "/wey/datas/textures/45a50ba5566d6e5be17ed8b62cccf39f.gtc",
                    size: 11185024
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "/wey/datas/textures/33a3fa7dd62999c119a873705ad2ad1c.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "/wey/datas/textures/5f81cf7266479951b1c5a3f58f52fb6e.gtc",
                    size: 174904
                },
                dxt5: {
                    url: "/wey/datas/textures/d26ae0cd27b5c918c23f595dfcd9ca89.gtc",
                    size: 349680
                },
                astc: {
                    url: "/wey/datas/textures/c5723ee8ee889df7c59a1f5b5f42a1e0.gtc",
                    size: 349700
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "/wey/datas/textures/46c0a9e0ece637e5923d06ff6c4cc6ad.gtc",
                    size: 174976
                }
            },
            width: 4096,
            name: "d14096.png"
        }, {
            used: !0,
            hash: "52d70f7ee93e9a060dfb9ce758ad8587",
            uid: "d094f7f6278268bae088b7a436be318b80e43046",
            flipY: !0,
            url: "/wey/datas/textures/52d70f7ee93e9a060dfb9ce758ad8587.png",
            variants_2048: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            mipmaps: !1,
            height: 1024,
            variants_256: {
                etc_rgb: {
                    url: "/wey/datas/textures/5ae147f04c0673afe3729a2cc87ea714.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/145a9f2e059fd5fbb59c095baa8dd2b3.gtc",
                    size: 43904
                },
                dxt1: {
                    url: "/wey/datas/textures/8af92b5f7c1ab40b6b942660ffeb3144.gtc",
                    size: 43832
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "",
                    size: 0
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants: {
                etc_rgb: {
                    url: "/wey/datas/textures/812ba119e0f92076108dfe0a69f9e4d5.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/c1e6fd36f3aa788f4c25ec1ed1fd2fc4.gtc",
                    size: 699264
                },
                dxt1: {
                    url: "/wey/datas/textures/1406e68a56673fd10c77cb436203a276.gtc",
                    size: 699192
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "/wey/datas/textures/ce65ad51411eb03a161874f8826f17a2.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgb: {
                    url: "/wey/datas/textures/56e4b4d3aca20ab468913680b80effb2.gtc",
                    size: 174976
                },
                dxt1: {
                    url: "/wey/datas/textures/73d40da4481999133f81fb5a83811740.gtc",
                    size: 174904
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                }
            },
            width: 1024,
            name: "dm_t2.png"
        }],
        orbits: [{
            distance: "5.3",
            fov: 60,
            settings: {
                pitchAngleMin: 0,
                distanceMax: 8.5,
                distanceMin: 3.5,
                pitchAngleMax: 90
            },
            yaw: 24,
            title: "默认视角",
            inverted: !1,
            pivotPoint: [0, 1, 0],
            annotations: [],
            pitch: -15,
            position: [3.3394582271575928, 3.1999619007110596, 7.500545978546143],
            type: "front",
            id: "b36df856-a516-4c06-8f03-54e2e5224917"
        }, {
            distance: 0,
            fov: 60,
            settings: {
                pitchAngleMin: 90,
                distanceMax: 0,
                distanceMin: 0,
                pitchAngleMax: 90
            },
            yaw: 2876.9999999999986,
            title: "副驾驶",
            inverted: !0,
            pivotPoint: [-.41576600074768066, 1.3, .07199540734291077],
            annotations: [],
            pitch: 14.099999999999927,
            position: [-.41576600074768066, 1.2594265937805176, .07199540734291077],
            type: "front",
            id: "67c73200-3d19-4d4c-aa1f-b9755d6a6ab5"
        }, {
            distance: 0,
            fov: 60,
            settings: {
                pitchAngleMin: 90,
                distanceMax: 0,
                distanceMin: 0,
                pitchAngleMax: 90
            },
            yaw: 3246.7528246754528,
            title: "后排座",
            inverted: !0,
            pivotPoint: [0, 1.2999999523162842, -.800000011920929],
            annotations: [],
            pitch: 8.100001304805224,
            position: [0, 1.2999999523162842, -.800000011920929],
            type: "front",
            id: "37d0dcf6-1fba-4703-adad-ca55c635157d"
        }],
        effects: {
            enabled: !0,
            data: {
                bokeh: {
                    aperture: .025,
                    maxBlur: 1,
                    enabled: !1,
                    focus: 1,
                    aspect: 1
                },
                sepia: {
                    amount: 1,
                    enabled: !1
                },
                bloom: {
                    enabled: !1,
                    bloomThreshold: .25,
                    blurAmount: 4,
                    bloomIntensity: 1.25
                },
                vignette: {
                    enabled: !1,
                    darkness: 1,
                    offset: 1
                },
                hueSaturation: {
                    hue: .2,
                    saturation: .2,
                    enabled: !1
                }
            }
        },
        background: {
            color: [255, 255, 255, 1],
            type: "environment",
            imageUid: "b46e1fe90726b07dc62505c15bb27d42d7840442",
            enabled: !0,
            data: {
                brightness: 2,
                blur: 0
            }
        },
        car_doors: {
            data: [{
                pivot: [.937857449054718, .8997492790222168, .9862330555915833],
                key: "FL"
            }, {
                pivot: [-.9345942139625549, .9274464845657349, .9922876358032227],
                key: "FR"
            }, {
                pivot: [.8954288363456726, 1.0190958976745605, -.1990949809551239],
                key: "RL"
            }, {
                pivot: [-.906472384929657, 1.0190958976745605, -.22136805951595306],
                key: "RR"
            }],
            enabled: !0,
            icons: [{
                opacity: .5,
                scale: .25,
                meshName: "cm_lf",
                meshIndex: 218,
                fadeDropOff: .4,
                key: "FL",
                offset: [.13450825214385986, .0822223424911499, 0],
                position: [.9260107278823853, 1.039530634880066, .06003463640809059],
                triangleIndex: 865083
            }, {
                opacity: .5,
                scale: .25,
                meshName: "cm_rf",
                meshIndex: 236,
                fadeDropOff: .4,
                key: "FR",
                offset: [-.15779250860214233, .1882462501525879, -.08168649673461914],
                position: [-.9290795922279358, 1.0229889154434204, .0867156982421875],
                triangleIndex: 929295
            }, {
                opacity: .5,
                scale: .25,
                meshName: "cm_lr",
                meshIndex: 187,
                fadeDropOff: .4,
                key: "RL",
                offset: [.1626836657524109, .08634376525878906, 0],
                position: [.8986350893974304, 1.1189391613006592, -.9232965111732483],
                triangleIndex: 776991
            }, {
                opacity: .5,
                scale: .25,
                meshName: "cm_rr",
                meshIndex: 202,
                fadeDropOff: .4,
                key: "RR",
                offset: [-.1280840039253235, .06651723384857178, -.014988422393798828],
                position: [-.9204699397087097, 1.1558489799499512, -.9209359288215637],
                triangleIndex: 807501
            }]
        },
        category_data: {
            scene: {}
        },
        scenes: {
            scene: null
        },
        materials: [{
            used: !0,
            data: {
                opacityMap: "27e473124605a9dca3609d4c39fa87f9f1cabd1c",
                diffuseMap: "9ec18311dd773935064fcb334f6e9503ef0821b5",
                aoMapChannel: "r",
                fresnelFactor: 0,
                layer: 14,
                emissiveMap: "9ec18311dd773935064fcb334f6e9503ef0821b5",
                shininess: 21,
                emissive: [1, 1, 1, 1],
                blendType: 2,
                shadowSampleType: 1,
                metalnessMapTint: !1,
                useLighting: !1,
                reflectivity: 0,
                roughness: 75,
                emissiveIntensity: 0,
                opacityMapChannel: "r",
                aoMap: "e0eeaee336a8c4d4f9c7ab0114085661f172df3f"
            },
            name: "lambert894",
            uid: "f9c435dc4d9ab7f71c0031a36946558b07df0c80"
        }, {
            used: !0,
            data: {
                layer: 15,
                fresnelFactor: 0,
                metalnessMapTint: !1,
                roughness: 75,
                shadowSampleType: 1,
                aoMap: "0199f2dce50b332c2c18194a69770d3f8537916f",
                aoMapUv: 1,
                diffuse: [.43529411764705883, .4588235294117647, .23921568627450981, 1]
            },
            name: "iPlants-LawnGrass-01",
            uid: "d12141dbdbd2b1553488d45937a8393a553b1cb3"
        }, {
            used: !0,
            data: {
                layer: 15,
                fresnelFactor: 0,
                metalnessMapTint: !1,
                shadowSampleType: 1,
                aoMap: "0199f2dce50b332c2c18194a69770d3f8537916f",
                diffuse: [.14901960784313725, .29411764705882354, .09803921568627451, 1],
                roughness: 75
            },
            name: "iPlants-LawnGrass-02",
            uid: "1657a246924f67d59813cc36897928bbf1b04139"
        }, {
            used: !0,
            data: {
                diffuseMap: "7421b9e8b15ef22fb2614d715cf3f76350292d67",
                fresnelFactor: 0,
                metalnessMapTint: !1,
                useLighting: !1,
                layer: 15,
                shadowSampleType: 1,
                roughness: 75
            },
            name: "lambert898",
            uid: "07f1d85d96583edffb8d5dd3eb1bce37ba02e18c"
        }, {
            used: !0,
            data: {
                diffuseMap: "7421b9e8b15ef22fb2614d715cf3f76350292d67",
                fresnelFactor: 0,
                metalnessMapTint: !1,
                useLighting: !1,
                layer: 15,
                shadowSampleType: 1,
                roughness: 75
            },
            name: "lambert899",
            uid: "a3f78955518a51bed50e2346273f9931d3c9cdd8"
        }, {
            used: !0,
            data: {
                diffuseMap: "07a6f48e5aeb90ad46dc0664c0d58dd6261c6d9c",
                fresnelFactor: 0,
                metalnessMapTint: !1,
                useLighting: !1,
                layer: 15,
                emissiveMap: "d094f7f6278268bae088b7a436be318b80e43046",
                emissive: [1, 1, 1, 1],
                emissiveIntensity: 0,
                shadowSampleType: 1,
                roughness: 75
            },
            name: "lambert900",
            uid: "17903d635bc94939411ccba5948430460aebe4d7"
        }],
        model: {
            asset: {
                used: !0,
                hash: "27d5807bcd2bf90ebc09d325451b251c143ec407",
                uid: "27d5807bcd2bf90ebc09d325451b251c143ec407",
                url: null,
                mapping: ["f9c435dc4d9ab7f71c0031a36946558b07df0c80", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "07f1d85d96583edffb8d5dd3eb1bce37ba02e18c", "a3f78955518a51bed50e2346273f9931d3c9cdd8", "07f1d85d96583edffb8d5dd3eb1bce37ba02e18c", "07f1d85d96583edffb8d5dd3eb1bce37ba02e18c", "a3f78955518a51bed50e2346273f9931d3c9cdd8", "07f1d85d96583edffb8d5dd3eb1bce37ba02e18c", "17903d635bc94939411ccba5948430460aebe4d7", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139", "d12141dbdbd2b1553488d45937a8393a553b1cb3", "1657a246924f67d59813cc36897928bbf1b04139"],
                urls: {
                    GMC: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/sources/d196c2b282f715cc6289dbe76c931aeb.gmc",
                    GC: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/sources/768423a890334bcdc74be7552a93febd.gc"
                },
                name: "花生好车定制场景3"
            }
        }
    };
    e.default = s
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = i(15)
      , n = {
        textures: [{
            used: !0,
            hash: "8cb2e881130c7f835fd49c24f615e8c9",
            uid: "413937fc90add914fd53d150d7b610d56b417a2e",
            flipY: !0,
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/8cb2e881130c7f835fd49c24f615e8c9.jpg",
            variants_2048: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/10b69db7d2b9cbfec81984750090a9fc.gtc",
                    size: 2796344
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/074bde25670356dbba4d0a423e91d494.gtc",
                    size: 2796344
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/3c361a0d14cd54cac06ada1d606e62f2.gtc",
                    size: 2796416
                }
            },
            mipmaps: !0,
            height: 4096,
            variants_256: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/28a20ffe93447cc88199110efbd24c1c.gtc",
                    size: 43832
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/cbbdd50234e7dfe7b5a35a0c3e6f6b8d.gtc",
                    size: 43832
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/cfd4e080adf534f3ea3219f7de398a9a.gtc",
                    size: 43904
                }
            },
            variants_1024: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/2fc5437c9af4c098414678fb89b82353.gtc",
                    size: 699192
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/3e52ef581f45c1e291dd71babe03380b.gtc",
                    size: 699192
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/74e81b37a26f1b88a2480697b87c5c1b.gtc",
                    size: 699264
                }
            },
            variants: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/163d1cb217c00679d1928fb076933098.gtc",
                    size: 11184952
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/50094de70856c947d508297787a9e947.gtc",
                    size: 11184952
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/42d3bfe3849ea5aa4480853da5d2c377.gtc",
                    size: 11185024
                }
            },
            variants_512: {
                etc_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/0f9ada945ec8de24bacf7f2cf03bd223.gtc",
                    size: 174904
                },
                etc_a: {
                    url: "",
                    size: 0
                },
                pvrtc1_4_rgba: {
                    url: "",
                    size: 0
                },
                dxt5: {
                    url: "",
                    size: 0
                },
                astc: {
                    url: "",
                    size: 0
                },
                dxt1: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/ab9d92a25338702b3caab6d4f97637c2.gtc",
                    size: 174904
                },
                pvrtc1_4_rgb: {
                    url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/b57c5830ca12e2a6124ef0c86dc28a0b4c64e271/textures/4113b5ec833797f460cec58d7cab8ca1.gtc",
                    size: 174976
                }
            },
            width: 4096,
            name: "tiny.jpg"
        }],
        rendering: {
            toneMapping: 0,
            gammaCorrection: 0,
            fogStart: 1,
            fogEnd: 1e3,
            fog: "none",
            fogColor: [0, 0, 0, 1],
            fogDensity: 0,
            exposure: 1
        },
        size_marker: {
            color: [152, 152, 152, 1],
            enabled: !1,
            wheel_offset: 0,
            wheelbase: 0,
            orin_size: [33.323, 22.665, 49.174],
            exclude_meshes: [],
            categories: [],
            size: [0, 0, 0]
        },
        floor: {
            shadow: {
                scale: 1
            },
            enabled: !1
        },
        orbits: [{
            distance: 5.3,
            fov: 60,
            settings: {
                pitchAngleMin: 0,
                distanceMax: 10,
                distanceMin: 3.5,
                pitchAngleMax: 90
            },
            yaw: 43.79999999999967,
            title: "默认视角",
            inverted: !1,
            pivotPoint: [0, 1, 0],
            pitch: -3.9000000000000297,
            id: "28282c71-2624-42a9-840e-996a3e00e3bf",
            position: [2.0822503566741943, 2.3717410564422607, 4.6768107414245605],
            type: "front",
            annotations: []
        }],
        camera: {
            fov: 60,
            move: !1,
            nearClip: .05,
            navigator: {
                distance: 5.3,
                yaw: -316.20000000000033,
                pivotPoint: [0, 1, 0],
                pitch: -3.9000000000000297,
                position: [3.6598639488220215, 1.3604810237884521, 3.8164708614349365],
                type: "orbit"
            },
            advanced: !1
        },
        category_data: {
            scene: {}
        },
        wireframe: {
            url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/sources/a0002f6a06da3e2b5e655b3743073748.gc",
            color: [255, 255, 255, 1],
            enabled: !1
        },
        cubemap: {
            textures: {
                right: {
                    used: !0,
                    hash: "304528ebd39d648f8ffbfbe568fc3936",
                    uid: "f012704ece472e38bd9d951da9f8c277d1b0a18d",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/304528ebd39d648f8ffbfbe568fc3936.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 1024,
                    variants_256: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/8e013dffcd15b973dd8d20b73d6ef0e0.gtc",
                            size: 699192
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/cba7bd7dda3fbc401997a29a637afea0.gtc",
                            size: 699192
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/412393185cda670418ba371267f7088a.gtc",
                            size: 699264
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/4e636e375a389c7f249c07cea42f4c48.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/326f87283e1a4a0433b46146f63548c7.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/dbb6418266d5f48b8dd88209ea8329d7.gtc",
                            size: 174976
                        }
                    },
                    width: 1024
                },
                bottom: {
                    used: !0,
                    hash: "e31ee445b9d15f9b1e1b7f460ba6a371",
                    uid: "aa97a9346ad910f17fbd54cf7872e3d8f60e5ef7",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/e31ee445b9d15f9b1e1b7f460ba6a371.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 1024,
                    variants_256: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/3a775fe914132d953b7e81a219995222.gtc",
                            size: 699192
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/bab15ebf96710a6e48c3b68ec00ea8be.gtc",
                            size: 699192
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/734b5daefb324f7fbd9e1c2ef17e6a33.gtc",
                            size: 699264
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/a7da91e1d7d5353991ce868d1c73bc8d.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/7ff66fc545e9e91f60f739a9df365282.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/9ff6a618d4d5798bb831ac36b605411b.gtc",
                            size: 174976
                        }
                    },
                    width: 1024
                },
                top: {
                    used: !0,
                    hash: "a6a8b4e337415485ed60cf3ca3e2c777",
                    uid: "c81cd008a9c9b8a2dcb4588a6f703aa8f1f5c93e",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/a6a8b4e337415485ed60cf3ca3e2c777.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 1024,
                    variants_256: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/f1a74b7dc84d8d9c04c4633d760af268.gtc",
                            size: 699192
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/cae0612db0744e1d4d8073068347113c.gtc",
                            size: 699192
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/b9b7d04f199a7551f03712cc80c91667.gtc",
                            size: 699264
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/3dbecdb7217285a005b4847249436d57.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/d004ec35b10d0c03c548d9fb02c8a8c8.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/1faf17e215b3b381d56b0ca9e68adadb.gtc",
                            size: 174976
                        }
                    },
                    width: 1024
                },
                back: {
                    used: !0,
                    hash: "3c23bba02c055988c963049af83927c6",
                    uid: "b84971c826e535e16ab1ae5c30f393ec28568d93",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/3c23bba02c055988c963049af83927c6.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 1024,
                    variants_256: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/e9aa0f81429dca6481a1fb881dba9969.gtc",
                            size: 699192
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/858adc889f22b9106bbe07da0659dc51.gtc",
                            size: 699192
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/5526ceced30964794868efd2a5eba07a.gtc",
                            size: 699264
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/3a43476a0de32a7ede8ceec34cbb6878.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/489c4019bbb7c8b7e9d0013e33f0a70f.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/a3b958d75abc9fd1ca8aa340a9f9198f.gtc",
                            size: 174976
                        }
                    },
                    width: 1024
                },
                front: {
                    used: !0,
                    hash: "4f692d35f08e14957400bfa35eb21ac0",
                    uid: "0fd1e680dc7a5f61e1a866b409607e95b4d16895",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/4f692d35f08e14957400bfa35eb21ac0.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 1024,
                    variants_256: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/09a212cd76b4dbde65f895154d20d41c.gtc",
                            size: 699192
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/bc72337ec2ed8233a25dd9708fcb3b5c.gtc",
                            size: 699192
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/a2fd36d96160b577a493c1a16d24e737.gtc",
                            size: 699264
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/d7e83f598a16e922859afa911e1b9514.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/5050e4fe54089f6f1ba3c1c95afcbc7c.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/7531a2569e1c082377875a49b26e2d6e.gtc",
                            size: 174976
                        }
                    },
                    width: 1024
                },
                left: {
                    used: !0,
                    hash: "fb75cd85f0f782bda73ff468d1942b18",
                    uid: "f7b4270a8f18ed089a99a48019d899bb41a3f25b",
                    flipY: null,
                    url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/fb75cd85f0f782bda73ff468d1942b18.png",
                    variants_2048: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    height: 1024,
                    variants_256: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants_1024: {
                        etc_rgb: {
                            url: "",
                            size: 0
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgb: {
                            url: "",
                            size: 0
                        }
                    },
                    variants: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/3404c7e4717af368cfea9ce64076afb9.gtc",
                            size: 699192
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/8b38e8cf7d2e6c541c60bac7b224b918.gtc",
                            size: 699192
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/6b926aaf924341c29621604cfff3e178.gtc",
                            size: 699264
                        }
                    },
                    variants_512: {
                        etc_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/8c9420851c082f4ca32659aca82b6d6d.gtc",
                            size: 174904
                        },
                        etc_a: {
                            url: "",
                            size: 0
                        },
                        pvrtc1_4_rgba: {
                            url: "",
                            size: 0
                        },
                        dxt5: {
                            url: "",
                            size: 0
                        },
                        astc: {
                            url: "",
                            size: 0
                        },
                        dxt1: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/9bc676a8c18d54ea3d3a212e81f186a0.gtc",
                            size: 174904
                        },
                        pvrtc1_4_rgb: {
                            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/cfbfb00b14d8b76f07ffc6f1095fc14a.gtc",
                            size: 174976
                        }
                    },
                    width: 1024
                }
            },
            prefiltered: !0,
            used: !1,
            hash: "0c07e94d60bf81dd84c35092d9c243a7",
            uid: "134bf15e3069a6dc5799bb13d182c4eb7913208c",
            loadFaces: !0,
            url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/0c07e94d60bf81dd84c35092d9c243a7.dds",
            thumbnail_url: "//demo.jimuyida.com/wey/datas/a7445e2a2e609ceffcd03517c7e312952f44d517/bfd05c38f9ba2fe07b1e1cd0b6bec4d3cf8958eb/134bf15e3069a6dc5799bb13d182c4eb7913208c/cubemaps/BonifacioAragonStairs.png",
            rgbm: null,
            name: "BonifacioAragonStairs"
        },
        scenes: {
            scene: null
        },
        general: {
            modelRotation: [0, 0, 0],
            renderer: "PBR"
        },
        environment: {
            cubemapUid: "134bf15e3069a6dc5799bb13d182c4eb7913208c",
            brightness: .68,
            enabled: !0,
            type: "platform"
        },
        lights: {
            car: {
                data: [],
                colors: {
                    A: [.5, .5, .5, 1],
                    C: [1, .49019607843137253, .23137254901960785, 1],
                    B: [.25, .7490196078431373, .9411764705882353, 1]
                },
                enabled: !0
            },
            enabled: !0,
            data: [{
                vsmBlurSize: 11,
                color: [255, 255, 255, 1],
                intensity: 1,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 45,
                newName: "light1",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light1",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 10,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }, {
                vsmBlurSize: 11,
                color: [255, 255, 255, 1],
                intensity: 1,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 45,
                newName: "light2",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light2",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 10,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }, {
                vsmBlurSize: 11,
                color: [255, 255, 255, 1],
                intensity: 1,
                cookieAngle: 0,
                cookieChannel: "rgb",
                angle: 45,
                newName: "light3",
                cookieIntensity: 1,
                vsmBias: .0025,
                vsmBlurMode: 1,
                type: "none",
                cookieFalloff: !0,
                isStatic: !1,
                shadowUpdateMode: 2,
                cookieScale: [1, 1],
                falloff: 0,
                shadow: !1,
                cookieAsset: null,
                name: "light3",
                cookieOffset: [0, 0],
                shadowResolution: 1024,
                range: 10,
                softness: 100,
                shadowDistance: 40,
                shadowType: 2
            }]
        },
        materials: [{
            used: !0,
            data: {
                bumpiness: 1,
                layer: 15,
                fresnelFactor: 0,
                metalnessMapTint: !1,
                emissiveMap: "413937fc90add914fd53d150d7b610d56b417a2e",
                roughness: 75,
                shadowSampleType: 1,
                diffuse: [0, 0, 0, 1]
            },
            name: "lambert1",
            uid: "b79d2950b75e60af7044c6068b1df2bd22f80781"
        }],
        backgroundImage: null,
        transforms: {
            lights: [{
                position: [0, 0, 0],
                rotation: [0, 0, 0]
            }, {
                position: [0, 0, 0],
                rotation: [0, 0, 0]
            }, {
                position: [0, 0, 0],
                rotation: [0, 0, 0]
            }],
            model: {
                rotation: [0, 0, 0]
            }
        },
        background: {
            color: [0, 0, 0, 1],
            type: "environment",
            imageUid: null,
            enabled: !0,
            data: {
                brightness: .68,
                blur: 4
            }
        },
        model: {
            asset: {
                used: !0,
                hash: "b57c5830ca12e2a6124ef0c86dc28a0b4c64e271",
                uid: "b57c5830ca12e2a6124ef0c86dc28a0b4c64e271",
                url: "//demo.jimuyida.com/wey/datas/9fe62e4136eeb8287d18e63173a502d887420ecb/4fd2677cb880938840f75a9bcd956e034d5d6219/sources/6450dac23ab60401e2fb11c3d5accead.gc",
                mapping: ["b79d2950b75e60af7044c6068b1df2bd22f80781"],
                name: "[场景] 花生好车定制场景1"
            }
        },
        shadow_material: {},
        material_sets: [{
            category: 0,
            uid: "4a6c9a268db6e0d92559795819169b7f6da59a01",
            materials: [],
            main_material: "b79d2950b75e60af7044c6068b1df2bd22f80781",
            type: 0,
            name: "默认"
        }],
        effects: {
            enabled: !0,
            data: {
                bokeh: {
                    aperture: .025,
                    maxBlur: 1,
                    enabled: !1,
                    focus: 1,
                    aspect: 1
                },
                sepia: {
                    amount: 1,
                    enabled: !1
                },
                bloom: {
                    enabled: !1,
                    bloomThreshold: .25,
                    blurAmount: 4,
                    bloomIntensity: 1.25
                },
                vignette: {
                    enabled: !1,
                    darkness: 1,
                    offset: 1
                },
                hueSaturation: {
                    hue: .2,
                    saturation: .2,
                    enabled: !1
                }
            }
        }
    };
    n.model.asset.name = "花生好车定制场景1",
    n.materials.forEach(function(t) {
        s.MATERIAL_TEXTURE_FIELDS.forEach(function(e) {
            t.data[e] && (t.data[e + "Size"] = 256,
            t.data[e + "Compression"] = !1)
        })
    });
    var r = n;
    e.default = r
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(103)
          , n = a(i(71))
          , r = a(i(366));
        function a(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function h(t, e) {
            for (var i = 0; i < e.length; i++) {
                var s = e[i];
                s.enumerable = s.enumerable || !1,
                s.configurable = !0,
                "value"in s && (s.writable = !0),
                Object.defineProperty(t, s.key, s)
            }
        }
        function c(t, e, i) {
            return e && h(t.prototype, e),
            i && h(t, i),
            t
        }
        var o = function() {
            function e(e) {
                this.app = e,
                this.root = new t.Entity("Speeder Manager Root"),
                this.scene = e.scenes.get("SpeederScene"),
                this.status = r.default.STATUS_IDLE,
                this.target = null,
                this.reference = null,
                this.distance = 0,
                this.timer = 0,
                this.distanceCurve = new t.Et,
                this.fontAsset = this.app.assets.textures.get("Font"),
                this.unit = "m",
                this.color = new t.D(1,1,1,1),
                this.marker = this.createMarker(),
                this.app.root.addChild(this.root),
                this._mode = r.default.MODE_ACCELERATE,
                this._speed = 0,
                this._lastStatus = this.status,
                this._isRunning = !1
            }
            var i = e.prototype;
            return i.createMarker = function e() {
                var i = new t.Entity("Speeder Manager Marker");
                return i.Il("element", {
                    type: "text"
                }),
                i.element.fontAsset = this.fontAsset,
                i.element.fontSize = 1,
                i.element.lineHeight = 1,
                i.element.anchor = new t.wt(.5,.5,.5,.5),
                i.element.pivot = new t.pt(.5,.5),
                i.element.text = "0" + this.unit,
                i.element.color = this.color,
                this.root.addChild(i),
                i.enabled = !1,
                i
            }
            ,
            i.prepare = function t() {
                var e = this.app.differ
                  , i = e.origin
                  , s = e.target;
                if (i.wheels.syncGround = !0,
                !s)
                    return this.target = i,
                    void (this.reference = null);
                s.wheels.syncGround = !0;
                var n = i.speeder.data[this.mode]
                  , a = s.speeder.data[this.mode];
                if (void 0 === n)
                    return this.target = null,
                    void (this.reference = null);
                if (void 0 === a)
                    return this.target = null,
                    void (this.reference = null);
                var h = n.totalTime
                  , c = a.totalTime;
                switch (this.mode) {
                case r.default.MODE_ACCELERATE:
                    h < c ? (this.target = i,
                    this.reference = s,
                    s.wheels.syncGround = !1) : (this.target = s,
                    this.reference = i,
                    i.wheels.syncGround = !1);
                    break;
                case r.default.MODE_DECELERATE:
                    h > c ? (this.target = i,
                    this.reference = s,
                    s.wheels.syncGround = !1) : (this.target = s,
                    this.reference = i,
                    i.wheels.syncGround = !1)
                }
                this.generateCurves()
            }
            ,
            i.generateCurves = function e() {
                var i = this
                  , s = this.target.speeder.data[this.mode]
                  , n = this.reference.speeder.data[this.mode]
                  , r = new t.Et
                  , a = new t.Et;
                r.type = t.Dt,
                a.type = t.Dt,
                s.data.forEach(function(t) {
                    return r.add(t.time, t.speed)
                }),
                n.data.forEach(function(t) {
                    return a.add(t.time, t.speed)
                });
                var h = 0
                  , c = s.data.concat(n.data).map(function(t) {
                    return t.time
                });
                c = c.filter(function(t, e) {
                    return c.indexOf(t) === e
                }).sort(function(t, e) {
                    return t - e
                }),
                this.distanceCurve = new t.Et,
                this.distanceCurve.type = t.Dt,
                c.forEach(function(t, e) {
                    var s = 0 === e ? t : t - c[e - 1], n = 0 === e ? 0 : r.value(c[e - 1]), o = r.value(t), u = 0 === e ? 0 : a.value(c[e - 1]), f = a.value(t), d, l, b = n * s + .5 * (0 === s ? 0 : (o - n) / s) * s * s, v = u * s + .5 * (0 === s ? 0 : (f - u) / s) * s * s;
                    h += Math.abs(b - v),
                    i.distanceCurve.add(t, h)
                })
            }
            ,
            i.start = function t() {
                if (this.mode = this._mode,
                this.prepare(),
                this.target) {
                    this._isRunning = !0,
                    this.status = r.default.STATUS_RUNNING;
                    var e = this.app.differ
                      , i = e.origin
                      , s = e.target;
                    i.speeder.start(),
                    s && (s.speeder.start(),
                    s.billboards.bits = n.default.BIT_IDENTITY,
                    s.billboards.toggle(!0),
                    i.billboards.bits = n.default.BIT_IDENTITY,
                    i.billboards.toggle(!0)),
                    this.app.sdk && this.app.sdk.send("jmyd1d1d:speeder:status:running"),
                    this.app.on("update", this.onUpdate, this)
                }
            }
            ,
            i.stop = function t() {
                var e = this.app.differ
                  , i = e.origin
                  , s = e.target;
                i && (i.speeder.stop(),
                this._isRunning = !1,
                this.status = r.default.STATUS_IDLE,
                i.speeder.stop(),
                i.wheels.syncGround = !0,
                i.billboards.bits = n.default.BIT_ATTRIBUTE,
                i.billboards.toggle(!1),
                s && (s.speeder.stop(),
                s.wheels.syncGround = !0,
                s.billboards.bits = n.default.BIT_ATTRIBUTE,
                s.billboards.toggle(!1)),
                this.app.off("update", this.onUpdate, this),
                this.app.camera.Bc.script.orbitCamera.inertiaFactor = .2,
                this.app.camera.transientRender())
            }
            ,
            i.reset = function t() {
                var e = this.app.camera.Bc.script.orbitCamera;
                e.inertiaFactor = .2,
                e.yaw = 45,
                e.pitch = -20,
                0 !== this.distance && (e.distanceFixed = -1,
                e.distanceMax = e._originDistanceMax,
                e.distance = e.distanceMax,
                e.pivotPoint = e.originPivotPoint,
                this.marker.enabled = !1,
                this.target.Bc.translate(0, 0, -this.distance),
                this.updateGround(-this.distance),
                this.status = r.default.STATUS_IDLE,
                this.distance = 0,
                this.timer = 0,
                this.app.camera.transientRender(),
                this.app.off("update", this.onUpdate, this))
            }
            ,
            i.updateGround = function t(i) {
                var s = this.app.ground
                  , n = e.vecA
                  , r = s.plane.getLocalScale();
                n.set(0, 0, i).scale(1.5),
                r.add(n),
                s.plane.setLocalScale(r),
                s.plane.translate(0, 0, i / 2)
            }
            ,
            i.checkStatus = function t() {
                var e = this.app.differ
                  , i = e.origin
                  , s = e.target;
                this.status = i.speeder.status,
                s && (this.status = this.status | s.speeder.status),
                this.status === r.default.STATUS_IDLE && 0 === this.distance && (this.app.off("update", this.onUpdate, this),
                this.app.camera.Bc.script.orbitCamera.distanceFixed = -1,
                this.app.rd = !0),
                this.status === r.default.STATUS_IDLE && this._lastStatus === r.default.STATUS_RUNNING && this.app.sdk && this.app.sdk.send("jmyd1d1d:speeder:status:idle"),
                this._lastStatus = this.status
            }
            ,
            i.onUpdate = function i(s) {
                var n = this.app
                  , a = n.camera
                  , h = n.ground
                  , c = this.app.differ
                  , o = c.origin
                  , u = c.target;
                if (u) {
                    var f = this.distance
                      , d = e.vecA
                      , l = e.vecB
                      , b = e.vecC
                      , v = e.b0
                      , m = e.b1
                      , g = e.z0
                      , p = e.z1
                      , w = e.mz
                      , x = this.target.Bc.getPosition()
                      , z = a.Bc.script.orbitCamera;
                    this.status === r.default.STATUS_RUNNING && (this.timer += s),
                    this.distance = this.distanceCurve.value(this.timer),
                    this.target.Bc.setPosition(x.x, x.y, this.distance),
                    f = this.distance - f,
                    d.set(0, 0, (o.Bc.getPosition().z + u.Bc.getPosition().z) / 2);
                    var _ = 2 * d.length() / Math.tan(a.Bc.camera.fov / 2 * t.I.q);
                    if (this.status !== r.default.STATUS_IDLE ? (z.pivotPoint = d,
                    z.distanceFixed = _ > z.distance ? _ : z.distance,
                    this.updateGround(f)) : (z.distanceFixed = -1,
                    z.distanceMax = Math.max(_, z._originDistanceMax)),
                    this.reference && this.target) {
                        var A = this.reference.sizeMarker.obb
                          , y = this.target.sizeMarker.obb
                          , M = this.reference.sizeMarker._scaleFactor
                          , S = 1280 / (2 * Math.tan(a.Bc.camera.fov * t.I.q / 2))
                          , C = u.Bc.getPosition().x + u.sizeMarker.obb._aabb.halfExtents.x;
                        if (v.copy(this.reference.Bc.getPosition()).add(l.set(0, 0, A._aabb.halfExtents.z)),
                        m.copy(this.target.Bc.getPosition()).add(l.set(0, 0, y._aabb.halfExtents.z)),
                        m.x = v.x = C,
                        l.copy(t.ut.RIGHT).scale(3 * M),
                        g.copy(v).add(l),
                        p.copy(m).add(l),
                        w.copy(g).add(b.copy(p).sub(g).scale(.5)).add(b.set(this.marker.element.width, this.marker.element.height, 0).scale(.5)),
                        this.distance > 0) {
                            d.copy(a.Bc.getPosition()),
                            l.copy(w);
                            var O = l.sub(d).dot(a.Bc.forward)
                              , E = Math.max(1e-4, O / S * 50);
                            this.app.Um(v, g, this.color),
                            this.app.Um(m, p, this.color),
                            this.app.Um(g, p, this.color),
                            this.marker.enabled = !0,
                            this.marker.setPosition(w),
                            this.marker.setRotation(a.Bc.getRotation()),
                            this.marker.element.text = this.distance.toFixed(2) + this.unit,
                            this.marker.element.fontSize = E,
                            this.marker.element.lineHeight = E
                        } else
                            this.marker.enabled = !1;
                        this.checkStatus()
                    }
                } else
                    this.checkStatus()
            }
            ,
            c(e, [{
                key: "mode",
                get: function t() {
                    return this._mode
                },
                set: function t(e) {
                    if (e === r.default.MODE_ACCELERATE || e === r.default.MODE_DECELERATE) {
                        var i = this.app.differ
                          , s = i.origin
                          , n = i.target;
                        s && (this._mode = e,
                        s.speeder.mode = e,
                        n && (n.speeder.mode = e))
                    }
                }
            }, {
                key: "speed",
                get: function t() {
                    return this._speed
                },
                set: function t(e) {
                    var i = e > 0
                      , s = this.app.differ
                      , n = s.origin
                      , r = s.target;
                    n && (n.speeder.speed = e / 3.6,
                    i && !n.wheels._isMoving && n.wheels.move()),
                    r && (r.speeder.speed = e / 3.6,
                    i && !r.wheels._isMoving && r.wheels.move())
                }
            }]),
            e
        }();
        e.default = o,
        o.vecA = new t.ut,
        o.vecB = new t.ut,
        o.vecC = new t.ut,
        o.b0 = new t.ut,
        o.b1 = new t.ut,
        o.z0 = new t.ut,
        o.z1 = new t.ut,
        o.mz = new t.ut
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = h;
    var s = a(i(373))
      , n = a(i(71))
      , r = a(i(407));
    function a(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function h() {
        var t = this;
        return new Promise(function(e, i) {
            var a = t.configuration
              , h = a._data
              , c = a.modelData
              , o = a.cameraData
              , u = a.cubemapData
              , f = a.sceneData
              , d = 0
              , l = 4
              , b = t.query.scene && t.scenes.get(t.query.scene) ? t.query.scene : f ? f.uid : u.uid
              , v = function i() {
                d++,
                t.sdk.send("jmyd1d1d:preload:progress", d / l),
                d === l && (t.sdk.send("jmyd1d1d:preInitialize"),
                t.lights.generate(h),
                t.model.generate(c, h),
                t.model.billboards.add(n.default.BIT_IDENTITY, "车一"),
                t.root.addChild(t.model.Bc),
                t.camera.generate(o),
                t.ground.switch(s.default.uid),
                t.scenes.switch(b),
                t.differ.setCamera(t.camera.Bc),
                t.differ.setOrigin(t.model),
                t.sdk.send("jmyd1d1d:model:" + t.model.uid + ":add"),
                t.sdk.send("jmyd1d1d:postInitialize"),
                e())
            };
            t.assets.models.load(c.uid).then(v),
            t.model.shadow.load().then(v),
            t.scenes.load(b).then(v),
            t.ground.load(s.default.uid).then(v),
            r.default.call(t, function() {
                return l++
            }, v, i)
        }
        )
    }
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = r;
    var s = n(i(407));
    function n(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function r() {
        var t = this;
        return new Promise(function(e, i) {
            var n = t.configuration, r = n.cameraData, a, h = n.panoramasData[0], c = 0, o = 1, u = function i() {
                ++c === o && (t.sdk.off("jmyd1d1d:panorama:" + h.uid + ":progress"),
                t.sdk.send("panorama:preInitialize"),
                t.sdk.send("jmyd1d1d:panorama:preInitialize"),
                t.camera.generate(r),
                t.scenes.switch(h.uid),
                t.scenes.current.annotations.toggle(!0),
                t.sdk.send("panorama:postInitialize"),
                t.sdk.send("jmyd1d1d:panorama:postInitialize"),
                e())
            };
            t.sdk.on("jmyd1d1d:panorama:" + h.uid + ":progress", function(e) {
                t.sdk.send("panorama:preload:progress", e),
                t.sdk.send("jmyd1d1d:panorama:preload:progress", e)
            }),
            s.default.call(t, function() {
                return o++
            }, u, i),
            t.scenes.load(h.uid).then(u)
        }
        )
    }
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.ArCamera = e.Opacity = e.Picker = e.CameraRotate = e.Rotate = e.LookCameraTouchInput = e.LookCameraMouseInput = e.LookCamera = e.OrbitCameraTouchInput = e.OrbitCameraMouseInput = e.OrbitCamera = void 0;
    var s = b(i(534));
    e.OrbitCamera = s.default;
    var n = b(i(535));
    e.OrbitCameraMouseInput = n.default;
    var r = b(i(536));
    e.OrbitCameraTouchInput = r.default;
    var a = b(i(537));
    e.LookCamera = a.default;
    var h = b(i(538));
    e.LookCameraMouseInput = h.default;
    var c = b(i(539));
    e.LookCameraTouchInput = c.default;
    var o = b(i(540));
    e.Rotate = o.default;
    var u = b(i(541));
    e.CameraRotate = u.default;
    var f = b(i(542));
    e.Picker = f.default;
    var d = b(i(543));
    e.Opacity = d.default;
    var l = b(i(544));
    function b(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.ArCamera = l.default
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(15);
        function n(t, e) {
            for (var i = 0; i < e.length; i++) {
                var s = e[i];
                s.enumerable = s.enumerable || !1,
                s.configurable = !0,
                "value"in s && (s.writable = !0),
                Object.defineProperty(t, s.key, s)
            }
        }
        function r(t, e, i) {
            return e && n(t.prototype, e),
            i && n(t, i),
            t
        }
        function a(t) {
            if (void 0 === t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t
        }
        function h(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var c = function(e) {
            function i() {
                for (var i, s, n = arguments.length, r = new Array(n), h = 0; h < n; h++)
                    r[h] = arguments[h];
                return i = s = e.call.apply(e, [this].concat(r)) || this,
                s.vecA = new t.ut,
                s.vecB = new t.ut,
                s.matA = new t.zt,
                s.matB = new t.zt,
                s.quaA = new t.bt,
                s.quaB = new t.bt,
                i || a(s)
            }
            h(i, e);
            var s = i.prototype;
            return s.initialize = function e() {
                var i = this
                  , s = this.Bc.getRotation()
                  , n = this.Bc.getPosition();
                this._targetDistance = 0,
                this._targetPitch = 0,
                this._targetYaw = 0,
                this._distance = 0,
                this._pitch = 0,
                this._yaw = 0,
                this._pivotPoint = new t.ut,
                this._targetPivotPoint = new t.ut,
                this._modelsAabb = new t.jt,
                this._inverted = 0,
                this._orientation = 0,
                this._originPivotPoint = new t.ut,
                this._originDistanceMin = 3.5,
                this._originDistanceMax = 10,
                this._checkAspectRatio(),
                this._buildAabb(this.focusEntity || this.app.root, 0),
                this._pivotPoint.copy(this._modelsAabb.center),
                this._yaw = this._calcYaw(s),
                this._pitch = this._clampPitchAngle(this._calcPitch(s, this._yaw)),
                this._targetYaw = this._yaw,
                this._targetPitch = this._pitch,
                this._targetPivotPoint.copy(this._pivotPoint),
                this.Bc.setLocalEulerAngles(this._pitch, this._yaw, 0),
                n.equals(this._modelsAabb.center) || this.resetAndLookAt(n, this._modelsAabb.center),
                this.on("attr:distanceFixed", function(t) {
                    t > -1 && (i._targetDistance = t),
                    i.app.rd = !0
                }, this)
            }
            ,
            s.update = function e(s) {
                var n = i.renderThreshold
                  , r = 0 === this.inertiaFactor ? 1 : Math.min(s / this.inertiaFactor, 1);
                this._distance = t.I.st(this._distance, this._targetDistance, r),
                this._yaw = t.I.st(this._yaw, this._targetYaw, r),
                this._pitch = t.I.st(this._pitch, this._targetPitch, r),
                this._pivotPoint = this._pivotPoint.st(this._pivotPoint, this._targetPivotPoint, r),
                (Math.abs(this._distance - this._targetDistance) > n || Math.abs(this._yaw - this._targetYaw) > n || Math.abs(this._pitch - this._targetPitch) > n || Math.abs(this._pivotPoint.length() - this._targetPivotPoint.length()) > n) && (this.app.rd = !0),
                this._updatePosition()
            }
            ,
            s.focus = function e(i) {
                this._buildAabb(i, 0);
                var s = this._modelsAabb.halfExtents
                  , n = Math.max(s.x, Math.max(s.y, s.z));
                n /= Math.tan(.5 * this.Bc.camera.fov * t.I.q),
                n *= 2,
                this.distance = n,
                this._removeInertia(),
                this.pivotPoint.copy(this._modelsAabb.center),
                this.originPivotPoint.copy(this.pivotPoint)
            }
            ,
            s.resetAndLookAt = function t(e, s) {
                this.pivotPoint.copy(s),
                this.originPivotPoint.copy(this.pivotPoint),
                this.Bc.setPosition(e),
                this.Bc.lookAt(s);
                var n = i.distanceBetween;
                n.sub2(s, e),
                this.distance = n.length(),
                this.pivotPoint.copy(s);
                var r = this.Bc.getRotation();
                this.yaw = this._calcYaw(r),
                this.pitch = this._calcPitch(r, this.yaw),
                this._updatePosition()
            }
            ,
            s.reset = function t(e, i, s) {
                this.pitch = e,
                this.yaw = i,
                this.distance = s,
                this._removeInertia()
            }
            ,
            s._updatePosition = function e() {
                var i = this._pitch
                  , s = this._yaw;
                this.isLandscape() && (i = 90 === this._orientation ? -this._yaw : this._yaw,
                s = -90 === this._orientation ? -this._pitch : this._pitch),
                this._inverted > 0 && (s = -s),
                this.Bc.setLocalPosition(0, 0, 0),
                this.Bc.setLocalEulerAngles(i, s, 0);
                var n = this.Bc.getPosition();
                n.copy(this.Bc.forward),
                n.scale(-this._distance),
                n.add(this._pivotPoint),
                this.Bc.setPosition(n),
                this._inverted > 0 && (this.quaA.copy(this.Bc.getRotation()),
                this.vecA.copy(this.Bc.getPosition()),
                this.vecB.copy(this.Bc.getLocalScale()),
                this.matA.Mt(t.ut.ZERO, t.bt.IDENTITY, this.vecB),
                this.matA.yt(t.ut.UP, 180),
                this.matB.Mt(this.vecA, this.quaA, this.vecB).mul(this.matA),
                this.Bc.setPosition(this.matB.getTranslation(this.vecA)),
                this.Bc.setEulerAngles(this.matB.getEulerAngles(this.vecA))),
                this.isLandscape() && (this.quaA.vt(0, 0, this._orientation),
                this.quaB.copy(this.Bc.getRotation()).mul(this.quaA),
                this.Bc.setEulerAngles(this.quaB.getEulerAngles(this.vecA)))
            }
            ,
            s.isLandscape = function t() {
                return 90 === Math.abs(this._orientation)
            }
            ,
            s._removeInertia = function t() {
                this._yaw = this._targetYaw,
                this._pitch = this._targetPitch,
                this._distance = this._targetDistance
            }
            ,
            s._checkAspectRatio = function t() {
                var e = this.app.Br.height
                  , i = this.app.Br.width;
                this.Bc.camera.horizontalFov = e > i
            }
            ,
            s._buildAabb = function t(e, i) {
                var s = 0;
                if (e.model) {
                    var n = e.model.meshInstances;
                    for (s = 0; s < n.length; s++)
                        0 === i ? this._modelsAabb.copy(n[s].aabb) : this._modelsAabb.add(n[s].aabb),
                        i += 1
                }
                for (s = 0; s < e.children.length; ++s)
                    i += this._buildAabb(e.children[s], i);
                return i
            }
            ,
            s._clampDistance = function e(i) {
                return this.distanceMax > 0 ? t.I.clamp(i, this.distanceMin, this.distanceMax) : Math.max(i, this.distanceMin)
            }
            ,
            s._clampPitchAngle = function e(i) {
                var s, n;
                return 90 === this._orientation ? (s = this.pitchAngleMin,
                n = this.pitchAngleMax) : (s = -this.pitchAngleMax,
                n = -this.pitchAngleMin),
                t.I.clamp(i, s, n)
            }
            ,
            s._clampYawAngle = function t(e, i) {
                var s, n = (e - i) % 360;
                return e = n > 180 ? i - (360 - n) : n < -180 ? i + (360 + n) : i + n
            }
            ,
            s._calcPitch = function e(s, n) {
                var r = i.quatWithoutYaw
                  , a = i.yawOffset;
                a.vt(0, -n, 0),
                r.mul2(a, s);
                var h = new t.ut;
                return r.ft(t.ut.FORWARD, h),
                Math.atan2(h.y, -h.z) * t.I.tt
            }
            ,
            s._calcYaw = function e(i) {
                var s = new t.ut;
                return i.ft(t.ut.FORWARD, s),
                Math.atan2(-s.x, -s.z) * t.I.tt
            }
            ,
            s._clampFov = function e(i) {
                return t.I.clamp(i, this.fovMin, this.fovMax)
            }
            ,
            r(i, [{
                key: "distance",
                get: function t() {
                    return this._targetDistance
                },
                set: function t(e) {
                    this.distanceFixed > -1 || (this._targetDistance = this._clampDistance(e))
                }
            }, {
                key: "pitch",
                get: function t() {
                    return this._targetPitch
                },
                set: function t(e) {
                    this._targetPitch = this.isLandscape() ? this._clampYawAngle(e, this._pitch) : this._clampPitchAngle(e)
                }
            }, {
                key: "yaw",
                get: function t() {
                    return this._targetYaw
                },
                set: function t(e) {
                    this._targetYaw = this.isLandscape() ? this._clampPitchAngle(e) : this._clampYawAngle(e, this._yaw)
                }
            }, {
                key: "pivotPoint",
                get: function t() {
                    return this._targetPivotPoint
                },
                set: function t(e) {
                    this._targetPivotPoint.copy(e)
                }
            }, {
                key: "originPivotPoint",
                get: function t() {
                    return this._originPivotPoint
                },
                set: function t(e) {
                    this._originPivotPoint.copy(e)
                }
            }, {
                key: "inverted",
                get: function t() {
                    return this._inverted
                },
                set: function t(e) {
                    this._inverted = e
                }
            }, {
                key: "orientation",
                get: function t() {
                    return this._orientation
                },
                set: function t(e) {
                    var i = this._orientation;
                    this._orientation = 90 === Math.abs(e) ? e : 0,
                    this._orientation !== i && (this.yaw = this.yaw,
                    this.pitch = this.pitch),
                    this.app.rd = !0
                }
            }, {
                key: "fov",
                get: function t() {
                    return this.Bc.camera.fov
                },
                set: function t(e) {
                    this.Bc.camera.fov = this._clampFov(e)
                }
            }]),
            i
        }(s.ScriptType);
        c.__name = "orbitCamera",
        c.__attributes = {
            fovEnabled: {
                type: "boolean",
                default: !1,
                title: "Fov enabled",
                description: ""
            },
            fovMax: {
                type: "number",
                default: 120,
                title: "Fov Max",
                description: "Setting this at 0 will give an infinite fov limit"
            },
            fovMin: {
                type: "number",
                default: 10,
                title: "Fov Min"
            },
            distanceMax: {
                type: "number",
                default: 0,
                title: "Distance Max",
                description: "Setting this at 0 will give an infinite distance limit"
            },
            distanceMin: {
                type: "number",
                default: 0,
                title: "Distance Min"
            },
            distanceFixed: {
                type: "number",
                default: -1,
                title: "Distance Fixed"
            },
            pitchAngleMax: {
                type: "number",
                default: 90,
                title: "Pitch Angle Max (degrees)"
            },
            pitchAngleMin: {
                type: "number",
                default: -90,
                title: "Pitch Angle Min (degrees)"
            },
            inertiaFactor: {
                type: "number",
                default: 0,
                title: "Inertia Factor",
                description: "Higher value means that the camera will continue moving after the user has stopped dragging. 0 is fully responsive."
            },
            focusEntity: {
                type: "entity",
                title: "Focus Entity",
                description: "Entity for the camera to focus on. If blank, then the camera will use the whole scene"
            },
            frameOnStart: {
                type: "boolean",
                default: !0,
                title: "Frame on Start",
                description: "Frames the entity or scene at the start of the application."
            }
        },
        c.distanceBetween = new t.ut,
        c.fromWorldPoint = new t.ut,
        c.toWorldPoint = new t.ut,
        c.worldDiff = new t.ut,
        c.quatWithoutYaw = new t.bt,
        c.yawOffset = new t.bt,
        c.renderThreshold = 1e-4;
        var o = (0,
        s.td)(c);
        e.default = o
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(15);
        function n(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var r = function(e) {
            function i() {
                return e.apply(this, arguments) || this
            }
            n(i, e);
            var s = i.prototype;
            return s.initialize = function e() {
                this.orbitCamera = this.Bc.script.orbitCamera,
                this.orbitCamera && (this.on("enable", this.onEnable),
                this.on("disable", this.onDisable),
                this.onEnable()),
                this.app.mouse.disableContextMenu(),
                this.lookButtonDown = !1,
                this.panButtonDown = !1,
                this.lastPoint = new t.pt,
                this.onMouseOut = this._onMouseOut.bind(this)
            }
            ,
            s.onEnable = function e() {
                this.lookButtonDown = !1,
                this.panButtonDown = !1,
                this.app.mouse.on(t.co, this.onMouseDown, this),
                this.app.mouse.on(t.uo, this.onMouseUp, this, -9),
                this.app.mouse.on(t.oo, this.onMouseMove, this),
                this.app.mouse.on(t.fo, this.onMouseWheel, this),
                window.addEventListener("mouseout", this.onMouseOut, !1)
            }
            ,
            s.onDisable = function e() {
                this.lookButtonDown = !1,
                this.panButtonDown = !1,
                this.app.mouse.off(t.co, this.onMouseDown, this),
                this.app.mouse.off(t.uo, this.onMouseUp, this),
                this.app.mouse.off(t.oo, this.onMouseMove, this),
                this.app.mouse.off(t.fo, this.onMouseWheel, this),
                window.removeEventListener("mouseout", this.onMouseOut, !1)
            }
            ,
            s.getWorldDiff = function t(e) {
                var s = i.fromWorldPoint
                  , n = i.toWorldPoint
                  , r = i.worldDiff
                  , a = this.Bc.camera
                  , h = .5;
                return a.screenToWorld(e.x, e.y, .5, s),
                a.screenToWorld(this.lastPoint.x, this.lastPoint.y, .5, n),
                r.sub2(n, s),
                r
            }
            ,
            s.pan = function t(e) {
                this.orbitCamera.pivotPoint.add(this.getWorldDiff(e))
            }
            ,
            s.panInXAxis = function t(e) {
                var i = this.orbitCamera.pivotPoint.clone()
                  , s = this.app.model.aabb.halfExtents.x / 2;
                i.x += 2 * this.getWorldDiff(e).x,
                i.x > s ? i.x = s : i.x < -s && (i.x = -s),
                this.orbitCamera.pivotPoint = i
            }
            ,
            s.onMouseDown = function e(i) {
                switch (i.event.preventDefault(),
                i.event.stopPropagation(),
                i.button) {
                case t.cf:
                    this.lookButtonDown = !0;
                    break;
                case t.uf:
                case t.ff:
                    this.panButtonDown = !0
                }
                this.app.fire("app:camera:movestart")
            }
            ,
            s.onMouseUp = function e(i) {
                switch (i.event.preventDefault(),
                i.event.stopPropagation(),
                i.button) {
                case t.cf:
                    this.lookButtonDown = !1;
                    break;
                case t.uf:
                case t.ff:
                    this.panButtonDown = !1
                }
                this.app.rd = !0,
                this.app.fire("app:camera:moveend")
            }
            ,
            s.onMouseMove = function t(e) {
                this.lookButtonDown ? (this.orbitCamera.pitch -= e.dy * this.orbitSensitivity,
                this.orbitCamera.yaw -= e.dx * this.orbitSensitivity,
                this.app.rd = !0,
                this.app.fire("app:camera:move")) : this.panButtonDown && (1 !== this.orbitCamera.inverted ? this.pan(e) : this.panInXAxis(e),
                this.app.rd = !0,
                this.app.fire("app:camera:move")),
                this.lastPoint.set(e.x, e.y)
            }
            ,
            s.onMouseWheel = function t(e) {
                e.event.preventDefault(),
                this.orbitCamera.inverted || (this.orbitCamera.distance -= e.wheel * this.distanceSensitivity * (.1 * this.orbitCamera.distance)),
                (this.orbitCamera.fovEnabled || this.orbitCamera.inverted) && (this.orbitCamera.fov -= e.wheel * this.distanceSensitivity * (.1 * this.orbitCamera.fov)),
                this.app.rd = !0,
                this.app.fire("app:camera:move")
            }
            ,
            s._onMouseOut = function t() {
                this.lookButtonDown = !1,
                this.panButtonDown = !1
            }
            ,
            i
        }(s.ScriptType);
        r.__name = "orbitCameraMouseInput",
        r.__attributes = {
            orbitSensitivity: {
                type: "number",
                default: .3,
                title: "Orbit Sensitivity",
                description: "How fast the camera moves around the orbit. Higher is faster"
            },
            distanceSensitivity: {
                type: "number",
                default: .15,
                title: "Distance Sensitivity",
                description: "How fast the camera moves in and out. Higher is faster"
            }
        },
        r.fromWorldPoint = new t.ut,
        r.toWorldPoint = new t.ut,
        r.worldDiff = new t.ut;
        var a = (0,
        s.td)(r);
        e.default = a
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(15)
          , n = i(104);
        function r(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var a = function(e) {
            function i() {
                return e.apply(this, arguments) || this
            }
            r(i, e);
            var s = i.prototype;
            return s.initialize = function e() {
                this.orbitCamera = this.Bc.script.orbitCamera,
                this.lastTouchPoint = new t.pt,
                this.lastPinchMidPoint = new t.pt,
                this.lastPinchDistance = 0,
                this.orbitCamera && this.app.touch && (this.on("enable", this.onEnable),
                this.on("disable", this.onDisable),
                this.onEnable())
            }
            ,
            s.onEnable = function e() {
                this.app.touch.on(t.do, this.onTouchStartEndCancel, this),
                this.app.touch.on(t.lo, this.onTouchStartEndCancel, this),
                this.app.touch.on(t.vo, this.onTouchStartEndCancel, this),
                this.app.touch.on(t.bo, this.onTouchMove, this)
            }
            ,
            s.onDisable = function e() {
                this.app.touch.off(t.do, this.onTouchStartEndCancel, this),
                this.app.touch.off(t.lo, this.onTouchStartEndCancel, this),
                this.app.touch.off(t.vo, this.onTouchStartEndCancel, this),
                this.app.touch.off(t.bo, this.onTouchMove, this)
            }
            ,
            s.onTouchStartEndCancel = function t(e) {
                e.event.preventDefault();
                var i = e.touches;
                switch (1 === i.length ? this.lastTouchPoint.set(i[0].x, i[0].y) : 2 === i.length && (this.lastPinchDistance = (0,
                n.calcPinchDistance)(i[0], i[1]),
                (0,
                n.calcMidPoint)(i[0], i[1], this.lastPinchMidPoint)),
                e.event.type) {
                case "touchstart":
                    this.app.fire("app:camera:movestart");
                    break;
                case "touchend":
                case "touchcancel":
                    this.app.fire("app:camera:moveend")
                }
            }
            ,
            s.getWorldDiff = function t(e) {
                var s = i.fromWorldPoint
                  , n = i.toWorldPoint
                  , r = i.worldDiff
                  , a = this.Bc.camera
                  , h = 1.2;
                return a.screenToWorld(e.x, e.y, 1.2, s),
                a.screenToWorld(this.lastPinchMidPoint.x, this.lastPinchMidPoint.y, 1.2, n),
                r.sub2(n, s),
                r
            }
            ,
            s.pan = function t(e) {
                this.orbitCamera.pivotPoint.add(this.getWorldDiff(e))
            }
            ,
            s.panInXAxis = function t(e) {
                var i = this.orbitCamera.pivotPoint.clone()
                  , s = this.app.model.aabb.halfExtents.x / 2;
                i.x += 2 * this.getWorldDiff(e).x,
                i.x > s ? i.x = s : i.x < -s && (i.x = -s),
                this.orbitCamera.pivotPoint = i
            }
            ,
            s.onTouchMove = function t(e) {
                var s = i.pinchMidPoint
                  , r = e.touches;
                if (1 === r.length) {
                    var a = r[0];
                    this.orbitCamera.pitch -= (a.y - this.lastTouchPoint.y) * this.orbitSensitivity,
                    this.orbitCamera.yaw -= (a.x - this.lastTouchPoint.x) * this.orbitSensitivity,
                    this.lastTouchPoint.set(a.x, a.y),
                    this.app.rd = !0,
                    this.app.fire("app:camera:move")
                } else if (2 === r.length) {
                    var h = (0,
                    n.calcPinchDistance)(r[0], r[1])
                      , c = h - this.lastPinchDistance;
                    this.lastPinchDistance = h;
                    var o = c * this.distanceSensitivity * .1 * (.1 * this.orbitCamera.distance);
                    if (this.orbitCamera.inverted) {
                        var u = c * this.distanceSensitivity * .1 * 5;
                        this.orbitCamera.fov -= u
                    } else
                        this.orbitCamera.distance -= o;
                    (0,
                    n.calcMidPoint)(r[0], r[1], s),
                    Math.abs(c) <= this.pinchSensitivity && this.orbitCamera.inverted && this.panInXAxis(s),
                    this.lastPinchMidPoint.copy(s),
                    this.app.rd = !0,
                    this.app.fire("app:camera:move")
                }
            }
            ,
            i
        }(s.ScriptType);
        a.__name = "orbitCameraTouchInput",
        a.__attributes = {
            orbitSensitivity: {
                type: "number",
                default: .4,
                title: "Orbit Sensitivity",
                description: "How fast the camera moves around the orbit. Higher is faster"
            },
            distanceSensitivity: {
                type: "number",
                default: .2,
                title: "Distance Sensitivity",
                description: "How fast the camera moves in and out. Higher is faster"
            },
            pinchSensitivity: {
                type: "number",
                default: 1,
                title: "Pinch Sensitivity"
            }
        },
        a.fromWorldPoint = new t.ut,
        a.toWorldPoint = new t.ut,
        a.worldDiff = new t.ut,
        a.pinchMidPoint = new t.pt;
        var h = (0,
        s.td)(a);
        e.default = h
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(15);
        function n(t, e) {
            for (var i = 0; i < e.length; i++) {
                var s = e[i];
                s.enumerable = s.enumerable || !1,
                s.configurable = !0,
                "value"in s && (s.writable = !0),
                Object.defineProperty(t, s.key, s)
            }
        }
        function r(t, e, i) {
            return e && n(t.prototype, e),
            i && n(t, i),
            t
        }
        function a(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var h = function(e) {
            function i() {
                return e.apply(this, arguments) || this
            }
            a(i, e);
            var s = i.prototype;
            return s.initialize = function t() {
                this._pitch = this._targetPitch = 0,
                this._yaw = this._targetYaw = 0,
                this._fov = this.Bc.camera.fov
            }
            ,
            s.update = function e(s) {
                var n = i.renderThreshold
                  , r = 0 === this.inertiaFactor ? 1 : Math.min(s / this.inertiaFactor, 1);
                this._pitch = t.I.st(this._pitch, this._targetPitch, r),
                this._yaw = t.I.st(this._yaw, this._targetYaw, r),
                (Math.abs(this._yaw - this._targetYaw) > n || Math.abs(this._pitch - this._targetPitch) > n) && (this.app.rd = !0),
                this.Bc.setLocalEulerAngles(this._pitch, this._yaw, 0)
            }
            ,
            r(i, [{
                key: "pitch",
                get: function t() {
                    return this._targetPitch
                },
                set: function e(i) {
                    this._targetPitch = t.I.clamp(i, this.pitchMin, this.pitchMax)
                }
            }, {
                key: "yaw",
                get: function t() {
                    return this._targetYaw
                },
                set: function t(e) {
                    this._targetYaw = e
                }
            }, {
                key: "fov",
                get: function t() {
                    return this._fov
                },
                set: function e(i) {
                    this._fov = t.I.clamp(i, this.fovMin, this.fovMax),
                    this.Bc.camera.fov = this.fov,
                    this.Bc.fire("camera:fov", this._fov)
                }
            }]),
            i
        }(s.ScriptType);
        h.renderThreshold = 1e-4,
        h.__name = "lookCamera",
        h.__attributes = {
            pitchMin: {
                type: "number",
                default: -90
            },
            pitchMax: {
                type: "number",
                default: 90
            },
            fovLocked: {
                type: "number",
                default: !0
            },
            fovMin: {
                type: "number",
                default: 10
            },
            fovMax: {
                type: "number",
                default: 120
            },
            inertiaFactor: {
                type: "number",
                default: .2,
                title: "Inertia Factor",
                description: "Higher value means that the camera will continue moving after the user has stopped dragging. 0 is fully responsive."
            }
        };
        var c = (0,
        s.td)(h);
        e.default = c
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(15);
        function n(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var r = function(e) {
            function i() {
                return e.apply(this, arguments) || this
            }
            n(i, e);
            var s = i.prototype;
            return s.initialize = function t() {
                this.lookCamera = this.Bc.script.lookCamera,
                this.lookButtonDown = !1,
                this.lookCamera && (this.on("enable", this.onEnable, this),
                this.on("disable", this.onDisable, this),
                this.onEnable())
            }
            ,
            s.onEnable = function e() {
                this.lookButtonDown = !1,
                this.app.mouse.on(t.co, this.onMouseDown, this),
                this.app.mouse.on(t.uo, this.onMouseUp, this),
                this.app.mouse.on(t.oo, this.onMouseMove, this),
                this.app.mouse.on(t.fo, this.onMouseWheel, this)
            }
            ,
            s.onDisable = function e() {
                this.lookButtonDown = !1,
                this.app.mouse.off(t.co, this.onMouseDown, this),
                this.app.mouse.off(t.uo, this.onMouseUp, this),
                this.app.mouse.off(t.oo, this.onMouseMove, this),
                this.app.mouse.off(t.fo, this.onMouseWheel, this)
            }
            ,
            s.onMouseDown = function t(e) {
                e.event.preventDefault(),
                e.event.stopPropagation(),
                this.lookButtonDown = !0
            }
            ,
            s.onMouseUp = function t(e) {
                e.event.preventDefault(),
                e.event.stopPropagation(),
                this.lookButtonDown = !1
            }
            ,
            s.onMouseMove = function t(e) {
                this.lookButtonDown && (this.lookCamera.pitch -= e.dy * this.lookSensitivity,
                this.lookCamera.yaw -= e.dx * this.lookSensitivity,
                this.app.rd = !0)
            }
            ,
            s.onMouseWheel = function t(e) {
                this.lookCamera.fovLocked || (this.lookCamera.fov -= e.wheel * this.fovSensitivity * (.1 * this.lookCamera.fov),
                this.app.rd = !0)
            }
            ,
            i
        }(s.ScriptType);
        r.__name = "lookCameraMouseInput",
        r.__attributes = {
            lookSensitivity: {
                type: "number",
                default: .3
            },
            fovSensitivity: {
                type: "number",
                default: .15
            }
        };
        var a = (0,
        s.td)(r);
        e.default = a
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(15)
          , n = i(104);
        function r(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var a = function(e) {
            function i() {
                return e.apply(this, arguments) || this
            }
            r(i, e);
            var s = i.prototype;
            return s.initialize = function e() {
                this.lookCamera = this.Bc.script.lookCamera,
                this.lookButtonDown = !1,
                this.lastTouchPoint = new t.pt,
                this.lastPinchMidPoint = new t.pt,
                this.lastPinchDistance = 0,
                this.lookCamera && this.app.touch && (this.on("enable", this.onEnable, this),
                this.on("disable", this.onDisable, this),
                this.onEnable())
            }
            ,
            s.onEnable = function e() {
                this.lookButtonDown = !1,
                this.app.touch.on(t.do, this.onTouchStartEndCancel, this),
                this.app.touch.on(t.lo, this.onTouchStartEndCancel, this),
                this.app.touch.on(t.vo, this.onTouchStartEndCancel, this),
                this.app.touch.on(t.bo, this.onTouchMove, this)
            }
            ,
            s.onDisable = function e() {
                this.lookButtonDown = !1,
                this.app.touch.off(t.do, this.onTouchStartEndCancel, this),
                this.app.touch.off(t.lo, this.onTouchStartEndCancel, this),
                this.app.touch.off(t.vo, this.onTouchStartEndCancel, this),
                this.app.touch.off(t.bo, this.onTouchMove, this)
            }
            ,
            s.onTouchStartEndCancel = function t(e) {
                e.event.preventDefault();
                var i = e.touches;
                1 === i.length ? this.lastTouchPoint.set(i[0].x, i[0].y) : 2 === i.length && (this.lastPinchDistance = (0,
                n.calcPinchDistance)(i[0], i[1]),
                (0,
                n.calcMidPoint)(i[0], i[1], this.lastPinchMidPoint))
            }
            ,
            s.onTouchMove = function t(e) {
                var s = i.pinchMidPoint
                  , r = e.touches;
                if (1 === r.length) {
                    var a = r[0];
                    this.lookCamera.pitch += (a.y - this.lastTouchPoint.y) * this.lookSensitivity,
                    this.lookCamera.yaw += (a.x - this.lastTouchPoint.x) * this.lookSensitivity,
                    this.lastTouchPoint.set(a.x, a.y),
                    this.app.rd = !0
                } else if (2 === r.length) {
                    var h = (0,
                    n.calcPinchDistance)(r[0], r[1])
                      , c = h - this.lastPinchDistance;
                    this.lastPinchDistance = h,
                    this.lookCamera.fovLocked || (this.lookCamera.fov -= c * this.fovSensitivity * .1 * (.1 * this.lookCamera.fov)),
                    (0,
                    n.calcMidPoint)(r[0], r[1], s),
                    this.lastPinchMidPoint.copy(s),
                    this.app.rd = !0
                }
            }
            ,
            i
        }(s.ScriptType);
        a.__name = "lookCameraTouchInput",
        a.__attributes = {
            lookSensitivity: {
                type: "number",
                default: .4
            },
            fovSensitivity: {
                type: "number",
                default: .2
            }
        },
        a.fromWorldPoint = new t.ut,
        a.toWorldPoint = new t.ut,
        a.worldDiff = new t.ut,
        a.pinchMidPoint = new t.pt;
        var h = (0,
        s.td)(a);
        e.default = h
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(15);
        function n(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var r = function(t) {
            function e() {
                return t.apply(this, arguments) || this
            }
            var i;
            return n(e, t),
            e.prototype.update = function t(i) {
                var s = e.quatA
                  , n = this.Bc.getRotation();
                s.yt(this.axis, this.speed),
                s.mul(n),
                this.Bc.setRotation(s),
                this.app.rd = !0
            }
            ,
            e
        }(s.ScriptType);
        r.__name = "rotate",
        r.__attributes = {
            speed: {
                type: "number",
                default: .3,
                title: "rotate speed"
            },
            axis: {
                type: "vec3",
                default: [0, 0, 0]
            }
        },
        r.quatA = new t.bt,
        r.quatB = new t.bt;
        var a = (0,
        s.td)(r);
        e.default = a
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(15);
        function n(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var r = function(e) {
            function i() {
                return e.apply(this, arguments) || this
            }
            n(i, e);
            var s = i.prototype;
            return s.initialize = function t() {
                this._isMoving = !0,
                this._delay = Date.now() - 2e3,
                this.orbitCamera = this.Bc.script.orbitCamera,
                this.on("enable", this.onEnable, this),
                this.on("disable", this.onDisable, this),
                this.onEnable()
            }
            ,
            s.onEnable = function e() {
                this._delay = Date.now() - 2e3,
                this.app.mouse.on(t.co, this.onMouseDown, this),
                this.app.mouse.on(t.uo, this.onMouseUp, this),
                this.app.touch && (this.app.touch.on(t.do, this.onMouseDown, this),
                this.app.touch.on(t.lo, this.onMouseUp, this))
            }
            ,
            s.onDisable = function e() {
                this.app.mouse.off(t.co, this.onMouseDown, this),
                this.app.mouse.off(t.uo, this.onMouseUp, this),
                this.app.touch && (this.app.touch.off(t.do, this.onMouseDown, this),
                this.app.touch.off(t.lo, this.onMouseUp, this))
            }
            ,
            s.onMouseDown = function t() {
                this._isMoving = !1,
                this._delay = Date.now()
            }
            ,
            s.onMouseUp = function t() {
                this._isMoving = !0
            }
            ,
            s.update = function t(e) {
                this.orbitCamera && this._isMoving && Date.now() - this._delay > 2e3 && (this.orbitCamera.yaw = this.orbitCamera.yaw + e * this.speed,
                this.app.rd = !0)
            }
            ,
            i
        }(s.ScriptType);
        r.__name = "cameraRotate",
        r.__attributes = {
            speed: {
                type: "number",
                default: 10,
                title: "Rotate Speed"
            }
        };
        var a = (0,
        s.td)(r);
        e.default = a
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(15);
        function n(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var r = function(e) {
            function i() {
                return e.apply(this, arguments) || this
            }
            n(i, e);
            var s = i.prototype;
            return s.initialize = function t() {
                this.timeoutId = null,
                this.timer = 0,
                this.isTimerStart = !1,
                this.isCameraMoving = !1,
                this.orbitCamera = this.Bc.script.orbitCamera,
                this.on("enable", this.onEnable, this),
                this.on("disable", this.onDisable, this),
                this.on("destroy", this.onDisable, this),
                this.onEnable()
            }
            ,
            s.update = function t(e) {
                this.isTimerStart && (this.timer += e,
                this.timer > this.doubleClickDelay && (this.isTimerStart = !1,
                this.timer = 0))
            }
            ,
            s.onEnable = function e() {
                this.app.mouse.on(t.co, this.onMouseDown, this, 1),
                this.app.on("app:camera:movestart", this.onCameraMoveStart, this),
                this.app.on("app:camera:moveend", this.onCameraMoveEnd, this)
            }
            ,
            s.onDisable = function e() {
                this.app.mouse.off(t.co, this.onMouseDown, this, 1),
                this.app.off("app:camera:movestart", this.onCameraMoveStart, this),
                this.app.off("app:camera:moveend", this.onCameraMoveEnd, this)
            }
            ,
            s.onMouseDown = function t(e) {
                this.orbitCamera.inertiaFactor = 0,
                this.isTimerStart = !0,
                this.timer > 0 && this.timer < this.doubleClickDelay && (this.timer = 0,
                this.isTimerStart = !1,
                this.onDoubleClick(e))
            }
            ,
            s.onDoubleClick = function t(e) {
                var i = this.orbitCamera
                  , s = i.pivotPoint
                  , n = i.originPivotPoint;
                s.equals(n) || (this.orbitCamera.pivotPoint = n)
            }
            ,
            s.onCameraMoveStart = function t() {
                clearTimeout(this.timeoutId),
                this.isCameraMoving = !0
            }
            ,
            s.onCameraMoveEnd = function t() {
                var e = this;
                this.timeoutId = setTimeout(function() {
                    e.isCameraMoving = !1
                }, 250)
            }
            ,
            i
        }(s.ScriptType);
        r.__name = "picker",
        r.__attributes = {
            doubleClickDelay: {
                type: "number",
                default: .2
            }
        };
        var a = (0,
        s.td)(r);
        e.default = a
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(15)
          , n = r(i(153));
        function r(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function a(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var h = function(e) {
            function i() {
                return e.apply(this, arguments) || this
            }
            a(i, e);
            var s = i.prototype;
            return s.initialize = function t() {
                this.value = 1,
                this.percent = 1,
                this.on("enable", this.onEnable, this),
                this.on("disable", this.onDisable, this),
                this.onEnable(),
                this.fromList = [],
                this.toList = [],
                this.defaultOpacityList = [],
                this.defaultBlendTypeList = [],
                this.isMerge = !1,
                this.shadowMeshInstance = this.Bc.klass.shadow.planeMeshInstance,
                this.prepare()
            }
            ,
            s.prepare = function e(i) {
                var s = this;
                0 === this.defaultOpacityList.length && (this.wheels = this.app.model.Bc === this.Bc ? this.app.model.wheels : null,
                this.Bc.model.model.getMaterials().forEach(function(e) {
                    s.defaultBlendTypeList.push(e.blendType),
                    s.defaultOpacityList.push(e.blendType === t.va ? 1 : e.opacity)
                })),
                i ? (this.fromList = this.defaultOpacityList,
                this.toList = this.defaultOpacityList.map(function(t) {
                    return 0
                })) : (this.fromList = this.defaultOpacityList.map(function(t) {
                    return 0
                }),
                this.toList = this.defaultOpacityList),
                this.isMerge = i
            }
            ,
            s.onEnable = function t() {
                this.on("attr:value", this.onValueChange, this),
                this.on("attr:percent", this.onPercentChange, this)
            }
            ,
            s.onDisable = function t() {
                this.off("attr:value", this.onValueChange, this),
                this.off("attr:percent", this.onPercentChange, this)
            }
            ,
            s.onValueChange = function e(i) {
                this.Bc.model.model.meshInstances.forEach(function(e) {
                    e.material.blendType = t.$r,
                    e.material.opacity = i,
                    e.material.dirtyShader = !0,
                    e.material.update()
                }),
                this.app.rd = !0
            }
            ,
            s.onPercentChange = function e(i) {
                var s = this, r, a, h, c = n.default.KEYS, o = this.shadowMeshInstance.material;
                this.Bc.model.model.getMaterials().forEach(function(e, n) {
                    r = s.fromList[n],
                    a = s.toList[n],
                    s.isMerge || 1 !== i ? e.blendType = t.$r : e.blendType = s.defaultBlendTypeList[n],
                    e.opacity = t.I.st(r, a, i),
                    e.dirtyShader = !0,
                    e.update()
                }),
                r = this.isMerge ? 1 : 0,
                a = this.isMerge ? 0 : 1,
                h = t.I.st(r, a, i),
                o.opacity = h,
                o.update(),
                this.isMerge || 1 !== i || (this.Bc.enabled = !1,
                this.Bc.enabled = !0),
                this.wheels && this.wheels._currentIndex > 0 && c.forEach(function(e, n) {
                    var r, a;
                    s.wheels._list[s.wheels._currentIndex][e].children[0].model.model.getMaterials().forEach(function(e, r) {
                        s.isMerge || 1 !== i ? e.blendType = t.$r : e.blendType = s.defaultBlendTypeList[n],
                        e.opacity = h,
                        e.dirtyShader = !0,
                        e.update()
                    })
                }),
                this.app.rd = !0
            }
            ,
            i
        }(s.ScriptType);
        h.__name = "opacity",
        h.__attributes = {
            value: {
                type: "number",
                default: 1,
                title: "Opacity value"
            },
            percent: {
                type: "number",
                default: 1,
                title: "Opacity percent"
            }
        };
        var c = (0,
        s.td)(h);
        e.default = c
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    (function(t) {
        e.__esModule = !0,
        e.default = void 0;
        var s = i(15);
        function n(t, e) {
            t.prototype = Object.create(e.prototype),
            t.prototype.constructor = t,
            t.__proto__ = e
        }
        var r = function(e) {
            function i() {
                return e.apply(this, arguments) || this
            }
            n(i, e);
            var s = i.prototype;
            return s.initialize = function t() {
                this._app = this.app,
                this._isAttached = !1,
                this.enterMedia = !1,
                this.on("enable", this.onEnable, this),
                this.on("disable", this.onDisable, this),
                this.onEnable()
            }
            ,
            s.onEnable = function e() {
                this.modelEntity = this._app.model.Bc,
                this._isAttached = !0,
                this.screenOrientation = screen.orientation && screen.orientation.angle || window.orientation || 0,
                this.beta = 0,
                this.gamma = 90,
                this.alpha = 0,
                this.modelBoundingSphere = new t.Vt,
                this.Bc.setPosition(0, 0, 0),
                !this.enterMedia && this.enterMediaDevices(this.videoWrap),
                this._orientation = this.orientation.bind(this),
                this._onScreenOrientationChange = this.onScreenOrientationChange.bind(this),
                this._windowResizeHandler = this.onWindowResize.bind(this),
                this._app.model.Bc.setPosition(this.getModelBestPosition()),
                window.addEventListener("resize", this._windowResizeHandler, !1),
                window.addEventListener("deviceorientation", this._orientation, !1),
                window.addEventListener("orientationchange", this._onScreenOrientationChange, !1)
            }
            ,
            s.onDisable = function t() {
                this.videoWrap && (window.removeEventListener("deviceorientation", this._orientation, !1),
                window.removeEventListener("orientationchange", this._onScreenOrientationChange, !1),
                window.removeEventListener("resize", this._windowResizeHandler, !1),
                this.videoWrap.innerHTML = "",
                document.body.removeChild(this.arrowContainer),
                this._isAttached = !1,
                this.enterMedia = !1,
                this.lock = !1,
                this.videoWrap.id = ""),
                this._app.model.Bc.setPosition(0, 0, 0)
            }
            ,
            s.getModelBestPosition = function e() {
                var i = new t.ut, s = new t.ut, n, r, a = this.app.model.aabb.getHalfExtentsMax() * this.distanceMin, h = this.isHorizontal() ? this.gamma : this.beta > 90 ? this.beta - 180 : this.beta, c = Math.tan(this.theta * t.I.q), o, u = a - c * a / (c + Math.tan(Math.abs(h) * t.I.q)), f = t.I.clamp(u, .5 * a, a);
                return i.copy(this.Bc.forward).scale(f),
                i
            }
            ,
            s.setModelCenter = function t() {
                this._app.model.Bc.setPosition(this.getModelBestPosition())
            }
            ,
            s.update = function t(e) {
                this.Bc.setRotation(this._createQuat()),
                this.showArrow(),
                this.app.camera.transientRender(),
                this.app.sdk ? this.app.sdk.send("jmyd1d1d:ar:model:inside", this.isModelVisible()) : this.app.fire("jmyd1d1d:ar:model:inside", this.isModelVisible())
            }
            ,
            s.onWindowResize = function t() {
                this._checkAspectRatio(),
                this._app.rd = !0
            }
            ,
            s._checkAspectRatio = function t() {
                var e = this._app.Br.height
                  , i = this._app.Br.width;
                this.Bc.camera.horizontalFov = e > i
            }
            ,
            s.orientation = function t(e) {
                this.beta = e.beta,
                this.gamma = e.gamma,
                this.alpha = e.alpha
            }
            ,
            s.onScreenOrientationChange = function t() {
                this.screenOrientation = window.orientation || 0
            }
            ,
            s._createQuat = function e() {
                var i = new t.bt
                  , s = new t.bt
                  , n = new t.bt(-Math.sqrt(.5),0,0,Math.sqrt(.5))
                  , r = 0
                  , a = this.alpha * t.I.q
                  , h = this.beta * t.I.q
                  , c = this.gamma * t.I.q
                  , o = this.screenOrientation * t.I.q
                  , u = h
                  , f = a
                  , d = -c
                  , l = Math.cos(u / 2)
                  , b = Math.cos(f / 2)
                  , v = Math.cos(d / 2)
                  , m = Math.sin(u / 2)
                  , g = Math.sin(f / 2)
                  , p = Math.sin(d / 2);
                return r = -o / 2,
                i.set(m * b * v + l * g * p, l * g * v - m * b * p, l * b * p - m * g * v, l * b * v + m * g * p),
                s.set(0, Math.sin(r), 0, Math.cos(r)),
                i.mul(s),
                i.mul(n),
                i
            }
            ,
            s.getArrowPosition = function e() {
                var i = this.modelEntity.getPosition(), s = this.Bc.camera.hc(i), n = window.innerWidth / 2, r = window.innerHeight / 2, a = s.x - n, h = s.y - r, c = Math.atan2(h, a), o = Math.atan2(-r, -n), u = Math.atan2(r, -n), f = Math.atan2(-r, n), d = Math.atan2(r, n), l = Math.atan2(-r, 0), b = Math.atan2(r, 0), v = Math.atan2(0, -n), m = Math.atan2(0, n), g = c * t.I.tt, p, w;
                return g = g > 0 ? g : g + 360,
                c > f && c <= d ? (p = 2 * n - 2 * this.arrowContainerWidth,
                w = c < m ? r - Math.tan(-c) * n : r + Math.tan(c) * n) : c > o && c <= f ? (w = 10,
                p = c < l ? n - Math.tan(-(c - l)) * r : n + Math.tan(-(l - c)) * r) : c > d && c <= u ? (w = 2 * r - 2 * this.arrowContainerWidth,
                p = c > b ? n - Math.tan(c - b) * r : n + Math.tan(b - c) * r) : (p = 10,
                w = c < 0 ? r - Math.tan(-(-180 * t.I.q - c)) * n : r + Math.tan(180 * t.I.q - c) * n),
                {
                    left: p,
                    top: w,
                    rotate: g
                }
            }
            ,
            s.isModelVisible = function t() {
                var e = this.app.model.aabb
                  , i = e.getHalfExtentsMax();
                return this.modelBoundingSphere.center.copy(e.center),
                this.modelBoundingSphere.radius = e.getHalfExtentsMax(),
                this.Bc.camera.frustum.Ht(this.modelBoundingSphere)
            }
            ,
            s.isHorizontal = function e() {
                var i = (this.alpha - 180) * t.I.q;
                return !(this.beta > 30) || Math.abs(Math.sin(i)) < Math.abs(Math.cos(i))
            }
            ,
            s.isUsermedia = function t() {
                return !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia || navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia)
            }
            ,
            s.enterMediaDevices = function t(e) {
                this.enterMedia = !0;
                var i = this
                  , s = {
                    audio: !1,
                    video: {
                        facingMode: {
                            exact: "environment"
                        }
                    }
                };
                if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                    var n = [];
                    navigator.mediaDevices.enumerateDevices().then(function(t) {
                        for (var e = 0; e !== t.length; ++e) {
                            var i = t[e];
                            "videoinput" === i.kind && n.push(i.deviceId)
                        }
                        s.video.deviceId = n[1] || n[0],
                        navigator.mediaDevices.getUserMedia(s).then(r).catch(a)
                    }).catch(a)
                } else if (navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia) {
                    if (navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia,
                    MediaStreamTrack.getSources) {
                        var n = [];
                        MediaStreamTrack.getSources(function(t) {
                            for (var e = 0; e != t.length; ++e) {
                                var i = t[e];
                                "video" === i.kind && n.push(i.id)
                            }
                        }),
                        s = {
                            video: {
                                optional: [{
                                    sourceId: n[1]
                                }]
                            }
                        }
                    }
                    navigator.getUserMedia(s, r, a)
                }
                function r(t) {
                    if (e) {
                        i._app.fire("media:entry:status", {
                            status: 200
                        });
                        var s = i.video = document.createElement("video");
                        s.setAttribute("id", "arVideo"),
                        s.setAttribute("webkit-playsinline", "true"),
                        s.setAttribute("playsinline", "true"),
                        s.setAttribute("x-webkit-airplay", "true"),
                        s.setAttribute("x5-video-player-type", "h5"),
                        s.setAttribute("x5-video-player-fullscreen", "true"),
                        s.setAttribute("x5-video-ignore-metadata", "true"),
                        s.setAttribute("preload", "metadata"),
                        s.setAttribute("muted", "muted"),
                        s.setAttribute("autoplay", "autoplay"),
                        e.appendChild(s),
                        e.id = "videoWrap",
                        "srcObject"in s ? s.srcObject = t : s.src = window.URL.createObjectURL(t),
                        s.onloadedmetadata = function(t) {
                            s.play()
                        }
                    } else
                        new Error("Not video wrap dom")
                }
                function a(t) {
                    i._app.fire("media:entry:status", {
                        status: 400,
                        err: t
                    })
                }
            }
            ,
            s.showArrow = function t() {
                if (this.lock || (this.lock = !0,
                this.appendDom()),
                this.arrowContainer.style.display = this.isModelVisible() ? "none" : "block",
                !this.isModelVisible()) {
                    var e = this.getArrowPosition();
                    this.arrowContainer.style.left = e.left + "px",
                    this.arrowContainer.style.top = e.top + "px",
                    this.arrowContainer.style.webkitTransform = "rotate(" + e.rotate + "deg)",
                    this.arrowContainer.style.transform = "rotate(" + e.rotate + "deg)"
                }
            }
            ,
            s.appendDom = function t() {
                this.createStyle(),
                this.arrowContainer = document.createElement("div"),
                this.arrowContainer.className = "arrow-orientation",
                document.body.appendChild(this.arrowContainer)
            }
            ,
            s.createStyle = function t() {
                var e = document.createElement("style");
                e.type = "text/css",
                e.innerHTML = ".arrow-orientation,.arrow-orientation:before {  position: fixed;  left: 50%;  z-index: 999;}.arrow-orientation {  width: " + this.arrowContainerWidth + "px;  height: " + this.arrowContainerWidth + "px;  top: 50%;  margin: " + this.arrowContainerWidth / 2 + "px 0 0 " + this.arrowContainerWidth / 2 + 'px;  -webkit-transform: rotate(45deg);  border-left: none;  border-top: none;  border-right: 2px #fff solid;  border-bottom: 2px #fff solid;}.arrow-orientation:before {  content: "";  width: ' + this.arrowContainerWidth / 2 + "px;  height: " + this.arrowContainerWidth / 2 + "px;  top: 50%;  margin: -10px 0 0 -10px;  border-left: none;  border-top: none;  border-right: 1px #fff solid;  border-bottom: 1px #fff solid;  -webkit-animation-duration: .8s;  -webkit-animation-iteration-count: infinite;  -webkit-animation-name: arrow-orientation;}@-webkit-keyframes arrow-orientation {  0% {    opacity: 1;  }  100% {    opacity: 0;    -webkit-transform: -webkit-translate(-10px, -10px);  }};" + document.getElementsByTagName("HEAD").item(0).appendChild(e)
            }
            ,
            i
        }(s.ScriptType);
        r.renderThreshold = 1e-4,
        r.__name = "arCamera",
        r.__attributes = {
            videoWrap: {
                type: "HTML",
                default: null
            },
            distanceMin: {
                type: "number",
                default: 8
            },
            theta: {
                type: "number",
                default: 35
            },
            arrowContainerWidth: {
                type: "number",
                default: 30
            }
        };
        var a = (0,
        s.td)(r);
        e.default = a
    }
    ).call(this, i(6))
}
, function(t, e, i) {
    "use strict";
    e.__esModule = !0,
    e.default = void 0;
    var s = a(i(141))
      , n = a(i(152))
      , r = a(i(374));
    function a(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function h(t, e) {
        t.prototype = Object.create(e.prototype),
        t.prototype.constructor = t,
        t.__proto__ = e
    }
    i(375),
    i(546);
    var c = function(t) {
        function e() {
            return t.apply(this, arguments) || this
        }
        h(e, t);
        var i = e.prototype;
        return i.componentDidMount = function t() {
            var e = this;
            this.cover = new r.default({
                size: 200,
                images: this.props.images,
                dom: document.getElementById("viewerCover")
            }),
            this.cover.preloadImages(function(t) {
                e.props.app.sdk.send("jmyd1d1d:covers:preload:progress", t),
                1 === t && e.cover.createList().attach().loadHighImage({
                    size: 640,
                    onProgress: function t(i) {
                        e.props.app.sdk.send("jmyd1d1d:covers:load:high:progress", i)
                    }
                })
            })
        }
        ,
        i.render = function t() {
            return s.default.createElement("div", {
                id: "viewerCover",
                className: "viewer-images-root"
            })
        }
        ,
        e
    }(s.default.Component);
    e.default = c,
    c.propTypes = {
        images: n.default.array,
        app: n.default.object
    },
    c.defaultProps = {
        images: [],
        app: {}
    }
}
, function(t, e, i) {}
, , function(t, e, i) {}
]);

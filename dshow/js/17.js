(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{106:function(t,e,n){"use strict";var i;n.d(e,"a",function(){return i}),i={merge:function(t){for(var e={},n=0;n<t.length;n++){var i=this.clone(t[n]);for(var r in i)e[r]=i[r]}return e},clone:function(t){var e={};for(var n in t)for(var i in e[n]={},t[n]){var r=t[n][i];r&&r.isColor||r&&r.isVector2||r&&r.isVector3||r&&r.isVector4||r&&r.isMatrix3||r&&r.isMatrix4||r&&r.isTexture?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}return e}}},107:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(60),r=n(106);function o(t){i.a.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}o.prototype=Object.create(i.a.prototype),o.prototype.constructor=o,o.prototype.isShaderMaterial=!0,o.prototype.copy=function(t){return i.a.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=r.a.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},o.prototype.toJSON=function(t){var e=i.a.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e}},108:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i,r=n(19),o=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n){var i=t.call(this)||this;return i.from=e,i.to=n,i}return o(e,t),e}(r.a)},109:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i,r=n(19),o=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n){var i=t.call(this)||this;return i.floorIndex=e,i.floorName=n,i}return o(e,t),e}(r.a)},147:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(107);function r(t){i.a.call(this,t),this.type="RawShaderMaterial"}r.prototype=Object.create(i.a.prototype),r.prototype.constructor=r,r.prototype.isRawShaderMaterial=!0},149:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i,r=n(11),o=n(53),a=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},c=function(t){function e(e,n){var i=t.call(this)||this;return i.currentFloor=-1,i.totalFloors=1,i.currentFloor=-1,i.floorNames=n,i.transition={from:-1,to:-1,progress:new o.a(0)},e&&(i.totalFloors=e.count(),i.floors=e),i}return a(e,t),e.prototype.getFloor=function(t){try{for(var e=s(this.floors),n=e.next();!n.done;n=e.next()){var i=n.value;if(i.floorIndex===t)return i}}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=e.return)&&o.call(e)}finally{if(r)throw r.error}}return null;var r,o},e.prototype.clone=function(){var t=new e(this.floors,this.floorNames);return t.currentFloor=this.currentFloor,t.copyTransition(this.transition),t},e.prototype.update=function(t){this.currentFloor=t.currentFloor,this.totalFloors=t.totalFloors,this.floorNames=t.floorNames.map(function(t){return t}),this.transition=this.copyTransition(t.transition),this.floors=t.floors},e.prototype.copyTransition=function(t){return{from:t.from,to:t.to,progress:t.progress.clone()}},e}(r.a)},152:function(t,e){t.exports="precision highp float;\nprecision highp int;\n\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\n"},153:function(t,e){t.exports="precision highp float;\nprecision highp int;\n\nuniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\n"},187:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(52),r=n(25),o=n(5),a=n(17);function s(t,e,n,i,u,l,p,h,f,g){Object.defineProperty(this,"id",{value:c++}),this.uuid=o.a.generateUUID(),this.name="",this.sourceFile="",this.image=void 0!==t?t:s.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:s.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:r.j,this.wrapT=void 0!==i?i:r.j,this.magFilter=void 0!==u?u:r.M,this.minFilter=void 0!==l?l:r.N,this.anisotropy=void 0!==f?f:1,this.format=void 0!==p?p:r.Qa,this.type=void 0!==h?h:r.vb,this.offset=new a.a(0,0),this.repeat=new a.a(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==g?g:r.L,this.version=0,this.onUpdate=null}s.DEFAULT_IMAGE=void 0,s.DEFAULT_MAPPING=r.tb,s.prototype={constructor:s,isTexture:!0,set needsUpdate(t){!0===t&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var e={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=o.a.generateUUID()),void 0===t.images[n.uuid]&&(t.images[n.uuid]={uuid:n.uuid,url:function(t){var e;return void 0!==t.toDataURL?e=t:((e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}(n)}),e.image=n.uuid}return t.textures[this.uuid]=e,e},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===r.tb){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case r.gb:t.x=t.x-Math.floor(t.x);break;case r.j:t.x=t.x<0?0:1;break;case r.U:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case r.gb:t.y=t.y-Math.floor(t.y);break;case r.j:t.y=t.y<0?0:1;break;case r.U:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(s.prototype,i.a.prototype);var c=0},188:function(t,e,n){"use strict";var i,r=n(19),o=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n){var i=t.call(this)||this;return i.fromMode=n,i.toMode=e,i.timestamp=Date.now(),i}return o(e,t),e}(r.a);e.a=a},190:function(t,e,n){"use strict";var i,r=n(19),o=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n){var i=t.call(this)||this;return i.fromSweep=n,i.toSweep=e,i.timestamp=Date.now(),i}return o(e,t),e}(r.a);e.a=a},192:function(t,e,n){"use strict";var i,r=n(188),o=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r.a);e.a=a},193:function(t,e,n){"use strict";var i,r=n(190),o=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r.a);e.a=a},195:function(t,e,n){"use strict";var i,r=n(188),o=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r.a);e.a=a},196:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i,r=n(11),o=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=window.innerWidth,e.height=window.innerHeight,e.aspectRatio=e.width/e.height,e.x=0,e.y=0,e}return o(e,t),e.prototype.update=function(t){this.width=t.width,this.height=t.height,this.aspectRatio=t.width/t.height,this.x=t.x,this.y=t.y},e}(r.a)},202:function(t,e,n){"use strict";var i=n(187);e.a={loadBase64:function(t,e){var n=new i.a;n.image=document.createElement("img");var r=e?"data:image/"+e+";base64,"+t:t;return n.image.setAttribute("src",r),n.needsUpdate=!0,n}}},204:function(t,e,n){"use strict";var i,r=n(190),o=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n,i,r){var o=t.call(this,e,r)||this;return o.alignmentType=n,o.placementType=i,o}return o(e,t),e}(r.a);e.a=a},213:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i,r=n(11),o=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tags={},e.visitedTags=[],e.viewedTags=0,e}return o(e,t),e.prototype.update=function(t){this.tags=t.tags},e.prototype.addTag=function(t){this.tags[t.sid]=t},e.prototype.visitTag=function(t){this.viewedTags++,-1===this.visitedTags.indexOf(t)&&this.visitedTags.push(t)},e.prototype.getViewedTagCount=function(){return this.viewedTags},e.prototype.getVisitedTags=function(){return this.visitedTags},e.prototype.getTag=function(t){return this.tags[t]},e.prototype.getTagCount=function(){return Object.keys(this.tags).length},e.prototype.iterate=function(t){for(var e in this.tags)t(this.tags[e])},e}(r.a)},225:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return c});var i,r=n(19),o=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n){var i=t.call(this)||this;return i.sid=e,i.hovering=n,i}return o(e,t),e}(r.a),s=function(t){function e(e){var n=t.call(this)||this;return n.sid=e,n}return o(e,t),e}(r.a),c=function(t){function e(e){var n=t.call(this)||this;return n.sid=e,n}return o(e,t),e}(r.a)},229:function(t,e,n){"use strict";n.d(e,"f",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"g",function(){return l}),n.d(e,"b",function(){return p});var i=n(14),r=.25,o=function(t){return function(e){return e!==t}},a=function(t){return function(e){return-1!==t.neighbours.indexOf(e.id)}},s=function(t){return function(e){return t===e||a(t)(e)}},c=function(t,e,n){return void 0===n&&(n=r),function(i){return i.position.clone().sub(t).normalize().dot(e)>n}},u=function(){return function(t){return t.enabled}},l=function(t){return t.placementType===i.b.MANUAL},p=function(){return function(t){return t.alignmentType===i.a.ALIGNED}}},231:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"e",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return c});var i=n(5),r=1e3/60,o=i.a.degToRad(70),a=-o,s=.05,c=.1/60},239:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(60),r=n(23);function o(t){i.a.call(this),this.type="LineBasicMaterial",this.color=new r.a(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}o.prototype=Object.create(i.a.prototype),o.prototype.constructor=o,o.prototype.isLineBasicMaterial=!0,o.prototype.copy=function(t){return i.a.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this}},240:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s});var i=-1,r=10,o=function(t,e){return void 0===e&&(e=i),function(n){return t.distanceToSquared(n.position)*e}},a=function(t,e){return void 0===e&&(e=i),function(n){return t.distanceTo(n.position)*e}},s=function(t,e,n){return void 0===n&&(n=r),function(i){return i.position.clone().sub(t).normalize().dot(e)*n}}},268:function(t,e,n){"use strict";var i,r,o,a=n(31),s=n(89),c=n(7),u=n(66),l=n(1),p=n(239),h=n(87);function f(t,e){g.call(this,t,e),this.type="LineSegments"}function g(t,e,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new f(t,e);u.a.call(this),this.type="Line",this.geometry=void 0!==t?t:new h.a,this.material=void 0!==e?e:new p.a({color:16777215*Math.random()})}f.prototype=Object.assign(Object.create(g.prototype),{constructor:f,isLineSegments:!0}),n.d(e,"a",function(){return g}),g.prototype=Object.assign(Object.create(u.a.prototype),{constructor:g,isLine:!0,raycast:(i=new c.a,r=new s.a,o=new a.a,function(t,e){var n=t.linePrecision,a=n*n,s=this.geometry,c=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),o.copy(s.boundingSphere),o.applyMatrix4(c),!1!==t.ray.intersectsSphere(o)){i.getInverse(c),r.copy(t.ray).applyMatrix4(i);var u=new l.a,p=new l.a,h=new l.a,f=new l.a,g=this&&this.isLineSegments?2:1;if(s&&s.isBufferGeometry){var d=s.index,y=s.attributes.position.array;if(null!==d)for(var I=d.array,m=0,v=I.length-1;m<v;m+=g){var A=I[m],w=I[m+1];u.fromArray(y,3*A),p.fromArray(y,3*w),r.distanceSqToSegment(u,p,f,h)>a||(f.applyMatrix4(this.matrixWorld),(x=t.ray.origin.distanceTo(f))<t.near||x>t.far||e.push({distance:x,point:h.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}else for(m=0,v=y.length/3-1;m<v;m+=g)u.fromArray(y,3*m),p.fromArray(y,3*m+3),r.distanceSqToSegment(u,p,f,h)>a||(f.applyMatrix4(this.matrixWorld),(x=t.ray.origin.distanceTo(f))<t.near||x>t.far||e.push({distance:x,point:h.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}else if(s&&s.isGeometry){var b=s.vertices,C=b.length;for(m=0;m<C-1;m+=g){var x;r.distanceSqToSegment(b[m],b[m+1],f,h)>a||(f.applyMatrix4(this.matrixWorld),(x=t.ray.origin.distanceTo(f))<t.near||x>t.far||e.push({distance:x,point:h.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}}}}),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}})},484:function(t,e){t.exports="data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjMzcHgiIGhlaWdodD0iMzNweCIgdmlld0JveD0iMCAwIDMzIDMzIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0OS4xICg1MTE0NykgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxjaXJjbGUgaWQ9InBhdGgtMSIgY3g9IjExLjUiIGN5PSIxMS41IiByPSI2LjUiPjwvY2lyY2xlPgogICAgICAgIDxmaWx0ZXIgeD0iLTExNy4zJSIgeT0iLTExNy4zJSIgd2lkdGg9IjMzNC42JSIgaGVpZ2h0PSIzMzQuNiUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjAuMjUiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIwIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjEiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjUiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDEgICAwIDAgMCAwIDEgICAwIDAgMCAwIDEgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxjaXJjbGUgaWQ9InBhdGgtMyIgY3g9IjExLjUiIGN5PSIxMS41IiByPSIyLjUiPjwvY2lyY2xlPgogICAgICAgIDxmaWx0ZXIgeD0iLTE3MC4wJSIgeT0iLTE3MC4wJSIgd2lkdGg9IjQ0MC4wJSIgaGVpZ2h0PSI0NDAuMCUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci00Ij4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjEuNSIgb3BlcmF0b3I9ImRpbGF0ZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd1NwcmVhZE91dGVyMSI+PC9mZU1vcnBob2xvZ3k+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjAiIGluPSJzaGFkb3dTcHJlYWRPdXRlcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93Qmx1ck91dGVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlQ29tcG9zaXRlPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMSAgIDAgMCAwIDAgMSAgIDAgMCAwIDAgMSAgMCAwIDAgMSAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAtMzciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuMDAwMDAwLCA1LjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iR3JvdXAtMiI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAtNS1Db3B5LTQiPgogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC0xNiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwtNiIgZmlsbC1vcGFjaXR5PSIwLjA5Njk0ODU5NiIgZmlsbD0iIzAwMDAwMCIgY3g9IjExLjUiIGN5PSIxMS41IiByPSI5LjUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMC4wODUxNzkwMzIzLDExLjU5OTc0OTUgTDIzLjAzNzcxOTUsMTEuNTk5NzQ5NSIgaWQ9IlBhdGgtMjQzIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMC41IiBvcGFjaXR5PSIwLjQwMzQxOTM4NCIgc3Ryb2tlLWRhc2hhcnJheT0iMSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEuNTAzODY0MiwwLjA2NjcyMjgwMjUgTDExLjUwMzg2NDIsMjMuMTEwNDA2MSIgaWQ9IlBhdGgtMjQ0IiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMC41IiBvcGFjaXR5PSIwLjQwMzQxOTM4NCIgc3Ryb2tlLWRhc2hhcnJheT0iMSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iT3ZhbC0xMCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMC41IiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iT3ZhbC0xMSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItNCkiIHhsaW5rOmhyZWY9IiNwYXRoLTMiPjwvdXNlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHhsaW5rOmhyZWY9IiNwYXRoLTMiPjwvdXNlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMSIgY3g9IjExLjUiIGN5PSIxMS41IiByPSIzIj48L2NpcmNsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},485:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QYPFigDGhCnowAABQFJREFUeNrtXTtyFEEMHXX5FK7iAiYFQ+KAiMyZCQnxRXwVFwkngSKD2BQXEYlNLXaZnZ7RX0/xbrek96RW9/RnWSCthSoaxcys4iwiAgGagN2FFATQe5OBAHpvMhBA700GAvC9iUBVgZd2dmTd9siIAvxOB9/RI9GI3kftf3a0t0YG2OOEaOk0qy2UyWFZKutMthGc09tWiuyQKkuvke2miE6ouOYe1QcE4HsTgSIY2gX4iP4ZHcFn5kt+KpfmFfhK2zXXDMgR/FdE9D3ivNyaqMz8YlmW3x46kIfjNQyxXlnzskG6X8psQJjlVGObJPtLqXj1DSGWvhyZFI70EUVTv3tf3VkEAWmDLwV8xmmehe17+6DIymFHkL6fKaJS2BFk5+8RzUlVwY9qG0ViY2XwLfyzpV2KoEQX4C18NdsmAfzeJBiRDekg3ruGhpCi7wC+eXH4XqI9kc+Rs4wE+DZ+XNPeiKY0MoHtUHCyU6nTLOBnISoz84yuRETP6bqmLdrjiMhOjXw0zJKsx9oaxcC/1j4atizLdaah4GidYEEAbfC9NpVGsmsrVgTwe5PgZEkqUbaSP+iRds9CxuiPeo4ggr2z2A1Efg/dNs0CokV/Bgd7b3mf7X9EWQCpFF2ZhqiZDHDqFf0p79/zXYhajRWt7cgr/Wc/OOrli7U4DmllAb6eDRr4jKhAVDoyHtl/otNAfOrNt9YwIoJX8lr2QDYdYh1xIehN4QB+G46YUtW/2GHF4tfFWPvpGK7RMsCvBsP4F2SAptHv4atVGQDVe9/ZxLEh4AOiP+aMYMLnH48OAUj/fYeBsUBaCwgAAtQYEzvWAcgAEBAA4kwArCHknkkgAyADQEAACAgAAQEgIMC8dH3vJ4JI+B4ZABkAAgI4S8fFpCg2IwMgA0BAgOfT1BVclH6o+S+GR++3wbawmOO/BC5/t4RhLt93DWFUiwxU/ygCIZIEsH4FnJk/FY5+Edsk6zJa82McEI2V/qUKwH8yQNTz6wBfrwAUrwEwm7AFz6wI9GBvpSwQ2X9Dml3RbsWqBL4GPjOvhp2hHsihOzO/1FgH+Dnx2/PuJFDQecanP1ZnhBnlcVl0Dttn8Btahnnfmg3w5YcAzKcLDlVp3wyKNhxkfC1kWRK/GfRgbPVHo7RlbGGedy3wWBdmvnEA/qb0s3GSw4BlpFgQLqIdKgTISgINIrR8OnZFxxeRa4RDsf6/oZ27MCBthlUrmipFv8g6gMeb9wBfLphEnoxh5luQwBz8W4n2TNMNhgMb3820J7YUvAVMZAL/wBHvHJnAF/zZNkkj2rdGdhciaPlnS7ubUzBIkB980RpAaoGicl2wA3y1U9q0E2TWBLNKNtD2w572h6Zh96uoF3vaz5wR9urPzBfaQSZ1no8NouD1sixfk2B/TkTfovtUjACWCkceGiztk+rL/JNpxYMj1jZJ9ueyc7fCjmEvG1zOBko75r44vJXu91C0CjqN9pn51itw1Cps64slJHSLpIuVbmoLQTOXGFjvLKJnxBj4iwhBQlEY7hWBHhLJJ9TRaADvQIAtlXoVIkS2m6I7IzMRMthqfjh0S8F1sDv7LAHoZ1u2knt990h7rq7S4VBPWyi787ycWOVy7DCvh0t8M38kV4JgX0meFIr0mTtkcVV1W1jEYjZ0dY0dQc0JkJkMWaaubebXAL0QASKRIftqJa5lbwQ2BPJE/gA4gL5xbiNHuQAAAABJRU5ErkJggg=="},486:function(t,e){t.exports="uniform float opacity;\nuniform vec3 color;\nuniform sampler2D bg;\nuniform sampler2D mask;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vec4 maskColor = texture2D(mask, vUv);\n  vec4 bgColor = texture2D(bg, vUv);\n  vec3 mappedColor = mix(bgColor.rgb, color, maskColor.a);\n  gl_FragColor = vec4(mappedColor, bgColor.a * opacity);\n}\n"},487:function(t,e){t.exports="varying vec2 vUv;\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"},51:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),r=function(){function t(){}return t.UP=new i.a(0,1,0),t.DOWN=new i.a(0,-1,0),t.LEFT=new i.a(-1,0,0),t.RIGHT=new i.a(1,0,0),t.FORWARD=new i.a(0,0,-1),t.BACK=new i.a(0,0,1),t.ZERO=new i.a(0,0,0),t}()},676:function(t,e,n){"use strict";n.r(e);var i,r=n(0),o=n(213),a=n(65),s=n(229),c=n(240),u=n,l={visibility:{anyDistance:!0,visibleDistance:8,cameraClearance:.1},navigate:{tiltTolerance:25}},p=n(231),h=n(1),f=n(5),g=n(66),d=n(51),y=n(6),I=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((i=i.apply(t,e||[])).next())})},v=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},A=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},w=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="navigation",e.navigateToTag=function(t){return m(e,void 0,void 0,function(){var e,n,i,o,a,u,l,p,f,g,I,m,w,b,C,x,S,M;return v(this,function(v){switch(v.label){case 0:if(!this.sweepModule.canMoveToSweep())return[2];e=[],n=[],i=this.tagData.getTag(t),o=i.anchorPosition.clone().add(i.stemVector),e.push(s.b()),this.viewmodeModule.currentMode===y.a.Panorama&&(.5,a=this.sweepData.currentSweep,u=this.sweepData.getSweep(a),l=u.position.clone().sub(o).normalize(),e.push(s.a(o,l,.5)),e.push(s.d(u)),n.push(c.a(o,l))),e.push(this.withinLatitudeFilter(o)),e.push(this.notTooCloseFilter(o)),e.push(this.notTooFarFilter(o)),-2,n.push(c.c(o,-2)),p=this.sweepData.sortByScore(e,n),this.raycaster.getRaycaster().enableForGroup(this.mattertagRaycastGroup,!1),f=new h.a,g=null;try{for(I=A(p),m=I.next();!m.done;m=I.next()){w=m.value;b=w.sweep;f.copy(o).sub(b.position).normalize();C=b.position.distanceTo(o);console.log(b);if(0===(x=this.raycaster.cast(b.position,f)).length||x[0].distance>C){this.dummyCamera.up.copy(d.a.UP),this.dummyCamera.position.copy(o),this.dummyCamera.lookAt(b.position),g=this.viewmodeModule.currentMode!==y.a.Panorama?this.viewmodeModule.switchToMode(y.a.Panorama,r.Ja.Interpolate,{rotation:this.dummyCamera.getWorldQuaternion(),sweepID:b.id}):this.sweepModule.moveToSweep({transitionType:r.Ja.Interpolate,sweepId:b.id,rotation:this.dummyCamera.getWorldQuaternion()}).nativePromise();break}}}catch(t){S={error:t}}finally{try{m&&!m.done&&(M=I.return)&&M.call(I)}finally{if(S)throw S.error}}return g?[4,g]:[3,2];case 1:v.sent(),this.tagModule.onTagVisited(t),v.label=2;case 2:return this.raycaster.getRaycaster().enableForGroup(this.mattertagRaycastGroup,!0),[2]}})})},e.notTooCloseFilter=function(t){return function(e){return Math.abs(e.position.x-t.x)>l.visibility.cameraClearance||Math.abs(e.position.z-t.z)>l.visibility.cameraClearance}},e.notTooFarFilter=function(t){return function(e){return!!l.visibility.anyDistance||e.position.distanceTo(t)>l.visibility.visibleDistance}},e.withinLatitudeFilter=function(t){return function(e){var n=(new h.a).copy(t).sub(e.position),i=-Math.atan(n.y/Math.sqrt(n.x*n.x+n.z*n.z)),r=f.a.degToRad(l.navigate.tiltTolerance);return p.d-r<i&&i<p.e+r}},e}return I(e,t),e.prototype.init=function(t,e){return m(this,void 0,void 0,function(){var t,n,i,s,c,u,l,p;return v(this,function(h){switch(h.label){case 0:return this.dummyCamera=new g.a,this.market=e.market,this.engine=e,[4,Promise.all([e.getModule(r.D),e.getModule(r.Z),e.getModule(r.Na),e.getModule(r.R),e.getModule(r.E),e.market.waitForData(a.a),e.market.waitForData(o.a)])];case 1:return t=w.apply(void 0,[h.sent(),7]),n=t[0],i=t[1],s=t[2],c=t[3],u=t[4],l=t[5],p=t[6],this.tagModule=n,this.tagData=p,this.sweepModule=i,this.viewmodeModule=s,this.raycaster=c,this.mattertagRaycastGroup=u.raycastGroup,this.sweepData=l,[2]}})})},e}(r.Ha);e.default=b},699:function(t,e,n){"use strict";n.r(e);var i,r=n(225),o=Object.freeze({mattertags:{enabled:!0,enableLinking:!0,startup:{hideUntilStart:!0,fadeInDuration:500,fadeInDelay:100},visibility:{anyDistance:!0,visibleDistance:8,cameraClearance:.1,alphaTestLevel:.05,hideViaFloor:!0,hideOffScreenDisc:!1,hideOffScreenObject:!1},disc:{opacity:.9,disabledOpacity:.5,scale:{nearBound:1.5,farBound:4.8,linkFarBound:!1,linkPercent:40,maxSize:80,minSize:40,baseViewportSize:800,responsiveness:100}},pole:{enabled:!0,height:.5,width:2,opacity:.5,color:"white"},animation:{hoverOnClosing:!1,animInDelay:100,animOutDelay:50,animInTime:200,animOutTime:100},boardScale:{billboardScale:1,scaleToDisc:!0,boardToDiscRatio:1.2},navigate:{nearestPano:!0,lineOfSight:!0,reactivate:!0,aimAt:"disc",tiltTolerance:25,rotateSpeedFactor:.6}}}),a=n(145),s=n(1),c=n(5),u=n(23),l=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;r.mat=n,r.discScale=1,r.defaultColor=(new u.a).set(n.uniforms.color.value);var o=r.defaultColor.getHSL();return r.hoverColor=(new u.a).setHSL(o.h,o.s,.8*o.l),r.layers.mask=i.mask,r}return l(e,t),e.prototype.dispose=function(){this.material.dispose(),this.geometry.dispose()},e.prototype.update=function(t,e,n,i){var r=t.isActive?this.hoverColor:this.defaultColor;this.mat.uniforms.color.value.copy(r);var a=o.mattertags.disc.scale,u=this.getWorldPosition(),l=e.position.distanceTo(u);this.quaternion.copy(e.camera.quaternion);var p=a.maxSize-(a.maxSize-a.minSize)*c.a.smoothstep(l,a.nearBound,a.farBound),h=u.clone().project(e.camera),f=new s.a(i.width/2,i.height/2,1).multiply(h),g=new s.a(p/2,0,0).add(f),d=new s.a(2/i.width,2/i.height,1).multiply(g).clone().unproject(e.camera).clone().distanceTo(u),y=1+o.mattertags.disc.scale.responsiveness/100*(n-1);this.discScale=d*y,this.scale.set(this.discScale,this.discScale,this.discScale)},e}(a.a),h=n(106),f=n(147),g=n(153),d=n(152),y={tags:{uniforms:{opacity:{type:"f",value:1},color:{type:"c",value:new u.a},bg:{type:"t",value:null},mask:{type:"t",value:null}},vertexShader:d+n(487),fragmentShader:g+n(486)}},I=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),m=function(t){function e(e,n,i){var r=h.a.clone(y.tags.uniforms);return r.bg.value=n,r.mask.value=i,r.color.value.copy(e),t.call(this,{fragmentShader:y.tags.fragmentShader,vertexShader:y.tags.vertexShader,uniforms:r,name:"DiscMaterial",transparent:!0,depthWrite:!1})||this}return I(e,t),e}(f.a),v=n(87),A=n(26),w=n(239),b=n(268),C=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),x=new w.a({linewidth:o.mattertags.pole.width,color:o.mattertags.pole.color,opacity:o.mattertags.pole.opacity,transparent:!0,alphaTest:o.mattertags.pole.opacity*o.mattertags.visibility.alphaTestLevel}),S=function(t){function e(e,n){var i=this,r=new v.a,o=new Float32Array(6);return o[0]=o[1]=o[2]=0,o[3]=e.x,o[4]=e.y,o[5]=e.z,r.addAttribute("position",new A.a(o,3)),(i=t.call(this,r,x)||this).geometry=r,i.layers.mask=n.mask,i}return C(e,t),e.prototype.dispose=function(){this.geometry.dispose()},e}(b.a),M=n(66),T=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),P=function(t){function e(e,n,i,r,o){var a=t.call(this)||this;a.position.copy(e.anchorPosition);var s=new m(e.color,n,i);return a.disc=new p(r,s,o),a.disc.position.copy(e.stemVector),a.pole=new S(e.stemVector,o),a.add(a.disc),a}return T(e,t),e.prototype.dispose=function(){this.remove(this.disc),this.remove(this.pole),this.disc.dispose(),this.pole.dispose()},e.prototype.update=function(t,e,n,i){this.disc.update(t,e,n,i)},e}(M.a),j=n(202),G=n(148),Z=n(73),_=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},k=function(){function t(t,e,i,r,o,a,s,c){void 0===o&&(o=Z.a.ALL),this.scene=t,this.raycaster=e,this.camera=i,this.engine=r,this.layer=o,this.raycasterGroup=a,this.mattertagData=s,this.canvas=c,this.tagToMesh={},this.textures={mask:j.a.loadBase64(n(485)),background:j.a.loadBase64(n(484))},this.geometry=new G.a(1.5,1.5)}return t.prototype.init=function(t){var e=this;this.mattertagData.iterate(function(t){var n=new P(t,e.textures.background,e.textures.mask,e.geometry,e.layer);e.tagToMesh[t.sid]=n})},t.prototype.dispose=function(){for(var t in this.deactivate(),this.tagToMesh)this.tagToMesh[t].dispose();this.textures.background.dispose(),this.textures.mask.dispose(),this.geometry.dispose()},t.prototype.activate=function(){for(var t in this.tagToMesh){var e=this.tagToMesh[t];this.scene.add(e),this.addToRaycaster(t),e.visible=!0}},t.prototype.deactivate=function(){for(var t in this.tagToMesh){var e=this.tagToMesh[t];this.scene.remove(e),this.removeFromRaycaster(t),e.visible=!1}},t.prototype.addToRaycaster=function(t){var e=this,n=this.tagToMesh[t],i=this.raycaster.createCallbackSet();i.select=function(){e.engine.broadcast(new r.b(t,!0))},i.deselect=function(){e.engine.broadcast(new r.b(t,!1))},i.click=function(){e.engine.broadcast(new r.a(t))},this.raycaster.addTarget(n.disc,!1,i,this.raycasterGroup)},t.prototype.removeFromRaycaster=function(t){var e=this.tagToMesh[t];this.raycaster.removeTarget(e.disc)},t.prototype.changeVisibility=function(t){try{for(var e=_(Object.keys(this.tagToMesh)),n=e.next();!n.done;n=e.next()){var i=n.value,r=this.tagToMesh[i];r.visible=t(i,this.tagToMesh[i].visible),r.disc.visible=r.visible}}catch(t){o={error:t}}finally{try{n&&!n.done&&(a=e.return)&&a.call(e)}finally{if(o)throw o.error}}var o,a},t.prototype.render=function(){var t=this,e=this.getViewportScale(this.canvas);this.mattertagData.iterate(function(n){t.tagToMesh[n.sid].update(n,t.camera,e,t.canvas)})},t.prototype.getViewportScale=function(t){return Math.sqrt(Math.min(t.width,t.height)/o.mattertags.disc.scale.baseViewportSize)},t}(),D=n(0),O=n(70),R=n(213),N=n(196),F=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),B=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((i=i.apply(t,e||[])).next())})},V=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},W=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="mattertag-mesh",e.tagsEnabled=!1,e}return F(e,t),e.prototype.init=function(t,n){return B(this,void 0,void 0,function(){var t,i,r,o,a,s=this;return V(this,function(c){switch(c.label){case 0:return[4,n.getModule(D.Oa)];case 1:return t=c.sent().getScene(),[4,n.getModule(D.R)];case 2:return i=c.sent().getRaycaster(),[4,n.market.waitForData(R.a)];case 3:return r=c.sent(),[4,n.market.waitForData(N.a)];case 4:return o=c.sent(),a=n.claimRenderLayer(this.name),this.renderer=new k(t.scene,i,t.cameraRig,n,a,e._raycastGroup,r,o),n.addComponent(this,this.renderer),this.checkEnablement=this.checkEnablement.bind(this),n.market.waitForData(O.a).then(function(t){s.checkEnablement(t),t.onPropertyChanged("mt",function(e,n){s.checkEnablement(t)}),t.onPropertyChanged("mattertags",function(e,n){s.checkEnablement(t)})}),[2]}})})},e.prototype.checkEnablement=function(t){var e=this,n=0!==t.tryGetProperty("mt",1),i=t.tryGetProperty("mattertags",!0);this.tagsEnabled=n&&i,this.renderer.changeVisibility(function(){return e.tagsEnabled})},e.prototype.changeVisibility=function(t){this.renderer&&this.tagsEnabled&&this.renderer.changeVisibility(t)},e.prototype.showAll=function(){this.renderer&&this.tagsEnabled&&this.renderer.changeVisibility(function(){return!0})},Object.defineProperty(e.prototype,"raycastGroup",{get:function(){return e._raycastGroup},enumerable:!0,configurable:!0}),e._raycastGroup="mattertag-mesh",e}(D.E);e.default=W},720:function(t,e,n){"use strict";n.r(e);var i,r=n(0),o=n(193),a=n(65),s=n(14),c=n(213),u=n(108),l=n(109),p=n(149),h=n(69),f=n(192),g=n(195),d=n(6),y=n(204),I=n(84),m=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((i=i.apply(t,e||[])).next())})},A=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},w=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="mattertag-controller",e}return m(e,t),e.prototype.init=function(t,e){return v(this,void 0,void 0,function(){var t,n,i,m,v,b;return A(this,function(A){switch(A.label){case 0:return[4,Promise.all([e.getModule(r.E)])];case 1:return t=w.apply(void 0,[A.sent(),1]),n=t[0],[4,e.market.waitForData(a.a)];case 2:return i=A.sent(),m=function(t){var e=i.getSweep(t).alignmentType===s.a.ALIGNED;n.changeVisibility(function(){return e})},e.subscribe(o.a,function(t){return m(t.toSweep)}),(v=i.currentSweep)?m(v):e.subscribe(y.a,function(t){return m(t.toSweep)},I.b.ONCE),e.subscribe(l.a,function(t){var i=e.market.tryGetData(c.a),r=e.market.tryGetData(h.a);i&&r&&(r.currentMode!==d.a.Dollhouse&&r.currentMode!==d.a.Floorplan||n.changeVisibility(function(e){return-1===t.floorIndex||t.floorIndex===i.getTag(e).floorIndex}))}),e.subscribe(u.a,function(t){var i=e.market.tryGetData(c.a),r=e.market.tryGetData(h.a);i&&r&&(r.currentMode!==d.a.Dollhouse&&r.currentMode!==d.a.Floorplan||n.changeVisibility(function(e,n){return n&&(-1===t.to||t.to===i.getTag(e).floorIndex)}))}),b=function(t){if(t.toMode===d.a.Dollhouse||t.toMode===d.a.Floorplan){var i=e.market.tryGetData(p.a),r=e.market.tryGetData(c.a);if(i&&r){if(-1===i.currentFloor)return n.showAll();n.changeVisibility(function(t,e){return i.currentFloor===r.getTag(t).floorIndex})}}},e.subscribe(f.a,b),e.subscribe(g.a,b),[2]}})})},e}(r.C);e.default=b},721:function(t,e,n){"use strict";n.r(e);var i,r=n(0),o=n(213),a=n(225),s=n(70),c=n(36),u=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((i=i.apply(t,e||[])).next())})},p=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="mattertag-data",e.activeTags=[],e}return u(e,t),e.prototype.init=function(t,e){return l(this,void 0,void 0,function(){var n,i,r=this;return p(this,function(o){switch(o.label){case 0:return this.engine=e,n=this,[4,t.tagSync.load()];case 1:return n.tags=o.sent(),this.initializeTags(this.tags,e.market),[4,e.market.waitForData(s.a)];case 2:return(i=o.sent()).onPropertyChanged("mt",function(t,e){0!==e&&r.clearActiveTags()}),i.onPropertyChanged("mattertags",function(t,e){!1===e&&r.clearActiveTags()}),[2]}})})},e.prototype.clearActiveTags=function(){this.activeTags=[]},e.prototype.onUpdate=function(t){var e=this,n=!1;this.data.iterate(function(t){var i=-1!==e.activeTags.indexOf(t.sid);i!==t.isActive&&(t.isActive=i,n=!0)}),n&&this.engine.market.update(this,this.data)},e.prototype.toggleTag=function(t,e){var n=this.data.getTag(t);if(n){var i=this.activeTags.indexOf(t);e||-1===i?-1===i&&this.activeTags.push(t):this.activeTags.splice(i,1),this.onUpdate(0)}},e.prototype.onTagVisited=function(t){var e=this.data.getTag(t);if(e.mediaType==c.a.hotspot){if(undefined!=parent&&undefined!=parent.onClicklogicMedia){var n=this.intersectTag.closestPanoTowardTag(this.player.mode,this.player.currentPano)||this.player.currentPano;parent.onClicklogicMedia(this.player.currentPano.id,this.intersectTag.sid,n)}return true}else if(e.mediaType==c.a.flying){G_APP.flyto(e.mediaSrc);return true}else{this.data.visitTag(t),this.engine.broadcast(new a.c(t))}},e.prototype.initializeTags=function(t,e){for(var n in this.data=new o.a,t)this.data.addTag(t[n]);e.register(this,o.a),e.update(this,this.data)},e}(r.D);e.default=h}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{185:function(t,e,n){var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var t=[],e=0;e<arguments.length;e++){var o=arguments[e];if(o){var i=typeof o;if("string"===i||"number"===i)t.push(o);else if(Array.isArray(o))t.push(r.apply(null,o));else if("object"===i)for(var a in o)n.call(o,a)&&o[a]&&t.push(a)}}return t.join(" ")}void 0!==t&&t.exports?t.exports=r:void 0===(o=function(){return r}.apply(e,[]))||(t.exports=o)}()},188:function(t,e,n){"use strict";var o,r=n(19),i=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n){var o=t.call(this)||this;return o.fromMode=n,o.toMode=e,o.timestamp=Date.now(),o}return i(e,t),e}(r.a);e.a=a},195:function(t,e,n){"use strict";var o,r=n(188),i=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r.a);e.a=a},199:function(t,e,n){"use strict";var o;n.d(e,"a",function(){return o}),function(t){t[t.ZERO=48]="ZERO",t[t.ONE=49]="ONE",t[t.TWO=50]="TWO",t[t.THREE=51]="THREE",t[t.FOUR=52]="FOUR",t[t.FIVE=53]="FIVE",t[t.SIX=54]="SIX",t[t.SEVEN=55]="SEVEN",t[t.EIGHT=56]="EIGHT",t[t.NINE=57]="NINE",t[t.LEFTARROW=37]="LEFTARROW",t[t.UPARROW=38]="UPARROW",t[t.RIGHTARROW=39]="RIGHTARROW",t[t.DOWNARROW=40]="DOWNARROW",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.SPACE=32]="SPACE",t[t.RETURN=13]="RETURN",t[t.SEMICOLON=186]="SEMICOLON",t[t.PLUSEQUALS=187]="PLUSEQUALS",t[t.DASHUNDERSCORE=189]="DASHUNDERSCORE",t[t.OPENBRACKET=219]="OPENBRACKET"}(o=o||(o={}))},211:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o,r=n(50),i=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s=function(t){function e(e){var n=t.call(this)||this;return n.id="MOVE_TO_SWEEP",n.payload=a({},e),n}return i(e,t),e}(r.a)},270:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return p});var o,r=n(50),i=n(0),a=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((o=o.apply(t,e||[])).next())})},c=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=function(t){function e(e){var n=t.call(this)||this;return n.id="SHOW_ALL_FLOORS",n.payload=e,n}return a(e,t),e}(r.a),p=function(t,e,n){t.waitForModule(i.q).then(function(t){return e.addBinding(u,function(e){return s(void 0,void 0,void 0,function(){var n;return c(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n="boolean"==typeof e.moveCamera&&!e.moveCamera,[4,t.moveToFloor(-1,n)];case 1:return o.sent(),[3,3];case 2:throw o.sent(),Error("Could not show all floors");case 3:return[2]}})})})}),n.addCommandToInterface({version:"3.x",namespace:"Floor",name:"showAll",args:["moveCamera"]},function(t){return new u(t)})}},271:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return p});var o,r=n(50),i=n(0),a=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((o=o.apply(t,e||[])).next())})},c=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=function(t){function e(e){var n=t.call(this)||this;return n.id="MOVE_TO_FLOOR",n.payload=e,n}return a(e,t),e}(r.a),p=function(t,e,n){t.waitForModule(i.q).then(function(t){return e.addBinding(u,function(e){return s(void 0,void 0,void 0,function(){var n;return c(this,function(o){switch(o.label){case 0:if("number"!=typeof e.floorIndex||e.floorIndex<0)throw Error("floor index must be a non-negative number");o.label=1;case 1:return o.trys.push([1,3,,4]),n="boolean"==typeof e.moveCamera&&!e.moveCamera,[4,t.moveToFloor(e.floorIndex,n,n?250:void 0)];case 2:return o.sent(),[2,t.getData().currentFloor];case 3:throw o.sent(),Error("Could not move to floor at index "+e.floorIndex);case 4:return[2]}})})})}),n.addCommandToInterface({version:"3.x",namespace:"Floor",name:"moveTo",args:["floorIndex","moveCamera"]},function(t){return new u(t)})}},272:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o,r=n(50),i=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s=function(t){function e(e){var n=t.call(this)||this;return n.payload=a({},e),n}return i(e,t),e}(r.a)},273:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o,r=n(50),i=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s=function(t){function e(e){var n=t.call(this)||this;return n.payload=a({},e),n}return i(e,t),e}(r.a)},298:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return c});var o,r,i=n(50),a=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};!function(t){t.left="left",t.top="top",t.width="width",t.height="height"}(r=r||(r={}));var c=function(t){function e(e){var n=t.call(this)||this;return n.name="resize-canvas",n.payload=s({},e),n}return a(e,t),e}(i.a)},322:function(t,e,n){var o;!function(r,i){var a={};function s(t){return function(){var e={method:t},n=Array.prototype.slice.call(arguments);/^get/.test(t)?(a.assert(n.length>0,"Get methods require a callback."),n.unshift(e)):(/^set/.test(t)&&(a.assert(0!==n.length,"Set methods require a value."),e.value=n[0]),n=[e]),this.send.apply(this,n)}}a.DEBUG=!1,a.VERSION="0.0.11",a.CONTEXT="player.js",a.POST_MESSAGE=!!r.postMessage,a.origin=function(t){return"//"===t.substr(0,2)&&(t=r.location.protocol+t),t.split("/").slice(0,3).join("/")},a.addEvent=function(t,e,n){t&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n)},a.log=function(){a.log.history=a.log.history||[],a.log.history.push(arguments),r.console&&a.DEBUG&&r.console.log(Array.prototype.slice.call(arguments))},a.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},a.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},a.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},a.isNone=function(t){return null==t},a.has=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.indexOf=function(t,e){if(null==t)return-1;var n=0,o=t.length;if(Array.prototype.IndexOf&&t.indexOf===Array.prototype.IndexOf)return t.indexOf(e);for(;n<o;n++)if(t[n]===e)return n;return-1},a.assert=function(t,e){if(!t)throw e||"Player.js Assert Failed"},a.Keeper=function(){this.init()},a.Keeper.prototype.init=function(){this.data={}},a.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},a.Keeper.prototype.has=function(t,e){if(!this.data.hasOwnProperty(t))return!1;if(a.isNone(e))return!0;for(var n=this.data[t],o=0;o<n.length;o++)if(n[o].id===e)return!0;return!1},a.Keeper.prototype.add=function(t,e,n,o,r){var i={id:t,event:e,cb:n,ctx:o,one:r};this.has(e)?this.data[e].push(i):this.data[e]=[i]},a.Keeper.prototype.execute=function(t,e,n,o){if(!this.has(t,e))return!1;for(var r=[],i=[],s=0;s<this.data[t].length;s++){var c=this.data[t][s];a.isNone(e)||!a.isNone(e)&&c.id===e?(i.push({cb:c.cb,ctx:c.ctx?c.ctx:o,data:n}),!1===c.one&&r.push(c)):r.push(c)}0===r.length?delete this.data[t]:this.data[t]=r;for(var u=0;u<i.length;u++){var p=i[u];p.cb.call(p.ctx,p.data)}},a.Keeper.prototype.on=function(t,e,n,o){this.add(t,e,n,o,!1)},a.Keeper.prototype.one=function(t,e,n,o){this.add(t,e,n,o,!0)},a.Keeper.prototype.off=function(t,e){var n=[];if(!this.data.hasOwnProperty(t))return n;for(var o=[],r=0;r<this.data[t].length;r++){var i=this.data[t][r];a.isNone(e)||i.cb===e?a.isNone(i.id)||n.push(i.id):o.push(i)}return 0===o.length?delete this.data[t]:this.data[t]=o,n},a.Player=function(t,e){if(!(this instanceof a.Player))return new a.Player(t,e);this.init(t,e)},a.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},a.EVENTS.all=function(){var t=[];for(var e in a.EVENTS)a.has(a.EVENTS,e)&&a.isString(a.EVENTS[e])&&t.push(a.EVENTS[e]);return t},a.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},a.METHODS.all=function(){var t=[];for(var e in a.METHODS)a.has(a.METHODS,e)&&a.isString(a.METHODS[e])&&t.push(a.METHODS[e]);return t},a.READIED=[],a.Player.prototype.init=function(t,e){var n=this;a.isString(t)&&(t=i.getElementById(t)),this.elem=t,a.assert("IFRAME"===t.nodeName,'playerjs.Player constructor requires an Iframe, got "'+t.nodeName+'"'),a.assert(t.src,"playerjs.Player constructor requires a Iframe with a 'src' attribute."),this.origin=a.origin(t.src),this.keeper=new a.Keeper,this.isReady=!1,this.queue=[],this.events=a.EVENTS.all(),this.methods=a.METHODS.all(),a.POST_MESSAGE?a.addEvent(r,"message",function(t){n.receive(t)}):a.log("Post Message is not Available."),a.indexOf(a.READIED,t.src)>-1?n.loaded=!0:this.elem.onload=function(){n.loaded=!0}},a.Player.prototype.send=function(t,e,n){if(t.context=a.CONTEXT,t.version=a.VERSION,e){var o=this.keeper.getUUID();t.listener=o,this.keeper.one(o,t.method,e,n)}return this.isReady||"ready"===t.value?(a.log("Player.send",t,this.origin),!0===this.loaded&&this.elem.contentWindow.postMessage(JSON.stringify(t),this.origin),!0):(a.log("Player.queue",t),this.queue.push(t),!1)},a.Player.prototype.receive=function(t){if(a.log("Player.receive",t),t.origin!==this.origin)return!1;var e;try{e=JSON.parse(t.data)}catch(t){return!1}if(e.context!==a.CONTEXT)return!1;"ready"===e.event&&e.value&&e.value.src===this.elem.src&&this.ready(e),this.keeper.has(e.event,e.listener)&&this.keeper.execute(e.event,e.listener,e.value,this)},a.Player.prototype.ready=function(t){if(!0===this.isReady)return!1;t.value.events&&(this.events=t.value.events),t.value.methods&&(this.methods=t.value.methods),this.isReady=!0,this.loaded=!0;for(var e=0;e<this.queue.length;e++){var n=this.queue[e];a.log("Player.dequeue",n),"ready"===t.event&&this.keeper.execute(n.event,n.listener,!0,this),this.send(n)}this.queue=[]},a.Player.prototype.on=function(t,e,n){var o=this.keeper.getUUID();return"ready"===t?this.keeper.one(o,t,e,n):this.keeper.on(o,t,e,n),this.send({method:"addEventListener",value:t,listener:o}),!0},a.Player.prototype.off=function(t,e){var n=this.keeper.off(t,e);if(a.log("Player.off",n),n.length>0)for(var o in n)return this.send({method:"removeEventListener",value:t,listener:n[o]}),!0;return!1},a.Player.prototype.supports=function(t,e){a.assert(a.indexOf(["method","event"],t)>-1,'evtOrMethod needs to be either "event" or "method" got '+t),e=a.isArray(e)?e:[e];for(var n="event"===t?this.events:this.methods,o=0;o<e.length;o++)if(-1===a.indexOf(n,e[o]))return!1;return!0};for(var c=0,u=a.METHODS.all().length;c<u;c++){var p=a.METHODS.all()[c];a.Player.prototype.hasOwnProperty(p)||(a.Player.prototype[p]=s(p))}a.addEvent(r,"message",function(t){var e;try{e=JSON.parse(t.data)}catch(t){return!1}if(e.context!==a.CONTEXT)return!1;"ready"===e.event&&e.value&&e.value.src&&a.READIED.push(e.value.src)}),a.Receiver=function(t,e){this.init(t,e)},a.Receiver.prototype.init=function(t,e){var n=this;this.isReady=!1,this.origin=a.origin(i.referrer),this.methods={},this.supported={events:t||a.EVENTS.all(),methods:e||a.METHODS.all()},this.eventListeners={},this.reject=!(r.self!==r.top&&a.POST_MESSAGE),this.reject||a.addEvent(r,"message",function(t){n.receive(t)})},a.Receiver.prototype.receive=function(t){if(t.origin!==this.origin)return!1;var e={};if(a.isObject(t.data))e=t.data;else try{e=r.JSON.parse(t.data)}catch(t){a.log("JSON Parse Error",t)}if(a.log("Receiver.receive",t,e),!e.method)return!1;if(e.context!==a.CONTEXT)return!1;if(-1===a.indexOf(a.METHODS.all(),e.method))return this.emit("error",{code:2,msg:'Invalid Method "'+e.method+'"'}),!1;var n=a.isNone(e.listener)?null:e.listener;if("addEventListener"===e.method)this.eventListeners.hasOwnProperty(e.value)?-1===a.indexOf(this.eventListeners[e.value],n)&&this.eventListeners[e.value].push(n):this.eventListeners[e.value]=[n],"ready"===e.value&&this.isReady&&this.ready();else if("removeEventListener"===e.method){if(this.eventListeners.hasOwnProperty(e.value)){var o=a.indexOf(this.eventListeners[e.value],n);o>-1&&this.eventListeners[e.value].splice(o,1),0===this.eventListeners[e.value].length&&delete this.eventListeners[e.value]}}else this.get(e.method,e.value,n)},a.Receiver.prototype.get=function(t,e,n){var o=this;if(!this.methods.hasOwnProperty(t))return this.emit("error",{code:3,msg:'Method Not Supported"'+t+'"'}),!1;var r=this.methods[t];if("get"===t.substr(0,3)){r.call(this,function(e){o.send(t,e,n)})}else r.call(this,e)},a.Receiver.prototype.on=function(t,e){this.methods[t]=e},a.Receiver.prototype.send=function(t,e,n){if(a.log("Receiver.send",t,e,n),this.reject)return a.log("Receiver.send.reject",t,e,n),!1;var o={context:a.CONTEXT,version:a.VERSION,event:t};a.isNone(e)||(o.value=e),a.isNone(n)||(o.listener=n);var i=JSON.stringify(o);r.parent.postMessage(i,""===this.origin?"*":this.origin)},a.Receiver.prototype.emit=function(t,e){if(!this.eventListeners.hasOwnProperty(t))return!1;a.log("Instance.emit",t,e,this.eventListeners[t]);for(var n=0;n<this.eventListeners[t].length;n++){var o=this.eventListeners[t][n];this.send(t,e,o)}return!0},a.Receiver.prototype.ready=function(){a.log("Receiver.ready"),this.isReady=!0;var t={src:r.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",t)||this.send("ready",t)},a.HTML5Adapter=function(t){if(!(this instanceof a.HTML5Adapter))return new a.HTML5Adapter(t);this.init(t)},a.HTML5Adapter.prototype.init=function(t){a.assert(t,"playerjs.HTML5Adapter requires a video element");var e=this.receiver=new a.Receiver;t.addEventListener("playing",function(){e.emit("play")}),t.addEventListener("pause",function(){e.emit("pause")}),t.addEventListener("ended",function(){e.emit("ended")}),t.addEventListener("timeupdate",function(){e.emit("timeupdate",{seconds:t.currentTime,duration:t.duration})}),t.addEventListener("progress",function(){e.emit("buffered",{percent:t.buffered.length})}),e.on("play",function(){t.play()}),e.on("pause",function(){t.pause()}),e.on("getPaused",function(e){e(t.paused)}),e.on("getCurrentTime",function(e){e(t.currentTime)}),e.on("setCurrentTime",function(e){t.currentTime=e}),e.on("getDuration",function(e){e(t.duration)}),e.on("getVolume",function(e){e(100*t.volume)}),e.on("setVolume",function(e){t.volume=e/100}),e.on("mute",function(){t.muted=!0}),e.on("unmute",function(){t.muted=!1}),e.on("getMuted",function(e){e(t.muted)}),e.on("getLoop",function(e){e(t.loop)}),e.on("setLoop",function(e){t.loop=e})},a.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},a.JWPlayerAdapter=function(t){if(!(this instanceof a.JWPlayerAdapter))return new a.JWPlayerAdapter(t);this.init(t)},a.JWPlayerAdapter.prototype.init=function(t){a.assert(t,"playerjs.JWPlayerAdapter requires a player object");var e=this.receiver=new a.Receiver;this.looped=!1,t.on("pause",function(){e.emit("pause")}),t.on("play",function(){e.emit("play")}),t.on("time",function(t){var n=t.position,o=t.duration;if(!n||!o)return!1;var r={seconds:n,duration:o};e.emit("timeupdate",r)});var n=this;t.on("complete",function(){!0===n.looped?t.seek(0):e.emit("ended")}),t.on("error",function(){e.emit("error")}),e.on("play",function(){t.play(!0)}),e.on("pause",function(){t.pause(!0)}),e.on("getPaused",function(e){e(t.getState().toLowerCase()!=="PLAYING".toLowerCase())}),e.on("getCurrentTime",function(e){e(t.getPosition())}),e.on("setCurrentTime",function(e){t.seek(e)}),e.on("getDuration",function(e){e(t.getDuration())}),e.on("getVolume",function(e){e(t.getVolume())}),e.on("setVolume",function(e){t.setVolume(e)}),e.on("mute",function(){t.setMute(!0)}),e.on("unmute",function(){t.setMute(!1)}),e.on("getMuted",function(e){e(!0===t.getMute())}),e.on("getLoop",function(t){t(this.looped)},this),e.on("setLoop",function(t){this.looped=t},this)},a.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},a.MockAdapter=function(){if(!(this instanceof a.MockAdapter))return new a.MockAdapter;this.init()},a.MockAdapter.prototype.init=function(){var t={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){t.interval=setInterval(function(){t.currentTime+=.25,t.timeupdate({seconds:t.currentTime,duration:t.duration})},250),t.playing=!0},pause:function(){clearInterval(t.interval),t.playing=!1}},e=this.receiver=new a.Receiver;e.on("play",function(){var e=this;t.play(),this.emit("play"),t.timeupdate=function(t){e.emit("timeupdate",t)}}),e.on("pause",function(){t.pause(),this.emit("pause")}),e.on("getPaused",function(e){e(!t.playing)}),e.on("getCurrentTime",function(e){e(t.currentTime)}),e.on("setCurrentTime",function(e){t.currentTime=e}),e.on("getDuration",function(e){e(t.duration)}),e.on("getVolume",function(e){e(t.volume)}),e.on("setVolume",function(e){t.volume=e}),e.on("mute",function(){t.mute=!0}),e.on("unmute",function(){t.mute=!1}),e.on("getMuted",function(e){e(t.mute)}),e.on("getLoop",function(e){e(t.loop)}),e.on("setLoop",function(e){t.loop=e})},a.MockAdapter.prototype.ready=function(){this.receiver.ready()},a.VideoJSAdapter=function(t){if(!(this instanceof a.VideoJSAdapter))return new a.VideoJSAdapter(t);this.init(t)},a.VideoJSAdapter.prototype.init=function(t){a.assert(t,"playerjs.VideoJSReceiver requires a player object");var e=this.receiver=new a.Receiver;t.on("pause",function(){e.emit("pause")}),t.on("play",function(){e.emit("play")}),t.on("timeupdate",function(n){var o=t.currentTime(),r=t.duration();if(!o||!r)return!1;var i={seconds:o,duration:r};e.emit("timeupdate",i)}),t.on("ended",function(){e.emit("ended")}),t.on("error",function(){e.emit("error")}),e.on("play",function(){t.play()}),e.on("pause",function(){t.pause()}),e.on("getPaused",function(e){e(t.paused())}),e.on("getCurrentTime",function(e){e(t.currentTime())}),e.on("setCurrentTime",function(e){t.currentTime(e)}),e.on("getDuration",function(e){e(t.duration())}),e.on("getVolume",function(e){e(100*t.volume())}),e.on("setVolume",function(e){t.volume(e/100)}),e.on("mute",function(){t.volume(0)}),e.on("unmute",function(){t.volume(1)}),e.on("getMuted",function(e){e(0===t.volume())}),e.on("getLoop",function(e){e(t.loop())}),e.on("setLoop",function(e){t.loop(e)})},a.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()},void 0===(o=function(){return a}.call(e,n,e,t))||(t.exports=o)}(window,document)},356:function(t,e,n){},358:function(t,e,n){},359:function(t,e,n){t.exports=n.p+"images/360_placement_pin.png"},361:function(t,e,n){},363:function(t,e,n){},365:function(t,e,n){},367:function(t,e,n){},369:function(t,e,n){},704:function(t,e,n){"use strict";n.r(e);var o,r=n(183),i=(n(369),n(65)),a=n(14);!function(t){t[t.NONE=0]="NONE",t[t.SELECTED=1]="SELECTED",t[t.PLACING=2]="PLACING",t[t.PREVIEW=3]="PREVIEW",t[t.RENAME=4]="RENAME"}(o=o||(o={}));var s,c=n(17),u=n(1),p=n(3),l=n(49),f=n(69),h=n(6),d=n(149),y=n(90),v=n(211),g=n(144),m=n(51),b=n(273),w=n(272),O=n(271),E=n(270),P=n(195),S=n(84),_=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((o=o.apply(t,e||[])).next())})},j=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},x=function(){function t(t,e,n,o){this.engine=t,this.sdk=e,this.urls=n,this.sweepList=[],this.originalIndex={},this.sweepMap={},this.sweepStateMap={},this.floorHeights={},this.dragStartRotation=new p.a,this.upVector=new u.a,this.worldPosition=new u.a,this.setupData(o.filter(function(t){return t.alignmentType!==a.a.ALIGNED})),this.setupFloorHeights(o),this.onSweepPlaced=this.onSweepPlaced.bind(this)}return t.prototype.interactWithCard=function(t,e,n,r){switch(this.lastInteracted&&(this.sweepStateMap[this.lastInteracted].interaction=o.NONE),this.sweepStateMap[e].interaction=t,this.lastInteracted=e,t){case o.PLACING:if(!n||!r)break;var i=new c.a(r.clientX,r.clientY);this.dragStartCallback(i,n,this.sweepStateMap[e].dataIndex+1),this.saveDragStartData();break;case o.PREVIEW:this.engine.commandBinder.issueCommand(new v.a({sweep:this.lastInteracted,transition:y.b.FADEOUT}));break;case o.RENAME:if(!n)break;this.engine.commandBinder.issueCommand(new l.b(this.lastInteracted,n))}this.triggerUpdate()},t.prototype.onDragStart=function(t){this.dragStartCallback=t},t.prototype.onDragPin=function(t,e){return _(this,void 0,void 0,function(){var n=this;return j(this,function(o){return[2,this.engine.market.waitForData(d.a).then(function(t){n.floorsData=t,n.currentHeight=n.floorHeights[t.currentFloor<0?Math.max(n.lastIntersectedFloor,0):t.currentFloor]}).then(function(){return n.engine.market.waitForData(f.a).then(function(t){if(t.currentMode===h.a.Transition)throw new Error("Cannot place pin if not in Dollhouse or Floorplan")}).then(function(){return n.engine.commandBinder.issueCommand(new b.a({screenPosition:t,height:n.currentHeight}))}).then(function(o){var r=o.position,i=o.floor,a=i!==n.lastIntersectedFloor&&i>-1,s=n.floorsData.currentFloor<0&&e,c=n.floorsData.currentFloor>-1&&!e;if(n.dragStartMode===h.a.Dollhouse&&-1===n.dragStartFloor&&(a||s||c)){n.lastIntersectedFloor=i;var u=e?Math.max(n.lastIntersectedFloor,0):-1;return n.showFloor(u).then(function(){return n.currentHeight=n.floorHeights[i<0?Math.max(n.lastIntersectedFloor,0):i],n.engine.commandBinder.issueCommand(new b.a({screenPosition:t,height:n.currentHeight}))}).then(function(t){return n.engine.commandBinder.issueCommand(new w.a({worldPosition:n.offsetPinSize(t.position)}))})}if(n.dragStartMode===h.a.Floorplan&&n.dragStartFloor<0){var p=n.floorsData.transition.progress.active;u=e?0:-1;p||u===n.floorsData.currentFloor||n.showFloor(u)}return n.engine.commandBinder.issueCommand(new w.a({worldPosition:n.offsetPinSize(r)}))}).then(function(e){return e.sub(t).length()}).then(function(t){if(t>window.innerHeight/8)throw new Error("Pin height cannot be too large");return t})})]})})},t.prototype.dragEnd=function(t,e){var n=this;t?(-1===this.dragStartFloor&&-1!==this.floorsData.currentFloor&&this.dragStartMode===h.a.Dollhouse&&this.engine.commandBinder.issueCommand(new E.a({moveCamera:!1})),this.sdk.Renderer.getWorldPositionData(e,this.currentHeight).then(function(t){var e=t.position,r=n.offsetPinSize(e,n.currentHeight);n.engine.commandBinder.issueCommand(new l.a(n.lastInteracted,r)),n.engine.commandBinder.issueCommand(new l.d(n.lastInteracted,!0)),n.resetState(o.SELECTED)}).catch(this.onFailedPlacement.bind(this))):this.onFailedPlacement()},t.prototype.onUpdate=function(t){this.updatedSweepsCallback=t},t.prototype.getSweeps=function(){var t=this;return this.sweepList.map(function(e){return t.sweepStateMap[e]})},t.prototype.onSweepPlaced=function(t){var e=this;return function(n,o){e.sweepStateMap[t].placed=o!==a.a.UNALIGNED}},t.prototype.onPropertyChanged=function(t,e){var n=this;return function(o,r){n.sweepStateMap[t][e]=r,n.triggerUpdate()}},t.prototype.getModelUrls=function(){return this.urls},t.prototype.saveDragStartData=function(){var t=this,e=this.engine.market.tryGetData(d.a);this.dragStartFloor=e?e.currentFloor:-1,this.engine.market.waitForData(f.a).then(function(e){if(t.dragStartMode=e.currentMode,e.currentMode===h.a.Panorama){var n=t.engine.market.tryGetData(g.a),o=t.engine.market.tryGetData(i.a);n&&o&&(t.dragStartRotation.copy(n.pose.rotation),t.dragStartSweep=o.currentSweep,t.sdk.Mode.moveTo(t.sdk.Mode.Mode.FLOORPLAN,{transition:t.sdk.Sweep.Transition.FADEOUT}))}})},t.prototype.onFailedPlacement=function(){var t=this;if(this.dragStartMode===h.a.Panorama&&this.dragStartSweep){var e=function(){return t.engine.commandBinder.issueCommand(new v.a({sweep:t.dragStartSweep,transition:y.b.FADEOUT,rotation:t.dragStartRotation}))},n=this.engine.market.tryGetData(f.a);n&&n.transition.active?this.engine.subscribe(P.a,e.bind(this),S.b.ONCE):e()}this.resetState(o.SELECTED)},t.prototype.resetState=function(t){this.sweepStateMap[this.lastInteracted].interaction=t,this.triggerUpdate()},t.prototype.showFloor=function(t){return _(this,void 0,void 0,function(){var e;return j(this,function(n){return(e=this.engine.market.tryGetData(d.a))?e.currentFloor===t||e.transition.progress.active?[2]:t>-1?[2,this.engine.commandBinder.issueCommand(new O.a({floorIndex:t,moveCamera:!1}))]:[2,this.engine.commandBinder.issueCommand(new E.a({moveCamera:!1}))]:[2]})})},t.prototype.offsetPinSize=function(t,e){var n=this.engine.market.tryGetData(g.a);return n&&(this.upVector.copy(m.a.UP).applyQuaternion(n.pose.rotation),this.worldPosition.set(t.x,t.y,t.z),this.worldPosition.add(this.upVector.normalize().multiplyScalar(.75)),e&&this.worldPosition.setY(e)),this.worldPosition},t.prototype.setupData=function(t){var e=this;t.forEach(function(t,n){e.originalIndex[t.id]=n,e.sweepMap[t.id]=t,e.sweepStateMap[t.id]={id:t.id,interaction:o.NONE,floor:t.floor,dataIndex:n,placed:t.placementType===a.b.MANUAL,enabled:t.enabled,title:t.name,hidable:!1},e.sweepList.push(t.id),t.onPropertyChanged("alignmentType",e.onSweepPlaced(t.id)),t.onPropertyChanged("name",e.onPropertyChanged(t.id,"title")),t.onPropertyChanged("enabled",e.onPropertyChanged(t.id,"enabled"))})},t.prototype.setupFloorHeights=function(t){var e=t.filter(function(t){return t.alignmentType===a.a.ALIGNED}),n={};for(var o in e.forEach(function(t,e){n[t.floor]||(n[t.floor]=[]),n[t.floor].push(t.position.y)}),n){var r=n[o].length/2;this.floorHeights[Number(o)]=n[o].sort(function(t,e){return t-e})[Math.floor(r)]}},t.prototype.triggerUpdate=function(){this.updatedSweepsCallback&&this.updatedSweepsCallback(this.getSweeps())},t}(),I=n(0),T=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((o=o.apply(t,e||[])).next())})},M=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(t){t.VIEW_360="VIEW_360"}(s=s||(s={}));var D,C,L,A,R,k,N,U=((D={})[s.VIEW_360]="icon-360",D),V=((C={})[s.VIEW_360]="360° Views",C),B=((L={})[s.VIEW_360]=function(t,e,n){return T(void 0,void 0,void 0,function(){var o,r,s,c,u,p;return M(this,function(l){switch(l.label){case 0:return[4,n.market.waitForData(i.a)];case 1:return o=l.sent(),r=o.getSweepList(),s=r.filter(function(t){return t.alignmentType!==a.a.ALIGNED}),u=x.bind,p=[void 0,n,e],[4,n.getModule(I.H)];case 2:return c=new(u.apply(x,p.concat([l.sent().getSignedUrls(),r]))),t(s.length>0,c),[2]}})})},L),F=(n(367),n(185)),G=n(184),W=n.n(G),H=(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),J=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},K=function(t){function e(e){return t.call(this,e)||this}return H(e,t),e.prototype.render=function(){var t=F({"right-button":!0,active:this.props.active,enabled:this.props.enabled});return Object(r.h)("div",{"data-balloon":!this.props.active&&V[this.props.name],"data-balloon-pos":"left",class:t,onClick:this.props.setActiveButton},Object(r.h)("div",{class:F("inner-icon",this.props.icon)}),Object(r.h)("div",{class:"right-button-outline"}))},e=J([W.a],e)}(r.Component),q=n(298),X=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Y=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},z=function(t){function e(e){var n=t.call(this,e)||this;return n.setState=n.setState.bind(n),n}return X(e,t),e.prototype.componentWillUpdate=function(t,e){if(t.editing!==this.props.editing||t.activeButton!==this.props.activeButton){var n=0;t.editing&&(n+=56),t.activeButton&&(n+=300),this.props.commandBinder.issueCommand(new q.a({resizeDimensions:[{property:q.b.width,setDimension:function(t){return t-n},duration:500}]}))}},e.prototype.getButtons=function(){var t=[];for(var e in s){var n=this.props.setActiveButton.bind(this,e);t.push(Object(r.h)(K,{name:e,icon:U[e],active:this.props.activeButton===e,enabled:this.props.enabledButtons[e],setActiveButton:n}))}return t},e.prototype.render=function(){return Object(r.h)("div",{class:F("right-panel",{loaded:this.props.editing})},Object(r.h)("div",{class:"right-buttons"},this.getButtons()))},e=Y([W.a],e)}(r.Component),Q=(n(365),n(215)),Z=n(276),$=n(217),tt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),et=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},nt=function(t){function e(e){var n=t.call(this,e)||this;return n.state={loaded:!1},n}return tt(e,t),e.prototype.componentDidUpdate=function(){this.handleUrlChange()},e.prototype.componentDidMount=function(){this.handleUrlChange()},e.prototype.handleUrlChange=function(){this.props.url&&!this.state.loaded&&this.loadImage()},e.prototype.loadImage=function(){var t=this;this.image.addEventListener("load",function(){t.setState({loaded:!0}),t.props.onLoad()})},e.prototype.render=function(){var t=this;return Object(r.h)("div",{class:F("card",{selected:this.props.interaction})},Object(r.h)("img",{ref:function(e){t.image=e},src:this.props.url}))},e=et([W.a],e)}(r.Component),ot=n(199),rt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),it=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},at=function(t){function e(e){var n=t.call(this,e)||this;return n.state={editing:!1,text:n.props.text||n.props.defaultText},n.startEditing=n.startEditing.bind(n),n.onKeyPress=n.onKeyPress.bind(n),n.onTextChange=n.onTextChange.bind(n),n.stopEditing=n.stopEditing.bind(n),n}return rt(e,t),e.prototype.componentDidMount=function(){this.textInput.addEventListener("keypress",function(t){return t.stopPropagation()}),this.textInput.addEventListener("keydown",function(t){return t.stopPropagation()}),this.textInput.addEventListener("keyup",function(t){return t.stopPropagation()})},e.prototype.stopEditing=function(){this.setState({editing:!1})},e.prototype.stopPropagation=function(t){t.stopPropagation()},e.prototype.startEditing=function(t){t.stopPropagation(),this.setState({editing:!0})},e.prototype.onKeyPress=function(t){t.stopPropagation(),(t.which||t.keyCode)===ot.a.RETURN&&this.setState({editing:!1})},e.prototype.onTextChange=function(t){t.stopPropagation();var e=t.target.value||this.props.defaultText;this.setState({text:e}),this.props.onEdited(e)},e.prototype.render=function(){var t=this;return Object(r.h)("div",{class:F("modifiable-text",{editing:this.state.editing}),ref:function(e){t.textContainer=e}},Object(r.h)("div",{class:"current-text",onClick:this.startEditing},this.state.text),Object(r.h)("input",{ref:function(e){t.textInput=e},class:F({editing:this.state.editing}),type:"text",value:this.state.text,onChange:this.onTextChange,onClick:this.stopPropagation,onKeyPress:this.onKeyPress}))},e=it([W.a],e)}(r.Component),st=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ct=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},ut=function(t){function e(e){var n=t.call(this,e)||this;return n.onButtonPress=n.onButtonPress.bind(n),n.goToPreview=n.goToPreview.bind(n),n.onTitleEdit=n.onTitleEdit.bind(n),n}return st(e,t),e.prototype.onButtonPress=function(t){t.stopPropagation(),this.props.onInteraction(o.PLACING,this.props.sweepId,this.props.url,t)},e.prototype.goToPreview=function(){this.props.onInteraction(o.PREVIEW,this.props.sweepId)},e.prototype.onTitleEdit=function(t){this.props.onInteraction(o.RENAME,this.props.sweepId,t)},e.prototype.render=function(){var t=this;return Object(r.h)("div",{class:"card-menu",onMouseLeave:this.textInput&&this.textInput.stopEditing,onClick:this.textInput&&this.textInput.stopEditing},!this.props.placed&&Object(r.h)("div",{class:"drag-button",onMouseDown:this.onButtonPress},"Drag to the map"),Object(r.h)(at,{ref:function(e){t.textInput=e},text:this.props.title,defaultText:"360° View "+(this.props.dataIndex+1),dataIndex:this.props.dataIndex,selected:!!this.props.interaction,onEdited:this.onTitleEdit}),Object(r.h)("div",{class:"menu-icons"},Object(r.h)("span",{class:F("icon icon-fullscreen2"),onClick:this.goToPreview})))},e=ct([W.a],e)}(r.Component),pt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),lt=function(t){function e(e){var n=t.call(this,e)||this;return n.state={previousIndex:-1},n}return pt(e,t),e.prototype.render=function(){var t=F({"placed-number":!0,placed:this.props.placed,selected:this.props.interaction!==o.NONE});return Object(r.h)("div",{class:t},Object(r.h)("span",null,this.props.index+1))},e}(r.Component),ft=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ht=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},dt=function(t){function e(e){var n=t.call(this,e)||this;return n.handleClick=n.handleClick.bind(n),n}return ft(e,t),e.prototype.handleClick=function(){this.props.onInteraction(o.SELECTED,this.props.sweepId)},e.prototype.render=function(){var t=this.props.interaction===o.PLACING;return Object(r.h)("div",{class:F("card-wrapper",{dragging:t}),onClick:this.handleClick},Object(r.h)(nt,{onLoad:this.props.onImageLoaded,url:this.props.url,interaction:this.props.interaction}),Object(r.h)(ut,{sweepId:this.props.sweepId,title:this.props.title,dataIndex:this.props.dataIndex,placed:this.props.placed,enabled:this.props.enabled,interaction:this.props.interaction,onInteraction:this.props.onInteraction,url:this.props.url}),Object(r.h)(lt,{placed:this.props.placed,index:this.props.dataIndex,interaction:this.props.interaction}),Object(r.h)("div",{class:F("loading-card",{loaded:this.props.loaded})}))},e=ht([W.a],e)}(r.Component),yt=n(18),vt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),gt=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},mt=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((o=o.apply(t,e||[])).next())})},bt=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},wt=function(t){function e(e){var n=t.call(this,e)||this;return n.state={shouldLoad:!1,loaded:!1,url:""},n.onImageLoaded=n.onImageLoaded.bind(n),n}return vt(e,t),e.prototype.componentWillReceiveProps=function(t){t.lastScroll!==this.props.lastScroll&&this.loadIfWithinView()},e.prototype.componentDidUpdate=function(t,e){this.props.urls&&!t.urls&&this.state.shouldLoad&&!this.state.loaded&&this.downloadImageUrl()},e.prototype.componentDidMount=function(){this.loadIfWithinView()},e.prototype.loadIfWithinView=function(){var t=this.container.parentElement.parentElement,e=this.container.offsetTop+this.container.offsetHeight+300>t.scrollTop,n=this.container.offsetTop<t.scrollTop+t.offsetHeight;e&&n?(this.setState({shouldLoad:!0}),this.downloadImageUrl()):Object(yt.j)()&&this.setState({shouldLoad:!1,url:"",loaded:!1})},e.prototype.downloadImageUrl=function(){return mt(this,void 0,void 0,function(){var t=this;return bt(this,function(e){return this.props.urls?(this.props.urls.getSignedUrl("pan/high/"+this.props.sweepId+"_skybox3.jpg").then(function(e){t.setState({url:e})}),[2]):[2]})})},e.prototype.onImageLoaded=function(){this.setState({loaded:!0})},e.prototype.render=function(){var t=this;return Object(r.h)("div",{class:"each-360",ref:function(e){t.container=e}},Object(r.h)("div",{class:F("ghost-card",{visible:this.props.interaction===o.PLACING})}),Object(r.h)(dt,{sweepId:this.props.sweepId,interaction:this.props.interaction,loaded:this.state.loaded,placed:this.props.placed,title:this.props.title,dataIndex:this.props.dataIndex,enabled:this.props.enabled,hidable:this.props.hidable,url:this.state.url,onInteraction:this.props.onInteraction,onImageLoaded:this.onImageLoaded}))},e=gt([W.a],e)}(r.Component),Ot=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Et=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Pt=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((o=o.apply(t,e||[])).next())})},St=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_t=function(t){function e(e){var n=t.call(this,e)||this;return n.state={urls:null,lastScroll:0,interaction:o.NONE,activeIndex:-1,sweeps:[]},n.onInteraction=n.onInteraction.bind(n),n}return Ot(e,t),e.prototype.componentDidMount=function(){return Pt(this,void 0,void 0,function(){return St(this,function(t){return this.container.addEventListener("wheel",this.throttleLastScroll.bind(this)),this.container.addEventListener("scroll",this.throttleLastScroll.bind(this)),window.addEventListener("resize",this.throttleLastScroll.bind(this)),[2]})})},e.prototype.componentWillUnmount=function(){this.container.removeEventListener("wheel",this.throttleLastScroll.bind(this)),this.container.removeEventListener("scroll",this.throttleLastScroll.bind(this)),window.removeEventListener("resize",this.throttleLastScroll.bind(this))},e.prototype.componentDidUpdate=function(t){return Pt(this,void 0,void 0,function(){var e=this;return St(this,function(n){return!t.manager.onUpdate&&this.props.manager.onUpdate&&(this.setState({sweeps:this.props.manager.getSweeps(),urls:this.props.manager.getModelUrls()}),this.props.manager.onUpdate(function(t){e.setState({sweeps:t})})),[2]})})},e.prototype.throttleLastScroll=function(){var t=this;clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(function(){t.setState({lastScroll:Date.now()})},50)},e.prototype.onInteraction=function(t,e,n,o){this.props.manager.interactWithCard&&this.props.manager.interactWithCard(t,e,n,o),n&&(this.lastUrl=n)},e.prototype.getImages=function(){var t=this,e=this.state.sweeps;return!e||e.length<1?Object(r.h)("div",{id:"no-360-placeholder"},Object(r.h)("span",null,"No 360° View")):e.map(function(e,n){return Object(r.h)(wt,{key:e.id,dataIndex:e.dataIndex,placed:e.placed,enabled:e.enabled,hidable:e.hidable,interaction:e.interaction,urls:t.state.urls,lastUrl:t.lastUrl,onInteraction:t.onInteraction,lastScroll:t.state.lastScroll,title:"",sweepId:e.id})})},e.prototype.render=function(){var t=this;return Object(r.h)("div",{id:"placement-360",ref:function(e){t.container=e}},Object(r.h)("div",{id:"images-wrapper"},Object(r.h)(Q.a,{suppressDrag:this.state.interaction===o.PLACING,forceHidden:Object(Z.a)(window),singleScrollDirection:$.b.vertical},this.getImages())))},e=Et([W.a],e)}(r.Component),jt=((R={})[s.VIEW_360]=_t,R),xt=((k={})[s.VIEW_360]="360° VIEWS",k),It=(n(363),function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Tt=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n}return It(e,t),e.prototype.render=function(){return Object(r.h)("div",{class:F("drawer",{active:this.props.active})},Object(r.h)("div",{class:"drawer-header"},Object(r.h)("div",null,xt[this.props.type]),Object(r.h)("div",{class:"icon icon-close",onClick:this.props.setActiveButton})),Object(r.h)(jt[this.props.type],{manager:this.props.manager}))},e}(r.Component),Mt=(n(361),n(15)),Dt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ct=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((o=o.apply(t,e||[])).next())})},Lt=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},At=function(t){function e(e){var n=t.call(this,e)||this;return n.screenPosition=new c.a,n.state={dragging:!1,pinType:N.IMAGE,top:0,left:0,url:"",index:-1,scale:1,canDrop:!0,placingPin:!0,viewmode:Mt.b.INSIDE},n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onWindowEnter=n.onWindowEnter.bind(n),n.disableDrop=n.disableDrop.bind(n),n.onModeChange=n.onModeChange.bind(n),n.onFailedPlacement=n.onMouseUp.bind(n,!1),n}return Dt(e,t),e.prototype.componentDidMount=function(){return Ct(this,void 0,void 0,function(){var t;return Lt(this,function(e){switch(e.label){case 0:return window.addEventListener("mousedown",this.onMouseMove),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onFailedPlacement),this.props.manager.onDragStart&&this.props.manager.onDragStart(this.onDragStart),[4,this.context.sdk.Camera.getPose()];case 1:return t=e.sent().mode,this.disableDrop(t),this.context.sdk.on(this.context.sdk.Mode.Event.CHANGE_END,this.onModeChange),[2]}})})},e.prototype.componentWillUnmount=function(){window.removeEventListener("mousedown",this.onMouseMove),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onFailedPlacement),this.context.sdk.off(this.context.sdk.Mode.Event.CHANGE_END,this.onModeChange)},e.prototype.componentDidUpdate=function(t,e){!t.manager.onDragStart&&this.props.manager.onDragStart&&this.props.manager.onDragStart(this.onDragStart)},e.prototype.onDragStart=function(t,e,n){this.setState({left:t.x,top:t.y,url:e,index:n,dragging:!0})},e.prototype.disableDrop=function(t){var e=t===this.context.sdk.Mode.Mode.DOLLHOUSE||t===this.context.sdk.Mode.Mode.FLOORPLAN;this.setState({viewmode:t,canDrop:e})},e.prototype.onModeChange=function(t,e){this.disableDrop(e)},e.prototype.onMouseUp=function(t){var e=this;return function(n){e.state.dragging&&(n.stopPropagation(),e.screenPosition.set(n.clientX,n.clientY),e.props.manager.dragEnd(e.state.canDrop&&t,e.screenPosition),e.setState({index:-1,url:"",dragging:!1,pinType:N.IMAGE}))}},e.prototype.onMouseMove=function(t){var e=this;this.state.dragging&&(this.setState({left:t.clientX,top:t.clientY}),this.screenPosition.set(t.clientX,t.clientY),this.props.manager.onDragPin(this.screenPosition,this.state.pinType===N.PIN).then(function(t){e.setState({scale:t/125}),e.disableDrop(e.state.viewmode)}).catch(function(){e.setState({canDrop:!1})}))},e.prototype.onEnterRegion=function(t){var e=this;return function(){e.setState({pinType:t}),e.allowTransition()}},e.prototype.onWindowEnter=function(t){1!==t.buttons&&this.onMouseUp(!1)(t)},e.prototype.allowTransition=function(){clearTimeout(this.lastBecamePin),this.setState({placingPin:!1}),this.lastBecamePin=setTimeout(this.setState.bind(this,{placingPin:!0}),500)},e.prototype.getPinScale=function(){return this.state.pinType===N.IMAGE?.5:this.state.canDrop?this.state.scale:0},e.prototype.render=function(){var t={left:this.state.left,top:this.state.top,transform:"scale("+this.getPinScale()+")"},e=!!this.state.url,o=this.state.placingPin||!this.state.canDrop;return Object(r.h)("div",{class:"pin-container"},Object(r.h)("div",{class:F("drag-region",{noDrag:!this.state.canDrop}),onMouseEnter:this.onWindowEnter},Object(r.h)("div",{onMouseEnter:this.onEnterRegion(N.PIN),onMouseUp:this.onMouseUp(!0),class:F("pin-region",{dragging:e})}),Object(r.h)("div",{class:F("image-region",{dragging:e}),onMouseUp:this.onMouseUp(!1),onMouseEnter:this.onEnterRegion(N.IMAGE)})),Object(r.h)("div",{style:t,class:F("pin-360-wrapper",{dragging:e,noTransition:o},this.state.pinType)},Object(r.h)("img",{class:F("pin-image"),src:n(359)}),Object(r.h)("div",{class:"scene-wrapper"},Object(r.h)("img",{src:this.state.url})),Object(r.h)("span",null,this.state.index)))},e}(r.Component);!function(t){t.PIN="pin",t.IMAGE="image"}(N||(N={}));var Rt=n(306),kt=n(305),Nt=n(324),Ut=(n(358),function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Vt=function(t){function e(e){var n=t.call(this,e)||this;return n.onViewmodeChanged=e.guiState.setGuiState("viewmode"),n}return Ut(e,t),e.prototype.render=function(){var t=this.props.guiState,e=t.sdk,n=t.panoList,o=t.panoMap,i=t.viewmode;return Object(r.h)("div",{id:"ws-bottom-ui"},Object(r.h)("div",{class:"left controls"},Object(r.h)(Rt.a,{sdk:e,tourPlaying:!1,panoList:n,panoMap:o,leftMost:!0,onViewmodeChanged:this.onViewmodeChanged}),Object(r.h)(kt.a,{sdk:e,viewmode:i,tourPlaying:!1})),Object(r.h)("div",{class:"right controls"},!Object(yt.j)()&&Object(r.h)(Nt.a,null)))},e}(r.Component),Bt=n(310),Ft=n(307),Gt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wt=function(t){function e(e){return t.call(this,e)||this}return Gt(e,t),e.prototype.render=function(){var t=this.props.guiState,e=t.viewmode,n=t.sdk;return Object(r.h)("div",{id:"overlay-ui"},Object(r.h)(Bt.a,{sdk:n,tourPlaying:!1}),this.context.settings.tryGetProperty("labels",!0)&&Object(r.h)(Ft.a,{sdk:n,viewmode:e}))},e}(r.Component),Ht=(n(323),n(356),n(4)),Jt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Kt=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}c((o=o.apply(t,e||[])).next())})},qt=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Xt=new Ht.a("workshop-ui"),Yt=function(t){function e(e){var n=t.call(this,e)||this;return n.setGuiState=n.setGuiState.bind(n),n.state={panoList:[],panoMap:{},sdk:e.sdk,viewmode:e.sdk.Mode.Mode.INSIDE,setGuiState:n.setGuiState},n}return Jt(e,t),e.prototype.getChildContext=function(){return{guiDiv:this.props.guiDiv,settings:this.props.settings,analytics:this.props.analytics,locale:this.props.locale}},e.prototype.componentDidMount=function(){return Kt(this,void 0,void 0,function(){var t,e,n,o,r,i;return qt(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.props.sdk.Model.getData()];case 1:for(o in t=a.sent(),e=t.sweeps,n={},e)r=e[o],n[r.uuid]=r;return this.setState({panoMap:n,panoList:e}),[3,3];case 2:return i=a.sent(),Xt.debug(i),[3,3];case 3:return[2]}})})},e.prototype.setGuiState=function(t){var e=this;return function(n){var o;e.setState(((o={})[t]=n,o))}},e.prototype.render=function(){return Object(r.h)("div",null,Object(r.h)(Vt,{guiState:this.state}),Object(r.h)(Wt,{guiState:this.state}))},e}(r.Component),zt=n(28),Qt=n(8),Zt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$t=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},te=function(t){function e(e){var n=t.call(this,e)||this,o={},r={};return Object.keys(s).forEach(function(t){o[t]=!1,r[t]={}}),n.state={activeButton:null,enabled:o,managers:r,editing:!1},n.enableButton=n.enableButton.bind(n),n.setActiveButton=n.setActiveButton.bind(n),n}return Zt(e,t),e.prototype.componentDidMount=function(){var t=this;Object.keys(s).forEach(function(e){B[e](t.enableButton(e),t.props.sdk,t.props.engine)}),this.props.engine.market.waitForData(Qt.c).then(function(e){t.setState({editing:e.application===Qt.b.WORKSHOP})}),this.props.engine.subscribe(zt.b,function(e){t.setState({editing:e.application===Qt.b.WORKSHOP})})},e.prototype.getChildContext=function(){return{sdk:this.props.sdk}},e.prototype.setActiveButton=function(t){this.setState(function(e,n){return{activeButton:e.activeButton===t?null:t}})},e.prototype.enableButton=function(t){var e=this;return function(n,o){var r=$t({},e.state.enabled),i=$t({},e.state.managers);r[t]=n,i[t]=o,e.setState({enabled:r,managers:i})}},e.prototype.render=function(){var t=this.props.sdk;return Object(r.h)("div",{id:"ws-right-ui"},Object(r.h)(z,{sdk:t,editing:this.state.editing,activeButton:this.state.activeButton,enabledButtons:this.state.enabled,setActiveButton:this.setActiveButton,commandBinder:this.props.engine.commandBinder}),Object(r.h)("div",{id:"edit-container"},Object(r.h)(Tt,{sdk:t,type:s.VIEW_360,active:this.state.activeButton===s.VIEW_360,setActiveButton:this.setActiveButton.bind(this,s.VIEW_360),manager:this.state.managers[s.VIEW_360]})),this.state.activeButton===s.VIEW_360&&Object(r.h)(At,{manager:this.state.managers[s.VIEW_360]}),Object(r.h)("div",{id:"workshop-ui",class:F({drawerOpen:this.state.activeButton,editing:this.state.editing})},this.state.editing&&Object(r.h)(Yt,{locale:this.props.locale,analytics:this.props.analytics,settings:this.props.settings,guiDiv:document.getElementById("gui")||document.body,sdk:this.props.sdk})))},e}(r.Component);n.d(e,"initEditUi",function(){return ee});var ee=function(t,e,n,o,i,a){Object(r.render)(Object(r.h)("div",{id:"outer"},Object(r.h)(te,{sdk:a,engine:t,locale:e,analytics:n,settings:o})),i)}}}]);